function E1e(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function ds(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function rm(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var ES={exports:{}},O2={},_S={exports:{}},Zr={},eF;function _1e(){if(eF)return Zr;eF=1;/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),h=Symbol.iterator;function m(R){return R===null||typeof R!="object"?null:(R=h&&R[h]||R["@@iterator"],typeof R=="function"?R:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,E={};function A(R,I,f){this.props=R,this.context=I,this.refs=E,this.updater=f||y}A.prototype.isReactComponent={},A.prototype.setState=function(R,I){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,I,"setState")},A.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function M(){}M.prototype=A.prototype;function O(R,I,f){this.props=R,this.context=I,this.refs=E,this.updater=f||y}var P=O.prototype=new M;P.constructor=O,b(P,A.prototype),P.isPureReactComponent=!0;var z=Array.isArray,L=Object.prototype.hasOwnProperty,W={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function G(R,I,f){var S,K={},D=null,J=null;if(I!=null)for(S in I.ref!==void 0&&(J=I.ref),I.key!==void 0&&(D=""+I.key),I)L.call(I,S)&&!H.hasOwnProperty(S)&&(K[S]=I[S]);var ne=arguments.length-2;if(ne===1)K.children=f;else if(1<ne){for(var ie=Array(ne),ce=0;ce<ne;ce++)ie[ce]=arguments[ce+2];K.children=ie}if(R&&R.defaultProps)for(S in ne=R.defaultProps,ne)K[S]===void 0&&(K[S]=ne[S]);return{$$typeof:t,type:R,key:D,ref:J,props:K,_owner:W.current}}function N(R,I){return{$$typeof:t,type:R.type,key:I,ref:R.ref,props:R.props,_owner:R._owner}}function F(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function U(R){var I={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(f){return I[f]})}var j=/\/+/g;function _(R,I){return typeof R=="object"&&R!==null&&R.key!=null?U(""+R.key):I.toString(36)}function d(R,I,f,S,K){var D=typeof R;(D==="undefined"||D==="boolean")&&(R=null);var J=!1;if(R===null)J=!0;else switch(D){case"string":case"number":J=!0;break;case"object":switch(R.$$typeof){case t:case e:J=!0}}if(J)return J=R,K=K(J),R=S===""?"."+_(J,0):S,z(K)?(f="",R!=null&&(f=R.replace(j,"$&/")+"/"),d(K,I,f,"",function(ce){return ce})):K!=null&&(F(K)&&(K=N(K,f+(!K.key||J&&J.key===K.key?"":(""+K.key).replace(j,"$&/")+"/")+R)),I.push(K)),1;if(J=0,S=S===""?".":S+":",z(R))for(var ne=0;ne<R.length;ne++){D=R[ne];var ie=S+_(D,ne);J+=d(D,I,f,ie,K)}else if(ie=m(R),typeof ie=="function")for(R=ie.call(R),ne=0;!(D=R.next()).done;)D=D.value,ie=S+_(D,ne++),J+=d(D,I,f,ie,K);else if(D==="object")throw I=String(R),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return J}function g(R,I,f){if(R==null)return R;var S=[],K=0;return d(R,S,"","",function(D){return I.call(f,D,K++)}),S}function x(R){if(R._status===-1){var I=R._result;I=I(),I.then(function(f){(R._status===0||R._status===-1)&&(R._status=1,R._result=f)},function(f){(R._status===0||R._status===-1)&&(R._status=2,R._result=f)}),R._status===-1&&(R._status=0,R._result=I)}if(R._status===1)return R._result.default;throw R._result}var C={current:null},k={transition:null},T={ReactCurrentDispatcher:C,ReactCurrentBatchConfig:k,ReactCurrentOwner:W};return Zr.Children={map:g,forEach:function(R,I,f){g(R,function(){I.apply(this,arguments)},f)},count:function(R){var I=0;return g(R,function(){I++}),I},toArray:function(R){return g(R,function(I){return I})||[]},only:function(R){if(!F(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Zr.Component=A,Zr.Fragment=r,Zr.Profiler=i,Zr.PureComponent=O,Zr.StrictMode=n,Zr.Suspense=l,Zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T,Zr.cloneElement=function(R,I,f){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var S=b({},R.props),K=R.key,D=R.ref,J=R._owner;if(I!=null){if(I.ref!==void 0&&(D=I.ref,J=W.current),I.key!==void 0&&(K=""+I.key),R.type&&R.type.defaultProps)var ne=R.type.defaultProps;for(ie in I)L.call(I,ie)&&!H.hasOwnProperty(ie)&&(S[ie]=I[ie]===void 0&&ne!==void 0?ne[ie]:I[ie])}var ie=arguments.length-2;if(ie===1)S.children=f;else if(1<ie){ne=Array(ie);for(var ce=0;ce<ie;ce++)ne[ce]=arguments[ce+2];S.children=ne}return{$$typeof:t,type:R.type,key:K,ref:D,props:S,_owner:J}},Zr.createContext=function(R){return R={$$typeof:o,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:s,_context:R},R.Consumer=R},Zr.createElement=G,Zr.createFactory=function(R){var I=G.bind(null,R);return I.type=R,I},Zr.createRef=function(){return{current:null}},Zr.forwardRef=function(R){return{$$typeof:a,render:R}},Zr.isValidElement=F,Zr.lazy=function(R){return{$$typeof:c,_payload:{_status:-1,_result:R},_init:x}},Zr.memo=function(R,I){return{$$typeof:u,type:R,compare:I===void 0?null:I}},Zr.startTransition=function(R){var I=k.transition;k.transition={};try{R()}finally{k.transition=I}},Zr.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Zr.useCallback=function(R,I){return C.current.useCallback(R,I)},Zr.useContext=function(R){return C.current.useContext(R)},Zr.useDebugValue=function(){},Zr.useDeferredValue=function(R){return C.current.useDeferredValue(R)},Zr.useEffect=function(R,I){return C.current.useEffect(R,I)},Zr.useId=function(){return C.current.useId()},Zr.useImperativeHandle=function(R,I,f){return C.current.useImperativeHandle(R,I,f)},Zr.useInsertionEffect=function(R,I){return C.current.useInsertionEffect(R,I)},Zr.useLayoutEffect=function(R,I){return C.current.useLayoutEffect(R,I)},Zr.useMemo=function(R,I){return C.current.useMemo(R,I)},Zr.useReducer=function(R,I,f){return C.current.useReducer(R,I,f)},Zr.useRef=function(R){return C.current.useRef(R)},Zr.useState=function(R){return C.current.useState(R)},Zr.useSyncExternalStore=function(R,I,f){return C.current.useSyncExternalStore(R,I,f)},Zr.useTransition=function(){return C.current.useTransition()},Zr.version="18.2.0",Zr}var tF;function b5(){return tF||(tF=1,_S.exports=_1e()),_S.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rF;function A1e(){if(rF)return O2;rF=1;var t=b5(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,u){var c,h={},m=null,y=null;u!==void 0&&(m=""+u),l.key!==void 0&&(m=""+l.key),l.ref!==void 0&&(y=l.ref);for(c in l)n.call(l,c)&&!s.hasOwnProperty(c)&&(h[c]=l[c]);if(a&&a.defaultProps)for(c in l=a.defaultProps,l)h[c]===void 0&&(h[c]=l[c]);return{$$typeof:e,type:a,key:m,ref:y,props:h,_owner:i.current}}return O2.Fragment=r,O2.jsx=o,O2.jsxs=o,O2}var nF;function S1e(){return nF||(nF=1,ES.exports=A1e()),ES.exports}var w=S1e(),B=b5();const Re=ds(B),w$=E1e({__proto__:null,default:Re},[B]);var b4={},AS={exports:{}},ha={},SS={exports:{}},CS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iF;function C1e(){return iF||(iF=1,(function(t){function e(k,T){var R=k.length;k.push(T);e:for(;0<R;){var I=R-1>>>1,f=k[I];if(0<i(f,T))k[I]=T,k[R]=f,R=I;else break e}}function r(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var T=k[0],R=k.pop();if(R!==T){k[0]=R;e:for(var I=0,f=k.length,S=f>>>1;I<S;){var K=2*(I+1)-1,D=k[K],J=K+1,ne=k[J];if(0>i(D,R))J<f&&0>i(ne,D)?(k[I]=ne,k[J]=R,I=J):(k[I]=D,k[K]=R,I=K);else if(J<f&&0>i(ne,R))k[I]=ne,k[J]=R,I=J;else break e}}return T}function i(k,T){var R=k.sortIndex-T.sortIndex;return R!==0?R:k.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,m=3,y=!1,b=!1,E=!1,A=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(k){for(var T=r(u);T!==null;){if(T.callback===null)n(u);else if(T.startTime<=k)n(u),T.sortIndex=T.expirationTime,e(l,T);else break;T=r(u)}}function z(k){if(E=!1,P(k),!b)if(r(l)!==null)b=!0,x(L);else{var T=r(u);T!==null&&C(z,T.startTime-k)}}function L(k,T){b=!1,E&&(E=!1,M(G),G=-1),y=!0;var R=m;try{for(P(T),h=r(l);h!==null&&(!(h.expirationTime>T)||k&&!U());){var I=h.callback;if(typeof I=="function"){h.callback=null,m=h.priorityLevel;var f=I(h.expirationTime<=T);T=t.unstable_now(),typeof f=="function"?h.callback=f:h===r(l)&&n(l),P(T)}else n(l);h=r(l)}if(h!==null)var S=!0;else{var K=r(u);K!==null&&C(z,K.startTime-T),S=!1}return S}finally{h=null,m=R,y=!1}}var W=!1,H=null,G=-1,N=5,F=-1;function U(){return!(t.unstable_now()-F<N)}function j(){if(H!==null){var k=t.unstable_now();F=k;var T=!0;try{T=H(!0,k)}finally{T?_():(W=!1,H=null)}}else W=!1}var _;if(typeof O=="function")_=function(){O(j)};else if(typeof MessageChannel<"u"){var d=new MessageChannel,g=d.port2;d.port1.onmessage=j,_=function(){g.postMessage(null)}}else _=function(){A(j,0)};function x(k){H=k,W||(W=!0,_())}function C(k,T){G=A(function(){k(t.unstable_now())},T)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){b||y||(b=!0,x(L))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(k){switch(m){case 1:case 2:case 3:var T=3;break;default:T=m}var R=m;m=T;try{return k()}finally{m=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,T){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var R=m;m=k;try{return T()}finally{m=R}},t.unstable_scheduleCallback=function(k,T,R){var I=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?I+R:I):R=I,k){case 1:var f=-1;break;case 2:f=250;break;case 5:f=1073741823;break;case 4:f=1e4;break;default:f=5e3}return f=R+f,k={id:c++,callback:T,priorityLevel:k,startTime:R,expirationTime:f,sortIndex:-1},R>I?(k.sortIndex=R,e(u,k),r(l)===null&&k===r(u)&&(E?(M(G),G=-1):E=!0,C(z,R-I))):(k.sortIndex=f,e(l,k),b||y||(b=!0,x(L))),k},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(k){var T=m;return function(){var R=m;m=T;try{return k.apply(this,arguments)}finally{m=R}}}})(CS)),CS}var sF;function k1e(){return sF||(sF=1,SS.exports=C1e()),SS.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oF;function I1e(){if(oF)return ha;oF=1;var t=b5(),e=k1e();function r(p){for(var v="https://reactjs.org/docs/error-decoder.html?invariant="+p,$=1;$<arguments.length;$++)v+="&args[]="+encodeURIComponent(arguments[$]);return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(p,v){o(p,v),o(p+"Capture",v)}function o(p,v){for(i[p]=v,p=0;p<v.length;p++)n.add(v[p])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c={},h={};function m(p){return l.call(h,p)?!0:l.call(c,p)?!1:u.test(p)?h[p]=!0:(c[p]=!0,!1)}function y(p,v,$,q){if($!==null&&$.type===0)return!1;switch(typeof v){case"function":case"symbol":return!0;case"boolean":return q?!1:$!==null?!$.acceptsBooleans:(p=p.toLowerCase().slice(0,5),p!=="data-"&&p!=="aria-");default:return!1}}function b(p,v,$,q){if(v===null||typeof v>"u"||y(p,v,$,q))return!0;if(q)return!1;if($!==null)switch($.type){case 3:return!v;case 4:return v===!1;case 5:return isNaN(v);case 6:return isNaN(v)||1>v}return!1}function E(p,v,$,q,Q,re,ue){this.acceptsBooleans=v===2||v===3||v===4,this.attributeName=q,this.attributeNamespace=Q,this.mustUseProperty=$,this.propertyName=p,this.type=v,this.sanitizeURL=re,this.removeEmptyString=ue}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(p){A[p]=new E(p,0,!1,p,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(p){var v=p[0];A[v]=new E(v,1,!1,p[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(p){A[p]=new E(p,2,!1,p.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(p){A[p]=new E(p,2,!1,p,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(p){A[p]=new E(p,3,!1,p.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(p){A[p]=new E(p,3,!0,p,null,!1,!1)}),["capture","download"].forEach(function(p){A[p]=new E(p,4,!1,p,null,!1,!1)}),["cols","rows","size","span"].forEach(function(p){A[p]=new E(p,6,!1,p,null,!1,!1)}),["rowSpan","start"].forEach(function(p){A[p]=new E(p,5,!1,p.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function O(p){return p[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(p){var v=p.replace(M,O);A[v]=new E(v,1,!1,p,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(p){var v=p.replace(M,O);A[v]=new E(v,1,!1,p,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(p){var v=p.replace(M,O);A[v]=new E(v,1,!1,p,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(p){A[p]=new E(p,1,!1,p.toLowerCase(),null,!1,!1)}),A.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(p){A[p]=new E(p,1,!1,p.toLowerCase(),null,!0,!0)});function P(p,v,$,q){var Q=A.hasOwnProperty(v)?A[v]:null;(Q!==null?Q.type!==0:q||!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(b(v,$,Q,q)&&($=null),q||Q===null?m(v)&&($===null?p.removeAttribute(v):p.setAttribute(v,""+$)):Q.mustUseProperty?p[Q.propertyName]=$===null?Q.type===3?!1:"":$:(v=Q.attributeName,q=Q.attributeNamespace,$===null?p.removeAttribute(v):(Q=Q.type,$=Q===3||Q===4&&$===!0?"":""+$,q?p.setAttributeNS(q,v,$):p.setAttribute(v,$))))}var z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),W=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),U=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.offscreen"),k=Symbol.iterator;function T(p){return p===null||typeof p!="object"?null:(p=k&&p[k]||p["@@iterator"],typeof p=="function"?p:null)}var R=Object.assign,I;function f(p){if(I===void 0)try{throw Error()}catch($){var v=$.stack.trim().match(/\n( *(at )?)/);I=v&&v[1]||""}return`
`+I+p}var S=!1;function K(p,v){if(!p||S)return"";S=!0;var $=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(v)if(v=function(){throw Error()},Object.defineProperty(v.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(v,[])}catch(Qe){var q=Qe}Reflect.construct(p,[],v)}else{try{v.call()}catch(Qe){q=Qe}p.call(v.prototype)}else{try{throw Error()}catch(Qe){q=Qe}p()}}catch(Qe){if(Qe&&q&&typeof Qe.stack=="string"){for(var Q=Qe.stack.split(`
`),re=q.stack.split(`
`),ue=Q.length-1,we=re.length-1;1<=ue&&0<=we&&Q[ue]!==re[we];)we--;for(;1<=ue&&0<=we;ue--,we--)if(Q[ue]!==re[we]){if(ue!==1||we!==1)do if(ue--,we--,0>we||Q[ue]!==re[we]){var ke=`
`+Q[ue].replace(" at new "," at ");return p.displayName&&ke.includes("<anonymous>")&&(ke=ke.replace("<anonymous>",p.displayName)),ke}while(1<=ue&&0<=we);break}}}finally{S=!1,Error.prepareStackTrace=$}return(p=p?p.displayName||p.name:"")?f(p):""}function D(p){switch(p.tag){case 5:return f(p.type);case 16:return f("Lazy");case 13:return f("Suspense");case 19:return f("SuspenseList");case 0:case 2:case 15:return p=K(p.type,!1),p;case 11:return p=K(p.type.render,!1),p;case 1:return p=K(p.type,!0),p;default:return""}}function J(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case H:return"Fragment";case W:return"Portal";case N:return"Profiler";case G:return"StrictMode";case _:return"Suspense";case d:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case U:return(p.displayName||"Context")+".Consumer";case F:return(p._context.displayName||"Context")+".Provider";case j:var v=p.render;return p=p.displayName,p||(p=v.displayName||v.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case g:return v=p.displayName||null,v!==null?v:J(p.type)||"Memo";case x:v=p._payload,p=p._init;try{return J(p(v))}catch{}}return null}function ne(p){var v=p.type;switch(p.tag){case 24:return"Cache";case 9:return(v.displayName||"Context")+".Consumer";case 10:return(v._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=v.render,p=p.displayName||p.name||"",v.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return v;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return J(v);case 8:return v===G?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof v=="function")return v.displayName||v.name||null;if(typeof v=="string")return v}return null}function ie(p){switch(typeof p){case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function ce(p){var v=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(v==="checkbox"||v==="radio")}function Se(p){var v=ce(p)?"checked":"value",$=Object.getOwnPropertyDescriptor(p.constructor.prototype,v),q=""+p[v];if(!p.hasOwnProperty(v)&&typeof $<"u"&&typeof $.get=="function"&&typeof $.set=="function"){var Q=$.get,re=$.set;return Object.defineProperty(p,v,{configurable:!0,get:function(){return Q.call(this)},set:function(ue){q=""+ue,re.call(this,ue)}}),Object.defineProperty(p,v,{enumerable:$.enumerable}),{getValue:function(){return q},setValue:function(ue){q=""+ue},stopTracking:function(){p._valueTracker=null,delete p[v]}}}}function ye(p){p._valueTracker||(p._valueTracker=Se(p))}function Ae(p){if(!p)return!1;var v=p._valueTracker;if(!v)return!0;var $=v.getValue(),q="";return p&&(q=ce(p)?p.checked?"true":"false":p.value),p=q,p!==$?(v.setValue(p),!0):!1}function tt(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}function Ce(p,v){var $=v.checked;return R({},v,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:$??p._wrapperState.initialChecked})}function je(p,v){var $=v.defaultValue==null?"":v.defaultValue,q=v.checked!=null?v.checked:v.defaultChecked;$=ie(v.value!=null?v.value:$),p._wrapperState={initialChecked:q,initialValue:$,controlled:v.type==="checkbox"||v.type==="radio"?v.checked!=null:v.value!=null}}function mt(p,v){v=v.checked,v!=null&&P(p,"checked",v,!1)}function pe(p,v){mt(p,v);var $=ie(v.value),q=v.type;if($!=null)q==="number"?($===0&&p.value===""||p.value!=$)&&(p.value=""+$):p.value!==""+$&&(p.value=""+$);else if(q==="submit"||q==="reset"){p.removeAttribute("value");return}v.hasOwnProperty("value")?Mt(p,v.type,$):v.hasOwnProperty("defaultValue")&&Mt(p,v.type,ie(v.defaultValue)),v.checked==null&&v.defaultChecked!=null&&(p.defaultChecked=!!v.defaultChecked)}function Le(p,v,$){if(v.hasOwnProperty("value")||v.hasOwnProperty("defaultValue")){var q=v.type;if(!(q!=="submit"&&q!=="reset"||v.value!==void 0&&v.value!==null))return;v=""+p._wrapperState.initialValue,$||v===p.value||(p.value=v),p.defaultValue=v}$=p.name,$!==""&&(p.name=""),p.defaultChecked=!!p._wrapperState.initialChecked,$!==""&&(p.name=$)}function Mt(p,v,$){(v!=="number"||tt(p.ownerDocument)!==p)&&($==null?p.defaultValue=""+p._wrapperState.initialValue:p.defaultValue!==""+$&&(p.defaultValue=""+$))}var Ie=Array.isArray;function Me(p,v,$,q){if(p=p.options,v){v={};for(var Q=0;Q<$.length;Q++)v["$"+$[Q]]=!0;for($=0;$<p.length;$++)Q=v.hasOwnProperty("$"+p[$].value),p[$].selected!==Q&&(p[$].selected=Q),Q&&q&&(p[$].defaultSelected=!0)}else{for($=""+ie($),v=null,Q=0;Q<p.length;Q++){if(p[Q].value===$){p[Q].selected=!0,q&&(p[Q].defaultSelected=!0);return}v!==null||p[Q].disabled||(v=p[Q])}v!==null&&(v.selected=!0)}}function ht(p,v){if(v.dangerouslySetInnerHTML!=null)throw Error(r(91));return R({},v,{value:void 0,defaultValue:void 0,children:""+p._wrapperState.initialValue})}function Je(p,v){var $=v.value;if($==null){if($=v.children,v=v.defaultValue,$!=null){if(v!=null)throw Error(r(92));if(Ie($)){if(1<$.length)throw Error(r(93));$=$[0]}v=$}v==null&&(v=""),$=v}p._wrapperState={initialValue:ie($)}}function De(p,v){var $=ie(v.value),q=ie(v.defaultValue);$!=null&&($=""+$,$!==p.value&&(p.value=$),v.defaultValue==null&&p.defaultValue!==$&&(p.defaultValue=$)),q!=null&&(p.defaultValue=""+q)}function At(p){var v=p.textContent;v===p._wrapperState.initialValue&&v!==""&&v!==null&&(p.value=v)}function it(p){switch(p){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function et(p,v){return p==null||p==="http://www.w3.org/1999/xhtml"?it(v):p==="http://www.w3.org/2000/svg"&&v==="foreignObject"?"http://www.w3.org/1999/xhtml":p}var St,Xe=(function(p){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(v,$,q,Q){MSApp.execUnsafeLocalFunction(function(){return p(v,$,q,Q)})}:p})(function(p,v){if(p.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in p)p.innerHTML=v;else{for(St=St||document.createElement("div"),St.innerHTML="<svg>"+v.valueOf().toString()+"</svg>",v=St.firstChild;p.firstChild;)p.removeChild(p.firstChild);for(;v.firstChild;)p.appendChild(v.firstChild)}});function se(p,v){if(v){var $=p.firstChild;if($&&$===p.lastChild&&$.nodeType===3){$.nodeValue=v;return}}p.textContent=v}var X={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ee=["Webkit","ms","Moz","O"];Object.keys(X).forEach(function(p){ee.forEach(function(v){v=v+p.charAt(0).toUpperCase()+p.substring(1),X[v]=X[p]})});function oe(p,v,$){return v==null||typeof v=="boolean"||v===""?"":$||typeof v!="number"||v===0||X.hasOwnProperty(p)&&X[p]?(""+v).trim():v+"px"}function ge(p,v){p=p.style;for(var $ in v)if(v.hasOwnProperty($)){var q=$.indexOf("--")===0,Q=oe($,v[$],q);$==="float"&&($="cssFloat"),q?p.setProperty($,Q):p[$]=Q}}var fe=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(p,v){if(v){if(fe[p]&&(v.children!=null||v.dangerouslySetInnerHTML!=null))throw Error(r(137,p));if(v.dangerouslySetInnerHTML!=null){if(v.children!=null)throw Error(r(60));if(typeof v.dangerouslySetInnerHTML!="object"||!("__html"in v.dangerouslySetInnerHTML))throw Error(r(61))}if(v.style!=null&&typeof v.style!="object")throw Error(r(62))}}function ut(p,v){if(p.indexOf("-")===-1)return typeof v.is=="string";switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pe=null;function Ye(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var Ut=null,Oe=null,nt=null;function hr(p){if(p=b2(p)){if(typeof Ut!="function")throw Error(r(280));var v=p.stateNode;v&&(v=O6(v),Ut(p.stateNode,p.type,v))}}function Fe(p){Oe?nt?nt.push(p):nt=[p]:Oe=p}function ct(){if(Oe){var p=Oe,v=nt;if(nt=Oe=null,hr(p),v)for(p=0;p<v.length;p++)hr(v[p])}}function Nr(p,v){return p(v)}function dt(){}var Y=!1;function V(p,v,$){if(Y)return p(v,$);Y=!0;try{return Nr(p,v,$)}finally{Y=!1,(Oe!==null||nt!==null)&&(dt(),ct())}}function Z(p,v){var $=p.stateNode;if($===null)return null;var q=O6($);if(q===null)return null;$=q[v];e:switch(v){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(q=!q.disabled)||(p=p.type,q=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!q;break e;default:p=!1}if(p)return null;if($&&typeof $!="function")throw Error(r(231,v,typeof $));return $}var te=!1;if(a)try{var ae={};Object.defineProperty(ae,"passive",{get:function(){te=!0}}),window.addEventListener("test",ae,ae),window.removeEventListener("test",ae,ae)}catch{te=!1}function le(p,v,$,q,Q,re,ue,we,ke){var Qe=Array.prototype.slice.call(arguments,3);try{v.apply($,Qe)}catch(vt){this.onError(vt)}}var de=!1,Ze=null,Be=!1,He=null,qt={onError:function(p){de=!0,Ze=p}};function Ge(p,v,$,q,Q,re,ue,we,ke){de=!1,Ze=null,le.apply(qt,arguments)}function ot(p,v,$,q,Q,re,ue,we,ke){if(Ge.apply(this,arguments),de){if(de){var Qe=Ze;de=!1,Ze=null}else throw Error(r(198));Be||(Be=!0,He=Qe)}}function Nt(p){var v=p,$=p;if(p.alternate)for(;v.return;)v=v.return;else{p=v;do v=p,(v.flags&4098)!==0&&($=v.return),p=v.return;while(p)}return v.tag===3?$:null}function lt(p){if(p.tag===13){var v=p.memoizedState;if(v===null&&(p=p.alternate,p!==null&&(v=p.memoizedState)),v!==null)return v.dehydrated}return null}function at(p){if(Nt(p)!==p)throw Error(r(188))}function Ir(p){var v=p.alternate;if(!v){if(v=Nt(p),v===null)throw Error(r(188));return v!==p?null:p}for(var $=p,q=v;;){var Q=$.return;if(Q===null)break;var re=Q.alternate;if(re===null){if(q=Q.return,q!==null){$=q;continue}break}if(Q.child===re.child){for(re=Q.child;re;){if(re===$)return at(Q),p;if(re===q)return at(Q),v;re=re.sibling}throw Error(r(188))}if($.return!==q.return)$=Q,q=re;else{for(var ue=!1,we=Q.child;we;){if(we===$){ue=!0,$=Q,q=re;break}if(we===q){ue=!0,q=Q,$=re;break}we=we.sibling}if(!ue){for(we=re.child;we;){if(we===$){ue=!0,$=re,q=Q;break}if(we===q){ue=!0,q=re,$=Q;break}we=we.sibling}if(!ue)throw Error(r(189))}}if($.alternate!==q)throw Error(r(190))}if($.tag!==3)throw Error(r(188));return $.stateNode.current===$?p:v}function $r(p){return p=Ir(p),p!==null?_r(p):null}function _r(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var v=_r(p);if(v!==null)return v;p=p.sibling}return null}var Sr=e.unstable_scheduleCallback,jr=e.unstable_cancelCallback,an=e.unstable_shouldYield,Xn=e.unstable_requestPaint,Lt=e.unstable_now,qr=e.unstable_getCurrentPriorityLevel,fr=e.unstable_ImmediatePriority,Cn=e.unstable_UserBlockingPriority,pn=e.unstable_NormalPriority,gi=e.unstable_LowPriority,ui=e.unstable_IdlePriority,Gn=null,gn=null;function Ti(p){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(Gn,p,void 0,(p.current.flags&128)===128)}catch{}}var kn=Math.clz32?Math.clz32:up,Ei=Math.log,s2=Math.LN2;function up(p){return p>>>=0,p===0?32:31-(Ei(p)/s2|0)|0}var sf=64,of=4194304;function Ht(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function pt(p,v){var $=p.pendingLanes;if($===0)return 0;var q=0,Q=p.suspendedLanes,re=p.pingedLanes,ue=$&268435455;if(ue!==0){var we=ue&~Q;we!==0?q=Ht(we):(re&=ue,re!==0&&(q=Ht(re)))}else ue=$&~Q,ue!==0?q=Ht(ue):re!==0&&(q=Ht(re));if(q===0)return 0;if(v!==0&&v!==q&&(v&Q)===0&&(Q=q&-q,re=v&-v,Q>=re||Q===16&&(re&4194240)!==0))return v;if((q&4)!==0&&(q|=$&16),v=p.entangledLanes,v!==0)for(p=p.entanglements,v&=q;0<v;)$=31-kn(v),Q=1<<$,q|=p[$],v&=~Q;return q}function Ne(p,v){switch(p){case 1:case 2:case 4:return v+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $e(p,v){for(var $=p.suspendedLanes,q=p.pingedLanes,Q=p.expirationTimes,re=p.pendingLanes;0<re;){var ue=31-kn(re),we=1<<ue,ke=Q[ue];ke===-1?((we&$)===0||(we&q)!==0)&&(Q[ue]=Ne(we,v)):ke<=v&&(p.expiredLanes|=we),re&=~we}}function gt(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function Dt(){var p=sf;return sf<<=1,(sf&4194240)===0&&(sf=64),p}function Rt(p){for(var v=[],$=0;31>$;$++)v.push(p);return v}function tr(p,v,$){p.pendingLanes|=v,v!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,v=31-kn(v),p[v]=$}function Tr(p,v){var $=p.pendingLanes&~v;p.pendingLanes=v,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=v,p.mutableReadLanes&=v,p.entangledLanes&=v,v=p.entanglements;var q=p.eventTimes;for(p=p.expirationTimes;0<$;){var Q=31-kn($),re=1<<Q;v[Q]=0,q[Q]=-1,p[Q]=-1,$&=~re}}function Lr(p,v){var $=p.entangledLanes|=v;for(p=p.entanglements;$;){var q=31-kn($),Q=1<<q;Q&v|p[q]&v&&(p[q]|=v),$&=~Q}}var Ar=0;function $u(p){return p&=-p,1<p?4<p?(p&268435455)!==0?16:536870912:4:1}var Om,dp,w6,v6,b6,o2=!1,jm=[],Mu=null,Pu=null,Nu=null,hp=new Map,fp=new Map,Ru=[],ZA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function x6(p,v){switch(p){case"focusin":case"focusout":Mu=null;break;case"dragenter":case"dragleave":Pu=null;break;case"mouseover":case"mouseout":Nu=null;break;case"pointerover":case"pointerout":hp.delete(v.pointerId);break;case"gotpointercapture":case"lostpointercapture":fp.delete(v.pointerId)}}function pp(p,v,$,q,Q,re){return p===null||p.nativeEvent!==re?(p={blockedOn:v,domEventName:$,eventSystemFlags:q,nativeEvent:re,targetContainers:[Q]},v!==null&&(v=b2(v),v!==null&&dp(v)),p):(p.eventSystemFlags|=q,v=p.targetContainers,Q!==null&&v.indexOf(Q)===-1&&v.push(Q),p)}function E6(p,v,$,q,Q){switch(v){case"focusin":return Mu=pp(Mu,p,v,$,q,Q),!0;case"dragenter":return Pu=pp(Pu,p,v,$,q,Q),!0;case"mouseover":return Nu=pp(Nu,p,v,$,q,Q),!0;case"pointerover":var re=Q.pointerId;return hp.set(re,pp(hp.get(re)||null,p,v,$,q,Q)),!0;case"gotpointercapture":return re=Q.pointerId,fp.set(re,pp(fp.get(re)||null,p,v,$,q,Q)),!0}return!1}function _6(p){var v=gp(p.target);if(v!==null){var $=Nt(v);if($!==null){if(v=$.tag,v===13){if(v=lt($),v!==null){p.blockedOn=v,b6(p.priority,function(){w6($)});return}}else if(v===3&&$.stateNode.current.memoizedState.isDehydrated){p.blockedOn=$.tag===3?$.stateNode.containerInfo:null;return}}}p.blockedOn=null}function Ue(p){if(p.blockedOn!==null)return!1;for(var v=p.targetContainers;0<v.length;){var $=Bm(p.domEventName,p.eventSystemFlags,v[0],p.nativeEvent);if($===null){$=p.nativeEvent;var q=new $.constructor($.type,$);Pe=q,$.target.dispatchEvent(q),Pe=null}else return v=b2($),v!==null&&dp(v),p.blockedOn=$,!1;v.shift()}return!0}function me(p,v,$){Ue(p)&&$.delete(v)}function _e(){o2=!1,Mu!==null&&Ue(Mu)&&(Mu=null),Pu!==null&&Ue(Pu)&&(Pu=null),Nu!==null&&Ue(Nu)&&(Nu=null),hp.forEach(me),fp.forEach(me)}function rt(p,v){p.blockedOn===v&&(p.blockedOn=null,o2||(o2=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,_e)))}function yt(p){function v(Q){return rt(Q,p)}if(0<jm.length){rt(jm[0],p);for(var $=1;$<jm.length;$++){var q=jm[$];q.blockedOn===p&&(q.blockedOn=null)}}for(Mu!==null&&rt(Mu,p),Pu!==null&&rt(Pu,p),Nu!==null&&rt(Nu,p),hp.forEach(v),fp.forEach(v),$=0;$<Ru.length;$++)q=Ru[$],q.blockedOn===p&&(q.blockedOn=null);for(;0<Ru.length&&($=Ru[0],$.blockedOn===null);)_6($),$.blockedOn===null&&Ru.shift()}var Mr=z.ReactCurrentBatchConfig,ei=!0;function to(p,v,$,q){var Q=Ar,re=Mr.transition;Mr.transition=null;try{Ar=1,a2(p,v,$,q)}finally{Ar=Q,Mr.transition=re}}function Lm(p,v,$,q){var Q=Ar,re=Mr.transition;Mr.transition=null;try{Ar=4,a2(p,v,$,q)}finally{Ar=Q,Mr.transition=re}}function a2(p,v,$,q){if(ei){var Q=Bm(p,v,$,q);if(Q===null)h7(p,v,q,Dm,$),x6(p,q);else if(E6(Q,p,v,$,q))q.stopPropagation();else if(x6(p,q),v&4&&-1<ZA.indexOf(p)){for(;Q!==null;){var re=b2(Q);if(re!==null&&Om(re),re=Bm(p,v,$,q),re===null&&h7(p,v,q,Dm,$),re===Q)break;Q=re}Q!==null&&q.stopPropagation()}else h7(p,v,q,null,$)}}var Dm=null;function Bm(p,v,$,q){if(Dm=null,p=Ye(q),p=gp(p),p!==null)if(v=Nt(p),v===null)p=null;else if($=v.tag,$===13){if(p=lt(v),p!==null)return p;p=null}else if($===3){if(v.stateNode.current.memoizedState.isDehydrated)return v.tag===3?v.stateNode.containerInfo:null;p=null}else v!==p&&(p=null);return Dm=p,null}function l2(p){switch(p){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qr()){case fr:return 1;case Cn:return 4;case pn:case gi:return 16;case ui:return 536870912;default:return 16}default:return 16}}var Ac=null,Um=null,A6=null;function UD(){if(A6)return A6;var p,v=Um,$=v.length,q,Q="value"in Ac?Ac.value:Ac.textContent,re=Q.length;for(p=0;p<$&&v[p]===Q[p];p++);var ue=$-p;for(q=1;q<=ue&&v[$-q]===Q[re-q];q++);return A6=Q.slice(p,1<q?1-q:void 0)}function S6(p){var v=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&v===13&&(p=13)):p=v,p===10&&(p=13),32<=p||p===13?p:0}function C6(){return!0}function FD(){return!1}function Za(p){function v($,q,Q,re,ue){this._reactName=$,this._targetInst=Q,this.type=q,this.nativeEvent=re,this.target=ue,this.currentTarget=null;for(var we in p)p.hasOwnProperty(we)&&($=p[we],this[we]=$?$(re):re[we]);return this.isDefaultPrevented=(re.defaultPrevented!=null?re.defaultPrevented:re.returnValue===!1)?C6:FD,this.isPropagationStopped=FD,this}return R(v.prototype,{preventDefault:function(){this.defaultPrevented=!0;var $=this.nativeEvent;$&&($.preventDefault?$.preventDefault():typeof $.returnValue!="unknown"&&($.returnValue=!1),this.isDefaultPrevented=C6)},stopPropagation:function(){var $=this.nativeEvent;$&&($.stopPropagation?$.stopPropagation():typeof $.cancelBubble!="unknown"&&($.cancelBubble=!0),this.isPropagationStopped=C6)},persist:function(){},isPersistent:C6}),v}var Fm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},QA=Za(Fm),c2=R({},Fm,{view:0,detail:0}),Yge=Za(c2),JA,XA,u2,k6=R({},c2,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:t7,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==u2&&(u2&&p.type==="mousemove"?(JA=p.screenX-u2.screenX,XA=p.screenY-u2.screenY):XA=JA=0,u2=p),JA)},movementY:function(p){return"movementY"in p?p.movementY:XA}}),zD=Za(k6),Zge=R({},k6,{dataTransfer:0}),Qge=Za(Zge),Jge=R({},c2,{relatedTarget:0}),e7=Za(Jge),Xge=R({},Fm,{animationName:0,elapsedTime:0,pseudoElement:0}),eme=Za(Xge),tme=R({},Fm,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),rme=Za(tme),nme=R({},Fm,{data:0}),WD=Za(nme),ime={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sme={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ome={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ame(p){var v=this.nativeEvent;return v.getModifierState?v.getModifierState(p):(p=ome[p])?!!v[p]:!1}function t7(){return ame}var lme=R({},c2,{key:function(p){if(p.key){var v=ime[p.key]||p.key;if(v!=="Unidentified")return v}return p.type==="keypress"?(p=S6(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?sme[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:t7,charCode:function(p){return p.type==="keypress"?S6(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?S6(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),cme=Za(lme),ume=R({},k6,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qD=Za(ume),dme=R({},c2,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:t7}),hme=Za(dme),fme=R({},Fm,{propertyName:0,elapsedTime:0,pseudoElement:0}),pme=Za(fme),gme=R({},k6,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),mme=Za(gme),yme=[9,13,27,32],r7=a&&"CompositionEvent"in window,d2=null;a&&"documentMode"in document&&(d2=document.documentMode);var wme=a&&"TextEvent"in window&&!d2,HD=a&&(!r7||d2&&8<d2&&11>=d2),VD=" ",KD=!1;function GD(p,v){switch(p){case"keyup":return yme.indexOf(v.keyCode)!==-1;case"keydown":return v.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YD(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var zm=!1;function vme(p,v){switch(p){case"compositionend":return YD(v);case"keypress":return v.which!==32?null:(KD=!0,VD);case"textInput":return p=v.data,p===VD&&KD?null:p;default:return null}}function bme(p,v){if(zm)return p==="compositionend"||!r7&&GD(p,v)?(p=UD(),A6=Um=Ac=null,zm=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(v.ctrlKey||v.altKey||v.metaKey)||v.ctrlKey&&v.altKey){if(v.char&&1<v.char.length)return v.char;if(v.which)return String.fromCharCode(v.which)}return null;case"compositionend":return HD&&v.locale!=="ko"?null:v.data;default:return null}}var xme={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ZD(p){var v=p&&p.nodeName&&p.nodeName.toLowerCase();return v==="input"?!!xme[p.type]:v==="textarea"}function QD(p,v,$,q){Fe(q),v=P6(v,"onChange"),0<v.length&&($=new QA("onChange","change",null,$,q),p.push({event:$,listeners:v}))}var h2=null,f2=null;function Eme(p){gB(p,0)}function I6(p){var v=Km(p);if(Ae(v))return p}function _me(p,v){if(p==="change")return v}var JD=!1;if(a){var n7;if(a){var i7="oninput"in document;if(!i7){var XD=document.createElement("div");XD.setAttribute("oninput","return;"),i7=typeof XD.oninput=="function"}n7=i7}else n7=!1;JD=n7&&(!document.documentMode||9<document.documentMode)}function eB(){h2&&(h2.detachEvent("onpropertychange",tB),f2=h2=null)}function tB(p){if(p.propertyName==="value"&&I6(f2)){var v=[];QD(v,f2,p,Ye(p)),V(Eme,v)}}function Ame(p,v,$){p==="focusin"?(eB(),h2=v,f2=$,h2.attachEvent("onpropertychange",tB)):p==="focusout"&&eB()}function Sme(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return I6(f2)}function Cme(p,v){if(p==="click")return I6(v)}function kme(p,v){if(p==="input"||p==="change")return I6(v)}function Ime(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var Sc=typeof Object.is=="function"?Object.is:Ime;function p2(p,v){if(Sc(p,v))return!0;if(typeof p!="object"||p===null||typeof v!="object"||v===null)return!1;var $=Object.keys(p),q=Object.keys(v);if($.length!==q.length)return!1;for(q=0;q<$.length;q++){var Q=$[q];if(!l.call(v,Q)||!Sc(p[Q],v[Q]))return!1}return!0}function rB(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function nB(p,v){var $=rB(p);p=0;for(var q;$;){if($.nodeType===3){if(q=p+$.textContent.length,p<=v&&q>=v)return{node:$,offset:v-p};p=q}e:{for(;$;){if($.nextSibling){$=$.nextSibling;break e}$=$.parentNode}$=void 0}$=rB($)}}function iB(p,v){return p&&v?p===v?!0:p&&p.nodeType===3?!1:v&&v.nodeType===3?iB(p,v.parentNode):"contains"in p?p.contains(v):p.compareDocumentPosition?!!(p.compareDocumentPosition(v)&16):!1:!1}function sB(){for(var p=window,v=tt();v instanceof p.HTMLIFrameElement;){try{var $=typeof v.contentWindow.location.href=="string"}catch{$=!1}if($)p=v.contentWindow;else break;v=tt(p.document)}return v}function s7(p){var v=p&&p.nodeName&&p.nodeName.toLowerCase();return v&&(v==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||v==="textarea"||p.contentEditable==="true")}function Tme(p){var v=sB(),$=p.focusedElem,q=p.selectionRange;if(v!==$&&$&&$.ownerDocument&&iB($.ownerDocument.documentElement,$)){if(q!==null&&s7($)){if(v=q.start,p=q.end,p===void 0&&(p=v),"selectionStart"in $)$.selectionStart=v,$.selectionEnd=Math.min(p,$.value.length);else if(p=(v=$.ownerDocument||document)&&v.defaultView||window,p.getSelection){p=p.getSelection();var Q=$.textContent.length,re=Math.min(q.start,Q);q=q.end===void 0?re:Math.min(q.end,Q),!p.extend&&re>q&&(Q=q,q=re,re=Q),Q=nB($,re);var ue=nB($,q);Q&&ue&&(p.rangeCount!==1||p.anchorNode!==Q.node||p.anchorOffset!==Q.offset||p.focusNode!==ue.node||p.focusOffset!==ue.offset)&&(v=v.createRange(),v.setStart(Q.node,Q.offset),p.removeAllRanges(),re>q?(p.addRange(v),p.extend(ue.node,ue.offset)):(v.setEnd(ue.node,ue.offset),p.addRange(v)))}}for(v=[],p=$;p=p.parentNode;)p.nodeType===1&&v.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<v.length;$++)p=v[$],p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}var $me=a&&"documentMode"in document&&11>=document.documentMode,Wm=null,o7=null,g2=null,a7=!1;function oB(p,v,$){var q=$.window===$?$.document:$.nodeType===9?$:$.ownerDocument;a7||Wm==null||Wm!==tt(q)||(q=Wm,"selectionStart"in q&&s7(q)?q={start:q.selectionStart,end:q.selectionEnd}:(q=(q.ownerDocument&&q.ownerDocument.defaultView||window).getSelection(),q={anchorNode:q.anchorNode,anchorOffset:q.anchorOffset,focusNode:q.focusNode,focusOffset:q.focusOffset}),g2&&p2(g2,q)||(g2=q,q=P6(o7,"onSelect"),0<q.length&&(v=new QA("onSelect","select",null,v,$),p.push({event:v,listeners:q}),v.target=Wm)))}function T6(p,v){var $={};return $[p.toLowerCase()]=v.toLowerCase(),$["Webkit"+p]="webkit"+v,$["Moz"+p]="moz"+v,$}var qm={animationend:T6("Animation","AnimationEnd"),animationiteration:T6("Animation","AnimationIteration"),animationstart:T6("Animation","AnimationStart"),transitionend:T6("Transition","TransitionEnd")},l7={},aB={};a&&(aB=document.createElement("div").style,"AnimationEvent"in window||(delete qm.animationend.animation,delete qm.animationiteration.animation,delete qm.animationstart.animation),"TransitionEvent"in window||delete qm.transitionend.transition);function $6(p){if(l7[p])return l7[p];if(!qm[p])return p;var v=qm[p],$;for($ in v)if(v.hasOwnProperty($)&&$ in aB)return l7[p]=v[$];return p}var lB=$6("animationend"),cB=$6("animationiteration"),uB=$6("animationstart"),dB=$6("transitionend"),hB=new Map,fB="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function af(p,v){hB.set(p,v),s(v,[p])}for(var c7=0;c7<fB.length;c7++){var u7=fB[c7],Mme=u7.toLowerCase(),Pme=u7[0].toUpperCase()+u7.slice(1);af(Mme,"on"+Pme)}af(lB,"onAnimationEnd"),af(cB,"onAnimationIteration"),af(uB,"onAnimationStart"),af("dblclick","onDoubleClick"),af("focusin","onFocus"),af("focusout","onBlur"),af(dB,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var m2="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nme=new Set("cancel close invalid load scroll toggle".split(" ").concat(m2));function pB(p,v,$){var q=p.type||"unknown-event";p.currentTarget=$,ot(q,v,void 0,p),p.currentTarget=null}function gB(p,v){v=(v&4)!==0;for(var $=0;$<p.length;$++){var q=p[$],Q=q.event;q=q.listeners;e:{var re=void 0;if(v)for(var ue=q.length-1;0<=ue;ue--){var we=q[ue],ke=we.instance,Qe=we.currentTarget;if(we=we.listener,ke!==re&&Q.isPropagationStopped())break e;pB(Q,we,Qe),re=ke}else for(ue=0;ue<q.length;ue++){if(we=q[ue],ke=we.instance,Qe=we.currentTarget,we=we.listener,ke!==re&&Q.isPropagationStopped())break e;pB(Q,we,Qe),re=ke}}}if(Be)throw p=He,Be=!1,He=null,p}function ti(p,v){var $=v[w7];$===void 0&&($=v[w7]=new Set);var q=p+"__bubble";$.has(q)||(mB(v,p,2,!1),$.add(q))}function d7(p,v,$){var q=0;v&&(q|=4),mB($,p,q,v)}var M6="_reactListening"+Math.random().toString(36).slice(2);function y2(p){if(!p[M6]){p[M6]=!0,n.forEach(function($){$!=="selectionchange"&&(Nme.has($)||d7($,!1,p),d7($,!0,p))});var v=p.nodeType===9?p:p.ownerDocument;v===null||v[M6]||(v[M6]=!0,d7("selectionchange",!1,v))}}function mB(p,v,$,q){switch(l2(v)){case 1:var Q=to;break;case 4:Q=Lm;break;default:Q=a2}$=Q.bind(null,v,$,p),Q=void 0,!te||v!=="touchstart"&&v!=="touchmove"&&v!=="wheel"||(Q=!0),q?Q!==void 0?p.addEventListener(v,$,{capture:!0,passive:Q}):p.addEventListener(v,$,!0):Q!==void 0?p.addEventListener(v,$,{passive:Q}):p.addEventListener(v,$,!1)}function h7(p,v,$,q,Q){var re=q;if((v&1)===0&&(v&2)===0&&q!==null)e:for(;;){if(q===null)return;var ue=q.tag;if(ue===3||ue===4){var we=q.stateNode.containerInfo;if(we===Q||we.nodeType===8&&we.parentNode===Q)break;if(ue===4)for(ue=q.return;ue!==null;){var ke=ue.tag;if((ke===3||ke===4)&&(ke=ue.stateNode.containerInfo,ke===Q||ke.nodeType===8&&ke.parentNode===Q))return;ue=ue.return}for(;we!==null;){if(ue=gp(we),ue===null)return;if(ke=ue.tag,ke===5||ke===6){q=re=ue;continue e}we=we.parentNode}}q=q.return}V(function(){var Qe=re,vt=Ye($),_t=[];e:{var wt=hB.get(p);if(wt!==void 0){var Qt=QA,nr=p;switch(p){case"keypress":if(S6($)===0)break e;case"keydown":case"keyup":Qt=cme;break;case"focusin":nr="focus",Qt=e7;break;case"focusout":nr="blur",Qt=e7;break;case"beforeblur":case"afterblur":Qt=e7;break;case"click":if($.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Qt=zD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Qt=Qge;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Qt=hme;break;case lB:case cB:case uB:Qt=eme;break;case dB:Qt=pme;break;case"scroll":Qt=Yge;break;case"wheel":Qt=mme;break;case"copy":case"cut":case"paste":Qt=rme;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Qt=qD}var sr=(v&4)!==0,$i=!sr&&p==="scroll",ze=sr?wt!==null?wt+"Capture":null:wt;sr=[];for(var Te=Qe,qe;Te!==null;){qe=Te;var Ct=qe.stateNode;if(qe.tag===5&&Ct!==null&&(qe=Ct,ze!==null&&(Ct=Z(Te,ze),Ct!=null&&sr.push(w2(Te,Ct,qe)))),$i)break;Te=Te.return}0<sr.length&&(wt=new Qt(wt,nr,null,$,vt),_t.push({event:wt,listeners:sr}))}}if((v&7)===0){e:{if(wt=p==="mouseover"||p==="pointerover",Qt=p==="mouseout"||p==="pointerout",wt&&$!==Pe&&(nr=$.relatedTarget||$.fromElement)&&(gp(nr)||nr[Bd]))break e;if((Qt||wt)&&(wt=vt.window===vt?vt:(wt=vt.ownerDocument)?wt.defaultView||wt.parentWindow:window,Qt?(nr=$.relatedTarget||$.toElement,Qt=Qe,nr=nr?gp(nr):null,nr!==null&&($i=Nt(nr),nr!==$i||nr.tag!==5&&nr.tag!==6)&&(nr=null)):(Qt=null,nr=Qe),Qt!==nr)){if(sr=zD,Ct="onMouseLeave",ze="onMouseEnter",Te="mouse",(p==="pointerout"||p==="pointerover")&&(sr=qD,Ct="onPointerLeave",ze="onPointerEnter",Te="pointer"),$i=Qt==null?wt:Km(Qt),qe=nr==null?wt:Km(nr),wt=new sr(Ct,Te+"leave",Qt,$,vt),wt.target=$i,wt.relatedTarget=qe,Ct=null,gp(vt)===Qe&&(sr=new sr(ze,Te+"enter",nr,$,vt),sr.target=qe,sr.relatedTarget=$i,Ct=sr),$i=Ct,Qt&&nr)t:{for(sr=Qt,ze=nr,Te=0,qe=sr;qe;qe=Hm(qe))Te++;for(qe=0,Ct=ze;Ct;Ct=Hm(Ct))qe++;for(;0<Te-qe;)sr=Hm(sr),Te--;for(;0<qe-Te;)ze=Hm(ze),qe--;for(;Te--;){if(sr===ze||ze!==null&&sr===ze.alternate)break t;sr=Hm(sr),ze=Hm(ze)}sr=null}else sr=null;Qt!==null&&yB(_t,wt,Qt,sr,!1),nr!==null&&$i!==null&&yB(_t,$i,nr,sr,!0)}}e:{if(wt=Qe?Km(Qe):window,Qt=wt.nodeName&&wt.nodeName.toLowerCase(),Qt==="select"||Qt==="input"&&wt.type==="file")var ar=_me;else if(ZD(wt))if(JD)ar=kme;else{ar=Sme;var mr=Ame}else(Qt=wt.nodeName)&&Qt.toLowerCase()==="input"&&(wt.type==="checkbox"||wt.type==="radio")&&(ar=Cme);if(ar&&(ar=ar(p,Qe))){QD(_t,ar,$,vt);break e}mr&&mr(p,wt,Qe),p==="focusout"&&(mr=wt._wrapperState)&&mr.controlled&&wt.type==="number"&&Mt(wt,"number",wt.value)}switch(mr=Qe?Km(Qe):window,p){case"focusin":(ZD(mr)||mr.contentEditable==="true")&&(Wm=mr,o7=Qe,g2=null);break;case"focusout":g2=o7=Wm=null;break;case"mousedown":a7=!0;break;case"contextmenu":case"mouseup":case"dragend":a7=!1,oB(_t,$,vt);break;case"selectionchange":if($me)break;case"keydown":case"keyup":oB(_t,$,vt)}var yr;if(r7)e:{switch(p){case"compositionstart":var Cr="onCompositionStart";break e;case"compositionend":Cr="onCompositionEnd";break e;case"compositionupdate":Cr="onCompositionUpdate";break e}Cr=void 0}else zm?GD(p,$)&&(Cr="onCompositionEnd"):p==="keydown"&&$.keyCode===229&&(Cr="onCompositionStart");Cr&&(HD&&$.locale!=="ko"&&(zm||Cr!=="onCompositionStart"?Cr==="onCompositionEnd"&&zm&&(yr=UD()):(Ac=vt,Um="value"in Ac?Ac.value:Ac.textContent,zm=!0)),mr=P6(Qe,Cr),0<mr.length&&(Cr=new WD(Cr,p,null,$,vt),_t.push({event:Cr,listeners:mr}),yr?Cr.data=yr:(yr=YD($),yr!==null&&(Cr.data=yr)))),(yr=wme?vme(p,$):bme(p,$))&&(Qe=P6(Qe,"onBeforeInput"),0<Qe.length&&(vt=new WD("onBeforeInput","beforeinput",null,$,vt),_t.push({event:vt,listeners:Qe}),vt.data=yr))}gB(_t,v)})}function w2(p,v,$){return{instance:p,listener:v,currentTarget:$}}function P6(p,v){for(var $=v+"Capture",q=[];p!==null;){var Q=p,re=Q.stateNode;Q.tag===5&&re!==null&&(Q=re,re=Z(p,$),re!=null&&q.unshift(w2(p,re,Q)),re=Z(p,v),re!=null&&q.push(w2(p,re,Q))),p=p.return}return q}function Hm(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5);return p||null}function yB(p,v,$,q,Q){for(var re=v._reactName,ue=[];$!==null&&$!==q;){var we=$,ke=we.alternate,Qe=we.stateNode;if(ke!==null&&ke===q)break;we.tag===5&&Qe!==null&&(we=Qe,Q?(ke=Z($,re),ke!=null&&ue.unshift(w2($,ke,we))):Q||(ke=Z($,re),ke!=null&&ue.push(w2($,ke,we)))),$=$.return}ue.length!==0&&p.push({event:v,listeners:ue})}var Rme=/\r\n?/g,Ome=/\u0000|\uFFFD/g;function wB(p){return(typeof p=="string"?p:""+p).replace(Rme,`
`).replace(Ome,"")}function N6(p,v,$){if(v=wB(v),wB(p)!==v&&$)throw Error(r(425))}function R6(){}var f7=null,p7=null;function g7(p,v){return p==="textarea"||p==="noscript"||typeof v.children=="string"||typeof v.children=="number"||typeof v.dangerouslySetInnerHTML=="object"&&v.dangerouslySetInnerHTML!==null&&v.dangerouslySetInnerHTML.__html!=null}var m7=typeof setTimeout=="function"?setTimeout:void 0,jme=typeof clearTimeout=="function"?clearTimeout:void 0,vB=typeof Promise=="function"?Promise:void 0,Lme=typeof queueMicrotask=="function"?queueMicrotask:typeof vB<"u"?function(p){return vB.resolve(null).then(p).catch(Dme)}:m7;function Dme(p){setTimeout(function(){throw p})}function y7(p,v){var $=v,q=0;do{var Q=$.nextSibling;if(p.removeChild($),Q&&Q.nodeType===8)if($=Q.data,$==="/$"){if(q===0){p.removeChild(Q),yt(v);return}q--}else $!=="$"&&$!=="$?"&&$!=="$!"||q++;$=Q}while($);yt(v)}function lf(p){for(;p!=null;p=p.nextSibling){var v=p.nodeType;if(v===1||v===3)break;if(v===8){if(v=p.data,v==="$"||v==="$!"||v==="$?")break;if(v==="/$")return null}}return p}function bB(p){p=p.previousSibling;for(var v=0;p;){if(p.nodeType===8){var $=p.data;if($==="$"||$==="$!"||$==="$?"){if(v===0)return p;v--}else $==="/$"&&v++}p=p.previousSibling}return null}var Vm=Math.random().toString(36).slice(2),Ou="__reactFiber$"+Vm,v2="__reactProps$"+Vm,Bd="__reactContainer$"+Vm,w7="__reactEvents$"+Vm,Bme="__reactListeners$"+Vm,Ume="__reactHandles$"+Vm;function gp(p){var v=p[Ou];if(v)return v;for(var $=p.parentNode;$;){if(v=$[Bd]||$[Ou]){if($=v.alternate,v.child!==null||$!==null&&$.child!==null)for(p=bB(p);p!==null;){if($=p[Ou])return $;p=bB(p)}return v}p=$,$=p.parentNode}return null}function b2(p){return p=p[Ou]||p[Bd],!p||p.tag!==5&&p.tag!==6&&p.tag!==13&&p.tag!==3?null:p}function Km(p){if(p.tag===5||p.tag===6)return p.stateNode;throw Error(r(33))}function O6(p){return p[v2]||null}var v7=[],Gm=-1;function cf(p){return{current:p}}function ri(p){0>Gm||(p.current=v7[Gm],v7[Gm]=null,Gm--)}function Yn(p,v){Gm++,v7[Gm]=p.current,p.current=v}var uf={},ro=cf(uf),aa=cf(!1),mp=uf;function Ym(p,v){var $=p.type.contextTypes;if(!$)return uf;var q=p.stateNode;if(q&&q.__reactInternalMemoizedUnmaskedChildContext===v)return q.__reactInternalMemoizedMaskedChildContext;var Q={},re;for(re in $)Q[re]=v[re];return q&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=v,p.__reactInternalMemoizedMaskedChildContext=Q),Q}function la(p){return p=p.childContextTypes,p!=null}function j6(){ri(aa),ri(ro)}function xB(p,v,$){if(ro.current!==uf)throw Error(r(168));Yn(ro,v),Yn(aa,$)}function EB(p,v,$){var q=p.stateNode;if(v=v.childContextTypes,typeof q.getChildContext!="function")return $;q=q.getChildContext();for(var Q in q)if(!(Q in v))throw Error(r(108,ne(p)||"Unknown",Q));return R({},$,q)}function L6(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||uf,mp=ro.current,Yn(ro,p),Yn(aa,aa.current),!0}function _B(p,v,$){var q=p.stateNode;if(!q)throw Error(r(169));$?(p=EB(p,v,mp),q.__reactInternalMemoizedMergedChildContext=p,ri(aa),ri(ro),Yn(ro,p)):ri(aa),Yn(aa,$)}var Ud=null,D6=!1,b7=!1;function AB(p){Ud===null?Ud=[p]:Ud.push(p)}function Fme(p){D6=!0,AB(p)}function df(){if(!b7&&Ud!==null){b7=!0;var p=0,v=Ar;try{var $=Ud;for(Ar=1;p<$.length;p++){var q=$[p];do q=q(!0);while(q!==null)}Ud=null,D6=!1}catch(Q){throw Ud!==null&&(Ud=Ud.slice(p+1)),Sr(fr,df),Q}finally{Ar=v,b7=!1}}return null}var Zm=[],Qm=0,B6=null,U6=0,Rl=[],Ol=0,yp=null,Fd=1,zd="";function wp(p,v){Zm[Qm++]=U6,Zm[Qm++]=B6,B6=p,U6=v}function SB(p,v,$){Rl[Ol++]=Fd,Rl[Ol++]=zd,Rl[Ol++]=yp,yp=p;var q=Fd;p=zd;var Q=32-kn(q)-1;q&=~(1<<Q),$+=1;var re=32-kn(v)+Q;if(30<re){var ue=Q-Q%5;re=(q&(1<<ue)-1).toString(32),q>>=ue,Q-=ue,Fd=1<<32-kn(v)+Q|$<<Q|q,zd=re+p}else Fd=1<<re|$<<Q|q,zd=p}function x7(p){p.return!==null&&(wp(p,1),SB(p,1,0))}function E7(p){for(;p===B6;)B6=Zm[--Qm],Zm[Qm]=null,U6=Zm[--Qm],Zm[Qm]=null;for(;p===yp;)yp=Rl[--Ol],Rl[Ol]=null,zd=Rl[--Ol],Rl[Ol]=null,Fd=Rl[--Ol],Rl[Ol]=null}var Qa=null,Ja=null,di=!1,Cc=null;function CB(p,v){var $=Bl(5,null,null,0);$.elementType="DELETED",$.stateNode=v,$.return=p,v=p.deletions,v===null?(p.deletions=[$],p.flags|=16):v.push($)}function kB(p,v){switch(p.tag){case 5:var $=p.type;return v=v.nodeType!==1||$.toLowerCase()!==v.nodeName.toLowerCase()?null:v,v!==null?(p.stateNode=v,Qa=p,Ja=lf(v.firstChild),!0):!1;case 6:return v=p.pendingProps===""||v.nodeType!==3?null:v,v!==null?(p.stateNode=v,Qa=p,Ja=null,!0):!1;case 13:return v=v.nodeType!==8?null:v,v!==null?($=yp!==null?{id:Fd,overflow:zd}:null,p.memoizedState={dehydrated:v,treeContext:$,retryLane:1073741824},$=Bl(18,null,null,0),$.stateNode=v,$.return=p,p.child=$,Qa=p,Ja=null,!0):!1;default:return!1}}function _7(p){return(p.mode&1)!==0&&(p.flags&128)===0}function A7(p){if(di){var v=Ja;if(v){var $=v;if(!kB(p,v)){if(_7(p))throw Error(r(418));v=lf($.nextSibling);var q=Qa;v&&kB(p,v)?CB(q,$):(p.flags=p.flags&-4097|2,di=!1,Qa=p)}}else{if(_7(p))throw Error(r(418));p.flags=p.flags&-4097|2,di=!1,Qa=p}}}function IB(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;Qa=p}function F6(p){if(p!==Qa)return!1;if(!di)return IB(p),di=!0,!1;var v;if((v=p.tag!==3)&&!(v=p.tag!==5)&&(v=p.type,v=v!=="head"&&v!=="body"&&!g7(p.type,p.memoizedProps)),v&&(v=Ja)){if(_7(p))throw TB(),Error(r(418));for(;v;)CB(p,v),v=lf(v.nextSibling)}if(IB(p),p.tag===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));e:{for(p=p.nextSibling,v=0;p;){if(p.nodeType===8){var $=p.data;if($==="/$"){if(v===0){Ja=lf(p.nextSibling);break e}v--}else $!=="$"&&$!=="$!"&&$!=="$?"||v++}p=p.nextSibling}Ja=null}}else Ja=Qa?lf(p.stateNode.nextSibling):null;return!0}function TB(){for(var p=Ja;p;)p=lf(p.nextSibling)}function Jm(){Ja=Qa=null,di=!1}function S7(p){Cc===null?Cc=[p]:Cc.push(p)}var zme=z.ReactCurrentBatchConfig;function kc(p,v){if(p&&p.defaultProps){v=R({},v),p=p.defaultProps;for(var $ in p)v[$]===void 0&&(v[$]=p[$]);return v}return v}var z6=cf(null),W6=null,Xm=null,C7=null;function k7(){C7=Xm=W6=null}function I7(p){var v=z6.current;ri(z6),p._currentValue=v}function T7(p,v,$){for(;p!==null;){var q=p.alternate;if((p.childLanes&v)!==v?(p.childLanes|=v,q!==null&&(q.childLanes|=v)):q!==null&&(q.childLanes&v)!==v&&(q.childLanes|=v),p===$)break;p=p.return}}function e1(p,v){W6=p,C7=Xm=null,p=p.dependencies,p!==null&&p.firstContext!==null&&((p.lanes&v)!==0&&(ca=!0),p.firstContext=null)}function jl(p){var v=p._currentValue;if(C7!==p)if(p={context:p,memoizedValue:v,next:null},Xm===null){if(W6===null)throw Error(r(308));Xm=p,W6.dependencies={lanes:0,firstContext:p}}else Xm=Xm.next=p;return v}var vp=null;function $7(p){vp===null?vp=[p]:vp.push(p)}function $B(p,v,$,q){var Q=v.interleaved;return Q===null?($.next=$,$7(v)):($.next=Q.next,Q.next=$),v.interleaved=$,Wd(p,q)}function Wd(p,v){p.lanes|=v;var $=p.alternate;for($!==null&&($.lanes|=v),$=p,p=p.return;p!==null;)p.childLanes|=v,$=p.alternate,$!==null&&($.childLanes|=v),$=p,p=p.return;return $.tag===3?$.stateNode:null}var hf=!1;function M7(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function MB(p,v){p=p.updateQueue,v.updateQueue===p&&(v.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function qd(p,v){return{eventTime:p,lane:v,tag:0,payload:null,callback:null,next:null}}function ff(p,v,$){var q=p.updateQueue;if(q===null)return null;if(q=q.shared,(un&2)!==0){var Q=q.pending;return Q===null?v.next=v:(v.next=Q.next,Q.next=v),q.pending=v,Wd(p,$)}return Q=q.interleaved,Q===null?(v.next=v,$7(q)):(v.next=Q.next,Q.next=v),q.interleaved=v,Wd(p,$)}function q6(p,v,$){if(v=v.updateQueue,v!==null&&(v=v.shared,($&4194240)!==0)){var q=v.lanes;q&=p.pendingLanes,$|=q,v.lanes=$,Lr(p,$)}}function PB(p,v){var $=p.updateQueue,q=p.alternate;if(q!==null&&(q=q.updateQueue,$===q)){var Q=null,re=null;if($=$.firstBaseUpdate,$!==null){do{var ue={eventTime:$.eventTime,lane:$.lane,tag:$.tag,payload:$.payload,callback:$.callback,next:null};re===null?Q=re=ue:re=re.next=ue,$=$.next}while($!==null);re===null?Q=re=v:re=re.next=v}else Q=re=v;$={baseState:q.baseState,firstBaseUpdate:Q,lastBaseUpdate:re,shared:q.shared,effects:q.effects},p.updateQueue=$;return}p=$.lastBaseUpdate,p===null?$.firstBaseUpdate=v:p.next=v,$.lastBaseUpdate=v}function H6(p,v,$,q){var Q=p.updateQueue;hf=!1;var re=Q.firstBaseUpdate,ue=Q.lastBaseUpdate,we=Q.shared.pending;if(we!==null){Q.shared.pending=null;var ke=we,Qe=ke.next;ke.next=null,ue===null?re=Qe:ue.next=Qe,ue=ke;var vt=p.alternate;vt!==null&&(vt=vt.updateQueue,we=vt.lastBaseUpdate,we!==ue&&(we===null?vt.firstBaseUpdate=Qe:we.next=Qe,vt.lastBaseUpdate=ke))}if(re!==null){var _t=Q.baseState;ue=0,vt=Qe=ke=null,we=re;do{var wt=we.lane,Qt=we.eventTime;if((q&wt)===wt){vt!==null&&(vt=vt.next={eventTime:Qt,lane:0,tag:we.tag,payload:we.payload,callback:we.callback,next:null});e:{var nr=p,sr=we;switch(wt=v,Qt=$,sr.tag){case 1:if(nr=sr.payload,typeof nr=="function"){_t=nr.call(Qt,_t,wt);break e}_t=nr;break e;case 3:nr.flags=nr.flags&-65537|128;case 0:if(nr=sr.payload,wt=typeof nr=="function"?nr.call(Qt,_t,wt):nr,wt==null)break e;_t=R({},_t,wt);break e;case 2:hf=!0}}we.callback!==null&&we.lane!==0&&(p.flags|=64,wt=Q.effects,wt===null?Q.effects=[we]:wt.push(we))}else Qt={eventTime:Qt,lane:wt,tag:we.tag,payload:we.payload,callback:we.callback,next:null},vt===null?(Qe=vt=Qt,ke=_t):vt=vt.next=Qt,ue|=wt;if(we=we.next,we===null){if(we=Q.shared.pending,we===null)break;wt=we,we=wt.next,wt.next=null,Q.lastBaseUpdate=wt,Q.shared.pending=null}}while(!0);if(vt===null&&(ke=_t),Q.baseState=ke,Q.firstBaseUpdate=Qe,Q.lastBaseUpdate=vt,v=Q.shared.interleaved,v!==null){Q=v;do ue|=Q.lane,Q=Q.next;while(Q!==v)}else re===null&&(Q.shared.lanes=0);Ep|=ue,p.lanes=ue,p.memoizedState=_t}}function NB(p,v,$){if(p=v.effects,v.effects=null,p!==null)for(v=0;v<p.length;v++){var q=p[v],Q=q.callback;if(Q!==null){if(q.callback=null,q=$,typeof Q!="function")throw Error(r(191,Q));Q.call(q)}}}var RB=new t.Component().refs;function P7(p,v,$,q){v=p.memoizedState,$=$(q,v),$=$==null?v:R({},v,$),p.memoizedState=$,p.lanes===0&&(p.updateQueue.baseState=$)}var V6={isMounted:function(p){return(p=p._reactInternals)?Nt(p)===p:!1},enqueueSetState:function(p,v,$){p=p._reactInternals;var q=Lo(),Q=yf(p),re=qd(q,Q);re.payload=v,$!=null&&(re.callback=$),v=ff(p,re,Q),v!==null&&($c(v,p,Q,q),q6(v,p,Q))},enqueueReplaceState:function(p,v,$){p=p._reactInternals;var q=Lo(),Q=yf(p),re=qd(q,Q);re.tag=1,re.payload=v,$!=null&&(re.callback=$),v=ff(p,re,Q),v!==null&&($c(v,p,Q,q),q6(v,p,Q))},enqueueForceUpdate:function(p,v){p=p._reactInternals;var $=Lo(),q=yf(p),Q=qd($,q);Q.tag=2,v!=null&&(Q.callback=v),v=ff(p,Q,q),v!==null&&($c(v,p,q,$),q6(v,p,q))}};function OB(p,v,$,q,Q,re,ue){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(q,re,ue):v.prototype&&v.prototype.isPureReactComponent?!p2($,q)||!p2(Q,re):!0}function jB(p,v,$){var q=!1,Q=uf,re=v.contextType;return typeof re=="object"&&re!==null?re=jl(re):(Q=la(v)?mp:ro.current,q=v.contextTypes,re=(q=q!=null)?Ym(p,Q):uf),v=new v($,re),p.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=V6,p.stateNode=v,v._reactInternals=p,q&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=Q,p.__reactInternalMemoizedMaskedChildContext=re),v}function LB(p,v,$,q){p=v.state,typeof v.componentWillReceiveProps=="function"&&v.componentWillReceiveProps($,q),typeof v.UNSAFE_componentWillReceiveProps=="function"&&v.UNSAFE_componentWillReceiveProps($,q),v.state!==p&&V6.enqueueReplaceState(v,v.state,null)}function N7(p,v,$,q){var Q=p.stateNode;Q.props=$,Q.state=p.memoizedState,Q.refs=RB,M7(p);var re=v.contextType;typeof re=="object"&&re!==null?Q.context=jl(re):(re=la(v)?mp:ro.current,Q.context=Ym(p,re)),Q.state=p.memoizedState,re=v.getDerivedStateFromProps,typeof re=="function"&&(P7(p,v,re,$),Q.state=p.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof Q.getSnapshotBeforeUpdate=="function"||typeof Q.UNSAFE_componentWillMount!="function"&&typeof Q.componentWillMount!="function"||(v=Q.state,typeof Q.componentWillMount=="function"&&Q.componentWillMount(),typeof Q.UNSAFE_componentWillMount=="function"&&Q.UNSAFE_componentWillMount(),v!==Q.state&&V6.enqueueReplaceState(Q,Q.state,null),H6(p,$,Q,q),Q.state=p.memoizedState),typeof Q.componentDidMount=="function"&&(p.flags|=4194308)}function x2(p,v,$){if(p=$.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if($._owner){if($=$._owner,$){if($.tag!==1)throw Error(r(309));var q=$.stateNode}if(!q)throw Error(r(147,p));var Q=q,re=""+p;return v!==null&&v.ref!==null&&typeof v.ref=="function"&&v.ref._stringRef===re?v.ref:(v=function(ue){var we=Q.refs;we===RB&&(we=Q.refs={}),ue===null?delete we[re]:we[re]=ue},v._stringRef=re,v)}if(typeof p!="string")throw Error(r(284));if(!$._owner)throw Error(r(290,p))}return p}function K6(p,v){throw p=Object.prototype.toString.call(v),Error(r(31,p==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":p))}function DB(p){var v=p._init;return v(p._payload)}function BB(p){function v(ze,Te){if(p){var qe=ze.deletions;qe===null?(ze.deletions=[Te],ze.flags|=16):qe.push(Te)}}function $(ze,Te){if(!p)return null;for(;Te!==null;)v(ze,Te),Te=Te.sibling;return null}function q(ze,Te){for(ze=new Map;Te!==null;)Te.key!==null?ze.set(Te.key,Te):ze.set(Te.index,Te),Te=Te.sibling;return ze}function Q(ze,Te){return ze=vf(ze,Te),ze.index=0,ze.sibling=null,ze}function re(ze,Te,qe){return ze.index=qe,p?(qe=ze.alternate,qe!==null?(qe=qe.index,qe<Te?(ze.flags|=2,Te):qe):(ze.flags|=2,Te)):(ze.flags|=1048576,Te)}function ue(ze){return p&&ze.alternate===null&&(ze.flags|=2),ze}function we(ze,Te,qe,Ct){return Te===null||Te.tag!==6?(Te=mS(qe,ze.mode,Ct),Te.return=ze,Te):(Te=Q(Te,qe),Te.return=ze,Te)}function ke(ze,Te,qe,Ct){var ar=qe.type;return ar===H?vt(ze,Te,qe.props.children,Ct,qe.key):Te!==null&&(Te.elementType===ar||typeof ar=="object"&&ar!==null&&ar.$$typeof===x&&DB(ar)===Te.type)?(Ct=Q(Te,qe.props),Ct.ref=x2(ze,Te,qe),Ct.return=ze,Ct):(Ct=h4(qe.type,qe.key,qe.props,null,ze.mode,Ct),Ct.ref=x2(ze,Te,qe),Ct.return=ze,Ct)}function Qe(ze,Te,qe,Ct){return Te===null||Te.tag!==4||Te.stateNode.containerInfo!==qe.containerInfo||Te.stateNode.implementation!==qe.implementation?(Te=yS(qe,ze.mode,Ct),Te.return=ze,Te):(Te=Q(Te,qe.children||[]),Te.return=ze,Te)}function vt(ze,Te,qe,Ct,ar){return Te===null||Te.tag!==7?(Te=Cp(qe,ze.mode,Ct,ar),Te.return=ze,Te):(Te=Q(Te,qe),Te.return=ze,Te)}function _t(ze,Te,qe){if(typeof Te=="string"&&Te!==""||typeof Te=="number")return Te=mS(""+Te,ze.mode,qe),Te.return=ze,Te;if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case L:return qe=h4(Te.type,Te.key,Te.props,null,ze.mode,qe),qe.ref=x2(ze,null,Te),qe.return=ze,qe;case W:return Te=yS(Te,ze.mode,qe),Te.return=ze,Te;case x:var Ct=Te._init;return _t(ze,Ct(Te._payload),qe)}if(Ie(Te)||T(Te))return Te=Cp(Te,ze.mode,qe,null),Te.return=ze,Te;K6(ze,Te)}return null}function wt(ze,Te,qe,Ct){var ar=Te!==null?Te.key:null;if(typeof qe=="string"&&qe!==""||typeof qe=="number")return ar!==null?null:we(ze,Te,""+qe,Ct);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case L:return qe.key===ar?ke(ze,Te,qe,Ct):null;case W:return qe.key===ar?Qe(ze,Te,qe,Ct):null;case x:return ar=qe._init,wt(ze,Te,ar(qe._payload),Ct)}if(Ie(qe)||T(qe))return ar!==null?null:vt(ze,Te,qe,Ct,null);K6(ze,qe)}return null}function Qt(ze,Te,qe,Ct,ar){if(typeof Ct=="string"&&Ct!==""||typeof Ct=="number")return ze=ze.get(qe)||null,we(Te,ze,""+Ct,ar);if(typeof Ct=="object"&&Ct!==null){switch(Ct.$$typeof){case L:return ze=ze.get(Ct.key===null?qe:Ct.key)||null,ke(Te,ze,Ct,ar);case W:return ze=ze.get(Ct.key===null?qe:Ct.key)||null,Qe(Te,ze,Ct,ar);case x:var mr=Ct._init;return Qt(ze,Te,qe,mr(Ct._payload),ar)}if(Ie(Ct)||T(Ct))return ze=ze.get(qe)||null,vt(Te,ze,Ct,ar,null);K6(Te,Ct)}return null}function nr(ze,Te,qe,Ct){for(var ar=null,mr=null,yr=Te,Cr=Te=0,gs=null;yr!==null&&Cr<qe.length;Cr++){yr.index>Cr?(gs=yr,yr=null):gs=yr.sibling;var mn=wt(ze,yr,qe[Cr],Ct);if(mn===null){yr===null&&(yr=gs);break}p&&yr&&mn.alternate===null&&v(ze,yr),Te=re(mn,Te,Cr),mr===null?ar=mn:mr.sibling=mn,mr=mn,yr=gs}if(Cr===qe.length)return $(ze,yr),di&&wp(ze,Cr),ar;if(yr===null){for(;Cr<qe.length;Cr++)yr=_t(ze,qe[Cr],Ct),yr!==null&&(Te=re(yr,Te,Cr),mr===null?ar=yr:mr.sibling=yr,mr=yr);return di&&wp(ze,Cr),ar}for(yr=q(ze,yr);Cr<qe.length;Cr++)gs=Qt(yr,ze,Cr,qe[Cr],Ct),gs!==null&&(p&&gs.alternate!==null&&yr.delete(gs.key===null?Cr:gs.key),Te=re(gs,Te,Cr),mr===null?ar=gs:mr.sibling=gs,mr=gs);return p&&yr.forEach(function(bf){return v(ze,bf)}),di&&wp(ze,Cr),ar}function sr(ze,Te,qe,Ct){var ar=T(qe);if(typeof ar!="function")throw Error(r(150));if(qe=ar.call(qe),qe==null)throw Error(r(151));for(var mr=ar=null,yr=Te,Cr=Te=0,gs=null,mn=qe.next();yr!==null&&!mn.done;Cr++,mn=qe.next()){yr.index>Cr?(gs=yr,yr=null):gs=yr.sibling;var bf=wt(ze,yr,mn.value,Ct);if(bf===null){yr===null&&(yr=gs);break}p&&yr&&bf.alternate===null&&v(ze,yr),Te=re(bf,Te,Cr),mr===null?ar=bf:mr.sibling=bf,mr=bf,yr=gs}if(mn.done)return $(ze,yr),di&&wp(ze,Cr),ar;if(yr===null){for(;!mn.done;Cr++,mn=qe.next())mn=_t(ze,mn.value,Ct),mn!==null&&(Te=re(mn,Te,Cr),mr===null?ar=mn:mr.sibling=mn,mr=mn);return di&&wp(ze,Cr),ar}for(yr=q(ze,yr);!mn.done;Cr++,mn=qe.next())mn=Qt(yr,ze,Cr,mn.value,Ct),mn!==null&&(p&&mn.alternate!==null&&yr.delete(mn.key===null?Cr:mn.key),Te=re(mn,Te,Cr),mr===null?ar=mn:mr.sibling=mn,mr=mn);return p&&yr.forEach(function(x1e){return v(ze,x1e)}),di&&wp(ze,Cr),ar}function $i(ze,Te,qe,Ct){if(typeof qe=="object"&&qe!==null&&qe.type===H&&qe.key===null&&(qe=qe.props.children),typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case L:e:{for(var ar=qe.key,mr=Te;mr!==null;){if(mr.key===ar){if(ar=qe.type,ar===H){if(mr.tag===7){$(ze,mr.sibling),Te=Q(mr,qe.props.children),Te.return=ze,ze=Te;break e}}else if(mr.elementType===ar||typeof ar=="object"&&ar!==null&&ar.$$typeof===x&&DB(ar)===mr.type){$(ze,mr.sibling),Te=Q(mr,qe.props),Te.ref=x2(ze,mr,qe),Te.return=ze,ze=Te;break e}$(ze,mr);break}else v(ze,mr);mr=mr.sibling}qe.type===H?(Te=Cp(qe.props.children,ze.mode,Ct,qe.key),Te.return=ze,ze=Te):(Ct=h4(qe.type,qe.key,qe.props,null,ze.mode,Ct),Ct.ref=x2(ze,Te,qe),Ct.return=ze,ze=Ct)}return ue(ze);case W:e:{for(mr=qe.key;Te!==null;){if(Te.key===mr)if(Te.tag===4&&Te.stateNode.containerInfo===qe.containerInfo&&Te.stateNode.implementation===qe.implementation){$(ze,Te.sibling),Te=Q(Te,qe.children||[]),Te.return=ze,ze=Te;break e}else{$(ze,Te);break}else v(ze,Te);Te=Te.sibling}Te=yS(qe,ze.mode,Ct),Te.return=ze,ze=Te}return ue(ze);case x:return mr=qe._init,$i(ze,Te,mr(qe._payload),Ct)}if(Ie(qe))return nr(ze,Te,qe,Ct);if(T(qe))return sr(ze,Te,qe,Ct);K6(ze,qe)}return typeof qe=="string"&&qe!==""||typeof qe=="number"?(qe=""+qe,Te!==null&&Te.tag===6?($(ze,Te.sibling),Te=Q(Te,qe),Te.return=ze,ze=Te):($(ze,Te),Te=mS(qe,ze.mode,Ct),Te.return=ze,ze=Te),ue(ze)):$(ze,Te)}return $i}var t1=BB(!0),UB=BB(!1),E2={},ju=cf(E2),_2=cf(E2),A2=cf(E2);function bp(p){if(p===E2)throw Error(r(174));return p}function R7(p,v){switch(Yn(A2,v),Yn(_2,p),Yn(ju,E2),p=v.nodeType,p){case 9:case 11:v=(v=v.documentElement)?v.namespaceURI:et(null,"");break;default:p=p===8?v.parentNode:v,v=p.namespaceURI||null,p=p.tagName,v=et(v,p)}ri(ju),Yn(ju,v)}function r1(){ri(ju),ri(_2),ri(A2)}function FB(p){bp(A2.current);var v=bp(ju.current),$=et(v,p.type);v!==$&&(Yn(_2,p),Yn(ju,$))}function O7(p){_2.current===p&&(ri(ju),ri(_2))}var mi=cf(0);function G6(p){for(var v=p;v!==null;){if(v.tag===13){var $=v.memoizedState;if($!==null&&($=$.dehydrated,$===null||$.data==="$?"||$.data==="$!"))return v}else if(v.tag===19&&v.memoizedProps.revealOrder!==void 0){if((v.flags&128)!==0)return v}else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return null;v=v.return}v.sibling.return=v.return,v=v.sibling}return null}var j7=[];function L7(){for(var p=0;p<j7.length;p++)j7[p]._workInProgressVersionPrimary=null;j7.length=0}var Y6=z.ReactCurrentDispatcher,D7=z.ReactCurrentBatchConfig,xp=0,yi=null,Qi=null,fs=null,Z6=!1,S2=!1,C2=0,Wme=0;function no(){throw Error(r(321))}function B7(p,v){if(v===null)return!1;for(var $=0;$<v.length&&$<p.length;$++)if(!Sc(p[$],v[$]))return!1;return!0}function U7(p,v,$,q,Q,re){if(xp=re,yi=v,v.memoizedState=null,v.updateQueue=null,v.lanes=0,Y6.current=p===null||p.memoizedState===null?Kme:Gme,p=$(q,Q),S2){re=0;do{if(S2=!1,C2=0,25<=re)throw Error(r(301));re+=1,fs=Qi=null,v.updateQueue=null,Y6.current=Yme,p=$(q,Q)}while(S2)}if(Y6.current=X6,v=Qi!==null&&Qi.next!==null,xp=0,fs=Qi=yi=null,Z6=!1,v)throw Error(r(300));return p}function F7(){var p=C2!==0;return C2=0,p}function Lu(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fs===null?yi.memoizedState=fs=p:fs=fs.next=p,fs}function Ll(){if(Qi===null){var p=yi.alternate;p=p!==null?p.memoizedState:null}else p=Qi.next;var v=fs===null?yi.memoizedState:fs.next;if(v!==null)fs=v,Qi=p;else{if(p===null)throw Error(r(310));Qi=p,p={memoizedState:Qi.memoizedState,baseState:Qi.baseState,baseQueue:Qi.baseQueue,queue:Qi.queue,next:null},fs===null?yi.memoizedState=fs=p:fs=fs.next=p}return fs}function k2(p,v){return typeof v=="function"?v(p):v}function z7(p){var v=Ll(),$=v.queue;if($===null)throw Error(r(311));$.lastRenderedReducer=p;var q=Qi,Q=q.baseQueue,re=$.pending;if(re!==null){if(Q!==null){var ue=Q.next;Q.next=re.next,re.next=ue}q.baseQueue=Q=re,$.pending=null}if(Q!==null){re=Q.next,q=q.baseState;var we=ue=null,ke=null,Qe=re;do{var vt=Qe.lane;if((xp&vt)===vt)ke!==null&&(ke=ke.next={lane:0,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null}),q=Qe.hasEagerState?Qe.eagerState:p(q,Qe.action);else{var _t={lane:vt,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null};ke===null?(we=ke=_t,ue=q):ke=ke.next=_t,yi.lanes|=vt,Ep|=vt}Qe=Qe.next}while(Qe!==null&&Qe!==re);ke===null?ue=q:ke.next=we,Sc(q,v.memoizedState)||(ca=!0),v.memoizedState=q,v.baseState=ue,v.baseQueue=ke,$.lastRenderedState=q}if(p=$.interleaved,p!==null){Q=p;do re=Q.lane,yi.lanes|=re,Ep|=re,Q=Q.next;while(Q!==p)}else Q===null&&($.lanes=0);return[v.memoizedState,$.dispatch]}function W7(p){var v=Ll(),$=v.queue;if($===null)throw Error(r(311));$.lastRenderedReducer=p;var q=$.dispatch,Q=$.pending,re=v.memoizedState;if(Q!==null){$.pending=null;var ue=Q=Q.next;do re=p(re,ue.action),ue=ue.next;while(ue!==Q);Sc(re,v.memoizedState)||(ca=!0),v.memoizedState=re,v.baseQueue===null&&(v.baseState=re),$.lastRenderedState=re}return[re,q]}function zB(){}function WB(p,v){var $=yi,q=Ll(),Q=v(),re=!Sc(q.memoizedState,Q);if(re&&(q.memoizedState=Q,ca=!0),q=q.queue,q7(VB.bind(null,$,q,p),[p]),q.getSnapshot!==v||re||fs!==null&&fs.memoizedState.tag&1){if($.flags|=2048,I2(9,HB.bind(null,$,q,Q,v),void 0,null),ps===null)throw Error(r(349));(xp&30)!==0||qB($,v,Q)}return Q}function qB(p,v,$){p.flags|=16384,p={getSnapshot:v,value:$},v=yi.updateQueue,v===null?(v={lastEffect:null,stores:null},yi.updateQueue=v,v.stores=[p]):($=v.stores,$===null?v.stores=[p]:$.push(p))}function HB(p,v,$,q){v.value=$,v.getSnapshot=q,KB(v)&&GB(p)}function VB(p,v,$){return $(function(){KB(v)&&GB(p)})}function KB(p){var v=p.getSnapshot;p=p.value;try{var $=v();return!Sc(p,$)}catch{return!0}}function GB(p){var v=Wd(p,1);v!==null&&$c(v,p,1,-1)}function YB(p){var v=Lu();return typeof p=="function"&&(p=p()),v.memoizedState=v.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:k2,lastRenderedState:p},v.queue=p,p=p.dispatch=Vme.bind(null,yi,p),[v.memoizedState,p]}function I2(p,v,$,q){return p={tag:p,create:v,destroy:$,deps:q,next:null},v=yi.updateQueue,v===null?(v={lastEffect:null,stores:null},yi.updateQueue=v,v.lastEffect=p.next=p):($=v.lastEffect,$===null?v.lastEffect=p.next=p:(q=$.next,$.next=p,p.next=q,v.lastEffect=p)),p}function ZB(){return Ll().memoizedState}function Q6(p,v,$,q){var Q=Lu();yi.flags|=p,Q.memoizedState=I2(1|v,$,void 0,q===void 0?null:q)}function J6(p,v,$,q){var Q=Ll();q=q===void 0?null:q;var re=void 0;if(Qi!==null){var ue=Qi.memoizedState;if(re=ue.destroy,q!==null&&B7(q,ue.deps)){Q.memoizedState=I2(v,$,re,q);return}}yi.flags|=p,Q.memoizedState=I2(1|v,$,re,q)}function QB(p,v){return Q6(8390656,8,p,v)}function q7(p,v){return J6(2048,8,p,v)}function JB(p,v){return J6(4,2,p,v)}function XB(p,v){return J6(4,4,p,v)}function eU(p,v){if(typeof v=="function")return p=p(),v(p),function(){v(null)};if(v!=null)return p=p(),v.current=p,function(){v.current=null}}function tU(p,v,$){return $=$!=null?$.concat([p]):null,J6(4,4,eU.bind(null,v,p),$)}function H7(){}function rU(p,v){var $=Ll();v=v===void 0?null:v;var q=$.memoizedState;return q!==null&&v!==null&&B7(v,q[1])?q[0]:($.memoizedState=[p,v],p)}function nU(p,v){var $=Ll();v=v===void 0?null:v;var q=$.memoizedState;return q!==null&&v!==null&&B7(v,q[1])?q[0]:(p=p(),$.memoizedState=[p,v],p)}function iU(p,v,$){return(xp&21)===0?(p.baseState&&(p.baseState=!1,ca=!0),p.memoizedState=$):(Sc($,v)||($=Dt(),yi.lanes|=$,Ep|=$,p.baseState=!0),v)}function qme(p,v){var $=Ar;Ar=$!==0&&4>$?$:4,p(!0);var q=D7.transition;D7.transition={};try{p(!1),v()}finally{Ar=$,D7.transition=q}}function sU(){return Ll().memoizedState}function Hme(p,v,$){var q=yf(p);if($={lane:q,action:$,hasEagerState:!1,eagerState:null,next:null},oU(p))aU(v,$);else if($=$B(p,v,$,q),$!==null){var Q=Lo();$c($,p,q,Q),lU($,v,q)}}function Vme(p,v,$){var q=yf(p),Q={lane:q,action:$,hasEagerState:!1,eagerState:null,next:null};if(oU(p))aU(v,Q);else{var re=p.alternate;if(p.lanes===0&&(re===null||re.lanes===0)&&(re=v.lastRenderedReducer,re!==null))try{var ue=v.lastRenderedState,we=re(ue,$);if(Q.hasEagerState=!0,Q.eagerState=we,Sc(we,ue)){var ke=v.interleaved;ke===null?(Q.next=Q,$7(v)):(Q.next=ke.next,ke.next=Q),v.interleaved=Q;return}}catch{}finally{}$=$B(p,v,Q,q),$!==null&&(Q=Lo(),$c($,p,q,Q),lU($,v,q))}}function oU(p){var v=p.alternate;return p===yi||v!==null&&v===yi}function aU(p,v){S2=Z6=!0;var $=p.pending;$===null?v.next=v:(v.next=$.next,$.next=v),p.pending=v}function lU(p,v,$){if(($&4194240)!==0){var q=v.lanes;q&=p.pendingLanes,$|=q,v.lanes=$,Lr(p,$)}}var X6={readContext:jl,useCallback:no,useContext:no,useEffect:no,useImperativeHandle:no,useInsertionEffect:no,useLayoutEffect:no,useMemo:no,useReducer:no,useRef:no,useState:no,useDebugValue:no,useDeferredValue:no,useTransition:no,useMutableSource:no,useSyncExternalStore:no,useId:no,unstable_isNewReconciler:!1},Kme={readContext:jl,useCallback:function(p,v){return Lu().memoizedState=[p,v===void 0?null:v],p},useContext:jl,useEffect:QB,useImperativeHandle:function(p,v,$){return $=$!=null?$.concat([p]):null,Q6(4194308,4,eU.bind(null,v,p),$)},useLayoutEffect:function(p,v){return Q6(4194308,4,p,v)},useInsertionEffect:function(p,v){return Q6(4,2,p,v)},useMemo:function(p,v){var $=Lu();return v=v===void 0?null:v,p=p(),$.memoizedState=[p,v],p},useReducer:function(p,v,$){var q=Lu();return v=$!==void 0?$(v):v,q.memoizedState=q.baseState=v,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:v},q.queue=p,p=p.dispatch=Hme.bind(null,yi,p),[q.memoizedState,p]},useRef:function(p){var v=Lu();return p={current:p},v.memoizedState=p},useState:YB,useDebugValue:H7,useDeferredValue:function(p){return Lu().memoizedState=p},useTransition:function(){var p=YB(!1),v=p[0];return p=qme.bind(null,p[1]),Lu().memoizedState=p,[v,p]},useMutableSource:function(){},useSyncExternalStore:function(p,v,$){var q=yi,Q=Lu();if(di){if($===void 0)throw Error(r(407));$=$()}else{if($=v(),ps===null)throw Error(r(349));(xp&30)!==0||qB(q,v,$)}Q.memoizedState=$;var re={value:$,getSnapshot:v};return Q.queue=re,QB(VB.bind(null,q,re,p),[p]),q.flags|=2048,I2(9,HB.bind(null,q,re,$,v),void 0,null),$},useId:function(){var p=Lu(),v=ps.identifierPrefix;if(di){var $=zd,q=Fd;$=(q&~(1<<32-kn(q)-1)).toString(32)+$,v=":"+v+"R"+$,$=C2++,0<$&&(v+="H"+$.toString(32)),v+=":"}else $=Wme++,v=":"+v+"r"+$.toString(32)+":";return p.memoizedState=v},unstable_isNewReconciler:!1},Gme={readContext:jl,useCallback:rU,useContext:jl,useEffect:q7,useImperativeHandle:tU,useInsertionEffect:JB,useLayoutEffect:XB,useMemo:nU,useReducer:z7,useRef:ZB,useState:function(){return z7(k2)},useDebugValue:H7,useDeferredValue:function(p){var v=Ll();return iU(v,Qi.memoizedState,p)},useTransition:function(){var p=z7(k2)[0],v=Ll().memoizedState;return[p,v]},useMutableSource:zB,useSyncExternalStore:WB,useId:sU,unstable_isNewReconciler:!1},Yme={readContext:jl,useCallback:rU,useContext:jl,useEffect:q7,useImperativeHandle:tU,useInsertionEffect:JB,useLayoutEffect:XB,useMemo:nU,useReducer:W7,useRef:ZB,useState:function(){return W7(k2)},useDebugValue:H7,useDeferredValue:function(p){var v=Ll();return Qi===null?v.memoizedState=p:iU(v,Qi.memoizedState,p)},useTransition:function(){var p=W7(k2)[0],v=Ll().memoizedState;return[p,v]},useMutableSource:zB,useSyncExternalStore:WB,useId:sU,unstable_isNewReconciler:!1};function n1(p,v){try{var $="",q=v;do $+=D(q),q=q.return;while(q);var Q=$}catch(re){Q=`
Error generating stack: `+re.message+`
`+re.stack}return{value:p,source:v,stack:Q,digest:null}}function V7(p,v,$){return{value:p,source:null,stack:$??null,digest:v??null}}function K7(p,v){try{console.error(v.value)}catch($){setTimeout(function(){throw $})}}var Zme=typeof WeakMap=="function"?WeakMap:Map;function cU(p,v,$){$=qd(-1,$),$.tag=3,$.payload={element:null};var q=v.value;return $.callback=function(){o4||(o4=!0,lS=q),K7(p,v)},$}function uU(p,v,$){$=qd(-1,$),$.tag=3;var q=p.type.getDerivedStateFromError;if(typeof q=="function"){var Q=v.value;$.payload=function(){return q(Q)},$.callback=function(){K7(p,v)}}var re=p.stateNode;return re!==null&&typeof re.componentDidCatch=="function"&&($.callback=function(){K7(p,v),typeof q!="function"&&(gf===null?gf=new Set([this]):gf.add(this));var ue=v.stack;this.componentDidCatch(v.value,{componentStack:ue!==null?ue:""})}),$}function dU(p,v,$){var q=p.pingCache;if(q===null){q=p.pingCache=new Zme;var Q=new Set;q.set(v,Q)}else Q=q.get(v),Q===void 0&&(Q=new Set,q.set(v,Q));Q.has($)||(Q.add($),p=u1e.bind(null,p,v,$),v.then(p,p))}function hU(p){do{var v;if((v=p.tag===13)&&(v=p.memoizedState,v=v!==null?v.dehydrated!==null:!0),v)return p;p=p.return}while(p!==null);return null}function fU(p,v,$,q,Q){return(p.mode&1)===0?(p===v?p.flags|=65536:(p.flags|=128,$.flags|=131072,$.flags&=-52805,$.tag===1&&($.alternate===null?$.tag=17:(v=qd(-1,1),v.tag=2,ff($,v,1))),$.lanes|=1),p):(p.flags|=65536,p.lanes=Q,p)}var Qme=z.ReactCurrentOwner,ca=!1;function jo(p,v,$,q){v.child=p===null?UB(v,null,$,q):t1(v,p.child,$,q)}function pU(p,v,$,q,Q){$=$.render;var re=v.ref;return e1(v,Q),q=U7(p,v,$,q,re,Q),$=F7(),p!==null&&!ca?(v.updateQueue=p.updateQueue,v.flags&=-2053,p.lanes&=~Q,Hd(p,v,Q)):(di&&$&&x7(v),v.flags|=1,jo(p,v,q,Q),v.child)}function gU(p,v,$,q,Q){if(p===null){var re=$.type;return typeof re=="function"&&!gS(re)&&re.defaultProps===void 0&&$.compare===null&&$.defaultProps===void 0?(v.tag=15,v.type=re,mU(p,v,re,q,Q)):(p=h4($.type,null,q,v,v.mode,Q),p.ref=v.ref,p.return=v,v.child=p)}if(re=p.child,(p.lanes&Q)===0){var ue=re.memoizedProps;if($=$.compare,$=$!==null?$:p2,$(ue,q)&&p.ref===v.ref)return Hd(p,v,Q)}return v.flags|=1,p=vf(re,q),p.ref=v.ref,p.return=v,v.child=p}function mU(p,v,$,q,Q){if(p!==null){var re=p.memoizedProps;if(p2(re,q)&&p.ref===v.ref)if(ca=!1,v.pendingProps=q=re,(p.lanes&Q)!==0)(p.flags&131072)!==0&&(ca=!0);else return v.lanes=p.lanes,Hd(p,v,Q)}return G7(p,v,$,q,Q)}function yU(p,v,$){var q=v.pendingProps,Q=q.children,re=p!==null?p.memoizedState:null;if(q.mode==="hidden")if((v.mode&1)===0)v.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yn(s1,Xa),Xa|=$;else{if(($&1073741824)===0)return p=re!==null?re.baseLanes|$:$,v.lanes=v.childLanes=1073741824,v.memoizedState={baseLanes:p,cachePool:null,transitions:null},v.updateQueue=null,Yn(s1,Xa),Xa|=p,null;v.memoizedState={baseLanes:0,cachePool:null,transitions:null},q=re!==null?re.baseLanes:$,Yn(s1,Xa),Xa|=q}else re!==null?(q=re.baseLanes|$,v.memoizedState=null):q=$,Yn(s1,Xa),Xa|=q;return jo(p,v,Q,$),v.child}function wU(p,v){var $=v.ref;(p===null&&$!==null||p!==null&&p.ref!==$)&&(v.flags|=512,v.flags|=2097152)}function G7(p,v,$,q,Q){var re=la($)?mp:ro.current;return re=Ym(v,re),e1(v,Q),$=U7(p,v,$,q,re,Q),q=F7(),p!==null&&!ca?(v.updateQueue=p.updateQueue,v.flags&=-2053,p.lanes&=~Q,Hd(p,v,Q)):(di&&q&&x7(v),v.flags|=1,jo(p,v,$,Q),v.child)}function vU(p,v,$,q,Q){if(la($)){var re=!0;L6(v)}else re=!1;if(e1(v,Q),v.stateNode===null)t4(p,v),jB(v,$,q),N7(v,$,q,Q),q=!0;else if(p===null){var ue=v.stateNode,we=v.memoizedProps;ue.props=we;var ke=ue.context,Qe=$.contextType;typeof Qe=="object"&&Qe!==null?Qe=jl(Qe):(Qe=la($)?mp:ro.current,Qe=Ym(v,Qe));var vt=$.getDerivedStateFromProps,_t=typeof vt=="function"||typeof ue.getSnapshotBeforeUpdate=="function";_t||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(we!==q||ke!==Qe)&&LB(v,ue,q,Qe),hf=!1;var wt=v.memoizedState;ue.state=wt,H6(v,q,ue,Q),ke=v.memoizedState,we!==q||wt!==ke||aa.current||hf?(typeof vt=="function"&&(P7(v,$,vt,q),ke=v.memoizedState),(we=hf||OB(v,$,we,q,wt,ke,Qe))?(_t||typeof ue.UNSAFE_componentWillMount!="function"&&typeof ue.componentWillMount!="function"||(typeof ue.componentWillMount=="function"&&ue.componentWillMount(),typeof ue.UNSAFE_componentWillMount=="function"&&ue.UNSAFE_componentWillMount()),typeof ue.componentDidMount=="function"&&(v.flags|=4194308)):(typeof ue.componentDidMount=="function"&&(v.flags|=4194308),v.memoizedProps=q,v.memoizedState=ke),ue.props=q,ue.state=ke,ue.context=Qe,q=we):(typeof ue.componentDidMount=="function"&&(v.flags|=4194308),q=!1)}else{ue=v.stateNode,MB(p,v),we=v.memoizedProps,Qe=v.type===v.elementType?we:kc(v.type,we),ue.props=Qe,_t=v.pendingProps,wt=ue.context,ke=$.contextType,typeof ke=="object"&&ke!==null?ke=jl(ke):(ke=la($)?mp:ro.current,ke=Ym(v,ke));var Qt=$.getDerivedStateFromProps;(vt=typeof Qt=="function"||typeof ue.getSnapshotBeforeUpdate=="function")||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(we!==_t||wt!==ke)&&LB(v,ue,q,ke),hf=!1,wt=v.memoizedState,ue.state=wt,H6(v,q,ue,Q);var nr=v.memoizedState;we!==_t||wt!==nr||aa.current||hf?(typeof Qt=="function"&&(P7(v,$,Qt,q),nr=v.memoizedState),(Qe=hf||OB(v,$,Qe,q,wt,nr,ke)||!1)?(vt||typeof ue.UNSAFE_componentWillUpdate!="function"&&typeof ue.componentWillUpdate!="function"||(typeof ue.componentWillUpdate=="function"&&ue.componentWillUpdate(q,nr,ke),typeof ue.UNSAFE_componentWillUpdate=="function"&&ue.UNSAFE_componentWillUpdate(q,nr,ke)),typeof ue.componentDidUpdate=="function"&&(v.flags|=4),typeof ue.getSnapshotBeforeUpdate=="function"&&(v.flags|=1024)):(typeof ue.componentDidUpdate!="function"||we===p.memoizedProps&&wt===p.memoizedState||(v.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||we===p.memoizedProps&&wt===p.memoizedState||(v.flags|=1024),v.memoizedProps=q,v.memoizedState=nr),ue.props=q,ue.state=nr,ue.context=ke,q=Qe):(typeof ue.componentDidUpdate!="function"||we===p.memoizedProps&&wt===p.memoizedState||(v.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||we===p.memoizedProps&&wt===p.memoizedState||(v.flags|=1024),q=!1)}return Y7(p,v,$,q,re,Q)}function Y7(p,v,$,q,Q,re){wU(p,v);var ue=(v.flags&128)!==0;if(!q&&!ue)return Q&&_B(v,$,!1),Hd(p,v,re);q=v.stateNode,Qme.current=v;var we=ue&&typeof $.getDerivedStateFromError!="function"?null:q.render();return v.flags|=1,p!==null&&ue?(v.child=t1(v,p.child,null,re),v.child=t1(v,null,we,re)):jo(p,v,we,re),v.memoizedState=q.state,Q&&_B(v,$,!0),v.child}function bU(p){var v=p.stateNode;v.pendingContext?xB(p,v.pendingContext,v.pendingContext!==v.context):v.context&&xB(p,v.context,!1),R7(p,v.containerInfo)}function xU(p,v,$,q,Q){return Jm(),S7(Q),v.flags|=256,jo(p,v,$,q),v.child}var Z7={dehydrated:null,treeContext:null,retryLane:0};function Q7(p){return{baseLanes:p,cachePool:null,transitions:null}}function EU(p,v,$){var q=v.pendingProps,Q=mi.current,re=!1,ue=(v.flags&128)!==0,we;if((we=ue)||(we=p!==null&&p.memoizedState===null?!1:(Q&2)!==0),we?(re=!0,v.flags&=-129):(p===null||p.memoizedState!==null)&&(Q|=1),Yn(mi,Q&1),p===null)return A7(v),p=v.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?((v.mode&1)===0?v.lanes=1:p.data==="$!"?v.lanes=8:v.lanes=1073741824,null):(ue=q.children,p=q.fallback,re?(q=v.mode,re=v.child,ue={mode:"hidden",children:ue},(q&1)===0&&re!==null?(re.childLanes=0,re.pendingProps=ue):re=f4(ue,q,0,null),p=Cp(p,q,$,null),re.return=v,p.return=v,re.sibling=p,v.child=re,v.child.memoizedState=Q7($),v.memoizedState=Z7,p):J7(v,ue));if(Q=p.memoizedState,Q!==null&&(we=Q.dehydrated,we!==null))return Jme(p,v,ue,q,we,Q,$);if(re){re=q.fallback,ue=v.mode,Q=p.child,we=Q.sibling;var ke={mode:"hidden",children:q.children};return(ue&1)===0&&v.child!==Q?(q=v.child,q.childLanes=0,q.pendingProps=ke,v.deletions=null):(q=vf(Q,ke),q.subtreeFlags=Q.subtreeFlags&14680064),we!==null?re=vf(we,re):(re=Cp(re,ue,$,null),re.flags|=2),re.return=v,q.return=v,q.sibling=re,v.child=q,q=re,re=v.child,ue=p.child.memoizedState,ue=ue===null?Q7($):{baseLanes:ue.baseLanes|$,cachePool:null,transitions:ue.transitions},re.memoizedState=ue,re.childLanes=p.childLanes&~$,v.memoizedState=Z7,q}return re=p.child,p=re.sibling,q=vf(re,{mode:"visible",children:q.children}),(v.mode&1)===0&&(q.lanes=$),q.return=v,q.sibling=null,p!==null&&($=v.deletions,$===null?(v.deletions=[p],v.flags|=16):$.push(p)),v.child=q,v.memoizedState=null,q}function J7(p,v){return v=f4({mode:"visible",children:v},p.mode,0,null),v.return=p,p.child=v}function e4(p,v,$,q){return q!==null&&S7(q),t1(v,p.child,null,$),p=J7(v,v.pendingProps.children),p.flags|=2,v.memoizedState=null,p}function Jme(p,v,$,q,Q,re,ue){if($)return v.flags&256?(v.flags&=-257,q=V7(Error(r(422))),e4(p,v,ue,q)):v.memoizedState!==null?(v.child=p.child,v.flags|=128,null):(re=q.fallback,Q=v.mode,q=f4({mode:"visible",children:q.children},Q,0,null),re=Cp(re,Q,ue,null),re.flags|=2,q.return=v,re.return=v,q.sibling=re,v.child=q,(v.mode&1)!==0&&t1(v,p.child,null,ue),v.child.memoizedState=Q7(ue),v.memoizedState=Z7,re);if((v.mode&1)===0)return e4(p,v,ue,null);if(Q.data==="$!"){if(q=Q.nextSibling&&Q.nextSibling.dataset,q)var we=q.dgst;return q=we,re=Error(r(419)),q=V7(re,q,void 0),e4(p,v,ue,q)}if(we=(ue&p.childLanes)!==0,ca||we){if(q=ps,q!==null){switch(ue&-ue){case 4:Q=2;break;case 16:Q=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Q=32;break;case 536870912:Q=268435456;break;default:Q=0}Q=(Q&(q.suspendedLanes|ue))!==0?0:Q,Q!==0&&Q!==re.retryLane&&(re.retryLane=Q,Wd(p,Q),$c(q,p,Q,-1))}return pS(),q=V7(Error(r(421))),e4(p,v,ue,q)}return Q.data==="$?"?(v.flags|=128,v.child=p.child,v=d1e.bind(null,p),Q._reactRetry=v,null):(p=re.treeContext,Ja=lf(Q.nextSibling),Qa=v,di=!0,Cc=null,p!==null&&(Rl[Ol++]=Fd,Rl[Ol++]=zd,Rl[Ol++]=yp,Fd=p.id,zd=p.overflow,yp=v),v=J7(v,q.children),v.flags|=4096,v)}function _U(p,v,$){p.lanes|=v;var q=p.alternate;q!==null&&(q.lanes|=v),T7(p.return,v,$)}function X7(p,v,$,q,Q){var re=p.memoizedState;re===null?p.memoizedState={isBackwards:v,rendering:null,renderingStartTime:0,last:q,tail:$,tailMode:Q}:(re.isBackwards=v,re.rendering=null,re.renderingStartTime=0,re.last=q,re.tail=$,re.tailMode=Q)}function AU(p,v,$){var q=v.pendingProps,Q=q.revealOrder,re=q.tail;if(jo(p,v,q.children,$),q=mi.current,(q&2)!==0)q=q&1|2,v.flags|=128;else{if(p!==null&&(p.flags&128)!==0)e:for(p=v.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&_U(p,$,v);else if(p.tag===19)_U(p,$,v);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===v)break e;for(;p.sibling===null;){if(p.return===null||p.return===v)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}q&=1}if(Yn(mi,q),(v.mode&1)===0)v.memoizedState=null;else switch(Q){case"forwards":for($=v.child,Q=null;$!==null;)p=$.alternate,p!==null&&G6(p)===null&&(Q=$),$=$.sibling;$=Q,$===null?(Q=v.child,v.child=null):(Q=$.sibling,$.sibling=null),X7(v,!1,Q,$,re);break;case"backwards":for($=null,Q=v.child,v.child=null;Q!==null;){if(p=Q.alternate,p!==null&&G6(p)===null){v.child=Q;break}p=Q.sibling,Q.sibling=$,$=Q,Q=p}X7(v,!0,$,null,re);break;case"together":X7(v,!1,null,null,void 0);break;default:v.memoizedState=null}return v.child}function t4(p,v){(v.mode&1)===0&&p!==null&&(p.alternate=null,v.alternate=null,v.flags|=2)}function Hd(p,v,$){if(p!==null&&(v.dependencies=p.dependencies),Ep|=v.lanes,($&v.childLanes)===0)return null;if(p!==null&&v.child!==p.child)throw Error(r(153));if(v.child!==null){for(p=v.child,$=vf(p,p.pendingProps),v.child=$,$.return=v;p.sibling!==null;)p=p.sibling,$=$.sibling=vf(p,p.pendingProps),$.return=v;$.sibling=null}return v.child}function Xme(p,v,$){switch(v.tag){case 3:bU(v),Jm();break;case 5:FB(v);break;case 1:la(v.type)&&L6(v);break;case 4:R7(v,v.stateNode.containerInfo);break;case 10:var q=v.type._context,Q=v.memoizedProps.value;Yn(z6,q._currentValue),q._currentValue=Q;break;case 13:if(q=v.memoizedState,q!==null)return q.dehydrated!==null?(Yn(mi,mi.current&1),v.flags|=128,null):($&v.child.childLanes)!==0?EU(p,v,$):(Yn(mi,mi.current&1),p=Hd(p,v,$),p!==null?p.sibling:null);Yn(mi,mi.current&1);break;case 19:if(q=($&v.childLanes)!==0,(p.flags&128)!==0){if(q)return AU(p,v,$);v.flags|=128}if(Q=v.memoizedState,Q!==null&&(Q.rendering=null,Q.tail=null,Q.lastEffect=null),Yn(mi,mi.current),q)break;return null;case 22:case 23:return v.lanes=0,yU(p,v,$)}return Hd(p,v,$)}var SU,eS,CU,kU;SU=function(p,v){for(var $=v.child;$!==null;){if($.tag===5||$.tag===6)p.appendChild($.stateNode);else if($.tag!==4&&$.child!==null){$.child.return=$,$=$.child;continue}if($===v)break;for(;$.sibling===null;){if($.return===null||$.return===v)return;$=$.return}$.sibling.return=$.return,$=$.sibling}},eS=function(){},CU=function(p,v,$,q){var Q=p.memoizedProps;if(Q!==q){p=v.stateNode,bp(ju.current);var re=null;switch($){case"input":Q=Ce(p,Q),q=Ce(p,q),re=[];break;case"select":Q=R({},Q,{value:void 0}),q=R({},q,{value:void 0}),re=[];break;case"textarea":Q=ht(p,Q),q=ht(p,q),re=[];break;default:typeof Q.onClick!="function"&&typeof q.onClick=="function"&&(p.onclick=R6)}ve($,q);var ue;$=null;for(Qe in Q)if(!q.hasOwnProperty(Qe)&&Q.hasOwnProperty(Qe)&&Q[Qe]!=null)if(Qe==="style"){var we=Q[Qe];for(ue in we)we.hasOwnProperty(ue)&&($||($={}),$[ue]="")}else Qe!=="dangerouslySetInnerHTML"&&Qe!=="children"&&Qe!=="suppressContentEditableWarning"&&Qe!=="suppressHydrationWarning"&&Qe!=="autoFocus"&&(i.hasOwnProperty(Qe)?re||(re=[]):(re=re||[]).push(Qe,null));for(Qe in q){var ke=q[Qe];if(we=Q?.[Qe],q.hasOwnProperty(Qe)&&ke!==we&&(ke!=null||we!=null))if(Qe==="style")if(we){for(ue in we)!we.hasOwnProperty(ue)||ke&&ke.hasOwnProperty(ue)||($||($={}),$[ue]="");for(ue in ke)ke.hasOwnProperty(ue)&&we[ue]!==ke[ue]&&($||($={}),$[ue]=ke[ue])}else $||(re||(re=[]),re.push(Qe,$)),$=ke;else Qe==="dangerouslySetInnerHTML"?(ke=ke?ke.__html:void 0,we=we?we.__html:void 0,ke!=null&&we!==ke&&(re=re||[]).push(Qe,ke)):Qe==="children"?typeof ke!="string"&&typeof ke!="number"||(re=re||[]).push(Qe,""+ke):Qe!=="suppressContentEditableWarning"&&Qe!=="suppressHydrationWarning"&&(i.hasOwnProperty(Qe)?(ke!=null&&Qe==="onScroll"&&ti("scroll",p),re||we===ke||(re=[])):(re=re||[]).push(Qe,ke))}$&&(re=re||[]).push("style",$);var Qe=re;(v.updateQueue=Qe)&&(v.flags|=4)}},kU=function(p,v,$,q){$!==q&&(v.flags|=4)};function T2(p,v){if(!di)switch(p.tailMode){case"hidden":v=p.tail;for(var $=null;v!==null;)v.alternate!==null&&($=v),v=v.sibling;$===null?p.tail=null:$.sibling=null;break;case"collapsed":$=p.tail;for(var q=null;$!==null;)$.alternate!==null&&(q=$),$=$.sibling;q===null?v||p.tail===null?p.tail=null:p.tail.sibling=null:q.sibling=null}}function io(p){var v=p.alternate!==null&&p.alternate.child===p.child,$=0,q=0;if(v)for(var Q=p.child;Q!==null;)$|=Q.lanes|Q.childLanes,q|=Q.subtreeFlags&14680064,q|=Q.flags&14680064,Q.return=p,Q=Q.sibling;else for(Q=p.child;Q!==null;)$|=Q.lanes|Q.childLanes,q|=Q.subtreeFlags,q|=Q.flags,Q.return=p,Q=Q.sibling;return p.subtreeFlags|=q,p.childLanes=$,v}function e1e(p,v,$){var q=v.pendingProps;switch(E7(v),v.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return io(v),null;case 1:return la(v.type)&&j6(),io(v),null;case 3:return q=v.stateNode,r1(),ri(aa),ri(ro),L7(),q.pendingContext&&(q.context=q.pendingContext,q.pendingContext=null),(p===null||p.child===null)&&(F6(v)?v.flags|=4:p===null||p.memoizedState.isDehydrated&&(v.flags&256)===0||(v.flags|=1024,Cc!==null&&(dS(Cc),Cc=null))),eS(p,v),io(v),null;case 5:O7(v);var Q=bp(A2.current);if($=v.type,p!==null&&v.stateNode!=null)CU(p,v,$,q,Q),p.ref!==v.ref&&(v.flags|=512,v.flags|=2097152);else{if(!q){if(v.stateNode===null)throw Error(r(166));return io(v),null}if(p=bp(ju.current),F6(v)){q=v.stateNode,$=v.type;var re=v.memoizedProps;switch(q[Ou]=v,q[v2]=re,p=(v.mode&1)!==0,$){case"dialog":ti("cancel",q),ti("close",q);break;case"iframe":case"object":case"embed":ti("load",q);break;case"video":case"audio":for(Q=0;Q<m2.length;Q++)ti(m2[Q],q);break;case"source":ti("error",q);break;case"img":case"image":case"link":ti("error",q),ti("load",q);break;case"details":ti("toggle",q);break;case"input":je(q,re),ti("invalid",q);break;case"select":q._wrapperState={wasMultiple:!!re.multiple},ti("invalid",q);break;case"textarea":Je(q,re),ti("invalid",q)}ve($,re),Q=null;for(var ue in re)if(re.hasOwnProperty(ue)){var we=re[ue];ue==="children"?typeof we=="string"?q.textContent!==we&&(re.suppressHydrationWarning!==!0&&N6(q.textContent,we,p),Q=["children",we]):typeof we=="number"&&q.textContent!==""+we&&(re.suppressHydrationWarning!==!0&&N6(q.textContent,we,p),Q=["children",""+we]):i.hasOwnProperty(ue)&&we!=null&&ue==="onScroll"&&ti("scroll",q)}switch($){case"input":ye(q),Le(q,re,!0);break;case"textarea":ye(q),At(q);break;case"select":case"option":break;default:typeof re.onClick=="function"&&(q.onclick=R6)}q=Q,v.updateQueue=q,q!==null&&(v.flags|=4)}else{ue=Q.nodeType===9?Q:Q.ownerDocument,p==="http://www.w3.org/1999/xhtml"&&(p=it($)),p==="http://www.w3.org/1999/xhtml"?$==="script"?(p=ue.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild)):typeof q.is=="string"?p=ue.createElement($,{is:q.is}):(p=ue.createElement($),$==="select"&&(ue=p,q.multiple?ue.multiple=!0:q.size&&(ue.size=q.size))):p=ue.createElementNS(p,$),p[Ou]=v,p[v2]=q,SU(p,v,!1,!1),v.stateNode=p;e:{switch(ue=ut($,q),$){case"dialog":ti("cancel",p),ti("close",p),Q=q;break;case"iframe":case"object":case"embed":ti("load",p),Q=q;break;case"video":case"audio":for(Q=0;Q<m2.length;Q++)ti(m2[Q],p);Q=q;break;case"source":ti("error",p),Q=q;break;case"img":case"image":case"link":ti("error",p),ti("load",p),Q=q;break;case"details":ti("toggle",p),Q=q;break;case"input":je(p,q),Q=Ce(p,q),ti("invalid",p);break;case"option":Q=q;break;case"select":p._wrapperState={wasMultiple:!!q.multiple},Q=R({},q,{value:void 0}),ti("invalid",p);break;case"textarea":Je(p,q),Q=ht(p,q),ti("invalid",p);break;default:Q=q}ve($,Q),we=Q;for(re in we)if(we.hasOwnProperty(re)){var ke=we[re];re==="style"?ge(p,ke):re==="dangerouslySetInnerHTML"?(ke=ke?ke.__html:void 0,ke!=null&&Xe(p,ke)):re==="children"?typeof ke=="string"?($!=="textarea"||ke!=="")&&se(p,ke):typeof ke=="number"&&se(p,""+ke):re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&re!=="autoFocus"&&(i.hasOwnProperty(re)?ke!=null&&re==="onScroll"&&ti("scroll",p):ke!=null&&P(p,re,ke,ue))}switch($){case"input":ye(p),Le(p,q,!1);break;case"textarea":ye(p),At(p);break;case"option":q.value!=null&&p.setAttribute("value",""+ie(q.value));break;case"select":p.multiple=!!q.multiple,re=q.value,re!=null?Me(p,!!q.multiple,re,!1):q.defaultValue!=null&&Me(p,!!q.multiple,q.defaultValue,!0);break;default:typeof Q.onClick=="function"&&(p.onclick=R6)}switch($){case"button":case"input":case"select":case"textarea":q=!!q.autoFocus;break e;case"img":q=!0;break e;default:q=!1}}q&&(v.flags|=4)}v.ref!==null&&(v.flags|=512,v.flags|=2097152)}return io(v),null;case 6:if(p&&v.stateNode!=null)kU(p,v,p.memoizedProps,q);else{if(typeof q!="string"&&v.stateNode===null)throw Error(r(166));if($=bp(A2.current),bp(ju.current),F6(v)){if(q=v.stateNode,$=v.memoizedProps,q[Ou]=v,(re=q.nodeValue!==$)&&(p=Qa,p!==null))switch(p.tag){case 3:N6(q.nodeValue,$,(p.mode&1)!==0);break;case 5:p.memoizedProps.suppressHydrationWarning!==!0&&N6(q.nodeValue,$,(p.mode&1)!==0)}re&&(v.flags|=4)}else q=($.nodeType===9?$:$.ownerDocument).createTextNode(q),q[Ou]=v,v.stateNode=q}return io(v),null;case 13:if(ri(mi),q=v.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(di&&Ja!==null&&(v.mode&1)!==0&&(v.flags&128)===0)TB(),Jm(),v.flags|=98560,re=!1;else if(re=F6(v),q!==null&&q.dehydrated!==null){if(p===null){if(!re)throw Error(r(318));if(re=v.memoizedState,re=re!==null?re.dehydrated:null,!re)throw Error(r(317));re[Ou]=v}else Jm(),(v.flags&128)===0&&(v.memoizedState=null),v.flags|=4;io(v),re=!1}else Cc!==null&&(dS(Cc),Cc=null),re=!0;if(!re)return v.flags&65536?v:null}return(v.flags&128)!==0?(v.lanes=$,v):(q=q!==null,q!==(p!==null&&p.memoizedState!==null)&&q&&(v.child.flags|=8192,(v.mode&1)!==0&&(p===null||(mi.current&1)!==0?Ji===0&&(Ji=3):pS())),v.updateQueue!==null&&(v.flags|=4),io(v),null);case 4:return r1(),eS(p,v),p===null&&y2(v.stateNode.containerInfo),io(v),null;case 10:return I7(v.type._context),io(v),null;case 17:return la(v.type)&&j6(),io(v),null;case 19:if(ri(mi),re=v.memoizedState,re===null)return io(v),null;if(q=(v.flags&128)!==0,ue=re.rendering,ue===null)if(q)T2(re,!1);else{if(Ji!==0||p!==null&&(p.flags&128)!==0)for(p=v.child;p!==null;){if(ue=G6(p),ue!==null){for(v.flags|=128,T2(re,!1),q=ue.updateQueue,q!==null&&(v.updateQueue=q,v.flags|=4),v.subtreeFlags=0,q=$,$=v.child;$!==null;)re=$,p=q,re.flags&=14680066,ue=re.alternate,ue===null?(re.childLanes=0,re.lanes=p,re.child=null,re.subtreeFlags=0,re.memoizedProps=null,re.memoizedState=null,re.updateQueue=null,re.dependencies=null,re.stateNode=null):(re.childLanes=ue.childLanes,re.lanes=ue.lanes,re.child=ue.child,re.subtreeFlags=0,re.deletions=null,re.memoizedProps=ue.memoizedProps,re.memoizedState=ue.memoizedState,re.updateQueue=ue.updateQueue,re.type=ue.type,p=ue.dependencies,re.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),$=$.sibling;return Yn(mi,mi.current&1|2),v.child}p=p.sibling}re.tail!==null&&Lt()>o1&&(v.flags|=128,q=!0,T2(re,!1),v.lanes=4194304)}else{if(!q)if(p=G6(ue),p!==null){if(v.flags|=128,q=!0,$=p.updateQueue,$!==null&&(v.updateQueue=$,v.flags|=4),T2(re,!0),re.tail===null&&re.tailMode==="hidden"&&!ue.alternate&&!di)return io(v),null}else 2*Lt()-re.renderingStartTime>o1&&$!==1073741824&&(v.flags|=128,q=!0,T2(re,!1),v.lanes=4194304);re.isBackwards?(ue.sibling=v.child,v.child=ue):($=re.last,$!==null?$.sibling=ue:v.child=ue,re.last=ue)}return re.tail!==null?(v=re.tail,re.rendering=v,re.tail=v.sibling,re.renderingStartTime=Lt(),v.sibling=null,$=mi.current,Yn(mi,q?$&1|2:$&1),v):(io(v),null);case 22:case 23:return fS(),q=v.memoizedState!==null,p!==null&&p.memoizedState!==null!==q&&(v.flags|=8192),q&&(v.mode&1)!==0?(Xa&1073741824)!==0&&(io(v),v.subtreeFlags&6&&(v.flags|=8192)):io(v),null;case 24:return null;case 25:return null}throw Error(r(156,v.tag))}function t1e(p,v){switch(E7(v),v.tag){case 1:return la(v.type)&&j6(),p=v.flags,p&65536?(v.flags=p&-65537|128,v):null;case 3:return r1(),ri(aa),ri(ro),L7(),p=v.flags,(p&65536)!==0&&(p&128)===0?(v.flags=p&-65537|128,v):null;case 5:return O7(v),null;case 13:if(ri(mi),p=v.memoizedState,p!==null&&p.dehydrated!==null){if(v.alternate===null)throw Error(r(340));Jm()}return p=v.flags,p&65536?(v.flags=p&-65537|128,v):null;case 19:return ri(mi),null;case 4:return r1(),null;case 10:return I7(v.type._context),null;case 22:case 23:return fS(),null;case 24:return null;default:return null}}var r4=!1,so=!1,r1e=typeof WeakSet=="function"?WeakSet:Set,er=null;function i1(p,v){var $=p.ref;if($!==null)if(typeof $=="function")try{$(null)}catch(q){_i(p,v,q)}else $.current=null}function tS(p,v,$){try{$()}catch(q){_i(p,v,q)}}var IU=!1;function n1e(p,v){if(f7=ei,p=sB(),s7(p)){if("selectionStart"in p)var $={start:p.selectionStart,end:p.selectionEnd};else e:{$=($=p.ownerDocument)&&$.defaultView||window;var q=$.getSelection&&$.getSelection();if(q&&q.rangeCount!==0){$=q.anchorNode;var Q=q.anchorOffset,re=q.focusNode;q=q.focusOffset;try{$.nodeType,re.nodeType}catch{$=null;break e}var ue=0,we=-1,ke=-1,Qe=0,vt=0,_t=p,wt=null;t:for(;;){for(var Qt;_t!==$||Q!==0&&_t.nodeType!==3||(we=ue+Q),_t!==re||q!==0&&_t.nodeType!==3||(ke=ue+q),_t.nodeType===3&&(ue+=_t.nodeValue.length),(Qt=_t.firstChild)!==null;)wt=_t,_t=Qt;for(;;){if(_t===p)break t;if(wt===$&&++Qe===Q&&(we=ue),wt===re&&++vt===q&&(ke=ue),(Qt=_t.nextSibling)!==null)break;_t=wt,wt=_t.parentNode}_t=Qt}$=we===-1||ke===-1?null:{start:we,end:ke}}else $=null}$=$||{start:0,end:0}}else $=null;for(p7={focusedElem:p,selectionRange:$},ei=!1,er=v;er!==null;)if(v=er,p=v.child,(v.subtreeFlags&1028)!==0&&p!==null)p.return=v,er=p;else for(;er!==null;){v=er;try{var nr=v.alternate;if((v.flags&1024)!==0)switch(v.tag){case 0:case 11:case 15:break;case 1:if(nr!==null){var sr=nr.memoizedProps,$i=nr.memoizedState,ze=v.stateNode,Te=ze.getSnapshotBeforeUpdate(v.elementType===v.type?sr:kc(v.type,sr),$i);ze.__reactInternalSnapshotBeforeUpdate=Te}break;case 3:var qe=v.stateNode.containerInfo;qe.nodeType===1?qe.textContent="":qe.nodeType===9&&qe.documentElement&&qe.removeChild(qe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ct){_i(v,v.return,Ct)}if(p=v.sibling,p!==null){p.return=v.return,er=p;break}er=v.return}return nr=IU,IU=!1,nr}function $2(p,v,$){var q=v.updateQueue;if(q=q!==null?q.lastEffect:null,q!==null){var Q=q=q.next;do{if((Q.tag&p)===p){var re=Q.destroy;Q.destroy=void 0,re!==void 0&&tS(v,$,re)}Q=Q.next}while(Q!==q)}}function n4(p,v){if(v=v.updateQueue,v=v!==null?v.lastEffect:null,v!==null){var $=v=v.next;do{if(($.tag&p)===p){var q=$.create;$.destroy=q()}$=$.next}while($!==v)}}function rS(p){var v=p.ref;if(v!==null){var $=p.stateNode;switch(p.tag){case 5:p=$;break;default:p=$}typeof v=="function"?v(p):v.current=p}}function TU(p){var v=p.alternate;v!==null&&(p.alternate=null,TU(v)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(v=p.stateNode,v!==null&&(delete v[Ou],delete v[v2],delete v[w7],delete v[Bme],delete v[Ume])),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function $U(p){return p.tag===5||p.tag===3||p.tag===4}function MU(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||$U(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function nS(p,v,$){var q=p.tag;if(q===5||q===6)p=p.stateNode,v?$.nodeType===8?$.parentNode.insertBefore(p,v):$.insertBefore(p,v):($.nodeType===8?(v=$.parentNode,v.insertBefore(p,$)):(v=$,v.appendChild(p)),$=$._reactRootContainer,$!=null||v.onclick!==null||(v.onclick=R6));else if(q!==4&&(p=p.child,p!==null))for(nS(p,v,$),p=p.sibling;p!==null;)nS(p,v,$),p=p.sibling}function iS(p,v,$){var q=p.tag;if(q===5||q===6)p=p.stateNode,v?$.insertBefore(p,v):$.appendChild(p);else if(q!==4&&(p=p.child,p!==null))for(iS(p,v,$),p=p.sibling;p!==null;)iS(p,v,$),p=p.sibling}var ks=null,Ic=!1;function pf(p,v,$){for($=$.child;$!==null;)PU(p,v,$),$=$.sibling}function PU(p,v,$){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(Gn,$)}catch{}switch($.tag){case 5:so||i1($,v);case 6:var q=ks,Q=Ic;ks=null,pf(p,v,$),ks=q,Ic=Q,ks!==null&&(Ic?(p=ks,$=$.stateNode,p.nodeType===8?p.parentNode.removeChild($):p.removeChild($)):ks.removeChild($.stateNode));break;case 18:ks!==null&&(Ic?(p=ks,$=$.stateNode,p.nodeType===8?y7(p.parentNode,$):p.nodeType===1&&y7(p,$),yt(p)):y7(ks,$.stateNode));break;case 4:q=ks,Q=Ic,ks=$.stateNode.containerInfo,Ic=!0,pf(p,v,$),ks=q,Ic=Q;break;case 0:case 11:case 14:case 15:if(!so&&(q=$.updateQueue,q!==null&&(q=q.lastEffect,q!==null))){Q=q=q.next;do{var re=Q,ue=re.destroy;re=re.tag,ue!==void 0&&((re&2)!==0||(re&4)!==0)&&tS($,v,ue),Q=Q.next}while(Q!==q)}pf(p,v,$);break;case 1:if(!so&&(i1($,v),q=$.stateNode,typeof q.componentWillUnmount=="function"))try{q.props=$.memoizedProps,q.state=$.memoizedState,q.componentWillUnmount()}catch(we){_i($,v,we)}pf(p,v,$);break;case 21:pf(p,v,$);break;case 22:$.mode&1?(so=(q=so)||$.memoizedState!==null,pf(p,v,$),so=q):pf(p,v,$);break;default:pf(p,v,$)}}function NU(p){var v=p.updateQueue;if(v!==null){p.updateQueue=null;var $=p.stateNode;$===null&&($=p.stateNode=new r1e),v.forEach(function(q){var Q=h1e.bind(null,p,q);$.has(q)||($.add(q),q.then(Q,Q))})}}function Tc(p,v){var $=v.deletions;if($!==null)for(var q=0;q<$.length;q++){var Q=$[q];try{var re=p,ue=v,we=ue;e:for(;we!==null;){switch(we.tag){case 5:ks=we.stateNode,Ic=!1;break e;case 3:ks=we.stateNode.containerInfo,Ic=!0;break e;case 4:ks=we.stateNode.containerInfo,Ic=!0;break e}we=we.return}if(ks===null)throw Error(r(160));PU(re,ue,Q),ks=null,Ic=!1;var ke=Q.alternate;ke!==null&&(ke.return=null),Q.return=null}catch(Qe){_i(Q,v,Qe)}}if(v.subtreeFlags&12854)for(v=v.child;v!==null;)RU(v,p),v=v.sibling}function RU(p,v){var $=p.alternate,q=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:if(Tc(v,p),Du(p),q&4){try{$2(3,p,p.return),n4(3,p)}catch(sr){_i(p,p.return,sr)}try{$2(5,p,p.return)}catch(sr){_i(p,p.return,sr)}}break;case 1:Tc(v,p),Du(p),q&512&&$!==null&&i1($,$.return);break;case 5:if(Tc(v,p),Du(p),q&512&&$!==null&&i1($,$.return),p.flags&32){var Q=p.stateNode;try{se(Q,"")}catch(sr){_i(p,p.return,sr)}}if(q&4&&(Q=p.stateNode,Q!=null)){var re=p.memoizedProps,ue=$!==null?$.memoizedProps:re,we=p.type,ke=p.updateQueue;if(p.updateQueue=null,ke!==null)try{we==="input"&&re.type==="radio"&&re.name!=null&&mt(Q,re),ut(we,ue);var Qe=ut(we,re);for(ue=0;ue<ke.length;ue+=2){var vt=ke[ue],_t=ke[ue+1];vt==="style"?ge(Q,_t):vt==="dangerouslySetInnerHTML"?Xe(Q,_t):vt==="children"?se(Q,_t):P(Q,vt,_t,Qe)}switch(we){case"input":pe(Q,re);break;case"textarea":De(Q,re);break;case"select":var wt=Q._wrapperState.wasMultiple;Q._wrapperState.wasMultiple=!!re.multiple;var Qt=re.value;Qt!=null?Me(Q,!!re.multiple,Qt,!1):wt!==!!re.multiple&&(re.defaultValue!=null?Me(Q,!!re.multiple,re.defaultValue,!0):Me(Q,!!re.multiple,re.multiple?[]:"",!1))}Q[v2]=re}catch(sr){_i(p,p.return,sr)}}break;case 6:if(Tc(v,p),Du(p),q&4){if(p.stateNode===null)throw Error(r(162));Q=p.stateNode,re=p.memoizedProps;try{Q.nodeValue=re}catch(sr){_i(p,p.return,sr)}}break;case 3:if(Tc(v,p),Du(p),q&4&&$!==null&&$.memoizedState.isDehydrated)try{yt(v.containerInfo)}catch(sr){_i(p,p.return,sr)}break;case 4:Tc(v,p),Du(p);break;case 13:Tc(v,p),Du(p),Q=p.child,Q.flags&8192&&(re=Q.memoizedState!==null,Q.stateNode.isHidden=re,!re||Q.alternate!==null&&Q.alternate.memoizedState!==null||(aS=Lt())),q&4&&NU(p);break;case 22:if(vt=$!==null&&$.memoizedState!==null,p.mode&1?(so=(Qe=so)||vt,Tc(v,p),so=Qe):Tc(v,p),Du(p),q&8192){if(Qe=p.memoizedState!==null,(p.stateNode.isHidden=Qe)&&!vt&&(p.mode&1)!==0)for(er=p,vt=p.child;vt!==null;){for(_t=er=vt;er!==null;){switch(wt=er,Qt=wt.child,wt.tag){case 0:case 11:case 14:case 15:$2(4,wt,wt.return);break;case 1:i1(wt,wt.return);var nr=wt.stateNode;if(typeof nr.componentWillUnmount=="function"){q=wt,$=wt.return;try{v=q,nr.props=v.memoizedProps,nr.state=v.memoizedState,nr.componentWillUnmount()}catch(sr){_i(q,$,sr)}}break;case 5:i1(wt,wt.return);break;case 22:if(wt.memoizedState!==null){LU(_t);continue}}Qt!==null?(Qt.return=wt,er=Qt):LU(_t)}vt=vt.sibling}e:for(vt=null,_t=p;;){if(_t.tag===5){if(vt===null){vt=_t;try{Q=_t.stateNode,Qe?(re=Q.style,typeof re.setProperty=="function"?re.setProperty("display","none","important"):re.display="none"):(we=_t.stateNode,ke=_t.memoizedProps.style,ue=ke!=null&&ke.hasOwnProperty("display")?ke.display:null,we.style.display=oe("display",ue))}catch(sr){_i(p,p.return,sr)}}}else if(_t.tag===6){if(vt===null)try{_t.stateNode.nodeValue=Qe?"":_t.memoizedProps}catch(sr){_i(p,p.return,sr)}}else if((_t.tag!==22&&_t.tag!==23||_t.memoizedState===null||_t===p)&&_t.child!==null){_t.child.return=_t,_t=_t.child;continue}if(_t===p)break e;for(;_t.sibling===null;){if(_t.return===null||_t.return===p)break e;vt===_t&&(vt=null),_t=_t.return}vt===_t&&(vt=null),_t.sibling.return=_t.return,_t=_t.sibling}}break;case 19:Tc(v,p),Du(p),q&4&&NU(p);break;case 21:break;default:Tc(v,p),Du(p)}}function Du(p){var v=p.flags;if(v&2){try{e:{for(var $=p.return;$!==null;){if($U($)){var q=$;break e}$=$.return}throw Error(r(160))}switch(q.tag){case 5:var Q=q.stateNode;q.flags&32&&(se(Q,""),q.flags&=-33);var re=MU(p);iS(p,re,Q);break;case 3:case 4:var ue=q.stateNode.containerInfo,we=MU(p);nS(p,we,ue);break;default:throw Error(r(161))}}catch(ke){_i(p,p.return,ke)}p.flags&=-3}v&4096&&(p.flags&=-4097)}function i1e(p,v,$){er=p,OU(p)}function OU(p,v,$){for(var q=(p.mode&1)!==0;er!==null;){var Q=er,re=Q.child;if(Q.tag===22&&q){var ue=Q.memoizedState!==null||r4;if(!ue){var we=Q.alternate,ke=we!==null&&we.memoizedState!==null||so;we=r4;var Qe=so;if(r4=ue,(so=ke)&&!Qe)for(er=Q;er!==null;)ue=er,ke=ue.child,ue.tag===22&&ue.memoizedState!==null?DU(Q):ke!==null?(ke.return=ue,er=ke):DU(Q);for(;re!==null;)er=re,OU(re),re=re.sibling;er=Q,r4=we,so=Qe}jU(p)}else(Q.subtreeFlags&8772)!==0&&re!==null?(re.return=Q,er=re):jU(p)}}function jU(p){for(;er!==null;){var v=er;if((v.flags&8772)!==0){var $=v.alternate;try{if((v.flags&8772)!==0)switch(v.tag){case 0:case 11:case 15:so||n4(5,v);break;case 1:var q=v.stateNode;if(v.flags&4&&!so)if($===null)q.componentDidMount();else{var Q=v.elementType===v.type?$.memoizedProps:kc(v.type,$.memoizedProps);q.componentDidUpdate(Q,$.memoizedState,q.__reactInternalSnapshotBeforeUpdate)}var re=v.updateQueue;re!==null&&NB(v,re,q);break;case 3:var ue=v.updateQueue;if(ue!==null){if($=null,v.child!==null)switch(v.child.tag){case 5:$=v.child.stateNode;break;case 1:$=v.child.stateNode}NB(v,ue,$)}break;case 5:var we=v.stateNode;if($===null&&v.flags&4){$=we;var ke=v.memoizedProps;switch(v.type){case"button":case"input":case"select":case"textarea":ke.autoFocus&&$.focus();break;case"img":ke.src&&($.src=ke.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(v.memoizedState===null){var Qe=v.alternate;if(Qe!==null){var vt=Qe.memoizedState;if(vt!==null){var _t=vt.dehydrated;_t!==null&&yt(_t)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}so||v.flags&512&&rS(v)}catch(wt){_i(v,v.return,wt)}}if(v===p){er=null;break}if($=v.sibling,$!==null){$.return=v.return,er=$;break}er=v.return}}function LU(p){for(;er!==null;){var v=er;if(v===p){er=null;break}var $=v.sibling;if($!==null){$.return=v.return,er=$;break}er=v.return}}function DU(p){for(;er!==null;){var v=er;try{switch(v.tag){case 0:case 11:case 15:var $=v.return;try{n4(4,v)}catch(ke){_i(v,$,ke)}break;case 1:var q=v.stateNode;if(typeof q.componentDidMount=="function"){var Q=v.return;try{q.componentDidMount()}catch(ke){_i(v,Q,ke)}}var re=v.return;try{rS(v)}catch(ke){_i(v,re,ke)}break;case 5:var ue=v.return;try{rS(v)}catch(ke){_i(v,ue,ke)}}}catch(ke){_i(v,v.return,ke)}if(v===p){er=null;break}var we=v.sibling;if(we!==null){we.return=v.return,er=we;break}er=v.return}}var s1e=Math.ceil,i4=z.ReactCurrentDispatcher,sS=z.ReactCurrentOwner,Dl=z.ReactCurrentBatchConfig,un=0,ps=null,Fi=null,Is=0,Xa=0,s1=cf(0),Ji=0,M2=null,Ep=0,s4=0,oS=0,P2=null,ua=null,aS=0,o1=1/0,Vd=null,o4=!1,lS=null,gf=null,a4=!1,mf=null,l4=0,N2=0,cS=null,c4=-1,u4=0;function Lo(){return(un&6)!==0?Lt():c4!==-1?c4:c4=Lt()}function yf(p){return(p.mode&1)===0?1:(un&2)!==0&&Is!==0?Is&-Is:zme.transition!==null?(u4===0&&(u4=Dt()),u4):(p=Ar,p!==0||(p=window.event,p=p===void 0?16:l2(p.type)),p)}function $c(p,v,$,q){if(50<N2)throw N2=0,cS=null,Error(r(185));tr(p,$,q),((un&2)===0||p!==ps)&&(p===ps&&((un&2)===0&&(s4|=$),Ji===4&&wf(p,Is)),da(p,q),$===1&&un===0&&(v.mode&1)===0&&(o1=Lt()+500,D6&&df()))}function da(p,v){var $=p.callbackNode;$e(p,v);var q=pt(p,p===ps?Is:0);if(q===0)$!==null&&jr($),p.callbackNode=null,p.callbackPriority=0;else if(v=q&-q,p.callbackPriority!==v){if($!=null&&jr($),v===1)p.tag===0?Fme(UU.bind(null,p)):AB(UU.bind(null,p)),Lme(function(){(un&6)===0&&df()}),$=null;else{switch($u(q)){case 1:$=fr;break;case 4:$=Cn;break;case 16:$=pn;break;case 536870912:$=ui;break;default:$=pn}$=GU($,BU.bind(null,p))}p.callbackPriority=v,p.callbackNode=$}}function BU(p,v){if(c4=-1,u4=0,(un&6)!==0)throw Error(r(327));var $=p.callbackNode;if(a1()&&p.callbackNode!==$)return null;var q=pt(p,p===ps?Is:0);if(q===0)return null;if((q&30)!==0||(q&p.expiredLanes)!==0||v)v=d4(p,q);else{v=q;var Q=un;un|=2;var re=zU();(ps!==p||Is!==v)&&(Vd=null,o1=Lt()+500,Ap(p,v));do try{l1e();break}catch(we){FU(p,we)}while(!0);k7(),i4.current=re,un=Q,Fi!==null?v=0:(ps=null,Is=0,v=Ji)}if(v!==0){if(v===2&&(Q=gt(p),Q!==0&&(q=Q,v=uS(p,Q))),v===1)throw $=M2,Ap(p,0),wf(p,q),da(p,Lt()),$;if(v===6)wf(p,q);else{if(Q=p.current.alternate,(q&30)===0&&!o1e(Q)&&(v=d4(p,q),v===2&&(re=gt(p),re!==0&&(q=re,v=uS(p,re))),v===1))throw $=M2,Ap(p,0),wf(p,q),da(p,Lt()),$;switch(p.finishedWork=Q,p.finishedLanes=q,v){case 0:case 1:throw Error(r(345));case 2:Sp(p,ua,Vd);break;case 3:if(wf(p,q),(q&130023424)===q&&(v=aS+500-Lt(),10<v)){if(pt(p,0)!==0)break;if(Q=p.suspendedLanes,(Q&q)!==q){Lo(),p.pingedLanes|=p.suspendedLanes&Q;break}p.timeoutHandle=m7(Sp.bind(null,p,ua,Vd),v);break}Sp(p,ua,Vd);break;case 4:if(wf(p,q),(q&4194240)===q)break;for(v=p.eventTimes,Q=-1;0<q;){var ue=31-kn(q);re=1<<ue,ue=v[ue],ue>Q&&(Q=ue),q&=~re}if(q=Q,q=Lt()-q,q=(120>q?120:480>q?480:1080>q?1080:1920>q?1920:3e3>q?3e3:4320>q?4320:1960*s1e(q/1960))-q,10<q){p.timeoutHandle=m7(Sp.bind(null,p,ua,Vd),q);break}Sp(p,ua,Vd);break;case 5:Sp(p,ua,Vd);break;default:throw Error(r(329))}}}return da(p,Lt()),p.callbackNode===$?BU.bind(null,p):null}function uS(p,v){var $=P2;return p.current.memoizedState.isDehydrated&&(Ap(p,v).flags|=256),p=d4(p,v),p!==2&&(v=ua,ua=$,v!==null&&dS(v)),p}function dS(p){ua===null?ua=p:ua.push.apply(ua,p)}function o1e(p){for(var v=p;;){if(v.flags&16384){var $=v.updateQueue;if($!==null&&($=$.stores,$!==null))for(var q=0;q<$.length;q++){var Q=$[q],re=Q.getSnapshot;Q=Q.value;try{if(!Sc(re(),Q))return!1}catch{return!1}}}if($=v.child,v.subtreeFlags&16384&&$!==null)$.return=v,v=$;else{if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return!0;v=v.return}v.sibling.return=v.return,v=v.sibling}}return!0}function wf(p,v){for(v&=~oS,v&=~s4,p.suspendedLanes|=v,p.pingedLanes&=~v,p=p.expirationTimes;0<v;){var $=31-kn(v),q=1<<$;p[$]=-1,v&=~q}}function UU(p){if((un&6)!==0)throw Error(r(327));a1();var v=pt(p,0);if((v&1)===0)return da(p,Lt()),null;var $=d4(p,v);if(p.tag!==0&&$===2){var q=gt(p);q!==0&&(v=q,$=uS(p,q))}if($===1)throw $=M2,Ap(p,0),wf(p,v),da(p,Lt()),$;if($===6)throw Error(r(345));return p.finishedWork=p.current.alternate,p.finishedLanes=v,Sp(p,ua,Vd),da(p,Lt()),null}function hS(p,v){var $=un;un|=1;try{return p(v)}finally{un=$,un===0&&(o1=Lt()+500,D6&&df())}}function _p(p){mf!==null&&mf.tag===0&&(un&6)===0&&a1();var v=un;un|=1;var $=Dl.transition,q=Ar;try{if(Dl.transition=null,Ar=1,p)return p()}finally{Ar=q,Dl.transition=$,un=v,(un&6)===0&&df()}}function fS(){Xa=s1.current,ri(s1)}function Ap(p,v){p.finishedWork=null,p.finishedLanes=0;var $=p.timeoutHandle;if($!==-1&&(p.timeoutHandle=-1,jme($)),Fi!==null)for($=Fi.return;$!==null;){var q=$;switch(E7(q),q.tag){case 1:q=q.type.childContextTypes,q!=null&&j6();break;case 3:r1(),ri(aa),ri(ro),L7();break;case 5:O7(q);break;case 4:r1();break;case 13:ri(mi);break;case 19:ri(mi);break;case 10:I7(q.type._context);break;case 22:case 23:fS()}$=$.return}if(ps=p,Fi=p=vf(p.current,null),Is=Xa=v,Ji=0,M2=null,oS=s4=Ep=0,ua=P2=null,vp!==null){for(v=0;v<vp.length;v++)if($=vp[v],q=$.interleaved,q!==null){$.interleaved=null;var Q=q.next,re=$.pending;if(re!==null){var ue=re.next;re.next=Q,q.next=ue}$.pending=q}vp=null}return p}function FU(p,v){do{var $=Fi;try{if(k7(),Y6.current=X6,Z6){for(var q=yi.memoizedState;q!==null;){var Q=q.queue;Q!==null&&(Q.pending=null),q=q.next}Z6=!1}if(xp=0,fs=Qi=yi=null,S2=!1,C2=0,sS.current=null,$===null||$.return===null){Ji=1,M2=v,Fi=null;break}e:{var re=p,ue=$.return,we=$,ke=v;if(v=Is,we.flags|=32768,ke!==null&&typeof ke=="object"&&typeof ke.then=="function"){var Qe=ke,vt=we,_t=vt.tag;if((vt.mode&1)===0&&(_t===0||_t===11||_t===15)){var wt=vt.alternate;wt?(vt.updateQueue=wt.updateQueue,vt.memoizedState=wt.memoizedState,vt.lanes=wt.lanes):(vt.updateQueue=null,vt.memoizedState=null)}var Qt=hU(ue);if(Qt!==null){Qt.flags&=-257,fU(Qt,ue,we,re,v),Qt.mode&1&&dU(re,Qe,v),v=Qt,ke=Qe;var nr=v.updateQueue;if(nr===null){var sr=new Set;sr.add(ke),v.updateQueue=sr}else nr.add(ke);break e}else{if((v&1)===0){dU(re,Qe,v),pS();break e}ke=Error(r(426))}}else if(di&&we.mode&1){var $i=hU(ue);if($i!==null){($i.flags&65536)===0&&($i.flags|=256),fU($i,ue,we,re,v),S7(n1(ke,we));break e}}re=ke=n1(ke,we),Ji!==4&&(Ji=2),P2===null?P2=[re]:P2.push(re),re=ue;do{switch(re.tag){case 3:re.flags|=65536,v&=-v,re.lanes|=v;var ze=cU(re,ke,v);PB(re,ze);break e;case 1:we=ke;var Te=re.type,qe=re.stateNode;if((re.flags&128)===0&&(typeof Te.getDerivedStateFromError=="function"||qe!==null&&typeof qe.componentDidCatch=="function"&&(gf===null||!gf.has(qe)))){re.flags|=65536,v&=-v,re.lanes|=v;var Ct=uU(re,we,v);PB(re,Ct);break e}}re=re.return}while(re!==null)}qU($)}catch(ar){v=ar,Fi===$&&$!==null&&(Fi=$=$.return);continue}break}while(!0)}function zU(){var p=i4.current;return i4.current=X6,p===null?X6:p}function pS(){(Ji===0||Ji===3||Ji===2)&&(Ji=4),ps===null||(Ep&268435455)===0&&(s4&268435455)===0||wf(ps,Is)}function d4(p,v){var $=un;un|=2;var q=zU();(ps!==p||Is!==v)&&(Vd=null,Ap(p,v));do try{a1e();break}catch(Q){FU(p,Q)}while(!0);if(k7(),un=$,i4.current=q,Fi!==null)throw Error(r(261));return ps=null,Is=0,Ji}function a1e(){for(;Fi!==null;)WU(Fi)}function l1e(){for(;Fi!==null&&!an();)WU(Fi)}function WU(p){var v=KU(p.alternate,p,Xa);p.memoizedProps=p.pendingProps,v===null?qU(p):Fi=v,sS.current=null}function qU(p){var v=p;do{var $=v.alternate;if(p=v.return,(v.flags&32768)===0){if($=e1e($,v,Xa),$!==null){Fi=$;return}}else{if($=t1e($,v),$!==null){$.flags&=32767,Fi=$;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{Ji=6,Fi=null;return}}if(v=v.sibling,v!==null){Fi=v;return}Fi=v=p}while(v!==null);Ji===0&&(Ji=5)}function Sp(p,v,$){var q=Ar,Q=Dl.transition;try{Dl.transition=null,Ar=1,c1e(p,v,$,q)}finally{Dl.transition=Q,Ar=q}return null}function c1e(p,v,$,q){do a1();while(mf!==null);if((un&6)!==0)throw Error(r(327));$=p.finishedWork;var Q=p.finishedLanes;if($===null)return null;if(p.finishedWork=null,p.finishedLanes=0,$===p.current)throw Error(r(177));p.callbackNode=null,p.callbackPriority=0;var re=$.lanes|$.childLanes;if(Tr(p,re),p===ps&&(Fi=ps=null,Is=0),($.subtreeFlags&2064)===0&&($.flags&2064)===0||a4||(a4=!0,GU(pn,function(){return a1(),null})),re=($.flags&15990)!==0,($.subtreeFlags&15990)!==0||re){re=Dl.transition,Dl.transition=null;var ue=Ar;Ar=1;var we=un;un|=4,sS.current=null,n1e(p,$),RU($,p),Tme(p7),ei=!!f7,p7=f7=null,p.current=$,i1e($),Xn(),un=we,Ar=ue,Dl.transition=re}else p.current=$;if(a4&&(a4=!1,mf=p,l4=Q),re=p.pendingLanes,re===0&&(gf=null),Ti($.stateNode),da(p,Lt()),v!==null)for(q=p.onRecoverableError,$=0;$<v.length;$++)Q=v[$],q(Q.value,{componentStack:Q.stack,digest:Q.digest});if(o4)throw o4=!1,p=lS,lS=null,p;return(l4&1)!==0&&p.tag!==0&&a1(),re=p.pendingLanes,(re&1)!==0?p===cS?N2++:(N2=0,cS=p):N2=0,df(),null}function a1(){if(mf!==null){var p=$u(l4),v=Dl.transition,$=Ar;try{if(Dl.transition=null,Ar=16>p?16:p,mf===null)var q=!1;else{if(p=mf,mf=null,l4=0,(un&6)!==0)throw Error(r(331));var Q=un;for(un|=4,er=p.current;er!==null;){var re=er,ue=re.child;if((er.flags&16)!==0){var we=re.deletions;if(we!==null){for(var ke=0;ke<we.length;ke++){var Qe=we[ke];for(er=Qe;er!==null;){var vt=er;switch(vt.tag){case 0:case 11:case 15:$2(8,vt,re)}var _t=vt.child;if(_t!==null)_t.return=vt,er=_t;else for(;er!==null;){vt=er;var wt=vt.sibling,Qt=vt.return;if(TU(vt),vt===Qe){er=null;break}if(wt!==null){wt.return=Qt,er=wt;break}er=Qt}}}var nr=re.alternate;if(nr!==null){var sr=nr.child;if(sr!==null){nr.child=null;do{var $i=sr.sibling;sr.sibling=null,sr=$i}while(sr!==null)}}er=re}}if((re.subtreeFlags&2064)!==0&&ue!==null)ue.return=re,er=ue;else e:for(;er!==null;){if(re=er,(re.flags&2048)!==0)switch(re.tag){case 0:case 11:case 15:$2(9,re,re.return)}var ze=re.sibling;if(ze!==null){ze.return=re.return,er=ze;break e}er=re.return}}var Te=p.current;for(er=Te;er!==null;){ue=er;var qe=ue.child;if((ue.subtreeFlags&2064)!==0&&qe!==null)qe.return=ue,er=qe;else e:for(ue=Te;er!==null;){if(we=er,(we.flags&2048)!==0)try{switch(we.tag){case 0:case 11:case 15:n4(9,we)}}catch(ar){_i(we,we.return,ar)}if(we===ue){er=null;break e}var Ct=we.sibling;if(Ct!==null){Ct.return=we.return,er=Ct;break e}er=we.return}}if(un=Q,df(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(Gn,p)}catch{}q=!0}return q}finally{Ar=$,Dl.transition=v}}return!1}function HU(p,v,$){v=n1($,v),v=cU(p,v,1),p=ff(p,v,1),v=Lo(),p!==null&&(tr(p,1,v),da(p,v))}function _i(p,v,$){if(p.tag===3)HU(p,p,$);else for(;v!==null;){if(v.tag===3){HU(v,p,$);break}else if(v.tag===1){var q=v.stateNode;if(typeof v.type.getDerivedStateFromError=="function"||typeof q.componentDidCatch=="function"&&(gf===null||!gf.has(q))){p=n1($,p),p=uU(v,p,1),v=ff(v,p,1),p=Lo(),v!==null&&(tr(v,1,p),da(v,p));break}}v=v.return}}function u1e(p,v,$){var q=p.pingCache;q!==null&&q.delete(v),v=Lo(),p.pingedLanes|=p.suspendedLanes&$,ps===p&&(Is&$)===$&&(Ji===4||Ji===3&&(Is&130023424)===Is&&500>Lt()-aS?Ap(p,0):oS|=$),da(p,v)}function VU(p,v){v===0&&((p.mode&1)===0?v=1:(v=of,of<<=1,(of&130023424)===0&&(of=4194304)));var $=Lo();p=Wd(p,v),p!==null&&(tr(p,v,$),da(p,$))}function d1e(p){var v=p.memoizedState,$=0;v!==null&&($=v.retryLane),VU(p,$)}function h1e(p,v){var $=0;switch(p.tag){case 13:var q=p.stateNode,Q=p.memoizedState;Q!==null&&($=Q.retryLane);break;case 19:q=p.stateNode;break;default:throw Error(r(314))}q!==null&&q.delete(v),VU(p,$)}var KU;KU=function(p,v,$){if(p!==null)if(p.memoizedProps!==v.pendingProps||aa.current)ca=!0;else{if((p.lanes&$)===0&&(v.flags&128)===0)return ca=!1,Xme(p,v,$);ca=(p.flags&131072)!==0}else ca=!1,di&&(v.flags&1048576)!==0&&SB(v,U6,v.index);switch(v.lanes=0,v.tag){case 2:var q=v.type;t4(p,v),p=v.pendingProps;var Q=Ym(v,ro.current);e1(v,$),Q=U7(null,v,q,p,Q,$);var re=F7();return v.flags|=1,typeof Q=="object"&&Q!==null&&typeof Q.render=="function"&&Q.$$typeof===void 0?(v.tag=1,v.memoizedState=null,v.updateQueue=null,la(q)?(re=!0,L6(v)):re=!1,v.memoizedState=Q.state!==null&&Q.state!==void 0?Q.state:null,M7(v),Q.updater=V6,v.stateNode=Q,Q._reactInternals=v,N7(v,q,p,$),v=Y7(null,v,q,!0,re,$)):(v.tag=0,di&&re&&x7(v),jo(null,v,Q,$),v=v.child),v;case 16:q=v.elementType;e:{switch(t4(p,v),p=v.pendingProps,Q=q._init,q=Q(q._payload),v.type=q,Q=v.tag=p1e(q),p=kc(q,p),Q){case 0:v=G7(null,v,q,p,$);break e;case 1:v=vU(null,v,q,p,$);break e;case 11:v=pU(null,v,q,p,$);break e;case 14:v=gU(null,v,q,kc(q.type,p),$);break e}throw Error(r(306,q,""))}return v;case 0:return q=v.type,Q=v.pendingProps,Q=v.elementType===q?Q:kc(q,Q),G7(p,v,q,Q,$);case 1:return q=v.type,Q=v.pendingProps,Q=v.elementType===q?Q:kc(q,Q),vU(p,v,q,Q,$);case 3:e:{if(bU(v),p===null)throw Error(r(387));q=v.pendingProps,re=v.memoizedState,Q=re.element,MB(p,v),H6(v,q,null,$);var ue=v.memoizedState;if(q=ue.element,re.isDehydrated)if(re={element:q,isDehydrated:!1,cache:ue.cache,pendingSuspenseBoundaries:ue.pendingSuspenseBoundaries,transitions:ue.transitions},v.updateQueue.baseState=re,v.memoizedState=re,v.flags&256){Q=n1(Error(r(423)),v),v=xU(p,v,q,$,Q);break e}else if(q!==Q){Q=n1(Error(r(424)),v),v=xU(p,v,q,$,Q);break e}else for(Ja=lf(v.stateNode.containerInfo.firstChild),Qa=v,di=!0,Cc=null,$=UB(v,null,q,$),v.child=$;$;)$.flags=$.flags&-3|4096,$=$.sibling;else{if(Jm(),q===Q){v=Hd(p,v,$);break e}jo(p,v,q,$)}v=v.child}return v;case 5:return FB(v),p===null&&A7(v),q=v.type,Q=v.pendingProps,re=p!==null?p.memoizedProps:null,ue=Q.children,g7(q,Q)?ue=null:re!==null&&g7(q,re)&&(v.flags|=32),wU(p,v),jo(p,v,ue,$),v.child;case 6:return p===null&&A7(v),null;case 13:return EU(p,v,$);case 4:return R7(v,v.stateNode.containerInfo),q=v.pendingProps,p===null?v.child=t1(v,null,q,$):jo(p,v,q,$),v.child;case 11:return q=v.type,Q=v.pendingProps,Q=v.elementType===q?Q:kc(q,Q),pU(p,v,q,Q,$);case 7:return jo(p,v,v.pendingProps,$),v.child;case 8:return jo(p,v,v.pendingProps.children,$),v.child;case 12:return jo(p,v,v.pendingProps.children,$),v.child;case 10:e:{if(q=v.type._context,Q=v.pendingProps,re=v.memoizedProps,ue=Q.value,Yn(z6,q._currentValue),q._currentValue=ue,re!==null)if(Sc(re.value,ue)){if(re.children===Q.children&&!aa.current){v=Hd(p,v,$);break e}}else for(re=v.child,re!==null&&(re.return=v);re!==null;){var we=re.dependencies;if(we!==null){ue=re.child;for(var ke=we.firstContext;ke!==null;){if(ke.context===q){if(re.tag===1){ke=qd(-1,$&-$),ke.tag=2;var Qe=re.updateQueue;if(Qe!==null){Qe=Qe.shared;var vt=Qe.pending;vt===null?ke.next=ke:(ke.next=vt.next,vt.next=ke),Qe.pending=ke}}re.lanes|=$,ke=re.alternate,ke!==null&&(ke.lanes|=$),T7(re.return,$,v),we.lanes|=$;break}ke=ke.next}}else if(re.tag===10)ue=re.type===v.type?null:re.child;else if(re.tag===18){if(ue=re.return,ue===null)throw Error(r(341));ue.lanes|=$,we=ue.alternate,we!==null&&(we.lanes|=$),T7(ue,$,v),ue=re.sibling}else ue=re.child;if(ue!==null)ue.return=re;else for(ue=re;ue!==null;){if(ue===v){ue=null;break}if(re=ue.sibling,re!==null){re.return=ue.return,ue=re;break}ue=ue.return}re=ue}jo(p,v,Q.children,$),v=v.child}return v;case 9:return Q=v.type,q=v.pendingProps.children,e1(v,$),Q=jl(Q),q=q(Q),v.flags|=1,jo(p,v,q,$),v.child;case 14:return q=v.type,Q=kc(q,v.pendingProps),Q=kc(q.type,Q),gU(p,v,q,Q,$);case 15:return mU(p,v,v.type,v.pendingProps,$);case 17:return q=v.type,Q=v.pendingProps,Q=v.elementType===q?Q:kc(q,Q),t4(p,v),v.tag=1,la(q)?(p=!0,L6(v)):p=!1,e1(v,$),jB(v,q,Q),N7(v,q,Q,$),Y7(null,v,q,!0,p,$);case 19:return AU(p,v,$);case 22:return yU(p,v,$)}throw Error(r(156,v.tag))};function GU(p,v){return Sr(p,v)}function f1e(p,v,$,q){this.tag=p,this.key=$,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=v,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=q,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bl(p,v,$,q){return new f1e(p,v,$,q)}function gS(p){return p=p.prototype,!(!p||!p.isReactComponent)}function p1e(p){if(typeof p=="function")return gS(p)?1:0;if(p!=null){if(p=p.$$typeof,p===j)return 11;if(p===g)return 14}return 2}function vf(p,v){var $=p.alternate;return $===null?($=Bl(p.tag,v,p.key,p.mode),$.elementType=p.elementType,$.type=p.type,$.stateNode=p.stateNode,$.alternate=p,p.alternate=$):($.pendingProps=v,$.type=p.type,$.flags=0,$.subtreeFlags=0,$.deletions=null),$.flags=p.flags&14680064,$.childLanes=p.childLanes,$.lanes=p.lanes,$.child=p.child,$.memoizedProps=p.memoizedProps,$.memoizedState=p.memoizedState,$.updateQueue=p.updateQueue,v=p.dependencies,$.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext},$.sibling=p.sibling,$.index=p.index,$.ref=p.ref,$}function h4(p,v,$,q,Q,re){var ue=2;if(q=p,typeof p=="function")gS(p)&&(ue=1);else if(typeof p=="string")ue=5;else e:switch(p){case H:return Cp($.children,Q,re,v);case G:ue=8,Q|=8;break;case N:return p=Bl(12,$,v,Q|2),p.elementType=N,p.lanes=re,p;case _:return p=Bl(13,$,v,Q),p.elementType=_,p.lanes=re,p;case d:return p=Bl(19,$,v,Q),p.elementType=d,p.lanes=re,p;case C:return f4($,Q,re,v);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case F:ue=10;break e;case U:ue=9;break e;case j:ue=11;break e;case g:ue=14;break e;case x:ue=16,q=null;break e}throw Error(r(130,p==null?p:typeof p,""))}return v=Bl(ue,$,v,Q),v.elementType=p,v.type=q,v.lanes=re,v}function Cp(p,v,$,q){return p=Bl(7,p,q,v),p.lanes=$,p}function f4(p,v,$,q){return p=Bl(22,p,q,v),p.elementType=C,p.lanes=$,p.stateNode={isHidden:!1},p}function mS(p,v,$){return p=Bl(6,p,null,v),p.lanes=$,p}function yS(p,v,$){return v=Bl(4,p.children!==null?p.children:[],p.key,v),v.lanes=$,v.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},v}function g1e(p,v,$,q,Q){this.tag=v,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rt(0),this.expirationTimes=Rt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rt(0),this.identifierPrefix=q,this.onRecoverableError=Q,this.mutableSourceEagerHydrationData=null}function wS(p,v,$,q,Q,re,ue,we,ke){return p=new g1e(p,v,$,we,ke),v===1?(v=1,re===!0&&(v|=8)):v=0,re=Bl(3,null,null,v),p.current=re,re.stateNode=p,re.memoizedState={element:q,isDehydrated:$,cache:null,transitions:null,pendingSuspenseBoundaries:null},M7(re),p}function m1e(p,v,$){var q=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:q==null?null:""+q,children:p,containerInfo:v,implementation:$}}function YU(p){if(!p)return uf;p=p._reactInternals;e:{if(Nt(p)!==p||p.tag!==1)throw Error(r(170));var v=p;do{switch(v.tag){case 3:v=v.stateNode.context;break e;case 1:if(la(v.type)){v=v.stateNode.__reactInternalMemoizedMergedChildContext;break e}}v=v.return}while(v!==null);throw Error(r(171))}if(p.tag===1){var $=p.type;if(la($))return EB(p,$,v)}return v}function ZU(p,v,$,q,Q,re,ue,we,ke){return p=wS($,q,!0,p,Q,re,ue,we,ke),p.context=YU(null),$=p.current,q=Lo(),Q=yf($),re=qd(q,Q),re.callback=v??null,ff($,re,Q),p.current.lanes=Q,tr(p,Q,q),da(p,q),p}function p4(p,v,$,q){var Q=v.current,re=Lo(),ue=yf(Q);return $=YU($),v.context===null?v.context=$:v.pendingContext=$,v=qd(re,ue),v.payload={element:p},q=q===void 0?null:q,q!==null&&(v.callback=q),p=ff(Q,v,ue),p!==null&&($c(p,Q,ue,re),q6(p,Q,ue)),ue}function g4(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return p.child.stateNode;default:return p.child.stateNode}}function QU(p,v){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var $=p.retryLane;p.retryLane=$!==0&&$<v?$:v}}function vS(p,v){QU(p,v),(p=p.alternate)&&QU(p,v)}function y1e(){return null}var JU=typeof reportError=="function"?reportError:function(p){console.error(p)};function bS(p){this._internalRoot=p}m4.prototype.render=bS.prototype.render=function(p){var v=this._internalRoot;if(v===null)throw Error(r(409));p4(p,v,null,null)},m4.prototype.unmount=bS.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var v=p.containerInfo;_p(function(){p4(null,p,null,null)}),v[Bd]=null}};function m4(p){this._internalRoot=p}m4.prototype.unstable_scheduleHydration=function(p){if(p){var v=v6();p={blockedOn:null,target:p,priority:v};for(var $=0;$<Ru.length&&v!==0&&v<Ru[$].priority;$++);Ru.splice($,0,p),$===0&&_6(p)}};function xS(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function y4(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11&&(p.nodeType!==8||p.nodeValue!==" react-mount-point-unstable "))}function XU(){}function w1e(p,v,$,q,Q){if(Q){if(typeof q=="function"){var re=q;q=function(){var Qe=g4(ue);re.call(Qe)}}var ue=ZU(v,q,p,0,null,!1,!1,"",XU);return p._reactRootContainer=ue,p[Bd]=ue.current,y2(p.nodeType===8?p.parentNode:p),_p(),ue}for(;Q=p.lastChild;)p.removeChild(Q);if(typeof q=="function"){var we=q;q=function(){var Qe=g4(ke);we.call(Qe)}}var ke=wS(p,0,!1,null,null,!1,!1,"",XU);return p._reactRootContainer=ke,p[Bd]=ke.current,y2(p.nodeType===8?p.parentNode:p),_p(function(){p4(v,ke,$,q)}),ke}function w4(p,v,$,q,Q){var re=$._reactRootContainer;if(re){var ue=re;if(typeof Q=="function"){var we=Q;Q=function(){var ke=g4(ue);we.call(ke)}}p4(v,ue,p,Q)}else ue=w1e($,v,p,Q,q);return g4(ue)}Om=function(p){switch(p.tag){case 3:var v=p.stateNode;if(v.current.memoizedState.isDehydrated){var $=Ht(v.pendingLanes);$!==0&&(Lr(v,$|1),da(v,Lt()),(un&6)===0&&(o1=Lt()+500,df()))}break;case 13:_p(function(){var q=Wd(p,1);if(q!==null){var Q=Lo();$c(q,p,1,Q)}}),vS(p,1)}},dp=function(p){if(p.tag===13){var v=Wd(p,134217728);if(v!==null){var $=Lo();$c(v,p,134217728,$)}vS(p,134217728)}},w6=function(p){if(p.tag===13){var v=yf(p),$=Wd(p,v);if($!==null){var q=Lo();$c($,p,v,q)}vS(p,v)}},v6=function(){return Ar},b6=function(p,v){var $=Ar;try{return Ar=p,v()}finally{Ar=$}},Ut=function(p,v,$){switch(v){case"input":if(pe(p,$),v=$.name,$.type==="radio"&&v!=null){for($=p;$.parentNode;)$=$.parentNode;for($=$.querySelectorAll("input[name="+JSON.stringify(""+v)+'][type="radio"]'),v=0;v<$.length;v++){var q=$[v];if(q!==p&&q.form===p.form){var Q=O6(q);if(!Q)throw Error(r(90));Ae(q),pe(q,Q)}}}break;case"textarea":De(p,$);break;case"select":v=$.value,v!=null&&Me(p,!!$.multiple,v,!1)}},Nr=hS,dt=_p;var v1e={usingClientEntryPoint:!1,Events:[b2,Km,O6,Fe,ct,hS]},R2={findFiberByHostInstance:gp,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},b1e={bundleType:R2.bundleType,version:R2.version,rendererPackageName:R2.rendererPackageName,rendererConfig:R2.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(p){return p=$r(p),p===null?null:p.stateNode},findFiberByHostInstance:R2.findFiberByHostInstance||y1e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var v4=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!v4.isDisabled&&v4.supportsFiber)try{Gn=v4.inject(b1e),gn=v4}catch{}}return ha.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v1e,ha.createPortal=function(p,v){var $=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xS(v))throw Error(r(200));return m1e(p,v,null,$)},ha.createRoot=function(p,v){if(!xS(p))throw Error(r(299));var $=!1,q="",Q=JU;return v!=null&&(v.unstable_strictMode===!0&&($=!0),v.identifierPrefix!==void 0&&(q=v.identifierPrefix),v.onRecoverableError!==void 0&&(Q=v.onRecoverableError)),v=wS(p,1,!1,null,null,$,!1,q,Q),p[Bd]=v.current,y2(p.nodeType===8?p.parentNode:p),new bS(v)},ha.findDOMNode=function(p){if(p==null)return null;if(p.nodeType===1)return p;var v=p._reactInternals;if(v===void 0)throw typeof p.render=="function"?Error(r(188)):(p=Object.keys(p).join(","),Error(r(268,p)));return p=$r(v),p=p===null?null:p.stateNode,p},ha.flushSync=function(p){return _p(p)},ha.hydrate=function(p,v,$){if(!y4(v))throw Error(r(200));return w4(null,p,v,!0,$)},ha.hydrateRoot=function(p,v,$){if(!xS(p))throw Error(r(405));var q=$!=null&&$.hydratedSources||null,Q=!1,re="",ue=JU;if($!=null&&($.unstable_strictMode===!0&&(Q=!0),$.identifierPrefix!==void 0&&(re=$.identifierPrefix),$.onRecoverableError!==void 0&&(ue=$.onRecoverableError)),v=ZU(v,null,p,1,$??null,Q,!1,re,ue),p[Bd]=v.current,y2(p),q)for(p=0;p<q.length;p++)$=q[p],Q=$._getVersion,Q=Q($._source),v.mutableSourceEagerHydrationData==null?v.mutableSourceEagerHydrationData=[$,Q]:v.mutableSourceEagerHydrationData.push($,Q);return new m4(v)},ha.render=function(p,v,$){if(!y4(v))throw Error(r(200));return w4(null,p,v,!1,$)},ha.unmountComponentAtNode=function(p){if(!y4(p))throw Error(r(40));return p._reactRootContainer?(_p(function(){w4(null,null,p,!1,function(){p._reactRootContainer=null,p[Bd]=null})}),!0):!1},ha.unstable_batchedUpdates=hS,ha.unstable_renderSubtreeIntoContainer=function(p,v,$,q){if(!y4($))throw Error(r(200));if(p==null||p._reactInternals===void 0)throw Error(r(38));return w4(p,v,$,!1,q)},ha.version="18.2.0-next-9e3b772b8-20220608",ha}var aF;function WX(){if(aF)return AS.exports;aF=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),AS.exports=I1e(),AS.exports}var lF;function T1e(){if(lF)return b4;lF=1;var t=WX();return b4.createRoot=t.createRoot,b4.hydrateRoot=t.hydrateRoot,b4}var $1e=T1e();const M1e=ds($1e),P1e="modulepreload",N1e=function(t){return"/"+t},cF={},Da=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let l=function(u){return Promise.all(u.map(c=>Promise.resolve(c).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");i=l(r.map(u=>{if(u=N1e(u),u in cF)return;cF[u]=!0;const c=u.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const m=document.createElement("link");if(m.rel=c?"stylesheet":P1e,c||(m.as="script"),m.crossOrigin="",m.href=u,a&&m.setAttribute("nonce",a),document.head.appendChild(m),c)return new Promise((y,b)=>{m.addEventListener("load",y),m.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};var TR={},p_={};p_.byteLength=j1e;p_.toByteArray=D1e;p_.fromByteArray=F1e;var pd=[],Ql=[],R1e=typeof Uint8Array<"u"?Uint8Array:Array,kS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var l1=0,O1e=kS.length;l1<O1e;++l1)pd[l1]=kS[l1],Ql[kS.charCodeAt(l1)]=l1;Ql[45]=62;Ql[95]=63;function qX(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function j1e(t){var e=qX(t),r=e[0],n=e[1];return(r+n)*3/4-n}function L1e(t,e,r){return(e+r)*3/4-r}function D1e(t){var e,r=qX(t),n=r[0],i=r[1],s=new R1e(L1e(t,n,i)),o=0,a=i>0?n-4:n,l;for(l=0;l<a;l+=4)e=Ql[t.charCodeAt(l)]<<18|Ql[t.charCodeAt(l+1)]<<12|Ql[t.charCodeAt(l+2)]<<6|Ql[t.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=Ql[t.charCodeAt(l)]<<2|Ql[t.charCodeAt(l+1)]>>4,s[o++]=e&255),i===1&&(e=Ql[t.charCodeAt(l)]<<10|Ql[t.charCodeAt(l+1)]<<4|Ql[t.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function B1e(t){return pd[t>>18&63]+pd[t>>12&63]+pd[t>>6&63]+pd[t&63]}function U1e(t,e,r){for(var n,i=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(B1e(n));return i.join("")}function F1e(t){for(var e,r=t.length,n=r%3,i=[],s=16383,o=0,a=r-n;o<a;o+=s)i.push(U1e(t,o,o+s>a?a:o+s));return n===1?(e=t[r-1],i.push(pd[e>>2]+pd[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(pd[e>>10]+pd[e>>4&63]+pd[e<<2&63]+"=")),i.join("")}var $R={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */$R.read=function(t,e,r,n,i){var s,o,a=i*8-n-1,l=(1<<a)-1,u=l>>1,c=-7,h=r?i-1:0,m=r?-1:1,y=t[e+h];for(h+=m,s=y&(1<<-c)-1,y>>=-c,c+=a;c>0;s=s*256+t[e+h],h+=m,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=n;c>0;o=o*256+t[e+h],h+=m,c-=8);if(s===0)s=1-u;else{if(s===l)return o?NaN:(y?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-u}return(y?-1:1)*o*Math.pow(2,s-n)};$R.write=function(t,e,r,n,i,s){var o,a,l,u=s*8-i-1,c=(1<<u)-1,h=c>>1,m=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:s-1,b=n?1:-1,E=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+h>=1?e+=m/l:e+=m*Math.pow(2,1-h),e*l>=2&&(o++,l/=2),o+h>=c?(a=0,o=c):o+h>=1?(a=(e*l-1)*Math.pow(2,i),o=o+h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[r+y]=a&255,y+=b,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;t[r+y]=o&255,y+=b,o/=256,u-=8);t[r+y-b]|=E*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=p_,r=$R,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=L,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i;const{Uint8Array:s,ArrayBuffer:o,SharedArrayBuffer:a}=globalThis;c.TYPED_ARRAY_SUPPORT=l(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const se=new s(1),X={foo:function(){return 42}};return Object.setPrototypeOf(X,s.prototype),Object.setPrototypeOf(se,X),se.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function u(se){if(se>i)throw new RangeError('The value "'+se+'" is invalid for option "size"');const X=new s(se);return Object.setPrototypeOf(X,c.prototype),X}function c(se,X,ee){if(typeof se=="number"){if(typeof X=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return b(se)}return h(se,X,ee)}c.poolSize=8192;function h(se,X,ee){if(typeof se=="string")return E(se,X);if(o.isView(se))return M(se);if(se==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof se);if(At(se,o)||se&&At(se.buffer,o)||typeof a<"u"&&(At(se,a)||se&&At(se.buffer,a)))return O(se,X,ee);if(typeof se=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const oe=se.valueOf&&se.valueOf();if(oe!=null&&oe!==se)return c.from(oe,X,ee);const ge=P(se);if(ge)return ge;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof se[Symbol.toPrimitive]=="function")return c.from(se[Symbol.toPrimitive]("string"),X,ee);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof se)}c.from=function(se,X,ee){return h(se,X,ee)},Object.setPrototypeOf(c.prototype,s.prototype),Object.setPrototypeOf(c,s);function m(se){if(typeof se!="number")throw new TypeError('"size" argument must be of type number');if(se<0)throw new RangeError('The value "'+se+'" is invalid for option "size"')}function y(se,X,ee){return m(se),se<=0?u(se):X!==void 0?typeof ee=="string"?u(se).fill(X,ee):u(se).fill(X):u(se)}c.alloc=function(se,X,ee){return y(se,X,ee)};function b(se){return m(se),u(se<0?0:z(se)|0)}c.allocUnsafe=function(se){return b(se)},c.allocUnsafeSlow=function(se){return b(se)};function E(se,X){if((typeof X!="string"||X==="")&&(X="utf8"),!c.isEncoding(X))throw new TypeError("Unknown encoding: "+X);const ee=W(se,X)|0;let oe=u(ee);const ge=oe.write(se,X);return ge!==ee&&(oe=oe.slice(0,ge)),oe}function A(se){const X=se.length<0?0:z(se.length)|0,ee=u(X);for(let oe=0;oe<X;oe+=1)ee[oe]=se[oe]&255;return ee}function M(se){if(At(se,s)){const X=new s(se);return O(X.buffer,X.byteOffset,X.byteLength)}return A(se)}function O(se,X,ee){if(X<0||se.byteLength<X)throw new RangeError('"offset" is outside of buffer bounds');if(se.byteLength<X+(ee||0))throw new RangeError('"length" is outside of buffer bounds');let oe;return X===void 0&&ee===void 0?oe=new s(se):ee===void 0?oe=new s(se,X):oe=new s(se,X,ee),Object.setPrototypeOf(oe,c.prototype),oe}function P(se){if(c.isBuffer(se)){const X=z(se.length)|0,ee=u(X);return ee.length===0||se.copy(ee,0,0,X),ee}if(se.length!==void 0)return typeof se.length!="number"||it(se.length)?u(0):A(se);if(se.type==="Buffer"&&Array.isArray(se.data))return A(se.data)}function z(se){if(se>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return se|0}function L(se){return+se!=se&&(se=0),c.alloc(+se)}c.isBuffer=function(X){return X!=null&&X._isBuffer===!0&&X!==c.prototype},c.compare=function(X,ee){if(At(X,s)&&(X=c.from(X,X.offset,X.byteLength)),At(ee,s)&&(ee=c.from(ee,ee.offset,ee.byteLength)),!c.isBuffer(X)||!c.isBuffer(ee))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(X===ee)return 0;let oe=X.length,ge=ee.length;for(let fe=0,ve=Math.min(oe,ge);fe<ve;++fe)if(X[fe]!==ee[fe]){oe=X[fe],ge=ee[fe];break}return oe<ge?-1:ge<oe?1:0},c.isEncoding=function(X){switch(String(X).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(X,ee){if(!Array.isArray(X))throw new TypeError('"list" argument must be an Array of Buffers');if(X.length===0)return c.alloc(0);let oe;if(ee===void 0)for(ee=0,oe=0;oe<X.length;++oe)ee+=X[oe].length;const ge=c.allocUnsafe(ee);let fe=0;for(oe=0;oe<X.length;++oe){let ve=X[oe];if(At(ve,s))fe+ve.length>ge.length?(c.isBuffer(ve)||(ve=c.from(ve)),ve.copy(ge,fe)):s.prototype.set.call(ge,ve,fe);else if(c.isBuffer(ve))ve.copy(ge,fe);else throw new TypeError('"list" argument must be an Array of Buffers');fe+=ve.length}return ge};function W(se,X){if(c.isBuffer(se))return se.length;if(o.isView(se)||At(se,o))return se.byteLength;if(typeof se!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof se);const ee=se.length,oe=arguments.length>2&&arguments[2]===!0;if(!oe&&ee===0)return 0;let ge=!1;for(;;)switch(X){case"ascii":case"latin1":case"binary":return ee;case"utf8":case"utf-8":return Ie(se).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee*2;case"hex":return ee>>>1;case"base64":return Je(se).length;default:if(ge)return oe?-1:Ie(se).length;X=(""+X).toLowerCase(),ge=!0}}c.byteLength=W;function H(se,X,ee){let oe=!1;if((X===void 0||X<0)&&(X=0),X>this.length||((ee===void 0||ee>this.length)&&(ee=this.length),ee<=0)||(ee>>>=0,X>>>=0,ee<=X))return"";for(se||(se="utf8");;)switch(se){case"hex":return f(this,X,ee);case"utf8":case"utf-8":return C(this,X,ee);case"ascii":return R(this,X,ee);case"latin1":case"binary":return I(this,X,ee);case"base64":return x(this,X,ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,X,ee);default:if(oe)throw new TypeError("Unknown encoding: "+se);se=(se+"").toLowerCase(),oe=!0}}c.prototype._isBuffer=!0;function G(se,X,ee){const oe=se[X];se[X]=se[ee],se[ee]=oe}c.prototype.swap16=function(){const X=this.length;if(X%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let ee=0;ee<X;ee+=2)G(this,ee,ee+1);return this},c.prototype.swap32=function(){const X=this.length;if(X%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let ee=0;ee<X;ee+=4)G(this,ee,ee+3),G(this,ee+1,ee+2);return this},c.prototype.swap64=function(){const X=this.length;if(X%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let ee=0;ee<X;ee+=8)G(this,ee,ee+7),G(this,ee+1,ee+6),G(this,ee+2,ee+5),G(this,ee+3,ee+4);return this},c.prototype.toString=function(){const X=this.length;return X===0?"":arguments.length===0?C(this,0,X):H.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(X){if(!c.isBuffer(X))throw new TypeError("Argument must be a Buffer");return this===X?!0:c.compare(this,X)===0},c.prototype.inspect=function(){let X="";const ee=t.INSPECT_MAX_BYTES;return X=this.toString("hex",0,ee).replace(/(.{2})/g,"$1 ").trim(),this.length>ee&&(X+=" ... "),"<Buffer "+X+">"},n&&(c.prototype[n]=c.prototype.inspect),c.prototype.compare=function(X,ee,oe,ge,fe){if(At(X,s)&&(X=c.from(X,X.offset,X.byteLength)),!c.isBuffer(X))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof X);if(ee===void 0&&(ee=0),oe===void 0&&(oe=X?X.length:0),ge===void 0&&(ge=0),fe===void 0&&(fe=this.length),ee<0||oe>X.length||ge<0||fe>this.length)throw new RangeError("out of range index");if(ge>=fe&&ee>=oe)return 0;if(ge>=fe)return-1;if(ee>=oe)return 1;if(ee>>>=0,oe>>>=0,ge>>>=0,fe>>>=0,this===X)return 0;let ve=fe-ge,ut=oe-ee;const Pe=Math.min(ve,ut),Ye=this.slice(ge,fe),Ut=X.slice(ee,oe);for(let Oe=0;Oe<Pe;++Oe)if(Ye[Oe]!==Ut[Oe]){ve=Ye[Oe],ut=Ut[Oe];break}return ve<ut?-1:ut<ve?1:0};function N(se,X,ee,oe,ge){if(se.length===0)return-1;if(typeof ee=="string"?(oe=ee,ee=0):ee>2147483647?ee=2147483647:ee<-2147483648&&(ee=-2147483648),ee=+ee,it(ee)&&(ee=ge?0:se.length-1),ee<0&&(ee=se.length+ee),ee>=se.length){if(ge)return-1;ee=se.length-1}else if(ee<0)if(ge)ee=0;else return-1;if(typeof X=="string"&&(X=c.from(X,oe)),c.isBuffer(X))return X.length===0?-1:F(se,X,ee,oe,ge);if(typeof X=="number")return X=X&255,typeof s.prototype.indexOf=="function"?ge?s.prototype.indexOf.call(se,X,ee):s.prototype.lastIndexOf.call(se,X,ee):F(se,[X],ee,oe,ge);throw new TypeError("val must be string, number or Buffer")}function F(se,X,ee,oe,ge){let fe=1,ve=se.length,ut=X.length;if(oe!==void 0&&(oe=String(oe).toLowerCase(),oe==="ucs2"||oe==="ucs-2"||oe==="utf16le"||oe==="utf-16le")){if(se.length<2||X.length<2)return-1;fe=2,ve/=2,ut/=2,ee/=2}function Pe(Ut,Oe){return fe===1?Ut[Oe]:Ut.readUInt16BE(Oe*fe)}let Ye;if(ge){let Ut=-1;for(Ye=ee;Ye<ve;Ye++)if(Pe(se,Ye)===Pe(X,Ut===-1?0:Ye-Ut)){if(Ut===-1&&(Ut=Ye),Ye-Ut+1===ut)return Ut*fe}else Ut!==-1&&(Ye-=Ye-Ut),Ut=-1}else for(ee+ut>ve&&(ee=ve-ut),Ye=ee;Ye>=0;Ye--){let Ut=!0;for(let Oe=0;Oe<ut;Oe++)if(Pe(se,Ye+Oe)!==Pe(X,Oe)){Ut=!1;break}if(Ut)return Ye}return-1}c.prototype.includes=function(X,ee,oe){return this.indexOf(X,ee,oe)!==-1},c.prototype.indexOf=function(X,ee,oe){return N(this,X,ee,oe,!0)},c.prototype.lastIndexOf=function(X,ee,oe){return N(this,X,ee,oe,!1)};function U(se,X,ee,oe){ee=Number(ee)||0;const ge=se.length-ee;oe?(oe=Number(oe),oe>ge&&(oe=ge)):oe=ge;const fe=X.length;oe>fe/2&&(oe=fe/2);let ve;for(ve=0;ve<oe;++ve){const ut=parseInt(X.substr(ve*2,2),16);if(it(ut))return ve;se[ee+ve]=ut}return ve}function j(se,X,ee,oe){return De(Ie(X,se.length-ee),se,ee,oe)}function _(se,X,ee,oe){return De(Me(X),se,ee,oe)}function d(se,X,ee,oe){return De(Je(X),se,ee,oe)}function g(se,X,ee,oe){return De(ht(X,se.length-ee),se,ee,oe)}c.prototype.write=function(X,ee,oe,ge){if(ee===void 0)ge="utf8",oe=this.length,ee=0;else if(oe===void 0&&typeof ee=="string")ge=ee,oe=this.length,ee=0;else if(isFinite(ee))ee=ee>>>0,isFinite(oe)?(oe=oe>>>0,ge===void 0&&(ge="utf8")):(ge=oe,oe=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const fe=this.length-ee;if((oe===void 0||oe>fe)&&(oe=fe),X.length>0&&(oe<0||ee<0)||ee>this.length)throw new RangeError("Attempt to write outside buffer bounds");ge||(ge="utf8");let ve=!1;for(;;)switch(ge){case"hex":return U(this,X,ee,oe);case"utf8":case"utf-8":return j(this,X,ee,oe);case"ascii":case"latin1":case"binary":return _(this,X,ee,oe);case"base64":return d(this,X,ee,oe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g(this,X,ee,oe);default:if(ve)throw new TypeError("Unknown encoding: "+ge);ge=(""+ge).toLowerCase(),ve=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function x(se,X,ee){return X===0&&ee===se.length?e.fromByteArray(se):e.fromByteArray(se.slice(X,ee))}function C(se,X,ee){ee=Math.min(se.length,ee);const oe=[];let ge=X;for(;ge<ee;){const fe=se[ge];let ve=null,ut=fe>239?4:fe>223?3:fe>191?2:1;if(ge+ut<=ee){let Pe,Ye,Ut,Oe;switch(ut){case 1:fe<128&&(ve=fe);break;case 2:Pe=se[ge+1],(Pe&192)===128&&(Oe=(fe&31)<<6|Pe&63,Oe>127&&(ve=Oe));break;case 3:Pe=se[ge+1],Ye=se[ge+2],(Pe&192)===128&&(Ye&192)===128&&(Oe=(fe&15)<<12|(Pe&63)<<6|Ye&63,Oe>2047&&(Oe<55296||Oe>57343)&&(ve=Oe));break;case 4:Pe=se[ge+1],Ye=se[ge+2],Ut=se[ge+3],(Pe&192)===128&&(Ye&192)===128&&(Ut&192)===128&&(Oe=(fe&15)<<18|(Pe&63)<<12|(Ye&63)<<6|Ut&63,Oe>65535&&Oe<1114112&&(ve=Oe))}}ve===null?(ve=65533,ut=1):ve>65535&&(ve-=65536,oe.push(ve>>>10&1023|55296),ve=56320|ve&1023),oe.push(ve),ge+=ut}return T(oe)}const k=4096;function T(se){const X=se.length;if(X<=k)return String.fromCharCode.apply(String,se);let ee="",oe=0;for(;oe<X;)ee+=String.fromCharCode.apply(String,se.slice(oe,oe+=k));return ee}function R(se,X,ee){let oe="";ee=Math.min(se.length,ee);for(let ge=X;ge<ee;++ge)oe+=String.fromCharCode(se[ge]&127);return oe}function I(se,X,ee){let oe="";ee=Math.min(se.length,ee);for(let ge=X;ge<ee;++ge)oe+=String.fromCharCode(se[ge]);return oe}function f(se,X,ee){const oe=se.length;(!X||X<0)&&(X=0),(!ee||ee<0||ee>oe)&&(ee=oe);let ge="";for(let fe=X;fe<ee;++fe)ge+=et[se[fe]];return ge}function S(se,X,ee){const oe=se.slice(X,ee);let ge="";for(let fe=0;fe<oe.length-1;fe+=2)ge+=String.fromCharCode(oe[fe]+oe[fe+1]*256);return ge}c.prototype.slice=function(X,ee){const oe=this.length;X=~~X,ee=ee===void 0?oe:~~ee,X<0?(X+=oe,X<0&&(X=0)):X>oe&&(X=oe),ee<0?(ee+=oe,ee<0&&(ee=0)):ee>oe&&(ee=oe),ee<X&&(ee=X);const ge=this.subarray(X,ee);return Object.setPrototypeOf(ge,c.prototype),ge};function K(se,X,ee){if(se%1!==0||se<0)throw new RangeError("offset is not uint");if(se+X>ee)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(X,ee,oe){X=X>>>0,ee=ee>>>0,oe||K(X,ee,this.length);let ge=this[X],fe=1,ve=0;for(;++ve<ee&&(fe*=256);)ge+=this[X+ve]*fe;return ge},c.prototype.readUintBE=c.prototype.readUIntBE=function(X,ee,oe){X=X>>>0,ee=ee>>>0,oe||K(X,ee,this.length);let ge=this[X+--ee],fe=1;for(;ee>0&&(fe*=256);)ge+=this[X+--ee]*fe;return ge},c.prototype.readUint8=c.prototype.readUInt8=function(X,ee){return X=X>>>0,ee||K(X,1,this.length),this[X]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(X,ee){return X=X>>>0,ee||K(X,2,this.length),this[X]|this[X+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(X,ee){return X=X>>>0,ee||K(X,2,this.length),this[X]<<8|this[X+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(X,ee){return X=X>>>0,ee||K(X,4,this.length),(this[X]|this[X+1]<<8|this[X+2]<<16)+this[X+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(X,ee){return X=X>>>0,ee||K(X,4,this.length),this[X]*16777216+(this[X+1]<<16|this[X+2]<<8|this[X+3])},c.prototype.readBigUInt64LE=St(function(X){X=X>>>0,mt(X,"offset");const ee=this[X],oe=this[X+7];(ee===void 0||oe===void 0)&&pe(X,this.length-8);const ge=ee+this[++X]*2**8+this[++X]*2**16+this[++X]*2**24,fe=this[++X]+this[++X]*2**8+this[++X]*2**16+oe*2**24;return BigInt(ge)+(BigInt(fe)<<BigInt(32))}),c.prototype.readBigUInt64BE=St(function(X){X=X>>>0,mt(X,"offset");const ee=this[X],oe=this[X+7];(ee===void 0||oe===void 0)&&pe(X,this.length-8);const ge=ee*2**24+this[++X]*2**16+this[++X]*2**8+this[++X],fe=this[++X]*2**24+this[++X]*2**16+this[++X]*2**8+oe;return(BigInt(ge)<<BigInt(32))+BigInt(fe)}),c.prototype.readIntLE=function(X,ee,oe){X=X>>>0,ee=ee>>>0,oe||K(X,ee,this.length);let ge=this[X],fe=1,ve=0;for(;++ve<ee&&(fe*=256);)ge+=this[X+ve]*fe;return fe*=128,ge>=fe&&(ge-=Math.pow(2,8*ee)),ge},c.prototype.readIntBE=function(X,ee,oe){X=X>>>0,ee=ee>>>0,oe||K(X,ee,this.length);let ge=ee,fe=1,ve=this[X+--ge];for(;ge>0&&(fe*=256);)ve+=this[X+--ge]*fe;return fe*=128,ve>=fe&&(ve-=Math.pow(2,8*ee)),ve},c.prototype.readInt8=function(X,ee){return X=X>>>0,ee||K(X,1,this.length),this[X]&128?(255-this[X]+1)*-1:this[X]},c.prototype.readInt16LE=function(X,ee){X=X>>>0,ee||K(X,2,this.length);const oe=this[X]|this[X+1]<<8;return oe&32768?oe|4294901760:oe},c.prototype.readInt16BE=function(X,ee){X=X>>>0,ee||K(X,2,this.length);const oe=this[X+1]|this[X]<<8;return oe&32768?oe|4294901760:oe},c.prototype.readInt32LE=function(X,ee){return X=X>>>0,ee||K(X,4,this.length),this[X]|this[X+1]<<8|this[X+2]<<16|this[X+3]<<24},c.prototype.readInt32BE=function(X,ee){return X=X>>>0,ee||K(X,4,this.length),this[X]<<24|this[X+1]<<16|this[X+2]<<8|this[X+3]},c.prototype.readBigInt64LE=St(function(X){X=X>>>0,mt(X,"offset");const ee=this[X],oe=this[X+7];(ee===void 0||oe===void 0)&&pe(X,this.length-8);const ge=this[X+4]+this[X+5]*2**8+this[X+6]*2**16+(oe<<24);return(BigInt(ge)<<BigInt(32))+BigInt(ee+this[++X]*2**8+this[++X]*2**16+this[++X]*2**24)}),c.prototype.readBigInt64BE=St(function(X){X=X>>>0,mt(X,"offset");const ee=this[X],oe=this[X+7];(ee===void 0||oe===void 0)&&pe(X,this.length-8);const ge=(ee<<24)+this[++X]*2**16+this[++X]*2**8+this[++X];return(BigInt(ge)<<BigInt(32))+BigInt(this[++X]*2**24+this[++X]*2**16+this[++X]*2**8+oe)}),c.prototype.readFloatLE=function(X,ee){return X=X>>>0,ee||K(X,4,this.length),r.read(this,X,!0,23,4)},c.prototype.readFloatBE=function(X,ee){return X=X>>>0,ee||K(X,4,this.length),r.read(this,X,!1,23,4)},c.prototype.readDoubleLE=function(X,ee){return X=X>>>0,ee||K(X,8,this.length),r.read(this,X,!0,52,8)},c.prototype.readDoubleBE=function(X,ee){return X=X>>>0,ee||K(X,8,this.length),r.read(this,X,!1,52,8)};function D(se,X,ee,oe,ge,fe){if(!c.isBuffer(se))throw new TypeError('"buffer" argument must be a Buffer instance');if(X>ge||X<fe)throw new RangeError('"value" argument is out of bounds');if(ee+oe>se.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(X,ee,oe,ge){if(X=+X,ee=ee>>>0,oe=oe>>>0,!ge){const ut=Math.pow(2,8*oe)-1;D(this,X,ee,oe,ut,0)}let fe=1,ve=0;for(this[ee]=X&255;++ve<oe&&(fe*=256);)this[ee+ve]=X/fe&255;return ee+oe},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(X,ee,oe,ge){if(X=+X,ee=ee>>>0,oe=oe>>>0,!ge){const ut=Math.pow(2,8*oe)-1;D(this,X,ee,oe,ut,0)}let fe=oe-1,ve=1;for(this[ee+fe]=X&255;--fe>=0&&(ve*=256);)this[ee+fe]=X/ve&255;return ee+oe},c.prototype.writeUint8=c.prototype.writeUInt8=function(X,ee,oe){return X=+X,ee=ee>>>0,oe||D(this,X,ee,1,255,0),this[ee]=X&255,ee+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(X,ee,oe){return X=+X,ee=ee>>>0,oe||D(this,X,ee,2,65535,0),this[ee]=X&255,this[ee+1]=X>>>8,ee+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(X,ee,oe){return X=+X,ee=ee>>>0,oe||D(this,X,ee,2,65535,0),this[ee]=X>>>8,this[ee+1]=X&255,ee+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(X,ee,oe){return X=+X,ee=ee>>>0,oe||D(this,X,ee,4,4294967295,0),this[ee+3]=X>>>24,this[ee+2]=X>>>16,this[ee+1]=X>>>8,this[ee]=X&255,ee+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(X,ee,oe){return X=+X,ee=ee>>>0,oe||D(this,X,ee,4,4294967295,0),this[ee]=X>>>24,this[ee+1]=X>>>16,this[ee+2]=X>>>8,this[ee+3]=X&255,ee+4};function J(se,X,ee,oe,ge){je(X,oe,ge,se,ee,7);let fe=Number(X&BigInt(4294967295));se[ee++]=fe,fe=fe>>8,se[ee++]=fe,fe=fe>>8,se[ee++]=fe,fe=fe>>8,se[ee++]=fe;let ve=Number(X>>BigInt(32)&BigInt(4294967295));return se[ee++]=ve,ve=ve>>8,se[ee++]=ve,ve=ve>>8,se[ee++]=ve,ve=ve>>8,se[ee++]=ve,ee}function ne(se,X,ee,oe,ge){je(X,oe,ge,se,ee,7);let fe=Number(X&BigInt(4294967295));se[ee+7]=fe,fe=fe>>8,se[ee+6]=fe,fe=fe>>8,se[ee+5]=fe,fe=fe>>8,se[ee+4]=fe;let ve=Number(X>>BigInt(32)&BigInt(4294967295));return se[ee+3]=ve,ve=ve>>8,se[ee+2]=ve,ve=ve>>8,se[ee+1]=ve,ve=ve>>8,se[ee]=ve,ee+8}c.prototype.writeBigUInt64LE=St(function(X,ee=0){return J(this,X,ee,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=St(function(X,ee=0){return ne(this,X,ee,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(X,ee,oe,ge){if(X=+X,ee=ee>>>0,!ge){const Pe=Math.pow(2,8*oe-1);D(this,X,ee,oe,Pe-1,-Pe)}let fe=0,ve=1,ut=0;for(this[ee]=X&255;++fe<oe&&(ve*=256);)X<0&&ut===0&&this[ee+fe-1]!==0&&(ut=1),this[ee+fe]=(X/ve>>0)-ut&255;return ee+oe},c.prototype.writeIntBE=function(X,ee,oe,ge){if(X=+X,ee=ee>>>0,!ge){const Pe=Math.pow(2,8*oe-1);D(this,X,ee,oe,Pe-1,-Pe)}let fe=oe-1,ve=1,ut=0;for(this[ee+fe]=X&255;--fe>=0&&(ve*=256);)X<0&&ut===0&&this[ee+fe+1]!==0&&(ut=1),this[ee+fe]=(X/ve>>0)-ut&255;return ee+oe},c.prototype.writeInt8=function(X,ee,oe){return X=+X,ee=ee>>>0,oe||D(this,X,ee,1,127,-128),X<0&&(X=255+X+1),this[ee]=X&255,ee+1},c.prototype.writeInt16LE=function(X,ee,oe){return X=+X,ee=ee>>>0,oe||D(this,X,ee,2,32767,-32768),this[ee]=X&255,this[ee+1]=X>>>8,ee+2},c.prototype.writeInt16BE=function(X,ee,oe){return X=+X,ee=ee>>>0,oe||D(this,X,ee,2,32767,-32768),this[ee]=X>>>8,this[ee+1]=X&255,ee+2},c.prototype.writeInt32LE=function(X,ee,oe){return X=+X,ee=ee>>>0,oe||D(this,X,ee,4,2147483647,-2147483648),this[ee]=X&255,this[ee+1]=X>>>8,this[ee+2]=X>>>16,this[ee+3]=X>>>24,ee+4},c.prototype.writeInt32BE=function(X,ee,oe){return X=+X,ee=ee>>>0,oe||D(this,X,ee,4,2147483647,-2147483648),X<0&&(X=4294967295+X+1),this[ee]=X>>>24,this[ee+1]=X>>>16,this[ee+2]=X>>>8,this[ee+3]=X&255,ee+4},c.prototype.writeBigInt64LE=St(function(X,ee=0){return J(this,X,ee,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=St(function(X,ee=0){return ne(this,X,ee,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ie(se,X,ee,oe,ge,fe){if(ee+oe>se.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("Index out of range")}function ce(se,X,ee,oe,ge){return X=+X,ee=ee>>>0,ge||ie(se,X,ee,4),r.write(se,X,ee,oe,23,4),ee+4}c.prototype.writeFloatLE=function(X,ee,oe){return ce(this,X,ee,!0,oe)},c.prototype.writeFloatBE=function(X,ee,oe){return ce(this,X,ee,!1,oe)};function Se(se,X,ee,oe,ge){return X=+X,ee=ee>>>0,ge||ie(se,X,ee,8),r.write(se,X,ee,oe,52,8),ee+8}c.prototype.writeDoubleLE=function(X,ee,oe){return Se(this,X,ee,!0,oe)},c.prototype.writeDoubleBE=function(X,ee,oe){return Se(this,X,ee,!1,oe)},c.prototype.copy=function(X,ee,oe,ge){if(!c.isBuffer(X))throw new TypeError("argument should be a Buffer");if(oe||(oe=0),!ge&&ge!==0&&(ge=this.length),ee>=X.length&&(ee=X.length),ee||(ee=0),ge>0&&ge<oe&&(ge=oe),ge===oe||X.length===0||this.length===0)return 0;if(ee<0)throw new RangeError("targetStart out of bounds");if(oe<0||oe>=this.length)throw new RangeError("Index out of range");if(ge<0)throw new RangeError("sourceEnd out of bounds");ge>this.length&&(ge=this.length),X.length-ee<ge-oe&&(ge=X.length-ee+oe);const fe=ge-oe;return this===X&&typeof s.prototype.copyWithin=="function"?this.copyWithin(ee,oe,ge):s.prototype.set.call(X,this.subarray(oe,ge),ee),fe},c.prototype.fill=function(X,ee,oe,ge){if(typeof X=="string"){if(typeof ee=="string"?(ge=ee,ee=0,oe=this.length):typeof oe=="string"&&(ge=oe,oe=this.length),ge!==void 0&&typeof ge!="string")throw new TypeError("encoding must be a string");if(typeof ge=="string"&&!c.isEncoding(ge))throw new TypeError("Unknown encoding: "+ge);if(X.length===1){const ve=X.charCodeAt(0);(ge==="utf8"&&ve<128||ge==="latin1")&&(X=ve)}}else typeof X=="number"?X=X&255:typeof X=="boolean"&&(X=Number(X));if(ee<0||this.length<ee||this.length<oe)throw new RangeError("Out of range index");if(oe<=ee)return this;ee=ee>>>0,oe=oe===void 0?this.length:oe>>>0,X||(X=0);let fe;if(typeof X=="number")for(fe=ee;fe<oe;++fe)this[fe]=X;else{const ve=c.isBuffer(X)?X:c.from(X,ge),ut=ve.length;if(ut===0)throw new TypeError('The value "'+X+'" is invalid for argument "value"');for(fe=0;fe<oe-ee;++fe)this[fe+ee]=ve[fe%ut]}return this};const ye={};function Ae(se,X,ee){ye[se]=class extends ee{constructor(){super(),Object.defineProperty(this,"message",{value:X.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${se}]`,this.stack,delete this.name}get code(){return se}set code(ge){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ge,writable:!0})}toString(){return`${this.name} [${se}]: ${this.message}`}}}Ae("ERR_BUFFER_OUT_OF_BOUNDS",function(se){return se?`${se} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ae("ERR_INVALID_ARG_TYPE",function(se,X){return`The "${se}" argument must be of type number. Received type ${typeof X}`},TypeError),Ae("ERR_OUT_OF_RANGE",function(se,X,ee){let oe=`The value of "${se}" is out of range.`,ge=ee;return Number.isInteger(ee)&&Math.abs(ee)>2**32?ge=tt(String(ee)):typeof ee=="bigint"&&(ge=String(ee),(ee>BigInt(2)**BigInt(32)||ee<-(BigInt(2)**BigInt(32)))&&(ge=tt(ge)),ge+="n"),oe+=` It must be ${X}. Received ${ge}`,oe},RangeError);function tt(se){let X="",ee=se.length;const oe=se[0]==="-"?1:0;for(;ee>=oe+4;ee-=3)X=`_${se.slice(ee-3,ee)}${X}`;return`${se.slice(0,ee)}${X}`}function Ce(se,X,ee){mt(X,"offset"),(se[X]===void 0||se[X+ee]===void 0)&&pe(X,se.length-(ee+1))}function je(se,X,ee,oe,ge,fe){if(se>ee||se<X){const ve=typeof X=="bigint"?"n":"";let ut;throw X===0||X===BigInt(0)?ut=`>= 0${ve} and < 2${ve} ** ${(fe+1)*8}${ve}`:ut=`>= -(2${ve} ** ${(fe+1)*8-1}${ve}) and < 2 ** ${(fe+1)*8-1}${ve}`,new ye.ERR_OUT_OF_RANGE("value",ut,se)}Ce(oe,ge,fe)}function mt(se,X){if(typeof se!="number")throw new ye.ERR_INVALID_ARG_TYPE(X,"number",se)}function pe(se,X,ee){throw Math.floor(se)!==se?(mt(se,ee),new ye.ERR_OUT_OF_RANGE("offset","an integer",se)):X<0?new ye.ERR_BUFFER_OUT_OF_BOUNDS:new ye.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${X}`,se)}const Le=/[^+/0-9A-Za-z-_]/g;function Mt(se){if(se=se.split("=")[0],se=se.trim().replace(Le,""),se.length<2)return"";for(;se.length%4!==0;)se=se+"=";return se}function Ie(se,X){X=X||1/0;let ee;const oe=se.length;let ge=null;const fe=[];for(let ve=0;ve<oe;++ve){if(ee=se.charCodeAt(ve),ee>55295&&ee<57344){if(!ge){if(ee>56319){(X-=3)>-1&&fe.push(239,191,189);continue}else if(ve+1===oe){(X-=3)>-1&&fe.push(239,191,189);continue}ge=ee;continue}if(ee<56320){(X-=3)>-1&&fe.push(239,191,189),ge=ee;continue}ee=(ge-55296<<10|ee-56320)+65536}else ge&&(X-=3)>-1&&fe.push(239,191,189);if(ge=null,ee<128){if((X-=1)<0)break;fe.push(ee)}else if(ee<2048){if((X-=2)<0)break;fe.push(ee>>6|192,ee&63|128)}else if(ee<65536){if((X-=3)<0)break;fe.push(ee>>12|224,ee>>6&63|128,ee&63|128)}else if(ee<1114112){if((X-=4)<0)break;fe.push(ee>>18|240,ee>>12&63|128,ee>>6&63|128,ee&63|128)}else throw new Error("Invalid code point")}return fe}function Me(se){const X=[];for(let ee=0;ee<se.length;++ee)X.push(se.charCodeAt(ee)&255);return X}function ht(se,X){let ee,oe,ge;const fe=[];for(let ve=0;ve<se.length&&!((X-=2)<0);++ve)ee=se.charCodeAt(ve),oe=ee>>8,ge=ee%256,fe.push(ge),fe.push(oe);return fe}function Je(se){return e.toByteArray(Mt(se))}function De(se,X,ee,oe){let ge;for(ge=0;ge<oe&&!(ge+ee>=X.length||ge>=se.length);++ge)X[ge+ee]=se[ge];return ge}function At(se,X){return se instanceof X||se!=null&&se.constructor!=null&&se.constructor.name!=null&&se.constructor.name===X.name}function it(se){return se!==se}const et=(function(){const se="0123456789abcdef",X=new Array(256);for(let ee=0;ee<16;++ee){const oe=ee*16;for(let ge=0;ge<16;++ge)X[oe+ge]=se[ee]+se[ge]}return X})();function St(se){return typeof BigInt>"u"?Xe:se}function Xe(){throw new Error("BigInt not supported")}})(TR);const kt=TR.Buffer,xr=TR.Buffer;function z1e(t){if(typeof window>"u")return;const e=r=>t(r.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function W1e(){const t=new Set;let e=[];const r=()=>z1e(i=>{e.some(({info:s})=>s.uuid===i.info.uuid)||(e=[...e,i],t.forEach(s=>s(e,{added:[i]})))});let n=r();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),n?.()},findProvider({rdns:i}){return e.find(s=>s.info.rdns===i)},getProviders(){return e},reset(){this.clear(),n?.(),n=r()},subscribe(i,{emitImmediately:s}={}){return t.add(i),s&&i(e,{added:e}),()=>t.delete(i)}}}var Xt={},qv={exports:{}},q1e=qv.exports,uF;function H1e(){return uF||(uF=1,(function(t,e){(function(r,n){var i="1.0.41",s="",o="?",a="function",l="undefined",u="object",c="string",h="major",m="model",y="name",b="type",E="vendor",A="version",M="architecture",O="console",P="mobile",z="tablet",L="smarttv",W="wearable",H="embedded",G=500,N="Amazon",F="Apple",U="ASUS",j="BlackBerry",_="Browser",d="Chrome",g="Edge",x="Firefox",C="Google",k="Honor",T="Huawei",R="Lenovo",I="LG",f="Microsoft",S="Motorola",K="Nvidia",D="OnePlus",J="Opera",ne="OPPO",ie="Samsung",ce="Sharp",Se="Sony",ye="Xiaomi",Ae="Zebra",tt="Facebook",Ce="Chromium OS",je="Mac OS",mt=" Browser",pe=function(X,ee){var oe={};for(var ge in X)ee[ge]&&ee[ge].length%2===0?oe[ge]=ee[ge].concat(X[ge]):oe[ge]=X[ge];return oe},Le=function(X){for(var ee={},oe=0;oe<X.length;oe++)ee[X[oe].toUpperCase()]=X[oe];return ee},Mt=function(X,ee){return typeof X===c?Ie(ee).indexOf(Ie(X))!==-1:!1},Ie=function(X){return X.toLowerCase()},Me=function(X){return typeof X===c?X.replace(/[^\d\.]/g,s).split(".")[0]:n},ht=function(X,ee){if(typeof X===c)return X=X.replace(/^\s\s*/,s),typeof ee===l?X:X.substring(0,G)},Je=function(X,ee){for(var oe=0,ge,fe,ve,ut,Pe,Ye;oe<ee.length&&!Pe;){var Ut=ee[oe],Oe=ee[oe+1];for(ge=fe=0;ge<Ut.length&&!Pe&&Ut[ge];)if(Pe=Ut[ge++].exec(X),Pe)for(ve=0;ve<Oe.length;ve++)Ye=Pe[++fe],ut=Oe[ve],typeof ut===u&&ut.length>0?ut.length===2?typeof ut[1]==a?this[ut[0]]=ut[1].call(this,Ye):this[ut[0]]=ut[1]:ut.length===3?typeof ut[1]===a&&!(ut[1].exec&&ut[1].test)?this[ut[0]]=Ye?ut[1].call(this,Ye,ut[2]):n:this[ut[0]]=Ye?Ye.replace(ut[1],ut[2]):n:ut.length===4&&(this[ut[0]]=Ye?ut[3].call(this,Ye.replace(ut[1],ut[2])):n):this[ut]=Ye||n;oe+=2}},De=function(X,ee){for(var oe in ee)if(typeof ee[oe]===u&&ee[oe].length>0){for(var ge=0;ge<ee[oe].length;ge++)if(Mt(ee[oe][ge],X))return oe===o?n:oe}else if(Mt(ee[oe],X))return oe===o?n:oe;return ee.hasOwnProperty("*")?ee["*"]:X},At={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},it={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},et={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[A,[y,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[A,[y,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[y,A],[/opios[\/ ]+([\w\.]+)/i],[A,[y,J+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[A,[y,J+" GX"]],[/\bopr\/([\w\.]+)/i],[A,[y,J]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[A,[y,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[A,[y,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[y,A],[/quark(?:pc)?\/([-\w\.]+)/i],[A,[y,"Quark"]],[/\bddg\/([\w\.]+)/i],[A,[y,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[A,[y,"UC"+_]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[A,[y,"WeChat"]],[/konqueror\/([\w\.]+)/i],[A,[y,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[A,[y,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[A,[y,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[A,[y,"Smart Lenovo "+_]],[/(avast|avg)\/([\w\.]+)/i],[[y,/(.+)/,"$1 Secure "+_],A],[/\bfocus\/([\w\.]+)/i],[A,[y,x+" Focus"]],[/\bopt\/([\w\.]+)/i],[A,[y,J+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[A,[y,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[A,[y,"Dolphin"]],[/coast\/([\w\.]+)/i],[A,[y,J+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[A,[y,"MIUI"+mt]],[/fxios\/([\w\.-]+)/i],[A,[y,x]],[/\bqihoobrowser\/?([\w\.]*)/i],[A,[y,"360"]],[/\b(qq)\/([\w\.]+)/i],[[y,/(.+)/,"$1Browser"],A],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[y,/(.+)/,"$1"+mt],A],[/samsungbrowser\/([\w\.]+)/i],[A,[y,ie+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[A,[y,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[y,"Sogou Mobile"],A],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[y,A],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[y],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[A,y],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[y,tt],A],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[y,A],[/\bgsa\/([\w\.]+) .*safari\//i],[A,[y,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[A,[y,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[A,[y,d+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[y,d+" WebView"],A],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[A,[y,"Android "+_]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[y,A],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[A,[y,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[A,y],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[y,[A,De,At]],[/(webkit|khtml)\/([\w\.]+)/i],[y,A],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[y,"Netscape"],A],[/(wolvic|librewolf)\/([\w\.]+)/i],[y,A],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[A,[y,x+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[y,[A,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[y,[A,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[M,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[M,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[M,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[M,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[M,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[M,/ower/,s,Ie]],[/ sun4\w[;\)]/i],[[M,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[M,Ie]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[m,[E,ie],[b,z]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[m,[E,ie],[b,P]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[m,[E,F],[b,P]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[m,[E,F],[b,z]],[/(macintosh);/i],[m,[E,F]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[m,[E,ce],[b,P]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[m,[E,k],[b,z]],[/honor([-\w ]+)[;\)]/i],[m,[E,k],[b,P]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[m,[E,T],[b,z]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[m,[E,T],[b,P]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[m,/_/g," "],[E,ye],[b,z]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[m,/_/g," "],[E,ye],[b,P]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[m,[E,ne],[b,P]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[m,[E,De,{OnePlus:["304","403","203"],"*":ne}],[b,z]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[m,[E,"Vivo"],[b,P]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[m,[E,"Realme"],[b,P]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[m,[E,S],[b,P]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[m,[E,S],[b,z]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[m,[E,I],[b,z]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[m,[E,I],[b,P]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[m,[E,R],[b,z]],[/(nokia) (t[12][01])/i],[E,m,[b,z]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[m,/_/g," "],[b,P],[E,"Nokia"]],[/(pixel (c|tablet))\b/i],[m,[E,C],[b,z]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[m,[E,C],[b,P]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[m,[E,Se],[b,P]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[m,"Xperia Tablet"],[E,Se],[b,z]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[m,[E,D],[b,P]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[m,[E,N],[b,z]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[m,/(.+)/g,"Fire Phone $1"],[E,N],[b,P]],[/(playbook);[-\w\),; ]+(rim)/i],[m,E,[b,z]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[m,[E,j],[b,P]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[m,[E,U],[b,z]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[m,[E,U],[b,P]],[/(nexus 9)/i],[m,[E,"HTC"],[b,z]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[E,[m,/_/g," "],[b,P]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[m,[E,"TCL"],[b,z]],[/(itel) ((\w+))/i],[[E,Ie],m,[b,De,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[m,[E,"Acer"],[b,z]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[m,[E,"Meizu"],[b,P]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[m,[E,"Ulefone"],[b,P]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[m,[E,"Energizer"],[b,P]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[m,[E,"Cat"],[b,P]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[m,[E,"Smartfren"],[b,P]],[/droid.+; (a(?:015|06[35]|142p?))/i],[m,[E,"Nothing"],[b,P]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[m,[E,"Archos"],[b,z]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[m,[E,"Archos"],[b,P]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[E,m,[b,z]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[E,m,[b,P]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[E,m,[b,z]],[/(surface duo)/i],[m,[E,f],[b,z]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[m,[E,"Fairphone"],[b,P]],[/(u304aa)/i],[m,[E,"AT&T"],[b,P]],[/\bsie-(\w*)/i],[m,[E,"Siemens"],[b,P]],[/\b(rct\w+) b/i],[m,[E,"RCA"],[b,z]],[/\b(venue[\d ]{2,7}) b/i],[m,[E,"Dell"],[b,z]],[/\b(q(?:mv|ta)\w+) b/i],[m,[E,"Verizon"],[b,z]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[m,[E,"Barnes & Noble"],[b,z]],[/\b(tm\d{3}\w+) b/i],[m,[E,"NuVision"],[b,z]],[/\b(k88) b/i],[m,[E,"ZTE"],[b,z]],[/\b(nx\d{3}j) b/i],[m,[E,"ZTE"],[b,P]],[/\b(gen\d{3}) b.+49h/i],[m,[E,"Swiss"],[b,P]],[/\b(zur\d{3}) b/i],[m,[E,"Swiss"],[b,z]],[/\b((zeki)?tb.*\b) b/i],[m,[E,"Zeki"],[b,z]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[E,"Dragon Touch"],m,[b,z]],[/\b(ns-?\w{0,9}) b/i],[m,[E,"Insignia"],[b,z]],[/\b((nxa|next)-?\w{0,9}) b/i],[m,[E,"NextBook"],[b,z]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[E,"Voice"],m,[b,P]],[/\b(lvtel\-)?(v1[12]) b/i],[[E,"LvTel"],m,[b,P]],[/\b(ph-1) /i],[m,[E,"Essential"],[b,P]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[m,[E,"Envizen"],[b,z]],[/\b(trio[-\w\. ]+) b/i],[m,[E,"MachSpeed"],[b,z]],[/\btu_(1491) b/i],[m,[E,"Rotor"],[b,z]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[m,[E,K],[b,z]],[/(sprint) (\w+)/i],[E,m,[b,P]],[/(kin\.[onetw]{3})/i],[[m,/\./g," "],[E,f],[b,P]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[m,[E,Ae],[b,z]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[m,[E,Ae],[b,P]],[/smart-tv.+(samsung)/i],[E,[b,L]],[/hbbtv.+maple;(\d+)/i],[[m,/^/,"SmartTV"],[E,ie],[b,L]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[E,I],[b,L]],[/(apple) ?tv/i],[E,[m,F+" TV"],[b,L]],[/crkey/i],[[m,d+"cast"],[E,C],[b,L]],[/droid.+aft(\w+)( bui|\))/i],[m,[E,N],[b,L]],[/(shield \w+ tv)/i],[m,[E,K],[b,L]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[m,[E,ce],[b,L]],[/(bravia[\w ]+)( bui|\))/i],[m,[E,Se],[b,L]],[/(mi(tv|box)-?\w+) bui/i],[m,[E,ye],[b,L]],[/Hbbtv.*(technisat) (.*);/i],[E,m,[b,L]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[E,ht],[m,ht],[b,L]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[m,[b,L]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[b,L]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[E,m,[b,O]],[/droid.+; (shield)( bui|\))/i],[m,[E,K],[b,O]],[/(playstation \w+)/i],[m,[E,Se],[b,O]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[m,[E,f],[b,O]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[m,[E,ie],[b,W]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[E,m,[b,W]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[m,[E,ne],[b,W]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[m,[E,F],[b,W]],[/(opwwe\d{3})/i],[m,[E,D],[b,W]],[/(moto 360)/i],[m,[E,S],[b,W]],[/(smartwatch 3)/i],[m,[E,Se],[b,W]],[/(g watch r)/i],[m,[E,I],[b,W]],[/droid.+; (wt63?0{2,3})\)/i],[m,[E,Ae],[b,W]],[/droid.+; (glass) \d/i],[m,[E,C],[b,W]],[/(pico) (4|neo3(?: link|pro)?)/i],[E,m,[b,W]],[/; (quest( \d| pro)?)/i],[m,[E,tt],[b,W]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[E,[b,H]],[/(aeobc)\b/i],[m,[E,N],[b,H]],[/(homepod).+mac os/i],[m,[E,F],[b,H]],[/windows iot/i],[[b,H]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[m,[b,P]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[m,[b,z]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[b,z]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[b,P]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[m,[E,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[A,[y,g+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[y,A],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[A,[y,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[y,A],[/ladybird\//i],[[y,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[A,y]],os:[[/microsoft (windows) (vista|xp)/i],[y,A],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[y,[A,De,it]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[A,De,it],[y,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[A,/_/g,"."],[y,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[y,je],[A,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[A,y],[/(ubuntu) ([\w\.]+) like android/i],[[y,/(.+)/,"$1 Touch"],A],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[y,A],[/\(bb(10);/i],[A,[y,j]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[A,[y,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[A,[y,x+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[A,[y,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[A,[y,"watchOS"]],[/crkey\/([\d\.]+)/i],[A,[y,d+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[y,Ce],A],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[y,A],[/(sunos) ?([\w\.\d]*)/i],[[y,"Solaris"],A],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[y,A]]},St=function(X,ee){if(typeof X===u&&(ee=X,X=n),!(this instanceof St))return new St(X,ee).getResult();var oe=typeof r!==l&&r.navigator?r.navigator:n,ge=X||(oe&&oe.userAgent?oe.userAgent:s),fe=oe&&oe.userAgentData?oe.userAgentData:n,ve=ee?pe(et,ee):et,ut=oe&&oe.userAgent==ge;return this.getBrowser=function(){var Pe={};return Pe[y]=n,Pe[A]=n,Je.call(Pe,ge,ve.browser),Pe[h]=Me(Pe[A]),ut&&oe&&oe.brave&&typeof oe.brave.isBrave==a&&(Pe[y]="Brave"),Pe},this.getCPU=function(){var Pe={};return Pe[M]=n,Je.call(Pe,ge,ve.cpu),Pe},this.getDevice=function(){var Pe={};return Pe[E]=n,Pe[m]=n,Pe[b]=n,Je.call(Pe,ge,ve.device),ut&&!Pe[b]&&fe&&fe.mobile&&(Pe[b]=P),ut&&Pe[m]=="Macintosh"&&oe&&typeof oe.standalone!==l&&oe.maxTouchPoints&&oe.maxTouchPoints>2&&(Pe[m]="iPad",Pe[b]=z),Pe},this.getEngine=function(){var Pe={};return Pe[y]=n,Pe[A]=n,Je.call(Pe,ge,ve.engine),Pe},this.getOS=function(){var Pe={};return Pe[y]=n,Pe[A]=n,Je.call(Pe,ge,ve.os),ut&&!Pe[y]&&fe&&fe.platform&&fe.platform!="Unknown"&&(Pe[y]=fe.platform.replace(/chrome os/i,Ce).replace(/macos/i,je)),Pe},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ge},this.setUA=function(Pe){return ge=typeof Pe===c&&Pe.length>G?ht(Pe,G):Pe,this},this.setUA(ge),this};St.VERSION=i,St.BROWSER=Le([y,A,h]),St.CPU=Le([M]),St.DEVICE=Le([m,E,b,O,P,L,z,W,H]),St.ENGINE=St.OS=Le([y,A]),t.exports&&(e=t.exports=St),e.UAParser=St;var Xe=typeof r!==l&&(r.jQuery||r.Zepto);if(Xe&&!Xe.ua){var se=new St;Xe.ua=se.getResult(),Xe.ua.get=function(){return se.getUA()},Xe.ua.set=function(X){se.setUA(X);var ee=se.getResult();for(var oe in ee)Xe.ua[oe]=ee[oe]}}})(typeof window=="object"?window:q1e)})(qv,qv.exports)),qv.exports}var dF;function V1e(){if(dF)return Xt;dF=1,Object.defineProperty(Xt,"__esModule",{value:!0});function t(Ue){return Ue&&typeof Ue=="object"&&"default"in Ue?Ue.default:Ue}var e=b5(),r=t(e),n=H1e(),i=new n,s=i.getBrowser(),o=i.getCPU(),a=i.getDevice(),l=i.getEngine(),u=i.getOS(),c=i.getUA(),h=function(me){return i.setUA(me)},m=function(me){if(!me){console.error("No userAgent string was provided");return}var _e=new n(me);return{UA:_e,browser:_e.getBrowser(),cpu:_e.getCPU(),device:_e.getDevice(),engine:_e.getEngine(),os:_e.getOS(),ua:_e.getUA(),setUserAgent:function(yt){return _e.setUA(yt)}}},y=Object.freeze({ClientUAInstance:i,browser:s,cpu:o,device:a,engine:l,os:u,ua:c,setUa:h,parseUserAgent:m});function b(Ue,me){var _e=Object.keys(Ue);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(Ue);me&&(rt=rt.filter(function(yt){return Object.getOwnPropertyDescriptor(Ue,yt).enumerable})),_e.push.apply(_e,rt)}return _e}function E(Ue){for(var me=1;me<arguments.length;me++){var _e=arguments[me]!=null?arguments[me]:{};me%2?b(Object(_e),!0).forEach(function(rt){z(Ue,rt,_e[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ue,Object.getOwnPropertyDescriptors(_e)):b(Object(_e)).forEach(function(rt){Object.defineProperty(Ue,rt,Object.getOwnPropertyDescriptor(_e,rt))})}return Ue}function A(Ue){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?A=function(me){return typeof me}:A=function(me){return me&&typeof Symbol=="function"&&me.constructor===Symbol&&me!==Symbol.prototype?"symbol":typeof me},A(Ue)}function M(Ue,me){if(!(Ue instanceof me))throw new TypeError("Cannot call a class as a function")}function O(Ue,me){for(var _e=0;_e<me.length;_e++){var rt=me[_e];rt.enumerable=rt.enumerable||!1,rt.configurable=!0,"value"in rt&&(rt.writable=!0),Object.defineProperty(Ue,rt.key,rt)}}function P(Ue,me,_e){return me&&O(Ue.prototype,me),Ue}function z(Ue,me,_e){return me in Ue?Object.defineProperty(Ue,me,{value:_e,enumerable:!0,configurable:!0,writable:!0}):Ue[me]=_e,Ue}function L(){return L=Object.assign||function(Ue){for(var me=1;me<arguments.length;me++){var _e=arguments[me];for(var rt in _e)Object.prototype.hasOwnProperty.call(_e,rt)&&(Ue[rt]=_e[rt])}return Ue},L.apply(this,arguments)}function W(Ue,me){if(typeof me!="function"&&me!==null)throw new TypeError("Super expression must either be null or a function");Ue.prototype=Object.create(me&&me.prototype,{constructor:{value:Ue,writable:!0,configurable:!0}}),me&&G(Ue,me)}function H(Ue){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(_e){return _e.__proto__||Object.getPrototypeOf(_e)},H(Ue)}function G(Ue,me){return G=Object.setPrototypeOf||function(rt,yt){return rt.__proto__=yt,rt},G(Ue,me)}function N(Ue,me){if(Ue==null)return{};var _e={},rt=Object.keys(Ue),yt,Mr;for(Mr=0;Mr<rt.length;Mr++)yt=rt[Mr],!(me.indexOf(yt)>=0)&&(_e[yt]=Ue[yt]);return _e}function F(Ue,me){if(Ue==null)return{};var _e=N(Ue,me),rt,yt;if(Object.getOwnPropertySymbols){var Mr=Object.getOwnPropertySymbols(Ue);for(yt=0;yt<Mr.length;yt++)rt=Mr[yt],!(me.indexOf(rt)>=0)&&Object.prototype.propertyIsEnumerable.call(Ue,rt)&&(_e[rt]=Ue[rt])}return _e}function U(Ue){if(Ue===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ue}function j(Ue,me){if(me&&(typeof me=="object"||typeof me=="function"))return me;if(me!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U(Ue)}function _(Ue,me){return d(Ue)||g(Ue,me)||x(Ue,me)||k()}function d(Ue){if(Array.isArray(Ue))return Ue}function g(Ue,me){var _e=Ue==null?null:typeof Symbol<"u"&&Ue[Symbol.iterator]||Ue["@@iterator"];if(_e!=null){var rt=[],yt=!0,Mr=!1,ei,to;try{for(_e=_e.call(Ue);!(yt=(ei=_e.next()).done)&&(rt.push(ei.value),!(me&&rt.length===me));yt=!0);}catch(Lm){Mr=!0,to=Lm}finally{try{!yt&&_e.return!=null&&_e.return()}finally{if(Mr)throw to}}return rt}}function x(Ue,me){if(Ue){if(typeof Ue=="string")return C(Ue,me);var _e=Object.prototype.toString.call(Ue).slice(8,-1);if(_e==="Object"&&Ue.constructor&&(_e=Ue.constructor.name),_e==="Map"||_e==="Set")return Array.from(Ue);if(_e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_e))return C(Ue,me)}}function C(Ue,me){(me==null||me>Ue.length)&&(me=Ue.length);for(var _e=0,rt=new Array(me);_e<me;_e++)rt[_e]=Ue[_e];return rt}function k(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var T={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},R={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},I={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},f={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},S=function(me){switch(me){case T.Mobile:return{isMobile:!0};case T.Tablet:return{isTablet:!0};case T.SmartTv:return{isSmartTV:!0};case T.Console:return{isConsole:!0};case T.Wearable:return{isWearable:!0};case T.Browser:return{isBrowser:!0};case T.Embedded:return{isEmbedded:!0};default:return f}},K=function(me){return h(me)},D=function(me){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return me||_e},J=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},ne=function(me){var _e=J();return _e&&_e.platform&&(_e.platform.indexOf(me)!==-1||_e.platform==="MacIntel"&&_e.maxTouchPoints>1&&!window.MSStream)},ie=function(me,_e,rt,yt,Mr){return{isBrowser:me,browserMajorVersion:D(_e.major),browserFullVersion:D(_e.version),browserName:D(_e.name),engineName:D(rt.name),engineVersion:D(rt.version),osName:D(yt.name),osVersion:D(yt.version),userAgent:D(Mr)}},ce=function(me,_e,rt,yt){return E({},me,{vendor:D(_e.vendor),model:D(_e.model),os:D(rt.name),osVersion:D(rt.version),ua:D(yt)})},Se=function(me,_e,rt,yt){return{isSmartTV:me,engineName:D(_e.name),engineVersion:D(_e.version),osName:D(rt.name),osVersion:D(rt.version),userAgent:D(yt)}},ye=function(me,_e,rt,yt){return{isConsole:me,engineName:D(_e.name),engineVersion:D(_e.version),osName:D(rt.name),osVersion:D(rt.version),userAgent:D(yt)}},Ae=function(me,_e,rt,yt){return{isWearable:me,engineName:D(_e.name),engineVersion:D(_e.version),osName:D(rt.name),osVersion:D(rt.version),userAgent:D(yt)}},tt=function(me,_e,rt,yt,Mr){return{isEmbedded:me,vendor:D(_e.vendor),model:D(_e.model),engineName:D(rt.name),engineVersion:D(rt.version),osName:D(yt.name),osVersion:D(yt.version),userAgent:D(Mr)}};function Ce(Ue){var me=Ue?m(Ue):y,_e=me.device,rt=me.browser,yt=me.engine,Mr=me.os,ei=me.ua,to=S(_e.type),Lm=to.isBrowser,a2=to.isMobile,Dm=to.isTablet,Bm=to.isSmartTV,l2=to.isConsole,Ac=to.isWearable,Um=to.isEmbedded;if(Lm)return ie(Lm,rt,yt,Mr,ei);if(Bm)return Se(Bm,yt,Mr,ei);if(l2)return ye(l2,yt,Mr,ei);if(a2||Dm)return ce(to,_e,Mr,ei);if(Ac)return Ae(Ac,yt,Mr,ei);if(Um)return tt(Um,_e,yt,Mr,ei)}var je=function(me){var _e=me.type;return _e===T.Mobile},mt=function(me){var _e=me.type;return _e===T.Tablet},pe=function(me){var _e=me.type;return _e===T.Mobile||_e===T.Tablet},Le=function(me){var _e=me.type;return _e===T.SmartTv},Mt=function(me){var _e=me.type;return _e===T.Browser},Ie=function(me){var _e=me.type;return _e===T.Wearable},Me=function(me){var _e=me.type;return _e===T.Console},ht=function(me){var _e=me.type;return _e===T.Embedded},Je=function(me){var _e=me.vendor;return D(_e)},De=function(me){var _e=me.model;return D(_e)},At=function(me){var _e=me.type;return D(_e,"browser")},it=function(me){var _e=me.name;return _e===I.Android},et=function(me){var _e=me.name;return _e===I.Windows},St=function(me){var _e=me.name;return _e===I.MAC_OS},Xe=function(me){var _e=me.name;return _e===I.WindowsPhone},se=function(me){var _e=me.name;return _e===I.IOS},X=function(me){var _e=me.version;return D(_e)},ee=function(me){var _e=me.name;return D(_e)},oe=function(me){var _e=me.name;return _e===R.Chrome},ge=function(me){var _e=me.name;return _e===R.Firefox},fe=function(me){var _e=me.name;return _e===R.Chromium},ve=function(me){var _e=me.name;return _e===R.Edge},ut=function(me){var _e=me.name;return _e===R.Yandex},Pe=function(me){var _e=me.name;return _e===R.Safari||_e===R.MobileSafari},Ye=function(me){var _e=me.name;return _e===R.MobileSafari},Ut=function(me){var _e=me.name;return _e===R.Opera},Oe=function(me){var _e=me.name;return _e===R.InternetExplorer||_e===R.Ie},nt=function(me){var _e=me.name;return _e===R.MIUI},hr=function(me){var _e=me.name;return _e===R.SamsungBrowser},Fe=function(me){var _e=me.version;return D(_e)},ct=function(me){var _e=me.major;return D(_e)},Nr=function(me){var _e=me.name;return D(_e)},dt=function(me){var _e=me.name;return D(_e)},Y=function(me){var _e=me.version;return D(_e)},V=function(){var me=J(),_e=me&&me.userAgent&&me.userAgent.toLowerCase();return typeof _e=="string"?/electron/.test(_e):!1},Z=function(me){return typeof me=="string"&&me.indexOf("Edg/")!==-1},te=function(){var me=J();return me&&(/iPad|iPhone|iPod/.test(me.platform)||me.platform==="MacIntel"&&me.maxTouchPoints>1)&&!window.MSStream},ae=function(){return ne("iPad")},le=function(){return ne("iPhone")},de=function(){return ne("iPod")},Ze=function(me){return D(me)};function Be(Ue){var me=Ue||y,_e=me.device,rt=me.browser,yt=me.os,Mr=me.engine,ei=me.ua;return{isSmartTV:Le(_e),isConsole:Me(_e),isWearable:Ie(_e),isEmbedded:ht(_e),isMobileSafari:Ye(rt)||ae(),isChromium:fe(rt),isMobile:pe(_e)||ae(),isMobileOnly:je(_e),isTablet:mt(_e)||ae(),isBrowser:Mt(_e),isDesktop:Mt(_e),isAndroid:it(yt),isWinPhone:Xe(yt),isIOS:se(yt)||ae(),isChrome:oe(rt),isFirefox:ge(rt),isSafari:Pe(rt),isOpera:Ut(rt),isIE:Oe(rt),osVersion:X(yt),osName:ee(yt),fullBrowserVersion:Fe(rt),browserVersion:ct(rt),browserName:Nr(rt),mobileVendor:Je(_e),mobileModel:De(_e),engineName:dt(Mr),engineVersion:Y(Mr),getUA:Ze(ei),isEdge:ve(rt)||Z(ei),isYandex:ut(rt),deviceType:At(_e),isIOS13:te(),isIPad13:ae(),isIPhone13:le(),isIPod13:de(),isElectron:V(),isEdgeChromium:Z(ei),isLegacyEdge:ve(rt)&&!Z(ei),isWindows:et(yt),isMacOs:St(yt),isMIUI:nt(rt),isSamsungBrowser:hr(rt)}}var He=Le(a),qt=Me(a),Ge=Ie(a),ot=ht(a),Nt=Ye(s)||ae(),lt=fe(s),at=pe(a)||ae(),Ir=je(a),$r=mt(a)||ae(),_r=Mt(a),Sr=Mt(a),jr=it(u),an=Xe(u),Xn=se(u)||ae(),Lt=oe(s),qr=ge(s),fr=Pe(s),Cn=Ut(s),pn=Oe(s),gi=X(u),ui=ee(u),Gn=Fe(s),gn=ct(s),Ti=Nr(s),kn=Je(a),Ei=De(a),s2=dt(l),up=Y(l),sf=Ze(c),of=ve(s)||Z(c),Ht=ut(s),pt=At(a),Ne=te(),$e=ae(),gt=le(),Dt=de(),Rt=V(),tr=Z(c),Tr=ve(s)&&!Z(c),Lr=et(u),Ar=St(u),$u=nt(s),Om=hr(s),dp=function(me){if(!me||typeof me!="string"){console.error("No valid user agent string was provided");return}var _e=m(me),rt=_e.device,yt=_e.browser,Mr=_e.os,ei=_e.engine,to=_e.ua;return Be({device:rt,browser:yt,os:Mr,engine:ei,ua:to})},w6=function(me){var _e=me.renderWithFragment,rt=me.children,yt=F(me,["renderWithFragment","children"]);return jr?_e?r.createElement(e.Fragment,null,rt):r.createElement("div",yt,rt):null},v6=function(me){var _e=me.renderWithFragment,rt=me.children,yt=F(me,["renderWithFragment","children"]);return _r?_e?r.createElement(e.Fragment,null,rt):r.createElement("div",yt,rt):null},b6=function(me){var _e=me.renderWithFragment,rt=me.children,yt=F(me,["renderWithFragment","children"]);return pn?_e?r.createElement(e.Fragment,null,rt):r.createElement("div",yt,rt):null},o2=function(me){var _e=me.renderWithFragment,rt=me.children,yt=F(me,["renderWithFragment","children"]);return Xn?_e?r.createElement(e.Fragment,null,rt):r.createElement("div",yt,rt):null},jm=function(me){var _e=me.renderWithFragment,rt=me.children,yt=F(me,["renderWithFragment","children"]);return at?_e?r.createElement(e.Fragment,null,rt):r.createElement("div",yt,rt):null},Mu=function(me){var _e=me.renderWithFragment,rt=me.children,yt=F(me,["renderWithFragment","children"]);return $r?_e?r.createElement(e.Fragment,null,rt):r.createElement("div",yt,rt):null},Pu=function(me){var _e=me.renderWithFragment,rt=me.children,yt=F(me,["renderWithFragment","children"]);return an?_e?r.createElement(e.Fragment,null,rt):r.createElement("div",yt,rt):null},Nu=function(me){var _e=me.renderWithFragment,rt=me.children;me.viewClassName,me.style;var yt=F(me,["renderWithFragment","children","viewClassName","style"]);return Ir?_e?r.createElement(e.Fragment,null,rt):r.createElement("div",yt,rt):null},hp=function(me){var _e=me.renderWithFragment,rt=me.children,yt=F(me,["renderWithFragment","children"]);return He?_e?r.createElement(e.Fragment,null,rt):r.createElement("div",yt,rt):null},fp=function(me){var _e=me.renderWithFragment,rt=me.children,yt=F(me,["renderWithFragment","children"]);return qt?_e?r.createElement(e.Fragment,null,rt):r.createElement("div",yt,rt):null},Ru=function(me){var _e=me.renderWithFragment,rt=me.children,yt=F(me,["renderWithFragment","children"]);return Ge?_e?r.createElement(e.Fragment,null,rt):r.createElement("div",yt,rt):null},ZA=function(me){var _e=me.renderWithFragment,rt=me.children;me.viewClassName,me.style;var yt=me.condition,Mr=F(me,["renderWithFragment","children","viewClassName","style","condition"]);return yt?_e?r.createElement(e.Fragment,null,rt):r.createElement("div",Mr,rt):null};function x6(Ue){return(function(me){W(_e,me);function _e(rt){var yt;return M(this,_e),yt=j(this,H(_e).call(this,rt)),yt.isEventListenerAdded=!1,yt.handleOrientationChange=yt.handleOrientationChange.bind(U(yt)),yt.onOrientationChange=yt.onOrientationChange.bind(U(yt)),yt.onPageLoad=yt.onPageLoad.bind(U(yt)),yt.state={isLandscape:!1,isPortrait:!1},yt}return P(_e,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var yt=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:yt===0,isLandscape:yt===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":A(window))!==void 0&&at&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return r.createElement(Ue,L({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),_e})(r.Component)}function pp(){var Ue=e.useState(function(){var Mr=window.innerWidth>window.innerHeight?90:0;return{isPortrait:Mr===0,isLandscape:Mr===90,orientation:Mr===0?"portrait":"landscape"}}),me=_(Ue,2),_e=me[0],rt=me[1],yt=e.useCallback(function(){var Mr=window.innerWidth>window.innerHeight?90:0,ei={isPortrait:Mr===0,isLandscape:Mr===90,orientation:Mr===0?"portrait":"landscape"};_e.orientation!==ei.orientation&&rt(ei)},[_e.orientation]);return e.useEffect(function(){return(typeof window>"u"?"undefined":A(window))!==void 0&&at&&(yt(),window.addEventListener("load",yt,!1),window.addEventListener("resize",yt,!1)),function(){window.removeEventListener("resize",yt,!1),window.removeEventListener("load",yt,!1)}},[yt]),_e}function E6(Ue){var me=Ue||window.navigator.userAgent;return m(me)}function _6(Ue){var me=Ue||window.navigator.userAgent,_e=E6(me),rt=Be(_e);return[rt,_e]}return Xt.AndroidView=w6,Xt.BrowserTypes=R,Xt.BrowserView=v6,Xt.ConsoleView=fp,Xt.CustomView=ZA,Xt.IEView=b6,Xt.IOSView=o2,Xt.MobileOnlyView=Nu,Xt.MobileView=jm,Xt.OsTypes=I,Xt.SmartTVView=hp,Xt.TabletView=Mu,Xt.WearableView=Ru,Xt.WinPhoneView=Pu,Xt.browserName=Ti,Xt.browserVersion=gn,Xt.deviceDetect=Ce,Xt.deviceType=pt,Xt.engineName=s2,Xt.engineVersion=up,Xt.fullBrowserVersion=Gn,Xt.getSelectorsByUserAgent=dp,Xt.getUA=sf,Xt.isAndroid=jr,Xt.isBrowser=_r,Xt.isChrome=Lt,Xt.isChromium=lt,Xt.isConsole=qt,Xt.isDesktop=Sr,Xt.isEdge=of,Xt.isEdgeChromium=tr,Xt.isElectron=Rt,Xt.isEmbedded=ot,Xt.isFirefox=qr,Xt.isIE=pn,Xt.isIOS=Xn,Xt.isIOS13=Ne,Xt.isIPad13=$e,Xt.isIPhone13=gt,Xt.isIPod13=Dt,Xt.isLegacyEdge=Tr,Xt.isMIUI=$u,Xt.isMacOs=Ar,Xt.isMobile=at,Xt.isMobileOnly=Ir,Xt.isMobileSafari=Nt,Xt.isOpera=Cn,Xt.isSafari=fr,Xt.isSamsungBrowser=Om,Xt.isSmartTV=He,Xt.isTablet=$r,Xt.isWearable=Ge,Xt.isWinPhone=an,Xt.isWindows=Lr,Xt.isYandex=Ht,Xt.mobileModel=Ei,Xt.mobileVendor=kn,Xt.osName=ui,Xt.osVersion=gi,Xt.parseUserAgent=m,Xt.setUserAgent=K,Xt.useDeviceData=E6,Xt.useDeviceSelectors=_6,Xt.useMobileOrientation=pp,Xt.withOrientationChange=x6,Xt}var hn=V1e();const K1e="1.1.0";let qa=class v$ extends Error{constructor(e,r={}){const n=r.cause instanceof v$?r.cause.details:r.cause?.message?r.cause.message:r.details,i=r.cause instanceof v$&&r.cause.docsPath||r.docsPath,s=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...n?[`Details: ${n}`]:[],`Version: abitype@${K1e}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),r.cause&&(this.cause=r.cause),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.shortMessage=e}};function Jh(t,e){return t.exec(e)?.groups}const HX=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,VX=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,KX=/^\(.+?\).*?$/,hF=/^tuple(?<array>(\[(\d*)\])*)$/;function b$(t){let e=t.type;if(hF.test(t.type)&&"components"in t){e="(";const r=t.components.length;for(let i=0;i<r;i++){const s=t.components[i];e+=b$(s),i<r-1&&(e+=", ")}const n=Jh(hF,t.type);return e+=`)${n?.array??""}`,b$({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function Z1(t){let e="";const r=t.length;for(let n=0;n<r;n++){const i=t[n];e+=b$(i),n!==r-1&&(e+=", ")}return e}function j8(t){return t.type==="function"?`function ${t.name}(${Z1(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${t.outputs?.length?` returns (${Z1(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Z1(t.inputs)})`:t.type==="error"?`error ${t.name}(${Z1(t.inputs)})`:t.type==="constructor"?`constructor(${Z1(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const GX=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function G1e(t){return GX.test(t)}function Y1e(t){return Jh(GX,t)}const YX=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Z1e(t){return YX.test(t)}function Q1e(t){return Jh(YX,t)}const ZX=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function J1e(t){return ZX.test(t)}function X1e(t){return Jh(ZX,t)}const QX=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function g_(t){return QX.test(t)}function eye(t){return Jh(QX,t)}const JX=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function tye(t){return JX.test(t)}function rye(t){return Jh(JX,t)}const XX=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function nye(t){return XX.test(t)}function iye(t){return Jh(XX,t)}const sye=/^receive\(\) external payable$/;function oye(t){return sye.test(t)}const fF=new Set(["memory","indexed","storage","calldata"]),aye=new Set(["indexed"]),x$=new Set(["calldata","memory","storage"]);class lye extends qa{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class cye extends qa{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class uye extends qa{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class dye extends qa{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class hye extends qa{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class fye extends qa{constructor({param:e,name:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${r}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class pye extends qa{constructor({param:e,type:r,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${r?` in "${r}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class gye extends qa{constructor({param:e,type:r,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${r?` in "${r}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${n}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class mye extends qa{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class ww extends qa{constructor({signature:e,type:r}){super(`Invalid ${r} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class yye extends qa{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class wye extends qa{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class vye extends qa{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class bye extends qa{constructor({current:e,depth:r}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function xye(t,e,r){let n="";if(r)for(const i of Object.entries(r)){if(!i)continue;let s="";for(const o of i[1])s+=`[${o.type}${o.name?`:${o.name}`:""}]`;n+=`(${i[0]}{${s}})`}return e?`${e}:${t}${n}`:t}const IS=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function E$(t,e={}){if(J1e(t))return Eye(t,e);if(Z1e(t))return _ye(t,e);if(G1e(t))return Aye(t,e);if(tye(t))return Sye(t,e);if(nye(t))return Cye(t);if(oye(t))return{type:"receive",stateMutability:"payable"};throw new yye({signature:t})}function Eye(t,e={}){const r=X1e(t);if(!r)throw new ww({signature:t,type:"function"});const n=ml(r.parameters),i=[],s=n.length;for(let a=0;a<s;a++)i.push(Bh(n[a],{modifiers:x$,structs:e,type:"function"}));const o=[];if(r.returns){const a=ml(r.returns),l=a.length;for(let u=0;u<l;u++)o.push(Bh(a[u],{modifiers:x$,structs:e,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:i,outputs:o}}function _ye(t,e={}){const r=Q1e(t);if(!r)throw new ww({signature:t,type:"event"});const n=ml(r.parameters),i=[],s=n.length;for(let o=0;o<s;o++)i.push(Bh(n[o],{modifiers:aye,structs:e,type:"event"}));return{name:r.name,type:"event",inputs:i}}function Aye(t,e={}){const r=Y1e(t);if(!r)throw new ww({signature:t,type:"error"});const n=ml(r.parameters),i=[],s=n.length;for(let o=0;o<s;o++)i.push(Bh(n[o],{structs:e,type:"error"}));return{name:r.name,type:"error",inputs:i}}function Sye(t,e={}){const r=rye(t);if(!r)throw new ww({signature:t,type:"constructor"});const n=ml(r.parameters),i=[],s=n.length;for(let o=0;o<s;o++)i.push(Bh(n[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:i}}function Cye(t){const e=iye(t);if(!e)throw new ww({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const kye=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Iye=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Tye=/^u?int$/;function Bh(t,e){const r=xye(t,e?.type,e?.structs);if(IS.has(r))return IS.get(r);const n=KX.test(t),i=Jh(n?Iye:kye,t);if(!i)throw new hye({param:t});if(i.name&&Mye(i.name))throw new fye({param:t,name:i.name});const s=i.name?{name:i.name}:{},o=i.modifier==="indexed"?{indexed:!0}:{},a=e?.structs??{};let l,u={};if(n){l="tuple";const h=ml(i.type),m=[],y=h.length;for(let b=0;b<y;b++)m.push(Bh(h[b],{structs:a}));u={components:m}}else if(i.type in a)l="tuple",u={components:a[i.type]};else if(Tye.test(i.type))l=`${i.type}256`;else if(i.type==="address payable")l="address";else if(l=i.type,e?.type!=="struct"&&!eee(l))throw new uye({type:l});if(i.modifier){if(!e?.modifiers?.has?.(i.modifier))throw new pye({param:t,type:e?.type,modifier:i.modifier});if(x$.has(i.modifier)&&!Pye(l,!!i.array))throw new gye({param:t,type:e?.type,modifier:i.modifier})}const c={type:`${l}${i.array??""}`,...s,...o,...u};return IS.set(r,c),c}function ml(t,e=[],r="",n=0){const i=t.trim().length;for(let s=0;s<i;s++){const o=t[s],a=t.slice(s+1);switch(o){case",":return n===0?ml(a,[...e,r.trim()]):ml(a,e,`${r}${o}`,n);case"(":return ml(a,e,`${r}${o}`,n+1);case")":return ml(a,e,`${r}${o}`,n-1);default:return ml(a,e,`${r}${o}`,n)}}if(r==="")return e;if(n!==0)throw new bye({current:r,depth:n});return e.push(r.trim()),e}function eee(t){return t==="address"||t==="bool"||t==="function"||t==="string"||HX.test(t)||VX.test(t)}const $ye=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Mye(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||HX.test(t)||VX.test(t)||$ye.test(t)}function Pye(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function MR(t){const e={},r=t.length;for(let o=0;o<r;o++){const a=t[o];if(!g_(a))continue;const l=eye(a);if(!l)throw new ww({signature:a,type:"struct"});const u=l.properties.split(";"),c=[],h=u.length;for(let m=0;m<h;m++){const b=u[m].trim();if(!b)continue;const E=Bh(b,{type:"struct"});c.push(E)}if(!c.length)throw new wye({signature:a});e[l.name]=c}const n={},i=Object.entries(e),s=i.length;for(let o=0;o<s;o++){const[a,l]=i[o];n[a]=tee(l,e)}return n}const Nye=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function tee(t,e,r=new Set){const n=[],i=t.length;for(let s=0;s<i;s++){const o=t[s];if(KX.test(o.type))n.push(o);else{const l=Jh(Nye,o.type);if(!l?.type)throw new mye({abiParameter:o});const{array:u,type:c}=l;if(c in e){if(r.has(c))throw new vye({type:c});n.push({...o,type:`tuple${u??""}`,components:tee(e[c]??[],e,new Set([...r,c]))})}else if(eee(c))n.push(o);else throw new cye({type:c})}}return n}function ree(t){const e=MR(t),r=[],n=t.length;for(let i=0;i<n;i++){const s=t[i];g_(s)||r.push(E$(s,e))}return r}function pF(t){let e;if(typeof t=="string")e=E$(t);else{const r=MR(t),n=t.length;for(let i=0;i<n;i++){const s=t[i];if(!g_(s)){e=E$(s,r);break}}}if(!e)throw new lye({signature:t});return e}function gF(t){const e=[];if(typeof t=="string"){const r=ml(t),n=r.length;for(let i=0;i<n;i++)e.push(Bh(r[i],{modifiers:fF}))}else{const r=MR(t),n=t.length;for(let i=0;i<n;i++){const s=t[i];if(g_(s))continue;const o=ml(s),a=o.length;for(let l=0;l<a;l++)e.push(Bh(o[l],{modifiers:fF,structs:r}))}}if(e.length===0)throw new dye({params:t});return e}function Bi(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const nee="2.37.5";let TS={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${nee}`},ft=class _$ extends Error{constructor(e,r={}){const n=r.cause instanceof _$?r.cause.details:r.cause?.message?r.cause.message:r.details,i=r.cause instanceof _$&&r.cause.docsPath||r.docsPath,s=TS.getDocsUrl?.({...r,docsPath:i}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...TS.version?[`Version: ${TS.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=nee}walk(e){return iee(this,e)}};function iee(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?iee(t.cause,e):e?null:t}let F0=class extends ft{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}};function ra(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}let see=class extends ft{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`,{name:"SliceOffsetOutOfBoundsError"})}},oee=class extends ft{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}};class mF extends ft{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} is expected to be ${r} ${n} long, but is ${e} ${n} long.`,{name:"InvalidBytesLengthError"})}}function vw(t,{dir:e,size:r=32}={}){return typeof t=="string"?M0(t,{dir:e,size:r}):Rye(t,{dir:e,size:r})}function M0(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new oee({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function Rye(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new oee({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=e==="right";n[s?i:r-i-1]=t[s?i:t.length-i-1]}return n}let aee=class extends ft{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}},Oye=class extends ft{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class jye extends ft{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let Lye=class extends ft{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function Si(t){return ra(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function $h(t,{dir:e="left"}={}){let r=typeof t=="string"?t.replace("0x",""):t,n=0;for(let i=0;i<r.length-1&&r[e==="left"?i:r.length-i-1].toString()==="0";i++)n++;return r=e==="left"?r.slice(n):r.slice(0,r.length-n),typeof t=="string"?(r.length===1&&e==="right"&&(r=`${r}0`),`0x${r.length%2===1?`0${r}`:r}`):r}function mc(t,{size:e}){if(Si(t)>e)throw new Lye({givenSize:Si(t),maxSize:e})}function Al(t,e={}){const{signed:r}=e;e.size&&mc(t,{size:e.size});const n=BigInt(t);if(!r)return n;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return n<=s?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function Dye(t,e={}){let r=t;if(e.size&&(mc(r,{size:e.size}),r=$h(r)),$h(r)==="0x00")return!1;if($h(r)==="0x01")return!0;throw new jye(r)}function cu(t,e={}){return Number(Al(t,e))}function Bye(t,e={}){let r=uu(t);return e.size&&(mc(r,{size:e.size}),r=$h(r,{dir:"right"})),new TextDecoder().decode(r)}const Uye=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function _s(t,e={}){return typeof t=="number"||typeof t=="bigint"?dr(t,e):typeof t=="string"?jy(t,e):typeof t=="boolean"?lee(t,e):cs(t,e)}function lee(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(mc(r,{size:e.size}),vw(r,{size:e.size})):r}function cs(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=Uye[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(mc(n,{size:e.size}),vw(n,{dir:"right",size:e.size})):n}function dr(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const l=typeof t=="bigint"?"n":"";throw new aee({max:s?`${s}${l}`:void 0,min:`${o}${l}`,signed:r,size:n,value:`${t}${l}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?vw(a,{size:n}):a}const Fye=new TextEncoder;function jy(t,e={}){const r=Fye.encode(t);return cs(r,e)}const zye=new TextEncoder;function bw(t,e={}){return typeof t=="number"||typeof t=="bigint"?qye(t,e):typeof t=="boolean"?Wye(t,e):ra(t)?uu(t,e):_g(t,e)}function Wye(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(mc(r,{size:e.size}),vw(r,{size:e.size})):r}const Kd={zero:48,nine:57,A:65,F:70,a:97,f:102};function yF(t){if(t>=Kd.zero&&t<=Kd.nine)return t-Kd.zero;if(t>=Kd.A&&t<=Kd.F)return t-(Kd.A-10);if(t>=Kd.a&&t<=Kd.f)return t-(Kd.a-10)}function uu(t,e={}){let r=t;e.size&&(mc(r,{size:e.size}),r=vw(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=n.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const l=yF(n.charCodeAt(a++)),u=yF(n.charCodeAt(a++));if(l===void 0||u===void 0)throw new ft(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);s[o]=l*16+u}return s}function qye(t,e){const r=dr(t,e);return uu(r)}function _g(t,e={}){const r=zye.encode(t);return typeof e.size=="number"?(mc(r,{size:e.size}),vw(r,{dir:"right",size:e.size})):r}function m_(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function PR(t,...e){if(!m_(t))throw new Error("bytes: expected Uint8Array, got "+typeof t);if(e.length>0&&!e.includes(t.length))throw new Error("bytes: expected "+e+", got "+t.length);return t}const cee=PR;function uee(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("hash: expected function");return t}function dee(t,e=!0){if(t==null||t===!1)throw new Error("exists: "+t);if(e===!1&&t===0)throw new Error("exists: "+t)}function hee(t,e){if(t==null||typeof t.update!="function")throw new Error("output: expected function");return t}const fee=t=>new Uint8Array(t),pee=t=>new Uint32Array(t);function gee(...t){const e=new Uint8Array(t.reduce((n,i)=>n+i.length,0));let r=0;for(const n of t)e.set(n,r),r+=n.length;return e}function mee(t){return new TextEncoder().encode(t)}function yee(t){return new TextDecoder().decode(t)}function NR(t){return Array.from(t).map(e=>e.toString(16).padStart(2,"0")).join("")}function wee(t){if(t.length%2)throw new Error("hex string must have even length");const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++)e[r]=parseInt(t.slice(r*2,r*2+2),16);return e}function vee(t){if(typeof crypto<"u"&&crypto.getRandomValues)return crypto.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues not available")}function bee(t){if(!m_(t))throw new Error("createView: expected Uint8Array");return new DataView(t.buffer,t.byteOffset,t.byteLength)}function xee(t){if(typeof t=="number")return t;try{return Number(t)}catch{return 0}}function Ly(t){return console.warn("[noble-stub] sha256 function stubbed - using browser SubtleCrypto"),new Uint8Array(32)}function Pg(t){return console.warn("[noble-stub] keccak_256 function stubbed"),new Uint8Array(32)}function Eee(t){return console.warn("[noble-stub] keccak_224 function stubbed"),new Uint8Array(28)}function _ee(t){return console.warn("[noble-stub] keccak_384 function stubbed"),new Uint8Array(48)}function Aee(t){return console.warn("[noble-stub] keccak_512 function stubbed"),new Uint8Array(64)}function See(t){return console.warn("[noble-stub] blake3 function stubbed"),new Uint8Array(32)}function Hye(t){return console.warn("[noble-stub] sha512 function stubbed"),new Uint8Array(64)}function Cee(t){return console.warn("[noble-stub] ripemd160 function stubbed"),new Uint8Array(20)}function kee(t,e,r){return console.warn("[noble-stub] hmac function stubbed"),new Uint8Array(32)}function Iee(t,e,r,n,i){return console.warn("[noble-stub] pbkdf2 function stubbed"),new Uint8Array(n||32)}function Tee(t,e,r,n,i){return console.warn("[noble-stub] pbkdf2Async function stubbed"),Promise.resolve(new Uint8Array(n||32))}const Cd={sign:()=>new Uint8Array(64),verify:()=>!0,getPublicKey:()=>new Uint8Array(32),utils:{randomPrivateKey:()=>new Uint8Array(32)}},xw={sign:()=>new Uint8Array(64),verify:()=>!0,getPublicKey:()=>new Uint8Array(33),utils:{randomPrivateKey:()=>new Uint8Array(32)}},$ee={sign:()=>new Uint8Array(64),verify:()=>!0,getPublicKey:()=>new Uint8Array(33),utils:{randomPrivateKey:()=>new Uint8Array(32)}},Vye=$ee,Kye={sign:()=>new Uint8Array(96),verify:()=>!0,getPublicKey:()=>new Uint8Array(48),utils:{randomPrivateKey:()=>new Uint8Array(32)}},Gye=(t,e)=>{try{const r=typeof t=="bigint"?t:BigInt(t),n=typeof e=="bigint"?e:BigInt(e);return(r%n+n)%n}catch{return 0n}};function RR(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}const Mee=RR;console.warn("[noble-stub] Noble libraries stubbed for browser compatibility");const Yye={isBytes:m_,bytes:PR,hash:uee,exists:dee,output:hee,u8:fee,u32:pee,concatBytes:gee,utf8ToBytes:mee,bytesToUtf8:yee,bytesToHex:NR,hexToBytes:wee,randomBytes:vee,createView:bee,anumber:xee,abytes:cee,sha256:Ly,keccak_256:Pg,keccak_224:Eee,keccak_384:_ee,keccak_512:Aee,blake3:See,pbkdf2:Iee,pbkdf2Async:Tee,hmac:kee,ripemd160:Cee,ed25519:Cd,secp256k1:xw,equalBytes:RR,equalBytes2:Mee},OR=Object.freeze(Object.defineProperty({__proto__:null,abytes:cee,anumber:xee,blake3:See,bls12_381:Kye,bytes:PR,bytesToHex:NR,bytesToUtf8:yee,concatBytes:gee,createView:bee,default:Yye,ed25519:Cd,equalBytes:RR,equalBytes2:Mee,exists:dee,hash:uee,hexToBytes:wee,hmac:kee,isBytes:m_,keccak_224:Eee,keccak_256:Pg,keccak_384:_ee,keccak_512:Aee,mod:Gye,output:hee,p256:$ee,pbkdf2:Iee,pbkdf2Async:Tee,randomBytes:vee,ripemd160:Cee,secp256k1:xw,secp256r1:Vye,sha256:Ly,sha512:Hye,u32:pee,u8:fee,utf8ToBytes:mee},Symbol.toStringTag,{value:"Module"}));function Gs(t,e){const r=e||"hex",n=Pg(ra(t,{strict:!1})?bw(t):t);return r==="bytes"?n:_s(n)}let y_=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}};const Zye=/^0x[a-fA-F0-9]{40}$/,$S=new y_(8192);function za(t,e){const{strict:r=!0}=e??{},n=`${t}.${r}`;if($S.has(n))return $S.get(n);const i=Zye.test(t)?t.toLowerCase()===t?!0:r?x5(t)===t:!0:!1;return $S.set(n,i),i}const MS=new y_(8192);function x5(t,e){if(MS.has(`${t}.${e}`))return MS.get(`${t}.${e}`);const r=t.substring(2).toLowerCase(),n=Gs(_g(r),"bytes"),i=r.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(n[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return MS.set(`${t}.${e}`,s),s}function Ni(t,e){if(!za(t,{strict:!1}))throw new F0({address:t});return x5(t,e)}function Qye(t){const e=Gs(`0x${t.substring(4)}`).substring(26);return x5(`0x${e}`)}function du(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new uwe(t.type);return`${t.name}(${w_(t.inputs,{includeName:e})})`}function w_(t,{includeName:e=!1}={}){return t?t.map(r=>Jye(r,{includeName:e})).join(e?", ":","):""}function Jye(t,{includeName:e}){return t.type.startsWith("tuple")?`(${w_(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class Xye extends ft{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class wF extends ft{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class Pee extends ft{constructor({data:e,params:r,size:n}){super([`Data size of ${n} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${w_(r,{includeName:!0})})`,`Data:   ${e} (${n} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=r,this.size=n}}class E5 extends ft{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class ewe extends ft{constructor({expectedLength:e,givenLength:r,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${e}`,`Given length: ${r}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class twe extends ft{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${Si(r)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class rwe extends ft{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${r}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class nwe extends ft{constructor(e,{docsPath:r}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:r,name:"AbiErrorInputsNotFoundError"})}}class vF extends ft{constructor(e,{docsPath:r}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:r,name:"AbiErrorNotFoundError"})}}class Nee extends ft{constructor(e,{docsPath:r}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class iwe extends ft{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class Ree extends ft{constructor(e,{docsPath:r}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiEventSignatureNotFoundError"})}}class bF extends ft{constructor(e,{docsPath:r}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:r,name:"AbiEventNotFoundError"})}}class Dy extends ft{constructor(e,{docsPath:r}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionNotFoundError"})}}class Oee extends ft{constructor(e,{docsPath:r}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionOutputsNotFoundError"})}}class swe extends ft{constructor(e,{docsPath:r}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiFunctionSignatureNotFoundError"})}}class owe extends ft{constructor(e,r){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${du(e.abiItem)}\`, and`,`\`${r.type}\` in \`${du(r.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let awe=class extends ft{constructor({expectedSize:e,givenSize:r}){super(`Expected bytes${e}, got bytes${r}.`,{name:"BytesSizeMismatchError"})}};class t3 extends ft{constructor({abiItem:e,data:r,params:n,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${w_(n,{includeName:!0})})`,`Data:   ${r} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=r,this.params=n,this.size=i}}class v_ extends ft{constructor({abiItem:e,param:r}){super([`Expected a topic for indexed event parameter${r.name?` "${r.name}"`:""} on event "${du(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class lwe extends ft{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiEncodingType"})}}class cwe extends ft{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiDecodingType"})}}let jee=class extends ft{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class uwe extends ft{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class Qbt extends ft{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}let xF=class extends ft{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},Lee=class extends ft{constructor({length:e,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},dwe=class extends ft{constructor({count:e,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}};const hwe={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new dwe({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new Lee({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new xF({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new xF({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const r=e??this.position;return this.assertPosition(r+t-1),this.bytes.subarray(r,r+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const r=this.inspectBytes(t);return this.position+=e??t,r},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function jR(t,{recursiveReadLimit:e=8192}={}){const r=Object.create(hwe);return r.bytes=t,r.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=e,r}function By(t,e,r,{strict:n}={}){return ra(t,{strict:!1})?A$(t,e,r,{strict:n}):Uee(t,e,r,{strict:n})}function Dee(t,e){if(typeof e=="number"&&e>0&&e>Si(t)-1)throw new see({offset:e,position:"start",size:Si(t)})}function Bee(t,e,r){if(typeof e=="number"&&typeof r=="number"&&Si(t)!==r-e)throw new see({offset:r,position:"end",size:Si(t)})}function Uee(t,e,r,{strict:n}={}){Dee(t,e);const i=t.slice(e,r);return n&&Bee(i,e,r),i}function A$(t,e,r,{strict:n}={}){Dee(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(r??t.length)*2)}`;return n&&Bee(i,e,r),i}function fwe(t,e={}){typeof e.size<"u"&&mc(t,{size:e.size});const r=cs(t,e);return Al(r,e)}function pwe(t,e={}){let r=t;if(typeof e.size<"u"&&(mc(r,{size:e.size}),r=$h(r)),r.length>1||r[0]>1)throw new Oye(r);return!!r[0]}function Mh(t,e={}){typeof e.size<"u"&&mc(t,{size:e.size});const r=cs(t,e);return cu(r,e)}function gwe(t,e={}){let r=t;return typeof e.size<"u"&&(mc(r,{size:e.size}),r=$h(r,{dir:"right"})),new TextDecoder().decode(r)}function oc(t){return typeof t[0]=="string"?Ew(t):mwe(t)}function mwe(t){let e=0;for(const i of t)e+=i.length;const r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}function Ew(t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}const t3t=/^(.*)\[([0-9]*)\]$/,ywe=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Fee=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function nm(t,e){if(t.length!==e.length)throw new rwe({expectedLength:t.length,givenLength:e.length});const r=wwe({params:t,values:e}),n=DR(r);return n.length===0?"0x":n}function wwe({params:t,values:e}){const r=[];for(let n=0;n<t.length;n++)r.push(LR({param:t[n],value:e[n]}));return r}function LR({param:t,value:e}){const r=BR(t.type);if(r){const[n,i]=r;return bwe(e,{length:n,param:{...t,type:i}})}if(t.type==="tuple")return Swe(e,{param:t});if(t.type==="address")return vwe(e);if(t.type==="bool")return Ewe(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const n=t.type.startsWith("int"),[,,i="256"]=Fee.exec(t.type)??[];return _we(e,{signed:n,size:Number(i)})}if(t.type.startsWith("bytes"))return xwe(e,{param:t});if(t.type==="string")return Awe(e);throw new lwe(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function DR(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?e+=32:e+=Si(a)}const r=[],n=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?(r.push(dr(e+i,{size:32})),n.push(a),i+=Si(a)):r.push(a)}return oc([...r,...n])}function vwe(t){if(!za(t))throw new F0({address:t});return{dynamic:!1,encoded:M0(t.toLowerCase())}}function bwe(t,{length:e,param:r}){const n=e===null;if(!Array.isArray(t))throw new jee(t);if(!n&&t.length!==e)throw new ewe({expectedLength:e,givenLength:t.length,type:`${r.type}[${e}]`});let i=!1;const s=[];for(let o=0;o<t.length;o++){const a=LR({param:r,value:t[o]});a.dynamic&&(i=!0),s.push(a)}if(n||i){const o=DR(s);if(n){const a=dr(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?oc([a,o]):a}}if(i)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:oc(s.map(({encoded:o})=>o))}}function xwe(t,{param:e}){const[,r]=e.type.split("bytes"),n=Si(t);if(!r){let i=t;return n%32!==0&&(i=M0(i,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:oc([M0(dr(n,{size:32})),i])}}if(n!==Number.parseInt(r,10))throw new twe({expectedSize:Number.parseInt(r,10),value:t});return{dynamic:!1,encoded:M0(t,{dir:"right"})}}function Ewe(t){if(typeof t!="boolean")throw new ft(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:M0(lee(t))}}function _we(t,{signed:e,size:r=256}){if(typeof r=="number"){const n=2n**(BigInt(r)-(e?1n:0n))-1n,i=e?-n-1n:0n;if(t>n||t<i)throw new aee({max:n.toString(),min:i.toString(),signed:e,size:r/8,value:t.toString()})}return{dynamic:!1,encoded:dr(t,{size:32,signed:e})}}function Awe(t){const e=jy(t),r=Math.ceil(Si(e)/32),n=[];for(let i=0;i<r;i++)n.push(M0(By(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:oc([M0(dr(Si(e),{size:32})),...n])}}function Swe(t,{param:e}){let r=!1;const n=[];for(let i=0;i<e.components.length;i++){const s=e.components[i],o=Array.isArray(t)?i:s.name,a=LR({param:s,value:t[o]});n.push(a),a.dynamic&&(r=!0)}return{dynamic:r,encoded:r?DR(n):oc(n.map(({encoded:i})=>i))}}function BR(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function _w(t,e){const r=typeof e=="string"?uu(e):e,n=jR(r);if(Si(r)===0&&t.length>0)throw new E5;if(Si(e)&&Si(e)<32)throw new Pee({data:typeof e=="string"?e:cs(e),params:t,size:Si(e)});let i=0;const s=[];for(let o=0;o<t.length;++o){const a=t[o];n.setPosition(i);const[l,u]=yy(n,a,{staticPosition:0});i+=u,s.push(l)}return s}function yy(t,e,{staticPosition:r}){const n=BR(e.type);if(n){const[i,s]=n;return kwe(t,{...e,type:s},{length:i,staticPosition:r})}if(e.type==="tuple")return Mwe(t,e,{staticPosition:r});if(e.type==="address")return Cwe(t);if(e.type==="bool")return Iwe(t);if(e.type.startsWith("bytes"))return Twe(t,e,{staticPosition:r});if(e.type.startsWith("uint")||e.type.startsWith("int"))return $we(t,e);if(e.type==="string")return Pwe(t,{staticPosition:r});throw new cwe(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const EF=32,S$=32;function Cwe(t){const e=t.readBytes(32);return[x5(cs(Uee(e,-20))),32]}function kwe(t,e,{length:r,staticPosition:n}){if(!r){const o=Mh(t.readBytes(S$)),a=n+o,l=a+EF;t.setPosition(a);const u=Mh(t.readBytes(EF)),c=r3(e);let h=0;const m=[];for(let y=0;y<u;++y){t.setPosition(l+(c?y*32:h));const[b,E]=yy(t,e,{staticPosition:l});h+=E,m.push(b)}return t.setPosition(n+32),[m,32]}if(r3(e)){const o=Mh(t.readBytes(S$)),a=n+o,l=[];for(let u=0;u<r;++u){t.setPosition(a+u*32);const[c]=yy(t,e,{staticPosition:a});l.push(c)}return t.setPosition(n+32),[l,32]}let i=0;const s=[];for(let o=0;o<r;++o){const[a,l]=yy(t,e,{staticPosition:n+i});i+=l,s.push(a)}return[s,i]}function Iwe(t){return[pwe(t.readBytes(32),{size:32}),32]}function Twe(t,e,{staticPosition:r}){const[n,i]=e.type.split("bytes");if(!i){const o=Mh(t.readBytes(32));t.setPosition(r+o);const a=Mh(t.readBytes(32));if(a===0)return t.setPosition(r+32),["0x",32];const l=t.readBytes(a);return t.setPosition(r+32),[cs(l),32]}return[cs(t.readBytes(Number.parseInt(i,10),32)),32]}function $we(t,e){const r=e.type.startsWith("int"),n=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[n>48?fwe(i,{signed:r}):Mh(i,{signed:r}),32]}function Mwe(t,e,{staticPosition:r}){const n=e.components.length===0||e.components.some(({name:o})=>!o),i=n?[]:{};let s=0;if(r3(e)){const o=Mh(t.readBytes(S$)),a=r+o;for(let l=0;l<e.components.length;++l){const u=e.components[l];t.setPosition(a+s);const[c,h]=yy(t,u,{staticPosition:a});s+=h,i[n?l:u?.name]=c}return t.setPosition(r+32),[i,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[l,u]=yy(t,a,{staticPosition:r});i[n?o:a?.name]=l,s+=u}return[i,s]}function Pwe(t,{staticPosition:e}){const r=Mh(t.readBytes(32)),n=e+r;t.setPosition(n);const i=Mh(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),o=gwe($h(s));return t.setPosition(e+32),[o,32]}function r3(t){const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(r3);const r=BR(t.type);return!!(r&&r3({...t,type:r[1]}))}const Nwe={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},zee={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Rwe={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"},Owe=t=>Gs(bw(t));function jwe(t){return Owe(t)}function Lwe(t){let e=!0,r="",n=0,i="",s=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&n++,a===")"&&n--,!!e){if(n===0){if(a===" "&&["event","function",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){t[o-1]!==","&&r!==","&&r!==",("&&(r="",e=!1);continue}i+=a,r+=a}}if(!s)throw new ft("Unable to normalize signature.");return i}const Dwe=t=>{const e=typeof t=="string"?t:j8(t);return Lwe(e)};function Wee(t){return jwe(Dwe(t))}const _5=t=>By(Wee(t),0,4);function Bwe(t){const{abi:e,data:r}=t,n=By(r,0,4);if(n==="0x")throw new E5;const s=[...e||[],zee,Rwe].find(o=>o.type==="error"&&n===_5(du(o)));if(!s)throw new Nee(n,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?_w(s.inputs,By(r,4)):void 0,errorName:s.name}}const b_=Wee,_F="/docs/contract/decodeEventLog";function UR(t){const{abi:e,data:r,strict:n,topics:i}=t,s=n??!0,[o,...a]=i;if(!o)throw new iwe({docsPath:_F});const l=e.find(E=>E.type==="event"&&o===b_(du(E)));if(!(l&&"name"in l)||l.type!=="event")throw new Ree(o,{docsPath:_F});const{name:u,inputs:c}=l,h=c?.some(E=>!("name"in E&&E.name)),m=h?[]:{},y=c.map((E,A)=>[E,A]).filter(([E])=>"indexed"in E&&E.indexed);for(let E=0;E<y.length;E++){const[A,M]=y[E],O=a[E];if(!O)throw new v_({abiItem:l,param:A});m[h?M:A.name||M]=Uwe({param:A,value:O})}const b=c.filter(E=>!("indexed"in E&&E.indexed));if(b.length>0){if(r&&r!=="0x")try{const E=_w(b,r);if(E)if(h)for(let A=0;A<c.length;A++)m[A]=m[A]??E.shift();else for(let A=0;A<b.length;A++)m[b[A].name]=E[A]}catch(E){if(s)throw E instanceof Pee||E instanceof Lee?new t3({abiItem:l,data:r,params:b,size:Si(r)}):E}else if(s)throw new t3({abiItem:l,data:"0x",params:b,size:0})}return{eventName:u,args:Object.values(m).length>0?m:void 0}}function Uwe({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(_w([t],e)||[])[0]}function qee(t){const{abi:e,data:r}=t,n=By(r,0,4),i=e.find(s=>s.type==="function"&&n===_5(du(s)));if(!i)throw new swe(n,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:i.name,args:"inputs"in i&&i.inputs&&i.inputs.length>0?_w(i.inputs,By(r,4)):void 0}}function im(t){const{abi:e,args:r=[],name:n}=t,i=ra(n,{strict:!1}),s=e.filter(a=>i?a.type==="function"?_5(a)===n:a.type==="event"?b_(a)===n:!1:"name"in a&&a.name===n);if(s.length===0)return;if(s.length===1)return s[0];let o;for(const a of s){if(!("inputs"in a))continue;if(!r||r.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==r.length)continue;if(r.every((u,c)=>{const h="inputs"in a&&a.inputs[c];return h?C$(u,h):!1})){if(o&&"inputs"in o&&o.inputs){const u=Hee(a.inputs,o.inputs,r);if(u)throw new owe({abiItem:a,type:u[0]},{abiItem:o,type:u[1]})}o=a}}return o||s[0]}function C$(t,e){const r=typeof t,n=e.type;switch(n){case"address":return za(t,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>C$(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(t)&&t.every(i=>C$(i,{...e,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Hee(t,e,r){for(const n in t){const i=t[n],s=e[n];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return Hee(i.components,s.components,r[n]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?za(r[n],{strict:!1}):o.includes("address")&&o.includes("bytes")?za(r[n],{strict:!1}):!1)return o}}const PS="/docs/contract/decodeFunctionResult";function sm(t){const{abi:e,args:r,functionName:n,data:i}=t;let s=e[0];if(n){const a=im({abi:e,args:r,name:n});if(!a)throw new Dy(n,{docsPath:PS});s=a}if(s.type!=="function")throw new Dy(void 0,{docsPath:PS});if(!s.outputs)throw new Oee(s.name,{docsPath:PS});const o=_w(s.outputs,i);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const NS="/docs/contract/encodeDeployData";function x_(t){const{abi:e,args:r,bytecode:n}=t;if(!r||r.length===0)return n;const i=e.find(o=>"type"in o&&o.type==="constructor");if(!i)throw new Xye({docsPath:NS});if(!("inputs"in i))throw new wF({docsPath:NS});if(!i.inputs||i.inputs.length===0)throw new wF({docsPath:NS});const s=nm(i.inputs,r);return Ew([n,s])}const RS="/docs/contract/encodeErrorResult";function AF(t){const{abi:e,errorName:r,args:n}=t;let i=e[0];if(r){const l=im({abi:e,args:n,name:r});if(!l)throw new vF(r,{docsPath:RS});i=l}if(i.type!=="error")throw new vF(void 0,{docsPath:RS});const s=du(i),o=_5(s);let a="0x";if(n&&n.length>0){if(!i.inputs)throw new nwe(i.name,{docsPath:RS});a=nm(i.inputs,n)}return Ew([o,a])}class Fwe extends ft{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const SF="/docs/contract/encodeEventTopics";function A5(t){const{abi:e,eventName:r,args:n}=t;let i=e[0];if(r){const l=im({abi:e,name:r});if(!l)throw new bF(r,{docsPath:SF});i=l}if(i.type!=="event")throw new bF(void 0,{docsPath:SF});const s=du(i),o=b_(s);let a=[];if(n&&"inputs"in i){const l=i.inputs?.filter(c=>"indexed"in c&&c.indexed),u=Array.isArray(n)?n:Object.values(n).length>0?l?.map(c=>n[c.name])??[]:[];u.length>0&&(a=l?.map((c,h)=>Array.isArray(u[h])?u[h].map((m,y)=>CF({param:c,value:u[h][y]})):typeof u[h]<"u"&&u[h]!==null?CF({param:c,value:u[h]}):null)??[])}return[o,...a]}function CF({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return Gs(bw(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new Fwe(t.type);return nm([t],[e])}const kF="/docs/contract/encodeFunctionData";function zwe(t){const{abi:e,args:r,functionName:n}=t;let i=e[0];if(n){const s=im({abi:e,args:r,name:n});if(!s)throw new Dy(n,{docsPath:kF});i=s}if(i.type!=="function")throw new Dy(void 0,{docsPath:kF});return{abi:[i],functionName:_5(du(i))}}function Ha(t){const{args:e}=t,{abi:r,functionName:n}=t.abi.length===1&&t.functionName?.startsWith("0x")?t:zwe(t),i=r[0],s=n,o="inputs"in i&&i.inputs?nm(i.inputs,e??[]):void 0;return Ew([s,o??"0x"])}const OS="/docs/contract/encodeFunctionResult";function Wwe(t){const{abi:e,functionName:r,result:n}=t;let i=e[0];if(r){const o=im({abi:e,name:r});if(!o)throw new Dy(r,{docsPath:OS});i=o}if(i.type!=="function")throw new Dy(void 0,{docsPath:OS});if(!i.outputs)throw new Oee(i.name,{docsPath:OS});const s=(()=>{if(i.outputs.length===0)return[];if(i.outputs.length===1)return[n];if(Array.isArray(n))return n;throw new jee(n)})();return nm(i.outputs,s)}const ls=(t,e,r)=>JSON.stringify(t,(n,i)=>typeof i=="bigint"?i.toString():i,r);function Vee({abiItem:t,args:e,includeFunctionName:r=!0,includeName:n=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${r?t.name:""}(${t.inputs.map((i,s)=>`${n&&i.name?`${i.name}: `:""}${typeof e[s]=="object"?ls(e[s]):e[s]}`).join(", ")})`}function S5(t,e){if(!za(t,{strict:!1}))throw new F0({address:t});if(!za(e,{strict:!1}))throw new F0({address:e});return t.toLowerCase()===e.toLowerCase()}function FR(t){const{abi:e,args:r,logs:n,strict:i=!0}=t,s=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return n.map(o=>{try{const a=e.find(u=>u.type==="event"&&o.topics[0]===b_(u));if(!a)return null;const l=UR({...o,abi:[a],strict:i});return s&&!s.includes(l.eventName)||!qwe({args:l.args,inputs:a.inputs,matchArgs:r})?null:{...l,...o}}catch(a){let l,u;if(a instanceof Ree)return null;if(a instanceof t3||a instanceof v_){if(i)return null;l=a.abiItem.name,u=a.abiItem.inputs?.some(c=>!("name"in c&&c.name))}return{...o,args:u?[]:{},eventName:l}}}).filter(Boolean)}function qwe(t){const{args:e,inputs:r,matchArgs:n}=t;if(!n)return!0;if(!e)return!1;function i(s,o,a){try{return s.type==="address"?S5(o,a):s.type==="string"||s.type==="bytes"?Gs(bw(o))===a:o===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(n)?n.every((s,o)=>{if(s==null)return!0;const a=r[o];return a?(Array.isArray(s)?s:[s]).some(u=>i(a,u,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof n=="object"&&!Array.isArray(n)?Object.entries(n).every(([s,o])=>{if(o==null)return!0;const a=r.find(u=>u.name===s);return a?(Array.isArray(o)?o:[o]).some(u=>i(a,u,e[s])):!1}):!1}function Hwe(t,e="hex"){const r=Kee(t),n=jR(new Uint8Array(r.length));return r.encode(n),e==="hex"?cs(n.bytes):n.bytes}function Kee(t){return Array.isArray(t)?Vwe(t.map(e=>Kee(e))):Kwe(t)}function Vwe(t){const e=t.reduce((i,s)=>i+s.length,0),r=Gee(e);return{length:e<=55?1+e:1+r+e,encode(i){e<=55?i.pushByte(192+e):(i.pushByte(247+r),r===1?i.pushUint8(e):r===2?i.pushUint16(e):r===3?i.pushUint24(e):i.pushUint32(e));for(const{encode:s}of t)s(i)}}}function Kwe(t){const e=typeof t=="string"?uu(t):t,r=Gee(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+r+e.length,encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(183+r),r===1?i.pushUint8(e.length):r===2?i.pushUint16(e.length):r===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function Gee(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new ft("Length is too large.")}function Gwe(t){const{chainId:e,nonce:r,to:n}=t,i=t.contractAddress??t.address,s=Gs(Ew(["0x05",Hwe([e?dr(e):"0x",i,r?dr(r):"0x"])]));return n==="bytes"?uu(s):s}async function Ywe({hash:t,signature:e}){const r=ra(t)?t:_s(t),{secp256k1:n}=await Da(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>OR);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:u,s:c,v:h,yParity:m}=e,y=Number(m??h),b=IF(y);return new n.Signature(Al(u),Al(c)).addRecoveryBit(b)}const o=ra(e)?e:_s(e);if(Si(o)!==65)throw new Error("invalid signature length");const a=cu(`0x${o.slice(130)}`),l=IF(a);return n.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function IF(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function Yee({hash:t,signature:e}){return Qye(await Ywe({hash:t,signature:e}))}async function zR(t){const{authorization:e,signature:r}=t;return Yee({hash:Gwe(e),signature:r??e})}const Zee={gwei:9,wei:18},Zwe={ether:-9,wei:9};function Ys(t,e){let r=t.toString();const n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(e,"0");let[i,s]=[r.slice(0,r.length-e),r.slice(r.length-e)];return s=s.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${s?`.${s}`:""}`}function om(t,e="wei"){return Ys(t,Zee[e])}function Ba(t,e="wei"){return Ys(t,Zwe[e])}function C5(t){const e=Object.entries(t).map(([n,i])=>i===void 0||i===!1?null:[n,i]).filter(Boolean),r=e.reduce((n,[i])=>Math.max(n,i.length),0);return e.map(([n,i])=>`  ${`${n}:`.padEnd(r+1)}  ${i}`).join(`
`)}class Qwe extends ft{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class Jwe extends ft{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",C5(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class Xwe extends ft{constructor(e,{account:r,docsPath:n,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:u,nonce:c,to:h,value:m}){const y=C5({chain:i&&`${i?.name} (id: ${i?.id})`,from:r?.address,to:h,value:typeof m<"u"&&`${om(m)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${Ba(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${Ba(l)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Ba(u)} gwei`,nonce:c});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",y].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class Qee extends ft{constructor({blockHash:e,blockNumber:r,blockTag:n,hash:i,index:s}){let o="Transaction";n&&s!==void 0&&(o=`Transaction at block time "${n}" at index "${s}"`),e&&s!==void 0&&(o=`Transaction at block hash "${e}" at index "${s}"`),r&&s!==void 0&&(o=`Transaction at block number "${r}" at index "${s}"`),i&&(o=`Transaction with hash "${i}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class Jee extends ft{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class e2e extends ft{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}function Xee(t){const{kzg:e}=t,r=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),n=typeof t.blobs[0]=="string"?t.blobs.map(s=>uu(s)):t.blobs,i=[];for(const s of n)i.push(Uint8Array.from(e.blobToKzgCommitment(s)));return r==="bytes"?i:i.map(s=>cs(s))}function ete(t){const{kzg:e}=t,r=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),n=typeof t.blobs[0]=="string"?t.blobs.map(o=>uu(o)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(o=>uu(o)):t.commitments,s=[];for(let o=0;o<n.length;o++){const a=n[o],l=i[o];s.push(Uint8Array.from(e.computeBlobKzgProof(a,l)))}return r==="bytes"?s:s.map(o=>cs(o))}function t2e(t,e){return Ly(ra(t,{strict:!1})?bw(t):t)}function r2e(t){const{commitment:e,version:r=1}=t,n=t.to??(typeof e=="string"?"hex":"bytes"),i=t2e(e);return i.set([r],0),n==="bytes"?i:cs(i)}function n2e(t){const{commitments:e,version:r}=t,n=t.to,i=[];for(const s of e)i.push(r2e({commitment:s,to:n,version:r}));return i}const TF=6,tte=32,WR=4096,rte=tte*WR,$F=rte*TF-1-1*WR*TF;class i2e extends ft{constructor({maxSize:e,size:r}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${r} bytes`],name:"BlobSizeTooLargeError"})}}class s2e extends ft{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function o2e(t){const e=typeof t.data=="string"?uu(t.data):t.data,r=Si(e);if(!r)throw new s2e;if(r>$F)throw new i2e({maxSize:$F,size:r});const n=[];let i=!0,s=0;for(;i;){const o=jR(new Uint8Array(rte));let a=0;for(;a<WR;){const l=e.slice(s,s+(tte-1));if(o.pushByte(0),o.pushBytes(l),l.length<31){o.pushByte(128),i=!1;break}a++,s+=31}n.push(o)}return n.map(o=>cs(o.bytes))}function a2e(t){const{data:e,kzg:r,to:n}=t,i=t.blobs??o2e({data:e}),s=t.commitments??Xee({blobs:i,kzg:r,to:n}),o=t.proofs??ete({blobs:i,commitments:s,kzg:r,to:n}),a=[];for(let l=0;l<i.length;l++)a.push({blob:i[l],commitment:s[l],proof:o[l]});return a}const l2e=2n**256n-1n;class k$ extends ft{constructor({blockNumber:e,chain:r,contract:n}){super(`Chain "${r.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...e&&n.blockCreated&&n.blockCreated>e?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${n.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class c2e extends ft{constructor({chain:e,currentChainId:r}){super(`The current chain of the wallet (id: ${r}) does not match the target chain for the transaction (id: ${e.id} – ${e.name}).`,{metaMessages:[`Current Chain ID:  ${r}`,`Expected Chain ID: ${e.id} – ${e.name}`],name:"ChainMismatchError"})}}class u2e extends ft{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class nte extends ft{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class ty extends ft{constructor({cause:e,message:r}={}){const n=r?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(ty,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(ty,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class L8 extends ft{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${Ba(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(L8,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class I$ extends ft{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${Ba(r)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(I$,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class T$ extends ft{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(T$,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class $$ extends ft{constructor({cause:e,nonce:r}={}){super([`Nonce provided for the transaction ${r?`(${r}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty($$,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class M$ extends ft{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(M$,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class P$ extends ft{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(P$,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class N$ extends ft{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(N$,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class R$ extends ft{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(R$,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class O$ extends ft{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(O$,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class D8 extends ft{constructor({cause:e,maxPriorityFeePerGas:r,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${Ba(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${Ba(n)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(D8,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class k5 extends ft{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function d2e(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new Jwe({transaction:t})}async function h2e({address:t,authorization:e,signature:r}){return S5(Ni(t),await zR({authorization:e,signature:r}))}const f2e=t=>t,qR=t=>t;class mb extends ft{constructor({body:e,cause:r,details:n,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:r,details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${qR(o)}`,e&&`Request body: ${ls(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}class HR extends ft{constructor({body:e,error:r,url:n}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${qR(n)}`,`Request body: ${ls(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code,this.data=r.data}}class MF extends ft{constructor({body:e,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${qR(r)}`,`Request body: ${ls(e)}`],name:"TimeoutError"})}}const p2e=-1;class Va extends ft{constructor(e,{code:r,docsPath:n,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:e,docsPath:n,metaMessages:i||e?.metaMessages,name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof HR?e.code:r??p2e}}class $l extends Va{constructor(e,r){super(e,r),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class n3 extends Va{constructor(e){super(e,{code:n3.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(n3,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class i3 extends Va{constructor(e){super(e,{code:i3.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(i3,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class s3 extends Va{constructor(e,{method:r}={}){super(e,{code:s3.code,name:"MethodNotFoundRpcError",shortMessage:`The method${r?` "${r}"`:""} does not exist / is not available.`})}}Object.defineProperty(s3,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class o3 extends Va{constructor(e){super(e,{code:o3.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(o3,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Ng extends Va{constructor(e){super(e,{code:Ng.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Ng,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Rg extends Va{constructor(e){super(e,{code:Rg.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Rg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class a3 extends Va{constructor(e){super(e,{code:a3.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(a3,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class l3 extends Va{constructor(e){super(e,{code:l3.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(l3,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class c3 extends Va{constructor(e){super(e,{code:c3.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(c3,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Xp extends Va{constructor(e,{method:r}={}){super(e,{code:Xp.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${r?` "${r}"`:""} is not supported.`})}}Object.defineProperty(Xp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Uy extends Va{constructor(e){super(e,{code:Uy.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Uy,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class u3 extends Va{constructor(e){super(e,{code:u3.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(u3,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class wy extends $l{constructor(e){super(e,{code:wy.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(wy,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class d3 extends $l{constructor(e){super(e,{code:d3.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(d3,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class h3 extends $l{constructor(e,{method:r}={}){super(e,{code:h3.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${r?` " ${r}"`:""}.`})}}Object.defineProperty(h3,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class f3 extends $l{constructor(e){super(e,{code:f3.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(f3,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class p3 extends $l{constructor(e){super(e,{code:p3.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(p3,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class g3 extends $l{constructor(e){super(e,{code:g3.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(g3,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Fy extends $l{constructor(e){super(e,{code:Fy.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Fy,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class m3 extends $l{constructor(e){super(e,{code:m3.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(m3,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class y3 extends $l{constructor(e){super(e,{code:y3.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(y3,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class w3 extends $l{constructor(e){super(e,{code:w3.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(w3,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class v3 extends $l{constructor(e){super(e,{code:v3.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(v3,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class b3 extends $l{constructor(e){super(e,{code:b3.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(b3,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class zy extends $l{constructor(e){super(e,{code:zy.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(zy,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class g2e extends Va{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const x4=new y_(8192);function m2e(t,{enabled:e=!0,id:r}){if(!e||!r)return t();if(x4.get(r))return x4.get(r);const n=t().finally(()=>x4.delete(r));return x4.set(r,n),n}async function j$(t){return new Promise(e=>setTimeout(e,t))}function B8(t,{delay:e=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const l=async({error:u})=>{const c=typeof e=="function"?e({count:a,error:u}):e;c&&await j$(c),o({count:a+1})};try{const u=await t();i(u)}catch(u){if(a<r&&await n({count:a,error:u}))return l({error:u});s(u)}};o()})}function y2e(t,e={}){return async(r,n={})=>{const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:l}={...e,...n},{method:u}=r;if(s?.exclude?.includes(u))throw new Xp(new Error("method not supported"),{method:u});if(s?.include&&!s.include.includes(u))throw new Xp(new Error("method not supported"),{method:u});const c=i?jy(`${l}.${ls(r)}`):void 0;return m2e(()=>B8(async()=>{try{return await t(r)}catch(h){const m=h;switch(m.code){case n3.code:throw new n3(m);case i3.code:throw new i3(m);case s3.code:throw new s3(m,{method:r.method});case o3.code:throw new o3(m);case Ng.code:throw new Ng(m);case Rg.code:throw new Rg(m);case a3.code:throw new a3(m);case l3.code:throw new l3(m);case c3.code:throw new c3(m);case Xp.code:throw new Xp(m,{method:r.method});case Uy.code:throw new Uy(m);case u3.code:throw new u3(m);case wy.code:throw new wy(m);case d3.code:throw new d3(m);case h3.code:throw new h3(m);case f3.code:throw new f3(m);case p3.code:throw new p3(m);case g3.code:throw new g3(m);case Fy.code:throw new Fy(m);case m3.code:throw new m3(m);case y3.code:throw new y3(m);case w3.code:throw new w3(m);case v3.code:throw new v3(m);case b3.code:throw new b3(m);case zy.code:throw new zy(m);case 5e3:throw new wy(m);default:throw h instanceof ft?h:new g2e(m)}}},{delay:({count:h,error:m})=>{if(m&&m instanceof mb){const y=m?.headers?.get("Retry-After");if(y?.match(/\d/))return Number.parseInt(y,10)*1e3}return~~(1<<h)*o},retryCount:a,shouldRetry:({error:h})=>w2e(h)}),{enabled:i,id:c})}}function w2e(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Uy.code||t.code===Ng.code:t instanceof mb&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}const v2e="0.1.1";function b2e(){return v2e}let sn=class L$ extends Error{constructor(e,r={}){const n=(()=>{if(r.cause instanceof L$){if(r.cause.details)return r.cause.details;if(r.cause.shortMessage)return r.cause.shortMessage}return r.cause&&"details"in r.cause&&typeof r.cause.details=="string"?r.cause.details:r.cause?.message?r.cause.message:r.details})(),i=r.cause instanceof L$&&r.cause.docsPath||r.docsPath,o=`https://oxlib.sh${i??""}`,a=[e||"An error occurred.",...r.metaMessages?["",...r.metaMessages]:[],...n||i?["",n?`Details: ${n}`:void 0,i?`See: ${o}`:void 0]:[]].filter(l=>typeof l=="string").join(`
`);super(a,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${b2e()}`}),this.cause=r.cause,this.details=n,this.docs=o,this.docsPath=i,this.shortMessage=e}walk(e){return ite(this,e)}};function ite(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?ite(t.cause,e):e?null:t}function I5(t,e){if(ry(t)>e)throw new L2e({givenSize:ry(t),maxSize:e})}const Gd={zero:48,nine:57,A:65,F:70,a:97,f:102};function PF(t){if(t>=Gd.zero&&t<=Gd.nine)return t-Gd.zero;if(t>=Gd.A&&t<=Gd.F)return t-(Gd.A-10);if(t>=Gd.a&&t<=Gd.f)return t-(Gd.a-10)}function x2e(t,e={}){const{dir:r,size:n=32}=e;if(n===0)return t;if(t.length>n)throw new D2e({size:t.length,targetSize:n,type:"Bytes"});const i=new Uint8Array(n);for(let s=0;s<n;s++){const o=r==="right";i[o?s:n-s-1]=t[o?s:t.length-s-1]}return i}function ste(t,e={}){const{dir:r="left"}=e;let n=t,i=0;for(let s=0;s<n.length-1&&n[r==="left"?s:n.length-s-1].toString()==="0";s++)i++;return n=r==="left"?n.slice(i):n.slice(0,n.length-i),n}function E_(t,e){if(Sl(t)>e)throw new q2e({givenSize:Sl(t),maxSize:e})}function E2e(t,e){if(typeof e=="number"&&e>0&&e>Sl(t)-1)throw new pte({offset:e,position:"start",size:Sl(t)})}function _2e(t,e,r){if(typeof e=="number"&&typeof r=="number"&&Sl(t)!==r-e)throw new pte({offset:r,position:"end",size:Sl(t)})}function ote(t,e={}){const{dir:r,size:n=32}=e;if(n===0)return t;const i=t.replace("0x","");if(i.length>n*2)throw new H2e({size:Math.ceil(i.length/2),targetSize:n,type:"Hex"});return`0x${i[r==="right"?"padEnd":"padStart"](n*2,"0")}`}const A2e="#__bigint";function ate(t,e,r){return JSON.stringify(t,(n,i)=>typeof i=="bigint"?i.toString()+A2e:i,r)}const S2e=new TextDecoder,C2e=new TextEncoder;function k2e(t){return t instanceof Uint8Array?t:typeof t=="string"?lte(t):I2e(t)}function I2e(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function lte(t,e={}){const{size:r}=e;let n=t;r&&(E_(t,r),n=jg(t,r));let i=n.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let a=0,l=0;a<s;a++){const u=PF(i.charCodeAt(l++)),c=PF(i.charCodeAt(l++));if(u===void 0||c===void 0)throw new sn(`Invalid byte sequence ("${i[l-2]}${i[l-1]}" in "${i}").`);o[a]=u*16+c}return o}function T2e(t,e={}){const{size:r}=e,n=C2e.encode(t);return typeof r=="number"?(I5(n,r),$2e(n,r)):n}function $2e(t,e){return x2e(t,{dir:"right",size:e})}function ry(t){return t.length}function M2e(t,e,r,n={}){const{strict:i}=n;return t.slice(e,r)}function P2e(t,e={}){const{size:r}=e;typeof r<"u"&&I5(t,r);const n=fu(t,e);return dte(n,e)}function N2e(t,e={}){const{size:r}=e;let n=t;if(typeof r<"u"&&(I5(n,r),n=cte(n)),n.length>1||n[0]>1)throw new j2e(n);return!!n[0]}function Ph(t,e={}){const{size:r}=e;typeof r<"u"&&I5(t,r);const n=fu(t,e);return hte(n,e)}function R2e(t,e={}){const{size:r}=e;let n=t;return typeof r<"u"&&(I5(n,r),n=O2e(n)),S2e.decode(n)}function cte(t){return ste(t,{dir:"left"})}function O2e(t){return ste(t,{dir:"right"})}class j2e extends sn{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let L2e=class extends sn{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},D2e=class extends sn{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const B2e=new TextEncoder,U2e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function F2e(t,e={}){const{strict:r=!1}=e;if(!t)throw new NF(t);if(typeof t!="string")throw new NF(t);if(r&&!/^0x[0-9a-fA-F]*$/.test(t))throw new RF(t);if(!t.startsWith("0x"))throw new RF(t)}function hu(...t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}function z2e(t){return t instanceof Uint8Array?fu(t):Array.isArray(t)?fu(new Uint8Array(t)):t}function ute(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(E_(r,e.size),Og(r,e.size)):r}function fu(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=U2e[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(E_(n,e.size),jg(n,e.size)):n}function Wo(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const u=typeof t=="bigint"?"n":"";throw new fte({max:s?`${s}${u}`:void 0,min:`${o}${u}`,signed:r,size:n,value:`${t}${u}`})}const l=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?Og(l,n):l}function VR(t,e={}){return fu(B2e.encode(t),e)}function Og(t,e){return ote(t,{dir:"left",size:e})}function jg(t,e){return ote(t,{dir:"right",size:e})}function Ed(t,e,r,n={}){const{strict:i}=n;E2e(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(r??t.length)*2)}`;return i&&_2e(s,e,r),s}function Sl(t){return Math.ceil((t.length-2)/2)}function dte(t,e={}){const{signed:r}=e;e.size&&E_(t,e.size);const n=BigInt(t);if(!r)return n;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n)-1n,o=s>>1n;return n<=o?n:n-s-1n}function hte(t,e={}){const{signed:r,size:n}=e;return Number(!r&&!n?t:dte(t,e))}function W2e(t,e={}){const{strict:r=!1}=e;try{return F2e(t,{strict:r}),!0}catch{return!1}}let fte=class extends sn{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${n?" signed":" unsigned"} integer range ${e?`(\`${r}\` to \`${e}\`)`:`(above \`${r}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}};class NF extends sn{constructor(e){super(`Value \`${typeof e=="object"?ate(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class RF extends sn{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}let q2e=class extends sn{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}};class pte extends sn{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}let H2e=class extends sn{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function V2e(t){return{address:t.address,amount:Wo(t.amount),index:Wo(t.index),validatorIndex:Wo(t.validatorIndex)}}function gte(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:Wo(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:Wo(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:Wo(t.gasLimit)},...typeof t.number=="bigint"&&{number:Wo(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:Wo(t.prevRandao)},...typeof t.time=="bigint"&&{time:Wo(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(V2e)}}}const U8=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],D$=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],mte=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],yte=[...mte,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],K2e=[...mte,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],OF=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],jF=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],wte=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],LF=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],a3t=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],G2e="0x82ad56cb",vte="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Y2e="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Z2e="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",KR="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class Q2e extends ft{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class J2e extends ft{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function DF(t){return t.reduce((e,{slot:r,value:n})=>`${e}        ${r}: ${n}
`,"")}function X2e(t){return t.reduce((e,{address:r,...n})=>{let i=`${e}    ${r}:
`;return n.nonce&&(i+=`      nonce: ${n.nonce}
`),n.balance&&(i+=`      balance: ${n.balance}
`),n.code&&(i+=`      code: ${n.code}
`),n.state&&(i+=`      state:
`,i+=DF(n.state)),n.stateDiff&&(i+=`      stateDiff:
`,i+=DF(n.stateDiff)),i},`  State Override:
`).slice(0,-1)}class bte extends ft{constructor(e,{account:r,docsPath:n,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:u,nonce:c,to:h,value:m,stateOverride:y}){const b=r?Bi(r):void 0;let E=C5({from:b?.address,to:h,value:typeof m<"u"&&`${om(m)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${Ba(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${Ba(l)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Ba(u)} gwei`,nonce:c});y&&(E+=`
${X2e(y)}`),super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",E].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class xte extends ft{constructor(e,{abi:r,args:n,contractAddress:i,docsPath:s,functionName:o,sender:a}){const l=im({abi:r,args:n,name:o}),u=l?Vee({abiItem:l,args:n,includeFunctionName:!1,includeName:!1}):void 0,c=l?du(l,{includeName:!0}):void 0,h=C5({address:i&&f2e(i),function:c,args:u&&u!=="()"&&`${[...Array(o?.length??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],h&&"Contract Call:",h].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=r,this.args=n,this.cause=e,this.contractAddress=i,this.functionName=o,this.sender=a}}class B$ extends ft{constructor({abi:e,data:r,functionName:n,message:i}){let s,o,a,l;if(r&&r!=="0x")try{o=Bwe({abi:e,data:r});const{abiItem:c,errorName:h,args:m}=o;if(h==="Error")l=m[0];else if(h==="Panic"){const[y]=m;l=Nwe[y]}else{const y=c?du(c,{includeName:!0}):void 0,b=c&&m?Vee({abiItem:c,args:m,includeFunctionName:!1,includeName:!1}):void 0;a=[y?`Error: ${y}`:"",b&&b!=="()"?`       ${[...Array(h?.length??0).keys()].map(()=>" ").join("")}${b}`:""]}}catch(c){s=c}else i&&(l=i);let u;s instanceof Nee&&(u=s.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(l&&l!=="execution reverted"||u?[`The contract function "${n}" reverted with the following ${u?"signature":"reason"}:`,l||u].join(`
`):`The contract function "${n}" reverted.`,{cause:s,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=r,this.reason=l,this.signature=u}}class eve extends ft{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class tve extends ft{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class __ extends ft{constructor({data:e,message:r}){super(r||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function Aw({blockNumber:t,chain:e,contract:r}){const n=e?.contracts?.[r];if(!n)throw new k$({chain:e,contract:{name:r}});if(t&&n.blockCreated&&n.blockCreated>t)throw new k$({blockNumber:t,chain:e,contract:{name:r,blockCreated:n.blockCreated}});return n.address}function A_(t,e){const r=(t.details||"").toLowerCase(),n=t instanceof ft?t.walk(i=>i?.code===ty.code):t;return n instanceof ft?new ty({cause:t,message:n.details}):ty.nodeMessage.test(r)?new ty({cause:t,message:t.details}):L8.nodeMessage.test(r)?new L8({cause:t,maxFeePerGas:e?.maxFeePerGas}):I$.nodeMessage.test(r)?new I$({cause:t,maxFeePerGas:e?.maxFeePerGas}):T$.nodeMessage.test(r)?new T$({cause:t,nonce:e?.nonce}):$$.nodeMessage.test(r)?new $$({cause:t,nonce:e?.nonce}):M$.nodeMessage.test(r)?new M$({cause:t,nonce:e?.nonce}):P$.nodeMessage.test(r)?new P$({cause:t}):N$.nodeMessage.test(r)?new N$({cause:t,gas:e?.gas}):R$.nodeMessage.test(r)?new R$({cause:t,gas:e?.gas}):O$.nodeMessage.test(r)?new O$({cause:t}):D8.nodeMessage.test(r)?new D8({cause:t,maxFeePerGas:e?.maxFeePerGas,maxPriorityFeePerGas:e?.maxPriorityFeePerGas}):new k5({cause:t})}function Ete(t,{docsPath:e,...r}){const n=(()=>{const i=A_(t,r);return i instanceof k5?t:i})();return new bte(n,{docsPath:e,...r})}function S_(t,{format:e}){if(!e)return{};const r={};function n(s){const o=Object.keys(s);for(const a of o)a in t&&(r[a]=t[a]),s[a]&&typeof s[a]=="object"&&!Array.isArray(s[a])&&n(s[a])}const i=e(t||{});return n(i),r}const rve={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Sw(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=nve(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(r=>cs(r)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=dr(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=dr(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=dr(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=dr(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=dr(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=dr(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=rve[t.type]),typeof t.value<"u"&&(e.value=dr(t.value)),e}function nve(t){return t.map(e=>({address:e.address,r:e.r?dr(BigInt(e.r)):e.r,s:e.s?dr(BigInt(e.s)):e.s,chainId:dr(e.chainId),nonce:dr(e.nonce),...typeof e.yParity<"u"?{yParity:dr(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:dr(e.v)}:{}}))}function GR(){let t=()=>{},e=()=>{};return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}}const jS=new Map;function _te({fn:t,id:e,shouldSplitBatch:r,wait:n=0,sort:i}){const s=async()=>{const c=l();o();const h=c.map(({args:m})=>m);h.length!==0&&t(h).then(m=>{i&&Array.isArray(m)&&m.sort(i);for(let y=0;y<c.length;y++){const{resolve:b}=c[y];b?.([m[y],m])}}).catch(m=>{for(let y=0;y<c.length;y++){const{reject:b}=c[y];b?.(m)}})},o=()=>jS.delete(e),a=()=>l().map(({args:c})=>c),l=()=>jS.get(e)||[],u=c=>jS.set(e,[...l(),c]);return{flush:o,async schedule(c){const{promise:h,resolve:m,reject:y}=GR();return r?.([...a(),c])&&s(),l().length>0?(u({args:c,resolve:m,reject:y}),h):(u({args:c,resolve:m,reject:y}),setTimeout(s,n),h)}}}function BF(t){if(!(!t||t.length===0))return t.reduce((e,{slot:r,value:n})=>{if(r.length!==66)throw new mF({size:r.length,targetSize:66,type:"hex"});if(n.length!==66)throw new mF({size:n.length,targetSize:66,type:"hex"});return e[r]=n,e},{})}function ive(t){const{balance:e,nonce:r,state:n,stateDiff:i,code:s}=t,o={};if(s!==void 0&&(o.code=s),e!==void 0&&(o.balance=dr(e)),r!==void 0&&(o.nonce=dr(r)),n!==void 0&&(o.state=BF(n)),i!==void 0){if(o.state)throw new J2e;o.stateDiff=BF(i)}return o}function YR(t){if(!t)return;const e={};for(const{address:r,...n}of t){if(!za(r,{strict:!1}))throw new F0({address:r});if(e[r])throw new Q2e({address:r});e[r]=ive(n)}return e}function am(t){const{account:e,gasPrice:r,maxFeePerGas:n,maxPriorityFeePerGas:i,to:s}=t,o=e?Bi(e):void 0;if(o&&!za(o.address))throw new F0({address:o.address});if(s&&!za(s))throw new F0({address:s});if(typeof r<"u"&&(typeof n<"u"||typeof i<"u"))throw new Qwe;if(n&&n>l2e)throw new L8({maxFeePerGas:n});if(i&&n&&i>n)throw new D8({maxFeePerGas:n,maxPriorityFeePerGas:i})}async function C_(t,e){const{account:r=t.account,authorizationList:n,batch:i=!!t.batch?.multicall,blockNumber:s,blockTag:o=t.experimental_blockTag??"latest",accessList:a,blobs:l,blockOverrides:u,code:c,data:h,factory:m,factoryData:y,gas:b,gasPrice:E,maxFeePerBlobGas:A,maxFeePerGas:M,maxPriorityFeePerGas:O,nonce:P,to:z,value:L,stateOverride:W,...H}=e,G=r?Bi(r):void 0;if(c&&(m||y))throw new ft("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(c&&z)throw new ft("Cannot provide both `code` & `to` as parameters.");const N=c&&h,F=m&&y&&z&&h,U=N||F,j=N?Ate({code:c,data:h}):F?ave({data:h,factory:m,factoryData:y,to:z}):h;try{am(e);const d=(typeof s=="bigint"?dr(s):void 0)||o,g=u?gte(u):void 0,x=YR(W),C=t.chain?.formatters?.transactionRequest?.format,T=(C||Sw)({...S_(H,{format:C}),from:G?.address,accessList:a,authorizationList:n,blobs:l,data:j,gas:b,gasPrice:E,maxFeePerBlobGas:A,maxFeePerGas:M,maxPriorityFeePerGas:O,nonce:P,to:U?void 0:z,value:L});if(i&&sve({request:T})&&!x&&!g)try{return await ove(t,{...T,blockNumber:s,blockTag:o})}catch(f){if(!(f instanceof nte)&&!(f instanceof k$))throw f}const R=(()=>{const f=[T,d];return x&&g?[...f,x,g]:x?[...f,x]:g?[...f,{},g]:f})(),I=await t.request({method:"eth_call",params:R});return I==="0x"?{data:void 0}:{data:I}}catch(_){const d=lve(_),{offchainLookup:g,offchainLookupSignature:x}=await Da(async()=>{const{offchainLookup:C,offchainLookupSignature:k}=await import("./ccip-CC6wPmMw.js");return{offchainLookup:C,offchainLookupSignature:k}},[]);if(t.ccipRead!==!1&&d?.slice(0,10)===x&&z)return{data:await g(t,{data:d,to:z})};throw U&&d?.slice(0,10)==="0x101bb98d"?new tve({factory:m}):Ete(_,{...e,account:G,chain:t.chain})}}function sve({request:t}){const{data:e,to:r,...n}=t;return!(!e||e.startsWith(G2e)||!r||Object.values(n).filter(i=>typeof i<"u").length>0)}async function ove(t,e){const{batchSize:r=1024,deployless:n=!1,wait:i=0}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:o=t.experimental_blockTag??"latest",data:a,to:l}=e,u=(()=>{if(n)return null;if(e.multicallAddress)return e.multicallAddress;if(t.chain)return Aw({blockNumber:s,chain:t.chain,contract:"multicall3"});throw new nte})(),h=(typeof s=="bigint"?dr(s):void 0)||o,{schedule:m}=_te({id:`${t.uid}.${h}`,wait:i,shouldSplitBatch(E){return E.reduce((M,{data:O})=>M+(O.length-2),0)>r*2},fn:async E=>{const A=E.map(P=>({allowFailure:!0,callData:P.data,target:P.to})),M=Ha({abi:U8,args:[A],functionName:"aggregate3"}),O=await t.request({method:"eth_call",params:[{...u===null?{data:Ate({code:KR,data:M})}:{to:u,data:M}},h]});return sm({abi:U8,args:[A],functionName:"aggregate3",data:O||"0x"})}}),[{returnData:y,success:b}]=await m({data:a,to:l});if(!b)throw new __({data:y});return y==="0x"?{data:void 0}:{data:y}}function Ate(t){const{code:e,data:r}=t;return x_({abi:ree(["constructor(bytes, bytes)"]),bytecode:vte,args:[e,r]})}function ave(t){const{data:e,factory:r,factoryData:n,to:i}=t;return x_({abi:ree(["constructor(address, bytes, address, bytes)"]),bytecode:Y2e,args:[i,e,r,n]})}function lve(t){if(!(t instanceof ft))return;const e=t.walk();return typeof e?.data=="object"?e.data?.data:e.data}const k_="x-batch-gateway:true";async function cve(t){const{data:e,ccipRequest:r}=t,{args:[n]}=qee({abi:D$,data:e}),i=[],s=[];return await Promise.all(n.map(async(o,a)=>{try{s[a]=o.urls.includes(k_)?await cve({data:o.data,ccipRequest:r}):await r(o),i[a]=!1}catch(l){i[a]=!0,s[a]=uve(l)}})),Wwe({abi:D$,functionName:"query",result:[i,s]})}function uve(t){return t.name==="HttpRequestError"&&t.status?AF({abi:D$,errorName:"HttpError",args:[t.status,t.shortMessage]}):AF({abi:[zee],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function Ste({chain:t,currentChainId:e}){if(!t)throw new u2e;if(e!==t.id)throw new c2e({chain:t,currentChainId:e})}const dve=3;function Lg(t,{abi:e,address:r,args:n,docsPath:i,functionName:s,sender:o}){const a=t instanceof __?t:t instanceof ft?t.walk(b=>"data"in b)||t.walk():{},{code:l,data:u,details:c,message:h,shortMessage:m}=a,y=t instanceof E5?new eve({functionName:s}):[dve,Ng.code].includes(l)&&(u||c||h||m)?new B$({abi:e,data:typeof u=="object"?u.data:u,functionName:s,message:a instanceof HR?c:m??h}):t;return new xte(y,{abi:e,args:n,contractAddress:r,docsPath:i,functionName:s,sender:o})}class hve extends ft{constructor(e,{account:r,docsPath:n,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:u,nonce:c,to:h,value:m}){const y=C5({from:r?.address,to:h,value:typeof m<"u"&&`${om(m)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${Ba(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${Ba(l)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Ba(u)} gwei`,nonce:c});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",y].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function fve(t,{docsPath:e,...r}){const n=(()=>{const i=A_(t,r);return i instanceof k5?t:i})();return new hve(n,{docsPath:e,...r})}function Cte(t,{docsPath:e,...r}){const n=(()=>{const i=A_(t,r);return i instanceof k5?t:i})();return new Xwe(n,{docsPath:e,...r})}const kte={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Ite(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?cu(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?cu(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?kte[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=pve(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}function pve(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function Tte(t){const e=(t.transactions??[]).map(r=>typeof r=="string"?r:Ite(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}function Uh(t,{args:e,eventName:r}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...r?{args:e,eventName:r}:{}}}const $te={"0x0":"reverted","0x1":"success"};function gve(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(r=>Uh(r)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?cu(t.transactionIndex):null,status:t.status?$te[t.status]:null,type:t.type?kte[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}function pr(t,e,r){const n=t[e.name];if(typeof n=="function")return n;const i=t[r];return typeof i=="function"?i:s=>e(t,s)}async function ZR(t,{address:e,blockTag:r="latest",blockNumber:n}){const i=await t.request({method:"eth_getTransactionCount",params:[e,typeof n=="bigint"?dr(n):r]},{dedupe:!!n});return cu(i)}function mve(t,{errorInstance:e=new Error("timed out"),timeout:r,signal:n}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;r>0&&(o=setTimeout(()=>{n&&a.abort()},r)),i(await t({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function yve(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const UF=yve();function wve(t,e={}){return{async request(r){const{body:n,fetchFn:i=e.fetchFn??fetch,onRequest:s=e.onRequest,onResponse:o=e.onResponse,timeout:a=e.timeout??1e4}=r,l={...e.fetchOptions??{},...r.fetchOptions??{}},{headers:u,method:c,signal:h}=l;try{const m=await mve(async({signal:b})=>{const E={...l,body:Array.isArray(n)?ls(n.map(P=>({jsonrpc:"2.0",id:P.id??UF.take(),...P}))):ls({jsonrpc:"2.0",id:n.id??UF.take(),...n}),headers:{"Content-Type":"application/json",...u},method:c||"POST",signal:h||(a>0?b:null)},A=new Request(t,E),M=await s?.(A,E)??{...E,url:t};return await i(M.url??t,M)},{errorInstance:new MF({body:n,url:t}),timeout:a,signal:!0});o&&await o(m);let y;if(m.headers.get("Content-Type")?.startsWith("application/json"))y=await m.json();else{y=await m.text();try{y=JSON.parse(y||"{}")}catch(b){if(m.ok)throw b;y={error:y}}}if(!m.ok)throw new mb({body:n,details:ls(y.error)||m.statusText,headers:m.headers,status:m.status,url:t});return y}catch(m){throw m instanceof mb||m instanceof MF?m:new mb({body:n,cause:m,url:t})}}}}const vve=`Ethereum Signed Message:
`;function bve(t){const e=typeof t=="string"?jy(t):typeof t.raw=="string"?t.raw:cs(t.raw),r=jy(`${vve}${Si(e)}`);return oc([r,e])}function Mte(t,e){return Gs(bve(t),e)}class xve extends ft{constructor({domain:e}){super(`Invalid domain "${ls(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class Eve extends ft{constructor({primaryType:e,types:r}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(r))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class _ve extends ft{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function Ave(t){const{domain:e,message:r,primaryType:n,types:i}=t,s=(l,u)=>{const c={...u};for(const h of l){const{name:m,type:y}=h;y==="address"&&(c[m]=c[m].toLowerCase())}return c},o=i.EIP712Domain?e?s(i.EIP712Domain,e):{}:{},a=(()=>{if(n!=="EIP712Domain")return s(i[n],r)})();return ls({domain:o,message:a,primaryType:n,types:i})}function Pte(t){const{domain:e,message:r,primaryType:n,types:i}=t,s=(o,a)=>{for(const l of o){const{name:u,type:c}=l,h=a[u],m=c.match(Fee);if(m&&(typeof h=="number"||typeof h=="bigint")){const[E,A,M]=m;dr(h,{signed:A==="int",size:Number.parseInt(M,10)/8})}if(c==="address"&&typeof h=="string"&&!za(h))throw new F0({address:h});const y=c.match(ywe);if(y){const[E,A]=y;if(A&&Si(h)!==Number.parseInt(A,10))throw new awe({expectedSize:Number.parseInt(A,10),givenSize:Si(h)})}const b=i[c];b&&(Sve(c),s(b,h))}};if(i.EIP712Domain&&e){if(typeof e!="object")throw new xve({domain:e});s(i.EIP712Domain,e)}if(n!=="EIP712Domain")if(i[n])s(i[n],r);else throw new Eve({primaryType:n,types:i})}function Nte({domain:t}){return[typeof t?.name=="string"&&{name:"name",type:"string"},t?.version&&{name:"version",type:"string"},(typeof t?.chainId=="number"||typeof t?.chainId=="bigint")&&{name:"chainId",type:"uint256"},t?.verifyingContract&&{name:"verifyingContract",type:"address"},t?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Sve(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new _ve({type:t})}function Cve(t){const{domain:e={},message:r,primaryType:n}=t,i={EIP712Domain:Nte({domain:e}),...t.types};Pte({domain:e,message:r,primaryType:n,types:i});const s=["0x1901"];return e&&s.push(kve({domain:e,types:i})),n!=="EIP712Domain"&&s.push(Rte({data:r,primaryType:n,types:i})),Gs(oc(s))}function kve({domain:t,types:e}){return Rte({data:t,primaryType:"EIP712Domain",types:e})}function Rte({data:t,primaryType:e,types:r}){const n=Ote({data:t,primaryType:e,types:r});return Gs(n)}function Ote({data:t,primaryType:e,types:r}){const n=[{type:"bytes32"}],i=[Ive({primaryType:e,types:r})];for(const s of r[e]){const[o,a]=Lte({types:r,name:s.name,type:s.type,value:t[s.name]});n.push(o),i.push(a)}return nm(n,i)}function Ive({primaryType:t,types:e}){const r=_s(Tve({primaryType:t,types:e}));return Gs(r)}function Tve({primaryType:t,types:e}){let r="";const n=jte({primaryType:t,types:e});n.delete(t);const i=[t,...Array.from(n).sort()];for(const s of i)r+=`${s}(${e[s].map(({name:o,type:a})=>`${a} ${o}`).join(",")})`;return r}function jte({primaryType:t,types:e},r=new Set){const i=t.match(/^\w*/u)?.[0];if(r.has(i)||e[i]===void 0)return r;r.add(i);for(const s of e[i])jte({primaryType:s.type,types:e},r);return r}function Lte({types:t,name:e,type:r,value:n}){if(t[r]!==void 0)return[{type:"bytes32"},Gs(Ote({data:n,primaryType:r,types:t}))];if(r==="bytes")return n=`0x${(n.length%2?"0":"")+n.slice(2)}`,[{type:"bytes32"},Gs(n)];if(r==="string")return[{type:"bytes32"},Gs(_s(n))];if(r.lastIndexOf("]")===r.length-1){const i=r.slice(0,r.lastIndexOf("[")),s=n.map(o=>Lte({name:e,type:i,types:t,value:o}));return[{type:"bytes32"},Gs(nm(s.map(([o])=>o),s.map(([,o])=>o)))]}return[{type:r},n]}let $ve=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}};const Mve={checksum:new $ve(8192)},LS=Mve.checksum;function Dte(t,e={}){const{as:r=typeof t=="string"?"Hex":"Bytes"}=e,n=Pg(k2e(t));return r==="Bytes"?n:fu(n)}const Pve=/^0x[a-fA-F0-9]{40}$/;function I_(t,e={}){const{strict:r=!0}=e;if(!Pve.test(t))throw new FF({address:t,cause:new Nve});if(r){if(t.toLowerCase()===t)return;if(Bte(t)!==t)throw new FF({address:t,cause:new Rve})}}function Bte(t){if(LS.has(t))return LS.get(t);I_(t,{strict:!1});const e=t.substring(2).toLowerCase(),r=Dte(T2e(e),{as:"Bytes"}),n=e.split("");for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&n[s]&&(n[s]=n[s].toUpperCase()),(r[s>>1]&15)>=8&&n[s+1]&&(n[s+1]=n[s+1].toUpperCase());const i=`0x${n.join("")}`;return LS.set(t,i),i}function U$(t,e={}){const{strict:r=!0}=e??{};try{return I_(t,{strict:r}),!0}catch{return!1}}class FF extends sn{constructor({address:e,cause:r}){super(`Address "${e}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Nve extends sn{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Rve extends sn{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const Ove=/^(.*)\[([0-9]*)\]$/,jve=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Ute=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,zF=2n**256n-1n;function vy(t,e,r){const{checksumAddress:n,staticPosition:i}=r,s=XR(e.type);if(s){const[o,a]=s;return Dve(t,{...e,type:a},{checksumAddress:n,length:o,staticPosition:i})}if(e.type==="tuple")return zve(t,e,{checksumAddress:n,staticPosition:i});if(e.type==="address")return Lve(t,{checksum:n});if(e.type==="bool")return Bve(t);if(e.type.startsWith("bytes"))return Uve(t,e,{staticPosition:i});if(e.type.startsWith("uint")||e.type.startsWith("int"))return Fve(t,e);if(e.type==="string")return Wve(t,{staticPosition:i});throw new tO(e.type)}const WF=32,F$=32;function Lve(t,e={}){const{checksum:r=!1}=e,n=t.readBytes(32);return[(s=>r?Bte(s):s)(fu(M2e(n,-20))),32]}function Dve(t,e,r){const{checksumAddress:n,length:i,staticPosition:s}=r;if(!i){const l=Ph(t.readBytes(F$)),u=s+l,c=u+WF;t.setPosition(u);const h=Ph(t.readBytes(WF)),m=x3(e);let y=0;const b=[];for(let E=0;E<h;++E){t.setPosition(c+(m?E*32:y));const[A,M]=vy(t,e,{checksumAddress:n,staticPosition:c});y+=M,b.push(A)}return t.setPosition(s+32),[b,32]}if(x3(e)){const l=Ph(t.readBytes(F$)),u=s+l,c=[];for(let h=0;h<i;++h){t.setPosition(u+h*32);const[m]=vy(t,e,{checksumAddress:n,staticPosition:u});c.push(m)}return t.setPosition(s+32),[c,32]}let o=0;const a=[];for(let l=0;l<i;++l){const[u,c]=vy(t,e,{checksumAddress:n,staticPosition:s+o});o+=c,a.push(u)}return[a,o]}function Bve(t){return[N2e(t.readBytes(32),{size:32}),32]}function Uve(t,e,{staticPosition:r}){const[n,i]=e.type.split("bytes");if(!i){const o=Ph(t.readBytes(32));t.setPosition(r+o);const a=Ph(t.readBytes(32));if(a===0)return t.setPosition(r+32),["0x",32];const l=t.readBytes(a);return t.setPosition(r+32),[fu(l),32]}return[fu(t.readBytes(Number.parseInt(i,10),32)),32]}function Fve(t,e){const r=e.type.startsWith("int"),n=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[n>48?P2e(i,{signed:r}):Ph(i,{signed:r}),32]}function zve(t,e,r){const{checksumAddress:n,staticPosition:i}=r,s=e.components.length===0||e.components.some(({name:l})=>!l),o=s?[]:{};let a=0;if(x3(e)){const l=Ph(t.readBytes(F$)),u=i+l;for(let c=0;c<e.components.length;++c){const h=e.components[c];t.setPosition(u+a);const[m,y]=vy(t,h,{checksumAddress:n,staticPosition:u});a+=y,o[s?c:h?.name]=m}return t.setPosition(i+32),[o,32]}for(let l=0;l<e.components.length;++l){const u=e.components[l],[c,h]=vy(t,u,{checksumAddress:n,staticPosition:i});o[s?l:u?.name]=c,a+=h}return[o,a]}function Wve(t,{staticPosition:e}){const r=Ph(t.readBytes(32)),n=e+r;t.setPosition(n);const i=Ph(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),o=R2e(cte(s));return t.setPosition(e+32),[o,32]}function qve({checksumAddress:t,parameters:e,values:r}){const n=[];for(let i=0;i<e.length;i++)n.push(QR({checksumAddress:t,parameter:e[i],value:r[i]}));return n}function QR({checksumAddress:t=!1,parameter:e,value:r}){const n=e,i=XR(n.type);if(i){const[s,o]=i;return Vve(r,{checksumAddress:t,length:s,parameter:{...n,type:o}})}if(n.type==="tuple")return Qve(r,{checksumAddress:t,parameter:n});if(n.type==="address")return Hve(r,{checksum:t});if(n.type==="bool")return Gve(r);if(n.type.startsWith("uint")||n.type.startsWith("int")){const s=n.type.startsWith("int"),[,,o="256"]=Ute.exec(n.type)??[];return Yve(r,{signed:s,size:Number(o)})}if(n.type.startsWith("bytes"))return Kve(r,{type:n.type});if(n.type==="string")return Zve(r);throw new tO(n.type)}function JR(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?e+=32:e+=Sl(a)}const r=[],n=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?(r.push(Wo(e+i,{size:32})),n.push(a),i+=Sl(a)):r.push(a)}return hu(...r,...n)}function Hve(t,e){const{checksum:r=!1}=e;return I_(t,{strict:r}),{dynamic:!1,encoded:Og(t.toLowerCase())}}function Vve(t,e){const{checksumAddress:r,length:n,parameter:i}=e,s=n===null;if(!Array.isArray(t))throw new obe(t);if(!s&&t.length!==n)throw new sbe({expectedLength:n,givenLength:t.length,type:`${i.type}[${n}]`});let o=!1;const a=[];for(let l=0;l<t.length;l++){const u=QR({checksumAddress:r,parameter:i,value:t[l]});u.dynamic&&(o=!0),a.push(u)}if(s||o){const l=JR(a);if(s){const u=Wo(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?hu(u,l):u}}if(o)return{dynamic:!0,encoded:l}}return{dynamic:!1,encoded:hu(...a.map(({encoded:l})=>l))}}function Kve(t,{type:e}){const[,r]=e.split("bytes"),n=Sl(t);if(!r){let i=t;return n%32!==0&&(i=jg(i,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:hu(Og(Wo(n,{size:32})),i)}}if(n!==Number.parseInt(r,10))throw new zte({expectedSize:Number.parseInt(r,10),value:t});return{dynamic:!1,encoded:jg(t)}}function Gve(t){if(typeof t!="boolean")throw new sn(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Og(ute(t))}}function Yve(t,{signed:e,size:r}){if(typeof r=="number"){const n=2n**(BigInt(r)-(e?1n:0n))-1n,i=e?-n-1n:0n;if(t>n||t<i)throw new fte({max:n.toString(),min:i.toString(),signed:e,size:r/8,value:t.toString()})}return{dynamic:!1,encoded:Wo(t,{size:32,signed:e})}}function Zve(t){const e=VR(t),r=Math.ceil(Sl(e)/32),n=[];for(let i=0;i<r;i++)n.push(jg(Ed(e,i*32,(i+1)*32)));return{dynamic:!0,encoded:hu(jg(Wo(Sl(e),{size:32})),...n)}}function Qve(t,e){const{checksumAddress:r,parameter:n}=e;let i=!1;const s=[];for(let o=0;o<n.components.length;o++){const a=n.components[o],l=Array.isArray(t)?o:a.name,u=QR({checksumAddress:r,parameter:a,value:t[l]});s.push(u),u.dynamic&&(i=!0)}return{dynamic:i,encoded:i?JR(s):hu(...s.map(({encoded:o})=>o))}}function XR(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function x3(t){const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(x3);const r=XR(t.type);return!!(r&&x3({...t,type:r[1]}))}const Jve={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new tbe({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new ebe({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new qF({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new qF({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const r=e??this.position;return this.assertPosition(r+t-1),this.bytes.subarray(r,r+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const r=this.inspectBytes(t);return this.position+=e??t,r},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function Xve(t,{recursiveReadLimit:e=8192}={}){const r=Object.create(Jve);return r.bytes=t,r.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=e,r}class qF extends sn{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class ebe extends sn{constructor({length:e,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class tbe extends sn{constructor({count:e,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function rbe(t,e,r={}){const{as:n="Array",checksumAddress:i=!1}=r,s=typeof e=="string"?lte(e):e,o=Xve(s);if(ry(s)===0&&t.length>0)throw new ibe;if(ry(s)&&ry(s)<32)throw new nbe({data:typeof e=="string"?e:fu(e),parameters:t,size:ry(s)});let a=0;const l=n==="Array"?[]:{};for(let u=0;u<t.length;++u){const c=t[u];o.setPosition(a);const[h,m]=vy(o,c,{checksumAddress:i,staticPosition:0});a+=m,n==="Array"?l.push(h):l[c.name??u]=h}return l}function eO(t,e,r){const{checksumAddress:n=!1}={};if(t.length!==e.length)throw new Wte({expectedLength:t.length,givenLength:e.length});const i=qve({checksumAddress:n,parameters:t,values:e}),s=JR(i);return s.length===0?"0x":s}function z$(t,e){if(t.length!==e.length)throw new Wte({expectedLength:t.length,givenLength:e.length});const r=[];for(let n=0;n<t.length;n++){const i=t[n],s=e[n];r.push(z$.encode(i,s))}return hu(...r)}(function(t){function e(r,n,i=!1){if(r==="address"){const l=n;return I_(l),Og(l.toLowerCase(),i?32:0)}if(r==="string")return VR(n);if(r==="bytes")return n;if(r==="bool")return Og(ute(n),i?32:1);const s=r.match(Ute);if(s){const[l,u,c="256"]=s,h=Number.parseInt(c,10)/8;return Wo(n,{size:i?32:h,signed:u==="int"})}const o=r.match(jve);if(o){const[l,u]=o;if(Number.parseInt(u,10)!==(n.length-2)/2)throw new zte({expectedSize:Number.parseInt(u,10),value:n});return jg(n,i?32:0)}const a=r.match(Ove);if(a&&Array.isArray(n)){const[l,u]=a,c=[];for(let h=0;h<n.length;h++)c.push(e(u,n[h],!0));return c.length===0?"0x":hu(...c)}throw new tO(r)}t.encode=e})(z$||(z$={}));function Fte(t){return Array.isArray(t)&&typeof t[0]=="string"||typeof t=="string"?gF(t):t}class nbe extends sn{constructor({data:e,parameters:r,size:n}){super(`Data size of ${n} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Z1(r)})`,`Data:   ${e} (${n} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class ibe extends sn{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class sbe extends sn{constructor({expectedLength:e,givenLength:r,type:n}){super(`Array length mismatch for type \`${n}\`. Expected: \`${e}\`. Given: \`${r}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class zte extends sn{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${Sl(r)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class Wte extends sn{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class obe extends sn{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class tO extends sn{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function qte(t,e={}){const{recovered:r}=e;if(typeof t.r>"u")throw new DS({signature:t});if(typeof t.s>"u")throw new DS({signature:t});if(r&&typeof t.yParity>"u")throw new DS({signature:t});if(t.r<0n||t.r>zF)throw new fbe({value:t.r});if(t.s<0n||t.s>zF)throw new pbe({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new nO({value:t.yParity})}function abe(t){return Hte(fu(t))}function Hte(t){if(t.length!==130&&t.length!==132)throw new hbe({signature:t});const e=BigInt(Ed(t,0,32)),r=BigInt(Ed(t,32,64)),n=(()=>{const i=+`0x${t.slice(130)}`;if(!Number.isNaN(i))try{return rO(i)}catch{throw new nO({value:i})}})();return typeof n>"u"?{r:e,s:r}:{r:e,s:r,yParity:n}}function lbe(t){if(!(typeof t.r>"u")&&!(typeof t.s>"u"))return cbe(t)}function cbe(t){const e=typeof t=="string"?Hte(t):t instanceof Uint8Array?abe(t):typeof t.r=="string"?dbe(t):t.v?ube(t):{r:t.r,s:t.s,...typeof t.yParity<"u"?{yParity:t.yParity}:{}};return qte(e),e}function ube(t){return{r:t.r,s:t.s,yParity:rO(t.v)}}function dbe(t){const e=(()=>{const r=t.v?Number(t.v):void 0;let n=t.yParity?Number(t.yParity):void 0;if(typeof r=="number"&&typeof n!="number"&&(n=rO(r)),typeof n!="number")throw new nO({value:t.yParity});return n})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function rO(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new gbe({value:t})}class hbe extends sn{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Sl(z2e(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class DS extends sn{constructor({signature:e}){super(`Signature \`${ate(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class fbe extends sn{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class pbe extends sn{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class nO extends sn{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class gbe extends sn{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function mbe(t,e={}){return typeof t.chainId=="string"?ybe(t):{...t,...e.signature}}function ybe(t){const{address:e,chainId:r,nonce:n}=t,i=lbe(t);return{address:e,chainId:Number(r),nonce:BigInt(n),...i}}const wbe="0x8010801080108010801080108010801080108010801080108010801080108010",vbe=Fte("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function Vte(t){if(typeof t=="string"){if(Ed(t,-32)!==wbe)throw new Ebe(t)}else qte(t.authorization)}function bbe(t){Vte(t);const e=hte(Ed(t,-64,-32)),r=Ed(t,-e-64,-64),n=Ed(t,0,-e-64),[i,s,o]=rbe(vbe,r);return{authorization:mbe({address:i.delegation,chainId:Number(i.chainId),nonce:i.nonce,yParity:i.yParity,r:i.r,s:i.s}),signature:n,...o&&o!=="0x"?{data:o,to:s}:{}}}function xbe(t){try{return Vte(t),!0}catch{return!1}}let Ebe=class extends sn{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};class _be extends ft{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function Abe(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new _be({value:t});let[r,n="0"]=t.split(".");const i=r.startsWith("-");if(i&&(r=r.slice(1)),n=n.replace(/(0+)$/,""),e===0)Math.round(+`.${n}`)===1&&(r=`${BigInt(r)+1n}`),n="";else if(n.length>e){const[s,o,a]=[n.slice(0,e-1),n.slice(e-1,e),n.slice(e)],l=Math.round(+`${o}.${a}`);l>9?n=`${BigInt(s)+BigInt(1)}0`.padStart(s.length+1,"0"):n=`${s}${l}`,n.length>e&&(n=n.slice(1),r=`${BigInt(r)+1n}`),n=n.slice(0,e)}else n=n.padEnd(e,"0");return BigInt(`${i?"-":""}${r}${n}`)}function Kte(t,e="wei"){return Abe(t,Zee[e])}const Sbe={path:"/api/v1/analytics_events",method:"POST"},Cbe={path:"/api/v1/apps/:app_id",method:"GET"},kbe={path:"/api/v1/funding/coinbase_on_ramp/init",method:"POST"},Ibe={path:"/api/v1/funding/coinbase_on_ramp/status",method:"GET"},Tbe={path:"/api/v1/apps/:app_id/cross-app/connections",method:"GET"},$be={path:"/api/v1/custom_jwt_account/authenticate",method:"POST"},Mbe={path:"/api/v1/farcaster/init",method:"POST"},Pbe={path:"/api/v1/farcaster/authenticate",method:"POST"},Nbe={path:"/api/v1/farcaster/link",method:"POST"},Rbe={path:"/api/v1/farcaster/unlink",method:"POST"},Obe={path:"/api/v1/farcaster/status",method:"GET"},jbe={path:"/api/v2/farcaster/init",method:"POST"},Lbe={path:"/api/v2/farcaster/authenticate",method:"POST"},Dbe={path:"/api/v1/guest/authenticate",method:"POST"},Bbe={path:"/api/v1/mfa/passkeys/init",method:"POST"},Ube={path:"/api/v1/mfa/passwordless_sms/init",method:"POST"},Fbe={path:"/api/v1/oauth/authenticate",method:"POST"},zbe={path:"/api/v1/oauth/init",method:"POST"},Wbe={path:"/api/v1/oauth/link",method:"POST"},qbe={path:"/api/v1/oauth/unlink",method:"POST"},Hbe={path:"/api/v1/passkeys/link",method:"POST"},Vbe={path:"/api/v1/passkeys/authenticate",method:"POST"},Kbe={path:"/api/v1/passkeys/register",method:"POST"},Gbe={path:"/api/v1/passkeys/authenticate/init",method:"POST"},Ybe={path:"/api/v1/passkeys/register/init",method:"POST"},Zbe={path:"/api/v1/passkeys/link/init",method:"POST"},Qbe={path:"/api/v1/passwordless/authenticate",method:"POST"},Jbe={path:"/api/v1/passwordless/init",method:"POST"},Xbe={path:"/api/v1/passwordless/link",method:"POST"},e3e={path:"/api/v1/passwordless/unlink",method:"POST"},t3e={path:"/api/v1/passwordless/update",method:"POST"},r3e={path:"/api/v1/passwordless_sms/authenticate",method:"POST"},n3e={path:"/api/v1/passwordless_sms/init",method:"POST"},i3e={path:"/api/v1/passwordless_sms/link",method:"POST"},s3e={path:"/api/v1/passwordless_sms/unlink",method:"POST"},o3e={path:"/api/v1/passwordless_sms/update",method:"POST"},a3e={path:"/api/v1/embedded_wallets/:address/recovery/key_material",method:"POST"},l3e={path:"/api/v1/recovery/oauth/init",method:"POST"},c3e={path:"/api/v1/recovery/oauth/authenticate",method:"POST"},u3e={path:"/api/v1/recovery/oauth/init_icloud",method:"POST"},d3e={path:"/api/v1/recovery/configuration_icloud",method:"POST"},h3e=(t,e)=>e?Object.entries(e).reduce(((r,[n,i])=>r.replace(`:${n}`,`${i}`)),t):t,HF={path:"/api/v1/sessions",method:"POST"},f3e={path:"/api/v1/sessions/logout",method:"POST"},p3e={path:"/api/v1/apps/:app_id/smart_wallets",method:"GET"},Gte={path:"/api/v1/siwe/init",method:"POST"},g3e={path:"/api/v1/siwe/authenticate",method:"POST"},m3e={path:"/api/v1/siwe/link",method:"POST"},y3e={path:"/api/v1/siwe/link_smart_wallet",method:"POST"},w3e={path:"/api/v1/siwe/unlink",method:"POST"},v3e={path:"/api/v1/siws/init",method:"POST"},b3e={path:"/api/v1/siws/authenticate",method:"POST"},x3e={path:"/api/v1/siws/link",method:"POST"},E3e={path:"/api/v1/siws/unlink",method:"POST"},_3e={path:"/api/v1/users/me/accept_terms",method:"POST"},A3e={path:"/api/v1/plugins/moonpay_on_ramp/sign",method:"POST"},S3e={path:"/api/v1/wallets",method:"POST"},BS={path:"/api/v1/wallets/:wallet_id/rpc",method:"POST"},C3e={path:"/api/v1/wallets/revoke",method:"POST"};var br,VF=((br={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",br.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",br.MISSING_OR_INVALID_PRIVY_CLIENT_ID="missing_or_invalid_privy_client_id",br.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",br.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",br.MISSING_OR_INVALID_MFA="missing_or_invalid_mfa",br.EXPIRED_OR_INVALID_MFA_TOKEN="expired_or_invalid_mfa_token",br.INVALID_DATA="invalid_data",br.INVALID_CREDENTIALS="invalid_credentials",br.INVALID_CAPTCHA="invalid_captcha",br.LINKED_TO_ANOTHER_USER="linked_to_another_user",br.ALLOWLIST_REJECTED="allowlist_rejected",br.CANNOT_UNLINK_EMBEDDED_WALLET="cannot_unlink_embedded_wallet",br.CANNOT_UNLINK_SOLE_ACCOUNT="cannot_unlink_sole_account",br.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",br.LINKED_ACCOUNT_NOT_FOUND="linked_account_not_found",br.TOO_MANY_REQUESTS="too_many_requests",br.INVALID_ORIGIN="invalid_origin",br.MISSING_ORIGIN="missing_origin",br.INVALID_NATIVE_APP_ID="invalid_native_app_id",br.TOKEN_ALREADY_USED="token_already_used",br.ALREADY_LOGGED_OUT="already_logged_out",br.NOT_SUPPORTED="not_supported",br.USER_UNSUBSCRIBED="user_unsubscribed",br.MAX_APPS_REACHED="max_apps_reached",br.USER_LIMIT_REACHED="max_accounts_reached",br.DEVICE_REVOKED="device_revoked",br.WALLET_PASSWORD_EXISTS="wallet_password_exists",br.OAUTH_STATE_MISMATCH="oauth_state_mismatch",br.MAX_DENYLIST_ENTRIES_REACHED="max_denylist_entries_reached",br.MAX_TEST_ACCOUNTS_REACHED="max_test_accounts_reached",br.DISALLOWED_LOGIN_METHOD="disallowed_login_method",br.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",br.DISALLOWED_RECOVERY_METHOD="disallowed_recovery_method",br.LEGACY_DASHBOARD_LOGIN_CONFIGURATION="legacy_dashboard_login_configuration",br.CANNOT_SET_PASSWORD="cannot_set_password",br.INVALID_PKCE_PARAMETERS="invalid_pkce_parameters",br.INVALID_APP_URL_SCHEME_CONFIGURATION="invalid_app_url_scheme_configuration",br.CROSS_APP_CONNECTION_NOT_ALLOWED="cross_app_connection_not_allowed",br.USER_DOES_NOT_EXIST="user_does_not_exist",br.ALREADY_EXISTS="resource_already_exists",br.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",br.USER_HAS_NOT_DELEGATED_WALLET="user_has_not_delegated_wallet",br.FEATURE_NOT_ENABLED="feature_not_enabled",br.INSUFFICIENT_FUNDS="insufficient_funds",br.TRANSACTION_BROADCAST_FAILURE="transaction_broadcast_failure",br.INVALID_POLICY_FORMAT="invalid_policy_format",br.POLICY_VIOLATION="policy_violation",br.AUTHORIZATION_KEY_HAS_ASSOCIATED_WALLETS="authorization_key_has_associated_wallets",br.INVALID_REQUEST="invalid_request",br);function KF(t,e){t=t.split("-"),e=e.split("-");for(var r=t[0].split("."),n=e[0].split("."),i=0;i<3;i++){var s=Number(r[i]),o=Number(n[i]);if(s>o)return 1;if(o>s)return-1;if(!isNaN(s)&&isNaN(o))return 1;if(isNaN(s)&&!isNaN(o))return-1}return t[1]&&e[1]?t[1]>e[1]?1:t[1]<e[1]?-1:0:!t[1]&&e[1]?1:t[1]&&!e[1]?-1:0}var k3e={}.constructor;function Ag(t){return t!=null&&t.constructor===k3e}function Wy(t){"@babel/helpers - typeof";return Wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wy(t)}function T_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I3e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,T3e(n.key),n)}}function $_(t,e,r){return e&&I3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function T3e(t){var e=$3e(t,"string");return Wy(e)=="symbol"?e:e+""}function $3e(t,e){if(Wy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var M3e="1.2.0",P3e="1.7.35",GF=" ext. ",N3e=/^\d+$/,Ss=(function(){function t(e){T_(this,t),Yte(e),this.metadata=e,Zte.call(this,e)}return $_(t,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(r){return r!=="001"})}},{key:"getCountryMetadata",value:function(r){return this.metadata.countries[r]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(r){return this.getCountryMetadata(r)!==void 0}},{key:"hasCallingCode",value:function(r){if(this.getCountryCodesForCallingCode(r))return!0;if(this.nonGeographic()){if(this.nonGeographic()[r])return!0}else{var n=this.countryCallingCodes()[r];if(n&&n.length===1&&n[0]==="001")return!0}}},{key:"isNonGeographicCallingCode",value:function(r){return this.nonGeographic()?!!this.nonGeographic()[r]:!this.getCountryCodesForCallingCode(r)}},{key:"country",value:function(r){return this.selectNumberingPlan(r)}},{key:"selectNumberingPlan",value:function(r,n){if(r&&N3e.test(r)&&(n=r,r=null),r&&r!=="001"){if(!this.hasCountry(r))throw new Error("Unknown country: ".concat(r));this.numberingPlan=new YF(this.getCountryMetadata(r),this)}else if(n){if(!this.hasCallingCode(n))throw new Error("Unknown calling code: ".concat(n));this.numberingPlan=new YF(this.getNumberingPlanMetadata(n),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(r){var n=this.countryCallingCodes()[r];if(n)return n.length===1&&n[0].length===3?void 0:n}},{key:"getCountryCodeForCallingCode",value:function(r){var n=this.getCountryCodesForCallingCode(r);if(n)return n[0]}},{key:"getNumberingPlanMetadata",value:function(r){var n=this.getCountryCodeForCallingCode(r);if(n)return this.getCountryMetadata(n);if(this.nonGeographic()){var i=this.nonGeographic()[r];if(i)return i}else{var s=this.countryCallingCodes()[r];if(s&&s.length===1&&s[0]==="001")return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(r){return this.numberingPlan.type(r)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(r){return this.selectNumberingPlan(r)}},{key:"hasSelectedNumberingPlan",value:function(){return this.numberingPlan!==void 0}}])})(),YF=(function(){function t(e,r){T_(this,t),this.globalMetadataObject=r,this.metadata=e,Zte.call(this,r.metadata)}return $_(t,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(r){return r[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var r=this,n=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return n.map(function(i){return new R3e(i,r)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(r){return r[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return this.types()&&this.types().length===0?!1:!!this.types()}},{key:"type",value:function(r){if(this.hasTypes()&&ZF(this.types(),r))return new j3e(ZF(this.types(),r),this)}},{key:"ext",value:function(){return this.v1||this.v2?GF:this.metadata[13]||GF}}])})(),R3e=(function(){function t(e,r){T_(this,t),this._format=e,this.metadata=r}return $_(t,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!(this.nationalPrefixFormattingRule()&&!O3e.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}])})(),O3e=/^\(?\$1\)?$/,j3e=(function(){function t(e,r){T_(this,t),this.type=e,this.metadata=r}return $_(t,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}])})();function ZF(t,e){switch(e){case"FIXED_LINE":return t[0];case"MOBILE":return t[1];case"TOLL_FREE":return t[2];case"PREMIUM_RATE":return t[3];case"PERSONAL_NUMBER":return t[4];case"VOICEMAIL":return t[5];case"UAN":return t[6];case"PAGER":return t[7];case"VOIP":return t[8];case"SHARED_COST":return t[9]}}function Yte(t){if(!t)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!Ag(t)||!Ag(t.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(Ag(t)?"an object of shape: { "+Object.keys(t).join(", ")+" }":"a "+L3e(t)+": "+t,"."))}var L3e=function(e){return Wy(e)};function M_(t,e){if(e=new Ss(e),e.hasCountry(t))return e.country(t).countryCallingCode();throw new Error("Unknown country: ".concat(t))}function D3e(t,e){return e.countries.hasOwnProperty(t)}function Zte(t){var e=t.version;typeof e=="number"?(this.v1=e===1,this.v2=e===2,this.v3=e===3,this.v4=e===4):e?KF(e,M3e)===-1?this.v2=!0:KF(e,P3e)===-1?this.v3=!0:this.v4=!0:this.v1=!0}function P_(t,e){return B3e(t,void 0,e)}function B3e(t,e,r){var n=r.type(e),i=n&&n.possibleLengths()||r.possibleLengths();if(!i)return"IS_POSSIBLE";var s=t.length,o=i[0];return o===s?"IS_POSSIBLE":o>s?"TOO_SHORT":i[i.length-1]<s?"TOO_LONG":i.indexOf(s,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function U3e(t,e,r){if(e===void 0&&(e={}),r=new Ss(r),e.v2){if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");r.selectNumberingPlan(t.countryCallingCode)}else{if(!t.phone)return!1;if(t.country){if(!r.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));r.country(t.country)}else{if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");r.selectNumberingPlan(t.countryCallingCode)}}if(r.possibleLengths())return Qte(t.phone||t.nationalNumber,r);if(t.countryCallingCode&&r.isNonGeographicCallingCode(t.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function Qte(t,e){switch(P_(t,e)){case"IS_POSSIBLE":return!0;default:return!1}}function Fh(t,e){return t=t||"",new RegExp("^(?:"+e+")$").test(t)}function F3e(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=z3e(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z3e(t,e){if(t){if(typeof t=="string")return QF(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?QF(t,e):void 0}}function QF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var W3e=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function iO(t,e,r){if(e=e||{},!(!t.country&&!t.countryCallingCode)){r=new Ss(r),r.selectNumberingPlan(t.country,t.countryCallingCode);var n=e.v2?t.nationalNumber:t.phone;if(Fh(n,r.nationalNumberPattern())){if(US(n,"FIXED_LINE",r))return r.type("MOBILE")&&r.type("MOBILE").pattern()===""||!r.type("MOBILE")||US(n,"MOBILE",r)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var i=F3e(W3e),s;!(s=i()).done;){var o=s.value;if(US(n,o,r))return o}}}}function US(t,e,r){return e=r.type(e),!e||!e.pattern()||e.possibleLengths()&&e.possibleLengths().indexOf(t.length)<0?!1:Fh(t,e.pattern())}function q3e(t,e,r){if(e=e||{},r=new Ss(r),r.selectNumberingPlan(t.country,t.countryCallingCode),r.hasTypes())return iO(t,e,r.metadata)!==void 0;var n=e.v2?t.nationalNumber:t.phone;return Fh(n,r.nationalNumberPattern())}function H3e(t,e,r){var n=new Ss(r),i=n.getCountryCodesForCallingCode(t);return i?i.filter(function(s){return V3e(e,s,r)}):[]}function V3e(t,e,r){var n=new Ss(r);return n.selectNumberingPlan(e),n.numberingPlan.possibleLengths().indexOf(t.length)>=0}var sO=2,K3e=17,G3e=3,na="0-9０-９٠-٩۰-۹",Y3e="-‐-―−ー－",Z3e="／/",Q3e="．.",J3e="  ­​⁠　",X3e="()（）［］\\[\\]",e5e="~⁓∼～",su="".concat(Y3e).concat(Z3e).concat(Q3e).concat(J3e).concat(X3e).concat(e5e),N_="+＋",t5e=new RegExp("(["+na+"])");function Jte(t,e,r,n){if(e){var i=new Ss(n);i.selectNumberingPlan(e,r);var s=new RegExp(i.IDDPrefix());if(t.search(s)===0){t=t.slice(t.match(s)[0].length);var o=t.match(t5e);if(!(o&&o[1]!=null&&o[1].length>0&&o[1]==="0"))return t}}}function W$(t,e){if(t&&e.numberingPlan.nationalPrefixForParsing()){var r=new RegExp("^(?:"+e.numberingPlan.nationalPrefixForParsing()+")"),n=r.exec(t);if(n){var i,s,o=n.length-1,a=o>0&&n[o];if(e.nationalPrefixTransformRule()&&a)i=t.replace(r,e.nationalPrefixTransformRule()),o>1&&(s=n[1]);else{var l=n[0];i=t.slice(l.length),a&&(s=n[1])}var u;if(a){var c=t.indexOf(n[1]),h=t.slice(0,c);h===e.numberingPlan.nationalPrefix()&&(u=e.numberingPlan.nationalPrefix())}else u=n[0];return{nationalNumber:i,nationalPrefix:u,carrierCode:s}}}return{nationalNumber:t}}function q$(t,e){var r=W$(t,e),n=r.carrierCode,i=r.nationalNumber;if(i!==t){if(!r5e(t,i,e))return{nationalNumber:t};if(e.possibleLengths()&&!n5e(i,e))return{nationalNumber:t}}return{nationalNumber:i,carrierCode:n}}function r5e(t,e,r){return!(Fh(t,r.nationalNumberPattern())&&!Fh(e,r.nationalNumberPattern()))}function n5e(t,e){switch(P_(t,e)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function Xte(t,e,r,n){var i=e?M_(e,n):r;if(t.indexOf(i)===0){n=new Ss(n),n.selectNumberingPlan(e,r);var s=t.slice(i.length),o=q$(s,n),a=o.nationalNumber,l=q$(t,n),u=l.nationalNumber;if(!Fh(u,n.nationalNumberPattern())&&Fh(a,n.nationalNumberPattern())||P_(u,n)==="TOO_LONG")return{countryCallingCode:i,number:s}}return{number:t}}function oO(t,e,r,n){if(!t)return{};var i;if(t[0]!=="+"){var s=Jte(t,e,r,n);if(s&&s!==t)i=!0,t="+"+s;else{if(e||r){var o=Xte(t,e,r,n),a=o.countryCallingCode,l=o.number;if(a)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:a,number:l}}return{number:t}}}if(t[1]==="0")return{};n=new Ss(n);for(var u=2;u-1<=G3e&&u<=t.length;){var c=t.slice(1,u);if(n.hasCallingCode(c))return n.selectNumberingPlan(c),{countryCallingCodeSource:i?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:c,number:t.slice(u)};u++}return{}}function ere(t){return t.replace(new RegExp("[".concat(su,"]+"),"g")," ").trim()}var tre=/(\$\d)/;function rre(t,e,r){var n=r.useInternationalFormat,i=r.withNationalPrefix;r.carrierCode,r.metadata;var s=t.replace(new RegExp(e.pattern()),n?e.internationalFormat():i&&e.nationalPrefixFormattingRule()?e.format().replace(tre,e.nationalPrefixFormattingRule()):e.format());return n?ere(s):s}var i5e=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function s5e(t,e,r){var n=new Ss(r);if(n.selectNumberingPlan(t,e),n.defaultIDDPrefix())return n.defaultIDDPrefix();if(i5e.test(n.IDDPrefix()))return n.IDDPrefix()}var o5e=";ext=",c1=function(e){return"([".concat(na,"]{1,").concat(e,"})")};function nre(t){var e="20",r="15",n="9",i="6",s="[  \\t,]*",o="[:\\.．]?[  \\t,-]*",a="#?",l="(?:e?xt(?:ensi(?:ó?|ó))?n?|ｅ?ｘｔｎ?|доб|anexo)",u="(?:[xｘ#＃~～]|int|ｉｎｔ)",c="[- ]+",h="[  \\t]*",m="(?:,{2}|;)",y=o5e+c1(e),b=s+l+o+c1(e)+a,E=s+u+o+c1(n)+a,A=c+c1(i)+"#",M=h+m+o+c1(r)+a,O=h+"(?:,)+"+o+c1(n)+a;return y+"|"+b+"|"+E+"|"+A+"|"+M+"|"+O}var a5e="["+na+"]{"+sO+"}",l5e="["+N_+"]{0,1}(?:["+su+"]*["+na+"]){3,}["+su+na+"]*",c5e=new RegExp("^["+N_+"]{0,1}(?:["+su+"]*["+na+"]){1,2}$","i"),u5e=l5e+"(?:"+nre()+")?",d5e=new RegExp("^"+a5e+"$|^"+u5e+"$","i");function h5e(t){return t.length>=sO&&d5e.test(t)}function f5e(t){return c5e.test(t)}function p5e(t){var e=t.number,r=t.ext;if(!e)return"";if(e[0]!=="+")throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(e).concat(r?";ext="+r:"")}function E3(t){"@babel/helpers - typeof";return E3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E3(t)}function g5e(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=m5e(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m5e(t,e){if(t){if(typeof t=="string")return JF(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?JF(t,e):void 0}}function JF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function XF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ez(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XF(Object(r),!0).forEach(function(n){y5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function y5e(t,e,r){return(e=w5e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w5e(t){var e=v5e(t,"string");return E3(e)=="symbol"?e:e+""}function v5e(t,e){if(E3(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(E3(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tz={formatExtension:function(e,r,n){return"".concat(e).concat(n.ext()).concat(r)}};function b5e(t,e,r,n){if(r?r=ez(ez({},tz),r):r=tz,n=new Ss(n),t.country&&t.country!=="001"){if(!n.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));n.country(t.country)}else if(t.countryCallingCode)n.selectNumberingPlan(t.countryCallingCode);else return t.phone||"";var i=n.countryCallingCode(),s=r.v2?t.nationalNumber:t.phone,o;switch(e){case"NATIONAL":return s?(o=F8(s,t.carrierCode,"NATIONAL",n,r),FS(o,t.ext,n,r.formatExtension)):"";case"INTERNATIONAL":return s?(o=F8(s,null,"INTERNATIONAL",n,r),o="+".concat(i," ").concat(o),FS(o,t.ext,n,r.formatExtension)):"+".concat(i);case"E.164":return"+".concat(i).concat(s);case"RFC3966":return p5e({number:"+".concat(i).concat(s),ext:t.ext});case"IDD":if(!r.fromCountry)return;var a=E5e(s,t.carrierCode,i,r.fromCountry,n);return FS(a,t.ext,n,r.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(e,'"'))}}function F8(t,e,r,n,i){var s=x5e(n.formats(),t);return s?rre(t,s,{useInternationalFormat:r==="INTERNATIONAL",withNationalPrefix:!(s.nationalPrefixIsOptionalWhenFormattingInNationalFormat()&&i&&i.nationalPrefix===!1),carrierCode:e,metadata:n}):t}function x5e(t,e){for(var r=g5e(t),n;!(n=r()).done;){var i=n.value;if(i.leadingDigitsPatterns().length>0){var s=i.leadingDigitsPatterns()[i.leadingDigitsPatterns().length-1];if(e.search(s)!==0)continue}if(Fh(e,i.pattern()))return i}}function FS(t,e,r,n){return e?n(t,e,r):t}function E5e(t,e,r,n,i){var s=M_(n,i.metadata);if(s===r){var o=F8(t,e,"NATIONAL",i);return r==="1"?r+" "+o:o}var a=s5e(n,void 0,i.metadata);if(a)return"".concat(a," ").concat(r," ").concat(F8(t,null,"INTERNATIONAL",i))}function _3(t){"@babel/helpers - typeof";return _3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_3(t)}function rz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rz(Object(r),!0).forEach(function(n){_5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _5e(t,e,r){return(e=ire(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S5e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ire(n.key),n)}}function C5e(t,e,r){return e&&S5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ire(t){var e=k5e(t,"string");return _3(e)=="symbol"?e:e+""}function k5e(t,e){if(_3(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_3(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var aO=(function(){function t(e,r,n){if(A5e(this,t),!e)throw new TypeError("First argument is required");if(typeof e!="string")throw new TypeError("First argument must be a string");if(e[0]==="+"&&!r)throw new TypeError("`metadata` argument not passed");if(Ag(r)&&Ag(r.countries)){n=r;var i=e;if(!$5e.test(i))throw new Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var s=oO(i,void 0,void 0,n),o=s.countryCallingCode,a=s.number;if(r=a,e=o,!r)throw new Error("Invalid `number` argument passed: too short")}if(!r)throw new TypeError("`nationalNumber` argument is required");if(typeof r!="string")throw new TypeError("`nationalNumber` argument must be a string");Yte(n);var l=T5e(e,n),u=l.country,c=l.countryCallingCode;this.country=u,this.countryCallingCode=c,this.nationalNumber=r,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return n}}return C5e(t,[{key:"setExt",value:function(r){this.ext=r}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:H3e(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return U3e(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return q3e(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){var r=new Ss(this.getMetadata());return r.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(r){return this.number===r.number&&this.ext===r.ext}},{key:"getType",value:function(){return iO(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(r,n){return b5e(this,r,n?nz(nz({},n),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(r){return this.format("NATIONAL",r)}},{key:"formatInternational",value:function(r){return this.format("INTERNATIONAL",r)}},{key:"getURI",value:function(r){return this.format("RFC3966",r)}}])})(),I5e=function(e){return/^[A-Z]{2}$/.test(e)};function T5e(t,e){var r,n,i=new Ss(e);return I5e(t)?(r=t,i.selectNumberingPlan(r),n=i.countryCallingCode()):n=t,{country:r,countryCallingCode:n}}var $5e=/^\+\d+$/;function H$(t){"@babel/helpers - typeof";return H$=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H$(t)}function M5e(t,e,r){return Object.defineProperty(t,"prototype",{writable:!1}),t}function P5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N5e(t,e,r){return e=S3(e),R5e(t,lO()?Reflect.construct(e,r||[],S3(t).constructor):e.apply(t,r))}function R5e(t,e){if(e&&(H$(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O5e(t)}function O5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A3(t,e)}function V$(t){var e=typeof Map=="function"?new Map:void 0;return V$=function(n){if(n===null||!D5e(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return L5e(n,arguments,S3(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),A3(i,n)},V$(t)}function L5e(t,e,r){if(lO())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,e);var i=new(t.bind.apply(t,n));return r&&A3(i,r.prototype),i}function lO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lO=function(){return!!t})()}function D5e(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function A3(t,e){return A3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},A3(t,e)}function S3(t){return S3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S3(t)}var gh=(function(t){function e(r){var n;return P5e(this,e),n=N5e(this,e,[r]),Object.setPrototypeOf(n,e.prototype),n.name=n.constructor.name,n}return j5e(e,t),M5e(e)})(V$(Error)),iz=new RegExp("(?:"+nre()+")$","i");function B5e(t){var e=t.search(iz);if(e<0)return{};for(var r=t.slice(0,e),n=t.match(iz),i=1;i<n.length;){if(n[i])return{number:r,ext:n[i]};i++}}function U5e(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=F5e(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F5e(t,e){if(t){if(typeof t=="string")return sz(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?sz(t,e):void 0}}function sz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var z5e={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9"};function sre(t){return z5e[t]}function z8(t){for(var e="",r=U5e(t.split("")),n;!(n=r()).done;){var i=n.value,s=sre(i);s&&(e+=s)}return e}function W5e(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=q5e(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q5e(t,e){if(t){if(typeof t=="string")return oz(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oz(t,e):void 0}}function oz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function az(t){for(var e="",r=W5e(t.split("")),n;!(n=r()).done;){var i=n.value;e+=H5e(i,e)||""}return e}function H5e(t,e,r){return t==="+"?e?void 0:"+":sre(t)}function V5e(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=K5e(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K5e(t,e){if(t){if(typeof t=="string")return lz(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?lz(t,e):void 0}}function lz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function ore(t,e){var r=e.countries;e.defaultCountry;var n=e.metadata;n=new Ss(n);for(var i=V5e(r),s;!(s=i()).done;){var o=s.value;if(n.country(o),n.leadingDigits()){if(t&&t.search(n.leadingDigits())===0)return o}else if(iO({phone:t,country:o},void 0,n.metadata))return o}}function are(t,e){var r=e.nationalNumber,n=e.defaultCountry,i=e.metadata,s=i.getCountryCodesForCallingCode(t);if(s)return s.length===1?s[0]:ore(r,{countries:s,defaultCountry:n,metadata:i.metadata})}var lre="+",G5e="[\\-\\.\\(\\)]?",cz="(["+na+"]|"+G5e+")",Y5e="^\\"+lre+cz+"*["+na+"]"+cz+"*$",Z5e=new RegExp(Y5e,"g"),K$=na,Q5e="["+K$+"]+((\\-)*["+K$+"])*",J5e="a-zA-Z",X5e="["+J5e+"]+((\\-)*["+K$+"])*",e6e="^("+Q5e+"\\.)*"+X5e+"\\.?$",t6e=new RegExp(e6e,"g"),uz="tel:",G$=";phone-context=",r6e=";isub=";function n6e(t){var e=t.indexOf(G$);if(e<0)return null;var r=e+G$.length;if(r>=t.length)return"";var n=t.indexOf(";",r);return n>=0?t.substring(r,n):t.substring(r)}function i6e(t){return t===null?!0:t.length===0?!1:Z5e.test(t)||t6e.test(t)}function s6e(t,e){var r=e.extractFormattedPhoneNumber,n=n6e(t);if(!i6e(n))throw new gh("NOT_A_NUMBER");var i;if(n===null)i=r(t)||"";else{i="",n.charAt(0)===lre&&(i+=n);var s=t.indexOf(uz),o;s>=0?o=s+uz.length:o=0;var a=t.indexOf(G$);i+=t.substring(o,a)}var l=i.indexOf(r6e);if(l>0&&(i=i.substring(0,l)),i!=="")return i}var o6e=250,a6e=new RegExp("["+N_+na+"]"),l6e=new RegExp("[^"+na+"#]+$");function c6e(t,e,r){if(e=e||{},r=new Ss(r),e.defaultCountry&&!r.hasCountry(e.defaultCountry))throw e.v2?new gh("INVALID_COUNTRY"):new Error("Unknown country: ".concat(e.defaultCountry));var n=d6e(t,e.v2,e.extract),i=n.number,s=n.ext,o=n.error;if(!i){if(e.v2)throw o==="TOO_SHORT"?new gh("TOO_SHORT"):new gh("NOT_A_NUMBER");return{}}var a=f6e(i,e.defaultCountry,e.defaultCallingCode,r),l=a.country,u=a.nationalNumber,c=a.countryCallingCode,h=a.countryCallingCodeSource,m=a.carrierCode;if(!r.hasSelectedNumberingPlan()){if(e.v2)throw new gh("INVALID_COUNTRY");return{}}if(!u||u.length<sO){if(e.v2)throw new gh("TOO_SHORT");return{}}if(u.length>K3e){if(e.v2)throw new gh("TOO_LONG");return{}}if(e.v2){var y=new aO(c,u,r.metadata);return l&&(y.country=l),m&&(y.carrierCode=m),s&&(y.ext=s),y.__countryCallingCodeSource=h,y}var b=(e.extended?r.hasSelectedNumberingPlan():l)?Fh(u,r.nationalNumberPattern()):!1;return e.extended?{country:l,countryCallingCode:c,carrierCode:m,valid:b,possible:b?!0:!!(e.extended===!0&&r.possibleLengths()&&Qte(u,r)),phone:u,ext:s}:b?h6e(l,u,s):{}}function u6e(t,e,r){if(t){if(t.length>o6e){if(r)throw new gh("TOO_LONG");return}if(e===!1)return t;var n=t.search(a6e);if(!(n<0))return t.slice(n).replace(l6e,"")}}function d6e(t,e,r){var n=s6e(t,{extractFormattedPhoneNumber:function(o){return u6e(o,r,e)}});if(!n)return{};if(!h5e(n))return f5e(n)?{error:"TOO_SHORT"}:{};var i=B5e(n);return i.ext?i:{number:n}}function h6e(t,e,r){var n={country:t,phone:e};return r&&(n.ext=r),n}function f6e(t,e,r,n){var i=oO(az(t),e,r,n.metadata),s=i.countryCallingCodeSource,o=i.countryCallingCode,a=i.number,l;if(o)n.selectNumberingPlan(o);else if(a&&(e||r))n.selectNumberingPlan(e,r),e&&(l=e),o=r||M_(e,n.metadata);else return{};if(!a)return{countryCallingCodeSource:s,countryCallingCode:o};var u=q$(az(a),n),c=u.nationalNumber,h=u.carrierCode,m=are(o,{nationalNumber:c,defaultCountry:e,metadata:n});return m&&(l=m,m==="001"||n.country(l)),{country:l,countryCallingCode:o,countryCallingCodeSource:s,nationalNumber:c,carrierCode:h}}function C3(t){"@babel/helpers - typeof";return C3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C3(t)}function dz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dz(Object(r),!0).forEach(function(n){p6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function p6e(t,e,r){return(e=g6e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g6e(t){var e=m6e(t,"string");return C3(e)=="symbol"?e:e+""}function m6e(t,e){if(C3(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(C3(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function y6e(t,e,r){return c6e(t,hz(hz({},e),{},{v2:!0}),r)}function k3(t){"@babel/helpers - typeof";return k3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k3(t)}function fz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function w6e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fz(Object(r),!0).forEach(function(n){v6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function v6e(t,e,r){return(e=b6e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b6e(t){var e=x6e(t,"string");return k3(e)=="symbol"?e:e+""}function x6e(t,e){if(k3(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(k3(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function E6e(t,e){return C6e(t)||S6e(t,e)||A6e(t,e)||_6e()}function _6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A6e(t,e){if(t){if(typeof t=="string")return pz(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pz(t,e):void 0}}function pz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function S6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function C6e(t){if(Array.isArray(t))return t}function k6e(t){var e=Array.prototype.slice.call(t),r=E6e(e,4),n=r[0],i=r[1],s=r[2],o=r[3],a,l,u;if(typeof n=="string")a=n;else throw new TypeError("A text for parsing must be a string.");if(!i||typeof i=="string")o?(l=s,u=o):(l=void 0,u=s),i&&(l=w6e({defaultCountry:i},l));else if(Ag(i))s?(l=i,u=s):u=i;else throw new Error("Invalid second argument: ".concat(i));return{text:a,options:l,metadata:u}}function I3(t){"@babel/helpers - typeof";return I3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I3(t)}function gz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gz(Object(r),!0).forEach(function(n){I6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function I6e(t,e,r){return(e=T6e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T6e(t){var e=$6e(t,"string");return I3(e)=="symbol"?e:e+""}function $6e(t,e){if(I3(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(I3(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M6e(t,e,r){e&&e.defaultCountry&&!D3e(e.defaultCountry,r)&&(e=mz(mz({},e),{},{defaultCountry:void 0}));try{return y6e(t,e,r)}catch(n){if(!(n instanceof gh))throw n}}function T3(t){"@babel/helpers - typeof";return T3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T3(t)}function yz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yz(Object(r),!0).forEach(function(n){P6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function P6e(t,e,r){return(e=N6e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N6e(t){var e=R6e(t,"string");return T3(e)=="symbol"?e:e+""}function R6e(t,e){if(T3(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(T3(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function O6e(){var t=k6e(arguments),e=t.text,r=t.options,n=t.metadata;r=wz(wz({},r),{},{extract:!1});var i=M6e(e,r,n);return i&&i.isPossible()||!1}function $3(t){"@babel/helpers - typeof";return $3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$3(t)}function j6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L6e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,B6e(n.key),n)}}function D6e(t,e,r){return e&&L6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function B6e(t){var e=U6e(t,"string");return $3(e)=="symbol"?e:e+""}function U6e(t,e){if($3(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($3(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var F6e=(function(){function t(e){var r=e.onCountryChange,n=e.onCallingCodeChange;j6e(this,t),this.onCountryChange=r,this.onCallingCodeChange=n}return D6e(t,[{key:"reset",value:function(r){var n=r.country,i=r.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(n,i)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberMatchesInput=!0,this.nationalPrefix=void 0,this.carrierCode=void 0,this.complexPrefixBeforeNationalSignificantNumber=void 0}},{key:"update",value:function(r){for(var n=0,i=Object.keys(r);n<i.length;n++){var s=i[n];this[s]=r[s]}}},{key:"initCountryAndCallingCode",value:function(r,n){this.setCountry(r),this.setCallingCode(n)}},{key:"setCountry",value:function(r){this.country=r,this.onCountryChange(r)}},{key:"setCallingCode",value:function(r){this.callingCode=r,this.onCallingCodeChange(r,this.country)}},{key:"startInternationalNumber",value:function(r,n){this.international=!0,this.initCountryAndCallingCode(r,n)}},{key:"appendDigits",value:function(r){this.digits+=r}},{key:"appendNationalSignificantNumberDigits",value:function(r){this.nationalSignificantNumber+=r}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}])})();function z6e(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=W6e(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W6e(t,e){if(t){if(typeof t=="string")return vz(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vz(t,e):void 0}}function vz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var qc="x",zS=new RegExp(qc);function Lx(t,e){if(e<1)return"";for(var r="";e>1;)e&1&&(r+=t),e>>=1,t+=t;return r+t}function bz(t,e){return t[e]===")"&&e++,q6e(t.slice(0,e))}function q6e(t){for(var e=[],r=0;r<t.length;)t[r]==="("?e.push(r):t[r]===")"&&e.pop(),r++;var n=0,i="";e.push(t.length);for(var s=0,o=e;s<o.length;s++){var a=o[s];i+=t.slice(n,a),n=a+1}return i}function H6e(t,e,r){for(var n=z6e(r.split("")),i;!(i=n()).done;){var s=i.value;if(t.slice(e+1).search(zS)<0)return;e=t.search(zS),t=t.replace(zS,s)}return[t,e]}function V6e(t,e,r){var n=r.metadata,i=r.shouldTryNationalPrefixFormattingRule,s=r.getSeparatorAfterNationalPrefix,o=new RegExp("^(?:".concat(e.pattern(),")$"));if(o.test(t.nationalSignificantNumber))return G6e(t,e,{metadata:n,shouldTryNationalPrefixFormattingRule:i,getSeparatorAfterNationalPrefix:s})}function K6e(t,e){return P_(t,e)==="IS_POSSIBLE"}function G6e(t,e,r){var n=r.metadata,i=r.shouldTryNationalPrefixFormattingRule,s=r.getSeparatorAfterNationalPrefix;if(t.nationalSignificantNumber,t.international,t.nationalPrefix,t.carrierCode,i(e)){var o=xz(t,e,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:s,metadata:n});if(o)return o}return xz(t,e,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:s,metadata:n})}function xz(t,e,r){var n=r.metadata,i=r.useNationalPrefixFormattingRule,s=r.getSeparatorAfterNationalPrefix,o=rre(t.nationalSignificantNumber,e,{carrierCode:t.carrierCode,useInternationalFormat:t.international,withNationalPrefix:i,metadata:n});if(i||(t.nationalPrefix?o=t.nationalPrefix+s(e)+o:t.complexPrefixBeforeNationalSignificantNumber&&(o=t.complexPrefixBeforeNationalSignificantNumber+" "+o)),Y6e(o,t))return o}function Y6e(t,e){return z8(t)===e.getNationalDigits()}function M3(t){"@babel/helpers - typeof";return M3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M3(t)}function Z6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q6e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,X6e(n.key),n)}}function J6e(t,e,r){return e&&Q6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function X6e(t){var e=e4e(t,"string");return M3(e)=="symbol"?e:e+""}function e4e(t,e){if(M3(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(M3(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var t4e=(function(){function t(){Z6e(this,t)}return J6e(t,[{key:"parse",value:function(r){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(r),this.context.length!==1)throw new Error("Non-finalized contexts left when pattern parse ended");var n=this.context[0],i=n.branches,s=n.instructions;if(i)return{op:"|",args:i.concat([WS(s)])};if(s.length===0)throw new Error("Pattern is required");return s.length===1?s[0]:s}},{key:"startContext",value:function(r){this.context.push(r)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(r){if(!r)throw new Error("Pattern is required");var n=r.match(i4e);if(!n){if(n4e.test(r))throw new Error("Illegal characters found in a pattern: ".concat(r));this.getContext().instructions=this.getContext().instructions.concat(r.split(""));return}var i=n[1],s=r.slice(0,n.index),o=r.slice(n.index+i.length);switch(i){case"(?:":s&&this.parsePattern(s),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw new Error('")" operator must be preceded by "(?:" operator');if(s&&this.parsePattern(s),this.getContext().instructions.length===0)throw new Error('No instructions found after "|" operator in an "or" group');var a=this.getContext(),l=a.branches;l.push(WS(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:l});break;case"|":if(!this.getContext().or)throw new Error('"|" operator can only be used inside "or" groups');if(s&&this.parsePattern(s),!this.getContext().branches)if(this.context.length===1)this.getContext().branches=[];else throw new Error('"branches" not found in an "or" group context');this.getContext().branches.push(WS(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":s&&this.parsePattern(s),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw new Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:r4e(s)});break;default:throw new Error("Unknown operator: ".concat(i))}o&&this.parsePattern(o)}}])})();function r4e(t){for(var e=[],r=0;r<t.length;){if(t[r]==="-"){if(r===0||r===t.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(t));for(var n=t[r-1].charCodeAt(0)+1,i=t[r+1].charCodeAt(0)-1,s=n;s<=i;)e.push(String.fromCharCode(s)),s++}else e.push(t[r]);r++}return e}var n4e=/[\(\)\[\]\?\:\|]/,i4e=new RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function WS(t){return t.length===1?t[0]:t}function Ez(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=s4e(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s4e(t,e){if(t){if(typeof t=="string")return _z(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_z(t,e):void 0}}function _z(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function P3(t){"@babel/helpers - typeof";return P3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P3(t)}function o4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a4e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c4e(n.key),n)}}function l4e(t,e,r){return e&&a4e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function c4e(t){var e=u4e(t,"string");return P3(e)=="symbol"?e:e+""}function u4e(t,e){if(P3(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(P3(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var d4e=(function(){function t(e){o4e(this,t),this.matchTree=new t4e().parse(e)}return l4e(t,[{key:"match",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.allowOverflow;if(!r)throw new Error("String is required");var s=Y$(r.split(""),this.matchTree,!0);if(s&&s.match&&delete s.matchedChars,!(s&&s.overflow&&!i))return s}}])})();function Y$(t,e,r){if(typeof e=="string"){var n=t.join("");return e.indexOf(n)===0?t.length===e.length?{match:!0,matchedChars:t}:{partialMatch:!0}:n.indexOf(e)===0?r&&t.length>e.length?{overflow:!0}:{match:!0,matchedChars:t.slice(0,e.length)}:void 0}if(Array.isArray(e)){for(var i=t.slice(),s=0;s<e.length;){var o=e[s],a=Y$(i,o,r&&s===e.length-1);if(a){if(a.overflow)return a;if(a.match){if(i=i.slice(a.matchedChars.length),i.length===0)return s===e.length-1?{match:!0,matchedChars:t}:{partialMatch:!0}}else{if(a.partialMatch)return{partialMatch:!0};throw new Error(`Unsupported match result:
`.concat(JSON.stringify(a,null,2)))}}else return;s++}return r?{overflow:!0}:{match:!0,matchedChars:t.slice(0,t.length-i.length)}}switch(e.op){case"|":for(var l,u=Ez(e.args),c;!(c=u()).done;){var h=c.value,m=Y$(t,h,r);if(m){if(m.overflow)return m;if(m.match)return{match:!0,matchedChars:m.matchedChars};if(m.partialMatch)l=!0;else throw new Error(`Unsupported match result:
`.concat(JSON.stringify(m,null,2)))}}return l?{partialMatch:!0}:void 0;case"[]":for(var y=Ez(e.args),b;!(b=y()).done;){var E=b.value;if(t[0]===E)return t.length===1?{match:!0,matchedChars:t}:r?{overflow:!0}:{match:!0,matchedChars:[E]}}return;default:throw new Error("Unsupported instruction tree: ".concat(e))}}function N3(t){"@babel/helpers - typeof";return N3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N3(t)}function Az(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=h4e(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h4e(t,e){if(t){if(typeof t=="string")return Sz(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Sz(t,e):void 0}}function Sz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function f4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p4e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m4e(n.key),n)}}function g4e(t,e,r){return e&&p4e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function m4e(t){var e=y4e(t,"string");return N3(e)=="symbol"?e:e+""}function y4e(t,e){if(N3(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(N3(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Z$="9",w4e=15,v4e=Lx(Z$,w4e),b4e=/[- ]/,x4e=function(){return/\[([^\[\]])*\]/g},E4e=function(){return/\d(?=[^,}][^,}])/g},_4e=new RegExp("["+su+"]*\\$1["+su+"]*(\\$\\d["+su+"]*)*$"),Cz=3,A4e=(function(){function t(e){e.state;var r=e.metadata;f4e(this,t),this.metadata=r,this.resetFormat()}return g4e(t,[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(r,n){this.resetFormat(),r?(this.isNANP=r.callingCode()==="1",this.matchingFormats=r.formats(),n.nationalSignificantNumber&&this.narrowDownMatchingFormats(n)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(r,n){var i=this;if(K6e(n.nationalSignificantNumber,this.metadata))for(var s=Az(this.matchingFormats),o;!(o=s()).done;){var a=o.value,l=V6e(n,a,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(c){return i.shouldTryNationalPrefixFormattingRule(c,{international:n.international,nationalPrefix:n.nationalPrefix})},getSeparatorAfterNationalPrefix:function(c){return i.getSeparatorAfterNationalPrefix(c)}});if(l)return this.resetFormat(),this.chosenFormat=a,this.setNationalNumberTemplate(l.replace(/\d/g,qc),n),this.populatedNationalNumberTemplate=l,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(qc),l}return this.formatNationalNumberWithNextDigits(r,n)}},{key:"formatNationalNumberWithNextDigits",value:function(r,n){var i=this.chosenFormat,s=this.chooseFormat(n);if(s)return s===i?this.formatNextNationalNumberDigits(r):this.formatNextNationalNumberDigits(n.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(r){var n=this,i=r.nationalSignificantNumber,s=r.nationalPrefix,o=r.international,a=i,l=a.length-Cz;l<0&&(l=0),this.matchingFormats=this.matchingFormats.filter(function(u){return n.formatSuits(u,o,s)&&n.formatMatches(u,a,l)}),this.chosenFormat&&this.matchingFormats.indexOf(this.chosenFormat)===-1&&this.resetFormat()}},{key:"formatSuits",value:function(r,n,i){return!(i&&!r.usesNationalPrefix()&&!r.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!n&&!i&&r.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(r,n,i){var s=r.leadingDigitsPatterns().length;if(s===0)return!0;i=Math.min(i,s-1);var o=r.leadingDigitsPatterns()[i];if(n.length<Cz)try{return new d4e(o).match(n,{allowOverflow:!0})!==void 0}catch(a){return console.error(a),!0}return new RegExp("^(".concat(o,")")).test(n)}},{key:"getFormatFormat",value:function(r,n){return n?r.internationalFormat():r.format()}},{key:"chooseFormat",value:function(r){for(var n=this,i=function(){var u=a.value;return n.chosenFormat===u?0:_4e.test(n.getFormatFormat(u,r.international))?n.createTemplateForFormat(u,r)?(n.chosenFormat=u,0):(n.matchingFormats=n.matchingFormats.filter(function(c){return c!==u}),1):1},s,o=Az(this.matchingFormats.slice()),a;!(a=o()).done&&(s=i(),s!==0););return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(r,n){if(!(r.pattern().indexOf("|")>=0)){var i=this.getTemplateForFormat(r,n);if(i)return this.setNationalNumberTemplate(i,n),!0}}},{key:"getSeparatorAfterNationalPrefix",value:function(r){return this.isNANP||r&&r.nationalPrefixFormattingRule()&&b4e.test(r.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(r,n){var i=r.IDDPrefix,s=r.missingPlus;return i?n&&n.spacing===!1?i:i+" ":s?"":"+"}},{key:"getTemplate",value:function(r){if(this.template){for(var n=-1,i=0,s=r.international?this.getInternationalPrefixBeforeCountryCallingCode(r,{spacing:!1}):"";i<s.length+r.getDigitsWithoutInternationalPrefix().length;)n=this.template.indexOf(qc,n+1),i++;return bz(this.template,n+1)}}},{key:"setNationalNumberTemplate",value:function(r,n){this.nationalNumberTemplate=r,this.populatedNationalNumberTemplate=r,this.populatedNationalNumberTemplatePosition=-1,n.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(n).replace(/[\d\+]/g,qc)+Lx(qc,n.callingCode.length)+" "+r:this.template=r}},{key:"getTemplateForFormat",value:function(r,n){var i=n.nationalSignificantNumber,s=n.international,o=n.nationalPrefix,a=n.complexPrefixBeforeNationalSignificantNumber,l=r.pattern();l=l.replace(x4e(),"\\d").replace(E4e(),"\\d");var u=v4e.match(l)[0];if(!(i.length>u.length)){var c=new RegExp("^"+l+"$"),h=i.replace(/\d/g,Z$);c.test(h)&&(u=h);var m=this.getFormatFormat(r,s),y;if(this.shouldTryNationalPrefixFormattingRule(r,{international:s,nationalPrefix:o})){var b=m.replace(tre,r.nationalPrefixFormattingRule());if(z8(r.nationalPrefixFormattingRule())===(o||"")+z8("$1")&&(m=b,y=!0,o))for(var E=o.length;E>0;)m=m.replace(/\d/,qc),E--}var A=u.replace(new RegExp(l),m).replace(new RegExp(Z$,"g"),qc);return y||(a?A=Lx(qc,a.length)+" "+A:o&&(A=Lx(qc,o.length)+this.getSeparatorAfterNationalPrefix(r)+A)),s&&(A=ere(A)),A}}},{key:"formatNextNationalNumberDigits",value:function(r){var n=H6e(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,r);if(!n){this.resetFormat();return}return this.populatedNationalNumberTemplate=n[0],this.populatedNationalNumberTemplatePosition=n[1],bz(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)}},{key:"shouldTryNationalPrefixFormattingRule",value:function(r,n){var i=n.international,s=n.nationalPrefix;if(r.nationalPrefixFormattingRule()){var o=r.usesNationalPrefix();if(o&&s||!o&&!i)return!0}}}])})();function R3(t){"@babel/helpers - typeof";return R3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R3(t)}function cre(t,e){return I4e(t)||k4e(t,e)||C4e(t,e)||S4e()}function S4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C4e(t,e){if(t){if(typeof t=="string")return kz(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?kz(t,e):void 0}}function kz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function k4e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function I4e(t){if(Array.isArray(t))return t}function T4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $4e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,P4e(n.key),n)}}function M4e(t,e,r){return e&&$4e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function P4e(t){var e=N4e(t,"string");return R3(e)=="symbol"?e:e+""}function N4e(t,e){if(R3(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(R3(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var R4e="["+su+na+"]+",O4e=new RegExp("^"+R4e+"$","i"),j4e="(?:["+N_+"]["+su+na+"]*|["+su+na+"]+)",L4e=new RegExp("[^"+su+na+"]+.*$"),D4e=/[^\d\[\]]/,B4e=(function(){function t(e){var r=e.defaultCountry,n=e.defaultCallingCode,i=e.metadata,s=e.onNationalSignificantNumberChange;T4e(this,t),this.defaultCountry=r,this.defaultCallingCode=n,this.metadata=i,this.onNationalSignificantNumberChange=s}return M4e(t,[{key:"input",value:function(r,n){var i=z4e(r),s=cre(i,2),o=s[0],a=s[1],l=z8(o),u;return a&&(n.digits||(n.startInternationalNumber(),l||(u=!0))),l&&this.inputDigits(l,n),{digits:l,justLeadingPlus:u}}},{key:"inputDigits",value:function(r,n){var i=n.digits,s=i.length<3&&i.length+r.length>=3;if(n.appendDigits(r),s&&this.extractIddPrefix(n),this.isWaitingForCountryCallingCode(n)){if(!this.extractCountryCallingCode(n))return}else n.appendNationalSignificantNumberDigits(r);n.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(n.getNationalDigits(),function(o){return n.update(o)})}},{key:"isWaitingForCountryCallingCode",value:function(r){var n=r.international,i=r.callingCode;return n&&!i}},{key:"extractCountryCallingCode",value:function(r){var n=oO("+"+r.getDigitsWithoutInternationalPrefix(),this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),i=n.countryCallingCode,s=n.number;if(i)return r.setCallingCode(i),r.update({nationalSignificantNumber:s}),!0}},{key:"reset",value:function(r){if(r){this.hasSelectedNumberingPlan=!0;var n=r._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=n&&D4e.test(n)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(r,n){if(this.hasSelectedNumberingPlan){var i=W$(r,this.metadata),s=i.nationalPrefix,o=i.nationalNumber,a=i.carrierCode;if(o!==r)return this.onExtractedNationalNumber(s,a,o,r,n),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(r,n,i){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(r,i);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var s=W$(r,this.metadata),o=s.nationalPrefix,a=s.nationalNumber,l=s.carrierCode;if(a!==n)return this.onExtractedNationalNumber(o,l,a,r,i),!0}}},{key:"onExtractedNationalNumber",value:function(r,n,i,s,o){var a,l,u=s.lastIndexOf(i);if(u>=0&&u===s.length-i.length){l=!0;var c=s.slice(0,u);c!==r&&(a=c)}o({nationalPrefix:r,carrierCode:n,nationalSignificantNumber:i,nationalSignificantNumberMatchesInput:l,complexPrefixBeforeNationalSignificantNumber:a}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(r){if(this.extractAnotherNationalSignificantNumber(r.getNationalDigits(),r.nationalSignificantNumber,function(n){return r.update(n)}))return!0;if(this.extractIddPrefix(r))return this.extractCallingCodeAndNationalSignificantNumber(r),!0;if(this.fixMissingPlus(r))return this.extractCallingCodeAndNationalSignificantNumber(r),!0}},{key:"extractIddPrefix",value:function(r){var n=r.international,i=r.IDDPrefix,s=r.digits;if(r.nationalSignificantNumber,!(n||i)){var o=Jte(s,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);if(o!==void 0&&o!==s)return r.update({IDDPrefix:s.slice(0,s.length-o.length)}),this.startInternationalNumber(r,{country:void 0,callingCode:void 0}),!0}}},{key:"fixMissingPlus",value:function(r){if(!r.international){var n=Xte(r.digits,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),i=n.countryCallingCode;if(n.number,i)return r.update({missingPlus:!0}),this.startInternationalNumber(r,{country:r.country,callingCode:i}),!0}}},{key:"startInternationalNumber",value:function(r,n){var i=n.country,s=n.callingCode;r.startInternationalNumber(i,s),r.nationalSignificantNumber&&(r.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(r){this.extractCountryCallingCode(r)&&this.extractNationalSignificantNumber(r.getNationalDigits(),function(n){return r.update(n)})}}])})();function U4e(t){var e=t.search(j4e);if(!(e<0)){t=t.slice(e);var r;return t[0]==="+"&&(r=!0,t=t.slice(1)),t=t.replace(L4e,""),r&&(t="+"+t),t}}function F4e(t){var e=U4e(t)||"";return e[0]==="+"?[e.slice(1),!0]:[e]}function z4e(t){var e=F4e(t),r=cre(e,2),n=r[0],i=r[1];return O4e.test(n)||(n=""),[n,i]}function O3(t){"@babel/helpers - typeof";return O3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O3(t)}function W4e(t,e){return K4e(t)||V4e(t,e)||H4e(t,e)||q4e()}function q4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H4e(t,e){if(t){if(typeof t=="string")return Iz(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Iz(t,e):void 0}}function Iz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function V4e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function K4e(t){if(Array.isArray(t))return t}function G4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y4e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Q4e(n.key),n)}}function Z4e(t,e,r){return e&&Y4e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Q4e(t){var e=J4e(t,"string");return O3(e)=="symbol"?e:e+""}function J4e(t,e){if(O3(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(O3(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ure=(function(){function t(e,r){G4e(this,t),this.metadata=new Ss(r);var n=this.getCountryAndCallingCode(e),i=W4e(n,2),s=i[0],o=i[1];this.defaultCountry=s,this.defaultCallingCode=o,this.reset()}return Z4e(t,[{key:"getCountryAndCallingCode",value:function(r){var n,i;return r&&(Ag(r)?(n=r.defaultCountry,i=r.defaultCallingCode):n=r),n&&!this.metadata.hasCountry(n)&&(n=void 0),[n,i]}},{key:"input",value:function(r){var n=this.parser.input(r,this.state),i=n.digits,s=n.justLeadingPlus;if(s)this.formattedOutput="+";else if(i){this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state);var o;if(this.metadata.hasSelectedNumberingPlan()&&(o=this.formatter.format(i,this.state)),o===void 0&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var a=this.state.getNationalDigits();a&&(o=this.formatter.format(a,this.state))}this.formattedOutput=o?this.getFullNumber(o):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var r=this;return this.state=new F6e({onCountryChange:function(i){r.country=i},onCallingCodeChange:function(i,s){r.metadata.selectNumberingPlan(s,i),r.formatter.reset(r.metadata.numberingPlan,r.state),r.parser.reset(r.metadata.numberingPlan)}}),this.formatter=new A4e({state:this.state,metadata:this.metadata}),this.parser=new B4e({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){r.determineTheCountryIfNeeded(),r.formatter.reset(r.metadata.numberingPlan,r.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){var r=this.state.digits;if(r)return this._getCountry()}},{key:"_getCountry",value:function(){var r=this.state.country;return r}},{key:"determineTheCountryIfNeeded",value:function(){(!this.state.country||this.isCountryCallingCodeAmbiguous())&&this.determineTheCountry()}},{key:"getFullNumber",value:function(r){var n=this;if(this.isInternational()){var i=function(a){return n.formatter.getInternationalPrefixBeforeCountryCallingCode(n.state,{spacing:!!a})+a},s=this.state.callingCode;return i(s?r?"".concat(s," ").concat(r):s:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return r}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var r=this.state,n=r.nationalSignificantNumber,i=r.complexPrefixBeforeNationalSignificantNumber,s=r.nationalPrefix,o=n,a=i||s;return a&&(o=a+o),o}},{key:"getNonFormattedNumber",value:function(){var r=this.state.nationalSignificantNumberMatchesInput;return this.getFullNumber(r?this.getNonFormattedNationalNumberWithPrefix():this.state.getNationalDigits())}},{key:"getNonFormattedTemplate",value:function(){var r=this.getNonFormattedNumber();if(r)return r.replace(/[\+\d]/g,qc)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var r=this.state.callingCode,n=this.metadata.getCountryCodesForCallingCode(r);return n&&n.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(are(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,defaultCountry:this.defaultCountry,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var r=this.state,n=r.digits,i=r.callingCode,s=r.country,o=r.nationalSignificantNumber;if(n){if(this.isInternational())return i?"+"+i+o:"+"+n;if(s||i){var a=s?this.metadata.countryCallingCode():i;return"+"+a+o}}}},{key:"getNumber",value:function(){var r=this.state,n=r.nationalSignificantNumber,i=r.carrierCode,s=r.callingCode,o=this._getCountry();if(n&&!(!o&&!s)){if(o&&o===this.defaultCountry){var a=new Ss(this.metadata.metadata);a.selectNumberingPlan(o);var l=a.numberingPlan.callingCode(),u=this.metadata.getCountryCodesForCallingCode(l);if(u.length>1){var c=ore(n,{countries:u,defaultCountry:this.defaultCountry,metadata:this.metadata.metadata});c&&(o=c)}}var h=new aO(o||s,n,this.metadata.metadata);return i&&(h.carrierCode=i),h}}},{key:"isPossible",value:function(){var r=this.getNumber();return r?r.isPossible():!1}},{key:"isValid",value:function(){var r=this.getNumber();return r?r.isValid():!1}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}])})();function X4e(t){return new Ss(t).getCountries()}function exe(t,e,r){if(e[t])return new aO(t,e[t],r)}function R_(t,{method:e}){const r={};return t.transport.type==="fallback"&&t.transport.onResponse?.(({method:n,response:i,status:s,transport:o})=>{s==="success"&&e===n&&(r[i]=o.request)}),(n=>r[n]||t.request)}async function dre(t,e){const{address:r,abi:n,args:i,eventName:s,fromBlock:o,strict:a,toBlock:l}=e,u=R_(t,{method:"eth_newFilter"}),c=s?A5({abi:n,args:i,eventName:s}):void 0,h=await t.request({method:"eth_newFilter",params:[{address:r,fromBlock:typeof o=="bigint"?dr(o):o,toBlock:typeof l=="bigint"?dr(l):l,topics:c}]});return{abi:n,args:i,eventName:s,id:h,request:u(h),strict:!!a,type:"event"}}class txe extends ft{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class cO extends ft{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class rxe extends ft{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Ba(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class hre extends ft{constructor({blockHash:e,blockNumber:r}){let n="Block";e&&(n=`Block at hash "${e}"`),r&&(n=`Block at number "${r}"`),super(`${n} could not be found.`,{name:"BlockNotFoundError"})}}async function vd(t,{blockHash:e,blockNumber:r,blockTag:n=t.experimental_blockTag??"latest",includeTransactions:i}={}){const s=i??!1,o=r!==void 0?dr(r):void 0;let a=null;if(e?a=await t.request({method:"eth_getBlockByHash",params:[e,s]},{dedupe:!0}):a=await t.request({method:"eth_getBlockByNumber",params:[o||n,s]},{dedupe:!!o}),!a)throw new hre({blockHash:e,blockNumber:r});return(t.chain?.formatters?.block?.format||Tte)(a)}async function uO(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function nxe(t,e){return fre(t,e)}async function fre(t,e){const{block:r,chain:n=t.chain,request:i}=e||{};try{const s=n?.fees?.maxPriorityFeePerGas??n?.fees?.defaultPriorityFee;if(typeof s=="function"){const a=r||await pr(t,vd,"getBlock")({}),l=await s({block:a,client:t,request:i});if(l===null)throw new Error;return l}if(typeof s<"u")return s;const o=await t.request({method:"eth_maxPriorityFeePerGas"});return Al(o)}catch{const[s,o]=await Promise.all([r?Promise.resolve(r):pr(t,vd,"getBlock")({}),pr(t,uO,"getGasPrice")({})]);if(typeof s.baseFeePerGas!="bigint")throw new cO;const a=o-s.baseFeePerGas;return a<0n?0n:a}}async function ixe(t,e){return Q$(t,e)}async function Q$(t,e){const{block:r,chain:n=t.chain,request:i,type:s="eip1559"}=e||{},o=await(async()=>typeof n?.fees?.baseFeeMultiplier=="function"?n.fees.baseFeeMultiplier({block:r,client:t,request:i}):n?.fees?.baseFeeMultiplier??1.2)();if(o<1)throw new txe;const l=10**(o.toString().split(".")[1]?.length??0),u=m=>m*BigInt(Math.ceil(o*l))/BigInt(l),c=r||await pr(t,vd,"getBlock")({});if(typeof n?.fees?.estimateFeesPerGas=="function"){const m=await n.fees.estimateFeesPerGas({block:r,client:t,multiply:u,request:i,type:s});if(m!==null)return m}if(s==="eip1559"){if(typeof c.baseFeePerGas!="bigint")throw new cO;const m=typeof i?.maxPriorityFeePerGas=="bigint"?i.maxPriorityFeePerGas:await fre(t,{block:c,chain:n,request:i}),y=u(c.baseFeePerGas);return{maxFeePerGas:i?.maxFeePerGas??y+m,maxPriorityFeePerGas:m}}return{gasPrice:i?.gasPrice??u(await pr(t,uO,"getGasPrice")({}))}}async function Cw(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return cu(e)}const pre=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Tz=new Map;async function O_(t,e){const{account:r=t.account,blobs:n,chain:i,gas:s,kzg:o,nonce:a,nonceManager:l,parameters:u=pre,type:c}=e,h=r&&Bi(r),m={...e,...h?{from:h?.address}:{}};let y;async function b(){return y||(y=await pr(t,vd,"getBlock")({blockTag:"latest"}),y)}let E;async function A(){return E||(i?i.id:typeof e.chainId<"u"?e.chainId:(E=await pr(t,Cw,"getChainId")({}),E))}if(u.includes("nonce")&&typeof a>"u"&&h)if(l){const M=await A();m.nonce=await l.consume({address:h.address,chainId:M,client:t})}else m.nonce=await pr(t,ZR,"getTransactionCount")({address:h.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&n&&o){const M=Xee({blobs:n,kzg:o});if(u.includes("blobVersionedHashes")){const O=n2e({commitments:M,to:"hex"});m.blobVersionedHashes=O}if(u.includes("sidecars")){const O=ete({blobs:n,commitments:M,kzg:o}),P=a2e({blobs:n,commitments:M,proofs:O,to:"hex"});m.sidecars=P}}if(u.includes("chainId")&&(m.chainId=await A()),(u.includes("fees")||u.includes("type"))&&typeof c>"u")try{m.type=d2e(m)}catch{let M=Tz.get(t.uid);typeof M>"u"&&(M=typeof(await b())?.baseFeePerGas=="bigint",Tz.set(t.uid,M)),m.type=M?"eip1559":"legacy"}if(u.includes("fees"))if(m.type!=="legacy"&&m.type!=="eip2930"){if(typeof m.maxFeePerGas>"u"||typeof m.maxPriorityFeePerGas>"u"){const M=await b(),{maxFeePerGas:O,maxPriorityFeePerGas:P}=await Q$(t,{block:M,chain:i,request:m});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<P)throw new rxe({maxPriorityFeePerGas:P});m.maxPriorityFeePerGas=P,m.maxFeePerGas=O}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new cO;if(typeof e.gasPrice>"u"){const M=await b(),{gasPrice:O}=await Q$(t,{block:M,chain:i,request:m,type:"legacy"});m.gasPrice=O}}return u.includes("gas")&&typeof s>"u"&&(m.gas=await pr(t,dO,"estimateGas")({...m,account:h&&{address:h.address,type:"json-rpc"}})),am(m),delete m.parameters,m}async function gre(t,{address:e,blockNumber:r,blockTag:n=t.experimental_blockTag??"latest"}){const i=typeof r=="bigint"?dr(r):void 0,s=await t.request({method:"eth_getBalance",params:[e,i||n]});return BigInt(s)}async function dO(t,e){const{account:r=t.account}=e,n=r?Bi(r):void 0;try{let U=function(_){const{block:d,request:g,rpcStateOverride:x}=_;return t.request({method:"eth_estimateGas",params:x?[g,d??t.experimental_blockTag??"latest",x]:d?[g,d]:[g]})};const{accessList:i,authorizationList:s,blobs:o,blobVersionedHashes:a,blockNumber:l,blockTag:u,data:c,gas:h,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:b,maxPriorityFeePerGas:E,nonce:A,value:M,stateOverride:O,...P}=await O_(t,{...e,parameters:n?.type==="local"?void 0:["blobVersionedHashes"]}),L=(typeof l=="bigint"?dr(l):void 0)||u,W=YR(O),H=await(async()=>{if(P.to)return P.to;if(s&&s.length>0)return await zR({authorization:s[0]}).catch(()=>{throw new ft("`to` is required. Could not infer from `authorizationList`")})})();am(e);const G=t.chain?.formatters?.transactionRequest?.format,F=(G||Sw)({...S_(P,{format:G}),from:n?.address,accessList:i,authorizationList:s,blobs:o,blobVersionedHashes:a,data:c,gas:h,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:b,maxPriorityFeePerGas:E,nonce:A,to:H,value:M});let j=BigInt(await U({block:L,request:F,rpcStateOverride:W}));if(s){const _=await gre(t,{address:F.from}),d=await Promise.all(s.map(async g=>{const{address:x}=g,C=await U({block:L,request:{authorizationList:void 0,data:c,from:n?.address,to:x,value:dr(_)},rpcStateOverride:W}).catch(()=>100000n);return 2n*BigInt(C)}));j+=d.reduce((g,x)=>g+x,0n)}return j}catch(i){throw fve(i,{...e,account:n,chain:t.chain})}}async function sxe(t,e){const{abi:r,address:n,args:i,functionName:s,dataSuffix:o,...a}=e,l=Ha({abi:r,args:i,functionName:s});try{return await pr(t,dO,"estimateGas")({data:`${l}${o?o.replace("0x",""):""}`,to:n,...a})}catch(u){const c=a.account?Bi(a.account):void 0;throw Lg(u,{abi:r,address:n,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:c?.address})}}async function hO(t,{address:e,blockHash:r,fromBlock:n,toBlock:i,event:s,events:o,args:a,strict:l}={}){const u=l??!1,c=o??(s?[s]:void 0);let h=[];c&&(h=[c.flatMap(E=>A5({abi:[E],eventName:E.name,args:o?void 0:a}))],s&&(h=h[0]));let m;r?m=await t.request({method:"eth_getLogs",params:[{address:e,topics:h,blockHash:r}]}):m=await t.request({method:"eth_getLogs",params:[{address:e,topics:h,fromBlock:typeof n=="bigint"?dr(n):n,toBlock:typeof i=="bigint"?dr(i):i}]});const y=m.map(b=>Uh(b));return c?FR({abi:c,args:a,logs:y,strict:u}):y}async function mre(t,e){const{abi:r,address:n,args:i,blockHash:s,eventName:o,fromBlock:a,toBlock:l,strict:u}=e,c=o?im({abi:r,name:o}):void 0,h=c?void 0:r.filter(m=>m.type==="event");return pr(t,hO,"getLogs")({address:n,args:i,blockHash:s,event:c,events:h,fromBlock:a,toBlock:l,strict:u})}async function pu(t,e){const{abi:r,address:n,args:i,functionName:s,...o}=e,a=Ha({abi:r,args:i,functionName:s});try{const{data:l}=await pr(t,C_,"call")({...o,data:a,to:n});return sm({abi:r,args:i,functionName:s,data:l||"0x"})}catch(l){throw Lg(l,{abi:r,address:n,args:i,docsPath:"/docs/contract/readContract",functionName:s})}}async function oxe(t,e){const{abi:r,address:n,args:i,dataSuffix:s,functionName:o,...a}=e,l=a.account?Bi(a.account):t.account,u=Ha({abi:r,args:i,functionName:o});try{const{data:c}=await pr(t,C_,"call")({batch:!1,data:`${u}${s?s.replace("0x",""):""}`,to:n,...a,account:l}),h=sm({abi:r,args:i,functionName:o,data:c||"0x"}),m=r.filter(y=>"name"in y&&y.name===e.functionName);return{result:h,request:{abi:m,address:n,args:i,dataSuffix:s,functionName:o,...a,account:l}}}catch(c){throw Lg(c,{abi:r,address:n,args:i,docsPath:"/docs/contract/simulateContract",functionName:o,sender:l?.address})}}const qS=new Map,$z=new Map;let axe=0;function zh(t,e,r){const n=++axe,i=()=>qS.get(t)||[],s=()=>{const c=i();qS.set(t,c.filter(h=>h.id!==n))},o=()=>{const c=i();if(!c.some(m=>m.id===n))return;const h=$z.get(t);if(c.length===1&&h){const m=h();m instanceof Promise&&m.catch(()=>{})}s()},a=i();if(qS.set(t,[...a,{id:n,fns:e}]),a&&a.length>0)return o;const l={};for(const c in e)l[c]=((...h)=>{const m=i();if(m.length!==0)for(const y of m)y.fns[c]?.(...h)});const u=r(l);return typeof u=="function"&&$z.set(t,u),o}function kw(t,{emitOnBegin:e,initialWaitTime:r,interval:n}){let i=!0;const s=()=>i=!1;return(async()=>{let a;e&&(a=await t({unpoll:s}));const l=await r?.(a)??n;await j$(l);const u=async()=>{i&&(await t({unpoll:s}),await j$(n),u())};u()})(),s}const lxe=new Map,cxe=new Map;function uxe(t){const e=(i,s)=>({clear:()=>s.delete(i),get:()=>s.get(i),set:o=>s.set(i,o)}),r=e(t,lxe),n=e(t,cxe);return{clear:()=>{r.clear(),n.clear()},promise:r,response:n}}async function dxe(t,{cacheKey:e,cacheTime:r=Number.POSITIVE_INFINITY}){const n=uxe(e),i=n.response.get();if(i&&r>0&&Date.now()-i.created.getTime()<r)return i.data;let s=n.promise.get();s||(s=t(),n.promise.set(s));try{const o=await s;return n.response.set({created:new Date,data:o}),o}finally{n.promise.clear()}}const hxe=t=>`blockNumber.${t}`;async function T5(t,{cacheTime:e=t.cacheTime}={}){const r=await dxe(()=>t.request({method:"eth_blockNumber"}),{cacheKey:hxe(t.uid),cacheTime:e});return BigInt(r)}async function j_(t,{filter:e}){const r="strict"in e&&e.strict,n=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof n[0]=="string")return n;const i=n.map(s=>Uh(s));return!("abi"in e)||!e.abi?i:FR({abi:e.abi,logs:i,strict:r})}async function L_(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function fxe(t,e){const{abi:r,address:n,args:i,batch:s=!0,eventName:o,fromBlock:a,onError:l,onLogs:u,poll:c,pollingInterval:h=t.pollingInterval,strict:m}=e;return(typeof c<"u"?c:typeof a=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))?(()=>{const A=m??!1,M=ls(["watchContractEvent",n,i,s,t.uid,o,h,A,a]);return zh(M,{onLogs:u,onError:l},O=>{let P;a!==void 0&&(P=a-1n);let z,L=!1;const W=kw(async()=>{if(!L){try{z=await pr(t,dre,"createContractEventFilter")({abi:r,address:n,args:i,eventName:o,strict:A,fromBlock:a})}catch{}L=!0;return}try{let H;if(z)H=await pr(t,j_,"getFilterChanges")({filter:z});else{const G=await pr(t,T5,"getBlockNumber")({});P&&P<G?H=await pr(t,mre,"getContractEvents")({abi:r,address:n,args:i,eventName:o,fromBlock:P+1n,toBlock:G,strict:A}):H=[],P=G}if(H.length===0)return;if(s)O.onLogs(H);else for(const G of H)O.onLogs([G])}catch(H){z&&H instanceof Rg&&(L=!1),O.onError?.(H)}},{emitOnBegin:!0,interval:h});return async()=>{z&&await pr(t,L_,"uninstallFilter")({filter:z}),W()}})})():(()=>{const A=m??!1,M=ls(["watchContractEvent",n,i,s,t.uid,o,h,A]);let O=!0,P=()=>O=!1;return zh(M,{onLogs:u,onError:l},z=>((async()=>{try{const L=(()=>{if(t.transport.type==="fallback"){const G=t.transport.transports.find(N=>N.config.type==="webSocket"||N.config.type==="ipc");return G?G.value:t.transport}return t.transport})(),W=o?A5({abi:r,eventName:o,args:i}):[],{unsubscribe:H}=await L.subscribe({params:["logs",{address:n,topics:W}],onData(G){if(!O)return;const N=G.result;try{const{eventName:F,args:U}=UR({abi:r,data:N.data,topics:N.topics,strict:m}),j=Uh(N,{args:U,eventName:F});z.onLogs([j])}catch(F){let U,j;if(F instanceof t3||F instanceof v_){if(m)return;U=F.abiItem.name,j=F.abiItem.inputs?.some(d=>!("name"in d&&d.name))}const _=Uh(N,{args:j?[]:{},eventName:U});z.onLogs([_])}},onError(G){z.onError?.(G)}});P=H,O||P()}catch(L){l?.(L)}})(),()=>P()))})()}class lm extends ft{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class Dx extends ft{constructor({docsPath:e,metaMessages:r,type:n}){super(`Account type "${n}" is not supported.`,{docsPath:e,metaMessages:r,name:"AccountTypeNotSupportedError"})}}async function fO(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const HS=new y_(128);async function D_(t,e){const{account:r=t.account,chain:n=t.chain,accessList:i,authorizationList:s,blobs:o,data:a,gas:l,gasPrice:u,maxFeePerBlobGas:c,maxFeePerGas:h,maxPriorityFeePerGas:m,nonce:y,type:b,value:E,...A}=e;if(typeof r>"u")throw new lm({docsPath:"/docs/actions/wallet/sendTransaction"});const M=r?Bi(r):null;try{am(e);const O=await(async()=>{if(e.to)return e.to;if(e.to!==null&&s&&s.length>0)return await zR({authorization:s[0]}).catch(()=>{throw new ft("`to` is required. Could not infer from `authorizationList`.")})})();if(M?.type==="json-rpc"||M===null){let P;n!==null&&(P=await pr(t,Cw,"getChainId")({}),Ste({currentChainId:P,chain:n}));const z=t.chain?.formatters?.transactionRequest?.format,W=(z||Sw)({...S_(A,{format:z}),accessList:i,authorizationList:s,blobs:o,chainId:P,data:a,from:M?.address,gas:l,gasPrice:u,maxFeePerBlobGas:c,maxFeePerGas:h,maxPriorityFeePerGas:m,nonce:y,to:O,type:b,value:E}),H=HS.get(t.uid),G=H?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:G,params:[W]},{retryCount:0})}catch(N){if(H===!1)throw N;const F=N;if(F.name==="InvalidInputRpcError"||F.name==="InvalidParamsRpcError"||F.name==="MethodNotFoundRpcError"||F.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[W]},{retryCount:0}).then(U=>(HS.set(t.uid,!0),U)).catch(U=>{const j=U;throw j.name==="MethodNotFoundRpcError"||j.name==="MethodNotSupportedRpcError"?(HS.set(t.uid,!1),F):j});throw F}}if(M?.type==="local"){const P=await pr(t,O_,"prepareTransactionRequest")({account:M,accessList:i,authorizationList:s,blobs:o,chain:n,data:a,gas:l,gasPrice:u,maxFeePerBlobGas:c,maxFeePerGas:h,maxPriorityFeePerGas:m,nonce:y,nonceManager:M.nonceManager,parameters:[...pre,"sidecars"],type:b,value:E,...A,to:O}),z=n?.serializers?.transaction,L=await M.signTransaction(P,{serializer:z});return await pr(t,fO,"sendRawTransaction")({serializedTransaction:L})}throw M?.type==="smart"?new Dx({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Dx({docsPath:"/docs/actions/wallet/sendTransaction",type:M?.type})}catch(O){throw O instanceof Dx?O:Cte(O,{...e,account:M,chain:e.chain||void 0})}}async function pxe(t,e){const{abi:r,account:n=t.account,address:i,args:s,dataSuffix:o,functionName:a,...l}=e;if(typeof n>"u")throw new lm({docsPath:"/docs/contract/writeContract"});const u=n?Bi(n):null,c=Ha({abi:r,args:s,functionName:a});try{return await pr(t,D_,"sendTransaction")({data:`${c}${o?o.replace("0x",""):""}`,to:i,account:u,...l})}catch(h){throw Lg(h,{abi:r,address:i,args:s,docsPath:"/docs/contract/writeContract",functionName:a,sender:u?.address})}}class gxe extends ft{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}const yre="0x5792579257925792579257925792579257925792579257925792579257925792",wre=dr(0,{size:32});async function mxe(t,e){const{account:r=t.account,capabilities:n,chain:i=t.chain,experimental_fallback:s,experimental_fallbackDelay:o=32,forceAtomic:a=!1,id:l,version:u="2.0.0"}=e,c=r?Bi(r):null,h=e.calls.map(m=>{const y=m,b=y.abi?Ha({abi:y.abi,functionName:y.functionName,args:y.args}):y.data;return{data:y.dataSuffix&&b?oc([b,y.dataSuffix]):b,to:y.to,value:y.value?dr(y.value):void 0}});try{const m=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:h,capabilities:n,chainId:dr(i.id),from:c?.address,id:l,version:u}]},{retryCount:0});return typeof m=="string"?{id:m}:m}catch(m){const y=m;if(s&&(y.name==="MethodNotFoundRpcError"||y.name==="MethodNotSupportedRpcError"||y.name==="UnknownRpcError"||y.details.toLowerCase().includes("does not exist / is not available")||y.details.toLowerCase().includes("missing or invalid. request()")||y.details.toLowerCase().includes("did not match any variant of untagged enum")||y.details.toLowerCase().includes("account upgraded to unsupported contract")||y.details.toLowerCase().includes("eip-7702 not supported")||y.details.toLowerCase().includes("unsupported wc_ method")||y.details.toLowerCase().includes("feature toggled misconfigured"))){if(n&&Object.values(n).some(O=>!O.optional)){const O="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Fy(new ft(O,{details:O}))}if(a&&h.length>1){const M="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new zy(new ft(M,{details:M}))}const b=[];for(const M of h){const O=D_(t,{account:c,chain:i,data:M.data,to:M.to,value:M.value?Al(M.value):void 0});b.push(O),o>0&&await new Promise(P=>setTimeout(P,o))}const E=await Promise.allSettled(b);if(E.every(M=>M.status==="rejected"))throw E[0].reason;const A=E.map(M=>M.status==="fulfilled"?M.value:wre);return{id:oc([...A,dr(i.id,{size:32}),yre])}}throw Cte(m,{...e,account:c,chain:e.chain})}}async function vre(t,e){async function r(c){if(c.endsWith(yre.slice(2))){const m=$h(A$(c,-64,-32)),y=A$(c,0,-64).slice(2).match(/.{1,64}/g),b=await Promise.all(y.map(A=>wre.slice(2)!==A?t.request({method:"eth_getTransactionReceipt",params:[`0x${A}`]},{dedupe:!0}):void 0)),E=b.some(A=>A===null)?100:b.every(A=>A?.status==="0x1")?200:b.every(A=>A?.status==="0x0")?500:600;return{atomic:!1,chainId:cu(m),receipts:b.filter(Boolean),status:E,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[c]})}const{atomic:n=!1,chainId:i,receipts:s,version:o="2.0.0",...a}=await r(e.id),[l,u]=(()=>{const c=a.status;return c>=100&&c<200?["pending",c]:c>=200&&c<300?["success",c]:c>=300&&c<700?["failure",c]:c==="CONFIRMED"?["success",200]:c==="PENDING"?["pending",100]:[void 0,c]})();return{...a,atomic:n,chainId:i?cu(i):void 0,receipts:s?.map(c=>({...c,blockNumber:Al(c.blockNumber),gasUsed:Al(c.gasUsed),status:$te[c.status]}))??[],statusCode:u,status:l,version:o}}async function yxe(t,e){const{id:r,pollingInterval:n=t.pollingInterval,status:i=({statusCode:E})=>E===200||E>=300,retryCount:s=4,retryDelay:o=({count:E})=>~~(1<<E)*200,timeout:a=6e4,throwOnFailure:l=!1}=e,u=ls(["waitForCallsStatus",t.uid,r]),{promise:c,resolve:h,reject:m}=GR();let y;const b=zh(u,{resolve:h,reject:m},E=>{const A=kw(async()=>{const M=O=>{clearTimeout(y),A(),O(),b()};try{const O=await B8(async()=>{const P=await pr(t,vre,"getCallsStatus")({id:r});if(l&&P.status==="failure")throw new gxe(P);return P},{retryCount:s,delay:o});if(!i(O))return;M(()=>E.resolve(O))}catch(O){M(()=>E.reject(O))}},{interval:n,emitOnBegin:!0});return A});return y=a?setTimeout(()=>{b(),clearTimeout(y),m(new wxe({id:r}))},a):void 0,await c}class wxe extends ft{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const J$=256;let E4=J$,_4;function bre(t=11){if(!_4||E4+t>J$*2){_4="",E4=0;for(let e=0;e<J$;e++)_4+=(256+Math.random()*256|0).toString(16).substring(1)}return _4.substring(E4,E4+++t)}function xre(t){const{batch:e,chain:r,ccipRead:n,key:i="base",name:s="Base Client",type:o="base"}=t,a=t.experimental_blockTag??(typeof r?.experimental_preconfirmationTime=="number"?"pending":void 0),l=r?.blockTime??12e3,u=Math.min(Math.max(Math.floor(l/2),500),4e3),c=t.pollingInterval??u,h=t.cacheTime??c,m=t.account?Bi(t.account):void 0,{config:y,request:b,value:E}=t.transport({chain:r,pollingInterval:c}),A={...y,...E},M={account:m,batch:e,cacheTime:h,ccipRead:n,chain:r,key:i,name:s,pollingInterval:c,request:b,transport:A,type:o,uid:bre(),...a?{experimental_blockTag:a}:{}};function O(P){return z=>{const L=z(P);for(const H in M)delete L[H];const W={...P,...L};return Object.assign(W,{extend:O(W)})}}return Object.assign(M,{extend:O(M)})}function pO(t){if(!(t instanceof ft))return!1;const e=t.walk(r=>r instanceof B$);return e instanceof B$?e.data?.errorName==="HttpError"||e.data?.errorName==="ResolverError"||e.data?.errorName==="ResolverNotContract"||e.data?.errorName==="ResolverNotFound"||e.data?.errorName==="ReverseAddressMismatch"||e.data?.errorName==="UnsupportedResolverProfile":!1}function Ere(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return ra(e)?e:null}function X$(t){let e=new Uint8Array(32).fill(0);if(!t)return cs(e);const r=t.split(".");for(let n=r.length-1;n>=0;n-=1){const i=Ere(r[n]),s=i?bw(i):Gs(_g(r[n]),"bytes");e=Gs(oc([e,s]),"bytes")}return cs(e)}function vxe(t){return`[${t.slice(2)}]`}function bxe(t){const e=new Uint8Array(32).fill(0);return t?Ere(t)||Gs(_g(t)):cs(e)}function gO(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const r=new Uint8Array(_g(e).byteLength+2);let n=0;const i=e.split(".");for(let s=0;s<i.length;s++){let o=_g(i[s]);o.byteLength>255&&(o=_g(vxe(bxe(i[s])))),r[n]=o.length,r.set(o,n+1),n+=o.length+1}return r.byteLength!==n+1?r.slice(0,n+1):r}async function xxe(t,e){const{blockNumber:r,blockTag:n,coinType:i,name:s,gatewayUrls:o,strict:a}=e,{chain:l}=t,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return Aw({blockNumber:r,chain:l,contract:"ensUniversalResolver"})})(),c=l?.ensTlds;if(c&&!c.some(m=>s.endsWith(m)))return null;const h=i!=null?[X$(s),BigInt(i)]:[X$(s)];try{const m=Ha({abi:jF,functionName:"addr",args:h}),y={address:u,abi:yte,functionName:"resolveWithGateways",args:[_s(gO(s)),m,o??[k_]],blockNumber:r,blockTag:n},E=await pr(t,pu,"readContract")(y);if(E[0]==="0x")return null;const A=sm({abi:jF,args:h,functionName:"addr",data:E[0]});return A==="0x"||$h(A)==="0x00"?null:A}catch(m){if(a)throw m;if(pO(m))return null;throw m}}class Exe extends ft{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class j2 extends ft{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class mO extends ft{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class _xe extends ft{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Axe=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Sxe=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Cxe=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,kxe=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Ixe(t){try{const e=await fetch(t,{method:"HEAD"});return e.status===200?e.headers.get("content-type")?.startsWith("image/"):!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(r=>{const n=new Image;n.onload=()=>{r(!0)},n.onerror=()=>{r(!1)},n.src=t})}}function Mz(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function _re({uri:t,gatewayUrls:e}){const r=Cxe.test(t);if(r)return{uri:t,isOnChain:!0,isEncoded:r};const n=Mz(e?.ipfs,"https://ipfs.io"),i=Mz(e?.arweave,"https://arweave.net"),s=t.match(Axe),{protocol:o,subpath:a,target:l,subtarget:u=""}=s?.groups||{},c=o==="ipns:/"||a==="ipns/",h=o==="ipfs:/"||a==="ipfs/"||Sxe.test(t);if(t.startsWith("http")&&!c&&!h){let y=t;return e?.arweave&&(y=t.replace(/https:\/\/arweave.net/g,e?.arweave)),{uri:y,isOnChain:!1,isEncoded:!1}}if((c||h)&&l)return{uri:`${n}/${c?"ipns":"ipfs"}/${l}${u}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&l)return{uri:`${i}/${l}${u||""}`,isOnChain:!1,isEncoded:!1};let m=t.replace(kxe,"");if(m.startsWith("<svg")&&(m=`data:image/svg+xml;base64,${btoa(m)}`),m.startsWith("data:")||m.startsWith("{"))return{uri:m,isOnChain:!0,isEncoded:!1};throw new mO({uri:t})}function Are(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new Exe({data:t});return t.image||t.image_url||t.image_data}async function Txe({gatewayUrls:t,uri:e}){try{const r=await fetch(e).then(i=>i.json());return await yO({gatewayUrls:t,uri:Are(r)})}catch{throw new mO({uri:e})}}async function yO({gatewayUrls:t,uri:e}){const{uri:r,isOnChain:n}=_re({uri:e,gatewayUrls:t});if(n||await Ixe(r))return r;throw new mO({uri:e})}function $xe(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[r,n,i]=e.split("/"),[s,o]=r.split(":"),[a,l]=n.split(":");if(!s||s.toLowerCase()!=="eip155")throw new j2({reason:"Only EIP-155 supported"});if(!o)throw new j2({reason:"Chain ID not found"});if(!l)throw new j2({reason:"Contract address not found"});if(!i)throw new j2({reason:"Token ID not found"});if(!a)throw new j2({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o,10),namespace:a.toLowerCase(),contractAddress:l,tokenID:i}}async function Mxe(t,{nft:e}){if(e.namespace==="erc721")return pu(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return pu(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new _xe({namespace:e.namespace})}async function Pxe(t,{gatewayUrls:e,record:r}){return/eip155:/i.test(r)?Nxe(t,{gatewayUrls:e,record:r}):yO({uri:r,gatewayUrls:e})}async function Nxe(t,{gatewayUrls:e,record:r}){const n=$xe(r),i=await Mxe(t,{nft:n}),{uri:s,isOnChain:o,isEncoded:a}=_re({uri:i,gatewayUrls:e});if(o&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const u=a?atob(s.replace("data:application/json;base64,","")):s,c=JSON.parse(u);return yO({uri:Are(c),gatewayUrls:e})}let l=n.tokenID;return n.namespace==="erc1155"&&(l=l.replace("0x","").padStart(64,"0")),Txe({gatewayUrls:e,uri:s.replace(/(?:0x)?{id}/,l)})}async function Sre(t,e){const{blockNumber:r,blockTag:n,key:i,name:s,gatewayUrls:o,strict:a}=e,{chain:l}=t,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return Aw({blockNumber:r,chain:l,contract:"ensUniversalResolver"})})(),c=l?.ensTlds;if(c&&!c.some(h=>s.endsWith(h)))return null;try{const h={address:u,abi:yte,args:[_s(gO(s)),Ha({abi:OF,functionName:"text",args:[X$(s),i]}),o??[k_]],functionName:"resolveWithGateways",blockNumber:r,blockTag:n},y=await pr(t,pu,"readContract")(h);if(y[0]==="0x")return null;const b=sm({abi:OF,functionName:"text",data:y[0]});return b===""?null:b}catch(h){if(a)throw h;if(pO(h))return null;throw h}}async function Rxe(t,{blockNumber:e,blockTag:r,assetGatewayUrls:n,name:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){const l=await pr(t,Sre,"getEnsText")({blockNumber:e,blockTag:r,key:"avatar",name:i,universalResolverAddress:a,gatewayUrls:s,strict:o});if(!l)return null;try{return await Pxe(t,{record:l,gatewayUrls:n})}catch{return null}}async function Oxe(t,e){const{address:r,blockNumber:n,blockTag:i,coinType:s=60n,gatewayUrls:o,strict:a}=e,{chain:l}=t,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return Aw({blockNumber:n,chain:l,contract:"ensUniversalResolver"})})();try{const c={address:u,abi:K2e,args:[r,s,o??[k_]],functionName:"reverseWithGateways",blockNumber:n,blockTag:i},h=pr(t,pu,"readContract"),[m]=await h(c);return m||null}catch(c){if(a)throw c;if(pO(c))return null;throw c}}async function jxe(t,e){const{blockNumber:r,blockTag:n,name:i}=e,{chain:s}=t,o=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!s)throw new Error("client chain not configured. universalResolverAddress is required.");return Aw({blockNumber:r,chain:s,contract:"ensUniversalResolver"})})(),a=s?.ensTlds;if(a&&!a.some(u=>i.endsWith(u)))throw new Error(`${i} is not a valid ENS TLD (${a?.join(", ")}) for chain "${s.name}" (id: ${s.id}).`);const[l]=await pr(t,pu,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[_s(gO(i))],blockNumber:r,blockTag:n});return l}async function Cre(t,e){const{account:r=t.account,blockNumber:n,blockTag:i="latest",blobs:s,data:o,gas:a,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:c,maxPriorityFeePerGas:h,to:m,value:y,...b}=e,E=r?Bi(r):void 0;try{am(e);const M=(typeof n=="bigint"?dr(n):void 0)||i,O=t.chain?.formatters?.transactionRequest?.format,z=(O||Sw)({...S_(b,{format:O}),from:E?.address,blobs:s,data:o,gas:a,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:c,maxPriorityFeePerGas:h,to:m,value:y}),L=await t.request({method:"eth_createAccessList",params:[z,M]});return{accessList:L.accessList,gasUsed:BigInt(L.gasUsed)}}catch(A){throw Ete(A,{...e,account:E,chain:t.chain})}}async function Lxe(t){const e=R_(t,{method:"eth_newBlockFilter"}),r=await t.request({method:"eth_newBlockFilter"});return{id:r,request:e(r),type:"block"}}async function kre(t,{address:e,args:r,event:n,events:i,fromBlock:s,strict:o,toBlock:a}={}){const l=i??(n?[n]:void 0),u=R_(t,{method:"eth_newFilter"});let c=[];l&&(c=[l.flatMap(y=>A5({abi:[y],eventName:y.name,args:r}))],n&&(c=c[0]));const h=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof s=="bigint"?dr(s):s,toBlock:typeof a=="bigint"?dr(a):a,...c.length?{topics:c}:{}}]});return{abi:l,args:r,eventName:n?n.name:void 0,fromBlock:s,id:h,request:u(h),strict:!!o,toBlock:a,type:"event"}}async function Ire(t){const e=R_(t,{method:"eth_newPendingTransactionFilter"}),r=await t.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:e(r),type:"transaction"}}async function Dxe(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}async function Bxe(t,{blockHash:e,blockNumber:r,blockTag:n="latest"}={}){const i=r!==void 0?dr(r):void 0;let s;return e?s=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):s=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[i||n]},{dedupe:!!i}),cu(s)}async function eM(t,{address:e,blockNumber:r,blockTag:n="latest"}){const i=r!==void 0?dr(r):void 0,s=await t.request({method:"eth_getCode",params:[e,i||n]},{dedupe:!!i});if(s!=="0x")return s}class Uxe extends ft{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function Fxe(t,e){const{address:r,factory:n,factoryData:i}=e;try{const[s,o,a,l,u,c,h]=await pr(t,pu,"readContract")({abi:zxe,address:r,functionName:"eip712Domain",factory:n,factoryData:i});return{domain:{name:o,version:a,chainId:Number(l),verifyingContract:u,salt:c},extensions:h,fields:s}}catch(s){const o=s;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new Uxe({address:r}):o}}const zxe=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function Wxe(t){return{baseFeePerGas:t.baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:t.reward?.map(e=>e.map(r=>BigInt(r)))}}async function qxe(t,{blockCount:e,blockNumber:r,blockTag:n="latest",rewardPercentiles:i}){const s=typeof r=="bigint"?dr(r):void 0,o=await t.request({method:"eth_feeHistory",params:[dr(e),s||n,i]},{dedupe:!!s});return Wxe(o)}async function Hxe(t,{filter:e}){const r=e.strict??!1,i=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(s=>Uh(s));return e.abi?FR({abi:e.abi,logs:i,strict:r}):i}function Vxe(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function Kxe(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?cu(t.nonce):void 0,storageProof:t.storageProof?Vxe(t.storageProof):void 0}}async function Gxe(t,{address:e,blockNumber:r,blockTag:n,storageKeys:i}){const s=n??"latest",o=r!==void 0?dr(r):void 0,a=await t.request({method:"eth_getProof",params:[e,i,o||s]});return Kxe(a)}async function Yxe(t,{address:e,blockNumber:r,blockTag:n="latest",slot:i}){const s=r!==void 0?dr(r):void 0;return await t.request({method:"eth_getStorageAt",params:[e,i,s||n]})}async function wO(t,{blockHash:e,blockNumber:r,blockTag:n,hash:i,index:s}){const o=n||"latest",a=r!==void 0?dr(r):void 0;let l=null;if(i?l=await t.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):e?l=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,dr(s)]},{dedupe:!0}):l=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,dr(s)]},{dedupe:!!a}),!l)throw new Qee({blockHash:e,blockNumber:r,blockTag:o,hash:i,index:s});return(t.chain?.formatters?.transaction?.format||Ite)(l)}async function Zxe(t,{hash:e,transactionReceipt:r}){const[n,i]=await Promise.all([pr(t,T5,"getBlockNumber")({}),e?pr(t,wO,"getTransaction")({hash:e}):void 0]),s=r?.blockNumber||i?.blockNumber;return s?n-s+1n:0n}async function Bx(t,{hash:e}){const r=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!r)throw new Jee({hash:e});return(t.chain?.formatters?.transactionReceipt?.format||gve)(r)}async function Qxe(t,e){const{account:r,authorizationList:n,allowFailure:i=!0,blockNumber:s,blockOverrides:o,blockTag:a,stateOverride:l}=e,u=e.contracts,{batchSize:c=e.batchSize??1024,deployless:h=e.deployless??!1}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},m=(()=>{if(e.multicallAddress)return e.multicallAddress;if(h)return null;if(t.chain)return Aw({blockNumber:s,chain:t.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),y=[[]];let b=0,E=0;for(let O=0;O<u.length;O++){const{abi:P,address:z,args:L,functionName:W}=u[O];try{const H=Ha({abi:P,args:L,functionName:W});E+=(H.length-2)/2,c>0&&E>c&&y[b].length>0&&(b++,E=(H.length-2)/2,y[b]=[]),y[b]=[...y[b],{allowFailure:!0,callData:H,target:z}]}catch(H){const G=Lg(H,{abi:P,address:z,args:L,docsPath:"/docs/contract/multicall",functionName:W,sender:r});if(!i)throw G;y[b]=[...y[b],{allowFailure:!0,callData:"0x",target:z}]}}const A=await Promise.allSettled(y.map(O=>pr(t,pu,"readContract")({...m===null?{code:KR}:{address:m},abi:U8,account:r,args:[O],authorizationList:n,blockNumber:s,blockOverrides:o,blockTag:a,functionName:"aggregate3",stateOverride:l}))),M=[];for(let O=0;O<A.length;O++){const P=A[O];if(P.status==="rejected"){if(!i)throw P.reason;for(let L=0;L<y[O].length;L++)M.push({status:"failure",error:P.reason,result:void 0});continue}const z=P.value;for(let L=0;L<z.length;L++){const{returnData:W,success:H}=z[L],{callData:G}=y[O][L],{abi:N,address:F,functionName:U,args:j}=u[M.length];try{if(G==="0x")throw new E5;if(!H)throw new __({data:W});const _=sm({abi:N,args:j,data:W,functionName:U});M.push(i?{result:_,status:"success"}:_)}catch(_){const d=Lg(_,{abi:N,address:F,args:j,docsPath:"/docs/contract/multicall",functionName:U});if(!i)throw d;M.push({error:d,result:void 0,status:"failure"})}}}if(M.length!==u.length)throw new ft("multicall results mismatch");return M}async function tM(t,e){const{blockNumber:r,blockTag:n=t.experimental_blockTag??"latest",blocks:i,returnFullTransactions:s,traceTransfers:o,validation:a}=e;try{const l=[];for(const m of i){const y=m.blockOverrides?gte(m.blockOverrides):void 0,b=m.calls.map(A=>{const M=A,O=M.account?Bi(M.account):void 0,P=M.abi?Ha(M):M.data,z={...M,data:M.dataSuffix?oc([P||"0x",M.dataSuffix]):P,from:M.from??O?.address};return am(z),Sw(z)}),E=m.stateOverrides?YR(m.stateOverrides):void 0;l.push({blockOverrides:y,calls:b,stateOverrides:E})}const c=(typeof r=="bigint"?dr(r):void 0)||n;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:l,returnFullTransactions:s,traceTransfers:o,validation:a},c]})).map((m,y)=>({...Tte(m),calls:m.calls.map((b,E)=>{const{abi:A,args:M,functionName:O,to:P}=i[y].calls[E],z=b.error?.data??b.returnData,L=BigInt(b.gasUsed),W=b.logs?.map(F=>Uh(F)),H=b.status==="0x1"?"success":"failure",G=A&&H==="success"&&z!=="0x"?sm({abi:A,data:z,functionName:O}):null,N=(()=>{if(H==="success")return;let F;if(b.error?.data==="0x"?F=new E5:b.error&&(F=new __(b.error)),!!F)return Lg(F,{abi:A??[],address:P??"0x",args:M,functionName:O??"<unknown>"})})();return{data:z,gasUsed:L,logs:W,status:H,...H==="success"?{result:G}:{error:N}}})}))}catch(l){const u=l,c=A_(u,{});throw c instanceof k5?u:c}}function rM(t){let e=!0,r="",n=0,i="",s=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&n++,a===")"&&n--,!!e){if(n===0){if(a===" "&&["event","function","error",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){t[o-1]!==","&&r!==","&&r!==",("&&(r="",e=!1);continue}i+=a,r+=a}}if(!s)throw new sn("Unable to normalize signature.");return i}function nM(t,e){const r=typeof t,n=e.type;switch(n){case"address":return U$(t,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>nM(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(t)&&t.every(i=>nM(i,{...e,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Tre(t,e,r){for(const n in t){const i=t[n],s=e[n];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return Tre(i.components,s.components,r[n]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?U$(r[n],{strict:!1}):o.includes("address")&&o.includes("bytes")?U$(r[n],{strict:!1}):!1)return o}}function $re(t,e={}){const{prepare:r=!0}=e,n=Array.isArray(t)||typeof t=="string"?pF(t):t;return{...n,...r?{hash:ny(n)}:{}}}function Jxe(t,e,r){const{args:n=[],prepare:i=!0}=r??{},s=W2e(e,{strict:!1}),o=t.filter(u=>s?u.type==="function"||u.type==="error"?Mre(u)===Ed(e,0,4):u.type==="event"?ny(u)===e:!1:"name"in u&&u.name===e);if(o.length===0)throw new iM({name:e});if(o.length===1)return{...o[0],...i?{hash:ny(o[0])}:{}};let a;for(const u of o){if(!("inputs"in u))continue;if(!n||n.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...i?{hash:ny(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==n.length)continue;if(n.every((h,m)=>{const y="inputs"in u&&u.inputs[m];return y?nM(h,y):!1})){if(a&&"inputs"in a&&a.inputs){const h=Tre(u.inputs,a.inputs,n);if(h)throw new e8e({abiItem:u,type:h[0]},{abiItem:a,type:h[1]})}a=u}}const l=(()=>{if(a)return a;const[u,...c]=o;return{...u,overloads:c}})();if(!l)throw new iM({name:e});return{...l,...i?{hash:ny(l)}:{}}}function Mre(t){return Ed(ny(t),0,4)}function Xxe(t){const e=typeof t=="string"?t:j8(t);return rM(e)}function ny(t){return typeof t!="string"&&"hash"in t&&t.hash?t.hash:Dte(VR(Xxe(t)))}class e8e extends sn{constructor(e,r){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${rM(j8(e.abiItem))}\`, and`,`\`${r.type}\` in \`${rM(j8(r.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class iM extends sn{constructor({name:e,data:r,type:n="item"}){const i=e?` with name "${e}"`:r?` with data "${r}"`:"";super(`ABI ${n}${i} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function t8e(t,e){const{bytecode:r,args:n}=e;return hu(r,t.inputs?.length&&n?.length?eO(t.inputs,n):"0x")}function r8e(t){return $re(t)}function n8e(t,...e){const{overloads:r}=t,n=r?i8e([t,...r],t.name,{args:e[0]}):t,i=s8e(n),s=e.length>0?eO(n.inputs,e[0]):void 0;return s?hu(i,s):i}function u1(t,e={}){return $re(t,e)}function i8e(t,e,r){const n=Jxe(t,e,r);if(n.type!=="function")throw new iM({name:e,type:"function"});return n}function s8e(t){return Mre(t)}const o8e="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Bu="0x0000000000000000000000000000000000000000",a8e="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function l8e(t,e){const{blockNumber:r,blockTag:n,calls:i,stateOverrides:s,traceAssetChanges:o,traceTransfers:a,validation:l}=e,u=e.account?Bi(e.account):void 0;if(o&&!u)throw new ft("`account` is required when `traceAssetChanges` is true");const c=u?t8e(r8e("constructor(bytes, bytes)"),{bytecode:vte,args:[a8e,n8e(u1("function getBalance(address)"),[u.address])]}):void 0,h=o?await Promise.all(e.calls.map(async k=>{if(!k.data&&!k.abi)return;const{accessList:T}=await Cre(t,{account:u.address,...k,data:k.abi?Ha(k):k.data});return T.map(({address:R,storageKeys:I})=>I.length>0?R:null)})).then(k=>k.flat().filter(Boolean)):[],m=await tM(t,{blockNumber:r,blockTag:n,blocks:[...o?[{calls:[{data:c}],stateOverrides:s},{calls:h.map((k,T)=>({abi:[u1("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:k,from:Bu,nonce:T})),stateOverrides:[{address:Bu,nonce:0}]}]:[],{calls:[...i,{}].map(k=>({...k,from:u?.address})),stateOverrides:s},...o?[{calls:[{data:c}]},{calls:h.map((k,T)=>({abi:[u1("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:k,from:Bu,nonce:T})),stateOverrides:[{address:Bu,nonce:0}]},{calls:h.map((k,T)=>({to:k,abi:[u1("function decimals() returns (uint256)")],functionName:"decimals",from:Bu,nonce:T})),stateOverrides:[{address:Bu,nonce:0}]},{calls:h.map((k,T)=>({to:k,abi:[u1("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Bu,nonce:T})),stateOverrides:[{address:Bu,nonce:0}]},{calls:h.map((k,T)=>({to:k,abi:[u1("function symbol() returns (string)")],functionName:"symbol",from:Bu,nonce:T})),stateOverrides:[{address:Bu,nonce:0}]}]:[]],traceTransfers:a,validation:l}),y=o?m[2]:m[0],[b,E,,A,M,O,P,z]=o?m:[],{calls:L,...W}=y,H=L.slice(0,-1)??[],G=b?.calls??[],N=E?.calls??[],F=[...G,...N].map(k=>k.status==="success"?Al(k.data):null),U=A?.calls??[],j=M?.calls??[],_=[...U,...j].map(k=>k.status==="success"?Al(k.data):null),d=(O?.calls??[]).map(k=>k.status==="success"?k.result:null),g=(z?.calls??[]).map(k=>k.status==="success"?k.result:null),x=(P?.calls??[]).map(k=>k.status==="success"?k.result:null),C=[];for(const[k,T]of _.entries()){const R=F[k];if(typeof T!="bigint"||typeof R!="bigint")continue;const I=d[k-1],f=g[k-1],S=x[k-1],K=k===0?{address:o8e,decimals:18,symbol:"ETH"}:{address:h[k-1],decimals:S||I?Number(I??1):void 0,symbol:f??void 0};C.some(D=>D.token.address===K.address)||C.push({token:K,value:{pre:R,post:T,diff:T-R}})}return{assetChanges:C,block:W,results:H}}const Pre="0x6492649264926492649264926492649264926492649264926492649264926492";function c8e(t){if(Ed(t,-32)!==Pre)throw new h8e(t)}function u8e(t){const{data:e,signature:r,to:n}=t;return hu(eO(Fte("address, bytes, bytes"),[n,e,r]),Pre)}function d8e(t){try{return c8e(t),!0}catch{return!1}}class h8e extends sn{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function f8e({r:t,s:e,to:r="hex",v:n,yParity:i}){const s=(()=>{if(i===0||i===1)return i;if(n&&(n===27n||n===28n||n>=35n))return n%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new xw.Signature(Al(t),Al(e)).toCompactHex()}${s===0?"1b":"1c"}`;return r==="hex"?o:uu(o)}async function B_(t,e){const{address:r,hash:n,erc6492VerifierAddress:i=e.universalSignatureVerifierAddress??t.chain?.contracts?.erc6492Verifier?.address,multicallAddress:s=e.multicallAddress??t.chain?.contracts?.multicall3?.address}=e,o=(()=>{const a=e.signature;return ra(a)?a:typeof a=="object"&&"r"in a&&"s"in a?f8e(a):cs(a)})();try{return xbe(o)?await p8e(t,{...e,multicallAddress:s,signature:o}):await g8e(t,{...e,verifierAddress:i,signature:o})}catch(a){try{if(S5(Ni(r),await Yee({hash:n,signature:o})))return!0}catch{}if(a instanceof Dg)return!1;throw a}}async function p8e(t,e){const{address:r,blockNumber:n,blockTag:i,hash:s,multicallAddress:o}=e,{authorization:a,data:l,signature:u,to:c}=bbe(e.signature);if(await eM(t,{address:r,blockNumber:n,blockTag:i})===Ew(["0xef0100",a.address]))return await m8e(t,{address:r,blockNumber:n,blockTag:i,hash:s,signature:u});const m={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:dr(a.r,{size:32}),s:dr(a.s,{size:32}),yParity:a.yParity};if(!await h2e({address:r,authorization:m}))throw new Dg;const b=await pr(t,pu,"readContract")({...o?{address:o}:{code:KR},authorizationList:[m],abi:U8,blockNumber:n,blockTag:"pending",functionName:"aggregate3",args:[[...l?[{allowFailure:!0,target:c??r,callData:l}]:[],{allowFailure:!0,target:r,callData:Ha({abi:wte,functionName:"isValidSignature",args:[s,u]})}]]});if(b[b.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new Dg}async function g8e(t,e){const{address:r,factory:n,factoryData:i,hash:s,signature:o,verifierAddress:a,...l}=e,u=await(async()=>!n&&!i||d8e(o)?o:u8e({data:i,signature:o,to:n}))(),c=a?{to:a,data:Ha({abi:LF,functionName:"isValidSig",args:[r,s,u]}),...l}:{data:x_({abi:LF,args:[r,s,u],bytecode:Z2e}),...l},{data:h}=await pr(t,C_,"call")(c).catch(m=>{throw m instanceof bte?new Dg:m});if(Dye(h??"0x0"))return!0;throw new Dg}async function m8e(t,e){const{address:r,blockNumber:n,blockTag:i,hash:s,signature:o}=e;if((await pr(t,pu,"readContract")({address:r,abi:wte,args:[s,o],blockNumber:n,blockTag:i,functionName:"isValidSignature"}).catch(l=>{throw l instanceof xte?new Dg:l})).startsWith("0x1626ba7e"))return!0;throw new Dg}class Dg extends Error{}async function y8e(t,{address:e,message:r,factory:n,factoryData:i,signature:s,...o}){const a=Mte(r);return B_(t,{address:e,factory:n,factoryData:i,hash:a,signature:s,...o})}async function w8e(t,e){const{address:r,factory:n,factoryData:i,signature:s,message:o,primaryType:a,types:l,domain:u,...c}=e,h=Cve({message:o,primaryType:a,types:l,domain:u});return B_(t,{address:r,factory:n,factoryData:i,hash:h,signature:s,...c})}function Nre(t,{emitOnBegin:e=!1,emitMissed:r=!1,onBlockNumber:n,onError:i,poll:s,pollingInterval:o=t.pollingInterval}){const a=typeof s<"u"?s:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let l;return a?(()=>{const h=ls(["watchBlockNumber",t.uid,e,r,o]);return zh(h,{onBlockNumber:n,onError:i},m=>kw(async()=>{try{const y=await pr(t,T5,"getBlockNumber")({cacheTime:0});if(l!==void 0){if(y===l)return;if(y-l>1&&r)for(let b=l+1n;b<y;b++)m.onBlockNumber(b,l),l=b}(l===void 0||y>l)&&(m.onBlockNumber(y,l),l=y)}catch(y){m.onError?.(y)}},{emitOnBegin:e,interval:o}))})():(()=>{const h=ls(["watchBlockNumber",t.uid,e,r]);return zh(h,{onBlockNumber:n,onError:i},m=>{let y=!0,b=()=>y=!1;return(async()=>{try{const E=(()=>{if(t.transport.type==="fallback"){const M=t.transport.transports.find(O=>O.config.type==="webSocket"||O.config.type==="ipc");return M?M.value:t.transport}return t.transport})(),{unsubscribe:A}=await E.subscribe({params:["newHeads"],onData(M){if(!y)return;const O=Al(M.result?.number);m.onBlockNumber(O,l),l=O},onError(M){m.onError?.(M)}});b=A,y||b()}catch(E){i?.(E)}})(),()=>b()})})()}async function v8e(t,e){const{checkReplacement:r=!0,confirmations:n=1,hash:i,onReplaced:s,retryCount:o=6,retryDelay:a=({count:L})=>~~(1<<L)*200,timeout:l=18e4}=e,u=ls(["waitForTransactionReceipt",t.uid,i]),c=e.pollingInterval?e.pollingInterval:t.chain?.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval;let h,m,y,b=!1,E,A;const{promise:M,resolve:O,reject:P}=GR(),z=l?setTimeout(()=>{A?.(),E?.(),P(new e2e({hash:i}))},l):void 0;return E=zh(u,{onReplaced:s,resolve:O,reject:P},async L=>{if(y=await pr(t,Bx,"getTransactionReceipt")({hash:i}).catch(()=>{}),y&&n<=1){clearTimeout(z),L.resolve(y),E?.();return}A=pr(t,Nre,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:c,async onBlockNumber(W){const H=N=>{clearTimeout(z),A?.(),N(),E?.()};let G=W;if(!b)try{if(y){if(n>1&&(!y.blockNumber||G-y.blockNumber+1n<n))return;H(()=>L.resolve(y));return}if(r&&!h&&(b=!0,await B8(async()=>{h=await pr(t,wO,"getTransaction")({hash:i}),h.blockNumber&&(G=h.blockNumber)},{delay:a,retryCount:o}),b=!1),y=await pr(t,Bx,"getTransactionReceipt")({hash:i}),n>1&&(!y.blockNumber||G-y.blockNumber+1n<n))return;H(()=>L.resolve(y))}catch(N){if(N instanceof Qee||N instanceof Jee){if(!h){b=!1;return}try{m=h,b=!0;const F=await B8(()=>pr(t,vd,"getBlock")({blockNumber:G,includeTransactions:!0}),{delay:a,retryCount:o,shouldRetry:({error:_})=>_ instanceof hre});b=!1;const U=F.transactions.find(({from:_,nonce:d})=>_===m.from&&d===m.nonce);if(!U||(y=await pr(t,Bx,"getTransactionReceipt")({hash:U.hash}),n>1&&(!y.blockNumber||G-y.blockNumber+1n<n)))return;let j="replaced";U.to===m.to&&U.value===m.value&&U.input===m.input?j="repriced":U.from===U.to&&U.value===0n&&(j="cancelled"),H(()=>{L.onReplaced?.({reason:j,replacedTransaction:m,transaction:U,transactionReceipt:y}),L.resolve(y)})}catch(F){H(()=>L.reject(F))}}else H(()=>L.reject(N))}}})}),M}function b8e(t,{blockTag:e=t.experimental_blockTag??"latest",emitMissed:r=!1,emitOnBegin:n=!1,onBlock:i,onError:s,includeTransactions:o,poll:a,pollingInterval:l=t.pollingInterval}){const u=typeof a<"u"?a:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),c=o??!1;let h;return u?(()=>{const b=ls(["watchBlocks",t.uid,e,r,n,c,l]);return zh(b,{onBlock:i,onError:s},E=>kw(async()=>{try{const A=await pr(t,vd,"getBlock")({blockTag:e,includeTransactions:c});if(A.number!==null&&h?.number!=null){if(A.number===h.number)return;if(A.number-h.number>1&&r)for(let M=h?.number+1n;M<A.number;M++){const O=await pr(t,vd,"getBlock")({blockNumber:M,includeTransactions:c});E.onBlock(O,h),h=O}}(h?.number==null||e==="pending"&&A?.number==null||A.number!==null&&A.number>h.number)&&(E.onBlock(A,h),h=A)}catch(A){E.onError?.(A)}},{emitOnBegin:n,interval:l}))})():(()=>{let b=!0,E=!0,A=()=>b=!1;return(async()=>{try{n&&pr(t,vd,"getBlock")({blockTag:e,includeTransactions:c}).then(P=>{b&&E&&(i(P,void 0),E=!1)}).catch(s);const M=(()=>{if(t.transport.type==="fallback"){const P=t.transport.transports.find(z=>z.config.type==="webSocket"||z.config.type==="ipc");return P?P.value:t.transport}return t.transport})(),{unsubscribe:O}=await M.subscribe({params:["newHeads"],async onData(P){if(!b)return;const z=await pr(t,vd,"getBlock")({blockNumber:P.result?.number,includeTransactions:c}).catch(()=>{});b&&(i(z,h),E=!1,h=z)},onError(P){s?.(P)}});A=O,b||A()}catch(M){s?.(M)}})(),()=>A()})()}function x8e(t,{address:e,args:r,batch:n=!0,event:i,events:s,fromBlock:o,onError:a,onLogs:l,poll:u,pollingInterval:c=t.pollingInterval,strict:h}){const m=typeof u<"u"?u:typeof o=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),y=h??!1;return m?(()=>{const A=ls(["watchEvent",e,r,n,t.uid,i,c,o]);return zh(A,{onLogs:l,onError:a},M=>{let O;o!==void 0&&(O=o-1n);let P,z=!1;const L=kw(async()=>{if(!z){try{P=await pr(t,kre,"createEventFilter")({address:e,args:r,event:i,events:s,strict:y,fromBlock:o})}catch{}z=!0;return}try{let W;if(P)W=await pr(t,j_,"getFilterChanges")({filter:P});else{const H=await pr(t,T5,"getBlockNumber")({});O&&O!==H?W=await pr(t,hO,"getLogs")({address:e,args:r,event:i,events:s,fromBlock:O+1n,toBlock:H}):W=[],O=H}if(W.length===0)return;if(n)M.onLogs(W);else for(const H of W)M.onLogs([H])}catch(W){P&&W instanceof Rg&&(z=!1),M.onError?.(W)}},{emitOnBegin:!0,interval:c});return async()=>{P&&await pr(t,L_,"uninstallFilter")({filter:P}),L()}})})():(()=>{let A=!0,M=()=>A=!1;return(async()=>{try{const O=(()=>{if(t.transport.type==="fallback"){const W=t.transport.transports.find(H=>H.config.type==="webSocket"||H.config.type==="ipc");return W?W.value:t.transport}return t.transport})(),P=s??(i?[i]:void 0);let z=[];P&&(z=[P.flatMap(H=>A5({abi:[H],eventName:H.name,args:r}))],i&&(z=z[0]));const{unsubscribe:L}=await O.subscribe({params:["logs",{address:e,topics:z}],onData(W){if(!A)return;const H=W.result;try{const{eventName:G,args:N}=UR({abi:P??[],data:H.data,topics:H.topics,strict:y}),F=Uh(H,{args:N,eventName:G});l([F])}catch(G){let N,F;if(G instanceof t3||G instanceof v_){if(h)return;N=G.abiItem.name,F=G.abiItem.inputs?.some(j=>!("name"in j&&j.name))}const U=Uh(H,{args:F?[]:{},eventName:N});l([U])}},onError(W){a?.(W)}});M=L,A||M()}catch(O){a?.(O)}})(),()=>M()})()}function E8e(t,{batch:e=!0,onError:r,onTransactions:n,poll:i,pollingInterval:s=t.pollingInterval}){return(typeof i<"u"?i:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const u=ls(["watchPendingTransactions",t.uid,e,s]);return zh(u,{onTransactions:n,onError:r},c=>{let h;const m=kw(async()=>{try{if(!h)try{h=await pr(t,Ire,"createPendingTransactionFilter")({});return}catch(b){throw m(),b}const y=await pr(t,j_,"getFilterChanges")({filter:h});if(y.length===0)return;if(e)c.onTransactions(y);else for(const b of y)c.onTransactions([b])}catch(y){c.onError?.(y)}},{emitOnBegin:!0,interval:s});return async()=>{h&&await pr(t,L_,"uninstallFilter")({filter:h}),m()}})})():(()=>{let u=!0,c=()=>u=!1;return(async()=>{try{const{unsubscribe:h}=await t.transport.subscribe({params:["newPendingTransactions"],onData(m){if(!u)return;const y=m.result;n([y])},onError(m){r?.(m)}});c=h,u||c()}catch(h){r?.(h)}})(),()=>c()})()}function _8e(t){const{scheme:e,statement:r,...n}=t.match(A8e)?.groups??{},{chainId:i,expirationTime:s,issuedAt:o,notBefore:a,requestId:l,...u}=t.match(S8e)?.groups??{},c=t.split("Resources:")[1]?.split(`
- `).slice(1);return{...n,...u,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...l?{requestId:l}:{},...c?{resources:c}:{},...e?{scheme:e}:{},...r?{statement:r}:{}}}const A8e=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,S8e=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function C8e(t){const{address:e,domain:r,message:n,nonce:i,scheme:s,time:o=new Date}=t;if(r&&n.domain!==r||i&&n.nonce!==i||s&&n.scheme!==s||n.expirationTime&&o>=n.expirationTime||n.notBefore&&o<n.notBefore)return!1;try{if(!n.address||!za(n.address,{strict:!1})||e&&!S5(n.address,e))return!1}catch{return!1}return!0}async function k8e(t,e){const{address:r,domain:n,message:i,nonce:s,scheme:o,signature:a,time:l=new Date,...u}=e,c=_8e(i);if(!c.address||!C8e({address:r,domain:n,message:c,nonce:s,scheme:o,time:l}))return!1;const m=Mte(i);return B_(t,{address:c.address,hash:m,signature:a,...u})}function vO(t){return{call:e=>C_(t,e),createAccessList:e=>Cre(t,e),createBlockFilter:()=>Lxe(t),createContractEventFilter:e=>dre(t,e),createEventFilter:e=>kre(t,e),createPendingTransactionFilter:()=>Ire(t),estimateContractGas:e=>sxe(t,e),estimateGas:e=>dO(t,e),getBalance:e=>gre(t,e),getBlobBaseFee:()=>Dxe(t),getBlock:e=>vd(t,e),getBlockNumber:e=>T5(t,e),getBlockTransactionCount:e=>Bxe(t,e),getBytecode:e=>eM(t,e),getChainId:()=>Cw(t),getCode:e=>eM(t,e),getContractEvents:e=>mre(t,e),getEip712Domain:e=>Fxe(t,e),getEnsAddress:e=>xxe(t,e),getEnsAvatar:e=>Rxe(t,e),getEnsName:e=>Oxe(t,e),getEnsResolver:e=>jxe(t,e),getEnsText:e=>Sre(t,e),getFeeHistory:e=>qxe(t,e),estimateFeesPerGas:e=>ixe(t,e),getFilterChanges:e=>j_(t,e),getFilterLogs:e=>Hxe(t,e),getGasPrice:()=>uO(t),getLogs:e=>hO(t,e),getProof:e=>Gxe(t,e),estimateMaxPriorityFeePerGas:e=>nxe(t,e),getStorageAt:e=>Yxe(t,e),getTransaction:e=>wO(t,e),getTransactionConfirmations:e=>Zxe(t,e),getTransactionCount:e=>ZR(t,e),getTransactionReceipt:e=>Bx(t,e),multicall:e=>Qxe(t,e),prepareTransactionRequest:e=>O_(t,e),readContract:e=>pu(t,e),sendRawTransaction:e=>fO(t,e),simulate:e=>tM(t,e),simulateBlocks:e=>tM(t,e),simulateCalls:e=>l8e(t,e),simulateContract:e=>oxe(t,e),verifyHash:e=>B_(t,e),verifyMessage:e=>y8e(t,e),verifySiweMessage:e=>k8e(t,e),verifyTypedData:e=>w8e(t,e),uninstallFilter:e=>L_(t,e),waitForTransactionReceipt:e=>v8e(t,e),watchBlocks:e=>b8e(t,e),watchBlockNumber:e=>Nre(t,e),watchContractEvent:e=>fxe(t,e),watchEvent:e=>x8e(t,e),watchPendingTransactions:e=>E8e(t,e)}}function Wh(t){const{key:e="public",name:r="Public Client"}=t;return xre({...t,key:e,name:r,type:"publicClient"}).extend(vO)}async function I8e(t,{chain:e}){const{id:r,name:n,nativeCurrency:i,rpcUrls:s,blockExplorers:o}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:dr(r),chainName:n,nativeCurrency:i,rpcUrls:s.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function T8e(t,e){const{abi:r,args:n,bytecode:i,...s}=e,o=x_({abi:r,args:n,bytecode:i});return D_(t,{...s,...s.authorizationList?{to:null}:{},data:o})}async function $8e(t){return t.account?.type==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(r=>x5(r))}async function M8e(t,e={}){const{account:r=t.account,chainId:n}=e,i=r?Bi(r):void 0,s=n?[i?.address,[dr(n)]]:[i?.address],o=await t.request({method:"wallet_getCapabilities",params:s}),a={};for(const[l,u]of Object.entries(o)){a[Number(l)]={};for(let[c,h]of Object.entries(u))c==="addSubAccount"&&(c="unstable_addSubAccount"),a[Number(l)][c]=h}return typeof n=="number"?a[n]:a}async function P8e(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function Rre(t,e){const{account:r=t.account,chainId:n,nonce:i}=e;if(!r)throw new lm({docsPath:"/docs/eip7702/prepareAuthorization"});const s=Bi(r),o=(()=>{if(e.executor)return e.executor==="self"?e.executor:Bi(e.executor)})(),a={address:e.contractAddress??e.address,chainId:n,nonce:i};return typeof a.chainId>"u"&&(a.chainId=t.chain?.id??await pr(t,Cw,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await pr(t,ZR,"getTransactionCount")({address:s.address,blockTag:"pending"}),(o==="self"||o?.address&&S5(o.address,s.address))&&(a.nonce+=1)),a}async function N8e(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(r=>Ni(r))}async function R8e(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function O8e(t,e){const{id:r}=e;await t.request({method:"wallet_showCallsStatus",params:[r]})}async function j8e(t,e){const{account:r=t.account}=e;if(!r)throw new lm({docsPath:"/docs/eip7702/signAuthorization"});const n=Bi(r);if(!n.signAuthorization)throw new Dx({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:n.type});const i=await Rre(t,e);return n.signAuthorization(i)}async function L8e(t,{account:e=t.account,message:r}){if(!e)throw new lm({docsPath:"/docs/actions/wallet/signMessage"});const n=Bi(e);if(n.signMessage)return n.signMessage({message:r});const i=typeof r=="string"?jy(r):r.raw instanceof Uint8Array?_s(r.raw):r.raw;return t.request({method:"personal_sign",params:[i,n.address]},{retryCount:0})}async function D8e(t,e){const{account:r=t.account,chain:n=t.chain,...i}=e;if(!r)throw new lm({docsPath:"/docs/actions/wallet/signTransaction"});const s=Bi(r);am({account:s,...e});const o=await pr(t,Cw,"getChainId")({});n!==null&&Ste({currentChainId:o,chain:n});const l=(n?.formatters||t.chain?.formatters)?.transactionRequest?.format||Sw;return s.signTransaction?s.signTransaction({...i,chainId:o},{serializer:t.chain?.serializers?.transaction}):await t.request({method:"eth_signTransaction",params:[{...l(i),chainId:dr(o),from:s.address}]},{retryCount:0})}async function B8e(t,e){const{account:r=t.account,domain:n,message:i,primaryType:s}=e;if(!r)throw new lm({docsPath:"/docs/actions/wallet/signTypedData"});const o=Bi(r),a={EIP712Domain:Nte({domain:n}),...e.types};if(Pte({domain:n,message:i,primaryType:s,types:a}),o.signTypedData)return o.signTypedData({domain:n,message:i,primaryType:s,types:a});const l=Ave({domain:n,message:i,primaryType:s,types:a});return t.request({method:"eth_signTypedData_v4",params:[o.address,l]},{retryCount:0})}async function U8e(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:dr(e)}]},{retryCount:0})}async function F8e(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}function z8e(t){return{addChain:e=>I8e(t,e),deployContract:e=>T8e(t,e),getAddresses:()=>$8e(t),getCallsStatus:e=>vre(t,e),getCapabilities:e=>M8e(t,e),getChainId:()=>Cw(t),getPermissions:()=>P8e(t),prepareAuthorization:e=>Rre(t,e),prepareTransactionRequest:e=>O_(t,e),requestAddresses:()=>N8e(t),requestPermissions:e=>R8e(t,e),sendCalls:e=>mxe(t,e),sendRawTransaction:e=>fO(t,e),sendTransaction:e=>D_(t,e),showCallsStatus:e=>O8e(t,e),signAuthorization:e=>j8e(t,e),signMessage:e=>L8e(t,e),signTransaction:e=>D8e(t,e),signTypedData:e=>B8e(t,e),switchChain:e=>U8e(t,e),waitForCallsStatus:e=>yxe(t,e),watchAsset:e=>F8e(t,e),writeContract:e=>pxe(t,e)}}function Ore(t){const{key:e="wallet",name:r="Wallet Client",transport:n}=t;return xre({...t,key:e,name:r,transport:n,type:"walletClient"}).extend(z8e)}function jre({key:t,methods:e,name:r,request:n,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},l){const u=bre();return{config:{key:t,methods:e,name:r,request:n,retryCount:i,retryDelay:s,timeout:o,type:a},request:y2e(n,{methods:e,retryCount:i,retryDelay:s,uid:u}),value:l}}function Lre(t,e={}){const{key:r="custom",methods:n,name:i="Custom Provider",retryDelay:s}=e;return({retryCount:o})=>jre({key:r,methods:n,name:i,request:t.request.bind(t),retryCount:e.retryCount??o,retryDelay:s,type:"custom"})}class W8e extends ft{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function qh(t,e={}){const{batch:r,fetchFn:n,fetchOptions:i,key:s="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:l,onFetchResponse:u,retryDelay:c,raw:h}=e;return({chain:m,retryCount:y,timeout:b})=>{const{batchSize:E=1e3,wait:A=0}=typeof r=="object"?r:{},M=e.retryCount??y,O=b??e.timeout??1e4,P=t||m?.rpcUrls.default.http[0];if(!P)throw new W8e;const z=wve(P,{fetchFn:n,fetchOptions:i,onRequest:l,onResponse:u,timeout:O});return jre({key:s,methods:o,name:a,async request({method:L,params:W}){const H={method:L,params:W},{schedule:G}=_te({id:P,wait:A,shouldSplitBatch(j){return j.length>E},fn:j=>z.request({body:j}),sort:(j,_)=>j.id-_.id}),N=async j=>r?G(j):[await z.request({body:j})],[{error:F,result:U}]=await N(H);if(h)return{error:F,result:U};if(F)throw new HR({body:H,error:F,url:P});return U},retryCount:M,retryDelay:c,timeout:O,type:"http"},{fetchOptions:i,url:P})}}let q8e=class{getConfig(){return this._privyInternal.config}async getSmartWalletConfig(){return this._smartWalletConfig||(this._smartWalletConfig=await this._privyInternal.fetch(p3e,{params:{app_id:this.appId}})),this._smartWalletConfig}get appId(){return this._privyInternal.appId}constructor(e){this._privyInternal=e}};const H8e=new TextEncoder,Dre=new TextDecoder,V8e=t=>{let e=t;typeof e=="string"&&(e=H8e.encode(e));const r=32768,n=[];for(let i=0;i<e.length;i+=r)n.push(String.fromCharCode.apply(null,e.subarray(i,i+r)));return btoa(n.join(""))},K8e=t=>V8e(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),G8e=t=>{const e=atob(t),r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r},Y8e=t=>{let e=t;e instanceof Uint8Array&&(e=Dre.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return G8e(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class Z8e extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var r;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)===null||r===void 0||r.call(Error,this,this.constructor)}}class kp extends Z8e{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function Q8e(t){return typeof t=="object"&&t!==null}function J8e(t){if(!Q8e(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const Bg=K8e,X8e=Y8e;function sM(t){if(typeof t!="string")throw new kp("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:r}=t.split(".");if(r===5)throw new kp("Only JWTs using Compact JWS serialization can be decoded");if(r!==3)throw new kp("Invalid JWT");if(!e)throw new kp("JWTs must contain a payload");let n;try{n=X8e(e)}catch{throw new kp("Failed to base64url decode the payload")}let i;try{i=JSON.parse(Dre.decode(n))}catch{throw new kp("Failed to parse the decoded payload as JSON")}if(!J8e(i))throw new kp("Invalid JWT Claims Set");return i}let Hv=class Bre{static parse(e){try{return new Bre(e)}catch{return null}}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=sM(e)}},Ure=class oM{async updateOnCrossAppAuthentication(e,r){let n=r.access_token,i=oM.providerAccessTokenStorageKey(e);await this._storage.put(i,n)}async getProviderAccessToken(e){let r=oM.providerAccessTokenStorageKey(e),n=await this._storage.get(r);if(typeof n!="string")return null;try{if(new Hv(n).isExpired())throw Error("JWT is expired");return n}catch{return await this._storage.del(r),null}}async getCrossAppConnections(){return await this._privyInternal.fetch(Tbe,{params:{app_id:this._privyInternal.appId}})}constructor(e,r){this._privyInternal=e,this._storage=r}};Ure.providerAccessTokenStorageKey=t=>`privy:cross-app:${t}`;let eEe=class{async revoke(){await this._privyInternal.fetch(C3e,{})}constructor(e){this._privyInternal=e}};function tEe(t,e){return{...t,rpcUrls:{...t.rpcUrls,privy:{http:[e]}}}}const yc={id:42161,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-mainnet.rpc.privy.systems"]},alchemy:{http:["https://arb-mainnet.g.alchemy.com/v2"],webSocket:["wss://arb-mainnet.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-mainnet.infura.io/v3"],webSocket:["wss://arbitrum-mainnet.infura.io/ws/v3"]},default:{http:["https://arb1.arbitrum.io/rpc"]},public:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://arbiscan.io"},default:{name:"Arbiscan",url:"https://arbiscan.io"}}},U_={id:421614,name:"Arbitrum Sepolia",network:"arbitrum-sepolia",nativeCurrency:{name:"Arbitrum Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia-rollup.arbitrum.io/rpc"]},public:{http:["https://sepolia-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://sepolia-explorer.arbitrum.io"}},testnet:!0},Iw={id:43114,name:"Avalanche",network:"avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]},public:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://snowtrace.io"},default:{name:"SnowTrace",url:"https://snowtrace.io"}}},bO={id:43113,name:"Avalanche Fuji",network:"avalanche-fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]},public:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://testnet.snowtrace.io"},default:{name:"SnowTrace",url:"https://testnet.snowtrace.io"}},testnet:!0},wc={id:8453,network:"base",name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-mainnet.rpc.privy.systems"]},blast:{http:["https://base-mainnet.blastapi.io"],webSocket:["wss://base-mainnet.blastapi.io"]},default:{http:["https://mainnet.base.org"]},public:{http:["https://mainnet.base.org"]}},blockExplorers:{etherscan:{name:"Basescan",url:"https://basescan.org"},default:{name:"Basescan",url:"https://basescan.org"}}},F_={id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.base.org"]},public:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://base-sepolia.blockscout.com"}},testnet:!0},rEe={id:80085,network:"berachain-artio",name:"Berachain Artio",nativeCurrency:{name:"BERA",symbol:"BERA",decimals:18},rpcUrls:{default:{http:["https://berachain-artio.rpc.privy.systems"]},public:{http:["https://berachain-artio.rpc.privy.systems"]}},blockExplorers:{default:{name:"Beratrail",url:"https://artio.beratrail.io"}},testnet:!0},z_={id:42220,name:"Celo Mainnet",network:"celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]},infura:{http:["https://celo-mainnet.infura.io/v3"]},public:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/mainnet"},etherscan:{name:"CeloScan",url:"https://celoscan.io"}},testnet:!1},nEe={id:44787,name:"Celo Alfajores Testnet",network:"celo-alfajores",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://alfajores-forno.celo-testnet.org"]},infura:{http:["https://celo-alfajores.infura.io/v3"]},public:{http:["https://alfajores-forno.celo-testnet.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/alfajores"},etherscan:{name:"CeloScan",url:"https://alfajores.celoscan.io/"}},testnet:!0},iEe={id:314,name:"Filecoin - Mainnet",network:"filecoin-mainnet",nativeCurrency:{decimals:18,name:"filecoin",symbol:"FIL"},rpcUrls:{default:{http:["https://api.node.glif.io/rpc/v1"]},public:{http:["https://api.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filfox",url:"https://filfox.info/en"},filscan:{name:"Filscan",url:"https://filscan.io"},filscout:{name:"Filscout",url:"https://filscout.io/en"},glif:{name:"Glif",url:"https://explorer.glif.io"}}},sEe={id:314159,name:"Filecoin - Calibration testnet",network:"filecoin-calibration",nativeCurrency:{decimals:18,name:"testnet filecoin",symbol:"tFIL"},rpcUrls:{default:{http:["https://api.calibration.node.glif.io/rpc/v1"]},public:{http:["https://api.calibration.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filscan",url:"https://calibration.filscan.io"}}},oEe={id:17069,name:"Garnet Holesky",network:"garnet-holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.garnetchain.com"]},public:{http:["https://rpc.garnetchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.garnetchain.com"}}},aEe={id:17e3,name:"Holesky",network:"holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://ethereum-holesky.publicnode.com"]},public:{http:["https://ethereum-holesky.publicnode.com"]}},blockExplorers:{etherscan:{name:"EtherScan",url:"https://holesky.etherscan.io"},default:{name:"EtherScan",url:"https://holesky.etherscan.io"}}},Fre={id:59144,network:"linea-mainnet",name:"Linea Mainnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]},public:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://lineascan.build"},etherscan:{name:"Etherscan",url:"https://lineascan.build"}},testnet:!1},lEe={id:59140,network:"linea-testnet",name:"Linea Goerli Testnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{infura:{http:["https://linea-goerli.infura.io/v3"],webSocket:["wss://linea-goerli.infura.io/ws/v3"]},default:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]},public:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli.lineascan.build"},etherscan:{name:"Etherscan",url:"https://goerli.lineascan.build"}},testnet:!0},cEe={id:42,network:"lukso",name:"LUKSO",nativeCurrency:{name:"LUKSO",symbol:"LYX",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.lukso.network"],webSocket:["wss://ws-rpc.mainnet.lukso.network"]}},blockExplorers:{default:{name:"LUKSO Mainnet Explorer",url:"https://explorer.execution.mainnet.lukso.network"}}},vc={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://mainnet.rpc.privy.systems"]},alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}}},Nd={id:10,name:"OP Mainnet",network:"optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-mainnet.rpc.privy.systems"]},alchemy:{http:["https://opt-mainnet.g.alchemy.com/v2"],webSocket:["wss://opt-mainnet.g.alchemy.com/v2"]},infura:{http:["https://optimism-mainnet.infura.io/v3"],webSocket:["wss://optimism-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.optimism.io"]},public:{http:["https://mainnet.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://optimistic.etherscan.io"},default:{name:"Optimism Explorer",url:"https://explorer.optimism.io"}}},W_={id:11155420,name:"Optimism Sepolia",network:"optimism-sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.optimism.io"]},public:{http:["https://sepolia.optimism.io"]},infura:{http:["https://optimism-sepolia.infura.io/v3"]}},blockExplorers:{default:{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com"}},testnet:!0},Ka={id:137,name:"Polygon Mainnet",network:"polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-mainnet.rpc.privy.systems"]},alchemy:{http:["https://polygon-mainnet.g.alchemy.com/v2"],webSocket:["wss://polygon-mainnet.g.alchemy.com/v2"]},infura:{http:["https://polygon-mainnet.infura.io/v3"],webSocket:["wss://polygon-mainnet.infura.io/ws/v3"]},default:{http:["https://polygon-rpc.com"]},public:{http:["https://polygon-rpc.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://polygonscan.com"},default:{name:"PolygonScan",url:"https://polygonscan.com"}}},$5={id:80002,name:"Polygon Amoy",network:"polygon-amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-amoy.rpc.privy.systems"]},infura:{http:["https://polygon-amoy.infura.io/v3"],webSocket:["wss://polygon-amoy.infura.io/ws/v3"]},default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"OK LINK",url:"https://www.oklink.com/amoy"}},testnet:!0},uEe={id:690,name:"Redstone",network:"redstone",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.redstonechain.com"]},public:{http:["https://rpc.redstonechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.redstone.xyz/"}}},xO={id:11155111,network:"sepolia",name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"SEP",decimals:18},rpcUrls:{privy:{http:["https://sepolia.rpc.privy.systems"]},alchemy:{http:["https://eth-sepolia.g.alchemy.com/v2"],webSocket:["wss://eth-sepolia.g.alchemy.com/v2"]},infura:{http:["https://sepolia.infura.io/v3"],webSocket:["wss://sepolia.infura.io/ws/v3"]},default:{http:["https://rpc.sepolia.org"]},public:{http:["https://rpc.sepolia.org"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://sepolia.etherscan.io"},default:{name:"Etherscan",url:"https://sepolia.etherscan.io"}},testnet:!0},EO={id:7777777,name:"Zora",network:"zora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]},public:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.zora.energy"}}},zre={id:999999999,name:"Zora Sepolia",network:"zora-sepolia",nativeCurrency:{decimals:18,name:"Zora Sepolia",symbol:"ETH"},rpcUrls:{default:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]},public:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]}},blockExplorers:{default:{name:"Zora Sepolia Explorer",url:"https://sepolia.explorer.zora.energy/"}},testnet:!0},Wre={id:999,name:"Zora Goerli Testnet",network:"zora-testnet",nativeCurrency:{decimals:18,name:"Zora Goerli",symbol:"ETH"},rpcUrls:{default:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]},public:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://testnet.explorer.zora.energy"}},testnet:!0},M5=[vc,xO,aEe,yc,U_,Nd,W_,Ka,$5,z_,nEe,iEe,sEe,wc,F_,rEe,cEe,Fre,lEe,Iw,bO,EO,Wre,zre,uEe,oEe],qre=new Set(M5.map((t=>t.id)));function _O(t){let e=t.filter((r=>!qre.has(r.id)));return M5.concat(e)}const Hre=t=>t.map((e=>{if(e.rpcUrls.privyWalletOverride)return e;let r=M5.find((i=>i.id===e.id)),n=r?.rpcUrls.privy?.http[0];return n?tEe(e,n):e}));let VS=class extends Error{constructor({error:e,code:r}){super(e),this.error=e,this.code=r}},_n=class extends Error{constructor({error:e,code:r}){super(e),this.code=r,this.error=e}},dEe=class extends Error{constructor({error:e,code:r,response:n}){super(e),this.code=r,this.error=e,this.response=n}};const w0=t=>!!t.id&&t.recovery_method==="privy-v2";let hEe=class{async sign({message:e}){return await this.request({method:"sign",params:{message:new TextDecoder("utf8").decode(e)}})}async signTransaction({psbt:e}){return await this.request({method:"signTransaction",params:{psbt:e}})}async request(e){if(w0(this._account))throw new _n({code:"unsupported_wallet_type",error:"Bitcoin wallet providers are only supported for on-device execution and this app uses TEE execution. Use the useSignRawHash hook from @privy-io/expo/extended-chains to sign over a hash with this wallet. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide"});if(!await this._privyInternal.getAccessToken())throw new _n({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return this.handleIFrameRpc(e)}async handleIFrameRpc(e){try{let r=await this._privyInternal.getAccessToken();if(!r)throw Error("Missing access token. User must be authenticated.");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),(await this._proxy.rpcWallet({accessToken:r,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:this._account.chain_type})).response.data}catch(r){console.error(r);let n=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:n}),new _n({code:"embedded_wallet_request_error",error:n})}}toJSON(){return`PrivyEmbeddedBitcoinProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:r,account:n,entropyId:i,entropyIdVerifier:s}){this._proxy=e,this._privyInternal=r,this._account=n,this._entropyId=i,this._entropyIdVerifier=s}};const fEe=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","mfa_timeout","missing_or_invalid_mfa","mfa_verification_max_attempts_reached"];var fa;(fa={}).MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",fa.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",fa.INVALID_DATA="invalid_data",fa.LINKED_TO_ANOTHER_USER="linked_to_another_user",fa.ALLOWLIST_REJECTED="allowlist_rejected",fa.OAUTH_USER_DENIED="oauth_user_denied",fa.UNKNOWN_AUTH_ERROR="unknown_auth_error",fa.USER_EXITED_AUTH_FLOW="exited_auth_flow",fa.MUST_BE_AUTHENTICATED="must_be_authenticated",fa.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",fa.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",fa.CLIENT_REQUEST_TIMEOUT="client_request_timeout",fa.INVALID_CREDENTIALS="invalid_credentials";let pEe=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,r,n){super(e),r instanceof Error&&(this.cause=r),this.privyErrorCode=n}},Ux=class extends Error{constructor(e,r){super(r),this.type=e}},Vre=class extends pEe{constructor(e,r,n){super(e,r,n),this.type="connector_error"}},Pz=class extends Error{constructor(e,r,n){super(e),this.code=r,this.data=n}};const Xc={UNKNOWN_ERROR:{eipCode:0,message:"Unknown error",detail:"Unknown error",retryable:!0},E4001_DEFAULT_USER_REJECTED_REQUEST:{eipCode:4001,message:"User Rejected Request",detail:"The user rejected the request.",default:!0,retryable:!0},E4100_DEFAULT_UNAUTHORIZED:{eipCode:4100,message:"Unauthorized",detail:"The requested method and/or account has not been authorized by the user.",default:!0,retryable:!1},E4200_DEFAULT_UNSUPPORTED_METHOD:{eipCode:4200,message:"Unsupported Method",detail:"The Provider does not support the requested method.",default:!0,retryable:!1},E4900_DEFAULT_DISCONNECTED:{eipCode:4900,message:"Disconnected",detail:"The Provider is disconnected from all chains.",default:!0,retryable:!0},E4901_DEFAULT_CHAIN_DISCONNECTED:{eipCode:4901,message:"Chain Disconnected",detail:"The Provider is not connected to the requested chain.",default:!0,retryable:!0},E32700_DEFAULT_PARSE_ERROR:{eipCode:-32700,message:"Parse error",detail:"Invalid JSON",default:!0,retryable:!1},E32600_DEFAULT_INVALID_REQUEST:{eipCode:-32600,message:"Invalid request",detail:"JSON is not a valid request object",default:!0,retryable:!1},E32601_DEFAULT_METHOD_NOT_FOUND:{eipCode:-32601,message:"Method not found",detail:"Method does not exist",default:!0,retryable:!1},E32602_DEFAULT_INVALID_PARAMS:{eipCode:-32602,message:"Invalid params",detail:"Invalid method parameters",default:!0,retryable:!1},E32603_DEFAULT_INTERNAL_ERROR:{eipCode:-32603,message:"Internal error",detail:"Internal JSON-RPC error",default:!0,retryable:!0},E32000_DEFAULT_INVALID_INPUT:{eipCode:-32e3,message:"Invalid input",detail:"Missing or invalid parameters",default:!0,retryable:!1},E32001_DEFAULT_RESOURCE_NOT_FOUND:{eipCode:-32001,message:"Resource not found",detail:"Requested resource not found",default:!0,retryable:!1},E32002_DEFAULT_RESOURCE_UNAVAILABLE:{eipCode:-32002,message:"Resource unavailable",detail:"Requested resource not available",default:!0,retryable:!0},E32003_DEFAULT_TRANSACTION_REJECTED:{eipCode:-32003,message:"Transaction rejected",detail:"Transaction creation failed",default:!0,retryable:!0},E32004_DEFAULT_METHOD_NOT_SUPPORTED:{eipCode:-32004,message:"Method not supported",detail:"Method is not implemented",default:!0,retryable:!1},E32005_DEFAULT_LIMIT_EXCEEDED:{eipCode:-32005,message:"Limit exceeded",detail:"Request exceeds defined limit",default:!0,retryable:!1},E32006_DEFAULT_JSON_RPC_VERSION_NOT_SUPPORTED:{eipCode:-32006,message:"JSON-RPC version not supported",detail:"Version of JSON-RPC protocol is not supported",default:!0,retryable:!1},E32002_CONNECTION_ALREADY_PENDING:{eipCode:-32002,message:"Connection request already pending",detail:"Don’t see your wallet? Check your other browser windows.",retryable:!1},E32002_REQUEST_ALREADY_PENDING:{eipCode:-32002,message:"Resource request already pending",detail:"Don’t see your wallet? Check your other browser windows.",retryable:!1},E32002_WALLET_LOCKED:{eipCode:-32002,message:"Wallet might be locked",detail:"Don’t see your wallet? Check your other browser windows.",retryable:!1},E4001_USER_REJECTED_REQUEST:{eipCode:4001,message:"Signature rejected",detail:"Please try signing again.",retryable:!0}};function gEe(t){let e=t.type;return typeof e=="string"&&fEe.includes(e)}function AO(t){return gEe(t)&&t.type==="wallet_not_on_device"}async function aM(t,{request:e}){return await t.fetchPrivyRoute(S3e,{body:e})}async function KS({context:t,chainType:e}){return{wallet:await aM(t,{request:{chain_type:e,owner_id:void 0}})}}const mEe="logger/5.8.0";let Nz=!1,Rz=!1;const Fx={debug:1,default:2,info:2,warning:3,error:4,off:5};let Oz=Fx.default,GS=null;function yEe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("é".normalize("NFD")!=="é")throw new Error("broken implementation")}catch(t){return t.message}return null}const jz=yEe();var lM;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(lM||(lM={}));var Yc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Yc||(Yc={}));const Lz="0123456789abcdef";class st{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Fx[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(Oz>Fx[n])&&console.log.apply(console,r)}debug(...e){this._log(st.levels.DEBUG,e)}info(...e){this._log(st.levels.INFO,e)}warn(...e){this._log(st.levels.WARNING,e)}makeError(e,r,n){if(Rz)return this.makeError("censored error",r,{});r||(r=st.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(l=>{const u=n[l];try{if(u instanceof Uint8Array){let c="";for(let h=0;h<u.length;h++)c+=Lz[u[h]>>4],c+=Lz[u[h]&15];i.push(l+"=Uint8Array(0x"+c+")")}else i.push(l+"="+JSON.stringify(u))}catch{i.push(l+"="+JSON.stringify(n[l].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Yc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":o+="-"+l;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Yc.CALL_EXCEPTION:case Yc.INSUFFICIENT_FUNDS:case Yc.MISSING_NEW:case Yc.NONCE_EXPIRED:case Yc.REPLACEMENT_UNDERPRICED:case Yc.TRANSACTION_REPLACED:case Yc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(l){a[l]=n[l]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,st.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){jz&&this.throwError("platform missing String.prototype.normalize",st.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:jz})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,st.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,st.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,st.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,st.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",st.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",st.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",st.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return GS||(GS=new st(mEe)),GS}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",st.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Nz){if(!e)return;this.globalLogger().throwError("error censorship permanent",st.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Rz=!!e,Nz=!!r}static setLogLevel(e){const r=Fx[e.toLowerCase()];if(r==null){st.globalLogger().warn("invalid log level - "+e);return}Oz=r}static from(e){return new st(e)}}st.errors=Yc;st.levels=lM;const wEe="properties/5.8.0";var vEe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const W8=new st(wEe);function Xr(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function Vv(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function zs(t){return vEe(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function bEe(t,e){(!t||typeof t!="object")&&W8.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||W8.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function Na(t){const e={};for(const r in t)e[r]=t[r];return e}const xEe={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Kre(t){if(t==null||xEe[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!Kre(n))return!1}return!0}return W8.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function EEe(t){if(Kre(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>j3(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&Xr(e,r,j3(n))}return e}return W8.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function j3(t){return EEe(t)}class _Ee{constructor(e){for(const r in e)this[r]=j3(e[r])}}const AEe="abstract-signer/5.8.0";var Mc=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Yl=new st(AEe),SEe=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],CEe=[st.errors.INSUFFICIENT_FUNDS,st.errors.NONCE_EXPIRED,st.errors.REPLACEMENT_UNDERPRICED];class q_{constructor(){Yl.checkAbstract(new.target,q_),Xr(this,"_isSigner",!0)}getBalance(e){return Mc(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Mc(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Mc(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield zs(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return Mc(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield zs(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return Mc(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return Mc(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Mc(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Mc(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return Mc(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)SEe.indexOf(n)===-1&&Yl.throwArgumentError("invalid transaction key: "+n,"transaction",e);const r=Na(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&Yl.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return Mc(this,void 0,void 0,function*(){const r=yield zs(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>Mc(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&Yl.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),r.to.catch(i=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?Yl.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&Yl.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const s=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=s,r.maxPriorityFeePerGas=s}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&Yl.throwError("network does not support EIP-1559",st.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):Yl.throwError("failed to get consistent fee data",st.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(CEe.indexOf(i.code)>=0)throw i;return Yl.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",st.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&Yl.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield zs(r)})}_checkProvider(e){this.provider||Yl.throwError("missing provider",st.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class SO extends q_{constructor(e,r){super(),Xr(this,"address",e),Xr(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{Yl.throwError(e,st.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new SO(this.address,e)}}var zx={exports:{}},YS={},Dz;function Tw(){return Dz||(Dz=1,(function(t){Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var e={},r={};r.byteLength=c,r.toByteArray=m,r.fromByteArray=E;for(var n=[],i=[],s=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=o.length;a<l;++a)n[a]=o[a],i[o.charCodeAt(a)]=a;i[45]=62,i[95]=63;function u(O){var P=O.length;if(P%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var z=O.indexOf("=");z===-1&&(z=P);var L=z===P?0:4-z%4;return[z,L]}function c(O){var P=u(O),z=P[0],L=P[1];return(z+L)*3/4-L}function h(O,P,z){return(P+z)*3/4-z}function m(O){var P,z=u(O),L=z[0],W=z[1],H=new s(h(O,L,W)),G=0,N=W>0?L-4:L,F;for(F=0;F<N;F+=4)P=i[O.charCodeAt(F)]<<18|i[O.charCodeAt(F+1)]<<12|i[O.charCodeAt(F+2)]<<6|i[O.charCodeAt(F+3)],H[G++]=P>>16&255,H[G++]=P>>8&255,H[G++]=P&255;return W===2&&(P=i[O.charCodeAt(F)]<<2|i[O.charCodeAt(F+1)]>>4,H[G++]=P&255),W===1&&(P=i[O.charCodeAt(F)]<<10|i[O.charCodeAt(F+1)]<<4|i[O.charCodeAt(F+2)]>>2,H[G++]=P>>8&255,H[G++]=P&255),H}function y(O){return n[O>>18&63]+n[O>>12&63]+n[O>>6&63]+n[O&63]}function b(O,P,z){for(var L,W=[],H=P;H<z;H+=3)L=(O[H]<<16&16711680)+(O[H+1]<<8&65280)+(O[H+2]&255),W.push(y(L));return W.join("")}function E(O){for(var P,z=O.length,L=z%3,W=[],H=16383,G=0,N=z-L;G<N;G+=H)W.push(b(O,G,G+H>N?N:G+H));return L===1?(P=O[z-1],W.push(n[P>>2]+n[P<<4&63]+"==")):L===2&&(P=(O[z-2]<<8)+O[z-1],W.push(n[P>>10]+n[P>>4&63]+n[P<<2&63]+"=")),W.join("")}var A={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */A.read=function(O,P,z,L,W){var H,G,N=W*8-L-1,F=(1<<N)-1,U=F>>1,j=-7,_=z?W-1:0,d=z?-1:1,g=O[P+_];for(_+=d,H=g&(1<<-j)-1,g>>=-j,j+=N;j>0;H=H*256+O[P+_],_+=d,j-=8);for(G=H&(1<<-j)-1,H>>=-j,j+=L;j>0;G=G*256+O[P+_],_+=d,j-=8);if(H===0)H=1-U;else{if(H===F)return G?NaN:(g?-1:1)*(1/0);G=G+Math.pow(2,L),H=H-U}return(g?-1:1)*G*Math.pow(2,H-L)},A.write=function(O,P,z,L,W,H){var G,N,F,U=H*8-W-1,j=(1<<U)-1,_=j>>1,d=W===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=L?0:H-1,x=L?1:-1,C=P<0||P===0&&1/P<0?1:0;for(P=Math.abs(P),isNaN(P)||P===1/0?(N=isNaN(P)?1:0,G=j):(G=Math.floor(Math.log(P)/Math.LN2),P*(F=Math.pow(2,-G))<1&&(G--,F*=2),G+_>=1?P+=d/F:P+=d*Math.pow(2,1-_),P*F>=2&&(G++,F/=2),G+_>=j?(N=0,G=j):G+_>=1?(N=(P*F-1)*Math.pow(2,W),G=G+_):(N=P*Math.pow(2,_-1)*Math.pow(2,W),G=0));W>=8;O[z+g]=N&255,g+=x,N/=256,W-=8);for(G=G<<W|N,U+=W;U>0;O[z+g]=G&255,g+=x,G/=256,U-=8);O[z+g-x]|=C*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(O){const P=r,z=A,L=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;O.Buffer=j,O.SlowBuffer=S,O.INSPECT_MAX_BYTES=50;const W=2147483647;O.kMaxLength=W;const{Uint8Array:H,ArrayBuffer:G,SharedArrayBuffer:N}=globalThis;j.TYPED_ARRAY_SUPPORT=F(),!j.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function F(){try{const Y=new H(1),V={foo:function(){return 42}};return Object.setPrototypeOf(V,H.prototype),Object.setPrototypeOf(Y,V),Y.foo()===42}catch{return!1}}Object.defineProperty(j.prototype,"parent",{enumerable:!0,get:function(){if(j.isBuffer(this))return this.buffer}}),Object.defineProperty(j.prototype,"offset",{enumerable:!0,get:function(){if(j.isBuffer(this))return this.byteOffset}});function U(Y){if(Y>W)throw new RangeError('The value "'+Y+'" is invalid for option "size"');const V=new H(Y);return Object.setPrototypeOf(V,j.prototype),V}function j(Y,V,Z){if(typeof Y=="number"){if(typeof V=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(Y)}return _(Y,V,Z)}j.poolSize=8192;function _(Y,V,Z){if(typeof Y=="string")return C(Y,V);if(G.isView(Y))return T(Y);if(Y==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Y);if(hr(Y,G)||Y&&hr(Y.buffer,G)||typeof N<"u"&&(hr(Y,N)||Y&&hr(Y.buffer,N)))return R(Y,V,Z);if(typeof Y=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const te=Y.valueOf&&Y.valueOf();if(te!=null&&te!==Y)return j.from(te,V,Z);const ae=I(Y);if(ae)return ae;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Y[Symbol.toPrimitive]=="function")return j.from(Y[Symbol.toPrimitive]("string"),V,Z);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Y)}j.from=function(Y,V,Z){return _(Y,V,Z)},Object.setPrototypeOf(j.prototype,H.prototype),Object.setPrototypeOf(j,H);function d(Y){if(typeof Y!="number")throw new TypeError('"size" argument must be of type number');if(Y<0)throw new RangeError('The value "'+Y+'" is invalid for option "size"')}function g(Y,V,Z){return d(Y),Y<=0?U(Y):V!==void 0?typeof Z=="string"?U(Y).fill(V,Z):U(Y).fill(V):U(Y)}j.alloc=function(Y,V,Z){return g(Y,V,Z)};function x(Y){return d(Y),U(Y<0?0:f(Y)|0)}j.allocUnsafe=function(Y){return x(Y)},j.allocUnsafeSlow=function(Y){return x(Y)};function C(Y,V){if((typeof V!="string"||V==="")&&(V="utf8"),!j.isEncoding(V))throw new TypeError("Unknown encoding: "+V);const Z=K(Y,V)|0;let te=U(Z);const ae=te.write(Y,V);return ae!==Z&&(te=te.slice(0,ae)),te}function k(Y){const V=Y.length<0?0:f(Y.length)|0,Z=U(V);for(let te=0;te<V;te+=1)Z[te]=Y[te]&255;return Z}function T(Y){if(hr(Y,H)){const V=new H(Y);return R(V.buffer,V.byteOffset,V.byteLength)}return k(Y)}function R(Y,V,Z){if(V<0||Y.byteLength<V)throw new RangeError('"offset" is outside of buffer bounds');if(Y.byteLength<V+(Z||0))throw new RangeError('"length" is outside of buffer bounds');let te;return V===void 0&&Z===void 0?te=new H(Y):Z===void 0?te=new H(Y,V):te=new H(Y,V,Z),Object.setPrototypeOf(te,j.prototype),te}function I(Y){if(j.isBuffer(Y)){const V=f(Y.length)|0,Z=U(V);return Z.length===0||Y.copy(Z,0,0,V),Z}if(Y.length!==void 0)return typeof Y.length!="number"||Fe(Y.length)?U(0):k(Y);if(Y.type==="Buffer"&&Array.isArray(Y.data))return k(Y.data)}function f(Y){if(Y>=W)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+W.toString(16)+" bytes");return Y|0}function S(Y){return+Y!=Y&&(Y=0),j.alloc(+Y)}j.isBuffer=function(V){return V!=null&&V._isBuffer===!0&&V!==j.prototype},j.compare=function(V,Z){if(hr(V,H)&&(V=j.from(V,V.offset,V.byteLength)),hr(Z,H)&&(Z=j.from(Z,Z.offset,Z.byteLength)),!j.isBuffer(V)||!j.isBuffer(Z))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(V===Z)return 0;let te=V.length,ae=Z.length;for(let le=0,de=Math.min(te,ae);le<de;++le)if(V[le]!==Z[le]){te=V[le],ae=Z[le];break}return te<ae?-1:ae<te?1:0},j.isEncoding=function(V){switch(String(V).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},j.concat=function(V,Z){if(!Array.isArray(V))throw new TypeError('"list" argument must be an Array of Buffers');if(V.length===0)return j.alloc(0);let te;if(Z===void 0)for(Z=0,te=0;te<V.length;++te)Z+=V[te].length;const ae=j.allocUnsafe(Z);let le=0;for(te=0;te<V.length;++te){let de=V[te];if(hr(de,H))le+de.length>ae.length?(j.isBuffer(de)||(de=j.from(de)),de.copy(ae,le)):H.prototype.set.call(ae,de,le);else if(j.isBuffer(de))de.copy(ae,le);else throw new TypeError('"list" argument must be an Array of Buffers');le+=de.length}return ae};function K(Y,V){if(j.isBuffer(Y))return Y.length;if(G.isView(Y)||hr(Y,G))return Y.byteLength;if(typeof Y!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Y);const Z=Y.length,te=arguments.length>2&&arguments[2]===!0;if(!te&&Z===0)return 0;let ae=!1;for(;;)switch(V){case"ascii":case"latin1":case"binary":return Z;case"utf8":case"utf-8":return Pe(Y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z*2;case"hex":return Z>>>1;case"base64":return Oe(Y).length;default:if(ae)return te?-1:Pe(Y).length;V=(""+V).toLowerCase(),ae=!0}}j.byteLength=K;function D(Y,V,Z){let te=!1;if((V===void 0||V<0)&&(V=0),V>this.length||((Z===void 0||Z>this.length)&&(Z=this.length),Z<=0)||(Z>>>=0,V>>>=0,Z<=V))return"";for(Y||(Y="utf8");;)switch(Y){case"hex":return Ie(this,V,Z);case"utf8":case"utf-8":return je(this,V,Z);case"ascii":return Le(this,V,Z);case"latin1":case"binary":return Mt(this,V,Z);case"base64":return Ce(this,V,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Me(this,V,Z);default:if(te)throw new TypeError("Unknown encoding: "+Y);Y=(Y+"").toLowerCase(),te=!0}}j.prototype._isBuffer=!0;function J(Y,V,Z){const te=Y[V];Y[V]=Y[Z],Y[Z]=te}j.prototype.swap16=function(){const V=this.length;if(V%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Z=0;Z<V;Z+=2)J(this,Z,Z+1);return this},j.prototype.swap32=function(){const V=this.length;if(V%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Z=0;Z<V;Z+=4)J(this,Z,Z+3),J(this,Z+1,Z+2);return this},j.prototype.swap64=function(){const V=this.length;if(V%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Z=0;Z<V;Z+=8)J(this,Z,Z+7),J(this,Z+1,Z+6),J(this,Z+2,Z+5),J(this,Z+3,Z+4);return this},j.prototype.toString=function(){const V=this.length;return V===0?"":arguments.length===0?je(this,0,V):D.apply(this,arguments)},j.prototype.toLocaleString=j.prototype.toString,j.prototype.equals=function(V){if(!j.isBuffer(V))throw new TypeError("Argument must be a Buffer");return this===V?!0:j.compare(this,V)===0},j.prototype.inspect=function(){let V="";const Z=O.INSPECT_MAX_BYTES;return V=this.toString("hex",0,Z).replace(/(.{2})/g,"$1 ").trim(),this.length>Z&&(V+=" ... "),"<Buffer "+V+">"},L&&(j.prototype[L]=j.prototype.inspect),j.prototype.compare=function(V,Z,te,ae,le){if(hr(V,H)&&(V=j.from(V,V.offset,V.byteLength)),!j.isBuffer(V))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof V);if(Z===void 0&&(Z=0),te===void 0&&(te=V?V.length:0),ae===void 0&&(ae=0),le===void 0&&(le=this.length),Z<0||te>V.length||ae<0||le>this.length)throw new RangeError("out of range index");if(ae>=le&&Z>=te)return 0;if(ae>=le)return-1;if(Z>=te)return 1;if(Z>>>=0,te>>>=0,ae>>>=0,le>>>=0,this===V)return 0;let de=le-ae,Ze=te-Z;const Be=Math.min(de,Ze),He=this.slice(ae,le),qt=V.slice(Z,te);for(let Ge=0;Ge<Be;++Ge)if(He[Ge]!==qt[Ge]){de=He[Ge],Ze=qt[Ge];break}return de<Ze?-1:Ze<de?1:0};function ne(Y,V,Z,te,ae){if(Y.length===0)return-1;if(typeof Z=="string"?(te=Z,Z=0):Z>2147483647?Z=2147483647:Z<-2147483648&&(Z=-2147483648),Z=+Z,Fe(Z)&&(Z=ae?0:Y.length-1),Z<0&&(Z=Y.length+Z),Z>=Y.length){if(ae)return-1;Z=Y.length-1}else if(Z<0)if(ae)Z=0;else return-1;if(typeof V=="string"&&(V=j.from(V,te)),j.isBuffer(V))return V.length===0?-1:ie(Y,V,Z,te,ae);if(typeof V=="number")return V=V&255,typeof H.prototype.indexOf=="function"?ae?H.prototype.indexOf.call(Y,V,Z):H.prototype.lastIndexOf.call(Y,V,Z):ie(Y,[V],Z,te,ae);throw new TypeError("val must be string, number or Buffer")}function ie(Y,V,Z,te,ae){let le=1,de=Y.length,Ze=V.length;if(te!==void 0&&(te=String(te).toLowerCase(),te==="ucs2"||te==="ucs-2"||te==="utf16le"||te==="utf-16le")){if(Y.length<2||V.length<2)return-1;le=2,de/=2,Ze/=2,Z/=2}function Be(qt,Ge){return le===1?qt[Ge]:qt.readUInt16BE(Ge*le)}let He;if(ae){let qt=-1;for(He=Z;He<de;He++)if(Be(Y,He)===Be(V,qt===-1?0:He-qt)){if(qt===-1&&(qt=He),He-qt+1===Ze)return qt*le}else qt!==-1&&(He-=He-qt),qt=-1}else for(Z+Ze>de&&(Z=de-Ze),He=Z;He>=0;He--){let qt=!0;for(let Ge=0;Ge<Ze;Ge++)if(Be(Y,He+Ge)!==Be(V,Ge)){qt=!1;break}if(qt)return He}return-1}j.prototype.includes=function(V,Z,te){return this.indexOf(V,Z,te)!==-1},j.prototype.indexOf=function(V,Z,te){return ne(this,V,Z,te,!0)},j.prototype.lastIndexOf=function(V,Z,te){return ne(this,V,Z,te,!1)};function ce(Y,V,Z,te){Z=Number(Z)||0;const ae=Y.length-Z;te?(te=Number(te),te>ae&&(te=ae)):te=ae;const le=V.length;te>le/2&&(te=le/2);let de;for(de=0;de<te;++de){const Ze=parseInt(V.substr(de*2,2),16);if(Fe(Ze))return de;Y[Z+de]=Ze}return de}function Se(Y,V,Z,te){return nt(Pe(V,Y.length-Z),Y,Z,te)}function ye(Y,V,Z,te){return nt(Ye(V),Y,Z,te)}function Ae(Y,V,Z,te){return nt(Oe(V),Y,Z,te)}function tt(Y,V,Z,te){return nt(Ut(V,Y.length-Z),Y,Z,te)}j.prototype.write=function(V,Z,te,ae){if(Z===void 0)ae="utf8",te=this.length,Z=0;else if(te===void 0&&typeof Z=="string")ae=Z,te=this.length,Z=0;else if(isFinite(Z))Z=Z>>>0,isFinite(te)?(te=te>>>0,ae===void 0&&(ae="utf8")):(ae=te,te=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const le=this.length-Z;if((te===void 0||te>le)&&(te=le),V.length>0&&(te<0||Z<0)||Z>this.length)throw new RangeError("Attempt to write outside buffer bounds");ae||(ae="utf8");let de=!1;for(;;)switch(ae){case"hex":return ce(this,V,Z,te);case"utf8":case"utf-8":return Se(this,V,Z,te);case"ascii":case"latin1":case"binary":return ye(this,V,Z,te);case"base64":return Ae(this,V,Z,te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return tt(this,V,Z,te);default:if(de)throw new TypeError("Unknown encoding: "+ae);ae=(""+ae).toLowerCase(),de=!0}},j.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ce(Y,V,Z){return V===0&&Z===Y.length?P.fromByteArray(Y):P.fromByteArray(Y.slice(V,Z))}function je(Y,V,Z){Z=Math.min(Y.length,Z);const te=[];let ae=V;for(;ae<Z;){const le=Y[ae];let de=null,Ze=le>239?4:le>223?3:le>191?2:1;if(ae+Ze<=Z){let Be,He,qt,Ge;switch(Ze){case 1:le<128&&(de=le);break;case 2:Be=Y[ae+1],(Be&192)===128&&(Ge=(le&31)<<6|Be&63,Ge>127&&(de=Ge));break;case 3:Be=Y[ae+1],He=Y[ae+2],(Be&192)===128&&(He&192)===128&&(Ge=(le&15)<<12|(Be&63)<<6|He&63,Ge>2047&&(Ge<55296||Ge>57343)&&(de=Ge));break;case 4:Be=Y[ae+1],He=Y[ae+2],qt=Y[ae+3],(Be&192)===128&&(He&192)===128&&(qt&192)===128&&(Ge=(le&15)<<18|(Be&63)<<12|(He&63)<<6|qt&63,Ge>65535&&Ge<1114112&&(de=Ge))}}de===null?(de=65533,Ze=1):de>65535&&(de-=65536,te.push(de>>>10&1023|55296),de=56320|de&1023),te.push(de),ae+=Ze}return pe(te)}const mt=4096;function pe(Y){const V=Y.length;if(V<=mt)return String.fromCharCode.apply(String,Y);let Z="",te=0;for(;te<V;)Z+=String.fromCharCode.apply(String,Y.slice(te,te+=mt));return Z}function Le(Y,V,Z){let te="";Z=Math.min(Y.length,Z);for(let ae=V;ae<Z;++ae)te+=String.fromCharCode(Y[ae]&127);return te}function Mt(Y,V,Z){let te="";Z=Math.min(Y.length,Z);for(let ae=V;ae<Z;++ae)te+=String.fromCharCode(Y[ae]);return te}function Ie(Y,V,Z){const te=Y.length;(!V||V<0)&&(V=0),(!Z||Z<0||Z>te)&&(Z=te);let ae="";for(let le=V;le<Z;++le)ae+=ct[Y[le]];return ae}function Me(Y,V,Z){const te=Y.slice(V,Z);let ae="";for(let le=0;le<te.length-1;le+=2)ae+=String.fromCharCode(te[le]+te[le+1]*256);return ae}j.prototype.slice=function(V,Z){const te=this.length;V=~~V,Z=Z===void 0?te:~~Z,V<0?(V+=te,V<0&&(V=0)):V>te&&(V=te),Z<0?(Z+=te,Z<0&&(Z=0)):Z>te&&(Z=te),Z<V&&(Z=V);const ae=this.subarray(V,Z);return Object.setPrototypeOf(ae,j.prototype),ae};function ht(Y,V,Z){if(Y%1!==0||Y<0)throw new RangeError("offset is not uint");if(Y+V>Z)throw new RangeError("Trying to access beyond buffer length")}j.prototype.readUintLE=j.prototype.readUIntLE=function(V,Z,te){V=V>>>0,Z=Z>>>0,te||ht(V,Z,this.length);let ae=this[V],le=1,de=0;for(;++de<Z&&(le*=256);)ae+=this[V+de]*le;return ae},j.prototype.readUintBE=j.prototype.readUIntBE=function(V,Z,te){V=V>>>0,Z=Z>>>0,te||ht(V,Z,this.length);let ae=this[V+--Z],le=1;for(;Z>0&&(le*=256);)ae+=this[V+--Z]*le;return ae},j.prototype.readUint8=j.prototype.readUInt8=function(V,Z){return V=V>>>0,Z||ht(V,1,this.length),this[V]},j.prototype.readUint16LE=j.prototype.readUInt16LE=function(V,Z){return V=V>>>0,Z||ht(V,2,this.length),this[V]|this[V+1]<<8},j.prototype.readUint16BE=j.prototype.readUInt16BE=function(V,Z){return V=V>>>0,Z||ht(V,2,this.length),this[V]<<8|this[V+1]},j.prototype.readUint32LE=j.prototype.readUInt32LE=function(V,Z){return V=V>>>0,Z||ht(V,4,this.length),(this[V]|this[V+1]<<8|this[V+2]<<16)+this[V+3]*16777216},j.prototype.readUint32BE=j.prototype.readUInt32BE=function(V,Z){return V=V>>>0,Z||ht(V,4,this.length),this[V]*16777216+(this[V+1]<<16|this[V+2]<<8|this[V+3])},j.prototype.readBigUInt64LE=Nr(function(V){V=V>>>0,ge(V,"offset");const Z=this[V],te=this[V+7];(Z===void 0||te===void 0)&&fe(V,this.length-8);const ae=Z+this[++V]*2**8+this[++V]*2**16+this[++V]*2**24,le=this[++V]+this[++V]*2**8+this[++V]*2**16+te*2**24;return BigInt(ae)+(BigInt(le)<<BigInt(32))}),j.prototype.readBigUInt64BE=Nr(function(V){V=V>>>0,ge(V,"offset");const Z=this[V],te=this[V+7];(Z===void 0||te===void 0)&&fe(V,this.length-8);const ae=Z*2**24+this[++V]*2**16+this[++V]*2**8+this[++V],le=this[++V]*2**24+this[++V]*2**16+this[++V]*2**8+te;return(BigInt(ae)<<BigInt(32))+BigInt(le)}),j.prototype.readIntLE=function(V,Z,te){V=V>>>0,Z=Z>>>0,te||ht(V,Z,this.length);let ae=this[V],le=1,de=0;for(;++de<Z&&(le*=256);)ae+=this[V+de]*le;return le*=128,ae>=le&&(ae-=Math.pow(2,8*Z)),ae},j.prototype.readIntBE=function(V,Z,te){V=V>>>0,Z=Z>>>0,te||ht(V,Z,this.length);let ae=Z,le=1,de=this[V+--ae];for(;ae>0&&(le*=256);)de+=this[V+--ae]*le;return le*=128,de>=le&&(de-=Math.pow(2,8*Z)),de},j.prototype.readInt8=function(V,Z){return V=V>>>0,Z||ht(V,1,this.length),this[V]&128?(255-this[V]+1)*-1:this[V]},j.prototype.readInt16LE=function(V,Z){V=V>>>0,Z||ht(V,2,this.length);const te=this[V]|this[V+1]<<8;return te&32768?te|4294901760:te},j.prototype.readInt16BE=function(V,Z){V=V>>>0,Z||ht(V,2,this.length);const te=this[V+1]|this[V]<<8;return te&32768?te|4294901760:te},j.prototype.readInt32LE=function(V,Z){return V=V>>>0,Z||ht(V,4,this.length),this[V]|this[V+1]<<8|this[V+2]<<16|this[V+3]<<24},j.prototype.readInt32BE=function(V,Z){return V=V>>>0,Z||ht(V,4,this.length),this[V]<<24|this[V+1]<<16|this[V+2]<<8|this[V+3]},j.prototype.readBigInt64LE=Nr(function(V){V=V>>>0,ge(V,"offset");const Z=this[V],te=this[V+7];(Z===void 0||te===void 0)&&fe(V,this.length-8);const ae=this[V+4]+this[V+5]*2**8+this[V+6]*2**16+(te<<24);return(BigInt(ae)<<BigInt(32))+BigInt(Z+this[++V]*2**8+this[++V]*2**16+this[++V]*2**24)}),j.prototype.readBigInt64BE=Nr(function(V){V=V>>>0,ge(V,"offset");const Z=this[V],te=this[V+7];(Z===void 0||te===void 0)&&fe(V,this.length-8);const ae=(Z<<24)+this[++V]*2**16+this[++V]*2**8+this[++V];return(BigInt(ae)<<BigInt(32))+BigInt(this[++V]*2**24+this[++V]*2**16+this[++V]*2**8+te)}),j.prototype.readFloatLE=function(V,Z){return V=V>>>0,Z||ht(V,4,this.length),z.read(this,V,!0,23,4)},j.prototype.readFloatBE=function(V,Z){return V=V>>>0,Z||ht(V,4,this.length),z.read(this,V,!1,23,4)},j.prototype.readDoubleLE=function(V,Z){return V=V>>>0,Z||ht(V,8,this.length),z.read(this,V,!0,52,8)},j.prototype.readDoubleBE=function(V,Z){return V=V>>>0,Z||ht(V,8,this.length),z.read(this,V,!1,52,8)};function Je(Y,V,Z,te,ae,le){if(!j.isBuffer(Y))throw new TypeError('"buffer" argument must be a Buffer instance');if(V>ae||V<le)throw new RangeError('"value" argument is out of bounds');if(Z+te>Y.length)throw new RangeError("Index out of range")}j.prototype.writeUintLE=j.prototype.writeUIntLE=function(V,Z,te,ae){if(V=+V,Z=Z>>>0,te=te>>>0,!ae){const Ze=Math.pow(2,8*te)-1;Je(this,V,Z,te,Ze,0)}let le=1,de=0;for(this[Z]=V&255;++de<te&&(le*=256);)this[Z+de]=V/le&255;return Z+te},j.prototype.writeUintBE=j.prototype.writeUIntBE=function(V,Z,te,ae){if(V=+V,Z=Z>>>0,te=te>>>0,!ae){const Ze=Math.pow(2,8*te)-1;Je(this,V,Z,te,Ze,0)}let le=te-1,de=1;for(this[Z+le]=V&255;--le>=0&&(de*=256);)this[Z+le]=V/de&255;return Z+te},j.prototype.writeUint8=j.prototype.writeUInt8=function(V,Z,te){return V=+V,Z=Z>>>0,te||Je(this,V,Z,1,255,0),this[Z]=V&255,Z+1},j.prototype.writeUint16LE=j.prototype.writeUInt16LE=function(V,Z,te){return V=+V,Z=Z>>>0,te||Je(this,V,Z,2,65535,0),this[Z]=V&255,this[Z+1]=V>>>8,Z+2},j.prototype.writeUint16BE=j.prototype.writeUInt16BE=function(V,Z,te){return V=+V,Z=Z>>>0,te||Je(this,V,Z,2,65535,0),this[Z]=V>>>8,this[Z+1]=V&255,Z+2},j.prototype.writeUint32LE=j.prototype.writeUInt32LE=function(V,Z,te){return V=+V,Z=Z>>>0,te||Je(this,V,Z,4,4294967295,0),this[Z+3]=V>>>24,this[Z+2]=V>>>16,this[Z+1]=V>>>8,this[Z]=V&255,Z+4},j.prototype.writeUint32BE=j.prototype.writeUInt32BE=function(V,Z,te){return V=+V,Z=Z>>>0,te||Je(this,V,Z,4,4294967295,0),this[Z]=V>>>24,this[Z+1]=V>>>16,this[Z+2]=V>>>8,this[Z+3]=V&255,Z+4};function De(Y,V,Z,te,ae){oe(V,te,ae,Y,Z,7);let le=Number(V&BigInt(4294967295));Y[Z++]=le,le=le>>8,Y[Z++]=le,le=le>>8,Y[Z++]=le,le=le>>8,Y[Z++]=le;let de=Number(V>>BigInt(32)&BigInt(4294967295));return Y[Z++]=de,de=de>>8,Y[Z++]=de,de=de>>8,Y[Z++]=de,de=de>>8,Y[Z++]=de,Z}function At(Y,V,Z,te,ae){oe(V,te,ae,Y,Z,7);let le=Number(V&BigInt(4294967295));Y[Z+7]=le,le=le>>8,Y[Z+6]=le,le=le>>8,Y[Z+5]=le,le=le>>8,Y[Z+4]=le;let de=Number(V>>BigInt(32)&BigInt(4294967295));return Y[Z+3]=de,de=de>>8,Y[Z+2]=de,de=de>>8,Y[Z+1]=de,de=de>>8,Y[Z]=de,Z+8}j.prototype.writeBigUInt64LE=Nr(function(V,Z=0){return De(this,V,Z,BigInt(0),BigInt("0xffffffffffffffff"))}),j.prototype.writeBigUInt64BE=Nr(function(V,Z=0){return At(this,V,Z,BigInt(0),BigInt("0xffffffffffffffff"))}),j.prototype.writeIntLE=function(V,Z,te,ae){if(V=+V,Z=Z>>>0,!ae){const Be=Math.pow(2,8*te-1);Je(this,V,Z,te,Be-1,-Be)}let le=0,de=1,Ze=0;for(this[Z]=V&255;++le<te&&(de*=256);)V<0&&Ze===0&&this[Z+le-1]!==0&&(Ze=1),this[Z+le]=(V/de>>0)-Ze&255;return Z+te},j.prototype.writeIntBE=function(V,Z,te,ae){if(V=+V,Z=Z>>>0,!ae){const Be=Math.pow(2,8*te-1);Je(this,V,Z,te,Be-1,-Be)}let le=te-1,de=1,Ze=0;for(this[Z+le]=V&255;--le>=0&&(de*=256);)V<0&&Ze===0&&this[Z+le+1]!==0&&(Ze=1),this[Z+le]=(V/de>>0)-Ze&255;return Z+te},j.prototype.writeInt8=function(V,Z,te){return V=+V,Z=Z>>>0,te||Je(this,V,Z,1,127,-128),V<0&&(V=255+V+1),this[Z]=V&255,Z+1},j.prototype.writeInt16LE=function(V,Z,te){return V=+V,Z=Z>>>0,te||Je(this,V,Z,2,32767,-32768),this[Z]=V&255,this[Z+1]=V>>>8,Z+2},j.prototype.writeInt16BE=function(V,Z,te){return V=+V,Z=Z>>>0,te||Je(this,V,Z,2,32767,-32768),this[Z]=V>>>8,this[Z+1]=V&255,Z+2},j.prototype.writeInt32LE=function(V,Z,te){return V=+V,Z=Z>>>0,te||Je(this,V,Z,4,2147483647,-2147483648),this[Z]=V&255,this[Z+1]=V>>>8,this[Z+2]=V>>>16,this[Z+3]=V>>>24,Z+4},j.prototype.writeInt32BE=function(V,Z,te){return V=+V,Z=Z>>>0,te||Je(this,V,Z,4,2147483647,-2147483648),V<0&&(V=4294967295+V+1),this[Z]=V>>>24,this[Z+1]=V>>>16,this[Z+2]=V>>>8,this[Z+3]=V&255,Z+4},j.prototype.writeBigInt64LE=Nr(function(V,Z=0){return De(this,V,Z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),j.prototype.writeBigInt64BE=Nr(function(V,Z=0){return At(this,V,Z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function it(Y,V,Z,te,ae,le){if(Z+te>Y.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("Index out of range")}function et(Y,V,Z,te,ae){return V=+V,Z=Z>>>0,ae||it(Y,V,Z,4),z.write(Y,V,Z,te,23,4),Z+4}j.prototype.writeFloatLE=function(V,Z,te){return et(this,V,Z,!0,te)},j.prototype.writeFloatBE=function(V,Z,te){return et(this,V,Z,!1,te)};function St(Y,V,Z,te,ae){return V=+V,Z=Z>>>0,ae||it(Y,V,Z,8),z.write(Y,V,Z,te,52,8),Z+8}j.prototype.writeDoubleLE=function(V,Z,te){return St(this,V,Z,!0,te)},j.prototype.writeDoubleBE=function(V,Z,te){return St(this,V,Z,!1,te)},j.prototype.copy=function(V,Z,te,ae){if(!j.isBuffer(V))throw new TypeError("argument should be a Buffer");if(te||(te=0),!ae&&ae!==0&&(ae=this.length),Z>=V.length&&(Z=V.length),Z||(Z=0),ae>0&&ae<te&&(ae=te),ae===te||V.length===0||this.length===0)return 0;if(Z<0)throw new RangeError("targetStart out of bounds");if(te<0||te>=this.length)throw new RangeError("Index out of range");if(ae<0)throw new RangeError("sourceEnd out of bounds");ae>this.length&&(ae=this.length),V.length-Z<ae-te&&(ae=V.length-Z+te);const le=ae-te;return this===V&&typeof H.prototype.copyWithin=="function"?this.copyWithin(Z,te,ae):H.prototype.set.call(V,this.subarray(te,ae),Z),le},j.prototype.fill=function(V,Z,te,ae){if(typeof V=="string"){if(typeof Z=="string"?(ae=Z,Z=0,te=this.length):typeof te=="string"&&(ae=te,te=this.length),ae!==void 0&&typeof ae!="string")throw new TypeError("encoding must be a string");if(typeof ae=="string"&&!j.isEncoding(ae))throw new TypeError("Unknown encoding: "+ae);if(V.length===1){const de=V.charCodeAt(0);(ae==="utf8"&&de<128||ae==="latin1")&&(V=de)}}else typeof V=="number"?V=V&255:typeof V=="boolean"&&(V=Number(V));if(Z<0||this.length<Z||this.length<te)throw new RangeError("Out of range index");if(te<=Z)return this;Z=Z>>>0,te=te===void 0?this.length:te>>>0,V||(V=0);let le;if(typeof V=="number")for(le=Z;le<te;++le)this[le]=V;else{const de=j.isBuffer(V)?V:j.from(V,ae),Ze=de.length;if(Ze===0)throw new TypeError('The value "'+V+'" is invalid for argument "value"');for(le=0;le<te-Z;++le)this[le+Z]=de[le%Ze]}return this};const Xe={};function se(Y,V,Z){Xe[Y]=class extends Z{constructor(){super(),Object.defineProperty(this,"message",{value:V.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Y}]`,this.stack,delete this.name}get code(){return Y}set code(ae){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ae,writable:!0})}toString(){return`${this.name} [${Y}]: ${this.message}`}}}se("ERR_BUFFER_OUT_OF_BOUNDS",function(Y){return Y?`${Y} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),se("ERR_INVALID_ARG_TYPE",function(Y,V){return`The "${Y}" argument must be of type number. Received type ${typeof V}`},TypeError),se("ERR_OUT_OF_RANGE",function(Y,V,Z){let te=`The value of "${Y}" is out of range.`,ae=Z;return Number.isInteger(Z)&&Math.abs(Z)>2**32?ae=X(String(Z)):typeof Z=="bigint"&&(ae=String(Z),(Z>BigInt(2)**BigInt(32)||Z<-(BigInt(2)**BigInt(32)))&&(ae=X(ae)),ae+="n"),te+=` It must be ${V}. Received ${ae}`,te},RangeError);function X(Y){let V="",Z=Y.length;const te=Y[0]==="-"?1:0;for(;Z>=te+4;Z-=3)V=`_${Y.slice(Z-3,Z)}${V}`;return`${Y.slice(0,Z)}${V}`}function ee(Y,V,Z){ge(V,"offset"),(Y[V]===void 0||Y[V+Z]===void 0)&&fe(V,Y.length-(Z+1))}function oe(Y,V,Z,te,ae,le){if(Y>Z||Y<V){const de=typeof V=="bigint"?"n":"";let Ze;throw V===0||V===BigInt(0)?Ze=`>= 0${de} and < 2${de} ** ${(le+1)*8}${de}`:Ze=`>= -(2${de} ** ${(le+1)*8-1}${de}) and < 2 ** ${(le+1)*8-1}${de}`,new Xe.ERR_OUT_OF_RANGE("value",Ze,Y)}ee(te,ae,le)}function ge(Y,V){if(typeof Y!="number")throw new Xe.ERR_INVALID_ARG_TYPE(V,"number",Y)}function fe(Y,V,Z){throw Math.floor(Y)!==Y?(ge(Y,Z),new Xe.ERR_OUT_OF_RANGE("offset","an integer",Y)):V<0?new Xe.ERR_BUFFER_OUT_OF_BOUNDS:new Xe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${V}`,Y)}const ve=/[^+/0-9A-Za-z-_]/g;function ut(Y){if(Y=Y.split("=")[0],Y=Y.trim().replace(ve,""),Y.length<2)return"";for(;Y.length%4!==0;)Y=Y+"=";return Y}function Pe(Y,V){V=V||1/0;let Z;const te=Y.length;let ae=null;const le=[];for(let de=0;de<te;++de){if(Z=Y.charCodeAt(de),Z>55295&&Z<57344){if(!ae){if(Z>56319){(V-=3)>-1&&le.push(239,191,189);continue}else if(de+1===te){(V-=3)>-1&&le.push(239,191,189);continue}ae=Z;continue}if(Z<56320){(V-=3)>-1&&le.push(239,191,189),ae=Z;continue}Z=(ae-55296<<10|Z-56320)+65536}else ae&&(V-=3)>-1&&le.push(239,191,189);if(ae=null,Z<128){if((V-=1)<0)break;le.push(Z)}else if(Z<2048){if((V-=2)<0)break;le.push(Z>>6|192,Z&63|128)}else if(Z<65536){if((V-=3)<0)break;le.push(Z>>12|224,Z>>6&63|128,Z&63|128)}else if(Z<1114112){if((V-=4)<0)break;le.push(Z>>18|240,Z>>12&63|128,Z>>6&63|128,Z&63|128)}else throw new Error("Invalid code point")}return le}function Ye(Y){const V=[];for(let Z=0;Z<Y.length;++Z)V.push(Y.charCodeAt(Z)&255);return V}function Ut(Y,V){let Z,te,ae;const le=[];for(let de=0;de<Y.length&&!((V-=2)<0);++de)Z=Y.charCodeAt(de),te=Z>>8,ae=Z%256,le.push(ae),le.push(te);return le}function Oe(Y){return P.toByteArray(ut(Y))}function nt(Y,V,Z,te){let ae;for(ae=0;ae<te&&!(ae+Z>=V.length||ae>=Y.length);++ae)V[ae+Z]=Y[ae];return ae}function hr(Y,V){return Y instanceof V||Y!=null&&Y.constructor!=null&&Y.constructor.name!=null&&Y.constructor.name===V.name}function Fe(Y){return Y!==Y}const ct=(function(){const Y="0123456789abcdef",V=new Array(256);for(let Z=0;Z<16;++Z){const te=Z*16;for(let ae=0;ae<16;++ae)V[te+ae]=Y[Z]+Y[ae]}return V})();function Nr(Y){return typeof BigInt>"u"?dt:Y}function dt(){throw new Error("BigInt not supported")}})(e);const M=e.Buffer;t.Blob=e.Blob,t.BlobOptions=e.BlobOptions,t.Buffer=e.Buffer,t.File=e.File,t.FileOptions=e.FileOptions,t.INSPECT_MAX_BYTES=e.INSPECT_MAX_BYTES,t.SlowBuffer=e.SlowBuffer,t.TranscodeEncoding=e.TranscodeEncoding,t.atob=e.atob,t.btoa=e.btoa,t.constants=e.constants,t.default=M,t.isAscii=e.isAscii,t.isUtf8=e.isUtf8,t.kMaxLength=e.kMaxLength,t.kStringMaxLength=e.kStringMaxLength,t.resolveObjectURL=e.resolveObjectURL,t.transcode=e.transcode})(YS)),YS}var kEe=zx.exports,Bz;function IEe(){return Bz||(Bz=1,(function(t){(function(e,r){function n(_,d){if(!_)throw new Error(d||"Assertion failed")}function i(_,d){_.super_=d;var g=function(){};g.prototype=d.prototype,_.prototype=new g,_.prototype.constructor=_}function s(_,d,g){if(s.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&((d==="le"||d==="be")&&(g=d,d=10),this._init(_||0,d||10,g||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Tw().Buffer}catch{}s.isBN=function(d){return d instanceof s?!0:d!==null&&typeof d=="object"&&d.constructor.wordSize===s.wordSize&&Array.isArray(d.words)},s.max=function(d,g){return d.cmp(g)>0?d:g},s.min=function(d,g){return d.cmp(g)<0?d:g},s.prototype._init=function(d,g,x){if(typeof d=="number")return this._initNumber(d,g,x);if(typeof d=="object")return this._initArray(d,g,x);g==="hex"&&(g=16),n(g===(g|0)&&g>=2&&g<=36),d=d.toString().replace(/\s+/g,"");var C=0;d[0]==="-"&&(C++,this.negative=1),C<d.length&&(g===16?this._parseHex(d,C,x):(this._parseBase(d,g,C),x==="le"&&this._initArray(this.toArray(),g,x)))},s.prototype._initNumber=function(d,g,x){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[d&67108863],this.length=1):d<4503599627370496?(this.words=[d&67108863,d/67108864&67108863],this.length=2):(n(d<9007199254740992),this.words=[d&67108863,d/67108864&67108863,1],this.length=3),x==="le"&&this._initArray(this.toArray(),g,x)},s.prototype._initArray=function(d,g,x){if(n(typeof d.length=="number"),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var k,T,R=0;if(x==="be")for(C=d.length-1,k=0;C>=0;C-=3)T=d[C]|d[C-1]<<8|d[C-2]<<16,this.words[k]|=T<<R&67108863,this.words[k+1]=T>>>26-R&67108863,R+=24,R>=26&&(R-=26,k++);else if(x==="le")for(C=0,k=0;C<d.length;C+=3)T=d[C]|d[C+1]<<8|d[C+2]<<16,this.words[k]|=T<<R&67108863,this.words[k+1]=T>>>26-R&67108863,R+=24,R>=26&&(R-=26,k++);return this._strip()};function a(_,d){var g=_.charCodeAt(d);if(g>=48&&g<=57)return g-48;if(g>=65&&g<=70)return g-55;if(g>=97&&g<=102)return g-87;n(!1,"Invalid character in "+_)}function l(_,d,g){var x=a(_,g);return g-1>=d&&(x|=a(_,g-1)<<4),x}s.prototype._parseHex=function(d,g,x){this.length=Math.ceil((d.length-g)/6),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var k=0,T=0,R;if(x==="be")for(C=d.length-1;C>=g;C-=2)R=l(d,g,C)<<k,this.words[T]|=R&67108863,k>=18?(k-=18,T+=1,this.words[T]|=R>>>26):k+=8;else{var I=d.length-g;for(C=I%2===0?g+1:g;C<d.length;C+=2)R=l(d,g,C)<<k,this.words[T]|=R&67108863,k>=18?(k-=18,T+=1,this.words[T]|=R>>>26):k+=8}this._strip()};function u(_,d,g,x){for(var C=0,k=0,T=Math.min(_.length,g),R=d;R<T;R++){var I=_.charCodeAt(R)-48;C*=x,I>=49?k=I-49+10:I>=17?k=I-17+10:k=I,n(I>=0&&k<x,"Invalid character"),C+=k}return C}s.prototype._parseBase=function(d,g,x){this.words=[0],this.length=1;for(var C=0,k=1;k<=67108863;k*=g)C++;C--,k=k/g|0;for(var T=d.length-x,R=T%C,I=Math.min(T,T-R)+x,f=0,S=x;S<I;S+=C)f=u(d,S,S+C,g),this.imuln(k),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(R!==0){var K=1;for(f=u(d,S,d.length,g),S=0;S<R;S++)K*=g;this.imuln(K),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},s.prototype.copy=function(d){d.words=new Array(this.length);for(var g=0;g<this.length;g++)d.words[g]=this.words[g];d.length=this.length,d.negative=this.negative,d.red=this.red};function c(_,d){_.words=d.words,_.length=d.length,_.negative=d.negative,_.red=d.red}if(s.prototype._move=function(d){c(d,this)},s.prototype.clone=function(){var d=new s(null);return this.copy(d),d},s.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{s.prototype.inspect=h}else s.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(d,g){d=d||10,g=g|0||1;var x;if(d===16||d==="hex"){x="";for(var C=0,k=0,T=0;T<this.length;T++){var R=this.words[T],I=((R<<C|k)&16777215).toString(16);k=R>>>24-C&16777215,C+=2,C>=26&&(C-=26,T--),k!==0||T!==this.length-1?x=m[6-I.length]+I+x:x=I+x}for(k!==0&&(x=k.toString(16)+x);x.length%g!==0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}if(d===(d|0)&&d>=2&&d<=36){var f=y[d],S=b[d];x="";var K=this.clone();for(K.negative=0;!K.isZero();){var D=K.modrn(S).toString(d);K=K.idivn(S),K.isZero()?x=D+x:x=m[f-D.length]+D+x}for(this.isZero()&&(x="0"+x);x.length%g!==0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var d=this.words[0];return this.length===2?d+=this.words[1]*67108864:this.length===3&&this.words[2]===1?d+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-d:d},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(d,g){return this.toArrayLike(o,d,g)}),s.prototype.toArray=function(d,g){return this.toArrayLike(Array,d,g)};var E=function(d,g){return d.allocUnsafe?d.allocUnsafe(g):new d(g)};s.prototype.toArrayLike=function(d,g,x){this._strip();var C=this.byteLength(),k=x||Math.max(1,C);n(C<=k,"byte array longer than desired length"),n(k>0,"Requested array length <= 0");var T=E(d,k),R=g==="le"?"LE":"BE";return this["_toArrayLike"+R](T,C),T},s.prototype._toArrayLikeLE=function(d,g){for(var x=0,C=0,k=0,T=0;k<this.length;k++){var R=this.words[k]<<T|C;d[x++]=R&255,x<d.length&&(d[x++]=R>>8&255),x<d.length&&(d[x++]=R>>16&255),T===6?(x<d.length&&(d[x++]=R>>24&255),C=0,T=0):(C=R>>>24,T+=2)}if(x<d.length)for(d[x++]=C;x<d.length;)d[x++]=0},s.prototype._toArrayLikeBE=function(d,g){for(var x=d.length-1,C=0,k=0,T=0;k<this.length;k++){var R=this.words[k]<<T|C;d[x--]=R&255,x>=0&&(d[x--]=R>>8&255),x>=0&&(d[x--]=R>>16&255),T===6?(x>=0&&(d[x--]=R>>24&255),C=0,T=0):(C=R>>>24,T+=2)}if(x>=0)for(d[x--]=C;x>=0;)d[x--]=0},Math.clz32?s.prototype._countBits=function(d){return 32-Math.clz32(d)}:s.prototype._countBits=function(d){var g=d,x=0;return g>=4096&&(x+=13,g>>>=13),g>=64&&(x+=7,g>>>=7),g>=8&&(x+=4,g>>>=4),g>=2&&(x+=2,g>>>=2),x+g},s.prototype._zeroBits=function(d){if(d===0)return 26;var g=d,x=0;return(g&8191)===0&&(x+=13,g>>>=13),(g&127)===0&&(x+=7,g>>>=7),(g&15)===0&&(x+=4,g>>>=4),(g&3)===0&&(x+=2,g>>>=2),(g&1)===0&&x++,x},s.prototype.bitLength=function(){var d=this.words[this.length-1],g=this._countBits(d);return(this.length-1)*26+g};function A(_){for(var d=new Array(_.bitLength()),g=0;g<d.length;g++){var x=g/26|0,C=g%26;d[g]=_.words[x]>>>C&1}return d}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,g=0;g<this.length;g++){var x=this._zeroBits(this.words[g]);if(d+=x,x!==26)break}return d},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(d){return this.negative!==0?this.abs().inotn(d).iaddn(1):this.clone()},s.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var g=0;g<d.length;g++)this.words[g]=this.words[g]|d.words[g];return this._strip()},s.prototype.ior=function(d){return n((this.negative|d.negative)===0),this.iuor(d)},s.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},s.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},s.prototype.iuand=function(d){var g;this.length>d.length?g=d:g=this;for(var x=0;x<g.length;x++)this.words[x]=this.words[x]&d.words[x];return this.length=g.length,this._strip()},s.prototype.iand=function(d){return n((this.negative|d.negative)===0),this.iuand(d)},s.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},s.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},s.prototype.iuxor=function(d){var g,x;this.length>d.length?(g=this,x=d):(g=d,x=this);for(var C=0;C<x.length;C++)this.words[C]=g.words[C]^x.words[C];if(this!==g)for(;C<g.length;C++)this.words[C]=g.words[C];return this.length=g.length,this._strip()},s.prototype.ixor=function(d){return n((this.negative|d.negative)===0),this.iuxor(d)},s.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},s.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},s.prototype.inotn=function(d){n(typeof d=="number"&&d>=0);var g=Math.ceil(d/26)|0,x=d%26;this._expand(g),x>0&&g--;for(var C=0;C<g;C++)this.words[C]=~this.words[C]&67108863;return x>0&&(this.words[C]=~this.words[C]&67108863>>26-x),this._strip()},s.prototype.notn=function(d){return this.clone().inotn(d)},s.prototype.setn=function(d,g){n(typeof d=="number"&&d>=0);var x=d/26|0,C=d%26;return this._expand(x+1),g?this.words[x]=this.words[x]|1<<C:this.words[x]=this.words[x]&~(1<<C),this._strip()},s.prototype.iadd=function(d){var g;if(this.negative!==0&&d.negative===0)return this.negative=0,g=this.isub(d),this.negative^=1,this._normSign();if(this.negative===0&&d.negative!==0)return d.negative=0,g=this.isub(d),d.negative=1,g._normSign();var x,C;this.length>d.length?(x=this,C=d):(x=d,C=this);for(var k=0,T=0;T<C.length;T++)g=(x.words[T]|0)+(C.words[T]|0)+k,this.words[T]=g&67108863,k=g>>>26;for(;k!==0&&T<x.length;T++)g=(x.words[T]|0)+k,this.words[T]=g&67108863,k=g>>>26;if(this.length=x.length,k!==0)this.words[this.length]=k,this.length++;else if(x!==this)for(;T<x.length;T++)this.words[T]=x.words[T];return this},s.prototype.add=function(d){var g;return d.negative!==0&&this.negative===0?(d.negative=0,g=this.sub(d),d.negative^=1,g):d.negative===0&&this.negative!==0?(this.negative=0,g=d.sub(this),this.negative=1,g):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},s.prototype.isub=function(d){if(d.negative!==0){d.negative=0;var g=this.iadd(d);return d.negative=1,g._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var x=this.cmp(d);if(x===0)return this.negative=0,this.length=1,this.words[0]=0,this;var C,k;x>0?(C=this,k=d):(C=d,k=this);for(var T=0,R=0;R<k.length;R++)g=(C.words[R]|0)-(k.words[R]|0)+T,T=g>>26,this.words[R]=g&67108863;for(;T!==0&&R<C.length;R++)g=(C.words[R]|0)+T,T=g>>26,this.words[R]=g&67108863;if(T===0&&R<C.length&&C!==this)for(;R<C.length;R++)this.words[R]=C.words[R];return this.length=Math.max(this.length,R),C!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(d){return this.clone().isub(d)};function M(_,d,g){g.negative=d.negative^_.negative;var x=_.length+d.length|0;g.length=x,x=x-1|0;var C=_.words[0]|0,k=d.words[0]|0,T=C*k,R=T&67108863,I=T/67108864|0;g.words[0]=R;for(var f=1;f<x;f++){for(var S=I>>>26,K=I&67108863,D=Math.min(f,d.length-1),J=Math.max(0,f-_.length+1);J<=D;J++){var ne=f-J|0;C=_.words[ne]|0,k=d.words[J]|0,T=C*k+K,S+=T/67108864|0,K=T&67108863}g.words[f]=K|0,I=S|0}return I!==0?g.words[f]=I|0:g.length--,g._strip()}var O=function(d,g,x){var C=d.words,k=g.words,T=x.words,R=0,I,f,S,K=C[0]|0,D=K&8191,J=K>>>13,ne=C[1]|0,ie=ne&8191,ce=ne>>>13,Se=C[2]|0,ye=Se&8191,Ae=Se>>>13,tt=C[3]|0,Ce=tt&8191,je=tt>>>13,mt=C[4]|0,pe=mt&8191,Le=mt>>>13,Mt=C[5]|0,Ie=Mt&8191,Me=Mt>>>13,ht=C[6]|0,Je=ht&8191,De=ht>>>13,At=C[7]|0,it=At&8191,et=At>>>13,St=C[8]|0,Xe=St&8191,se=St>>>13,X=C[9]|0,ee=X&8191,oe=X>>>13,ge=k[0]|0,fe=ge&8191,ve=ge>>>13,ut=k[1]|0,Pe=ut&8191,Ye=ut>>>13,Ut=k[2]|0,Oe=Ut&8191,nt=Ut>>>13,hr=k[3]|0,Fe=hr&8191,ct=hr>>>13,Nr=k[4]|0,dt=Nr&8191,Y=Nr>>>13,V=k[5]|0,Z=V&8191,te=V>>>13,ae=k[6]|0,le=ae&8191,de=ae>>>13,Ze=k[7]|0,Be=Ze&8191,He=Ze>>>13,qt=k[8]|0,Ge=qt&8191,ot=qt>>>13,Nt=k[9]|0,lt=Nt&8191,at=Nt>>>13;x.negative=d.negative^g.negative,x.length=19,I=Math.imul(D,fe),f=Math.imul(D,ve),f=f+Math.imul(J,fe)|0,S=Math.imul(J,ve);var Ir=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,I=Math.imul(ie,fe),f=Math.imul(ie,ve),f=f+Math.imul(ce,fe)|0,S=Math.imul(ce,ve),I=I+Math.imul(D,Pe)|0,f=f+Math.imul(D,Ye)|0,f=f+Math.imul(J,Pe)|0,S=S+Math.imul(J,Ye)|0;var $r=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+($r>>>26)|0,$r&=67108863,I=Math.imul(ye,fe),f=Math.imul(ye,ve),f=f+Math.imul(Ae,fe)|0,S=Math.imul(Ae,ve),I=I+Math.imul(ie,Pe)|0,f=f+Math.imul(ie,Ye)|0,f=f+Math.imul(ce,Pe)|0,S=S+Math.imul(ce,Ye)|0,I=I+Math.imul(D,Oe)|0,f=f+Math.imul(D,nt)|0,f=f+Math.imul(J,Oe)|0,S=S+Math.imul(J,nt)|0;var _r=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(_r>>>26)|0,_r&=67108863,I=Math.imul(Ce,fe),f=Math.imul(Ce,ve),f=f+Math.imul(je,fe)|0,S=Math.imul(je,ve),I=I+Math.imul(ye,Pe)|0,f=f+Math.imul(ye,Ye)|0,f=f+Math.imul(Ae,Pe)|0,S=S+Math.imul(Ae,Ye)|0,I=I+Math.imul(ie,Oe)|0,f=f+Math.imul(ie,nt)|0,f=f+Math.imul(ce,Oe)|0,S=S+Math.imul(ce,nt)|0,I=I+Math.imul(D,Fe)|0,f=f+Math.imul(D,ct)|0,f=f+Math.imul(J,Fe)|0,S=S+Math.imul(J,ct)|0;var Sr=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,I=Math.imul(pe,fe),f=Math.imul(pe,ve),f=f+Math.imul(Le,fe)|0,S=Math.imul(Le,ve),I=I+Math.imul(Ce,Pe)|0,f=f+Math.imul(Ce,Ye)|0,f=f+Math.imul(je,Pe)|0,S=S+Math.imul(je,Ye)|0,I=I+Math.imul(ye,Oe)|0,f=f+Math.imul(ye,nt)|0,f=f+Math.imul(Ae,Oe)|0,S=S+Math.imul(Ae,nt)|0,I=I+Math.imul(ie,Fe)|0,f=f+Math.imul(ie,ct)|0,f=f+Math.imul(ce,Fe)|0,S=S+Math.imul(ce,ct)|0,I=I+Math.imul(D,dt)|0,f=f+Math.imul(D,Y)|0,f=f+Math.imul(J,dt)|0,S=S+Math.imul(J,Y)|0;var jr=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(jr>>>26)|0,jr&=67108863,I=Math.imul(Ie,fe),f=Math.imul(Ie,ve),f=f+Math.imul(Me,fe)|0,S=Math.imul(Me,ve),I=I+Math.imul(pe,Pe)|0,f=f+Math.imul(pe,Ye)|0,f=f+Math.imul(Le,Pe)|0,S=S+Math.imul(Le,Ye)|0,I=I+Math.imul(Ce,Oe)|0,f=f+Math.imul(Ce,nt)|0,f=f+Math.imul(je,Oe)|0,S=S+Math.imul(je,nt)|0,I=I+Math.imul(ye,Fe)|0,f=f+Math.imul(ye,ct)|0,f=f+Math.imul(Ae,Fe)|0,S=S+Math.imul(Ae,ct)|0,I=I+Math.imul(ie,dt)|0,f=f+Math.imul(ie,Y)|0,f=f+Math.imul(ce,dt)|0,S=S+Math.imul(ce,Y)|0,I=I+Math.imul(D,Z)|0,f=f+Math.imul(D,te)|0,f=f+Math.imul(J,Z)|0,S=S+Math.imul(J,te)|0;var an=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(an>>>26)|0,an&=67108863,I=Math.imul(Je,fe),f=Math.imul(Je,ve),f=f+Math.imul(De,fe)|0,S=Math.imul(De,ve),I=I+Math.imul(Ie,Pe)|0,f=f+Math.imul(Ie,Ye)|0,f=f+Math.imul(Me,Pe)|0,S=S+Math.imul(Me,Ye)|0,I=I+Math.imul(pe,Oe)|0,f=f+Math.imul(pe,nt)|0,f=f+Math.imul(Le,Oe)|0,S=S+Math.imul(Le,nt)|0,I=I+Math.imul(Ce,Fe)|0,f=f+Math.imul(Ce,ct)|0,f=f+Math.imul(je,Fe)|0,S=S+Math.imul(je,ct)|0,I=I+Math.imul(ye,dt)|0,f=f+Math.imul(ye,Y)|0,f=f+Math.imul(Ae,dt)|0,S=S+Math.imul(Ae,Y)|0,I=I+Math.imul(ie,Z)|0,f=f+Math.imul(ie,te)|0,f=f+Math.imul(ce,Z)|0,S=S+Math.imul(ce,te)|0,I=I+Math.imul(D,le)|0,f=f+Math.imul(D,de)|0,f=f+Math.imul(J,le)|0,S=S+Math.imul(J,de)|0;var Xn=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,I=Math.imul(it,fe),f=Math.imul(it,ve),f=f+Math.imul(et,fe)|0,S=Math.imul(et,ve),I=I+Math.imul(Je,Pe)|0,f=f+Math.imul(Je,Ye)|0,f=f+Math.imul(De,Pe)|0,S=S+Math.imul(De,Ye)|0,I=I+Math.imul(Ie,Oe)|0,f=f+Math.imul(Ie,nt)|0,f=f+Math.imul(Me,Oe)|0,S=S+Math.imul(Me,nt)|0,I=I+Math.imul(pe,Fe)|0,f=f+Math.imul(pe,ct)|0,f=f+Math.imul(Le,Fe)|0,S=S+Math.imul(Le,ct)|0,I=I+Math.imul(Ce,dt)|0,f=f+Math.imul(Ce,Y)|0,f=f+Math.imul(je,dt)|0,S=S+Math.imul(je,Y)|0,I=I+Math.imul(ye,Z)|0,f=f+Math.imul(ye,te)|0,f=f+Math.imul(Ae,Z)|0,S=S+Math.imul(Ae,te)|0,I=I+Math.imul(ie,le)|0,f=f+Math.imul(ie,de)|0,f=f+Math.imul(ce,le)|0,S=S+Math.imul(ce,de)|0,I=I+Math.imul(D,Be)|0,f=f+Math.imul(D,He)|0,f=f+Math.imul(J,Be)|0,S=S+Math.imul(J,He)|0;var Lt=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,I=Math.imul(Xe,fe),f=Math.imul(Xe,ve),f=f+Math.imul(se,fe)|0,S=Math.imul(se,ve),I=I+Math.imul(it,Pe)|0,f=f+Math.imul(it,Ye)|0,f=f+Math.imul(et,Pe)|0,S=S+Math.imul(et,Ye)|0,I=I+Math.imul(Je,Oe)|0,f=f+Math.imul(Je,nt)|0,f=f+Math.imul(De,Oe)|0,S=S+Math.imul(De,nt)|0,I=I+Math.imul(Ie,Fe)|0,f=f+Math.imul(Ie,ct)|0,f=f+Math.imul(Me,Fe)|0,S=S+Math.imul(Me,ct)|0,I=I+Math.imul(pe,dt)|0,f=f+Math.imul(pe,Y)|0,f=f+Math.imul(Le,dt)|0,S=S+Math.imul(Le,Y)|0,I=I+Math.imul(Ce,Z)|0,f=f+Math.imul(Ce,te)|0,f=f+Math.imul(je,Z)|0,S=S+Math.imul(je,te)|0,I=I+Math.imul(ye,le)|0,f=f+Math.imul(ye,de)|0,f=f+Math.imul(Ae,le)|0,S=S+Math.imul(Ae,de)|0,I=I+Math.imul(ie,Be)|0,f=f+Math.imul(ie,He)|0,f=f+Math.imul(ce,Be)|0,S=S+Math.imul(ce,He)|0,I=I+Math.imul(D,Ge)|0,f=f+Math.imul(D,ot)|0,f=f+Math.imul(J,Ge)|0,S=S+Math.imul(J,ot)|0;var qr=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(qr>>>26)|0,qr&=67108863,I=Math.imul(ee,fe),f=Math.imul(ee,ve),f=f+Math.imul(oe,fe)|0,S=Math.imul(oe,ve),I=I+Math.imul(Xe,Pe)|0,f=f+Math.imul(Xe,Ye)|0,f=f+Math.imul(se,Pe)|0,S=S+Math.imul(se,Ye)|0,I=I+Math.imul(it,Oe)|0,f=f+Math.imul(it,nt)|0,f=f+Math.imul(et,Oe)|0,S=S+Math.imul(et,nt)|0,I=I+Math.imul(Je,Fe)|0,f=f+Math.imul(Je,ct)|0,f=f+Math.imul(De,Fe)|0,S=S+Math.imul(De,ct)|0,I=I+Math.imul(Ie,dt)|0,f=f+Math.imul(Ie,Y)|0,f=f+Math.imul(Me,dt)|0,S=S+Math.imul(Me,Y)|0,I=I+Math.imul(pe,Z)|0,f=f+Math.imul(pe,te)|0,f=f+Math.imul(Le,Z)|0,S=S+Math.imul(Le,te)|0,I=I+Math.imul(Ce,le)|0,f=f+Math.imul(Ce,de)|0,f=f+Math.imul(je,le)|0,S=S+Math.imul(je,de)|0,I=I+Math.imul(ye,Be)|0,f=f+Math.imul(ye,He)|0,f=f+Math.imul(Ae,Be)|0,S=S+Math.imul(Ae,He)|0,I=I+Math.imul(ie,Ge)|0,f=f+Math.imul(ie,ot)|0,f=f+Math.imul(ce,Ge)|0,S=S+Math.imul(ce,ot)|0,I=I+Math.imul(D,lt)|0,f=f+Math.imul(D,at)|0,f=f+Math.imul(J,lt)|0,S=S+Math.imul(J,at)|0;var fr=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(fr>>>26)|0,fr&=67108863,I=Math.imul(ee,Pe),f=Math.imul(ee,Ye),f=f+Math.imul(oe,Pe)|0,S=Math.imul(oe,Ye),I=I+Math.imul(Xe,Oe)|0,f=f+Math.imul(Xe,nt)|0,f=f+Math.imul(se,Oe)|0,S=S+Math.imul(se,nt)|0,I=I+Math.imul(it,Fe)|0,f=f+Math.imul(it,ct)|0,f=f+Math.imul(et,Fe)|0,S=S+Math.imul(et,ct)|0,I=I+Math.imul(Je,dt)|0,f=f+Math.imul(Je,Y)|0,f=f+Math.imul(De,dt)|0,S=S+Math.imul(De,Y)|0,I=I+Math.imul(Ie,Z)|0,f=f+Math.imul(Ie,te)|0,f=f+Math.imul(Me,Z)|0,S=S+Math.imul(Me,te)|0,I=I+Math.imul(pe,le)|0,f=f+Math.imul(pe,de)|0,f=f+Math.imul(Le,le)|0,S=S+Math.imul(Le,de)|0,I=I+Math.imul(Ce,Be)|0,f=f+Math.imul(Ce,He)|0,f=f+Math.imul(je,Be)|0,S=S+Math.imul(je,He)|0,I=I+Math.imul(ye,Ge)|0,f=f+Math.imul(ye,ot)|0,f=f+Math.imul(Ae,Ge)|0,S=S+Math.imul(Ae,ot)|0,I=I+Math.imul(ie,lt)|0,f=f+Math.imul(ie,at)|0,f=f+Math.imul(ce,lt)|0,S=S+Math.imul(ce,at)|0;var Cn=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,I=Math.imul(ee,Oe),f=Math.imul(ee,nt),f=f+Math.imul(oe,Oe)|0,S=Math.imul(oe,nt),I=I+Math.imul(Xe,Fe)|0,f=f+Math.imul(Xe,ct)|0,f=f+Math.imul(se,Fe)|0,S=S+Math.imul(se,ct)|0,I=I+Math.imul(it,dt)|0,f=f+Math.imul(it,Y)|0,f=f+Math.imul(et,dt)|0,S=S+Math.imul(et,Y)|0,I=I+Math.imul(Je,Z)|0,f=f+Math.imul(Je,te)|0,f=f+Math.imul(De,Z)|0,S=S+Math.imul(De,te)|0,I=I+Math.imul(Ie,le)|0,f=f+Math.imul(Ie,de)|0,f=f+Math.imul(Me,le)|0,S=S+Math.imul(Me,de)|0,I=I+Math.imul(pe,Be)|0,f=f+Math.imul(pe,He)|0,f=f+Math.imul(Le,Be)|0,S=S+Math.imul(Le,He)|0,I=I+Math.imul(Ce,Ge)|0,f=f+Math.imul(Ce,ot)|0,f=f+Math.imul(je,Ge)|0,S=S+Math.imul(je,ot)|0,I=I+Math.imul(ye,lt)|0,f=f+Math.imul(ye,at)|0,f=f+Math.imul(Ae,lt)|0,S=S+Math.imul(Ae,at)|0;var pn=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(pn>>>26)|0,pn&=67108863,I=Math.imul(ee,Fe),f=Math.imul(ee,ct),f=f+Math.imul(oe,Fe)|0,S=Math.imul(oe,ct),I=I+Math.imul(Xe,dt)|0,f=f+Math.imul(Xe,Y)|0,f=f+Math.imul(se,dt)|0,S=S+Math.imul(se,Y)|0,I=I+Math.imul(it,Z)|0,f=f+Math.imul(it,te)|0,f=f+Math.imul(et,Z)|0,S=S+Math.imul(et,te)|0,I=I+Math.imul(Je,le)|0,f=f+Math.imul(Je,de)|0,f=f+Math.imul(De,le)|0,S=S+Math.imul(De,de)|0,I=I+Math.imul(Ie,Be)|0,f=f+Math.imul(Ie,He)|0,f=f+Math.imul(Me,Be)|0,S=S+Math.imul(Me,He)|0,I=I+Math.imul(pe,Ge)|0,f=f+Math.imul(pe,ot)|0,f=f+Math.imul(Le,Ge)|0,S=S+Math.imul(Le,ot)|0,I=I+Math.imul(Ce,lt)|0,f=f+Math.imul(Ce,at)|0,f=f+Math.imul(je,lt)|0,S=S+Math.imul(je,at)|0;var gi=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(gi>>>26)|0,gi&=67108863,I=Math.imul(ee,dt),f=Math.imul(ee,Y),f=f+Math.imul(oe,dt)|0,S=Math.imul(oe,Y),I=I+Math.imul(Xe,Z)|0,f=f+Math.imul(Xe,te)|0,f=f+Math.imul(se,Z)|0,S=S+Math.imul(se,te)|0,I=I+Math.imul(it,le)|0,f=f+Math.imul(it,de)|0,f=f+Math.imul(et,le)|0,S=S+Math.imul(et,de)|0,I=I+Math.imul(Je,Be)|0,f=f+Math.imul(Je,He)|0,f=f+Math.imul(De,Be)|0,S=S+Math.imul(De,He)|0,I=I+Math.imul(Ie,Ge)|0,f=f+Math.imul(Ie,ot)|0,f=f+Math.imul(Me,Ge)|0,S=S+Math.imul(Me,ot)|0,I=I+Math.imul(pe,lt)|0,f=f+Math.imul(pe,at)|0,f=f+Math.imul(Le,lt)|0,S=S+Math.imul(Le,at)|0;var ui=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(ui>>>26)|0,ui&=67108863,I=Math.imul(ee,Z),f=Math.imul(ee,te),f=f+Math.imul(oe,Z)|0,S=Math.imul(oe,te),I=I+Math.imul(Xe,le)|0,f=f+Math.imul(Xe,de)|0,f=f+Math.imul(se,le)|0,S=S+Math.imul(se,de)|0,I=I+Math.imul(it,Be)|0,f=f+Math.imul(it,He)|0,f=f+Math.imul(et,Be)|0,S=S+Math.imul(et,He)|0,I=I+Math.imul(Je,Ge)|0,f=f+Math.imul(Je,ot)|0,f=f+Math.imul(De,Ge)|0,S=S+Math.imul(De,ot)|0,I=I+Math.imul(Ie,lt)|0,f=f+Math.imul(Ie,at)|0,f=f+Math.imul(Me,lt)|0,S=S+Math.imul(Me,at)|0;var Gn=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,I=Math.imul(ee,le),f=Math.imul(ee,de),f=f+Math.imul(oe,le)|0,S=Math.imul(oe,de),I=I+Math.imul(Xe,Be)|0,f=f+Math.imul(Xe,He)|0,f=f+Math.imul(se,Be)|0,S=S+Math.imul(se,He)|0,I=I+Math.imul(it,Ge)|0,f=f+Math.imul(it,ot)|0,f=f+Math.imul(et,Ge)|0,S=S+Math.imul(et,ot)|0,I=I+Math.imul(Je,lt)|0,f=f+Math.imul(Je,at)|0,f=f+Math.imul(De,lt)|0,S=S+Math.imul(De,at)|0;var gn=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(gn>>>26)|0,gn&=67108863,I=Math.imul(ee,Be),f=Math.imul(ee,He),f=f+Math.imul(oe,Be)|0,S=Math.imul(oe,He),I=I+Math.imul(Xe,Ge)|0,f=f+Math.imul(Xe,ot)|0,f=f+Math.imul(se,Ge)|0,S=S+Math.imul(se,ot)|0,I=I+Math.imul(it,lt)|0,f=f+Math.imul(it,at)|0,f=f+Math.imul(et,lt)|0,S=S+Math.imul(et,at)|0;var Ti=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,I=Math.imul(ee,Ge),f=Math.imul(ee,ot),f=f+Math.imul(oe,Ge)|0,S=Math.imul(oe,ot),I=I+Math.imul(Xe,lt)|0,f=f+Math.imul(Xe,at)|0,f=f+Math.imul(se,lt)|0,S=S+Math.imul(se,at)|0;var kn=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(kn>>>26)|0,kn&=67108863,I=Math.imul(ee,lt),f=Math.imul(ee,at),f=f+Math.imul(oe,lt)|0,S=Math.imul(oe,at);var Ei=(R+I|0)+((f&8191)<<13)|0;return R=(S+(f>>>13)|0)+(Ei>>>26)|0,Ei&=67108863,T[0]=Ir,T[1]=$r,T[2]=_r,T[3]=Sr,T[4]=jr,T[5]=an,T[6]=Xn,T[7]=Lt,T[8]=qr,T[9]=fr,T[10]=Cn,T[11]=pn,T[12]=gi,T[13]=ui,T[14]=Gn,T[15]=gn,T[16]=Ti,T[17]=kn,T[18]=Ei,R!==0&&(T[19]=R,x.length++),x};Math.imul||(O=M);function P(_,d,g){g.negative=d.negative^_.negative,g.length=_.length+d.length;for(var x=0,C=0,k=0;k<g.length-1;k++){var T=C;C=0;for(var R=x&67108863,I=Math.min(k,d.length-1),f=Math.max(0,k-_.length+1);f<=I;f++){var S=k-f,K=_.words[S]|0,D=d.words[f]|0,J=K*D,ne=J&67108863;T=T+(J/67108864|0)|0,ne=ne+R|0,R=ne&67108863,T=T+(ne>>>26)|0,C+=T>>>26,T&=67108863}g.words[k]=R,x=T,T=C}return x!==0?g.words[k]=x:g.length--,g._strip()}function z(_,d,g){return P(_,d,g)}s.prototype.mulTo=function(d,g){var x,C=this.length+d.length;return this.length===10&&d.length===10?x=O(this,d,g):C<63?x=M(this,d,g):C<1024?x=P(this,d,g):x=z(this,d,g),x},s.prototype.mul=function(d){var g=new s(null);return g.words=new Array(this.length+d.length),this.mulTo(d,g)},s.prototype.mulf=function(d){var g=new s(null);return g.words=new Array(this.length+d.length),z(this,d,g)},s.prototype.imul=function(d){return this.clone().mulTo(d,this)},s.prototype.imuln=function(d){var g=d<0;g&&(d=-d),n(typeof d=="number"),n(d<67108864);for(var x=0,C=0;C<this.length;C++){var k=(this.words[C]|0)*d,T=(k&67108863)+(x&67108863);x>>=26,x+=k/67108864|0,x+=T>>>26,this.words[C]=T&67108863}return x!==0&&(this.words[C]=x,this.length++),this.length=d===0?1:this.length,g?this.ineg():this},s.prototype.muln=function(d){return this.clone().imuln(d)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(d){var g=A(d);if(g.length===0)return new s(1);for(var x=this,C=0;C<g.length&&g[C]===0;C++,x=x.sqr());if(++C<g.length)for(var k=x.sqr();C<g.length;C++,k=k.sqr())g[C]!==0&&(x=x.mul(k));return x},s.prototype.iushln=function(d){n(typeof d=="number"&&d>=0);var g=d%26,x=(d-g)/26,C=67108863>>>26-g<<26-g,k;if(g!==0){var T=0;for(k=0;k<this.length;k++){var R=this.words[k]&C,I=(this.words[k]|0)-R<<g;this.words[k]=I|T,T=R>>>26-g}T&&(this.words[k]=T,this.length++)}if(x!==0){for(k=this.length-1;k>=0;k--)this.words[k+x]=this.words[k];for(k=0;k<x;k++)this.words[k]=0;this.length+=x}return this._strip()},s.prototype.ishln=function(d){return n(this.negative===0),this.iushln(d)},s.prototype.iushrn=function(d,g,x){n(typeof d=="number"&&d>=0);var C;g?C=(g-g%26)/26:C=0;var k=d%26,T=Math.min((d-k)/26,this.length),R=67108863^67108863>>>k<<k,I=x;if(C-=T,C=Math.max(0,C),I){for(var f=0;f<T;f++)I.words[f]=this.words[f];I.length=T}if(T!==0)if(this.length>T)for(this.length-=T,f=0;f<this.length;f++)this.words[f]=this.words[f+T];else this.words[0]=0,this.length=1;var S=0;for(f=this.length-1;f>=0&&(S!==0||f>=C);f--){var K=this.words[f]|0;this.words[f]=S<<26-k|K>>>k,S=K&R}return I&&S!==0&&(I.words[I.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(d,g,x){return n(this.negative===0),this.iushrn(d,g,x)},s.prototype.shln=function(d){return this.clone().ishln(d)},s.prototype.ushln=function(d){return this.clone().iushln(d)},s.prototype.shrn=function(d){return this.clone().ishrn(d)},s.prototype.ushrn=function(d){return this.clone().iushrn(d)},s.prototype.testn=function(d){n(typeof d=="number"&&d>=0);var g=d%26,x=(d-g)/26,C=1<<g;if(this.length<=x)return!1;var k=this.words[x];return!!(k&C)},s.prototype.imaskn=function(d){n(typeof d=="number"&&d>=0);var g=d%26,x=(d-g)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=x)return this;if(g!==0&&x++,this.length=Math.min(x,this.length),g!==0){var C=67108863^67108863>>>g<<g;this.words[this.length-1]&=C}return this._strip()},s.prototype.maskn=function(d){return this.clone().imaskn(d)},s.prototype.iaddn=function(d){return n(typeof d=="number"),n(d<67108864),d<0?this.isubn(-d):this.negative!==0?this.length===1&&(this.words[0]|0)<=d?(this.words[0]=d-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},s.prototype._iaddn=function(d){this.words[0]+=d;for(var g=0;g<this.length&&this.words[g]>=67108864;g++)this.words[g]-=67108864,g===this.length-1?this.words[g+1]=1:this.words[g+1]++;return this.length=Math.max(this.length,g+1),this},s.prototype.isubn=function(d){if(n(typeof d=="number"),n(d<67108864),d<0)return this.iaddn(-d);if(this.negative!==0)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var g=0;g<this.length&&this.words[g]<0;g++)this.words[g]+=67108864,this.words[g+1]-=1;return this._strip()},s.prototype.addn=function(d){return this.clone().iaddn(d)},s.prototype.subn=function(d){return this.clone().isubn(d)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(d,g,x){var C=d.length+x,k;this._expand(C);var T,R=0;for(k=0;k<d.length;k++){T=(this.words[k+x]|0)+R;var I=(d.words[k]|0)*g;T-=I&67108863,R=(T>>26)-(I/67108864|0),this.words[k+x]=T&67108863}for(;k<this.length-x;k++)T=(this.words[k+x]|0)+R,R=T>>26,this.words[k+x]=T&67108863;if(R===0)return this._strip();for(n(R===-1),R=0,k=0;k<this.length;k++)T=-(this.words[k]|0)+R,R=T>>26,this.words[k]=T&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(d,g){var x=this.length-d.length,C=this.clone(),k=d,T=k.words[k.length-1]|0,R=this._countBits(T);x=26-R,x!==0&&(k=k.ushln(x),C.iushln(x),T=k.words[k.length-1]|0);var I=C.length-k.length,f;if(g!=="mod"){f=new s(null),f.length=I+1,f.words=new Array(f.length);for(var S=0;S<f.length;S++)f.words[S]=0}var K=C.clone()._ishlnsubmul(k,1,I);K.negative===0&&(C=K,f&&(f.words[I]=1));for(var D=I-1;D>=0;D--){var J=(C.words[k.length+D]|0)*67108864+(C.words[k.length+D-1]|0);for(J=Math.min(J/T|0,67108863),C._ishlnsubmul(k,J,D);C.negative!==0;)J--,C.negative=0,C._ishlnsubmul(k,1,D),C.isZero()||(C.negative^=1);f&&(f.words[D]=J)}return f&&f._strip(),C._strip(),g!=="div"&&x!==0&&C.iushrn(x),{div:f||null,mod:C}},s.prototype.divmod=function(d,g,x){if(n(!d.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var C,k,T;return this.negative!==0&&d.negative===0?(T=this.neg().divmod(d,g),g!=="mod"&&(C=T.div.neg()),g!=="div"&&(k=T.mod.neg(),x&&k.negative!==0&&k.iadd(d)),{div:C,mod:k}):this.negative===0&&d.negative!==0?(T=this.divmod(d.neg(),g),g!=="mod"&&(C=T.div.neg()),{div:C,mod:T.mod}):(this.negative&d.negative)!==0?(T=this.neg().divmod(d.neg(),g),g!=="div"&&(k=T.mod.neg(),x&&k.negative!==0&&k.isub(d)),{div:T.div,mod:k}):d.length>this.length||this.cmp(d)<0?{div:new s(0),mod:this}:d.length===1?g==="div"?{div:this.divn(d.words[0]),mod:null}:g==="mod"?{div:null,mod:new s(this.modrn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new s(this.modrn(d.words[0]))}:this._wordDiv(d,g)},s.prototype.div=function(d){return this.divmod(d,"div",!1).div},s.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},s.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},s.prototype.divRound=function(d){var g=this.divmod(d);if(g.mod.isZero())return g.div;var x=g.div.negative!==0?g.mod.isub(d):g.mod,C=d.ushrn(1),k=d.andln(1),T=x.cmp(C);return T<0||k===1&&T===0?g.div:g.div.negative!==0?g.div.isubn(1):g.div.iaddn(1)},s.prototype.modrn=function(d){var g=d<0;g&&(d=-d),n(d<=67108863);for(var x=(1<<26)%d,C=0,k=this.length-1;k>=0;k--)C=(x*C+(this.words[k]|0))%d;return g?-C:C},s.prototype.modn=function(d){return this.modrn(d)},s.prototype.idivn=function(d){var g=d<0;g&&(d=-d),n(d<=67108863);for(var x=0,C=this.length-1;C>=0;C--){var k=(this.words[C]|0)+x*67108864;this.words[C]=k/d|0,x=k%d}return this._strip(),g?this.ineg():this},s.prototype.divn=function(d){return this.clone().idivn(d)},s.prototype.egcd=function(d){n(d.negative===0),n(!d.isZero());var g=this,x=d.clone();g.negative!==0?g=g.umod(d):g=g.clone();for(var C=new s(1),k=new s(0),T=new s(0),R=new s(1),I=0;g.isEven()&&x.isEven();)g.iushrn(1),x.iushrn(1),++I;for(var f=x.clone(),S=g.clone();!g.isZero();){for(var K=0,D=1;(g.words[0]&D)===0&&K<26;++K,D<<=1);if(K>0)for(g.iushrn(K);K-- >0;)(C.isOdd()||k.isOdd())&&(C.iadd(f),k.isub(S)),C.iushrn(1),k.iushrn(1);for(var J=0,ne=1;(x.words[0]&ne)===0&&J<26;++J,ne<<=1);if(J>0)for(x.iushrn(J);J-- >0;)(T.isOdd()||R.isOdd())&&(T.iadd(f),R.isub(S)),T.iushrn(1),R.iushrn(1);g.cmp(x)>=0?(g.isub(x),C.isub(T),k.isub(R)):(x.isub(g),T.isub(C),R.isub(k))}return{a:T,b:R,gcd:x.iushln(I)}},s.prototype._invmp=function(d){n(d.negative===0),n(!d.isZero());var g=this,x=d.clone();g.negative!==0?g=g.umod(d):g=g.clone();for(var C=new s(1),k=new s(0),T=x.clone();g.cmpn(1)>0&&x.cmpn(1)>0;){for(var R=0,I=1;(g.words[0]&I)===0&&R<26;++R,I<<=1);if(R>0)for(g.iushrn(R);R-- >0;)C.isOdd()&&C.iadd(T),C.iushrn(1);for(var f=0,S=1;(x.words[0]&S)===0&&f<26;++f,S<<=1);if(f>0)for(x.iushrn(f);f-- >0;)k.isOdd()&&k.iadd(T),k.iushrn(1);g.cmp(x)>=0?(g.isub(x),C.isub(k)):(x.isub(g),k.isub(C))}var K;return g.cmpn(1)===0?K=C:K=k,K.cmpn(0)<0&&K.iadd(d),K},s.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var g=this.clone(),x=d.clone();g.negative=0,x.negative=0;for(var C=0;g.isEven()&&x.isEven();C++)g.iushrn(1),x.iushrn(1);do{for(;g.isEven();)g.iushrn(1);for(;x.isEven();)x.iushrn(1);var k=g.cmp(x);if(k<0){var T=g;g=x,x=T}else if(k===0||x.cmpn(1)===0)break;g.isub(x)}while(!0);return x.iushln(C)},s.prototype.invm=function(d){return this.egcd(d).a.umod(d)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(d){return this.words[0]&d},s.prototype.bincn=function(d){n(typeof d=="number");var g=d%26,x=(d-g)/26,C=1<<g;if(this.length<=x)return this._expand(x+1),this.words[x]|=C,this;for(var k=C,T=x;k!==0&&T<this.length;T++){var R=this.words[T]|0;R+=k,k=R>>>26,R&=67108863,this.words[T]=R}return k!==0&&(this.words[T]=k,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(d){var g=d<0;if(this.negative!==0&&!g)return-1;if(this.negative===0&&g)return 1;this._strip();var x;if(this.length>1)x=1;else{g&&(d=-d),n(d<=67108863,"Number is too big");var C=this.words[0]|0;x=C===d?0:C<d?-1:1}return this.negative!==0?-x|0:x},s.prototype.cmp=function(d){if(this.negative!==0&&d.negative===0)return-1;if(this.negative===0&&d.negative!==0)return 1;var g=this.ucmp(d);return this.negative!==0?-g|0:g},s.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var g=0,x=this.length-1;x>=0;x--){var C=this.words[x]|0,k=d.words[x]|0;if(C!==k){C<k?g=-1:C>k&&(g=1);break}}return g},s.prototype.gtn=function(d){return this.cmpn(d)===1},s.prototype.gt=function(d){return this.cmp(d)===1},s.prototype.gten=function(d){return this.cmpn(d)>=0},s.prototype.gte=function(d){return this.cmp(d)>=0},s.prototype.ltn=function(d){return this.cmpn(d)===-1},s.prototype.lt=function(d){return this.cmp(d)===-1},s.prototype.lten=function(d){return this.cmpn(d)<=0},s.prototype.lte=function(d){return this.cmp(d)<=0},s.prototype.eqn=function(d){return this.cmpn(d)===0},s.prototype.eq=function(d){return this.cmp(d)===0},s.red=function(d){return new U(d)},s.prototype.toRed=function(d){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),d.convertTo(this)._forceRed(d)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(d){return this.red=d,this},s.prototype.forceRed=function(d){return n(!this.red,"Already a number in reduction context"),this._forceRed(d)},s.prototype.redAdd=function(d){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},s.prototype.redIAdd=function(d){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},s.prototype.redSub=function(d){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},s.prototype.redISub=function(d){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},s.prototype.redShl=function(d){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},s.prototype.redMul=function(d){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},s.prototype.redIMul=function(d){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(d){return n(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var L={k256:null,p224:null,p192:null,p25519:null};function W(_,d){this.name=_,this.p=new s(d,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}W.prototype._tmp=function(){var d=new s(null);return d.words=new Array(Math.ceil(this.n/13)),d},W.prototype.ireduce=function(d){var g=d,x;do this.split(g,this.tmp),g=this.imulK(g),g=g.iadd(this.tmp),x=g.bitLength();while(x>this.n);var C=x<this.n?-1:g.ucmp(this.p);return C===0?(g.words[0]=0,g.length=1):C>0?g.isub(this.p):g.strip!==void 0?g.strip():g._strip(),g},W.prototype.split=function(d,g){d.iushrn(this.n,0,g)},W.prototype.imulK=function(d){return d.imul(this.k)};function H(){W.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(H,W),H.prototype.split=function(d,g){for(var x=4194303,C=Math.min(d.length,9),k=0;k<C;k++)g.words[k]=d.words[k];if(g.length=C,d.length<=9){d.words[0]=0,d.length=1;return}var T=d.words[9];for(g.words[g.length++]=T&x,k=10;k<d.length;k++){var R=d.words[k]|0;d.words[k-10]=(R&x)<<4|T>>>22,T=R}T>>>=22,d.words[k-10]=T,T===0&&d.length>10?d.length-=10:d.length-=9},H.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var g=0,x=0;x<d.length;x++){var C=d.words[x]|0;g+=C*977,d.words[x]=g&67108863,g=C*64+(g/67108864|0)}return d.words[d.length-1]===0&&(d.length--,d.words[d.length-1]===0&&d.length--),d};function G(){W.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(G,W);function N(){W.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(N,W);function F(){W.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(F,W),F.prototype.imulK=function(d){for(var g=0,x=0;x<d.length;x++){var C=(d.words[x]|0)*19+g,k=C&67108863;C>>>=26,d.words[x]=k,g=C}return g!==0&&(d.words[d.length++]=g),d},s._prime=function(d){if(L[d])return L[d];var g;if(d==="k256")g=new H;else if(d==="p224")g=new G;else if(d==="p192")g=new N;else if(d==="p25519")g=new F;else throw new Error("Unknown prime "+d);return L[d]=g,g};function U(_){if(typeof _=="string"){var d=s._prime(_);this.m=d.p,this.prime=d}else n(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}U.prototype._verify1=function(d){n(d.negative===0,"red works only with positives"),n(d.red,"red works only with red numbers")},U.prototype._verify2=function(d,g){n((d.negative|g.negative)===0,"red works only with positives"),n(d.red&&d.red===g.red,"red works only with red numbers")},U.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):(c(d,d.umod(this.m)._forceRed(this)),d)},U.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},U.prototype.add=function(d,g){this._verify2(d,g);var x=d.add(g);return x.cmp(this.m)>=0&&x.isub(this.m),x._forceRed(this)},U.prototype.iadd=function(d,g){this._verify2(d,g);var x=d.iadd(g);return x.cmp(this.m)>=0&&x.isub(this.m),x},U.prototype.sub=function(d,g){this._verify2(d,g);var x=d.sub(g);return x.cmpn(0)<0&&x.iadd(this.m),x._forceRed(this)},U.prototype.isub=function(d,g){this._verify2(d,g);var x=d.isub(g);return x.cmpn(0)<0&&x.iadd(this.m),x},U.prototype.shl=function(d,g){return this._verify1(d),this.imod(d.ushln(g))},U.prototype.imul=function(d,g){return this._verify2(d,g),this.imod(d.imul(g))},U.prototype.mul=function(d,g){return this._verify2(d,g),this.imod(d.mul(g))},U.prototype.isqr=function(d){return this.imul(d,d.clone())},U.prototype.sqr=function(d){return this.mul(d,d)},U.prototype.sqrt=function(d){if(d.isZero())return d.clone();var g=this.m.andln(3);if(n(g%2===1),g===3){var x=this.m.add(new s(1)).iushrn(2);return this.pow(d,x)}for(var C=this.m.subn(1),k=0;!C.isZero()&&C.andln(1)===0;)k++,C.iushrn(1);n(!C.isZero());var T=new s(1).toRed(this),R=T.redNeg(),I=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new s(2*f*f).toRed(this);this.pow(f,I).cmp(R)!==0;)f.redIAdd(R);for(var S=this.pow(f,C),K=this.pow(d,C.addn(1).iushrn(1)),D=this.pow(d,C),J=k;D.cmp(T)!==0;){for(var ne=D,ie=0;ne.cmp(T)!==0;ie++)ne=ne.redSqr();n(ie<J);var ce=this.pow(S,new s(1).iushln(J-ie-1));K=K.redMul(ce),S=ce.redSqr(),D=D.redMul(S),J=ie}return K},U.prototype.invm=function(d){var g=d._invmp(this.m);return g.negative!==0?(g.negative=0,this.imod(g).redNeg()):this.imod(g)},U.prototype.pow=function(d,g){if(g.isZero())return new s(1).toRed(this);if(g.cmpn(1)===0)return d.clone();var x=4,C=new Array(1<<x);C[0]=new s(1).toRed(this),C[1]=d;for(var k=2;k<C.length;k++)C[k]=this.mul(C[k-1],d);var T=C[0],R=0,I=0,f=g.bitLength()%26;for(f===0&&(f=26),k=g.length-1;k>=0;k--){for(var S=g.words[k],K=f-1;K>=0;K--){var D=S>>K&1;if(T!==C[0]&&(T=this.sqr(T)),D===0&&R===0){I=0;continue}R<<=1,R|=D,I++,!(I!==x&&(k!==0||K!==0))&&(T=this.mul(T,C[R]),I=0,R=0)}f=26}return T},U.prototype.convertTo=function(d){var g=d.umod(this.m);return g===d?g.clone():g},U.prototype.convertFrom=function(d){var g=d.clone();return g.red=null,g},s.mont=function(d){return new j(d)};function j(_){U.call(this,_),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(j,U),j.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},j.prototype.convertFrom=function(d){var g=this.imod(d.mul(this.rinv));return g.red=null,g},j.prototype.imul=function(d,g){if(d.isZero()||g.isZero())return d.words[0]=0,d.length=1,d;var x=d.imul(g),C=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=x.isub(C).iushrn(this.shift),T=k;return k.cmp(this.m)>=0?T=k.isub(this.m):k.cmpn(0)<0&&(T=k.iadd(this.m)),T._forceRed(this)},j.prototype.mul=function(d,g){if(d.isZero()||g.isZero())return new s(0)._forceRed(this);var x=d.mul(g),C=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=x.isub(C).iushrn(this.shift),T=k;return k.cmp(this.m)>=0?T=k.isub(this.m):k.cmpn(0)<0&&(T=k.iadd(this.m)),T._forceRed(this)},j.prototype.invm=function(d){var g=this.imod(d._invmp(this.m).mul(this.r2));return g._forceRed(this)}})(t,kEe)})(zx)),zx.exports}var TEe=IEe();const $Ee=ds(TEe),MEe="bytes/5.8.0",Ai=new st(MEe);function Gre(t){return!!t.toHexString}function by(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return by(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function CO(t){return Hn(t)&&!(t.length%2)||$w(t)}function Uz(t){return typeof t=="number"&&t==t&&t%1===0}function $w(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!Uz(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Uz(r)||r<0||r>=256)return!1}return!0}function Br(t,e){if(e||(e={}),typeof t=="number"){Ai.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),by(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Gre(t)&&(t=t.toHexString()),Hn(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Ai.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return by(new Uint8Array(n))}return $w(t)?by(new Uint8Array(t)):Ai.throwArgumentError("invalid arrayify value","value",t)}function eg(t){const e=t.map(i=>Br(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),by(n)}function qy(t){let e=Br(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function PEe(t,e){t=Br(t),t.length>e&&Ai.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),by(r)}function Hn(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const ZS="0123456789abcdef";function Dr(t,e){if(e||(e={}),typeof t=="number"){Ai.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=ZS[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Gre(t))return t.toHexString();if(Hn(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Ai.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if($w(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=ZS[(i&240)>>4]+ZS[i&15]}return r}return Ai.throwArgumentError("invalid hexlify value","value",t)}function Ug(t){if(typeof t!="string")t=Dr(t);else if(!Hn(t)||t.length%2)return null;return(t.length-2)/2}function zo(t,e,r){return typeof t!="string"?t=Dr(t):(!Hn(t)||t.length%2)&&Ai.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function yl(t){let e="0x";return t.forEach(r=>{e+=Dr(r).substring(2)}),e}function kO(t){const e=NEe(Dr(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function NEe(t){typeof t!="string"&&(t=Dr(t)),Hn(t)||Ai.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function Ci(t,e){for(typeof t!="string"?t=Dr(t):Hn(t)||Ai.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Ai.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function H_(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(CO(t)){let r=Br(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=Dr(r.slice(0,32)),e.s=Dr(r.slice(32,64))):r.length===65?(e.r=Dr(r.slice(0,32)),e.s=Dr(r.slice(32,64)),e.v=r[64]):Ai.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:Ai.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=Dr(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=PEe(Br(e._vs),32);e._vs=Dr(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&Ai.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=Dr(i);e.s==null?e.s=o:e.s!==o&&Ai.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?Ai.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&Ai.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Hn(e.r)?Ai.throwArgumentError("signature missing or invalid r","signature",t):e.r=Ci(e.r,32),e.s==null||!Hn(e.s)?Ai.throwArgumentError("signature missing or invalid s","signature",t):e.s=Ci(e.s,32);const r=Br(e.s);r[0]>=128&&Ai.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=Dr(r);e._vs&&(Hn(e._vs)||Ai.throwArgumentError("signature invalid _vs","signature",t),e._vs=Ci(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&Ai.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const Yre="bignumber/5.8.0";var q8=$Ee.BN;const hh=new st(Yre),QS={},Fz=9007199254740991;function REe(t){return t!=null&&(zt.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||Hn(t)||typeof t=="bigint"||$w(t))}let zz=!1;class zt{constructor(e,r){e!==QS&&hh.throwError("cannot call constructor directly; use BigNumber.from",st.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return pa(Jr(this).fromTwos(e))}toTwos(e){return pa(Jr(this).toTwos(e))}abs(){return this._hex[0]==="-"?zt.from(this._hex.substring(1)):this}add(e){return pa(Jr(this).add(Jr(e)))}sub(e){return pa(Jr(this).sub(Jr(e)))}div(e){return zt.from(e).isZero()&&Ul("division-by-zero","div"),pa(Jr(this).div(Jr(e)))}mul(e){return pa(Jr(this).mul(Jr(e)))}mod(e){const r=Jr(e);return r.isNeg()&&Ul("division-by-zero","mod"),pa(Jr(this).umod(r))}pow(e){const r=Jr(e);return r.isNeg()&&Ul("negative-power","pow"),pa(Jr(this).pow(r))}and(e){const r=Jr(e);return(this.isNegative()||r.isNeg())&&Ul("unbound-bitwise-result","and"),pa(Jr(this).and(r))}or(e){const r=Jr(e);return(this.isNegative()||r.isNeg())&&Ul("unbound-bitwise-result","or"),pa(Jr(this).or(r))}xor(e){const r=Jr(e);return(this.isNegative()||r.isNeg())&&Ul("unbound-bitwise-result","xor"),pa(Jr(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&Ul("negative-width","mask"),pa(Jr(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Ul("negative-width","shl"),pa(Jr(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Ul("negative-width","shr"),pa(Jr(this).shrn(e))}eq(e){return Jr(this).eq(Jr(e))}lt(e){return Jr(this).lt(Jr(e))}lte(e){return Jr(this).lte(Jr(e))}gt(e){return Jr(this).gt(Jr(e))}gte(e){return Jr(this).gte(Jr(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Jr(this).isZero()}toNumber(){try{return Jr(this).toNumber()}catch{Ul("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return hh.throwError("this platform does not support BigInt",st.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?zz||(zz=!0,hh.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?hh.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",st.errors.UNEXPECTED_ARGUMENT,{}):hh.throwError("BigNumber.toString does not accept parameters",st.errors.UNEXPECTED_ARGUMENT,{})),Jr(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof zt)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new zt(QS,L3(e)):e.match(/^-?[0-9]+$/)?new zt(QS,L3(new q8(e))):hh.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Ul("underflow","BigNumber.from",e),(e>=Fz||e<=-Fz)&&Ul("overflow","BigNumber.from",e),zt.from(String(e));const r=e;if(typeof r=="bigint")return zt.from(r.toString());if($w(r))return zt.from(Dr(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return zt.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(Hn(n)||n[0]==="-"&&Hn(n.substring(1))))return zt.from(n)}return hh.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function L3(t){if(typeof t!="string")return L3(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&hh.throwArgumentError("invalid hex","value",t),t=L3(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function pa(t){return zt.from(L3(t))}function Jr(t){const e=zt.from(t).toHexString();return e[0]==="-"?new q8("-"+e.substring(3),16):new q8(e.substring(2),16)}function Ul(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),hh.throwError(t,st.errors.NUMERIC_FAULT,n)}function OEe(t){return new q8(t,36).toString(16)}const Ho=new st(Yre),yb={},Zre=zt.from(0),Qre=zt.from(-1);function Jre(t,e,r,n){const i={fault:e,operation:r};return n!==void 0&&(i.value=n),Ho.throwError(t,st.errors.NUMERIC_FAULT,i)}let wb="0";for(;wb.length<256;)wb+=wb;function IO(t){if(typeof t!="number")try{t=zt.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+wb.substring(0,t):Ho.throwArgumentError("invalid decimal size","decimals",t)}function JS(t,e){e==null&&(e=0);const r=IO(e);t=zt.from(t);const n=t.lt(Zre);n&&(t=t.mul(Qre));let i=t.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=t.div(r).toString();return r.length===1?t=s:t=s+"."+i,n&&(t="-"+t),t}function td(t,e){e==null&&(e=0);const r=IO(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&Ho.throwArgumentError("invalid decimal value","value",t);const n=t.substring(0,1)==="-";n&&(t=t.substring(1)),t==="."&&Ho.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&Ho.throwArgumentError("too many decimal points","value",t);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>r.length-1&&Jre("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<r.length-1;)o+="0";const a=zt.from(s),l=zt.from(o);let u=a.mul(r).add(l);return n&&(u=u.mul(Qre)),u}class xy{constructor(e,r,n,i){e!==yb&&Ho.throwError("cannot use FixedFormat constructor; use FixedFormat.from",st.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=i,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=IO(i),Object.freeze(this)}static from(e){if(e instanceof xy)return e;typeof e=="number"&&(e=`fixed128x${e}`);let r=!0,n=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")r=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||Ho.throwArgumentError("invalid fixed format","format",e),r=s[1]!=="u",n=parseInt(s[2]),i=parseInt(s[3])}}else if(e){const s=(o,a,l)=>e[o]==null?l:(typeof e[o]!==a&&Ho.throwArgumentError("invalid fixed format ("+o+" not "+a+")","format."+o,e[o]),e[o]);r=s("signed","boolean",r),n=s("width","number",n),i=s("decimals","number",i)}return n%8&&Ho.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&Ho.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new xy(yb,r,n,i)}}class Bs{constructor(e,r,n,i){e!==yb&&Ho.throwError("cannot use FixedNumber constructor; use FixedNumber.from",st.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&Ho.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const r=td(this._value,this.format.decimals),n=td(e._value,e.format.decimals);return Bs.fromValue(r.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const r=td(this._value,this.format.decimals),n=td(e._value,e.format.decimals);return Bs.fromValue(r.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const r=td(this._value,this.format.decimals),n=td(e._value,e.format.decimals);return Bs.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const r=td(this._value,this.format.decimals),n=td(e._value,e.format.decimals);return Bs.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=Bs.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(Wz.toFormat(r.format))),r}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=Bs.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(Wz.toFormat(r.format))),r}round(e){e==null&&(e=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(e<0||e>80||e%1)&&Ho.throwArgumentError("invalid decimal count","decimals",e),r[1].length<=e)return this;const n=Bs.from("1"+wb.substring(0,e),this.format),i=jEe.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&Ho.throwArgumentError("invalid byte width","width",e);const r=zt.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return Ci(r,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Bs.fromString(this._value,e)}static fromValue(e,r,n){return n==null&&r!=null&&!REe(r)&&(n=r,r=null),r==null&&(r=0),n==null&&(n="fixed"),Bs.fromString(JS(e,r),xy.from(n))}static fromString(e,r){r==null&&(r="fixed");const n=xy.from(r),i=td(e,n.decimals);!n.signed&&i.lt(Zre)&&Jre("unsigned value cannot be negative","overflow","value",e);let s=null;n.signed?s=i.toTwos(n.width).toHexString():(s=i.toHexString(),s=Ci(s,n.width/8));const o=JS(i,n.decimals);return new Bs(yb,s,o,n)}static fromBytes(e,r){r==null&&(r="fixed");const n=xy.from(r);if(Br(e).length>n.width/8)throw new Error("overflow");let i=zt.from(e);n.signed&&(i=i.fromTwos(n.width));const s=i.toTwos((n.signed?0:1)+n.width).toHexString(),o=JS(i,n.decimals);return new Bs(yb,s,o,n)}static from(e,r){if(typeof e=="string")return Bs.fromString(e,r);if($w(e))return Bs.fromBytes(e,r);try{return Bs.fromValue(e,0,r)}catch(n){if(n.code!==st.errors.INVALID_ARGUMENT)throw n}return Ho.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const Wz=Bs.from(1),jEe=Bs.from("0.5"),LEe="abstract-provider/5.8.0";var DEe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const BEe=new st(LEe);class UEe extends _Ee{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class TO{constructor(){BEe.checkAbstract(new.target,TO),Xr(this,"_isProvider",!0)}getFeeData(){return DEe(this,void 0,void 0,function*(){const{block:e,gasPrice:r}=yield zs({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let n=null,i=null,s=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,s=zt.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}}const FEe="networks/5.8.0",qz=new st(FEe);function zEe(t){return t&&typeof t.renetwork=="function"}function Zc(t){const e=function(r,n){n==null&&(n={});const i=[];if(r.InfuraProvider&&n.infura!=="-")try{i.push(new r.InfuraProvider(t,n.infura))}catch{}if(r.EtherscanProvider&&n.etherscan!=="-")try{i.push(new r.EtherscanProvider(t,n.etherscan))}catch{}if(r.AlchemyProvider&&n.alchemy!=="-")try{i.push(new r.AlchemyProvider(t,n.alchemy))}catch{}if(r.PocketProvider&&n.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const o=new r.PocketProvider(t,n.pocket);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}}if(r.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new r.CloudflareProvider(t))}catch{}if(r.AnkrProvider&&n.ankr!=="-")try{const s=["ropsten"],o=new r.AnkrProvider(t,n.ankr);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}if(r.QuickNodeProvider&&n.quicknode!=="-")try{i.push(new r.QuickNodeProvider(t,n.quicknode))}catch{}if(i.length===0)return null;if(r.FallbackProvider){let s=1;return n.quorum!=null?s=n.quorum:t==="homestead"&&(s=2),new r.FallbackProvider(i,s)}return i[0]};return e.renetwork=function(r){return Zc(r)},e}function H8(t,e){const r=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(t,e):null};return r.renetwork=function(n){return H8(t,n)},r}const Hz={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Zc("homestead")},Vz={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Zc("ropsten")},Kz={chainId:63,name:"classicMordor",_defaultProvider:H8("https://www.ethercluster.com/mordor","classicMordor")},A4={unspecified:{chainId:0,name:"unspecified"},homestead:Hz,mainnet:Hz,morden:{chainId:2,name:"morden"},ropsten:Vz,testnet:Vz,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Zc("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Zc("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Zc("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:Zc("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:Zc("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:H8("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:Kz,classicTestnet:Kz,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:H8("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Zc("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:Zc("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:Zc("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function WEe(t){if(t==null)return null;if(typeof t=="number"){for(const n in A4){const i=A4[n];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const n=A4[t];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=A4[t.name];if(!e)return typeof t.chainId!="number"&&qz.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&qz.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;return r==null&&e._defaultProvider&&(zEe(e._defaultProvider)?r=e._defaultProvider.renetwork(t):r=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}function Xre(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return Br(e)}function ene(t){t=Br(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}class tne{constructor(e){Xr(this,"alphabet",e),Xr(this,"base",e.length),Xr(this,"_alphabetMap",{}),Xr(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=Br(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let o=r[s];for(let a=0;a<n.length;++a)o+=n[a]<<8,n[a]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<r.length;++o)s+=r[o]*this.base,r[o]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return Br(new Uint8Array(r.reverse()))}}new tne("abcdefghijklmnopqrstuvwxyz234567");const cM=new tne("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),qEe="0x0000000000000000000000000000000000000000",HEe=zt.from(0),VEe="0x0000000000000000000000000000000000000000000000000000000000000000";function KEe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rne={exports:{}},Ui=rne.exports={},ad,ld;function uM(){throw new Error("setTimeout has not been defined")}function dM(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?ad=setTimeout:ad=uM}catch{ad=uM}try{typeof clearTimeout=="function"?ld=clearTimeout:ld=dM}catch{ld=dM}})();function nne(t){if(ad===setTimeout)return setTimeout(t,0);if((ad===uM||!ad)&&setTimeout)return ad=setTimeout,setTimeout(t,0);try{return ad(t,0)}catch{try{return ad.call(null,t,0)}catch{return ad.call(this,t,0)}}}function GEe(t){if(ld===clearTimeout)return clearTimeout(t);if((ld===dM||!ld)&&clearTimeout)return ld=clearTimeout,clearTimeout(t);try{return ld(t)}catch{try{return ld.call(null,t)}catch{return ld.call(this,t)}}}var Sh=[],Ey=!1,tg,Wx=-1;function YEe(){!Ey||!tg||(Ey=!1,tg.length?Sh=tg.concat(Sh):Wx=-1,Sh.length&&ine())}function ine(){if(!Ey){var t=nne(YEe);Ey=!0;for(var e=Sh.length;e;){for(tg=Sh,Sh=[];++Wx<e;)tg&&tg[Wx].run();Wx=-1,e=Sh.length}tg=null,Ey=!1,GEe(t)}}Ui.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Sh.push(new sne(t,e)),Sh.length===1&&!Ey&&nne(ine)};function sne(t,e){this.fun=t,this.array=e}sne.prototype.run=function(){this.fun.apply(null,this.array)};Ui.title="browser";Ui.browser=!0;Ui.env={};Ui.argv=[];Ui.version="";Ui.versions={};function Xh(){}Ui.on=Xh;Ui.addListener=Xh;Ui.once=Xh;Ui.off=Xh;Ui.removeListener=Xh;Ui.removeAllListeners=Xh;Ui.emit=Xh;Ui.prependListener=Xh;Ui.prependOnceListener=Xh;Ui.listeners=function(t){return[]};Ui.binding=function(t){throw new Error("process.binding is not supported")};Ui.cwd=function(){return"/"};Ui.chdir=function(t){throw new Error("process.chdir is not supported")};Ui.umask=function(){return 0};var ZEe=rne.exports;const pi=KEe(ZEe);var XS={exports:{}},Gz;function QEe(){return Gz||(Gz=1,(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof pi=="object"&&pi.versions&&pi.versions.node;o?i=globalThis:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,l=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",u="0123456789abcdef".split(""),c=[31,7936,2031616,520093696],h=[4,1024,262144,67108864],m=[1,256,65536,16777216],y=[6,1536,393216,100663296],b=[0,8,16,24],E=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],A=[224,256,384,512],M=[128,256],O=["hex","buffer","arrayBuffer","array","digest"],P={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(D){return Object.prototype.toString.call(D)==="[object Array]"}),l&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(D){return typeof D=="object"&&D.buffer&&D.buffer.constructor===ArrayBuffer});for(var z=function(D,J,ne){return function(ie){return new f(D,J,D).update(ie)[ne]()}},L=function(D,J,ne){return function(ie,ce){return new f(D,J,ce).update(ie)[ne]()}},W=function(D,J,ne){return function(ie,ce,Se,ye){return d["cshake"+D].update(ie,ce,Se,ye)[ne]()}},H=function(D,J,ne){return function(ie,ce,Se,ye){return d["kmac"+D].update(ie,ce,Se,ye)[ne]()}},G=function(D,J,ne,ie){for(var ce=0;ce<O.length;++ce){var Se=O[ce];D[Se]=J(ne,ie,Se)}return D},N=function(D,J){var ne=z(D,J,"hex");return ne.create=function(){return new f(D,J,D)},ne.update=function(ie){return ne.create().update(ie)},G(ne,z,D,J)},F=function(D,J){var ne=L(D,J,"hex");return ne.create=function(ie){return new f(D,J,ie)},ne.update=function(ie,ce){return ne.create(ce).update(ie)},G(ne,L,D,J)},U=function(D,J){var ne=P[D],ie=W(D,J,"hex");return ie.create=function(ce,Se,ye){return!Se&&!ye?d["shake"+D].create(ce):new f(D,J,ce).bytepad([Se,ye],ne)},ie.update=function(ce,Se,ye,Ae){return ie.create(Se,ye,Ae).update(ce)},G(ie,W,D,J)},j=function(D,J){var ne=P[D],ie=H(D,J,"hex");return ie.create=function(ce,Se,ye){return new S(D,J,Se).bytepad(["KMAC",ye],ne).bytepad([ce],ne)},ie.update=function(ce,Se,ye,Ae){return ie.create(ce,ye,Ae).update(Se)},G(ie,H,D,J)},_=[{name:"keccak",padding:m,bits:A,createMethod:N},{name:"sha3",padding:y,bits:A,createMethod:N},{name:"shake",padding:c,bits:M,createMethod:F},{name:"cshake",padding:h,bits:M,createMethod:U},{name:"kmac",padding:h,bits:M,createMethod:j}],d={},g=[],x=0;x<_.length;++x)for(var C=_[x],k=C.bits,T=0;T<k.length;++T){var R=C.name+"_"+k[T];if(g.push(R),d[R]=C.createMethod(k[T],C.padding),C.name!=="sha3"){var I=C.name+k[T];g.push(I),d[I]=d[R]}}function f(D,J,ne){this.blocks=[],this.s=[],this.padding=J,this.outputBits=ne,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(D<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=ne>>5,this.extraBytes=(ne&31)>>3;for(var ie=0;ie<50;++ie)this.s[ie]=0}f.prototype.update=function(D){if(this.finalized)throw new Error(r);var J,ne=typeof D;if(ne!=="string"){if(ne==="object"){if(D===null)throw new Error(e);if(l&&D.constructor===ArrayBuffer)D=new Uint8Array(D);else if(!Array.isArray(D)&&(!l||!ArrayBuffer.isView(D)))throw new Error(e)}else throw new Error(e);J=!0}for(var ie=this.blocks,ce=this.byteCount,Se=D.length,ye=this.blockCount,Ae=0,tt=this.s,Ce,je;Ae<Se;){if(this.reset)for(this.reset=!1,ie[0]=this.block,Ce=1;Ce<ye+1;++Ce)ie[Ce]=0;if(J)for(Ce=this.start;Ae<Se&&Ce<ce;++Ae)ie[Ce>>2]|=D[Ae]<<b[Ce++&3];else for(Ce=this.start;Ae<Se&&Ce<ce;++Ae)je=D.charCodeAt(Ae),je<128?ie[Ce>>2]|=je<<b[Ce++&3]:je<2048?(ie[Ce>>2]|=(192|je>>6)<<b[Ce++&3],ie[Ce>>2]|=(128|je&63)<<b[Ce++&3]):je<55296||je>=57344?(ie[Ce>>2]|=(224|je>>12)<<b[Ce++&3],ie[Ce>>2]|=(128|je>>6&63)<<b[Ce++&3],ie[Ce>>2]|=(128|je&63)<<b[Ce++&3]):(je=65536+((je&1023)<<10|D.charCodeAt(++Ae)&1023),ie[Ce>>2]|=(240|je>>18)<<b[Ce++&3],ie[Ce>>2]|=(128|je>>12&63)<<b[Ce++&3],ie[Ce>>2]|=(128|je>>6&63)<<b[Ce++&3],ie[Ce>>2]|=(128|je&63)<<b[Ce++&3]);if(this.lastByteIndex=Ce,Ce>=ce){for(this.start=Ce-ce,this.block=ie[ye],Ce=0;Ce<ye;++Ce)tt[Ce]^=ie[Ce];K(tt),this.reset=!0}else this.start=Ce}return this},f.prototype.encode=function(D,J){var ne=D&255,ie=1,ce=[ne];for(D=D>>8,ne=D&255;ne>0;)ce.unshift(ne),D=D>>8,ne=D&255,++ie;return J?ce.push(ie):ce.unshift(ie),this.update(ce),ce.length},f.prototype.encodeString=function(D){var J,ne=typeof D;if(ne!=="string"){if(ne==="object"){if(D===null)throw new Error(e);if(l&&D.constructor===ArrayBuffer)D=new Uint8Array(D);else if(!Array.isArray(D)&&(!l||!ArrayBuffer.isView(D)))throw new Error(e)}else throw new Error(e);J=!0}var ie=0,ce=D.length;if(J)ie=ce;else for(var Se=0;Se<D.length;++Se){var ye=D.charCodeAt(Se);ye<128?ie+=1:ye<2048?ie+=2:ye<55296||ye>=57344?ie+=3:(ye=65536+((ye&1023)<<10|D.charCodeAt(++Se)&1023),ie+=4)}return ie+=this.encode(ie*8),this.update(D),ie},f.prototype.bytepad=function(D,J){for(var ne=this.encode(J),ie=0;ie<D.length;++ie)ne+=this.encodeString(D[ie]);var ce=J-ne%J,Se=[];return Se.length=ce,this.update(Se),this},f.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var D=this.blocks,J=this.lastByteIndex,ne=this.blockCount,ie=this.s;if(D[J>>2]|=this.padding[J&3],this.lastByteIndex===this.byteCount)for(D[0]=D[ne],J=1;J<ne+1;++J)D[J]=0;for(D[ne-1]|=2147483648,J=0;J<ne;++J)ie[J]^=D[J];K(ie)}},f.prototype.toString=f.prototype.hex=function(){this.finalize();for(var D=this.blockCount,J=this.s,ne=this.outputBlocks,ie=this.extraBytes,ce=0,Se=0,ye="",Ae;Se<ne;){for(ce=0;ce<D&&Se<ne;++ce,++Se)Ae=J[ce],ye+=u[Ae>>4&15]+u[Ae&15]+u[Ae>>12&15]+u[Ae>>8&15]+u[Ae>>20&15]+u[Ae>>16&15]+u[Ae>>28&15]+u[Ae>>24&15];Se%D===0&&(K(J),ce=0)}return ie&&(Ae=J[ce],ye+=u[Ae>>4&15]+u[Ae&15],ie>1&&(ye+=u[Ae>>12&15]+u[Ae>>8&15]),ie>2&&(ye+=u[Ae>>20&15]+u[Ae>>16&15])),ye},f.prototype.arrayBuffer=function(){this.finalize();var D=this.blockCount,J=this.s,ne=this.outputBlocks,ie=this.extraBytes,ce=0,Se=0,ye=this.outputBits>>3,Ae;ie?Ae=new ArrayBuffer(ne+1<<2):Ae=new ArrayBuffer(ye);for(var tt=new Uint32Array(Ae);Se<ne;){for(ce=0;ce<D&&Se<ne;++ce,++Se)tt[Se]=J[ce];Se%D===0&&K(J)}return ie&&(tt[ce]=J[ce],Ae=Ae.slice(0,ye)),Ae},f.prototype.buffer=f.prototype.arrayBuffer,f.prototype.digest=f.prototype.array=function(){this.finalize();for(var D=this.blockCount,J=this.s,ne=this.outputBlocks,ie=this.extraBytes,ce=0,Se=0,ye=[],Ae,tt;Se<ne;){for(ce=0;ce<D&&Se<ne;++ce,++Se)Ae=Se<<2,tt=J[ce],ye[Ae]=tt&255,ye[Ae+1]=tt>>8&255,ye[Ae+2]=tt>>16&255,ye[Ae+3]=tt>>24&255;Se%D===0&&K(J)}return ie&&(Ae=Se<<2,tt=J[ce],ye[Ae]=tt&255,ie>1&&(ye[Ae+1]=tt>>8&255),ie>2&&(ye[Ae+2]=tt>>16&255)),ye};function S(D,J,ne){f.call(this,D,J,ne)}S.prototype=new f,S.prototype.finalize=function(){return this.encode(this.outputBits,!0),f.prototype.finalize.call(this)};var K=function(D){var J,ne,ie,ce,Se,ye,Ae,tt,Ce,je,mt,pe,Le,Mt,Ie,Me,ht,Je,De,At,it,et,St,Xe,se,X,ee,oe,ge,fe,ve,ut,Pe,Ye,Ut,Oe,nt,hr,Fe,ct,Nr,dt,Y,V,Z,te,ae,le,de,Ze,Be,He,qt,Ge,ot,Nt,lt,at,Ir,$r,_r,Sr,jr;for(ie=0;ie<48;ie+=2)ce=D[0]^D[10]^D[20]^D[30]^D[40],Se=D[1]^D[11]^D[21]^D[31]^D[41],ye=D[2]^D[12]^D[22]^D[32]^D[42],Ae=D[3]^D[13]^D[23]^D[33]^D[43],tt=D[4]^D[14]^D[24]^D[34]^D[44],Ce=D[5]^D[15]^D[25]^D[35]^D[45],je=D[6]^D[16]^D[26]^D[36]^D[46],mt=D[7]^D[17]^D[27]^D[37]^D[47],pe=D[8]^D[18]^D[28]^D[38]^D[48],Le=D[9]^D[19]^D[29]^D[39]^D[49],J=pe^(ye<<1|Ae>>>31),ne=Le^(Ae<<1|ye>>>31),D[0]^=J,D[1]^=ne,D[10]^=J,D[11]^=ne,D[20]^=J,D[21]^=ne,D[30]^=J,D[31]^=ne,D[40]^=J,D[41]^=ne,J=ce^(tt<<1|Ce>>>31),ne=Se^(Ce<<1|tt>>>31),D[2]^=J,D[3]^=ne,D[12]^=J,D[13]^=ne,D[22]^=J,D[23]^=ne,D[32]^=J,D[33]^=ne,D[42]^=J,D[43]^=ne,J=ye^(je<<1|mt>>>31),ne=Ae^(mt<<1|je>>>31),D[4]^=J,D[5]^=ne,D[14]^=J,D[15]^=ne,D[24]^=J,D[25]^=ne,D[34]^=J,D[35]^=ne,D[44]^=J,D[45]^=ne,J=tt^(pe<<1|Le>>>31),ne=Ce^(Le<<1|pe>>>31),D[6]^=J,D[7]^=ne,D[16]^=J,D[17]^=ne,D[26]^=J,D[27]^=ne,D[36]^=J,D[37]^=ne,D[46]^=J,D[47]^=ne,J=je^(ce<<1|Se>>>31),ne=mt^(Se<<1|ce>>>31),D[8]^=J,D[9]^=ne,D[18]^=J,D[19]^=ne,D[28]^=J,D[29]^=ne,D[38]^=J,D[39]^=ne,D[48]^=J,D[49]^=ne,Mt=D[0],Ie=D[1],te=D[11]<<4|D[10]>>>28,ae=D[10]<<4|D[11]>>>28,oe=D[20]<<3|D[21]>>>29,ge=D[21]<<3|D[20]>>>29,$r=D[31]<<9|D[30]>>>23,_r=D[30]<<9|D[31]>>>23,dt=D[40]<<18|D[41]>>>14,Y=D[41]<<18|D[40]>>>14,Ye=D[2]<<1|D[3]>>>31,Ut=D[3]<<1|D[2]>>>31,Me=D[13]<<12|D[12]>>>20,ht=D[12]<<12|D[13]>>>20,le=D[22]<<10|D[23]>>>22,de=D[23]<<10|D[22]>>>22,fe=D[33]<<13|D[32]>>>19,ve=D[32]<<13|D[33]>>>19,Sr=D[42]<<2|D[43]>>>30,jr=D[43]<<2|D[42]>>>30,Ge=D[5]<<30|D[4]>>>2,ot=D[4]<<30|D[5]>>>2,Oe=D[14]<<6|D[15]>>>26,nt=D[15]<<6|D[14]>>>26,Je=D[25]<<11|D[24]>>>21,De=D[24]<<11|D[25]>>>21,Ze=D[34]<<15|D[35]>>>17,Be=D[35]<<15|D[34]>>>17,ut=D[45]<<29|D[44]>>>3,Pe=D[44]<<29|D[45]>>>3,Xe=D[6]<<28|D[7]>>>4,se=D[7]<<28|D[6]>>>4,Nt=D[17]<<23|D[16]>>>9,lt=D[16]<<23|D[17]>>>9,hr=D[26]<<25|D[27]>>>7,Fe=D[27]<<25|D[26]>>>7,At=D[36]<<21|D[37]>>>11,it=D[37]<<21|D[36]>>>11,He=D[47]<<24|D[46]>>>8,qt=D[46]<<24|D[47]>>>8,V=D[8]<<27|D[9]>>>5,Z=D[9]<<27|D[8]>>>5,X=D[18]<<20|D[19]>>>12,ee=D[19]<<20|D[18]>>>12,at=D[29]<<7|D[28]>>>25,Ir=D[28]<<7|D[29]>>>25,ct=D[38]<<8|D[39]>>>24,Nr=D[39]<<8|D[38]>>>24,et=D[48]<<14|D[49]>>>18,St=D[49]<<14|D[48]>>>18,D[0]=Mt^~Me&Je,D[1]=Ie^~ht&De,D[10]=Xe^~X&oe,D[11]=se^~ee&ge,D[20]=Ye^~Oe&hr,D[21]=Ut^~nt&Fe,D[30]=V^~te&le,D[31]=Z^~ae&de,D[40]=Ge^~Nt&at,D[41]=ot^~lt&Ir,D[2]=Me^~Je&At,D[3]=ht^~De&it,D[12]=X^~oe&fe,D[13]=ee^~ge&ve,D[22]=Oe^~hr&ct,D[23]=nt^~Fe&Nr,D[32]=te^~le&Ze,D[33]=ae^~de&Be,D[42]=Nt^~at&$r,D[43]=lt^~Ir&_r,D[4]=Je^~At&et,D[5]=De^~it&St,D[14]=oe^~fe&ut,D[15]=ge^~ve&Pe,D[24]=hr^~ct&dt,D[25]=Fe^~Nr&Y,D[34]=le^~Ze&He,D[35]=de^~Be&qt,D[44]=at^~$r&Sr,D[45]=Ir^~_r&jr,D[6]=At^~et&Mt,D[7]=it^~St&Ie,D[16]=fe^~ut&Xe,D[17]=ve^~Pe&se,D[26]=ct^~dt&Ye,D[27]=Nr^~Y&Ut,D[36]=Ze^~He&V,D[37]=Be^~qt&Z,D[46]=$r^~Sr&Ge,D[47]=_r^~jr&ot,D[8]=et^~Mt&Me,D[9]=St^~Ie&ht,D[18]=ut^~Xe&X,D[19]=Pe^~se&ee,D[28]=dt^~Ye&Oe,D[29]=Y^~Ut&nt,D[38]=He^~V&te,D[39]=qt^~Z&ae,D[48]=Sr^~Ge&Nt,D[49]=jr^~ot&lt,D[0]^=E[ie],D[1]^=E[ie+1]};if(a)t.exports=d;else for(x=0;x<g.length;++x)i[g[x]]=d[g[x]]})()})(XS)),XS.exports}var JEe=QEe();const XEe=ds(JEe);function Ks(t){return"0x"+XEe.keccak_256(Br(t))}const e_e="strings/5.8.0",one=new st(e_e);var D3;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(D3||(D3={}));var ul;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(ul||(ul={}));function t_e(t,e,r,n,i){return one.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function ane(t,e,r,n,i){if(t===ul.BAD_PREFIX||t===ul.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===ul.OVERRUN?r.length-e-1:0}function r_e(t,e,r,n,i){return t===ul.OVERLONG?(n.push(i),0):(n.push(65533),ane(t,e,r))}const n_e=Object.freeze({error:t_e,ignore:ane,replace:r_e});function lne(t,e){e==null&&(e=n_e.error),t=Br(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7===0){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(ul.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(ul.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(ul.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let l=0;l<s;l++){let u=t[n];if((u&192)!=128){n+=e(ul.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|u&63,n++}if(a!==null){if(a>1114111){n+=e(ul.OUT_OF_RANGE,n-1-s,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(ul.UTF16_SURROGATE,n-1-s,t,r,a);continue}if(a<=o){n+=e(ul.OVERLONG,n-1-s,t,r,a);continue}r.push(a)}}return r}function Hh(t,e=D3.current){e!=D3.current&&(one.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return Br(r)}function i_e(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function V_(t,e){return i_e(lne(t,e))}function s_e(t,e=D3.current){return lne(Hh(t,e))}function cne(t){return Ks(Hh(t))}const une="hash/5.8.0";function dne(t,e){e==null&&(e=1);const r=[],n=r.forEach,i=function(s,o){n.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):r.push(a)})};return i(t,e),r}function o_e(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}function a_e(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let L=1;L<n;L++)s.push(i+=r());let o=r(),a=e;e+=o;let l=0,u=0;function c(){return l==0&&(u=u<<8|t[e++],l=8),u>>--l&1}const h=31,m=Math.pow(2,h),y=m>>>1,b=y>>1,E=m-1;let A=0;for(let L=0;L<h;L++)A=A<<1|c();let M=[],O=0,P=m;for(;;){let L=Math.floor(((A-O+1)*i-1)/P),W=0,H=n;for(;H-W>1;){let F=W+H>>>1;L<s[F]?H=F:W=F}if(W==0)break;M.push(W);let G=O+Math.floor(P*s[W]/i),N=O+Math.floor(P*s[W+1]/i)-1;for(;((G^N)&y)==0;)A=A<<1&E|c(),G=G<<1&E,N=N<<1&E|1;for(;G&~N&b;)A=A&y|A<<1&E>>>1|c(),G=G<<1^y,N=(N^y)<<1|y|1;O=G,P=1+N-G}let z=n-4;return M.map(L=>{switch(L-z){case 3:return z+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return z+256+(t[a++]<<8|t[a++]);case 1:return z+t[a++];default:return L-1}})}function l_e(t){let e=0;return()=>t[e++]}function c_e(t){return l_e(a_e(t))}function u_e(t){return t&1?~t>>1:t>>1}function d_e(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function Yz(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function h_e(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=u_e(e());return r}function V8(t,e){let r=Yz(t(),t),n=t(),i=Yz(n,t),s=d_e(n,t);for(let o=0;o<n;o++)for(let a=0;a<s[o];a++)r.push(i[o]+a);return e?r.map(o=>e[o]):r}function f_e(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(g_e(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(m_e(r,t))}return o_e(dne(e))}function p_e(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function hne(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)h_e(t,r).forEach((s,o)=>n[o].push(s));return n}function g_e(t,e){let r=1+e(),n=e(),i=p_e(e),s=hne(i.length,1+t,e);return dne(s.map((o,a)=>{const l=o[0],u=o.slice(1);return Array(i[a]).fill(void 0).map((c,h)=>{let m=h*n;return[l+h*r,u.map(y=>y+m)]})}))}function m_e(t,e){let r=1+e();return hne(r,1+t,e).map(i=>[i[0],i.slice(1)])}function y_e(t){let e=V8(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let u=V8(t,e);if(u.length==0)break;n.push({set:new Set(u),node:r()})}n.sort((u,c)=>c.set.size-u.set.size);let i=t(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,l=i==2;return{branches:n,valid:s,fe0f:o,save:a,check:l}}}function w_e(){return c_e(Xre("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const K_=w_e(),v_e=new Set(V8(K_)),b_e=new Set(V8(K_)),x_e=f_e(K_),E_e=y_e(K_),Zz=45,Qz=95;function fne(t){return s_e(t)}function __e(t){return t.filter(e=>e!=65039)}function pne(t){for(let e of t.split(".")){let r=fne(e);try{for(let n=r.lastIndexOf(Qz)-1;n>=0;n--)if(r[n]!==Qz)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===Zz&&r[3]===Zz)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function A_e(t){return pne(S_e(t,__e))}function S_e(t,e){let r=fne(t).reverse(),n=[];for(;r.length;){let i=k_e(r);if(i){n.push(...e(i));continue}let s=r.pop();if(v_e.has(s)){n.push(s);continue}if(b_e.has(s))continue;let o=x_e[s];if(o){n.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return pne(C_e(String.fromCodePoint(...n)))}function C_e(t){return t.normalize("NFC")}function k_e(t,e){var r;let n=E_e,i,s,o=[],a=t.length;for(;a;){let l=t[--a];if(n=(r=n.branches.find(u=>u.set.has(l)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)s=l;else if(n.check&&l===s)break;o.push(l),n.fe0f&&(o.push(65039),a>0&&t[a-1]==65039&&a--),n.valid&&(i=o.slice(),n.valid==2&&i.splice(1,1),t.length=a)}return i}const I_e=new st(une),gne=new Uint8Array(32);gne.fill(0);function Jz(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function mne(t){const e=Hh(A_e(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(Jz(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(Jz(e.slice(n))),r}function qx(t){typeof t!="string"&&I_e.throwArgumentError("invalid ENS name; not a string","name",t);let e=gne;const r=mne(t);for(;r.length;)e=Ks(eg([e,Ks(r.pop())]));return Dr(e)}function T_e(t){return Dr(eg(mne(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}const $_e="rlp/5.8.0",cd=new st($_e);function Xz(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function eW(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function yne(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(yne(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=Xz(n.length);return i.unshift(247+i.length),i.concat(n)}CO(t)||cd.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(Br(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=Xz(e.length);return r.unshift(183+r.length),r.concat(e)}function G_(t){return Dr(yne(t))}function tW(t,e,r,n){const i=[];for(;r<e+1+n;){const s=wne(t,r);i.push(s.result),r+=s.consumed,r>e+1+n&&cd.throwError("child data too short",st.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function wne(t,e){if(t.length===0&&cd.throwError("data too short",st.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&cd.throwError("data short segment too short",st.errors.BUFFER_OVERRUN,{});const n=eW(t,e+1,r);return e+1+r+n>t.length&&cd.throwError("data long segment too short",st.errors.BUFFER_OVERRUN,{}),tW(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&cd.throwError("data array too short",st.errors.BUFFER_OVERRUN,{}),tW(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&cd.throwError("data array too short",st.errors.BUFFER_OVERRUN,{});const n=eW(t,e+1,r);e+1+r+n>t.length&&cd.throwError("data array too short",st.errors.BUFFER_OVERRUN,{});const i=Dr(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&cd.throwError("data too short",st.errors.BUFFER_OVERRUN,{});const n=Dr(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:Dr(t[e])}}function $O(t){const e=Br(t),r=wne(e,0);return r.consumed!==e.length&&cd.throwArgumentError("invalid rlp data","data",t),r.result}const M_e="address/5.8.0",iy=new st(M_e);function rW(t){Hn(t,20)||iy.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Br(Ks(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const P_e=9007199254740991;function N_e(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const MO={};for(let t=0;t<10;t++)MO[String(t)]=String(t);for(let t=0;t<26;t++)MO[String.fromCharCode(65+t)]=String(10+t);const nW=Math.floor(N_e(P_e));function R_e(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>MO[n]).join("");for(;e.length>=nW;){let n=e.substring(0,nW);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function gu(t){let e=null;if(typeof t!="string"&&iy.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=rW(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&iy.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==R_e(t)&&iy.throwArgumentError("bad icap checksum","address",t),e=OEe(t.substring(4));e.length<40;)e="0"+e;e=rW("0x"+e)}else iy.throwArgumentError("invalid address","address",t);return e}function O_e(t){let e=null;try{e=gu(t.from)}catch{iy.throwArgumentError("missing from address","transaction",t)}const r=qy(Br(zt.from(t.nonce).toHexString()));return gu(zo(Ks(G_([e,r])),12))}var j_e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const vi=new st(une),vne=new Uint8Array(32);vne.fill(0);const L_e=zt.from(-1),bne=zt.from(0),xne=zt.from(1),D_e=zt.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function B_e(t){const e=Br(t),r=e.length%32;return r?yl([e,vne.slice(r)]):Dr(e)}const U_e=Ci(xne.toHexString(),32),F_e=Ci(bne.toHexString(),32),iW={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},eC=["name","version","chainId","verifyingContract","salt"];function sW(t){return function(e){return typeof e!="string"&&vi.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const z_e={name:sW("name"),version:sW("version"),chainId:function(t){try{return zt.from(t).toString()}catch{}return vi.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return gu(t).toLowerCase()}catch{}return vi.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=Br(t);if(e.length!==32)throw new Error("bad length");return Dr(e)}catch{}return vi.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function tC(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&vi.throwArgumentError("invalid numeric width","type",t);const i=D_e.mask(r?n-1:n),s=r?i.add(xne).mul(L_e):bne;return function(o){const a=zt.from(o);return(a.lt(s)||a.gt(i))&&vi.throwArgumentError(`value out-of-bounds for ${t}`,"value",o),Ci(a.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&vi.throwArgumentError("invalid bytes width","type",t),function(n){return Br(n).length!==r&&vi.throwArgumentError(`invalid length for ${t}`,"value",n),B_e(n)}}}switch(t){case"address":return function(e){return Ci(gu(e),32)};case"bool":return function(e){return e?U_e:F_e};case"bytes":return function(e){return Ks(e)};case"string":return function(e){return cne(e)}}return null}function oW(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}class ol{constructor(e){Xr(this,"types",Object.freeze(j3(e))),Xr(this,"_encoderCache",{}),Xr(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(a=>{r[a]={},n[a]=[],i[a]={}});for(const a in e){const l={};e[a].forEach(u=>{l[u.name]&&vi.throwArgumentError(`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(a)}`,"types",e),l[u.name]=!0;const c=u.type.match(/^([^\x5b]*)(\x5b|$)/)[1];c===a&&vi.throwArgumentError(`circular type reference to ${JSON.stringify(c)}`,"types",e),!tC(c)&&(n[c]||vi.throwArgumentError(`unknown type ${JSON.stringify(c)}`,"types",e),n[c].push(a),r[a][c]=!0)})}const s=Object.keys(n).filter(a=>n[a].length===0);s.length===0?vi.throwArgumentError("missing primary type","types",e):s.length>1&&vi.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),Xr(this,"primaryType",s[0]);function o(a,l){l[a]&&vi.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),l[a]=!0,Object.keys(r[a]).forEach(u=>{n[u]&&(o(u,l),Object.keys(l).forEach(c=>{i[c][u]=!0}))}),delete l[a]}o(this.primaryType,{});for(const a in i){const l=Object.keys(i[a]);l.sort(),this._types[a]=oW(a,e[a])+l.map(u=>oW(u,e[u])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=tC(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],s=this.getEncoder(i),o=parseInt(r[3]);return a=>{o>=0&&a.length!==o&&vi.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let l=a.map(s);return this._types[i]&&(l=l.map(Ks)),Ks(yl(l))}}const n=this.types[e];if(n){const i=cne(this._types[e]);return s=>{const o=n.map(({name:a,type:l})=>{const u=this.getEncoder(l)(s[a]);return this._types[l]?Ks(u):u});return o.unshift(i),yl(o)}}return vi.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||vi.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return Ks(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(tC(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&r.length!==a&&vi.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(l=>this._visit(o,l,n))}const s=this.types[e];return s?s.reduce((o,{name:a,type:l})=>(o[a]=this._visit(l,r[a],n),o),{}):vi.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new ol(e)}static getPrimaryType(e){return ol.from(e).primaryType}static hashStruct(e,r,n){return ol.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=iW[n];i||vi.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>eC.indexOf(n.name)-eC.indexOf(i.name)),ol.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return yl(["0x1901",ol.hashDomain(e),ol.from(r).hash(n)])}static hash(e,r,n){return Ks(ol.encode(e,r,n))}static resolveNames(e,r,n,i){return j_e(this,void 0,void 0,function*(){e=Na(e);const s={};e.verifyingContract&&!Hn(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=ol.from(r);o.visit(n,(a,l)=>(a==="address"&&!Hn(l,20)&&(s[l]="0x"),l));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=o.visit(n,(a,l)=>a==="address"&&s[l]?s[l]:l),{domain:e,value:n}})}static getPayload(e,r,n){ol.hashDomain(e);const i={},s=[];eC.forEach(l=>{const u=e[l];u!=null&&(i[l]=z_e[l](u),s.push({name:l,type:iW[l]}))});const o=ol.from(r),a=Na(r);return a.EIP712Domain?vi.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):a.EIP712Domain=s,o.encode(n),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(n,(l,u)=>{if(l.match(/^bytes(\d*)/))return Dr(Br(u));if(l.match(/^u?int/))return zt.from(u).toString();switch(l){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return typeof u!="string"&&vi.throwArgumentError("invalid string","value",u),u}return vi.throwArgumentError("unsupported type","type",l)})}}}var rC={},Dn={},nC,aW;function P5(){if(aW)return nC;aW=1,nC=t;function t(e,r){if(!e)throw new Error(r||"Assertion failed")}return t.equal=function(r,n,i){if(r!=n)throw new Error(i||"Assertion failed: "+r+" != "+n)},nC}var S4={exports:{}},lW;function W_e(){return lW||(lW=1,typeof Object.create=="function"?S4.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:S4.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),S4.exports}var cW;function Rd(){if(cW)return Dn;cW=1;var t=P5(),e=W_e();Dn.inherits=e;function r(j,_){return(j.charCodeAt(_)&64512)!==55296||_<0||_+1>=j.length?!1:(j.charCodeAt(_+1)&64512)===56320}function n(j,_){if(Array.isArray(j))return j.slice();if(!j)return[];var d=[];if(typeof j=="string")if(_){if(_==="hex")for(j=j.replace(/[^a-z0-9]+/ig,""),j.length%2!==0&&(j="0"+j),x=0;x<j.length;x+=2)d.push(parseInt(j[x]+j[x+1],16))}else for(var g=0,x=0;x<j.length;x++){var C=j.charCodeAt(x);C<128?d[g++]=C:C<2048?(d[g++]=C>>6|192,d[g++]=C&63|128):r(j,x)?(C=65536+((C&1023)<<10)+(j.charCodeAt(++x)&1023),d[g++]=C>>18|240,d[g++]=C>>12&63|128,d[g++]=C>>6&63|128,d[g++]=C&63|128):(d[g++]=C>>12|224,d[g++]=C>>6&63|128,d[g++]=C&63|128)}else for(x=0;x<j.length;x++)d[x]=j[x]|0;return d}Dn.toArray=n;function i(j){for(var _="",d=0;d<j.length;d++)_+=a(j[d].toString(16));return _}Dn.toHex=i;function s(j){var _=j>>>24|j>>>8&65280|j<<8&16711680|(j&255)<<24;return _>>>0}Dn.htonl=s;function o(j,_){for(var d="",g=0;g<j.length;g++){var x=j[g];_==="little"&&(x=s(x)),d+=l(x.toString(16))}return d}Dn.toHex32=o;function a(j){return j.length===1?"0"+j:j}Dn.zero2=a;function l(j){return j.length===7?"0"+j:j.length===6?"00"+j:j.length===5?"000"+j:j.length===4?"0000"+j:j.length===3?"00000"+j:j.length===2?"000000"+j:j.length===1?"0000000"+j:j}Dn.zero8=l;function u(j,_,d,g){var x=d-_;t(x%4===0);for(var C=new Array(x/4),k=0,T=_;k<C.length;k++,T+=4){var R;g==="big"?R=j[T]<<24|j[T+1]<<16|j[T+2]<<8|j[T+3]:R=j[T+3]<<24|j[T+2]<<16|j[T+1]<<8|j[T],C[k]=R>>>0}return C}Dn.join32=u;function c(j,_){for(var d=new Array(j.length*4),g=0,x=0;g<j.length;g++,x+=4){var C=j[g];_==="big"?(d[x]=C>>>24,d[x+1]=C>>>16&255,d[x+2]=C>>>8&255,d[x+3]=C&255):(d[x+3]=C>>>24,d[x+2]=C>>>16&255,d[x+1]=C>>>8&255,d[x]=C&255)}return d}Dn.split32=c;function h(j,_){return j>>>_|j<<32-_}Dn.rotr32=h;function m(j,_){return j<<_|j>>>32-_}Dn.rotl32=m;function y(j,_){return j+_>>>0}Dn.sum32=y;function b(j,_,d){return j+_+d>>>0}Dn.sum32_3=b;function E(j,_,d,g){return j+_+d+g>>>0}Dn.sum32_4=E;function A(j,_,d,g,x){return j+_+d+g+x>>>0}Dn.sum32_5=A;function M(j,_,d,g){var x=j[_],C=j[_+1],k=g+C>>>0,T=(k<g?1:0)+d+x;j[_]=T>>>0,j[_+1]=k}Dn.sum64=M;function O(j,_,d,g){var x=_+g>>>0,C=(x<_?1:0)+j+d;return C>>>0}Dn.sum64_hi=O;function P(j,_,d,g){var x=_+g;return x>>>0}Dn.sum64_lo=P;function z(j,_,d,g,x,C,k,T){var R=0,I=_;I=I+g>>>0,R+=I<_?1:0,I=I+C>>>0,R+=I<C?1:0,I=I+T>>>0,R+=I<T?1:0;var f=j+d+x+k+R;return f>>>0}Dn.sum64_4_hi=z;function L(j,_,d,g,x,C,k,T){var R=_+g+C+T;return R>>>0}Dn.sum64_4_lo=L;function W(j,_,d,g,x,C,k,T,R,I){var f=0,S=_;S=S+g>>>0,f+=S<_?1:0,S=S+C>>>0,f+=S<C?1:0,S=S+T>>>0,f+=S<T?1:0,S=S+I>>>0,f+=S<I?1:0;var K=j+d+x+k+R+f;return K>>>0}Dn.sum64_5_hi=W;function H(j,_,d,g,x,C,k,T,R,I){var f=_+g+C+T+I;return f>>>0}Dn.sum64_5_lo=H;function G(j,_,d){var g=_<<32-d|j>>>d;return g>>>0}Dn.rotr64_hi=G;function N(j,_,d){var g=j<<32-d|_>>>d;return g>>>0}Dn.rotr64_lo=N;function F(j,_,d){return j>>>d}Dn.shr64_hi=F;function U(j,_,d){var g=j<<32-d|_>>>d;return g>>>0}return Dn.shr64_lo=U,Dn}var iC={},uW;function N5(){if(uW)return iC;uW=1;var t=Rd(),e=P5();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return iC.BlockHash=r,r.prototype.update=function(i,s){if(i=t.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var o=i.length%this._delta8;this.pending=i.slice(i.length-o,i.length),this.pending.length===0&&(this.pending=null),i=t.join32(i,0,i.length-o,this.endian);for(var a=0;a<i.length;a+=this._delta32)this._update(i,a,a+this._delta32)}return this},r.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},r.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,o=s-(i+this.padLength)%s,a=new Array(o+this.padLength);a[0]=128;for(var l=1;l<o;l++)a[l]=0;if(i<<=3,this.endian==="big"){for(var u=8;u<this.padLength;u++)a[l++]=0;a[l++]=0,a[l++]=0,a[l++]=0,a[l++]=0,a[l++]=i>>>24&255,a[l++]=i>>>16&255,a[l++]=i>>>8&255,a[l++]=i&255}else for(a[l++]=i&255,a[l++]=i>>>8&255,a[l++]=i>>>16&255,a[l++]=i>>>24&255,a[l++]=0,a[l++]=0,a[l++]=0,a[l++]=0,u=8;u<this.padLength;u++)a[l++]=0;return a},iC}var Ip={},Uu={},dW;function Ene(){if(dW)return Uu;dW=1;var t=Rd(),e=t.rotr32;function r(c,h,m,y){if(c===0)return n(h,m,y);if(c===1||c===3)return s(h,m,y);if(c===2)return i(h,m,y)}Uu.ft_1=r;function n(c,h,m){return c&h^~c&m}Uu.ch32=n;function i(c,h,m){return c&h^c&m^h&m}Uu.maj32=i;function s(c,h,m){return c^h^m}Uu.p32=s;function o(c){return e(c,2)^e(c,13)^e(c,22)}Uu.s0_256=o;function a(c){return e(c,6)^e(c,11)^e(c,25)}Uu.s1_256=a;function l(c){return e(c,7)^e(c,18)^c>>>3}Uu.g0_256=l;function u(c){return e(c,17)^e(c,19)^c>>>10}return Uu.g1_256=u,Uu}var sC,hW;function q_e(){if(hW)return sC;hW=1;var t=Rd(),e=N5(),r=Ene(),n=t.rotl32,i=t.sum32,s=t.sum32_5,o=r.ft_1,a=e.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function u(){if(!(this instanceof u))return new u;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(u,a),sC=u,u.blockSize=512,u.outSize=160,u.hmacStrength=80,u.padLength=64,u.prototype._update=function(h,m){for(var y=this.W,b=0;b<16;b++)y[b]=h[m+b];for(;b<y.length;b++)y[b]=n(y[b-3]^y[b-8]^y[b-14]^y[b-16],1);var E=this.h[0],A=this.h[1],M=this.h[2],O=this.h[3],P=this.h[4];for(b=0;b<y.length;b++){var z=~~(b/20),L=s(n(E,5),o(z,A,M,O),P,y[b],l[z]);P=O,O=M,M=n(A,30),A=E,E=L}this.h[0]=i(this.h[0],E),this.h[1]=i(this.h[1],A),this.h[2]=i(this.h[2],M),this.h[3]=i(this.h[3],O),this.h[4]=i(this.h[4],P)},u.prototype._digest=function(h){return h==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},sC}var oC,fW;function _ne(){if(fW)return oC;fW=1;var t=Rd(),e=N5(),r=Ene(),n=P5(),i=t.sum32,s=t.sum32_4,o=t.sum32_5,a=r.ch32,l=r.maj32,u=r.s0_256,c=r.s1_256,h=r.g0_256,m=r.g1_256,y=e.BlockHash,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function E(){if(!(this instanceof E))return new E;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=b,this.W=new Array(64)}return t.inherits(E,y),oC=E,E.blockSize=512,E.outSize=256,E.hmacStrength=192,E.padLength=64,E.prototype._update=function(M,O){for(var P=this.W,z=0;z<16;z++)P[z]=M[O+z];for(;z<P.length;z++)P[z]=s(m(P[z-2]),P[z-7],h(P[z-15]),P[z-16]);var L=this.h[0],W=this.h[1],H=this.h[2],G=this.h[3],N=this.h[4],F=this.h[5],U=this.h[6],j=this.h[7];for(n(this.k.length===P.length),z=0;z<P.length;z++){var _=o(j,c(N),a(N,F,U),this.k[z],P[z]),d=i(u(L),l(L,W,H));j=U,U=F,F=N,N=i(G,_),G=H,H=W,W=L,L=i(_,d)}this.h[0]=i(this.h[0],L),this.h[1]=i(this.h[1],W),this.h[2]=i(this.h[2],H),this.h[3]=i(this.h[3],G),this.h[4]=i(this.h[4],N),this.h[5]=i(this.h[5],F),this.h[6]=i(this.h[6],U),this.h[7]=i(this.h[7],j)},E.prototype._digest=function(M){return M==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},oC}var aC,pW;function H_e(){if(pW)return aC;pW=1;var t=Rd(),e=_ne();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(r,e),aC=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},aC}var lC,gW;function Ane(){if(gW)return lC;gW=1;var t=Rd(),e=N5(),r=P5(),n=t.rotr64_hi,i=t.rotr64_lo,s=t.shr64_hi,o=t.shr64_lo,a=t.sum64,l=t.sum64_hi,u=t.sum64_lo,c=t.sum64_4_hi,h=t.sum64_4_lo,m=t.sum64_5_hi,y=t.sum64_5_lo,b=e.BlockHash,E=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function A(){if(!(this instanceof A))return new A;b.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=E,this.W=new Array(160)}t.inherits(A,b),lC=A,A.blockSize=1024,A.outSize=512,A.hmacStrength=192,A.padLength=128,A.prototype._prepareBlock=function(d,g){for(var x=this.W,C=0;C<32;C++)x[C]=d[g+C];for(;C<x.length;C+=2){var k=U(x[C-4],x[C-3]),T=j(x[C-4],x[C-3]),R=x[C-14],I=x[C-13],f=N(x[C-30],x[C-29]),S=F(x[C-30],x[C-29]),K=x[C-32],D=x[C-31];x[C]=c(k,T,R,I,f,S,K,D),x[C+1]=h(k,T,R,I,f,S,K,D)}},A.prototype._update=function(d,g){this._prepareBlock(d,g);var x=this.W,C=this.h[0],k=this.h[1],T=this.h[2],R=this.h[3],I=this.h[4],f=this.h[5],S=this.h[6],K=this.h[7],D=this.h[8],J=this.h[9],ne=this.h[10],ie=this.h[11],ce=this.h[12],Se=this.h[13],ye=this.h[14],Ae=this.h[15];r(this.k.length===x.length);for(var tt=0;tt<x.length;tt+=2){var Ce=ye,je=Ae,mt=H(D,J),pe=G(D,J),Le=M(D,J,ne,ie,ce),Mt=O(D,J,ne,ie,ce,Se),Ie=this.k[tt],Me=this.k[tt+1],ht=x[tt],Je=x[tt+1],De=m(Ce,je,mt,pe,Le,Mt,Ie,Me,ht,Je),At=y(Ce,je,mt,pe,Le,Mt,Ie,Me,ht,Je);Ce=L(C,k),je=W(C,k),mt=P(C,k,T,R,I),pe=z(C,k,T,R,I,f);var it=l(Ce,je,mt,pe),et=u(Ce,je,mt,pe);ye=ce,Ae=Se,ce=ne,Se=ie,ne=D,ie=J,D=l(S,K,De,At),J=u(K,K,De,At),S=I,K=f,I=T,f=R,T=C,R=k,C=l(De,At,it,et),k=u(De,At,it,et)}a(this.h,0,C,k),a(this.h,2,T,R),a(this.h,4,I,f),a(this.h,6,S,K),a(this.h,8,D,J),a(this.h,10,ne,ie),a(this.h,12,ce,Se),a(this.h,14,ye,Ae)},A.prototype._digest=function(d){return d==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function M(_,d,g,x,C){var k=_&g^~_&C;return k<0&&(k+=4294967296),k}function O(_,d,g,x,C,k){var T=d&x^~d&k;return T<0&&(T+=4294967296),T}function P(_,d,g,x,C){var k=_&g^_&C^g&C;return k<0&&(k+=4294967296),k}function z(_,d,g,x,C,k){var T=d&x^d&k^x&k;return T<0&&(T+=4294967296),T}function L(_,d){var g=n(_,d,28),x=n(d,_,2),C=n(d,_,7),k=g^x^C;return k<0&&(k+=4294967296),k}function W(_,d){var g=i(_,d,28),x=i(d,_,2),C=i(d,_,7),k=g^x^C;return k<0&&(k+=4294967296),k}function H(_,d){var g=n(_,d,14),x=n(_,d,18),C=n(d,_,9),k=g^x^C;return k<0&&(k+=4294967296),k}function G(_,d){var g=i(_,d,14),x=i(_,d,18),C=i(d,_,9),k=g^x^C;return k<0&&(k+=4294967296),k}function N(_,d){var g=n(_,d,1),x=n(_,d,8),C=s(_,d,7),k=g^x^C;return k<0&&(k+=4294967296),k}function F(_,d){var g=i(_,d,1),x=i(_,d,8),C=o(_,d,7),k=g^x^C;return k<0&&(k+=4294967296),k}function U(_,d){var g=n(_,d,19),x=n(d,_,29),C=s(_,d,6),k=g^x^C;return k<0&&(k+=4294967296),k}function j(_,d){var g=i(_,d,19),x=i(d,_,29),C=o(_,d,6),k=g^x^C;return k<0&&(k+=4294967296),k}return lC}var cC,mW;function V_e(){if(mW)return cC;mW=1;var t=Rd(),e=Ane();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(r,e),cC=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},cC}var yW;function K_e(){return yW||(yW=1,Ip.sha1=q_e(),Ip.sha224=H_e(),Ip.sha256=_ne(),Ip.sha384=V_e(),Ip.sha512=Ane()),Ip}var uC={},wW;function G_e(){if(wW)return uC;wW=1;var t=Rd(),e=N5(),r=t.rotl32,n=t.sum32,i=t.sum32_3,s=t.sum32_4,o=e.BlockHash;function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(a,o),uC.ripemd160=a,a.blockSize=512,a.outSize=160,a.hmacStrength=192,a.padLength=64,a.prototype._update=function(A,M){for(var O=this.h[0],P=this.h[1],z=this.h[2],L=this.h[3],W=this.h[4],H=O,G=P,N=z,F=L,U=W,j=0;j<80;j++){var _=n(r(s(O,l(j,P,z,L),A[h[j]+M],u(j)),y[j]),W);O=W,W=L,L=r(z,10),z=P,P=_,_=n(r(s(H,l(79-j,G,N,F),A[m[j]+M],c(j)),b[j]),U),H=U,U=F,F=r(N,10),N=G,G=_}_=i(this.h[1],z,F),this.h[1]=i(this.h[2],L,U),this.h[2]=i(this.h[3],W,H),this.h[3]=i(this.h[4],O,G),this.h[4]=i(this.h[0],P,N),this.h[0]=_},a.prototype._digest=function(A){return A==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function l(E,A,M,O){return E<=15?A^M^O:E<=31?A&M|~A&O:E<=47?(A|~M)^O:E<=63?A&O|M&~O:A^(M|~O)}function u(E){return E<=15?0:E<=31?1518500249:E<=47?1859775393:E<=63?2400959708:2840853838}function c(E){return E<=15?1352829926:E<=31?1548603684:E<=47?1836072691:E<=63?2053994217:0}var h=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],b=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return uC}var dC,vW;function Y_e(){if(vW)return dC;vW=1;var t=Rd(),e=P5();function r(n,i,s){if(!(this instanceof r))return new r(n,i,s);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(i,s))}return dC=r,r.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var s=i.length;s<this.blockSize;s++)i.push(0);for(s=0;s<i.length;s++)i[s]^=54;for(this.inner=new this.Hash().update(i),s=0;s<i.length;s++)i[s]^=106;this.outer=new this.Hash().update(i)},r.prototype.update=function(i,s){return this.inner.update(i,s),this},r.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},dC}var bW;function Z_e(){return bW||(bW=1,(function(t){var e=t;e.utils=Rd(),e.common=N5(),e.sha=K_e(),e.ripemd=G_e(),e.hmac=Y_e(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(rC)),rC}var Q_e=Z_e();const id=ds(Q_e);function xW(t){return"0x"+id.sha256().update(Br(t)).digest("hex")}const J_e="web/5.8.0";var X_e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};function e9e(t,e){return X_e(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(r.mode=o.mode),o.cache&&(r.cache=o.cache),o.credentials&&(r.credentials=o.credentials),o.redirect&&(r.redirect=o.redirect),o.referrer&&(r.referrer=o.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),s={};return n.headers.forEach?n.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):n.headers.keys().forEach(o=>{s[o.toLowerCase()]=n.headers.get(o)}),{headers:s,statusCode:n.status,statusMessage:n.statusText,body:Br(new Uint8Array(i))}})}var t9e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Dc=new st(J_e);function EW(t){return new Promise(e=>{setTimeout(e,t)})}function xf(t,e){if(t==null)return null;if(typeof t=="string")return t;if(CO(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return V_(t)}catch{}return Dr(t)}return t}function r9e(t){return Hh(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function n9e(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;Dc.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof t=="object"?t.throttleCallback:null,s=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;Dc.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof t=="object"?!!t.errorPassThrough:!1,a={};let l=null;const u={method:"GET"};let c=!1,h=120*1e3;if(typeof t=="string")l=t;else if(typeof t=="object"){if((t==null||t.url==null)&&Dc.throwArgumentError("missing URL","connection.url",t),l=t.url,typeof t.timeout=="number"&&t.timeout>0&&(h=t.timeout),t.headers)for(const M in t.headers)a[M.toLowerCase()]={key:M,value:String(t.headers[M])},["if-none-match","if-modified-since"].indexOf(M.toLowerCase())>=0&&(c=!0);if(u.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){l.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&Dc.throwError("basic authentication requires a secure https url",st.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:t.user,password:"[REDACTED]"});const M=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+ene(Hh(M))}}t.skipFetchSetup!=null&&(u.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(u.fetchOptions=Na(t.fetchOptions))}const m=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),y=l?l.match(m):null;if(y)try{const M={statusCode:200,statusMessage:"OK",headers:{"content-type":y[1]||"text/plain"},body:y[2]?Xre(y[3]):r9e(y[3])};let O=M.body;return r&&(O=r(M.body,M)),Promise.resolve(O)}catch(M){Dc.throwError("processing response error",st.errors.SERVER_ERROR,{body:xf(y[1],y[2]),error:M,requestBody:null,requestMethod:"GET",url:l})}e&&(u.method="POST",u.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const b={};Object.keys(a).forEach(M=>{const O=a[M];b[O.key]=O.value}),u.headers=b;const E=(function(){let M=null;return{promise:new Promise(function(z,L){h&&(M=setTimeout(()=>{M!=null&&(M=null,L(Dc.makeError("timeout",st.errors.TIMEOUT,{requestBody:xf(u.body,b["content-type"]),requestMethod:u.method,timeout:h,url:l})))},h))}),cancel:function(){M!=null&&(clearTimeout(M),M=null)}}})(),A=(function(){return t9e(this,void 0,void 0,function*(){for(let M=0;M<n;M++){let O=null;try{if(O=yield e9e(l,u),M<n){if(O.statusCode===301||O.statusCode===302){const z=O.headers.location||"";if(u.method==="GET"&&z.match(/^https:/)){l=O.headers.location;continue}}else if(O.statusCode===429){let z=!0;if(i&&(z=yield i(M,l)),z){let L=0;const W=O.headers["retry-after"];typeof W=="string"&&W.match(/^[1-9][0-9]*$/)?L=parseInt(W)*1e3:L=s*parseInt(String(Math.random()*Math.pow(2,M))),yield EW(L);continue}}}}catch(z){O=z.response,O==null&&(E.cancel(),Dc.throwError("missing response",st.errors.SERVER_ERROR,{requestBody:xf(u.body,b["content-type"]),requestMethod:u.method,serverError:z,url:l}))}let P=O.body;if(c&&O.statusCode===304?P=null:!o&&(O.statusCode<200||O.statusCode>=300)&&(E.cancel(),Dc.throwError("bad response",st.errors.SERVER_ERROR,{status:O.statusCode,headers:O.headers,body:xf(P,O.headers?O.headers["content-type"]:null),requestBody:xf(u.body,b["content-type"]),requestMethod:u.method,url:l})),r)try{const z=yield r(P,O);return E.cancel(),z}catch(z){if(z.throttleRetry&&M<n){let L=!0;if(i&&(L=yield i(M,l)),L){const W=s*parseInt(String(Math.random()*Math.pow(2,M)));yield EW(W);continue}}E.cancel(),Dc.throwError("processing response error",st.errors.SERVER_ERROR,{body:xf(P,O.headers?O.headers["content-type"]:null),error:z,requestBody:xf(u.body,b["content-type"]),requestMethod:u.method,url:l})}return E.cancel(),P}return Dc.throwError("failed response",st.errors.SERVER_ERROR,{requestBody:xf(u.body,b["content-type"]),requestMethod:u.method,url:l})})})();return Promise.race([E.promise,A])}function PO(t,e,r){let n=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(V_(s))}catch(l){Dc.throwError("invalid JSON",st.errors.SERVER_ERROR,{body:s,error:l})}return r&&(a=r(a,o)),a},i=null;if(e!=null){i=Hh(e);const s=typeof t=="string"?{url:t}:Na(t);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=Na(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},t=s}return n9e(t,i,n)}function Kv(t,e){return e||(e={}),e=Na(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&n(new Error("timeout"))},e.timeout));const a=e.retryLimit;let l=0;function u(){return t().then(function(c){if(c!==void 0)o()&&r(c);else if(e.oncePoll)e.oncePoll.once("poll",u);else if(e.onceBlock)e.onceBlock.once("block",u);else if(!s){if(l++,l>a){o()&&n(new Error("retry limit reached"));return}let h=e.interval*parseInt(String(Math.random()*Math.pow(2,l)));h<e.floor&&(h=e.floor),h>e.ceiling&&(h=e.ceiling),setTimeout(u,h)}return null},function(c){o()&&n(c)})}u()})}var hC,_W;function i9e(){if(_W)return hC;_W=1;for(var t="qpzry9x8gf2tvdw0s3jn54khce6mua7l",e={},r=0;r<t.length;r++){var n=t.charAt(r);if(e[n]!==void 0)throw new TypeError(n+" is ambiguous");e[n]=r}function i(E){var A=E>>25;return(E&33554431)<<5^-(A>>0&1)&996825010^-(A>>1&1)&642813549^-(A>>2&1)&513874426^-(A>>3&1)&1027748829^-(A>>4&1)&705979059}function s(E){for(var A=1,M=0;M<E.length;++M){var O=E.charCodeAt(M);if(O<33||O>126)return"Invalid prefix ("+E+")";A=i(A)^O>>5}for(A=i(A),M=0;M<E.length;++M){var P=E.charCodeAt(M);A=i(A)^P&31}return A}function o(E,A,M){if(M=M||90,E.length+7+A.length>M)throw new TypeError("Exceeds length limit");E=E.toLowerCase();var O=s(E);if(typeof O=="string")throw new Error(O);for(var P=E+"1",z=0;z<A.length;++z){var L=A[z];if(L>>5!==0)throw new Error("Non 5-bit word");O=i(O)^L,P+=t.charAt(L)}for(z=0;z<6;++z)O=i(O);for(O^=1,z=0;z<6;++z){var W=O>>(5-z)*5&31;P+=t.charAt(W)}return P}function a(E,A){if(A=A||90,E.length<8)return E+" too short";if(E.length>A)return"Exceeds length limit";var M=E.toLowerCase(),O=E.toUpperCase();if(E!==M&&E!==O)return"Mixed-case string "+E;E=M;var P=E.lastIndexOf("1");if(P===-1)return"No separator character for "+E;if(P===0)return"Missing prefix for "+E;var z=E.slice(0,P),L=E.slice(P+1);if(L.length<6)return"Data too short";var W=s(z);if(typeof W=="string")return W;for(var H=[],G=0;G<L.length;++G){var N=L.charAt(G),F=e[N];if(F===void 0)return"Unknown character "+N;W=i(W)^F,!(G+6>=L.length)&&H.push(F)}return W!==1?"Invalid checksum for "+E:{prefix:z,words:H}}function l(){var E=a.apply(null,arguments);if(typeof E=="object")return E}function u(E){var A=a.apply(null,arguments);if(typeof A=="object")return A;throw new Error(A)}function c(E,A,M,O){for(var P=0,z=0,L=(1<<M)-1,W=[],H=0;H<E.length;++H)for(P=P<<A|E[H],z+=A;z>=M;)z-=M,W.push(P>>z&L);if(O)z>0&&W.push(P<<M-z&L);else{if(z>=A)return"Excess padding";if(P<<M-z&L)return"Non-zero padding"}return W}function h(E){var A=c(E,8,5,!0);if(Array.isArray(A))return A}function m(E){var A=c(E,8,5,!0);if(Array.isArray(A))return A;throw new Error(A)}function y(E){var A=c(E,5,8,!1);if(Array.isArray(A))return A}function b(E){var A=c(E,5,8,!1);if(Array.isArray(A))return A;throw new Error(A)}return hC={decodeUnsafe:l,decode:u,encode:o,toWordsUnsafe:h,toWords:m,fromWordsUnsafe:y,fromWords:b},hC}var s9e=i9e();const AW=ds(s9e),Y_="providers/5.8.0";var Hx={exports:{}},o9e=Hx.exports,SW;function a9e(){return SW||(SW=1,(function(t){(function(e,r){function n(_,d){if(!_)throw new Error(d||"Assertion failed")}function i(_,d){_.super_=d;var g=function(){};g.prototype=d.prototype,_.prototype=new g,_.prototype.constructor=_}function s(_,d,g){if(s.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&((d==="le"||d==="be")&&(g=d,d=10),this._init(_||0,d||10,g||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Tw().Buffer}catch{}s.isBN=function(d){return d instanceof s?!0:d!==null&&typeof d=="object"&&d.constructor.wordSize===s.wordSize&&Array.isArray(d.words)},s.max=function(d,g){return d.cmp(g)>0?d:g},s.min=function(d,g){return d.cmp(g)<0?d:g},s.prototype._init=function(d,g,x){if(typeof d=="number")return this._initNumber(d,g,x);if(typeof d=="object")return this._initArray(d,g,x);g==="hex"&&(g=16),n(g===(g|0)&&g>=2&&g<=36),d=d.toString().replace(/\s+/g,"");var C=0;d[0]==="-"&&(C++,this.negative=1),C<d.length&&(g===16?this._parseHex(d,C,x):(this._parseBase(d,g,C),x==="le"&&this._initArray(this.toArray(),g,x)))},s.prototype._initNumber=function(d,g,x){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[d&67108863],this.length=1):d<4503599627370496?(this.words=[d&67108863,d/67108864&67108863],this.length=2):(n(d<9007199254740992),this.words=[d&67108863,d/67108864&67108863,1],this.length=3),x==="le"&&this._initArray(this.toArray(),g,x)},s.prototype._initArray=function(d,g,x){if(n(typeof d.length=="number"),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var k,T,R=0;if(x==="be")for(C=d.length-1,k=0;C>=0;C-=3)T=d[C]|d[C-1]<<8|d[C-2]<<16,this.words[k]|=T<<R&67108863,this.words[k+1]=T>>>26-R&67108863,R+=24,R>=26&&(R-=26,k++);else if(x==="le")for(C=0,k=0;C<d.length;C+=3)T=d[C]|d[C+1]<<8|d[C+2]<<16,this.words[k]|=T<<R&67108863,this.words[k+1]=T>>>26-R&67108863,R+=24,R>=26&&(R-=26,k++);return this._strip()};function a(_,d){var g=_.charCodeAt(d);if(g>=48&&g<=57)return g-48;if(g>=65&&g<=70)return g-55;if(g>=97&&g<=102)return g-87;n(!1,"Invalid character in "+_)}function l(_,d,g){var x=a(_,g);return g-1>=d&&(x|=a(_,g-1)<<4),x}s.prototype._parseHex=function(d,g,x){this.length=Math.ceil((d.length-g)/6),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var k=0,T=0,R;if(x==="be")for(C=d.length-1;C>=g;C-=2)R=l(d,g,C)<<k,this.words[T]|=R&67108863,k>=18?(k-=18,T+=1,this.words[T]|=R>>>26):k+=8;else{var I=d.length-g;for(C=I%2===0?g+1:g;C<d.length;C+=2)R=l(d,g,C)<<k,this.words[T]|=R&67108863,k>=18?(k-=18,T+=1,this.words[T]|=R>>>26):k+=8}this._strip()};function u(_,d,g,x){for(var C=0,k=0,T=Math.min(_.length,g),R=d;R<T;R++){var I=_.charCodeAt(R)-48;C*=x,I>=49?k=I-49+10:I>=17?k=I-17+10:k=I,n(I>=0&&k<x,"Invalid character"),C+=k}return C}s.prototype._parseBase=function(d,g,x){this.words=[0],this.length=1;for(var C=0,k=1;k<=67108863;k*=g)C++;C--,k=k/g|0;for(var T=d.length-x,R=T%C,I=Math.min(T,T-R)+x,f=0,S=x;S<I;S+=C)f=u(d,S,S+C,g),this.imuln(k),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(R!==0){var K=1;for(f=u(d,S,d.length,g),S=0;S<R;S++)K*=g;this.imuln(K),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},s.prototype.copy=function(d){d.words=new Array(this.length);for(var g=0;g<this.length;g++)d.words[g]=this.words[g];d.length=this.length,d.negative=this.negative,d.red=this.red};function c(_,d){_.words=d.words,_.length=d.length,_.negative=d.negative,_.red=d.red}if(s.prototype._move=function(d){c(d,this)},s.prototype.clone=function(){var d=new s(null);return this.copy(d),d},s.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{s.prototype.inspect=h}else s.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(d,g){d=d||10,g=g|0||1;var x;if(d===16||d==="hex"){x="";for(var C=0,k=0,T=0;T<this.length;T++){var R=this.words[T],I=((R<<C|k)&16777215).toString(16);k=R>>>24-C&16777215,C+=2,C>=26&&(C-=26,T--),k!==0||T!==this.length-1?x=m[6-I.length]+I+x:x=I+x}for(k!==0&&(x=k.toString(16)+x);x.length%g!==0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}if(d===(d|0)&&d>=2&&d<=36){var f=y[d],S=b[d];x="";var K=this.clone();for(K.negative=0;!K.isZero();){var D=K.modrn(S).toString(d);K=K.idivn(S),K.isZero()?x=D+x:x=m[f-D.length]+D+x}for(this.isZero()&&(x="0"+x);x.length%g!==0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var d=this.words[0];return this.length===2?d+=this.words[1]*67108864:this.length===3&&this.words[2]===1?d+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-d:d},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(d,g){return this.toArrayLike(o,d,g)}),s.prototype.toArray=function(d,g){return this.toArrayLike(Array,d,g)};var E=function(d,g){return d.allocUnsafe?d.allocUnsafe(g):new d(g)};s.prototype.toArrayLike=function(d,g,x){this._strip();var C=this.byteLength(),k=x||Math.max(1,C);n(C<=k,"byte array longer than desired length"),n(k>0,"Requested array length <= 0");var T=E(d,k),R=g==="le"?"LE":"BE";return this["_toArrayLike"+R](T,C),T},s.prototype._toArrayLikeLE=function(d,g){for(var x=0,C=0,k=0,T=0;k<this.length;k++){var R=this.words[k]<<T|C;d[x++]=R&255,x<d.length&&(d[x++]=R>>8&255),x<d.length&&(d[x++]=R>>16&255),T===6?(x<d.length&&(d[x++]=R>>24&255),C=0,T=0):(C=R>>>24,T+=2)}if(x<d.length)for(d[x++]=C;x<d.length;)d[x++]=0},s.prototype._toArrayLikeBE=function(d,g){for(var x=d.length-1,C=0,k=0,T=0;k<this.length;k++){var R=this.words[k]<<T|C;d[x--]=R&255,x>=0&&(d[x--]=R>>8&255),x>=0&&(d[x--]=R>>16&255),T===6?(x>=0&&(d[x--]=R>>24&255),C=0,T=0):(C=R>>>24,T+=2)}if(x>=0)for(d[x--]=C;x>=0;)d[x--]=0},Math.clz32?s.prototype._countBits=function(d){return 32-Math.clz32(d)}:s.prototype._countBits=function(d){var g=d,x=0;return g>=4096&&(x+=13,g>>>=13),g>=64&&(x+=7,g>>>=7),g>=8&&(x+=4,g>>>=4),g>=2&&(x+=2,g>>>=2),x+g},s.prototype._zeroBits=function(d){if(d===0)return 26;var g=d,x=0;return(g&8191)===0&&(x+=13,g>>>=13),(g&127)===0&&(x+=7,g>>>=7),(g&15)===0&&(x+=4,g>>>=4),(g&3)===0&&(x+=2,g>>>=2),(g&1)===0&&x++,x},s.prototype.bitLength=function(){var d=this.words[this.length-1],g=this._countBits(d);return(this.length-1)*26+g};function A(_){for(var d=new Array(_.bitLength()),g=0;g<d.length;g++){var x=g/26|0,C=g%26;d[g]=_.words[x]>>>C&1}return d}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,g=0;g<this.length;g++){var x=this._zeroBits(this.words[g]);if(d+=x,x!==26)break}return d},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(d){return this.negative!==0?this.abs().inotn(d).iaddn(1):this.clone()},s.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var g=0;g<d.length;g++)this.words[g]=this.words[g]|d.words[g];return this._strip()},s.prototype.ior=function(d){return n((this.negative|d.negative)===0),this.iuor(d)},s.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},s.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},s.prototype.iuand=function(d){var g;this.length>d.length?g=d:g=this;for(var x=0;x<g.length;x++)this.words[x]=this.words[x]&d.words[x];return this.length=g.length,this._strip()},s.prototype.iand=function(d){return n((this.negative|d.negative)===0),this.iuand(d)},s.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},s.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},s.prototype.iuxor=function(d){var g,x;this.length>d.length?(g=this,x=d):(g=d,x=this);for(var C=0;C<x.length;C++)this.words[C]=g.words[C]^x.words[C];if(this!==g)for(;C<g.length;C++)this.words[C]=g.words[C];return this.length=g.length,this._strip()},s.prototype.ixor=function(d){return n((this.negative|d.negative)===0),this.iuxor(d)},s.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},s.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},s.prototype.inotn=function(d){n(typeof d=="number"&&d>=0);var g=Math.ceil(d/26)|0,x=d%26;this._expand(g),x>0&&g--;for(var C=0;C<g;C++)this.words[C]=~this.words[C]&67108863;return x>0&&(this.words[C]=~this.words[C]&67108863>>26-x),this._strip()},s.prototype.notn=function(d){return this.clone().inotn(d)},s.prototype.setn=function(d,g){n(typeof d=="number"&&d>=0);var x=d/26|0,C=d%26;return this._expand(x+1),g?this.words[x]=this.words[x]|1<<C:this.words[x]=this.words[x]&~(1<<C),this._strip()},s.prototype.iadd=function(d){var g;if(this.negative!==0&&d.negative===0)return this.negative=0,g=this.isub(d),this.negative^=1,this._normSign();if(this.negative===0&&d.negative!==0)return d.negative=0,g=this.isub(d),d.negative=1,g._normSign();var x,C;this.length>d.length?(x=this,C=d):(x=d,C=this);for(var k=0,T=0;T<C.length;T++)g=(x.words[T]|0)+(C.words[T]|0)+k,this.words[T]=g&67108863,k=g>>>26;for(;k!==0&&T<x.length;T++)g=(x.words[T]|0)+k,this.words[T]=g&67108863,k=g>>>26;if(this.length=x.length,k!==0)this.words[this.length]=k,this.length++;else if(x!==this)for(;T<x.length;T++)this.words[T]=x.words[T];return this},s.prototype.add=function(d){var g;return d.negative!==0&&this.negative===0?(d.negative=0,g=this.sub(d),d.negative^=1,g):d.negative===0&&this.negative!==0?(this.negative=0,g=d.sub(this),this.negative=1,g):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},s.prototype.isub=function(d){if(d.negative!==0){d.negative=0;var g=this.iadd(d);return d.negative=1,g._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var x=this.cmp(d);if(x===0)return this.negative=0,this.length=1,this.words[0]=0,this;var C,k;x>0?(C=this,k=d):(C=d,k=this);for(var T=0,R=0;R<k.length;R++)g=(C.words[R]|0)-(k.words[R]|0)+T,T=g>>26,this.words[R]=g&67108863;for(;T!==0&&R<C.length;R++)g=(C.words[R]|0)+T,T=g>>26,this.words[R]=g&67108863;if(T===0&&R<C.length&&C!==this)for(;R<C.length;R++)this.words[R]=C.words[R];return this.length=Math.max(this.length,R),C!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(d){return this.clone().isub(d)};function M(_,d,g){g.negative=d.negative^_.negative;var x=_.length+d.length|0;g.length=x,x=x-1|0;var C=_.words[0]|0,k=d.words[0]|0,T=C*k,R=T&67108863,I=T/67108864|0;g.words[0]=R;for(var f=1;f<x;f++){for(var S=I>>>26,K=I&67108863,D=Math.min(f,d.length-1),J=Math.max(0,f-_.length+1);J<=D;J++){var ne=f-J|0;C=_.words[ne]|0,k=d.words[J]|0,T=C*k+K,S+=T/67108864|0,K=T&67108863}g.words[f]=K|0,I=S|0}return I!==0?g.words[f]=I|0:g.length--,g._strip()}var O=function(d,g,x){var C=d.words,k=g.words,T=x.words,R=0,I,f,S,K=C[0]|0,D=K&8191,J=K>>>13,ne=C[1]|0,ie=ne&8191,ce=ne>>>13,Se=C[2]|0,ye=Se&8191,Ae=Se>>>13,tt=C[3]|0,Ce=tt&8191,je=tt>>>13,mt=C[4]|0,pe=mt&8191,Le=mt>>>13,Mt=C[5]|0,Ie=Mt&8191,Me=Mt>>>13,ht=C[6]|0,Je=ht&8191,De=ht>>>13,At=C[7]|0,it=At&8191,et=At>>>13,St=C[8]|0,Xe=St&8191,se=St>>>13,X=C[9]|0,ee=X&8191,oe=X>>>13,ge=k[0]|0,fe=ge&8191,ve=ge>>>13,ut=k[1]|0,Pe=ut&8191,Ye=ut>>>13,Ut=k[2]|0,Oe=Ut&8191,nt=Ut>>>13,hr=k[3]|0,Fe=hr&8191,ct=hr>>>13,Nr=k[4]|0,dt=Nr&8191,Y=Nr>>>13,V=k[5]|0,Z=V&8191,te=V>>>13,ae=k[6]|0,le=ae&8191,de=ae>>>13,Ze=k[7]|0,Be=Ze&8191,He=Ze>>>13,qt=k[8]|0,Ge=qt&8191,ot=qt>>>13,Nt=k[9]|0,lt=Nt&8191,at=Nt>>>13;x.negative=d.negative^g.negative,x.length=19,I=Math.imul(D,fe),f=Math.imul(D,ve),f=f+Math.imul(J,fe)|0,S=Math.imul(J,ve);var Ir=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,I=Math.imul(ie,fe),f=Math.imul(ie,ve),f=f+Math.imul(ce,fe)|0,S=Math.imul(ce,ve),I=I+Math.imul(D,Pe)|0,f=f+Math.imul(D,Ye)|0,f=f+Math.imul(J,Pe)|0,S=S+Math.imul(J,Ye)|0;var $r=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+($r>>>26)|0,$r&=67108863,I=Math.imul(ye,fe),f=Math.imul(ye,ve),f=f+Math.imul(Ae,fe)|0,S=Math.imul(Ae,ve),I=I+Math.imul(ie,Pe)|0,f=f+Math.imul(ie,Ye)|0,f=f+Math.imul(ce,Pe)|0,S=S+Math.imul(ce,Ye)|0,I=I+Math.imul(D,Oe)|0,f=f+Math.imul(D,nt)|0,f=f+Math.imul(J,Oe)|0,S=S+Math.imul(J,nt)|0;var _r=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(_r>>>26)|0,_r&=67108863,I=Math.imul(Ce,fe),f=Math.imul(Ce,ve),f=f+Math.imul(je,fe)|0,S=Math.imul(je,ve),I=I+Math.imul(ye,Pe)|0,f=f+Math.imul(ye,Ye)|0,f=f+Math.imul(Ae,Pe)|0,S=S+Math.imul(Ae,Ye)|0,I=I+Math.imul(ie,Oe)|0,f=f+Math.imul(ie,nt)|0,f=f+Math.imul(ce,Oe)|0,S=S+Math.imul(ce,nt)|0,I=I+Math.imul(D,Fe)|0,f=f+Math.imul(D,ct)|0,f=f+Math.imul(J,Fe)|0,S=S+Math.imul(J,ct)|0;var Sr=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,I=Math.imul(pe,fe),f=Math.imul(pe,ve),f=f+Math.imul(Le,fe)|0,S=Math.imul(Le,ve),I=I+Math.imul(Ce,Pe)|0,f=f+Math.imul(Ce,Ye)|0,f=f+Math.imul(je,Pe)|0,S=S+Math.imul(je,Ye)|0,I=I+Math.imul(ye,Oe)|0,f=f+Math.imul(ye,nt)|0,f=f+Math.imul(Ae,Oe)|0,S=S+Math.imul(Ae,nt)|0,I=I+Math.imul(ie,Fe)|0,f=f+Math.imul(ie,ct)|0,f=f+Math.imul(ce,Fe)|0,S=S+Math.imul(ce,ct)|0,I=I+Math.imul(D,dt)|0,f=f+Math.imul(D,Y)|0,f=f+Math.imul(J,dt)|0,S=S+Math.imul(J,Y)|0;var jr=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(jr>>>26)|0,jr&=67108863,I=Math.imul(Ie,fe),f=Math.imul(Ie,ve),f=f+Math.imul(Me,fe)|0,S=Math.imul(Me,ve),I=I+Math.imul(pe,Pe)|0,f=f+Math.imul(pe,Ye)|0,f=f+Math.imul(Le,Pe)|0,S=S+Math.imul(Le,Ye)|0,I=I+Math.imul(Ce,Oe)|0,f=f+Math.imul(Ce,nt)|0,f=f+Math.imul(je,Oe)|0,S=S+Math.imul(je,nt)|0,I=I+Math.imul(ye,Fe)|0,f=f+Math.imul(ye,ct)|0,f=f+Math.imul(Ae,Fe)|0,S=S+Math.imul(Ae,ct)|0,I=I+Math.imul(ie,dt)|0,f=f+Math.imul(ie,Y)|0,f=f+Math.imul(ce,dt)|0,S=S+Math.imul(ce,Y)|0,I=I+Math.imul(D,Z)|0,f=f+Math.imul(D,te)|0,f=f+Math.imul(J,Z)|0,S=S+Math.imul(J,te)|0;var an=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(an>>>26)|0,an&=67108863,I=Math.imul(Je,fe),f=Math.imul(Je,ve),f=f+Math.imul(De,fe)|0,S=Math.imul(De,ve),I=I+Math.imul(Ie,Pe)|0,f=f+Math.imul(Ie,Ye)|0,f=f+Math.imul(Me,Pe)|0,S=S+Math.imul(Me,Ye)|0,I=I+Math.imul(pe,Oe)|0,f=f+Math.imul(pe,nt)|0,f=f+Math.imul(Le,Oe)|0,S=S+Math.imul(Le,nt)|0,I=I+Math.imul(Ce,Fe)|0,f=f+Math.imul(Ce,ct)|0,f=f+Math.imul(je,Fe)|0,S=S+Math.imul(je,ct)|0,I=I+Math.imul(ye,dt)|0,f=f+Math.imul(ye,Y)|0,f=f+Math.imul(Ae,dt)|0,S=S+Math.imul(Ae,Y)|0,I=I+Math.imul(ie,Z)|0,f=f+Math.imul(ie,te)|0,f=f+Math.imul(ce,Z)|0,S=S+Math.imul(ce,te)|0,I=I+Math.imul(D,le)|0,f=f+Math.imul(D,de)|0,f=f+Math.imul(J,le)|0,S=S+Math.imul(J,de)|0;var Xn=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,I=Math.imul(it,fe),f=Math.imul(it,ve),f=f+Math.imul(et,fe)|0,S=Math.imul(et,ve),I=I+Math.imul(Je,Pe)|0,f=f+Math.imul(Je,Ye)|0,f=f+Math.imul(De,Pe)|0,S=S+Math.imul(De,Ye)|0,I=I+Math.imul(Ie,Oe)|0,f=f+Math.imul(Ie,nt)|0,f=f+Math.imul(Me,Oe)|0,S=S+Math.imul(Me,nt)|0,I=I+Math.imul(pe,Fe)|0,f=f+Math.imul(pe,ct)|0,f=f+Math.imul(Le,Fe)|0,S=S+Math.imul(Le,ct)|0,I=I+Math.imul(Ce,dt)|0,f=f+Math.imul(Ce,Y)|0,f=f+Math.imul(je,dt)|0,S=S+Math.imul(je,Y)|0,I=I+Math.imul(ye,Z)|0,f=f+Math.imul(ye,te)|0,f=f+Math.imul(Ae,Z)|0,S=S+Math.imul(Ae,te)|0,I=I+Math.imul(ie,le)|0,f=f+Math.imul(ie,de)|0,f=f+Math.imul(ce,le)|0,S=S+Math.imul(ce,de)|0,I=I+Math.imul(D,Be)|0,f=f+Math.imul(D,He)|0,f=f+Math.imul(J,Be)|0,S=S+Math.imul(J,He)|0;var Lt=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,I=Math.imul(Xe,fe),f=Math.imul(Xe,ve),f=f+Math.imul(se,fe)|0,S=Math.imul(se,ve),I=I+Math.imul(it,Pe)|0,f=f+Math.imul(it,Ye)|0,f=f+Math.imul(et,Pe)|0,S=S+Math.imul(et,Ye)|0,I=I+Math.imul(Je,Oe)|0,f=f+Math.imul(Je,nt)|0,f=f+Math.imul(De,Oe)|0,S=S+Math.imul(De,nt)|0,I=I+Math.imul(Ie,Fe)|0,f=f+Math.imul(Ie,ct)|0,f=f+Math.imul(Me,Fe)|0,S=S+Math.imul(Me,ct)|0,I=I+Math.imul(pe,dt)|0,f=f+Math.imul(pe,Y)|0,f=f+Math.imul(Le,dt)|0,S=S+Math.imul(Le,Y)|0,I=I+Math.imul(Ce,Z)|0,f=f+Math.imul(Ce,te)|0,f=f+Math.imul(je,Z)|0,S=S+Math.imul(je,te)|0,I=I+Math.imul(ye,le)|0,f=f+Math.imul(ye,de)|0,f=f+Math.imul(Ae,le)|0,S=S+Math.imul(Ae,de)|0,I=I+Math.imul(ie,Be)|0,f=f+Math.imul(ie,He)|0,f=f+Math.imul(ce,Be)|0,S=S+Math.imul(ce,He)|0,I=I+Math.imul(D,Ge)|0,f=f+Math.imul(D,ot)|0,f=f+Math.imul(J,Ge)|0,S=S+Math.imul(J,ot)|0;var qr=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(qr>>>26)|0,qr&=67108863,I=Math.imul(ee,fe),f=Math.imul(ee,ve),f=f+Math.imul(oe,fe)|0,S=Math.imul(oe,ve),I=I+Math.imul(Xe,Pe)|0,f=f+Math.imul(Xe,Ye)|0,f=f+Math.imul(se,Pe)|0,S=S+Math.imul(se,Ye)|0,I=I+Math.imul(it,Oe)|0,f=f+Math.imul(it,nt)|0,f=f+Math.imul(et,Oe)|0,S=S+Math.imul(et,nt)|0,I=I+Math.imul(Je,Fe)|0,f=f+Math.imul(Je,ct)|0,f=f+Math.imul(De,Fe)|0,S=S+Math.imul(De,ct)|0,I=I+Math.imul(Ie,dt)|0,f=f+Math.imul(Ie,Y)|0,f=f+Math.imul(Me,dt)|0,S=S+Math.imul(Me,Y)|0,I=I+Math.imul(pe,Z)|0,f=f+Math.imul(pe,te)|0,f=f+Math.imul(Le,Z)|0,S=S+Math.imul(Le,te)|0,I=I+Math.imul(Ce,le)|0,f=f+Math.imul(Ce,de)|0,f=f+Math.imul(je,le)|0,S=S+Math.imul(je,de)|0,I=I+Math.imul(ye,Be)|0,f=f+Math.imul(ye,He)|0,f=f+Math.imul(Ae,Be)|0,S=S+Math.imul(Ae,He)|0,I=I+Math.imul(ie,Ge)|0,f=f+Math.imul(ie,ot)|0,f=f+Math.imul(ce,Ge)|0,S=S+Math.imul(ce,ot)|0,I=I+Math.imul(D,lt)|0,f=f+Math.imul(D,at)|0,f=f+Math.imul(J,lt)|0,S=S+Math.imul(J,at)|0;var fr=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(fr>>>26)|0,fr&=67108863,I=Math.imul(ee,Pe),f=Math.imul(ee,Ye),f=f+Math.imul(oe,Pe)|0,S=Math.imul(oe,Ye),I=I+Math.imul(Xe,Oe)|0,f=f+Math.imul(Xe,nt)|0,f=f+Math.imul(se,Oe)|0,S=S+Math.imul(se,nt)|0,I=I+Math.imul(it,Fe)|0,f=f+Math.imul(it,ct)|0,f=f+Math.imul(et,Fe)|0,S=S+Math.imul(et,ct)|0,I=I+Math.imul(Je,dt)|0,f=f+Math.imul(Je,Y)|0,f=f+Math.imul(De,dt)|0,S=S+Math.imul(De,Y)|0,I=I+Math.imul(Ie,Z)|0,f=f+Math.imul(Ie,te)|0,f=f+Math.imul(Me,Z)|0,S=S+Math.imul(Me,te)|0,I=I+Math.imul(pe,le)|0,f=f+Math.imul(pe,de)|0,f=f+Math.imul(Le,le)|0,S=S+Math.imul(Le,de)|0,I=I+Math.imul(Ce,Be)|0,f=f+Math.imul(Ce,He)|0,f=f+Math.imul(je,Be)|0,S=S+Math.imul(je,He)|0,I=I+Math.imul(ye,Ge)|0,f=f+Math.imul(ye,ot)|0,f=f+Math.imul(Ae,Ge)|0,S=S+Math.imul(Ae,ot)|0,I=I+Math.imul(ie,lt)|0,f=f+Math.imul(ie,at)|0,f=f+Math.imul(ce,lt)|0,S=S+Math.imul(ce,at)|0;var Cn=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,I=Math.imul(ee,Oe),f=Math.imul(ee,nt),f=f+Math.imul(oe,Oe)|0,S=Math.imul(oe,nt),I=I+Math.imul(Xe,Fe)|0,f=f+Math.imul(Xe,ct)|0,f=f+Math.imul(se,Fe)|0,S=S+Math.imul(se,ct)|0,I=I+Math.imul(it,dt)|0,f=f+Math.imul(it,Y)|0,f=f+Math.imul(et,dt)|0,S=S+Math.imul(et,Y)|0,I=I+Math.imul(Je,Z)|0,f=f+Math.imul(Je,te)|0,f=f+Math.imul(De,Z)|0,S=S+Math.imul(De,te)|0,I=I+Math.imul(Ie,le)|0,f=f+Math.imul(Ie,de)|0,f=f+Math.imul(Me,le)|0,S=S+Math.imul(Me,de)|0,I=I+Math.imul(pe,Be)|0,f=f+Math.imul(pe,He)|0,f=f+Math.imul(Le,Be)|0,S=S+Math.imul(Le,He)|0,I=I+Math.imul(Ce,Ge)|0,f=f+Math.imul(Ce,ot)|0,f=f+Math.imul(je,Ge)|0,S=S+Math.imul(je,ot)|0,I=I+Math.imul(ye,lt)|0,f=f+Math.imul(ye,at)|0,f=f+Math.imul(Ae,lt)|0,S=S+Math.imul(Ae,at)|0;var pn=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(pn>>>26)|0,pn&=67108863,I=Math.imul(ee,Fe),f=Math.imul(ee,ct),f=f+Math.imul(oe,Fe)|0,S=Math.imul(oe,ct),I=I+Math.imul(Xe,dt)|0,f=f+Math.imul(Xe,Y)|0,f=f+Math.imul(se,dt)|0,S=S+Math.imul(se,Y)|0,I=I+Math.imul(it,Z)|0,f=f+Math.imul(it,te)|0,f=f+Math.imul(et,Z)|0,S=S+Math.imul(et,te)|0,I=I+Math.imul(Je,le)|0,f=f+Math.imul(Je,de)|0,f=f+Math.imul(De,le)|0,S=S+Math.imul(De,de)|0,I=I+Math.imul(Ie,Be)|0,f=f+Math.imul(Ie,He)|0,f=f+Math.imul(Me,Be)|0,S=S+Math.imul(Me,He)|0,I=I+Math.imul(pe,Ge)|0,f=f+Math.imul(pe,ot)|0,f=f+Math.imul(Le,Ge)|0,S=S+Math.imul(Le,ot)|0,I=I+Math.imul(Ce,lt)|0,f=f+Math.imul(Ce,at)|0,f=f+Math.imul(je,lt)|0,S=S+Math.imul(je,at)|0;var gi=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(gi>>>26)|0,gi&=67108863,I=Math.imul(ee,dt),f=Math.imul(ee,Y),f=f+Math.imul(oe,dt)|0,S=Math.imul(oe,Y),I=I+Math.imul(Xe,Z)|0,f=f+Math.imul(Xe,te)|0,f=f+Math.imul(se,Z)|0,S=S+Math.imul(se,te)|0,I=I+Math.imul(it,le)|0,f=f+Math.imul(it,de)|0,f=f+Math.imul(et,le)|0,S=S+Math.imul(et,de)|0,I=I+Math.imul(Je,Be)|0,f=f+Math.imul(Je,He)|0,f=f+Math.imul(De,Be)|0,S=S+Math.imul(De,He)|0,I=I+Math.imul(Ie,Ge)|0,f=f+Math.imul(Ie,ot)|0,f=f+Math.imul(Me,Ge)|0,S=S+Math.imul(Me,ot)|0,I=I+Math.imul(pe,lt)|0,f=f+Math.imul(pe,at)|0,f=f+Math.imul(Le,lt)|0,S=S+Math.imul(Le,at)|0;var ui=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(ui>>>26)|0,ui&=67108863,I=Math.imul(ee,Z),f=Math.imul(ee,te),f=f+Math.imul(oe,Z)|0,S=Math.imul(oe,te),I=I+Math.imul(Xe,le)|0,f=f+Math.imul(Xe,de)|0,f=f+Math.imul(se,le)|0,S=S+Math.imul(se,de)|0,I=I+Math.imul(it,Be)|0,f=f+Math.imul(it,He)|0,f=f+Math.imul(et,Be)|0,S=S+Math.imul(et,He)|0,I=I+Math.imul(Je,Ge)|0,f=f+Math.imul(Je,ot)|0,f=f+Math.imul(De,Ge)|0,S=S+Math.imul(De,ot)|0,I=I+Math.imul(Ie,lt)|0,f=f+Math.imul(Ie,at)|0,f=f+Math.imul(Me,lt)|0,S=S+Math.imul(Me,at)|0;var Gn=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,I=Math.imul(ee,le),f=Math.imul(ee,de),f=f+Math.imul(oe,le)|0,S=Math.imul(oe,de),I=I+Math.imul(Xe,Be)|0,f=f+Math.imul(Xe,He)|0,f=f+Math.imul(se,Be)|0,S=S+Math.imul(se,He)|0,I=I+Math.imul(it,Ge)|0,f=f+Math.imul(it,ot)|0,f=f+Math.imul(et,Ge)|0,S=S+Math.imul(et,ot)|0,I=I+Math.imul(Je,lt)|0,f=f+Math.imul(Je,at)|0,f=f+Math.imul(De,lt)|0,S=S+Math.imul(De,at)|0;var gn=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(gn>>>26)|0,gn&=67108863,I=Math.imul(ee,Be),f=Math.imul(ee,He),f=f+Math.imul(oe,Be)|0,S=Math.imul(oe,He),I=I+Math.imul(Xe,Ge)|0,f=f+Math.imul(Xe,ot)|0,f=f+Math.imul(se,Ge)|0,S=S+Math.imul(se,ot)|0,I=I+Math.imul(it,lt)|0,f=f+Math.imul(it,at)|0,f=f+Math.imul(et,lt)|0,S=S+Math.imul(et,at)|0;var Ti=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,I=Math.imul(ee,Ge),f=Math.imul(ee,ot),f=f+Math.imul(oe,Ge)|0,S=Math.imul(oe,ot),I=I+Math.imul(Xe,lt)|0,f=f+Math.imul(Xe,at)|0,f=f+Math.imul(se,lt)|0,S=S+Math.imul(se,at)|0;var kn=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(kn>>>26)|0,kn&=67108863,I=Math.imul(ee,lt),f=Math.imul(ee,at),f=f+Math.imul(oe,lt)|0,S=Math.imul(oe,at);var Ei=(R+I|0)+((f&8191)<<13)|0;return R=(S+(f>>>13)|0)+(Ei>>>26)|0,Ei&=67108863,T[0]=Ir,T[1]=$r,T[2]=_r,T[3]=Sr,T[4]=jr,T[5]=an,T[6]=Xn,T[7]=Lt,T[8]=qr,T[9]=fr,T[10]=Cn,T[11]=pn,T[12]=gi,T[13]=ui,T[14]=Gn,T[15]=gn,T[16]=Ti,T[17]=kn,T[18]=Ei,R!==0&&(T[19]=R,x.length++),x};Math.imul||(O=M);function P(_,d,g){g.negative=d.negative^_.negative,g.length=_.length+d.length;for(var x=0,C=0,k=0;k<g.length-1;k++){var T=C;C=0;for(var R=x&67108863,I=Math.min(k,d.length-1),f=Math.max(0,k-_.length+1);f<=I;f++){var S=k-f,K=_.words[S]|0,D=d.words[f]|0,J=K*D,ne=J&67108863;T=T+(J/67108864|0)|0,ne=ne+R|0,R=ne&67108863,T=T+(ne>>>26)|0,C+=T>>>26,T&=67108863}g.words[k]=R,x=T,T=C}return x!==0?g.words[k]=x:g.length--,g._strip()}function z(_,d,g){return P(_,d,g)}s.prototype.mulTo=function(d,g){var x,C=this.length+d.length;return this.length===10&&d.length===10?x=O(this,d,g):C<63?x=M(this,d,g):C<1024?x=P(this,d,g):x=z(this,d,g),x},s.prototype.mul=function(d){var g=new s(null);return g.words=new Array(this.length+d.length),this.mulTo(d,g)},s.prototype.mulf=function(d){var g=new s(null);return g.words=new Array(this.length+d.length),z(this,d,g)},s.prototype.imul=function(d){return this.clone().mulTo(d,this)},s.prototype.imuln=function(d){var g=d<0;g&&(d=-d),n(typeof d=="number"),n(d<67108864);for(var x=0,C=0;C<this.length;C++){var k=(this.words[C]|0)*d,T=(k&67108863)+(x&67108863);x>>=26,x+=k/67108864|0,x+=T>>>26,this.words[C]=T&67108863}return x!==0&&(this.words[C]=x,this.length++),this.length=d===0?1:this.length,g?this.ineg():this},s.prototype.muln=function(d){return this.clone().imuln(d)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(d){var g=A(d);if(g.length===0)return new s(1);for(var x=this,C=0;C<g.length&&g[C]===0;C++,x=x.sqr());if(++C<g.length)for(var k=x.sqr();C<g.length;C++,k=k.sqr())g[C]!==0&&(x=x.mul(k));return x},s.prototype.iushln=function(d){n(typeof d=="number"&&d>=0);var g=d%26,x=(d-g)/26,C=67108863>>>26-g<<26-g,k;if(g!==0){var T=0;for(k=0;k<this.length;k++){var R=this.words[k]&C,I=(this.words[k]|0)-R<<g;this.words[k]=I|T,T=R>>>26-g}T&&(this.words[k]=T,this.length++)}if(x!==0){for(k=this.length-1;k>=0;k--)this.words[k+x]=this.words[k];for(k=0;k<x;k++)this.words[k]=0;this.length+=x}return this._strip()},s.prototype.ishln=function(d){return n(this.negative===0),this.iushln(d)},s.prototype.iushrn=function(d,g,x){n(typeof d=="number"&&d>=0);var C;g?C=(g-g%26)/26:C=0;var k=d%26,T=Math.min((d-k)/26,this.length),R=67108863^67108863>>>k<<k,I=x;if(C-=T,C=Math.max(0,C),I){for(var f=0;f<T;f++)I.words[f]=this.words[f];I.length=T}if(T!==0)if(this.length>T)for(this.length-=T,f=0;f<this.length;f++)this.words[f]=this.words[f+T];else this.words[0]=0,this.length=1;var S=0;for(f=this.length-1;f>=0&&(S!==0||f>=C);f--){var K=this.words[f]|0;this.words[f]=S<<26-k|K>>>k,S=K&R}return I&&S!==0&&(I.words[I.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(d,g,x){return n(this.negative===0),this.iushrn(d,g,x)},s.prototype.shln=function(d){return this.clone().ishln(d)},s.prototype.ushln=function(d){return this.clone().iushln(d)},s.prototype.shrn=function(d){return this.clone().ishrn(d)},s.prototype.ushrn=function(d){return this.clone().iushrn(d)},s.prototype.testn=function(d){n(typeof d=="number"&&d>=0);var g=d%26,x=(d-g)/26,C=1<<g;if(this.length<=x)return!1;var k=this.words[x];return!!(k&C)},s.prototype.imaskn=function(d){n(typeof d=="number"&&d>=0);var g=d%26,x=(d-g)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=x)return this;if(g!==0&&x++,this.length=Math.min(x,this.length),g!==0){var C=67108863^67108863>>>g<<g;this.words[this.length-1]&=C}return this._strip()},s.prototype.maskn=function(d){return this.clone().imaskn(d)},s.prototype.iaddn=function(d){return n(typeof d=="number"),n(d<67108864),d<0?this.isubn(-d):this.negative!==0?this.length===1&&(this.words[0]|0)<=d?(this.words[0]=d-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},s.prototype._iaddn=function(d){this.words[0]+=d;for(var g=0;g<this.length&&this.words[g]>=67108864;g++)this.words[g]-=67108864,g===this.length-1?this.words[g+1]=1:this.words[g+1]++;return this.length=Math.max(this.length,g+1),this},s.prototype.isubn=function(d){if(n(typeof d=="number"),n(d<67108864),d<0)return this.iaddn(-d);if(this.negative!==0)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var g=0;g<this.length&&this.words[g]<0;g++)this.words[g]+=67108864,this.words[g+1]-=1;return this._strip()},s.prototype.addn=function(d){return this.clone().iaddn(d)},s.prototype.subn=function(d){return this.clone().isubn(d)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(d,g,x){var C=d.length+x,k;this._expand(C);var T,R=0;for(k=0;k<d.length;k++){T=(this.words[k+x]|0)+R;var I=(d.words[k]|0)*g;T-=I&67108863,R=(T>>26)-(I/67108864|0),this.words[k+x]=T&67108863}for(;k<this.length-x;k++)T=(this.words[k+x]|0)+R,R=T>>26,this.words[k+x]=T&67108863;if(R===0)return this._strip();for(n(R===-1),R=0,k=0;k<this.length;k++)T=-(this.words[k]|0)+R,R=T>>26,this.words[k]=T&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(d,g){var x=this.length-d.length,C=this.clone(),k=d,T=k.words[k.length-1]|0,R=this._countBits(T);x=26-R,x!==0&&(k=k.ushln(x),C.iushln(x),T=k.words[k.length-1]|0);var I=C.length-k.length,f;if(g!=="mod"){f=new s(null),f.length=I+1,f.words=new Array(f.length);for(var S=0;S<f.length;S++)f.words[S]=0}var K=C.clone()._ishlnsubmul(k,1,I);K.negative===0&&(C=K,f&&(f.words[I]=1));for(var D=I-1;D>=0;D--){var J=(C.words[k.length+D]|0)*67108864+(C.words[k.length+D-1]|0);for(J=Math.min(J/T|0,67108863),C._ishlnsubmul(k,J,D);C.negative!==0;)J--,C.negative=0,C._ishlnsubmul(k,1,D),C.isZero()||(C.negative^=1);f&&(f.words[D]=J)}return f&&f._strip(),C._strip(),g!=="div"&&x!==0&&C.iushrn(x),{div:f||null,mod:C}},s.prototype.divmod=function(d,g,x){if(n(!d.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var C,k,T;return this.negative!==0&&d.negative===0?(T=this.neg().divmod(d,g),g!=="mod"&&(C=T.div.neg()),g!=="div"&&(k=T.mod.neg(),x&&k.negative!==0&&k.iadd(d)),{div:C,mod:k}):this.negative===0&&d.negative!==0?(T=this.divmod(d.neg(),g),g!=="mod"&&(C=T.div.neg()),{div:C,mod:T.mod}):(this.negative&d.negative)!==0?(T=this.neg().divmod(d.neg(),g),g!=="div"&&(k=T.mod.neg(),x&&k.negative!==0&&k.isub(d)),{div:T.div,mod:k}):d.length>this.length||this.cmp(d)<0?{div:new s(0),mod:this}:d.length===1?g==="div"?{div:this.divn(d.words[0]),mod:null}:g==="mod"?{div:null,mod:new s(this.modrn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new s(this.modrn(d.words[0]))}:this._wordDiv(d,g)},s.prototype.div=function(d){return this.divmod(d,"div",!1).div},s.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},s.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},s.prototype.divRound=function(d){var g=this.divmod(d);if(g.mod.isZero())return g.div;var x=g.div.negative!==0?g.mod.isub(d):g.mod,C=d.ushrn(1),k=d.andln(1),T=x.cmp(C);return T<0||k===1&&T===0?g.div:g.div.negative!==0?g.div.isubn(1):g.div.iaddn(1)},s.prototype.modrn=function(d){var g=d<0;g&&(d=-d),n(d<=67108863);for(var x=(1<<26)%d,C=0,k=this.length-1;k>=0;k--)C=(x*C+(this.words[k]|0))%d;return g?-C:C},s.prototype.modn=function(d){return this.modrn(d)},s.prototype.idivn=function(d){var g=d<0;g&&(d=-d),n(d<=67108863);for(var x=0,C=this.length-1;C>=0;C--){var k=(this.words[C]|0)+x*67108864;this.words[C]=k/d|0,x=k%d}return this._strip(),g?this.ineg():this},s.prototype.divn=function(d){return this.clone().idivn(d)},s.prototype.egcd=function(d){n(d.negative===0),n(!d.isZero());var g=this,x=d.clone();g.negative!==0?g=g.umod(d):g=g.clone();for(var C=new s(1),k=new s(0),T=new s(0),R=new s(1),I=0;g.isEven()&&x.isEven();)g.iushrn(1),x.iushrn(1),++I;for(var f=x.clone(),S=g.clone();!g.isZero();){for(var K=0,D=1;(g.words[0]&D)===0&&K<26;++K,D<<=1);if(K>0)for(g.iushrn(K);K-- >0;)(C.isOdd()||k.isOdd())&&(C.iadd(f),k.isub(S)),C.iushrn(1),k.iushrn(1);for(var J=0,ne=1;(x.words[0]&ne)===0&&J<26;++J,ne<<=1);if(J>0)for(x.iushrn(J);J-- >0;)(T.isOdd()||R.isOdd())&&(T.iadd(f),R.isub(S)),T.iushrn(1),R.iushrn(1);g.cmp(x)>=0?(g.isub(x),C.isub(T),k.isub(R)):(x.isub(g),T.isub(C),R.isub(k))}return{a:T,b:R,gcd:x.iushln(I)}},s.prototype._invmp=function(d){n(d.negative===0),n(!d.isZero());var g=this,x=d.clone();g.negative!==0?g=g.umod(d):g=g.clone();for(var C=new s(1),k=new s(0),T=x.clone();g.cmpn(1)>0&&x.cmpn(1)>0;){for(var R=0,I=1;(g.words[0]&I)===0&&R<26;++R,I<<=1);if(R>0)for(g.iushrn(R);R-- >0;)C.isOdd()&&C.iadd(T),C.iushrn(1);for(var f=0,S=1;(x.words[0]&S)===0&&f<26;++f,S<<=1);if(f>0)for(x.iushrn(f);f-- >0;)k.isOdd()&&k.iadd(T),k.iushrn(1);g.cmp(x)>=0?(g.isub(x),C.isub(k)):(x.isub(g),k.isub(C))}var K;return g.cmpn(1)===0?K=C:K=k,K.cmpn(0)<0&&K.iadd(d),K},s.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var g=this.clone(),x=d.clone();g.negative=0,x.negative=0;for(var C=0;g.isEven()&&x.isEven();C++)g.iushrn(1),x.iushrn(1);do{for(;g.isEven();)g.iushrn(1);for(;x.isEven();)x.iushrn(1);var k=g.cmp(x);if(k<0){var T=g;g=x,x=T}else if(k===0||x.cmpn(1)===0)break;g.isub(x)}while(!0);return x.iushln(C)},s.prototype.invm=function(d){return this.egcd(d).a.umod(d)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(d){return this.words[0]&d},s.prototype.bincn=function(d){n(typeof d=="number");var g=d%26,x=(d-g)/26,C=1<<g;if(this.length<=x)return this._expand(x+1),this.words[x]|=C,this;for(var k=C,T=x;k!==0&&T<this.length;T++){var R=this.words[T]|0;R+=k,k=R>>>26,R&=67108863,this.words[T]=R}return k!==0&&(this.words[T]=k,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(d){var g=d<0;if(this.negative!==0&&!g)return-1;if(this.negative===0&&g)return 1;this._strip();var x;if(this.length>1)x=1;else{g&&(d=-d),n(d<=67108863,"Number is too big");var C=this.words[0]|0;x=C===d?0:C<d?-1:1}return this.negative!==0?-x|0:x},s.prototype.cmp=function(d){if(this.negative!==0&&d.negative===0)return-1;if(this.negative===0&&d.negative!==0)return 1;var g=this.ucmp(d);return this.negative!==0?-g|0:g},s.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var g=0,x=this.length-1;x>=0;x--){var C=this.words[x]|0,k=d.words[x]|0;if(C!==k){C<k?g=-1:C>k&&(g=1);break}}return g},s.prototype.gtn=function(d){return this.cmpn(d)===1},s.prototype.gt=function(d){return this.cmp(d)===1},s.prototype.gten=function(d){return this.cmpn(d)>=0},s.prototype.gte=function(d){return this.cmp(d)>=0},s.prototype.ltn=function(d){return this.cmpn(d)===-1},s.prototype.lt=function(d){return this.cmp(d)===-1},s.prototype.lten=function(d){return this.cmpn(d)<=0},s.prototype.lte=function(d){return this.cmp(d)<=0},s.prototype.eqn=function(d){return this.cmpn(d)===0},s.prototype.eq=function(d){return this.cmp(d)===0},s.red=function(d){return new U(d)},s.prototype.toRed=function(d){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),d.convertTo(this)._forceRed(d)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(d){return this.red=d,this},s.prototype.forceRed=function(d){return n(!this.red,"Already a number in reduction context"),this._forceRed(d)},s.prototype.redAdd=function(d){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},s.prototype.redIAdd=function(d){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},s.prototype.redSub=function(d){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},s.prototype.redISub=function(d){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},s.prototype.redShl=function(d){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},s.prototype.redMul=function(d){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},s.prototype.redIMul=function(d){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(d){return n(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var L={k256:null,p224:null,p192:null,p25519:null};function W(_,d){this.name=_,this.p=new s(d,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}W.prototype._tmp=function(){var d=new s(null);return d.words=new Array(Math.ceil(this.n/13)),d},W.prototype.ireduce=function(d){var g=d,x;do this.split(g,this.tmp),g=this.imulK(g),g=g.iadd(this.tmp),x=g.bitLength();while(x>this.n);var C=x<this.n?-1:g.ucmp(this.p);return C===0?(g.words[0]=0,g.length=1):C>0?g.isub(this.p):g.strip!==void 0?g.strip():g._strip(),g},W.prototype.split=function(d,g){d.iushrn(this.n,0,g)},W.prototype.imulK=function(d){return d.imul(this.k)};function H(){W.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(H,W),H.prototype.split=function(d,g){for(var x=4194303,C=Math.min(d.length,9),k=0;k<C;k++)g.words[k]=d.words[k];if(g.length=C,d.length<=9){d.words[0]=0,d.length=1;return}var T=d.words[9];for(g.words[g.length++]=T&x,k=10;k<d.length;k++){var R=d.words[k]|0;d.words[k-10]=(R&x)<<4|T>>>22,T=R}T>>>=22,d.words[k-10]=T,T===0&&d.length>10?d.length-=10:d.length-=9},H.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var g=0,x=0;x<d.length;x++){var C=d.words[x]|0;g+=C*977,d.words[x]=g&67108863,g=C*64+(g/67108864|0)}return d.words[d.length-1]===0&&(d.length--,d.words[d.length-1]===0&&d.length--),d};function G(){W.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(G,W);function N(){W.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(N,W);function F(){W.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(F,W),F.prototype.imulK=function(d){for(var g=0,x=0;x<d.length;x++){var C=(d.words[x]|0)*19+g,k=C&67108863;C>>>=26,d.words[x]=k,g=C}return g!==0&&(d.words[d.length++]=g),d},s._prime=function(d){if(L[d])return L[d];var g;if(d==="k256")g=new H;else if(d==="p224")g=new G;else if(d==="p192")g=new N;else if(d==="p25519")g=new F;else throw new Error("Unknown prime "+d);return L[d]=g,g};function U(_){if(typeof _=="string"){var d=s._prime(_);this.m=d.p,this.prime=d}else n(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}U.prototype._verify1=function(d){n(d.negative===0,"red works only with positives"),n(d.red,"red works only with red numbers")},U.prototype._verify2=function(d,g){n((d.negative|g.negative)===0,"red works only with positives"),n(d.red&&d.red===g.red,"red works only with red numbers")},U.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):(c(d,d.umod(this.m)._forceRed(this)),d)},U.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},U.prototype.add=function(d,g){this._verify2(d,g);var x=d.add(g);return x.cmp(this.m)>=0&&x.isub(this.m),x._forceRed(this)},U.prototype.iadd=function(d,g){this._verify2(d,g);var x=d.iadd(g);return x.cmp(this.m)>=0&&x.isub(this.m),x},U.prototype.sub=function(d,g){this._verify2(d,g);var x=d.sub(g);return x.cmpn(0)<0&&x.iadd(this.m),x._forceRed(this)},U.prototype.isub=function(d,g){this._verify2(d,g);var x=d.isub(g);return x.cmpn(0)<0&&x.iadd(this.m),x},U.prototype.shl=function(d,g){return this._verify1(d),this.imod(d.ushln(g))},U.prototype.imul=function(d,g){return this._verify2(d,g),this.imod(d.imul(g))},U.prototype.mul=function(d,g){return this._verify2(d,g),this.imod(d.mul(g))},U.prototype.isqr=function(d){return this.imul(d,d.clone())},U.prototype.sqr=function(d){return this.mul(d,d)},U.prototype.sqrt=function(d){if(d.isZero())return d.clone();var g=this.m.andln(3);if(n(g%2===1),g===3){var x=this.m.add(new s(1)).iushrn(2);return this.pow(d,x)}for(var C=this.m.subn(1),k=0;!C.isZero()&&C.andln(1)===0;)k++,C.iushrn(1);n(!C.isZero());var T=new s(1).toRed(this),R=T.redNeg(),I=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new s(2*f*f).toRed(this);this.pow(f,I).cmp(R)!==0;)f.redIAdd(R);for(var S=this.pow(f,C),K=this.pow(d,C.addn(1).iushrn(1)),D=this.pow(d,C),J=k;D.cmp(T)!==0;){for(var ne=D,ie=0;ne.cmp(T)!==0;ie++)ne=ne.redSqr();n(ie<J);var ce=this.pow(S,new s(1).iushln(J-ie-1));K=K.redMul(ce),S=ce.redSqr(),D=D.redMul(S),J=ie}return K},U.prototype.invm=function(d){var g=d._invmp(this.m);return g.negative!==0?(g.negative=0,this.imod(g).redNeg()):this.imod(g)},U.prototype.pow=function(d,g){if(g.isZero())return new s(1).toRed(this);if(g.cmpn(1)===0)return d.clone();var x=4,C=new Array(1<<x);C[0]=new s(1).toRed(this),C[1]=d;for(var k=2;k<C.length;k++)C[k]=this.mul(C[k-1],d);var T=C[0],R=0,I=0,f=g.bitLength()%26;for(f===0&&(f=26),k=g.length-1;k>=0;k--){for(var S=g.words[k],K=f-1;K>=0;K--){var D=S>>K&1;if(T!==C[0]&&(T=this.sqr(T)),D===0&&R===0){I=0;continue}R<<=1,R|=D,I++,!(I!==x&&(k!==0||K!==0))&&(T=this.mul(T,C[R]),I=0,R=0)}f=26}return T},U.prototype.convertTo=function(d){var g=d.umod(this.m);return g===d?g.clone():g},U.prototype.convertFrom=function(d){var g=d.clone();return g.red=null,g},s.mont=function(d){return new j(d)};function j(_){U.call(this,_),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(j,U),j.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},j.prototype.convertFrom=function(d){var g=this.imod(d.mul(this.rinv));return g.red=null,g},j.prototype.imul=function(d,g){if(d.isZero()||g.isZero())return d.words[0]=0,d.length=1,d;var x=d.imul(g),C=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=x.isub(C).iushrn(this.shift),T=k;return k.cmp(this.m)>=0?T=k.isub(this.m):k.cmpn(0)<0&&(T=k.iadd(this.m)),T._forceRed(this)},j.prototype.mul=function(d,g){if(d.isZero()||g.isZero())return new s(0)._forceRed(this);var x=d.mul(g),C=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=x.isub(C).iushrn(this.shift),T=k;return k.cmp(this.m)>=0?T=k.isub(this.m):k.cmpn(0)<0&&(T=k.iadd(this.m)),T._forceRed(this)},j.prototype.invm=function(d){var g=this.imod(d._invmp(this.m).mul(this.r2));return g._forceRed(this)}})(t,o9e)})(Hx)),Hx.exports}var l9e=a9e();const kr=ds(l9e);function Mw(t,e,r){return r={path:e,exports:{},require:function(n,i){return c9e(n,i??r.path)}},t(r,r.exports),r.exports}function c9e(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var NO=Sne;function Sne(t,e){if(!t)throw new Error(e||"Assertion failed")}Sne.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var tu=Mw(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var l=[];if(typeof o!="string"){for(var u=0;u<o.length;u++)l[u]=o[u]|0;return l}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var u=0;u<o.length;u+=2)l.push(parseInt(o[u]+o[u+1],16))}else for(var u=0;u<o.length;u++){var c=o.charCodeAt(u),h=c>>8,m=c&255;h?l.push(h,m):l.push(m)}return l}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",l=0;l<o.length;l++)a+=i(o[l].toString(16));return a}r.toHex=s,r.encode=function(a,l){return l==="hex"?s(a):a}}),Ml=Mw(function(t,e){var r=e;r.assert=NO,r.toArray=tu.toArray,r.zero2=tu.zero2,r.toHex=tu.toHex,r.encode=tu.encode;function n(l,u,c){var h=new Array(Math.max(l.bitLength(),c)+1),m;for(m=0;m<h.length;m+=1)h[m]=0;var y=1<<u+1,b=l.clone();for(m=0;m<h.length;m++){var E,A=b.andln(y-1);b.isOdd()?(A>(y>>1)-1?E=(y>>1)-A:E=A,b.isubn(E)):E=0,h[m]=E,b.iushrn(1)}return h}r.getNAF=n;function i(l,u){var c=[[],[]];l=l.clone(),u=u.clone();for(var h=0,m=0,y;l.cmpn(-h)>0||u.cmpn(-m)>0;){var b=l.andln(3)+h&3,E=u.andln(3)+m&3;b===3&&(b=-1),E===3&&(E=-1);var A;(b&1)===0?A=0:(y=l.andln(7)+h&7,(y===3||y===5)&&E===2?A=-b:A=b),c[0].push(A);var M;(E&1)===0?M=0:(y=u.andln(7)+m&7,(y===3||y===5)&&b===2?M=-E:M=E),c[1].push(M),2*h===A+1&&(h=1-h),2*m===M+1&&(m=1-m),l.iushrn(1),u.iushrn(1)}return c}r.getJSF=i;function s(l,u,c){var h="_"+u;l.prototype[u]=function(){return this[h]!==void 0?this[h]:this[h]=c.call(this)}}r.cachedProperty=s;function o(l){return typeof l=="string"?r.toArray(l,"hex"):l}r.parseBytes=o;function a(l){return new kr(l,"hex","le")}r.intFromLE=a}),K8=Ml.getNAF,u9e=Ml.getJSF,G8=Ml.assert;function rp(t,e){this.type=t,this.p=new kr(e.p,16),this.red=e.prime?kr.red(e.prime):kr.mont(this.p),this.zero=new kr(0).toRed(this.red),this.one=new kr(1).toRed(this.red),this.two=new kr(2).toRed(this.red),this.n=e.n&&new kr(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var cm=rp;rp.prototype.point=function(){throw new Error("Not implemented")};rp.prototype.validate=function(){throw new Error("Not implemented")};rp.prototype._fixedNafMul=function(e,r){G8(e.precomputed);var n=e._getDoubles(),i=K8(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,l;for(a=0;a<i.length;a+=n.step){l=0;for(var u=a+n.step-1;u>=a;u--)l=(l<<1)+i[u];o.push(l)}for(var c=this.jpoint(null,null,null),h=this.jpoint(null,null,null),m=s;m>0;m--){for(a=0;a<o.length;a++)l=o[a],l===m?h=h.mixedAdd(n.points[a]):l===-m&&(h=h.mixedAdd(n.points[a].neg()));c=c.add(h)}return c.toP()};rp.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=K8(r,n,this._bitLength),a=this.jpoint(null,null,null),l=o.length-1;l>=0;l--){for(var u=0;l>=0&&o[l]===0;l--)u++;if(l>=0&&u++,a=a.dblp(u),l<0)break;var c=o[l];G8(c!==0),e.type==="affine"?c>0?a=a.mixedAdd(s[c-1>>1]):a=a.mixedAdd(s[-c-1>>1].neg()):c>0?a=a.add(s[c-1>>1]):a=a.add(s[-c-1>>1].neg())}return e.type==="affine"?a.toP():a};rp.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,l=this._wnafT3,u=0,c,h,m;for(c=0;c<i;c++){m=r[c];var y=m._getNAFPoints(e);o[c]=y.wnd,a[c]=y.points}for(c=i-1;c>=1;c-=2){var b=c-1,E=c;if(o[b]!==1||o[E]!==1){l[b]=K8(n[b],o[b],this._bitLength),l[E]=K8(n[E],o[E],this._bitLength),u=Math.max(l[b].length,u),u=Math.max(l[E].length,u);continue}var A=[r[b],null,null,r[E]];r[b].y.cmp(r[E].y)===0?(A[1]=r[b].add(r[E]),A[2]=r[b].toJ().mixedAdd(r[E].neg())):r[b].y.cmp(r[E].y.redNeg())===0?(A[1]=r[b].toJ().mixedAdd(r[E]),A[2]=r[b].add(r[E].neg())):(A[1]=r[b].toJ().mixedAdd(r[E]),A[2]=r[b].toJ().mixedAdd(r[E].neg()));var M=[-3,-1,-5,-7,0,7,5,1,3],O=u9e(n[b],n[E]);for(u=Math.max(O[0].length,u),l[b]=new Array(u),l[E]=new Array(u),h=0;h<u;h++){var P=O[0][h]|0,z=O[1][h]|0;l[b][h]=M[(P+1)*3+(z+1)],l[E][h]=0,a[b]=A}}var L=this.jpoint(null,null,null),W=this._wnafT4;for(c=u;c>=0;c--){for(var H=0;c>=0;){var G=!0;for(h=0;h<i;h++)W[h]=l[h][c]|0,W[h]!==0&&(G=!1);if(!G)break;H++,c--}if(c>=0&&H++,L=L.dblp(H),c<0)break;for(h=0;h<i;h++){var N=W[h];N!==0&&(N>0?m=a[h][N-1>>1]:N<0&&(m=a[h][-N-1>>1].neg()),m.type==="affine"?L=L.mixedAdd(m):L=L.add(m))}}for(c=0;c<i;c++)a[c]=null;return s?L:L.toP()};function bc(t,e){this.curve=t,this.type=e,this.precomputed=null}rp.BasePoint=bc;bc.prototype.eq=function(){throw new Error("Not implemented")};bc.prototype.validate=function(){return this.curve.validate(this)};rp.prototype.decodePoint=function(e,r){e=Ml.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?G8(e[e.length-1]%2===0):e[0]===7&&G8(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};bc.prototype.encodeCompressed=function(e){return this.encode(e,!0)};bc.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};bc.prototype.encode=function(e,r){return Ml.encode(this._encode(r),e)};bc.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};bc.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};bc.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};bc.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};bc.prototype._getBeta=function(){return null};bc.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var RO=Mw(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),d9e=Ml.assert;function xc(t){cm.call(this,"short",t),this.a=new kr(t.a,16).toRed(this.red),this.b=new kr(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}RO(xc,cm);var h9e=xc;xc.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new kr(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new kr(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],d9e(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new kr(a.a,16),b:new kr(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};xc.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:kr.mont(e),n=new kr(2).toRed(r).redInvm(),i=n.redNeg(),s=new kr(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};xc.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new kr(1),o=new kr(0),a=new kr(0),l=new kr(1),u,c,h,m,y,b,E,A=0,M,O;n.cmpn(0)!==0;){var P=i.div(n);M=i.sub(P.mul(n)),O=a.sub(P.mul(s));var z=l.sub(P.mul(o));if(!h&&M.cmp(r)<0)u=E.neg(),c=s,h=M.neg(),m=O;else if(h&&++A===2)break;E=M,i=n,n=M,a=s,s=O,l=o,o=z}y=M.neg(),b=O;var L=h.sqr().add(m.sqr()),W=y.sqr().add(b.sqr());return W.cmp(L)>=0&&(y=u,b=c),h.negative&&(h=h.neg(),m=m.neg()),y.negative&&(y=y.neg(),b=b.neg()),[{a:h,b:m},{a:y,b}]};xc.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),l=o.mul(i.a),u=s.mul(n.b),c=o.mul(i.b),h=e.sub(a).sub(l),m=u.add(c).neg();return{k1:h,k2:m}};xc.prototype.pointFromX=function(e,r){e=new kr(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};xc.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};xc.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),l=e[o],u=l._getBeta();a.k1.negative&&(a.k1.ineg(),l=l.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),i[o*2]=l,i[o*2+1]=u,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var c=this._wnafMulAdd(1,i,s,o*2,n),h=0;h<o*2;h++)i[h]=null,s[h]=null;return c};function Cs(t,e,r,n){cm.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new kr(e,16),this.y=new kr(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}RO(Cs,cm.BasePoint);xc.prototype.point=function(e,r,n){return new Cs(this,e,r,n)};xc.prototype.pointFromJSON=function(e,r){return Cs.fromJSON(this,e,r)};Cs.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Cs.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Cs.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};Cs.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Cs.prototype.isInfinity=function(){return this.inf};Cs.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Cs.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Cs.prototype.getX=function(){return this.x.fromRed()};Cs.prototype.getY=function(){return this.y.fromRed()};Cs.prototype.mul=function(e){return e=new kr(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Cs.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Cs.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Cs.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Cs.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Cs.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Qs(t,e,r,n){cm.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new kr(0)):(this.x=new kr(e,16),this.y=new kr(r,16),this.z=new kr(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}RO(Qs,cm.BasePoint);xc.prototype.jpoint=function(e,r,n){return new Qs(this,e,r,n)};Qs.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};Qs.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Qs.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),l=i.redSub(s),u=o.redSub(a);if(l.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=l.redSqr(),h=c.redMul(l),m=i.redMul(c),y=u.redSqr().redIAdd(h).redISub(m).redISub(m),b=u.redMul(m.redISub(y)).redISub(o.redMul(h)),E=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(y,b,E)};Qs.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),l=s.redSub(o);if(a.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),h=n.redMul(u),m=l.redSqr().redIAdd(c).redISub(h).redISub(h),y=l.redMul(h.redISub(m)).redISub(s.redMul(c)),b=this.z.redMul(a);return this.curve.jpoint(m,y,b)};Qs.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,l=this.z,u=l.redSqr().redSqr(),c=a.redAdd(a);for(r=0;r<e;r++){var h=o.redSqr(),m=c.redSqr(),y=m.redSqr(),b=h.redAdd(h).redIAdd(h).redIAdd(i.redMul(u)),E=o.redMul(m),A=b.redSqr().redISub(E.redAdd(E)),M=E.redISub(A),O=b.redMul(M);O=O.redIAdd(O).redISub(y);var P=c.redMul(l);r+1<e&&(u=u.redMul(y)),o=A,l=P,c=O}return this.curve.jpoint(o,c.redMul(s),l)};Qs.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Qs.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var l=i.redAdd(i).redIAdd(i),u=l.redSqr().redISub(a).redISub(a),c=o.redIAdd(o);c=c.redIAdd(c),c=c.redIAdd(c),e=u,r=l.redMul(a.redISub(u)).redISub(c),n=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),m=this.y.redSqr(),y=m.redSqr(),b=this.x.redAdd(m).redSqr().redISub(h).redISub(y);b=b.redIAdd(b);var E=h.redAdd(h).redIAdd(h),A=E.redSqr(),M=y.redIAdd(y);M=M.redIAdd(M),M=M.redIAdd(M),e=A.redISub(b).redISub(b),r=E.redMul(b.redISub(e)).redISub(M),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Qs.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),u=l.redSqr().redISub(a).redISub(a);e=u;var c=o.redIAdd(o);c=c.redIAdd(c),c=c.redIAdd(c),r=l.redMul(a.redISub(u)).redISub(c),n=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),m=this.y.redSqr(),y=this.x.redMul(m),b=this.x.redSub(h).redMul(this.x.redAdd(h));b=b.redAdd(b).redIAdd(b);var E=y.redIAdd(y);E=E.redIAdd(E);var A=E.redAdd(E);e=b.redSqr().redISub(A),n=this.y.redAdd(this.z).redSqr().redISub(m).redISub(h);var M=m.redSqr();M=M.redIAdd(M),M=M.redIAdd(M),M=M.redIAdd(M),r=b.redMul(E.redISub(e)).redISub(M)}return this.curve.jpoint(e,r,n)};Qs.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),l=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),u=r.redAdd(r);u=u.redIAdd(u);var c=u.redMul(a),h=l.redSqr().redISub(c.redAdd(c)),m=c.redISub(h),y=a.redSqr();y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var b=l.redMul(m).redISub(y),E=n.redAdd(n).redMul(i);return this.curve.jpoint(h,b,E)};Qs.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var l=a.redSqr(),u=i.redIAdd(i);u=u.redIAdd(u),u=u.redIAdd(u),u=u.redIAdd(u);var c=s.redIAdd(a).redSqr().redISub(o).redISub(l).redISub(u),h=r.redMul(c);h=h.redIAdd(h),h=h.redIAdd(h);var m=this.x.redMul(l).redISub(h);m=m.redIAdd(m),m=m.redIAdd(m);var y=this.y.redMul(c.redMul(u.redISub(c)).redISub(a.redMul(l)));y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var b=this.z.redAdd(a).redSqr().redISub(n).redISub(l);return this.curve.jpoint(m,y,b)};Qs.prototype.mul=function(e,r){return e=new kr(e,r),this.curve._wnafMul(this,e)};Qs.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};Qs.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};Qs.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Qs.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Vx=Mw(function(t,e){var r=e;r.base=cm,r.short=h9e,r.mont=null,r.edwards=null}),Kx=Mw(function(t,e){var r=e,n=Ml.assert;function i(a){a.type==="short"?this.curve=new Vx.short(a):a.type==="edwards"?this.curve=new Vx.edwards(a):this.curve=new Vx.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,l){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var u=new i(l);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:u}),u}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:id.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:id.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:id.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:id.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:id.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:id.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:id.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:id.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function z0(t){if(!(this instanceof z0))return new z0(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=tu.toArray(t.entropy,t.entropyEnc||"hex"),r=tu.toArray(t.nonce,t.nonceEnc||"hex"),n=tu.toArray(t.pers,t.persEnc||"hex");NO(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var Cne=z0;z0.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};z0.prototype._hmac=function(){return new id.hmac(this.hash,this.K)};z0.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};z0.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=tu.toArray(e,r),n=tu.toArray(n,i),NO(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};z0.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=tu.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,tu.encode(o,r)};var hM=Ml.assert;function Mo(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var OO=Mo;Mo.fromPublic=function(e,r,n){return r instanceof Mo?r:new Mo(e,{pub:r,pubEnc:n})};Mo.fromPrivate=function(e,r,n){return r instanceof Mo?r:new Mo(e,{priv:r,privEnc:n})};Mo.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Mo.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Mo.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Mo.prototype._importPrivate=function(e,r){this.priv=new kr(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Mo.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?hM(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&hM(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Mo.prototype.derive=function(e){return e.validate()||hM(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Mo.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Mo.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};Mo.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var f9e=Ml.assert;function Z_(t,e){if(t instanceof Z_)return t;this._importDER(t,e)||(f9e(t.r&&t.s,"Signature without r or s"),this.r=new kr(t.r,16),this.s=new kr(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Q_=Z_;function p9e(){this.place=0}function fC(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function CW(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Z_.prototype._importDER=function(e,r){e=Ml.toArray(e,r);var n=new p9e;if(e[n.place++]!==48)return!1;var i=fC(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=fC(e,n);if(s===!1||(e[n.place]&128)!==0)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=fC(e,n);if(a===!1||e.length!==a+n.place||(e[n.place]&128)!==0)return!1;var l=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new kr(o),this.s=new kr(l),this.recoveryParam=null,!0};function pC(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Z_.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=CW(r),n=CW(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];pC(i,r.length),i=i.concat(r),i.push(2),pC(i,n.length);var s=i.concat(n),o=[48];return pC(o,s.length),o=o.concat(s),Ml.encode(o,e)};var g9e=(function(){throw new Error("unsupported")}),Hp=Ml.assert;function ac(t){if(!(this instanceof ac))return new ac(t);typeof t=="string"&&(Hp(Object.prototype.hasOwnProperty.call(Kx,t),"Unknown curve "+t),t=Kx[t]),t instanceof Kx.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var m9e=ac;ac.prototype.keyPair=function(e){return new OO(this,e)};ac.prototype.keyFromPrivate=function(e,r){return OO.fromPrivate(this,e,r)};ac.prototype.keyFromPublic=function(e,r){return OO.fromPublic(this,e,r)};ac.prototype.genKeyPair=function(e){e||(e={});for(var r=new Cne({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||g9e(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new kr(2));;){var s=new kr(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};ac.prototype._truncateToN=function(e,r,n){var i;if(kr.isBN(e)||typeof e=="number")e=new kr(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new kr(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new kr(s,16)}typeof n!="number"&&(n=i*8);var o=n-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};ac.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!kr.isBN(e)){Hp(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),Hp(e.length>>>0===e.length);for(var s=0;s<e.length;s++)Hp((e[s]&255)===e[s])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),Hp(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=r.getPrivate().toArray("be",o),l=e.toArray("be",o);Hp(new kr(l).eq(e),"Can not sign message");for(var u=new Cne({hash:this.hash,entropy:a,nonce:l,pers:i.pers,persEnc:i.persEnc||"utf8"}),c=this.n.sub(new kr(1)),h=0;;h++){var m=i.k?i.k(h):new kr(u.generate(this.n.byteLength()));if(m=this._truncateToN(m,!0),!(m.cmpn(1)<=0||m.cmp(c)>=0)){var y=this.g.mul(m);if(!y.isInfinity()){var b=y.getX(),E=b.umod(this.n);if(E.cmpn(0)!==0){var A=m.invm(this.n).mul(E.mul(r.getPrivate()).iadd(e));if(A=A.umod(this.n),A.cmpn(0)!==0){var M=(y.getY().isOdd()?1:0)|(b.cmp(E)!==0?2:0);return i.canonical&&A.cmp(this.nh)>0&&(A=this.n.sub(A),M^=1),new Q_({r:E,s:A,recoveryParam:M})}}}}}};ac.prototype.verify=function(e,r,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),r=new Q_(r,"hex");var o=r.r,a=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var l=a.invm(this.n),u=l.mul(e).umod(this.n),c=l.mul(o).umod(this.n),h;return this.curve._maxwellTrick?(h=this.g.jmulAdd(u,n.getPublic(),c),h.isInfinity()?!1:h.eqXToP(o)):(h=this.g.mulAdd(u,n.getPublic(),c),h.isInfinity()?!1:h.getX().umod(this.n).cmp(o)===0)};ac.prototype.recoverPubKey=function(t,e,r,n){Hp((3&r)===r,"The recovery param is more than two bits"),e=new Q_(e,n);var i=this.n,s=new kr(t),o=e.r,a=e.s,l=r&1,u=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");u?o=this.curve.pointFromX(o.add(this.curve.n),l):o=this.curve.pointFromX(o,l);var c=e.r.invm(i),h=i.sub(s).mul(c).umod(i),m=a.mul(c).umod(i);return this.g.mulAdd(h,o,m)};ac.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new Q_(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var y9e=Mw(function(t,e){var r=e;r.version="6.6.1",r.utils=Ml,r.rand=(function(){throw new Error("unsupported")}),r.curve=Vx,r.curves=Kx,r.ec=m9e,r.eddsa=null}),w9e=y9e.ec;const v9e="signing-key/5.8.0",fM=new st(v9e);let gC=null;function n0(){return gC||(gC=new w9e("secp256k1")),gC}class b9e{constructor(e){Xr(this,"curve","secp256k1"),Xr(this,"privateKey",Dr(e)),Ug(this.privateKey)!==32&&fM.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=n0().keyFromPrivate(Br(this.privateKey));Xr(this,"publicKey","0x"+r.getPublic(!1,"hex")),Xr(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),Xr(this,"_isSigningKey",!0)}_addPoint(e){const r=n0().keyFromPublic(Br(this.publicKey)),n=n0().keyFromPublic(Br(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=n0().keyFromPrivate(Br(this.privateKey)),n=Br(e);n.length!==32&&fM.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return H_({recoveryParam:i.recoveryParam,r:Ci("0x"+i.r.toString(16),32),s:Ci("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=n0().keyFromPrivate(Br(this.privateKey)),n=n0().keyFromPublic(Br(kne(e)));return Ci("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function x9e(t,e){const r=H_(e),n={r:Br(r.r),s:Br(r.s)};return"0x"+n0().recoverPubKey(Br(t),n,r.recoveryParam).encode("hex",!1)}function kne(t,e){const r=Br(t);return r.length===32?new b9e(r).publicKey:r.length===33?"0x"+n0().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?Dr(r):fM.throwArgumentError("invalid public or private key","key","[REDACTED]")}const E9e="transactions/5.8.0",ef=new st(E9e);var kW;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(kW||(kW={}));function jO(t){return t==="0x"?null:gu(t)}function Io(t){return t==="0x"?HEe:zt.from(t)}function _9e(t){const e=kne(t);return gu(zo(Ks(zo(e,1)),12))}function Ine(t,e){return _9e(x9e(Br(t),e))}function dl(t,e){const r=qy(zt.from(t).toHexString());return r.length>32&&ef.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function mC(t,e){return{address:gu(t),storageKeys:(e||[]).map((r,n)=>(Ug(r)!==32&&ef.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function R5(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&ef.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),mC(r[0],r[1])):mC(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return mC(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function Tne(t){return R5(t).map(e=>[e.address,e.storageKeys])}function A9e(t,e){if(t.gasPrice!=null){const n=zt.from(t.gasPrice),i=zt.from(t.maxFeePerGas||0);n.eq(i)||ef.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[dl(t.chainId||0,"chainId"),dl(t.nonce||0,"nonce"),dl(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),dl(t.maxFeePerGas||0,"maxFeePerGas"),dl(t.gasLimit||0,"gasLimit"),t.to!=null?gu(t.to):"0x",dl(t.value||0,"value"),t.data||"0x",Tne(t.accessList||[])];if(e){const n=H_(e);r.push(dl(n.recoveryParam,"recoveryParam")),r.push(qy(n.r)),r.push(qy(n.s))}return yl(["0x02",G_(r)])}function S9e(t,e){const r=[dl(t.chainId||0,"chainId"),dl(t.nonce||0,"nonce"),dl(t.gasPrice||0,"gasPrice"),dl(t.gasLimit||0,"gasLimit"),t.to!=null?gu(t.to):"0x",dl(t.value||0,"value"),t.data||"0x",Tne(t.accessList||[])];if(e){const n=H_(e);r.push(dl(n.recoveryParam,"recoveryParam")),r.push(qy(n.r)),r.push(qy(n.s))}return yl(["0x01",G_(r)])}function $ne(t,e,r){try{const n=Io(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{ef.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=Ci(e[1],32),t.s=Ci(e[2],32);try{const n=Ks(r(t));t.from=Ine(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function C9e(t){const e=$O(t.slice(1));e.length!==9&&e.length!==12&&ef.throwArgumentError("invalid component count for transaction type: 2","payload",Dr(t));const r=Io(e[2]),n=Io(e[3]),i={type:2,chainId:Io(e[0]).toNumber(),nonce:Io(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Io(e[4]),to:jO(e[5]),value:Io(e[6]),data:e[7],accessList:R5(e[8])};return e.length===9||(i.hash=Ks(t),$ne(i,e.slice(9),A9e)),i}function k9e(t){const e=$O(t.slice(1));e.length!==8&&e.length!==11&&ef.throwArgumentError("invalid component count for transaction type: 1","payload",Dr(t));const r={type:1,chainId:Io(e[0]).toNumber(),nonce:Io(e[1]).toNumber(),gasPrice:Io(e[2]),gasLimit:Io(e[3]),to:jO(e[4]),value:Io(e[5]),data:e[6],accessList:R5(e[7])};return e.length===8||(r.hash=Ks(t),$ne(r,e.slice(8),S9e)),r}function I9e(t){const e=$O(t);e.length!==9&&e.length!==6&&ef.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:Io(e[0]).toNumber(),gasPrice:Io(e[1]),gasLimit:Io(e[2]),to:jO(e[3]),value:Io(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=zt.from(e[6]).toNumber()}catch{return r}if(r.r=Ci(e[7],32),r.s=Ci(e[8],32),zt.from(r.r).isZero()&&zt.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(Dr(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const s=Ks(G_(i));try{r.from=Ine(s,{r:Dr(r.r),s:Dr(r.s),recoveryParam:n})}catch{}r.hash=Ks(t)}return r.type=null,r}function T9e(t){const e=Br(t);if(e[0]>127)return I9e(e);switch(e[0]){case 1:return k9e(e);case 2:return C9e(e)}return ef.throwError(`unsupported transaction type: ${e[0]}`,st.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const L2=new st(Y_);class ir{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},r=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),a=this.hex.bind(this),l=this.number.bind(this),u=this.type.bind(this),c=h=>this.data(h,!0);return e.transaction={hash:o,type:u,accessList:ir.allowNull(this.accessList.bind(this),null),blockHash:ir.allowNull(o,null),blockNumber:ir.allowNull(l,null),transactionIndex:ir.allowNull(l,null),confirmations:ir.allowNull(l,null),from:r,gasPrice:ir.allowNull(n),maxPriorityFeePerGas:ir.allowNull(n),maxFeePerGas:ir.allowNull(n),gasLimit:n,to:ir.allowNull(r,null),value:n,nonce:l,data:s,r:ir.allowNull(this.uint256),s:ir.allowNull(this.uint256),v:ir.allowNull(l),creates:ir.allowNull(r,null),raw:ir.allowNull(s)},e.transactionRequest={from:ir.allowNull(r),nonce:ir.allowNull(l),gasLimit:ir.allowNull(n),gasPrice:ir.allowNull(n),maxPriorityFeePerGas:ir.allowNull(n),maxFeePerGas:ir.allowNull(n),to:ir.allowNull(r),value:ir.allowNull(n),data:ir.allowNull(c),type:ir.allowNull(l),accessList:ir.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:l,blockNumber:l,transactionHash:o,address:r,topics:ir.arrayOf(o),data:s,logIndex:l,blockHash:o},e.receipt={to:ir.allowNull(this.address,null),from:ir.allowNull(this.address,null),contractAddress:ir.allowNull(r,null),transactionIndex:l,root:ir.allowNull(a),gasUsed:n,logsBloom:ir.allowNull(s),blockHash:o,transactionHash:o,logs:ir.arrayOf(this.receiptLog.bind(this)),blockNumber:l,confirmations:ir.allowNull(l,null),cumulativeGasUsed:n,effectiveGasPrice:ir.allowNull(n),status:ir.allowNull(l),type:u},e.block={hash:ir.allowNull(o),parentHash:o,number:l,timestamp:l,nonce:ir.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:ir.allowNull(r),extraData:s,transactions:ir.allowNull(ir.arrayOf(o)),baseFeePerGas:ir.allowNull(n)},e.blockWithTransactions=Na(e.block),e.blockWithTransactions.transactions=ir.allowNull(ir.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:ir.allowNull(i,void 0),toBlock:ir.allowNull(i,void 0),blockHash:ir.allowNull(o,void 0),address:ir.allowNull(r,void 0),topics:ir.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:ir.allowNull(l),blockHash:ir.allowNull(o),transactionIndex:l,removed:ir.allowNull(this.boolean.bind(this)),address:r,data:ir.allowFalsish(s,"0x"),topics:ir.arrayOf(o),transactionHash:o,logIndex:l},e}accessList(e){return R5(e||[])}number(e){return e==="0x"?0:zt.from(e).toNumber()}type(e){return e==="0x"||e==null?0:zt.from(e).toNumber()}bigNumber(e){return zt.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,r){return typeof e=="string"&&(!r&&e.substring(0,2)!=="0x"&&(e="0x"+e),Hn(e))?e.toLowerCase():L2.throwArgumentError("invalid hash","value",e)}data(e,r){const n=this.hex(e,r);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return gu(e)}callAddress(e){if(!Hn(e,32))return null;const r=gu(zo(e,12));return r===qEe?null:r}contractAddress(e){return O_e(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||Hn(e))return kO(e);throw new Error("invalid blockTag")}hash(e,r){const n=this.hex(e,r);return Ug(n)!==32?L2.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const r=zt.from(e);try{return r.toNumber()}catch{}return null}uint256(e){if(!Hn(e))throw new Error("invalid uint256");return Ci(e,32)}_block(e,r){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=ir.check(r,e);return i._difficulty=n==null?null:zt.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return ir.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&zt.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const r=ir.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;Hn(n)&&(n=zt.from(n).toNumber()),r.chainId=n}else{let n=e.networkId;n==null&&r.v==null&&(n=e.chainId),Hn(n)&&(n=zt.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(e){return T9e(e)}receiptLog(e){return ir.check(this.formats.receiptLog,e)}receipt(e){const r=ir.check(this.formats.receipt,e);if(r.root!=null)if(r.root.length<=4){const n=zt.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&L2.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):L2.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&L2.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(e){return Array.isArray(e)?e.map(r=>this.topics(r)):e!=null?this.hash(e,!0):null}filter(e){return ir.check(this.formats.filter,e)}filterLog(e){return ir.check(this.formats.filterLog,e)}static check(e,r){const n={};for(const i in e)try{const s=e[i](r[i]);s!==void 0&&(n[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=r[i],s}return n}static allowNull(e,r){return(function(n){return n==null?r:e(n)})}static allowFalsish(e,r){return(function(n){return n?e(n):r})}static arrayOf(e){return(function(r){if(!Array.isArray(r))throw new Error("not an array");const n=[];return r.forEach(function(i){n.push(e(i))}),n})}}var Pr=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Gr=new st(Y_),$9e=10;function IW(t){return t==null?"null":(Ug(t)!==32&&Gr.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function TW(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const r={};e.forEach(i=>{r[IW(i)]=!0});const n=Object.keys(r);return n.sort(),n.join("|")}else return IW(e)}).join("&")}function M9e(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const r=e.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function d1(t){if(typeof t=="string"){if(t=t.toLowerCase(),Ug(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+TW(t);if(UEe.isForkEvent(t))throw Gr.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+TW(t.topics||[])}throw new Error("invalid event - "+t)}function D2(){return new Date().getTime()}function $W(t){return new Promise(e=>{setTimeout(e,t)})}const P9e=["block","network","pending","poll"];let N9e=class{constructor(e,r,n){Xr(this,"tag",e),Xr(this,"listener",r),Xr(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const r=e[1],n=M9e(e[2]),i={};return n.length>0&&(i.topics=n),r&&r!=="*"&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||P9e.indexOf(this.tag)>=0}};const R9e={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function yC(t){return Ci(zt.from(t).toHexString(),32)}function MW(t){return cM.encode(eg([t,zo(xW(xW(t)),0,4)]))}const Mne=new RegExp("^(ipfs)://(.*)$","i"),PW=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Mne,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function Gx(t,e){try{return V_(B3(t,e))}catch{}return null}function B3(t,e){if(t==="0x")return null;const r=zt.from(zo(t,e,e+32)).toNumber(),n=zt.from(zo(t,r,r+32)).toNumber();return zo(t,r+32,r+32+n)}function wC(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):Gr.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function NW(t){const e=Br(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function O9e(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function Pne(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=Br(t[n]);e[n]=NW(r),e.push(NW(i.length)),e.push(O9e(i)),r+=32+Math.ceil(i.length/32)*32}return yl(e)}class RW{constructor(e,r,n,i){Xr(this,"provider",e),Xr(this,"name",n),Xr(this,"address",e.formatter.address(r)),Xr(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>zt.from(e).eq(1)).catch(e=>{if(e.code===st.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,r){return Pr(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:yl([e,qx(this.name),r||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=yl(["0x9061b923",Pne([T_e(this.name),n.data])]));try{let s=yield this.provider.call(n);return Br(s).length%32===4&&Gr.throwError("resolver threw error",st.errors.CALL_EXCEPTION,{transaction:n,data:s}),i&&(s=B3(s,0)),s}catch(s){if(s.code===st.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,r){return Pr(this,void 0,void 0,function*(){const n=yield this._fetch(e,r);return n!=null?B3(n,0):null})}_getAddress(e,r){const n=R9e[String(e)];if(n==null&&Gr.throwError(`unsupported coin type: ${e}`,st.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(r);const i=Br(r);if(n.p2pkh!=null){const s=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return MW(eg([[n.p2pkh],"0x"+s[2]]))}}if(n.p2sh!=null){const s=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return MW(eg([[n.p2sh],"0x"+s[2]]))}}if(n.prefix!=null){const s=i[1];let o=i[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&i.length===2+s&&s>=1&&s<=75){const a=AW.toWords(i.slice(2));return a.unshift(o),AW.encode(n.prefix,a)}}return null}getAddress(e){return Pr(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===VEe?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===st.errors.CALL_EXCEPTION)return null;throw i}const r=yield this._fetchBytes("0xf1cb7e06",yC(e));if(r==null||r==="0x")return null;const n=this._getAddress(e,r);return n==null&&Gr.throwError("invalid or unsupported coin data",st.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:r}),n})}getAvatar(){return Pr(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<PW.length;n++){const i=r.match(PW[n]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:r}),{linkage:e,url:r};case"data":return e.push({type:"data",content:r}),{linkage:e,url:r};case"ipfs":return e.push({type:"ipfs",content:r}),{linkage:e,url:wC(r)};case"erc721":case"erc1155":{const o=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:r});const a=this._resolvedAddress||(yield this.getAddress()),l=(i[2]||"").split("/");if(l.length!==2)return null;const u=yield this.provider.formatter.address(l[0]),c=Ci(zt.from(l[1]).toHexString(),32);if(s==="erc721"){const E=this.provider.formatter.callAddress(yield this.provider.call({to:u,data:yl(["0x6352211e",c])}));if(a!==E)return null;e.push({type:"owner",content:E})}else if(s==="erc1155"){const E=zt.from(yield this.provider.call({to:u,data:yl(["0x00fdd58e",Ci(a,32),c])}));if(E.isZero())return null;e.push({type:"balance",content:E.toString()})}const h={to:this.provider.formatter.address(l[0]),data:yl([o,c])};let m=Gx(yield this.provider.call(h),0);if(m==null)return null;e.push({type:"metadata-url-base",content:m}),s==="erc1155"&&(m=m.replace("{id}",c.substring(2)),e.push({type:"metadata-url-expanded",content:m})),m.match(/^ipfs:/i)&&(m=wC(m)),e.push({type:"metadata-url",content:m});const y=yield PO(m);if(!y)return null;e.push({type:"metadata",content:JSON.stringify(y)});let b=y.image;if(typeof b!="string")return null;if(!b.match(/^(https:\/\/|data:)/i)){if(b.match(Mne)==null)return null;e.push({type:"url-ipfs",content:b}),b=wC(b)}return e.push({type:"url",content:b}),{linkage:e,url:b}}}}}catch{}return null})}getContentHash(){return Pr(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const o=parseInt(r[3],16);if(r[4].length===o*2)return"ipfs://"+cM.encode("0x"+r[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const o=parseInt(n[3],16);if(n[4].length===o*2)return"ipns://"+cM.encode("0x"+n[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===64)return"bzz://"+i[1];const s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===68){const o={"=":"","+":"-","/":"_"};return"sia://"+ene("0x"+s[1]).replace(/[=+\/]/g,l=>o[l])}return Gr.throwError("invalid or unsupported content hash data",st.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return Pr(this,void 0,void 0,function*(){let r=Hh(e);r=eg([yC(64),yC(r.length),r]),r.length%32!==0&&(r=eg([r,Ci("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",Dr(r));return n==null||n==="0x"?null:V_(n)})}}let vC=null,j9e=1;class L9e extends TO{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),Xr(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(r=>{}),this._ready().catch(r=>{});else{const r=Vv(new.target,"getNetwork")(e);r?(Xr(this,"_network",r),this.emit("network",r,null)):Gr.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Pr(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||Gr.throwError("no network detected",st.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:Xr(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return Kv(()=>this._ready().then(e=>e,e=>{if(!(e.code===st.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return vC==null&&(vC=new ir),vC}static getNetwork(e){return WEe(e??"homestead")}ccipReadFetch(e,r,n){return Pr(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=e.to.toLowerCase(),s=r.toLowerCase(),o=[];for(let a=0;a<n.length;a++){const l=n[a],u=l.replace("{sender}",i).replace("{data}",s),c=l.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:i}),h=yield PO({url:u,errorPassThrough:!0},c,(y,b)=>(y.status=b.statusCode,y));if(h.data)return h.data;const m=h.message||"unknown error";if(h.status>=400&&h.status<500)return Gr.throwError(`response not found during CCIP fetch: ${m}`,st.errors.SERVER_ERROR,{url:l,errorMessage:m});o.push(m)}return Gr.throwError(`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,st.errors.SERVER_ERROR,{urls:n,errorMessages:o})})}_getInternalBlockNumber(e){return Pr(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const s=yield i;if(D2()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const r=D2(),n=zs({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),s;const o=D2();return i=zt.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:r,respTime:o}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return Pr(this,void 0,void 0,function*(){const e=j9e++,r=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)Gr.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",Gr.makeError("network block skew detected",st.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const s=this._emitted[i];s!=="pending"&&n-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const s=i.hash;let o=this.getTransactionReceipt(s).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+s]=a.blockNumber,this.emit(s,a)),null)).catch(a=>{this.emit("error",a)});r.push(o);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const s=i.filter;s.fromBlock=i._lastBlockNumber+1,s.toBlock=n;const o=s.toBlock-this._maxFilterBlockRange;o>s.fromBlock&&(s.fromBlock=o),s.fromBlock<0&&(s.fromBlock=0);const a=this.getLogs(s).then(l=>{i._inflight=!1,l.length!==0&&l.forEach(u=>{u.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=u.blockNumber),this._emitted["b:"+u.blockHash]=u.blockNumber,this._emitted["t:"+u.transactionHash]=u.blockNumber,this.emit(s,u)})}).catch(l=>{this.emit("error",l),i._inflight=!1});r.push(a)}break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Pr(this,void 0,void 0,function*(){return Gr.throwError("provider does not support network detection",st.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return Pr(this,void 0,void 0,function*(){const e=yield this._ready(),r=yield this.detectNetwork();if(e.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),yield $W(0),this._network;const n=Gr.makeError("underlying network changed",st.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=D2();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=D2(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,r,n){return Pr(this,void 0,void 0,function*(){return this._waitForTransaction(e,r??1,n||0,null)})}_waitForTransaction(e,r,n,i){return Pr(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=r?s:new Promise((o,a)=>{const l=[];let u=!1;const c=function(){return u?!0:(u=!0,l.forEach(m=>{m()}),!1)},h=m=>{m.confirmations<r||c()||o(m)};if(this.on(e,h),l.push(()=>{this.removeListener(e,h)}),i){let m=i.startBlock,y=null;const b=E=>Pr(this,void 0,void 0,function*(){u||(yield $W(1e3),this.getTransactionCount(i.from).then(A=>Pr(this,void 0,void 0,function*(){if(!u){if(A<=i.nonce)m=E;else{{const M=yield this.getTransaction(e);if(M&&M.blockNumber!=null)return}for(y==null&&(y=m-3,y<i.startBlock&&(y=i.startBlock));y<=E;){if(u)return;const M=yield this.getBlockWithTransactions(y);for(let O=0;O<M.transactions.length;O++){const P=M.transactions[O];if(P.hash===e)return;if(P.from===i.from&&P.nonce===i.nonce){if(u)return;const z=yield this.waitForTransaction(P.hash,r);if(c())return;let L="replaced";P.data===i.data&&P.to===i.to&&P.value.eq(i.value)?L="repriced":P.data==="0x"&&P.from===P.to&&P.value.isZero()&&(L="cancelled"),a(Gr.makeError("transaction was replaced",st.errors.TRANSACTION_REPLACED,{cancelled:L==="replaced"||L==="cancelled",reason:L,replacement:this._wrapTransaction(P),hash:e,receipt:z}));return}}y++}}u||this.once("block",b)}}),A=>{u||this.once("block",b)}))});if(u)return;this.once("block",b),l.push(()=>{this.removeListener("block",b)})}if(typeof n=="number"&&n>0){const m=setTimeout(()=>{c()||a(Gr.makeError("timeout exceeded",st.errors.TIMEOUT,{timeout:n}))},n);m.unref&&m.unref(),l.push(()=>{clearTimeout(m)})}})})}getBlockNumber(){return Pr(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return Pr(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return zt.from(e)}catch(r){return Gr.throwError("bad result from backend",st.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:r})}})}getBalance(e,r){return Pr(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield zs({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getBalance",n);try{return zt.from(i)}catch(s){return Gr.throwError("bad result from backend",st.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:s})}})}getTransactionCount(e,r){return Pr(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield zs({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getTransactionCount",n);try{return zt.from(i).toNumber()}catch(s){return Gr.throwError("bad result from backend",st.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:s})}})}getCode(e,r){return Pr(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield zs({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getCode",n);try{return Dr(i)}catch(s){return Gr.throwError("bad result from backend",st.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:s})}})}getStorageAt(e,r,n){return Pr(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield zs({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(o=>kO(o))}),s=yield this.perform("getStorageAt",i);try{return Dr(s)}catch(o){return Gr.throwError("bad result from backend",st.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:o})}})}_wrapTransaction(e,r,n){if(r!=null&&Ug(r)!==32)throw new Error("invalid response - sendTransaction");const i=e;return r!=null&&e.hash!==r&&Gr.throwError("Transaction hash mismatch from Provider.sendTransaction.",st.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:r}),i.wait=(s,o)=>Pr(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let a;s!==0&&n!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const l=yield this._waitForTransaction(e.hash,s,o,a);return l==null&&s===0?null:(this._emitted["t:"+e.hash]=l.blockNumber,l.status===0&&Gr.throwError("transaction failed",st.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:l}),l)}),i}sendTransaction(e){return Pr(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Promise.resolve(e).then(s=>Dr(s)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,s,i)}catch(s){throw s.transaction=n,s.transactionHash=n.hash,s}})}_getTransactionRequest(e){return Pr(this,void 0,void 0,function*(){const r=yield e,n={};return["from","to"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?zt.from(s):null))}),["type"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s??null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?Dr(s):null))}),this.formatter.transactionRequest(yield zs(n))})}_getFilter(e){return Pr(this,void 0,void 0,function*(){e=yield e;const r={};return e.address!=null&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(r[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(r[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield zs(r))})}_call(e,r,n){return Pr(this,void 0,void 0,function*(){n>=$9e&&Gr.throwError("CCIP read exceeded maximum redirections",st.errors.SERVER_ERROR,{redirects:n,transaction:e});const i=e.to,s=yield this.perform("call",{transaction:e,blockTag:r});if(n>=0&&r==="latest"&&i!=null&&s.substring(0,10)==="0x556f1830"&&Ug(s)%32===4)try{const o=zo(s,4),a=zo(o,0,32);zt.from(a).eq(i)||Gr.throwError("CCIP Read sender did not match",st.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const l=[],u=zt.from(zo(o,32,64)).toNumber(),c=zt.from(zo(o,u,u+32)).toNumber(),h=zo(o,u+32);for(let M=0;M<c;M++){const O=Gx(h,M*32);O==null&&Gr.throwError("CCIP Read contained corrupt URL string",st.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),l.push(O)}const m=B3(o,64);zt.from(zo(o,100,128)).isZero()||Gr.throwError("CCIP Read callback selector included junk",st.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const y=zo(o,96,100),b=B3(o,128),E=yield this.ccipReadFetch(e,m,l);E==null&&Gr.throwError("CCIP Read disabled or provided no URLs",st.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const A={to:i,data:yl([y,Pne([E,b])])};return this._call(A,r,n+1)}catch(o){if(o.code===st.errors.SERVER_ERROR)throw o}try{return Dr(s)}catch(o){return Gr.throwError("bad result from backend",st.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:r},result:s,error:o})}})}call(e,r){return Pr(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield zs({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return Pr(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield zs({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",r);try{return zt.from(n)}catch(i){return Gr.throwError("bad result from backend",st.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:i})}})}_getAddress(e){return Pr(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&Gr.throwArgumentError("invalid address or ENS name","name",e);const r=yield this.resolveName(e);return r==null&&Gr.throwError("ENS name not configured",st.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),r})}_getBlock(e,r){return Pr(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!r};if(Hn(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),Hn(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{Gr.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return Kv(()=>Pr(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let o=null;for(let l=0;l<s.transactions.length;l++){const u=s.transactions[l];if(u.blockNumber==null)u.confirmations=0;else if(u.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let c=o-u.blockNumber+1;c<=0&&(c=1),u.confirmations=c}}const a=this.formatter.blockWithTransactions(s);return a.transactions=a.transactions.map(l=>this._wrapTransaction(l)),a}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return Pr(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return Kv(()=>Pr(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return Pr(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return Kv(()=>Pr(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return i}),{oncePoll:this})})}getLogs(e){return Pr(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield zs({filter:this._getFilter(e)}),n=yield this.perform("getLogs",r);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),ir.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return Pr(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return Pr(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&Gr.throwArgumentError("invalid BlockTag","blockTag",e);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=e,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(e)})}getResolver(e){return Pr(this,void 0,void 0,function*(){let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;const n=yield this._getResolver(r,"getResolver");if(n!=null){const i=new RW(this,n,e);return r!==e&&!(yield i.supportsWildcard())?null:i}r=r.split(".").slice(1).join(".")}})}_getResolver(e,r){return Pr(this,void 0,void 0,function*(){r==null&&(r="ENS");const n=yield this.getNetwork();n.ensAddress||Gr.throwError("network does not support ENS",st.errors.UNSUPPORTED_OPERATION,{operation:r,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+qx(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return Pr(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(Hn(e))throw n}typeof e!="string"&&Gr.throwArgumentError("invalid ENS name","name",e);const r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return Pr(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const r=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"lookupAddress");if(n==null)return null;const i=Gx(yield this.call({to:n,data:"0x691f3431"+qx(r).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return Pr(this,void 0,void 0,function*(){let r=null;if(Hn(e)){const s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(s,"getAvatar");if(!o)return null;r=new RW(this,o,s);try{const a=yield r.getAvatar();if(a)return a.url}catch(a){if(a.code!==st.errors.CALL_EXCEPTION)throw a}try{const a=Gx(yield this.call({to:o,data:"0x691f3431"+qx(s).substring(2)}),0);r=yield this.getResolver(a)}catch(a){if(a.code!==st.errors.CALL_EXCEPTION)throw a;return null}}else if(r=yield this.getResolver(e),!r)return null;const n=yield r.getAvatar();return n==null?null:n.url})}perform(e,r){return Gr.throwError(e+" not implemented",st.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(e,r,n){const i=new N9e(d1(e),r,n);return this._events.push(i),this._startEvent(i),this}on(e,r){return this._addEventListener(e,r,!1)}once(e,r){return this._addEventListener(e,r,!0)}emit(e,...r){let n=!1,i=[],s=d1(e);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,r)},0),n=!0,o.once?(i.push(o),!1):!0)),i.forEach(o=>{this._stopEvent(o)}),n}listenerCount(e){if(!e)return this._events.length;let r=d1(e);return this._events.filter(n=>n.tag===r).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let r=d1(e);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(e,r){if(r==null)return this.removeAllListeners(e);const n=[];let i=!1,s=d1(e);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=r||i?!0:(i=!0,n.push(o),!1)),n.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let r=[];if(e==null)r=this._events,this._events=[];else{const n=d1(e);this._events=this._events.filter(i=>i.tag!==n?!0:(r.push(i),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}}var fh=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Hi=new st(Y_),D9e=["call","estimateGas"];function vb(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const r=Hn(t.data)?t.data:null;if(!e||r)return{message:t.message,data:r}}if(typeof t=="object"){for(const r in t){const n=vb(t[r],e);if(n)return n}return null}if(typeof t=="string")try{return vb(JSON.parse(t),e)}catch{}return null}function Nne(t,e,r){const n=r.transaction||r.signedTransaction;if(t==="call"){const s=vb(e,!0);if(s)return s.data;Hi.throwError("missing revert data in call exception; Transaction reverted without a reason string",st.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(t==="estimateGas"){let s=vb(e.body,!1);s==null&&(s=vb(e,!1)),s&&Hi.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",st.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:t,transaction:n,error:e})}let i=e.message;throw e.code===st.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&Hi.throwError("insufficient funds for intrinsic transaction cost",st.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),i.match(/nonce (is )?too low/i)&&Hi.throwError("nonce has already been used",st.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&Hi.throwError("replacement fee too low",st.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),i.match(/only replay-protected/i)&&Hi.throwError("legacy pre-eip-155 transactions not supported",st.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),D9e.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&Hi.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",st.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function OW(t){return new Promise(function(e){setTimeout(e,t)})}function B9e(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function B2(t){return t&&t.toLowerCase()}const pM={};class Rne extends q_{constructor(e,r,n){if(super(),e!==pM)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");Xr(this,"provider",r),n==null&&(n=0),typeof n=="string"?(Xr(this,"_address",this.provider.formatter.address(n)),Xr(this,"_index",null)):typeof n=="number"?(Xr(this,"_index",n),Xr(this,"_address",null)):Hi.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return Hi.throwError("cannot alter JSON-RPC Signer connection",st.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new U9e(pM,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&Hi.throwError("unknown account #"+this._index,st.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Na(e);const r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=Na(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>fh(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&Hi.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),zs({tx:zs(e),sender:r}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&Hi.throwArgumentError("from address mismatch","transaction",e):n.from=i;const s=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&Hi.throwError("user rejected transaction",st.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),Nne("sendTransaction",o,s)))})}signTransaction(e){return Hi.throwError("signing transactions is unsupported",st.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return fh(this,void 0,void 0,function*(){const r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield Kv(()=>fh(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,r)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return fh(this,void 0,void 0,function*(){const r=typeof e=="string"?Hh(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[Dr(r),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Hi.throwError("user rejected signing",st.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return fh(this,void 0,void 0,function*(){const r=typeof e=="string"?Hh(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),Dr(r)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Hi.throwError("user rejected signing",st.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,r,n){return fh(this,void 0,void 0,function*(){const i=yield ol.resolveNames(e,r,n,o=>this.provider.resolveName(o)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(ol.getPayload(i.domain,r,i.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&Hi.throwError("user rejected signing",st.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:i.domain,types:r,value:i.value}}),o}})}unlock(e){return fh(this,void 0,void 0,function*(){const r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class U9e extends Rne{sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}}const F9e={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class z9e extends L9e{constructor(e,r){let n=r;n==null&&(n=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{i(o)},o=>{s(o)})},0)})),super(n),e||(e=Vv(this.constructor,"defaultUrl")()),typeof e=="string"?Xr(this,"connection",Object.freeze({url:e})):Xr(this,"connection",Object.freeze(Na(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return fh(this,void 0,void 0,function*(){yield OW(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const r=Vv(this.constructor,"getNetwork");try{return r(zt.from(e).toNumber())}catch(n){return Hi.throwError("could not detect network",st.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return Hi.throwError("could not detect network",st.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new Rne(pM,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(r=>this.formatter.address(r)))}send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:j3(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const s=PO(this.connection,JSON.stringify(n),B9e).then(o=>(this.emit("debug",{action:"response",request:n,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:n,provider:this}),o});return i&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,r){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[B2(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[B2(r.address),r.blockTag]];case"getCode":return["eth_getCode",[B2(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[B2(r.address),Ci(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":return["eth_call",[Vv(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0}),r.blockTag]];case"estimateGas":return["eth_estimateGas",[Vv(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0})]];case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=B2(r.filter.address)),["eth_getLogs",[r.filter]]}return null}perform(e,r){return fh(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=r.transaction;if(i&&i.type!=null&&zt.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(r=Na(r),r.transaction=Na(i),delete r.transaction.type)}}const n=this.prepareRequest(e,r);n==null&&Hi.throwError(e+" not implemented",st.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return Nne(e,i,r)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(s){if(e._pendingFilter!=r)return null;let o=Promise.resolve();return s.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(a).then(function(l){return e.emit("pending",l),null})})}),o.then(function(){return OW(1e3)})}).then(function(){if(e._pendingFilter!=r){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,r){const n=Na(F9e);if(r)for(const s in r)r[s]&&(n[s]=!0);bEe(e,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const o=kO(zt.from(e[s]));s==="gasLimit"&&(s="gas"),i[s]=o}),["from","to","data"].forEach(function(s){e[s]!=null&&(i[s]=Dr(e[s]))}),e.accessList&&(i.accessList=R5(e.accessList)),i}}var W9e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const q9e=new st(Y_);class H9e extends z9e{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return W9e(this,void 0,void 0,function*(){let r=this.network;return r==null&&(r=yield e.detectNetwork.call(this),r||q9e.throwError("no network detected",st.errors.UNKNOWN_ERROR,{}),this._network==null&&(Xr(this,"_network",r),this.emit("network",r,null))),r})}}function gM(t){if(typeof t=="number"||typeof t=="bigint"||typeof t=="string")return t;if(typeof t.toHexString=="function")return t.toHexString();throw Error(`Expected numeric value but received ${t}`)}const One=t=>[yc.id,U_.id].includes(t),V9e=async(t,e)=>{if(!One(t.chainId))throw Error("Invalid chain ID for Arbitrum gas estimation.");if(t.type===void 0&&(t.type=2),t.maxFeePerGas)return t;try{let{lastBaseFeePerGas:r}=await e.getFeeData();if(r){let n=r.mul(zt.from(120)).div(zt.from(100));t.maxFeePerGas=gM(n),t.maxPriorityFeePerGas=gM(zt.from(0))}}catch(r){throw Error(`Failed to set gas price for Arbitrum transaction: ${r}.`)}return t},jne=t=>[56,97].includes(t),K9e=async(t,e)=>{if(!jne(t.chainId))throw Error("Invalid chain ID for BSC gas estimation.");if(t.type===void 0?t.type=0:(t.type==1||t.type==2)&&console.warn("Transaction request type specified is incompatible for chain and will result in undefined behavior.  Please use transaction type 0."),!t.gasPrice){let r=await e.getFeeData();t.gasPrice=r.gasPrice?.toHexString()}return t},Lne=t=>[wc.id,F_.id,Nd.id,W_.id,EO.id,Wre.id,zre.id,81457,168587773].includes(t),G9e=async(t,e)=>{if(!Lne(t.chainId))throw Error("Invalid chain ID for OP Stack gas estimation.");if(t.type===void 0&&(t.type=2),t.gasPrice&&(console.warn("`gasPrice` is not supported on this chain and will be ignored. Use `maxPriorityFeePerGas` and/or `maxFeePerGas` instead."),delete t.gasPrice),t.maxPriorityFeePerGas&&t.maxFeePerGas)return t;try{if(!t.maxPriorityFeePerGas){let r=await e.send("eth_maxPriorityFeePerGas",[]);t.maxPriorityFeePerGas=r}if(t.maxFeePerGas&&(console.warn("maxFeePerGas is specified without maxPriorityFeePerGas - this can result in hung transactions."),t.maxPriorityFeePerGas>=t.maxFeePerGas))throw Error("Overridden maxFeePerGas is less than or equal to the calculated maxPriorityFeePerGas. Please set both values or maxPriorityFeePerGas alone for correct gas estimation.");if(!t.maxFeePerGas){let{lastBaseFeePerGas:r}=await e.getFeeData();if(!r)throw Error("Unable to fetch baseFee for last block.");let n=zt.from(r).mul(zt.from(126)).div(zt.from(100)).add(zt.from(t.maxPriorityFeePerGas));t.maxFeePerGas=gM(n)}}catch(r){throw Error(`Failed to set gas price for OP stack transaction: ${r}.`)}return t},Y9e="units/5.8.0",Z9e=new st(Y9e),Q9e=["wei","kwei","mwei","gwei","szabo","finney","ether"];function jW(t,e){if(typeof t!="string"&&Z9e.throwArgumentError("value must be a string","value",t),typeof e=="string"){const r=Q9e.indexOf(e);r!==-1&&(e=3*r)}return td(t,e??18)}var Yx={exports:{}},J9e=Yx.exports,LW;function X9e(){return LW||(LW=1,(function(t,e){(function(r,n){t.exports=n()})(J9e,(function(){var r=function(s,o){if(o=o||{},typeof s!="function")throw new i("fetch must be a function");if(typeof o!="object")throw new i("defaults must be an object");if(o.retries!==void 0&&!n(o.retries))throw new i("retries must be a positive integer");if(o.retryDelay!==void 0&&!n(o.retryDelay)&&typeof o.retryDelay!="function")throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(o.retryOn!==void 0&&!Array.isArray(o.retryOn)&&typeof o.retryOn!="function")throw new i("retryOn property expects an array or function");var a={retries:3,retryDelay:1e3,retryOn:[]};return o=Object.assign(a,o),function(u,c){var h=o.retries,m=o.retryDelay,y=o.retryOn;if(c&&c.retries!==void 0)if(n(c.retries))h=c.retries;else throw new i("retries must be a positive integer");if(c&&c.retryDelay!==void 0)if(n(c.retryDelay)||typeof c.retryDelay=="function")m=c.retryDelay;else throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(c&&c.retryOn)if(Array.isArray(c.retryOn)||typeof c.retryOn=="function")y=c.retryOn;else throw new i("retryOn property expects an array or function");return new Promise(function(b,E){var A=function(O){var P=typeof Request<"u"&&u instanceof Request?u.clone():u;s(P,c).then(function(z){if(Array.isArray(y)&&y.indexOf(z.status)===-1)b(z);else if(typeof y=="function")try{return Promise.resolve(y(O,null,z)).then(function(L){L?M(O,null,z):b(z)}).catch(E)}catch(L){E(L)}else O<h?M(O,null,z):b(z)}).catch(function(z){if(typeof y=="function")try{Promise.resolve(y(O,z,null)).then(function(L){L?M(O,z,null):E(z)}).catch(function(L){E(L)})}catch(L){E(L)}else O<h?M(O,z,null):E(z)})};function M(O,P,z){var L=typeof m=="function"?m(O,P,z):m;setTimeout(function(){A(++O)},L)}A(0)})}};function n(s){return Number.isInteger(s)&&s>=0}function i(s){this.name="ArgumentError",this.message=s}return r}))})(Yx)),Yx.exports}var eAe=X9e();const LO=ds(eAe);let tAe=LO(fetch,{retries:3,retryDelay:500});const Dne=t=>[Ka.id,$5.id].includes(t);let bC=t=>({maxPriorityFee:jW(t.maxPriorityFee.toFixed(9),"gwei").toHexString(),maxFee:jW(t.maxFee.toFixed(9),"gwei").toHexString()}),rAe=t=>({safeLow:bC(t.safeLow),standard:bC(t.standard),fast:bC(t.fast)});const nAe=async t=>{let e="";switch(t){case Ka.id:e="https://gasstation.polygon.technology/v2";break;case $5.id:e="https://gasstation.polygon.technology/amoy";break;default:throw Error(`chainId ${t} does not support polygon gas stations`)}let r=await tAe(e),n=await r.json();if(r.status>399)throw n;return rAe(n)};async function iAe(t){if(!Dne(t.chainId))throw Error("Invalid chain ID for Polygon gas estimation.");if(t.type===void 0&&(t.type=2),t.maxPriorityFeePerGas&&t.maxFeePerGas)return t;try{let{standard:e}=await nAe(t.chainId);t.maxPriorityFeePerGas||(t.maxPriorityFeePerGas=e.maxPriorityFee),t.maxFeePerGas||(t.maxFeePerGas=e.maxFee),t.gasPrice&&(console.warn("`gasPrice` is not supported on this chain and will be ignored. Use `maxPriorityFeePerGas` and/or `maxFeePerGas` instead."),delete t.gasPrice)}catch(e){throw Error(`Failed to set gas prices from Polygon gas station with error: ${e}.`)}return t}const sAe=async(t,e)=>{if(t.type===void 0&&(t.type=2),t.type===2){if(!t.maxFeePerGas||!t.maxPriorityFeePerGas){let r=await e.getFeeData();t.maxFeePerGas||(t.maxFeePerGas=r.maxFeePerGas?.toHexString()),t.maxPriorityFeePerGas||(t.maxPriorityFeePerGas=r.maxPriorityFeePerGas?.toHexString())}}else if(!t.gasPrice){let r=await e.getFeeData();t.gasPrice=r.gasPrice?.toHexString()}return t};async function oAe(t,e){try{return(await e.estimateGas(t)).toHexString()}catch(r){let n;if("message"in r&&r.message.includes("insufficient funds")&&(console.warn(`Gas estimation failed with error: ${r}. Retrying gas estimation by omitting the 'value'`),n=await(async function({txRequest:i,provider:s}){try{let o={...i,value:void 0};return(await s.estimateGas(o)).toHexString()}catch(o){return console.warn(`Gas estimation failed with error: ${o} when omitting the 'value'`),null}})({txRequest:t,provider:e})),n||(console.warn(`Gas estimation failed with error: ${r}. Retrying gas estimation by omitting the 'from'`),n=await(async function({txRequest:i,provider:s}){try{let o={...i,from:void 0};return(await s.estimateGas(o)).toHexString()}catch(o){return console.warn(`Gas estimation failed with error: ${o} when omitting the 'from' address`),null}})({txRequest:t,provider:e})),!n)throw r;return n}}const DW=(t,e,r,n)=>{let i=Number(t),s=e.find((o=>o.id===i));if(!s)throw new Vre(`Unsupported chainId ${t}`,4901);return new H9e(s.rpcUrls.privyWalletOverride&&s.rpcUrls.privyWalletOverride.http[0]?s.rpcUrls.privyWalletOverride.http[0]:r.rpcUrls&&r.rpcUrls[i]?r.rpcUrls[i]:s.rpcUrls.privy?.http[0]?{url:s.rpcUrls.privy.http[0],headers:{"privy-app-id":n.appId}}:s.rpcUrls.public?.http[0]?s.rpcUrls.public?.http[0]:s.rpcUrls.default?.http[0])},aAe=(t,e,r)=>{let n,i=t.id,s=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])n=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[s])n=e.rpcUrls[s];else if(t.rpcUrls.privy?.http[0]){let o=new URL(t.rpcUrls.privy.http[0]);o.searchParams.append("privyAppId",r),n=o.toString()}else n=t.rpcUrls.public?.http[0]?t.rpcUrls.public.http[0]:t.rpcUrls.default?.http[0];if(!n)throw new Vre(`No RPC url found for ${i}`);return n};function Bne(t){return/^-?0x[a-f0-9]+$/i.test(t)}function lAe(t){for(let e of["gasLimit","gasPrice","value","maxPriorityFeePerGas","maxFeePerGas"]){let r=t[e];if(r!==void 0&&!(function(n){let i=typeof n=="number",s=typeof n=="bigint",o=typeof n=="string"&&Bne(n);return i||s||o})(r))throw Error(`Transaction request property '${e}' must be a valid number, bigint, or hex string representing a quantity`)}if(typeof t.chainId!="number")throw Error("Transaction request property 'chainId' must be a number")}async function BW(t,e,r){if(e.chainId=Number(e.chainId),lAe(e),e.from||(e.from=t),!e.nonce){let n=new SO(t,r);e.nonce=await n.getTransactionCount("pending")}return e.gasLimit||(e.gas?(e.gasLimit=e.gas,delete e.gas):e.gasLimit=await oAe(e,r)),typeof e.type=="string"&&Bne(e.type)&&(e.type=Number(e.type)),[23294,23295].includes(e.chainId)&&(e.type=0),(e=Dne(e.chainId)?await iAe(e):One(e.chainId)?await V9e(e,r):Lne(e.chainId)?await G9e(e,r):jne(e.chainId)?await K9e(e,r):await sAe(e,r)).type===0&&delete e.accessList,e.type!==2&&(delete e.maxPriorityFeePerGas,delete e.maxFeePerGas),e}function cAe({currentRecoveryMethod:t,upgradeToRecoveryMethod:e}){switch(t){case"privy":case"user-passcode":case"recovery-encryption-key":return!0;case"icloud":case"google-drive":if(t===e)throw Error("Cannot upgrade to the existing cloud platform");return!0;default:throw Error("Unknown recovery method")}}function Une(t){return new Promise((e=>{setTimeout((()=>{e()}),t)}))}let uAe=class{enqueue(e,r){this.callbacks[e]=r}dequeue(e,r){let n=this.callbacks[r];if(!n)throw Error(`cannot dequeue ${e} event: no event found for id ${r}`);switch(delete this.callbacks[r],e){case"privy:iframe:ready":case"privy:wallets:create":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:wallet:connect":case"privy:wallet:recover":case"privy:wallet:rpc":case"privy:solana-wallet:create":case"privy:solana-wallet:create-additional":case"privy:solana-wallet:connect":case"privy:solana-wallet:recover":case"privy:solana-wallet:rpc":case"privy:delegated-actions:consent":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":return n;default:throw Error(`invalid wallet event type ${e}`)}}constructor(){this.callbacks={}}};async function dAe(t,e,r,n,i=!1,s,o){let a=i,l=async c=>{if(a){c===(i?0:1)?n():r.current?.reject(new Ux("missing_or_invalid_mfa","MFA verification failed, retry."));let h=await new Promise(((m,y)=>{e.current={resolve:m,reject:y},setTimeout((()=>{let b=new Ux("mfa_timeout","Timed out waiting for MFA code");r.current?.reject(b),y(b)}),o)}));return await t(h)}return await t()},u=null;for(let c=0;c<s;c++)try{u=await l(c),r.current?.resolve(void 0);break}catch(h){if(h.type!=="missing_or_invalid_mfa")throw r.current?.resolve(void 0),h;a=!0}if(u===null){let c=new Ux("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw r.current?.reject(c),c}return u}var UW;let hAe=(UW=0,()=>"id-"+UW++),fAe=(t,e)=>typeof e=="bigint"?e.toString():e,Ef=(t,{ms:e,msg:r})=>Promise.race([t,Une(e??15e3).then((()=>Promise.reject(Error(r))))]),FW=new uAe,zW=class{invokeWithMfa(e,r){return Ef(dAe((n=>Ef(this.waitForReady().then((()=>e(n))),{msg:r.timeoutMsg,ms:r.timeoutMs})),this.mfa.rootPromise,this.mfa.submitPromise,(()=>this.mfa.emit("mfaRequired")),r.mfaAlwaysRequired??!1,4,3e5),{msg:"Operation reached timeout: MFA verification",ms:126e4})}reload(){return this.ready=!1,this._embeddedWalletMessagePoster.reload()}ping(e=15e3){return Ef(this.invoke("privy:iframe:ready",{}),{msg:"Ping reached timeout",ms:e})}create(e){return Ef(this.waitForReady().then((()=>this.invoke("privy:wallet:create",e))),{msg:"Operation reached timeout: create"})}rpc(e){return this.invokeWithMfa((r=>this.invoke("privy:wallet:rpc",{...r,...e})),{timeoutMsg:"Operation reached timeout: rpc"})}createSolana(e){return this.invokeWithMfa((r=>this.invoke("privy:solana-wallet:create",{...r,...e})),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}createAdditionalSolana(e){return Ef(this.waitForReady().then((()=>this.invoke("privy:solana-wallet:create-additional",e))),{msg:"Operation reached timeout: create"})}solanaRpc(e){return this.invokeWithMfa((r=>this.invoke("privy:solana-wallet:rpc",{...r,...e})),{timeoutMsg:"Operation reached timeout: solana-rpc"})}delegateWallets(e){return this.invokeWithMfa((r=>this.invoke("privy:delegated-actions:consent",{...r,...e})),{timeoutMsg:"Operation reached timeout: delegated-actions:consent"})}verifyMfa(e){return this.invokeWithMfa((r=>this.invoke("privy:mfa:verify",{...r,...e})),{timeoutMsg:"Operation reached timeout: mfa:verify",mfaAlwaysRequired:!0})}initEnrollMfa(e){return this.invokeWithMfa((r=>this.invoke("privy:mfa:init-enrollment",{...r,...e})),{timeoutMsg:"Operation reached timeout: mfa:init-enrollment"})}submitEnrollMfa(e){return this.invokeWithMfa((r=>this.invoke("privy:mfa:submit-enrollment",{...r,...e})),{timeoutMsg:"Operation reached timeout: mfa:submit-enrollment"})}unenrollMfa(e){return this.invokeWithMfa((r=>this.invoke("privy:mfa:unenroll",{...r,...e})),{timeoutMsg:"Operation reached timeout: mfa:unenroll",mfaAlwaysRequired:!0})}clearMfa(e){return Ef(this.waitForReady().then((()=>this.invoke("privy:mfa:clear",e))),{msg:"Operation reached timeout: mfa:clear"})}createWallet(e){return this.invokeWithMfa((r=>this.invoke("privy:wallets:create",{...r,...e})),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}signWithUserSigner(e){return this.invokeWithMfa((r=>this.invoke("privy:user-signer:sign",{...r,...e})),{timeoutMsg:"Operation reached timeout: user-signer:sign"})}addWallet(e){return Ef(this.waitForReady().then((()=>this.invoke("privy:wallets:add",e))),{msg:"Operation reached timeout: wallets:add"})}setRecovery(e){return this.invokeWithMfa((r=>this.invoke("privy:wallets:set-recovery",{...r,...e})),{timeoutMsg:"Operation reached timeout: wallets:set-recovery",timeoutMs:6e4})}connect(e){return Ef(this.waitForReady().then((()=>this.invoke("privy:wallets:connect",e))),{msg:"Operation reached timeout: wallets:connect"})}recover(e){return this.invokeWithMfa((r=>this.invoke("privy:wallets:recover",{...r,...e})),{timeoutMsg:"Operation reached timeout: wallets:recover",timeoutMs:6e4})}rpcWallet(e){return this.invokeWithMfa((r=>this.invoke("privy:wallets:rpc",{...r,...e})),{timeoutMsg:"Operation reached timeout: wallets:rpc"})}handleEmbeddedWalletMessages(e){let{reject:r,resolve:n}=FW.dequeue(e.event,e.id);return e.error!==void 0?r(new Ux(e.error.type,e.error.message)):n(e.data)}waitForReady(){return this.ready?Promise.resolve():new Promise((async(e,r)=>{for(;!this.ready;)this.invoke("privy:iframe:ready",{}).then((()=>{this.ready=!0,e()})).catch(r),await Une(150)}))}invoke(e,r){let n=((s,o)=>`${s}${JSON.stringify(o,fAe)}`)(e,r);if(e==="privy:wallet:create"||e==="privy:solana-wallet:create"){let s=this.cache.get(n);if(s)return s}let i=new Promise(((s,o)=>{let a=hAe();FW.enqueue(a,{resolve:s,reject:o}),this._embeddedWalletMessagePoster.postMessage(JSON.stringify({id:a,event:e,data:r}),"*")})).finally((()=>{this.cache.delete(n)}));return this.cache.set(n,i),i}constructor(e,r){this.ready=!1,this.cache=new Map,this._embeddedWalletMessagePoster=e,this.mfa=r}};var xC={exports:{}},WW;function Fne(){return WW||(WW=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function s(l,u,c,h,m){if(typeof c!="function")throw new TypeError("The listener must be a function");var y=new i(c,h||l,m),b=r?r+u:u;return l._events[b]?l._events[b].fn?l._events[b]=[l._events[b],y]:l._events[b].push(y):(l._events[b]=y,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,h;if(this._eventsCount===0)return u;for(h in c=this._events)e.call(c,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=r?r+u:u,h=this._events[c];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,y=h.length,b=new Array(y);m<y;m++)b[m]=h[m].fn;return b},a.prototype.listenerCount=function(u){var c=r?r+u:u,h=this._events[c];return h?h.fn?1:h.length:0},a.prototype.emit=function(u,c,h,m,y,b){var E=r?r+u:u;if(!this._events[E])return!1;var A=this._events[E],M=arguments.length,O,P;if(A.fn){switch(A.once&&this.removeListener(u,A.fn,void 0,!0),M){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,c),!0;case 3:return A.fn.call(A.context,c,h),!0;case 4:return A.fn.call(A.context,c,h,m),!0;case 5:return A.fn.call(A.context,c,h,m,y),!0;case 6:return A.fn.call(A.context,c,h,m,y,b),!0}for(P=1,O=new Array(M-1);P<M;P++)O[P-1]=arguments[P];A.fn.apply(A.context,O)}else{var z=A.length,L;for(P=0;P<z;P++)switch(A[P].once&&this.removeListener(u,A[P].fn,void 0,!0),M){case 1:A[P].fn.call(A[P].context);break;case 2:A[P].fn.call(A[P].context,c);break;case 3:A[P].fn.call(A[P].context,c,h);break;case 4:A[P].fn.call(A[P].context,c,h,m);break;default:if(!O)for(L=1,O=new Array(M-1);L<M;L++)O[L-1]=arguments[L];A[P].fn.apply(A[P].context,O)}}return!0},a.prototype.on=function(u,c,h){return s(this,u,c,h,!1)},a.prototype.once=function(u,c,h){return s(this,u,c,h,!0)},a.prototype.removeListener=function(u,c,h,m){var y=r?r+u:u;if(!this._events[y])return this;if(!c)return o(this,y),this;var b=this._events[y];if(b.fn)b.fn===c&&(!m||b.once)&&(!h||b.context===h)&&o(this,y);else{for(var E=0,A=[],M=b.length;E<M;E++)(b[E].fn!==c||m&&!b[E].once||h&&b[E].context!==h)&&A.push(b[E]);A.length?this._events[y]=A.length===1?A[0]:A:o(this,y)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&o(this,c)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(xC)),xC.exports}var pAe=Fne();const ku=ds(pAe);let gAe=["eth_sign","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"];const mAe=t=>gAe.includes(t),Y8=t=>/^0x[0-9a-fA-F]*$/.test(t),Z8=t=>kt.from(t,"utf8"),U3=t=>`0x${t.toString("hex")}`;var EC,qW;function yAe(){return qW||(qW=1,EC=function t(e){if(typeof e=="number"&&isNaN(e))throw new Error("NaN is not allowed");if(typeof e=="number"&&!isFinite(e))throw new Error("Infinity is not allowed");return e===null||typeof e!="object"?JSON.stringify(e):e.toJSON instanceof Function?t(e.toJSON()):Array.isArray(e)?`[${e.reduce((i,s,o)=>`${i}${o===0?"":","}${t(s===void 0||typeof s=="symbol"?null:s)}`,"")}]`:`{${Object.keys(e).sort().reduce((n,i)=>{if(e[i]===void 0||typeof e[i]=="symbol")return n;const s=n.length===0?"":",";return`${n}${s}${t(i)}:${t(e[i])}`},"")}}`}),EC}var wAe=yAe();const vAe=ds(wAe);async function bAe(t,e){let r=vAe(e);if(r===void 0)throw new _n({error:"Failed to prepare the payload for signing",code:"invalid_input"});let n=kt.from(r).toString("base64"),{signature:i}=await t({message:n});return{signature:i}}async function Pa(t,e,{wallet_id:r,...n}){let i={version:1,url:t.getCompiledPath(BS,{params:{wallet_id:r}}),method:BS.method,headers:{"privy-app-id":t.app.appId},body:{...n}},{signature:s}=await bAe(e,i);return await t.fetchPrivyRoute(BS,{body:n,params:{wallet_id:r},headers:{"privy-authorization-signature":s}})}function xAe(t){return{from:t.from,to:t.to,nonce:Tp(t.nonce),chain_id:Tp(t.chainId),data:(function(e){if(e!==void 0)return typeof e=="string"?Y8(e)?e:U3(Z8(e)):U3(kt.from(Uint8Array.from(e)))})(t.data),value:Tp(t.value),type:t.type,gas_limit:Tp(t.gasLimit),gas_price:Tp(t.gasPrice),max_fee_per_gas:Tp(t.maxFeePerGas),max_priority_fee_per_gas:Tp(t.maxPriorityFeePerGas)}}function Tp(t){if(typeof t=="number"||typeof t=="bigint")return`0x${BigInt(t).toString(16)}`;if(typeof t=="string")return Y8(t)?t:U3(Z8(t))}function EAe(t){return typeof t=="string"&&(t=JSON.parse(t)),{types:t.types,primary_type:String(t.primaryType),domain:t.domain,message:t.message}}async function zne({context:t,account:e,rpcRequest:r}){switch(r.chainType){case"ethereum":return(async function({context:n,account:i,rpcRequest:s}){switch(s.method){case"personal_sign":{let[o]=s.params,a=await Pa(n,n.signRequest,{chain_type:"ethereum",method:"personal_sign",wallet_id:i.id,params:o.startsWith("0x")?{message:o.slice(2),encoding:"hex"}:{message:o,encoding:"utf-8"}});if(a.method!=="personal_sign")throw Error("Unable to sign message");return{data:a.data.signature}}case"eth_signTransaction":{let[o]=s.params,a=await Pa(n,n.signRequest,{chain_type:"ethereum",method:"eth_signTransaction",wallet_id:i.id,params:{transaction:xAe(o)}});if(a.method!=="eth_signTransaction")throw Error("Unable to sign transaction");return{data:a.data.signed_transaction}}case"eth_signTypedData_v4":{let[,o]=s.params,a=await Pa(n,n.signRequest,{chain_type:"ethereum",method:s.method,wallet_id:i.id,params:{typed_data:EAe(o)}});if(a.method!=="eth_signTypedData_v4")throw Error("Unable to sign typed data");return{data:a.data.signature}}case"eth_sign":{let[,o]=s.params,a=await Pa(n,n.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:Y8(o)?o:U3(Z8(o))}});if(a.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:a.data.signature}}case"secp256k1_sign":{let[o]=s.params,a=await Pa(n,n.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:Y8(o)?o:U3(Z8(o))}});if(a.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:a.data.signature}}case"csw_signUserOperation":case"eth_sendTransaction":case"eth_populateTransactionRequest":throw Error(`This wallet does not support the method: ${s.method}`)}})({context:t,account:e,rpcRequest:r.request});case"solana":return(async function({context:n,account:i,rpcRequest:s}){if(s.method==="signMessage"){let{message:o}=s.params,a=await Pa(n,n.signRequest,{chain_type:"solana",method:"signMessage",wallet_id:i.id,params:{message:o,encoding:"base64"}});if(a.method!=="signMessage")throw Error("Unable to sign message");return{data:a.data.signature}}})({context:t,account:e,rpcRequest:r.request})}}let _C=class extends ku{async request(e){if(mAe(e.method))return this.handleIFrameRpc(e);switch(e.method){case"eth_accounts":case"eth_requestAccounts":return this._account.address?[this._account.address]:[];case"eth_chainId":return`0x${this._chainId.toString(16)}`;case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":{let r=e.params?.[0];return this.handleSendTransaction(r)}case"eth_populateTransactionRequest":{let r=e.params?.[0];return this.handlePopulateTransaction(r)}default:return this.handleJsonRpc(e)}}ensureChainId(e){let r={chainId:this._chainId,...e};return this.internalSwitchEthereumChain(r.chainId),r}internalSwitchEthereumChain(e){e&&Number(e)!==this._chainId&&(this._chainId=Number(e),this._jsonRpcProvider=DW(this._chainId,this._chains,{rpcUrls:[]},{appId:this._privyInternal.appId}),this.emit("chainChanged",e))}async handlePopulateTransaction(e){let r=this.ensureChainId(e);return BW(this._account.address,r,this._jsonRpcProvider)}async handleSendTransaction(e){let r=this.ensureChainId(e),n=await BW(this._account.address,r,this._jsonRpcProvider),i=await this.handleIFrameRpc({method:"eth_signTransaction",params:[n]});return await this.handleJsonRpc({method:"eth_sendRawTransaction",params:[i]})}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let r={...e.params[0],chainId:`0x${this._chainId.toString(16)}`};this.internalSwitchEthereumChain(r.chainId);try{return await this._jsonRpcProvider.send("eth_estimateGas",[r])}catch(n){console.warn(`Gas estimation failed with error: ${n}. Retrying gas estimation by omitting the 'from' address`);try{return delete r.from,await this._jsonRpcProvider.send("eth_estimateGas",[r])}catch(i){throw console.warn(`Gas estimation failed with error: ${i} when omitting the 'from' address`),n}}}handleSwitchEthereumChain(e){let r;if(!e.params||!Array.isArray(e.params))throw new Pz(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")r=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new Pz(`Invalid params for ${e.method}`,4200);r=e.params[0].chainId}this.internalSwitchEthereumChain(r)}async handleIFrameRpc(e){try{let r=await this._privyInternal.getAccessToken();if(!r)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address});let n=this._account;if(w0(n)){let{data:i}=await zne({context:{app:this._appApi,fetchPrivyRoute:(...s)=>this._privyInternal.fetch(...s),getCompiledPath:(...s)=>this._privyInternal.getPath(...s),signRequest:({message:s})=>this._walletProxy.signWithUserSigner({accessToken:r,message:s})},account:n,rpcRequest:{chainType:"ethereum",request:e}});return i}try{await this._walletProxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:r})}catch(i){let s=AO(i);if(s&&this._account.recovery_method==="privy")await this._walletProxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:r});else{if(!s||!this._onNeedsRecovery)throw i;{let o;await new Promise((async(a,l)=>{o=setTimeout((()=>l(new _n({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"}))),12e4),await this._onNeedsRecovery?.({recoveryMethod:this._account.recovery_method,onRecovered:()=>a(!0)})})).finally((()=>clearTimeout(o)))}}}return(await this._walletProxy.rpcWallet({accessToken:r,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:"ethereum"})).response.data}catch(r){console.error(r);let n=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:n}),new _n({code:"embedded_wallet_request_error",error:n})}}async handleJsonRpc(e){return this._jsonRpcProvider.send(e.method,e.params??[])}toJSON(){return`PrivyEIP1193Provider { address: '${this._account.address}', chainId: ${this._chainId}, request: [Function] }`}constructor({walletProxy:e,privyInternal:r,account:n,entropyId:i,entropyIdVerifier:s,chains:o,onNeedsRecovery:a,chainId:l=o[0].id,appApi:u}){super(),this._walletProxy=e,this._privyInternal=r,this._account=n,this._entropyId=i,this._entropyIdVerifier=s,this._chainId=l,this._chains=o,this._onNeedsRecovery=a,this._jsonRpcProvider=DW(l,o,{rpcUrls:[]},{appId:u.appId}),this._appApi=u}};function mM(t){return"version"in t}function HW(t,e){let r=(mM(t)?t.message:t.compileMessage()).staticAccountKeys.find((n=>n.toBase58()===e));if(!r)throw Error(`Transaction does not contain public key ${e}`);return r}let _Ae=class{async request(e){if(!await this._privyInternal.getAccessToken())throw new _n({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});switch(e.method){case"signAndSendTransaction":return await this.handleSignAndSendTransaction(e);case"signTransaction":return await this.handleSignTransaction(e);default:return await this.handleIFrameRpc(e)}}get _publicKey(){return this._account.address}async connectAndRecover(e){if(this._account.recovery_method!=="privy-v2")try{await this._proxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e})}catch(r){let n=AO(r);if(n&&this._account.recovery_method==="privy")await this._proxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e});else{if(!n||!this._onNeedsRecovery)throw r;{let i;await new Promise((async(s,o)=>{i=setTimeout((()=>o(new _n({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"}))),12e4),await this._onNeedsRecovery?.({recoveryMethod:this._account.recovery_method,onRecovered:()=>s(!0)})})).finally((()=>clearTimeout(i)))}}}}async signMessageRpc(e,r){let n=this._account;if(!w0(n))return(await this._proxy.rpcWallet({accessToken:r,request:e,chainType:"solana",hdWalletIndex:this._account.wallet_index,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier})).response.data;{let{data:i}=await zne({context:{app:this._app,fetchPrivyRoute:(...s)=>this._privyInternal.fetch(...s),getCompiledPath:(...s)=>this._privyInternal.getPath(...s),signRequest:({message:s})=>this._proxy.signWithUserSigner({accessToken:r,message:s})},account:n,rpcRequest:{chainType:"solana",request:e}});return{signature:i}}}async handleIFrameRpc(e){try{let r=await this._privyInternal.getAccessToken();if(!r)throw Error("Missing privy token. User must be logged in");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(r),await this.signMessageRpc(e,r)}catch(r){console.error(r);let n=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:n}),new _n({code:"embedded_wallet_request_error",error:n})}}async handleSignAndSendTransaction(e){try{let r=await this._privyInternal.getAccessToken();if(!r)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(r);let{transaction:n,connection:i,options:s}=e.params,o=HW(n,this._account.address),a=mM(n)?kt.from(n.message.serialize()):n.serializeMessage(),{signature:l}=await this.signMessageRpc({method:"signMessage",params:{message:a.toString("base64")}},r);return n.addSignature(o,kt.from(l,"base64")),{signature:await i.sendRawTransaction(n.serialize(),s)}}catch(r){console.error(r);let n=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:n}),new _n({code:"embedded_wallet_request_error",error:n})}}async handleSignTransaction(e){try{let r=await this._privyInternal.getAccessToken();if(!r)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(r);let{transaction:n}=e.params,i=HW(n,this._account.address),s=mM(n)?kt.from(n.message.serialize()):n.serializeMessage(),{signature:o}=await this.signMessageRpc({method:"signMessage",params:{message:s.toString("base64")}},r);return n.addSignature(i,kt.from(o,"base64")),{signedTransaction:n}}catch(r){console.error(r);let n=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.wallet_index,error:n}),new _n({code:"embedded_wallet_request_error",error:n})}}toJSON(){return`PrivyEmbeddedSolanaProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:r,account:n,entropyId:i,entropyIdVerifier:s,onNeedsRecovery:o,app:a}){this._proxy=e,this._privyInternal=r,this._account=n,this._entropyId=i,this._entropyIdVerifier=s,this._onNeedsRecovery=o,this._app=a}},AAe=class{setMessagePoster(e){this._proxy=new zW(e,this._mfaPromises),this._mfa.setProxy(this._proxy)}async signWithUserSigner(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let r=await this._privyInternal.getAccessToken();if(!r)throw new _n({error:"User must be logged in to sign a message with the user signer",code:"user_signer_sign_error"});let{signature:n}=await this._proxy.signWithUserSigner({accessToken:r,message:e.message});return{signature:n}}async add(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(this._privyInternal.config?.embedded_wallet_config.mode==="user-controlled-server-wallets-only")await KS({context:{app:this._appApi,fetchPrivyRoute:(...n)=>this._privyInternal.fetch(...n),getCompiledPath:(...n)=>this._privyInternal.getPath(...n)},chainType:e.chainType});else{let n=await this._privyInternal.getAccessToken();if(!n)throw new _n({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.addWallet({accessToken:n,...e})}let{user:r}=await this._privyInternal.refreshSession();return{user:r}}async getBitcoinProvider({wallet:e,entropyId:r,entropyIdVerifier:n,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessToken())throw Error("User must be logged in to create an embedded wallet");return w0(e)||await this._load({entropyId:r,entropyIdVerifier:n,wallet:e,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o}),new hEe({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:r,entropyIdVerifier:n})}async create({password:e,recoveryMethod:r,recoveryToken:n,recoveryKey:i,recoverySecretOverride:s,iCloudRecordNameOverride:o,solanaAccount:a,skipCallbacks:l}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(this._privyInternal.config?.embedded_wallet_config.mode==="user-controlled-server-wallets-only"){if(r&&!r.startsWith("privy"))throw new _n({error:"User-controlled server wallets do not support custom recovery methods",code:"embedded_wallet_creation_error"});await KS({context:{app:this._appApi,fetchPrivyRoute:(...u)=>this._privyInternal.fetch(...u),getCompiledPath:(...u)=>this._privyInternal.getPath(...u)},chainType:"ethereum"})}else{let u;if(u=r||(e?"user-passcode":"privy"),e&&typeof e!="string")throw Error("Invalid recovery password, must be a string");if(u==="privy"&&this._privyInternal.config?.embedded_wallet_config.require_user_password_on_create)throw Error("Password not provided yet is required by App configuration");let c=await this._privyInternal.getAccessToken();if(!c)throw Error("User must be logged in to create an embedded wallet");let{address:h}=await this._proxy.create({accessToken:c,recoveryMethod:u,recoveryKey:i,recoveryPassword:e,recoveryAccessToken:n,recoverySecretOverride:s,iCloudRecordNameOverride:o,solanaAddress:a?.address});if(!h)throw Error("Failed to create wallet")}return await this._privyInternal.refreshSession(l)}async createSolana(e){if(!this._proxy)throw new _n({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});if(this._privyInternal.config?.embedded_wallet_config.mode==="user-controlled-server-wallets-only")await KS({context:{app:this._appApi,fetchPrivyRoute:(...r)=>this._privyInternal.fetch(...r),getCompiledPath:(...r)=>this._privyInternal.getPath(...r)},chainType:"solana"});else{let r=await this._privyInternal.getAccessToken();if(!r)throw new _n({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});e?.ethereumAccount&&await this.getProvider(e.ethereumAccount);let{publicKey:n}=await this._proxy.createSolana({accessToken:r,ethereumAddress:e?.ethereumAccount?.address});if(!n)throw new _n({error:"Failed to create wallet",code:"embedded_wallet_creation_error"})}return await this._privyInternal.refreshSession()}async delegateWallets({delegatedWallets:e,rootWallet:r}){if(!this._proxy)throw new _n({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});let n=await this._privyInternal.getAccessToken();if(!n)throw new _n({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.delegateWallets({accessToken:n,delegatedWallets:e,rootWallet:r})}async getProvider(e,r,n,i,s){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return w0(e)||await this._load({wallet:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",recoveryPassword:r,recoveryKey:s,recoveryAccessToken:n,recoverySecretOverride:i}),new _C({account:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}async getEthereumProvider({wallet:e,entropyId:r,entropyIdVerifier:n,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o,recoveryKey:a,onNeedsRecovery:l}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessToken())throw Error("User must be logged in to create an embedded wallet");return w0(e)||(!l||i||s||o||a)&&await this._load({entropyId:r,entropyIdVerifier:n,wallet:e,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o,recoveryKey:a}),new _C({account:e,entropyId:r,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,onNeedsRecovery:l,appApi:this._appApi})}async getSolanaProvider(e,r,n,i,s,o,a){if(!this._proxy)throw new _n({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return w0(e)||(!a||i||s||o)&&await this._load({wallet:e,entropyId:r,entropyIdVerifier:n,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o}),new _Ae({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:r,entropyIdVerifier:n,onNeedsRecovery:a,app:this._appApi})}async setRecovery(e){let{wallet:r,...n}=e;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(w0(r))throw new _n({error:"This wallet does not support setting recovery methods",code:"unsupported_recovery_method"});cAe({currentRecoveryMethod:r.recovery_method,upgradeToRecoveryMethod:n.recoveryMethod==="icloud-native"?"icloud":n.recoveryMethod}),await this._load(r.chain_type==="solana"?{wallet:r,entropyId:r.address,entropyIdVerifier:"solana-address-verifier"}:{wallet:r,entropyId:r.address,entropyIdVerifier:"ethereum-address-verifier"});let i=await this._privyInternal.getAccessToken();if(!i)throw Error("User must be logged in to interact with embedded wallets");let s=r.recovery_method;this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_started",{address:r.address,target_recovery_method:n.recoveryMethod,existing_recovery_method:s});try{let o;if(n.recoveryMethod==="user-passcode")o={recoveryMethod:"user-passcode",recoveryPassword:n.password};else if(n.recoveryMethod==="google-drive")o={recoveryMethod:"google-drive",recoveryAccessToken:n.recoveryAccessToken};else if(n.recoveryMethod==="icloud")o={recoveryMethod:"icloud",recoveryAccessToken:n.recoveryAccessToken};else if(n.recoveryMethod==="icloud-native")o={recoveryMethod:"icloud-native",iCloudRecordNameOverride:n.iCloudRecordNameOverride,recoverySecretOverride:n.recoverySecretOverride};else if(n.recoveryMethod==="recovery-encryption-key")o={recoveryMethod:"recovery-encryption-key",recoveryKey:n.recoveryKey};else{if(n.recoveryMethod!=="privy")throw Error(`Unknown recovery method: ${n.recoveryMethod}`);o={recoveryMethod:"privy"}}await this._proxy.setRecovery({accessToken:i,entropyId:r.address,entropyIdVerifier:r.chain_type==="solana"?"solana-address-verifier":"ethereum-address-verifier",...o}),this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_completed",{address:r.address,target_recovery_method:n.recoveryMethod,existing_recovery_method:s});let{user:a}=await this._privyInternal.refreshSession();return{user:a,provider:r.chain_type!=="ethereum"?null:new _C({account:r,entropyId:r.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}}catch(o){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_failed",{address:r.address,recovery_method:r.recovery_method,error:o instanceof Error?o.message:"Unable to recover wallet"}),o}}getURL(){let e=new URL(`${this._privyInternal.baseUrl}/apps/${this._privyInternal.appId}/embedded-wallets`);return this._privyInternal.caid&&e.searchParams.append("caid",this._privyInternal.caid),this._privyInternal.appClientId&&e.searchParams.append("client_id",this._privyInternal.appClientId),e.href}get chains(){return this._chains}onMessage(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return this._proxy.handleEmbeddedWalletMessages(e)}reload(){this._proxy?this._proxy.reload():console.warn("Attempted to reload proxy before initialized")}async ping(e){try{if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return await this._proxy.ping(e),!0}catch(r){return console.error(r),!1}}async _load({entropyId:e,entropyIdVerifier:r,wallet:n,recoveryPassword:i,recoveryKey:s,recoveryAccessToken:o,recoverySecretOverride:a}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let l=await this._privyInternal.getAccessToken();if(!l)throw Error("User must be logged in to interact with embedded wallets");try{return await this._proxy.connect({accessToken:l,entropyId:e,entropyIdVerifier:r}),e}catch(u){if(AO(u))try{if(n.recovery_method==="privy"){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:n.address,recovery_method:n.recovery_method});let c=await this._proxy.recover({accessToken:l,entropyId:e,entropyIdVerifier:r});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:n.address,recovery_method:n.recovery_method}),c.entropyId}if(n.recovery_method==="user-passcode"&&i){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:n.address,recovery_method:n.recovery_method});let c=await this._proxy.recover({accessToken:l,recoveryPassword:i,entropyId:e,entropyIdVerifier:r});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:n.address,recovery_method:n.recovery_method}),c.entropyId}if(["google-drive","icloud"].includes(n.recovery_method)&&o){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:n.address,recovery_method:n.recovery_method});let c=await this._proxy.recover({accessToken:l,recoveryAccessToken:o,entropyId:e,entropyIdVerifier:r});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:n.address,recovery_method:n.recovery_method}),c.entropyId}if(n.recovery_method==="icloud"&&a){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:n.address,recovery_method:"icloud-native"});let c=await this._proxy.recover({accessToken:l,recoverySecretOverride:a,entropyId:e,entropyIdVerifier:r});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:n.address,recovery_method:"icloud-native"}),c.entropyId}if(n.recovery_method==="recovery-encryption-key"&&s){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:n.address,recovery_method:n.recovery_method});let c=await this._proxy.recover({accessToken:l,recoveryKey:s,entropyId:e,entropyIdVerifier:r});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:n.address,recovery_method:n.recovery_method}),c.entropyId}}catch(c){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_failed",{address:n.address,recovery_method:n.recovery_method,error:c instanceof Error?c.message:`Unable to recover wallet: ${e}`}),c}throw u}}constructor(e,r,n,i,s,o){if(this._chains=Array.from(M5),this._privyInternal=e,r&&(this._proxy=new zW(r,s),i.setProxy(this._proxy)),n){let a=Hre(n);this._chains=a}this._mfa=i,this._mfaPromises=s,this._appApi=o}},SAe=class extends ku{constructor(){super(),this.rootPromise={current:null},this.submitPromise={current:null}}},C4;const CAe=new Uint8Array(16);function kAe(){if(!C4&&(C4=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!C4))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return C4(CAe)}const js=[];for(let t=0;t<256;++t)js.push((t+256).toString(16).slice(1));function IAe(t,e=0){return js[t[e+0]]+js[t[e+1]]+js[t[e+2]]+js[t[e+3]]+"-"+js[t[e+4]]+js[t[e+5]]+"-"+js[t[e+6]]+js[t[e+7]]+"-"+js[t[e+8]]+js[t[e+9]]+"-"+js[t[e+10]]+js[t[e+11]]+js[t[e+12]]+js[t[e+13]]+js[t[e+14]]+js[t[e+15]]}const TAe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),VW={randomUUID:TAe};function yM(t,e,r){if(VW.randomUUID&&!t)return VW.randomUUID();t=t||{};const n=t.random||(t.rng||kAe)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,IAe(n)}/*! js-cookie v3.0.5 | MIT */function k4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}var $Ae={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function wM(t,e){function r(i,s,o){if(!(typeof document>"u")){o=k4({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in o)o[l]&&(a+="; "+l,o[l]!==!0&&(a+="="+o[l].split(";")[0]));return document.cookie=i+"="+t.write(s,i)+a}}function n(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],o={},a=0;a<s.length;a++){var l=s[a].split("="),u=l.slice(1).join("=");try{var c=decodeURIComponent(l[0]);if(o[c]=t.read(u,c),i===c)break}catch{}}return i?o[i]:o}}return Object.create({set:r,get:n,remove:function(i,s){r(i,"",k4({},s,{expires:-1}))},withAttributes:function(i){return wM(this.converter,k4({},this.attributes,i))},withConverter:function(i){return wM(k4({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var Pi=wM($Ae,{path:"/"});const KW=Promise.allSettled.bind(Promise)??(t=>Promise.all(t.map((e=>e.then((r=>({status:"fulfilled",value:r}))).catch((r=>({status:"rejected",reason:r})))))));let h1="privy:token",AC="privy-token",I4="privy:refresh_token",SC="privy-refresh-token",f1="privy:id-token",CC="privy-id-token",T4="privy-session",Wne=class extends ku{set isUsingServerCookies(e){this._isUsingServerCookies=e}async getToken(){let e=await this._storage.get(h1);try{return typeof e=="string"?new Hv(e).value:null}catch(r){return console.error(r),await this.destroyLocalState({reason:"getToken_error"}),null}}async getRefreshToken(){let e=await this._storage.get(I4);return typeof e=="string"?e:null}async getIdentityToken(){let e=await this._storage.get(f1);return typeof e=="string"?e:null}get mightHaveServerCookies(){try{let e=Pi.get(T4);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e,r){return this.mightHaveServerCookies||typeof e=="string"&&typeof r=="string"}tokenIsActive(e){if(!e)return!1;let r=Hv.parse(e);return r!==null&&!r.isExpired(30)}async destroyLocalState(e){await KW([this._storage.del(h1),this._storage.del(I4),this._storage.del(f1),this._storage.del(this.GUEST_CREDENTIAL_STORAGE_KEY)]),Pi.remove(AC),Pi.remove(SC),Pi.remove(CC),Pi.remove(T4),e?.reason&&this.emit("storage_cleared",{reason:e.reason})}async storeToken(e){if(typeof e=="string"){let r=await this._storage.get(h1);if(await this._storage.put(h1,e),!this._isUsingServerCookies){let n=Hv.parse(e)?.expiration;Pi.set(AC,e,{sameSite:"Strict",secure:!0,expires:n?new Date(1e3*n):void 0})}r!==e&&this.emit("token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let r=await this._storage.get(h1);await this._storage.del(h1),Pi.remove(AC),r!==null&&this.emit("token_cleared",{reason:"set_with_non_string_value"})}}async storeRefreshToken(e){typeof e=="string"?(await this._storage.put(I4,e),this._isUsingServerCookies||(Pi.set(T4,"t",{sameSite:"Strict",secure:!0,expires:30}),Pi.set(SC,e,{sameSite:"Strict",secure:!0,expires:30})),this.emit("refresh_token_stored",{cookiesEnabled:this._isUsingServerCookies})):(await this._storage.del(I4),Pi.remove(SC),Pi.remove(T4),this.emit("refresh_token_cleared",{reason:"set_with_non_string_value"}))}async updateWithTokensResponse(e){let r=(await KW([this.storeToken(e.token),this.storeRefreshToken(e.refresh_token),this.storeIdentityToken(e.identity_token),this.processOAuthTokens(e.oauth_tokens)])).filter((n=>n.status==="rejected"));r.length>0&&this.emit("error_storing_tokens",r.map((n=>String(n.reason))).join(", "))}async processOAuthTokens(e){e&&this.emit("oauth_tokens_granted",e)}async storeIdentityToken(e){if(typeof e=="string"){let r=await this._storage.get(f1);if(await this._storage.put(f1,e),!this._isUsingServerCookies){let n=Hv.parse(e)?.expiration;Pi.set(CC,e,{sameSite:"Strict",secure:!0,expires:n?new Date(1e3*n):void 0})}r!==e&&this.emit("identity_token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let r=await this._storage.get(f1);await this._storage.del(f1),Pi.remove(CC),r!==null&&this.emit("identity_token_cleared",{reason:"set_with_non_string_value"})}}async getOrCreateGuestCredential(){let e=this._storage.get(this.GUEST_CREDENTIAL_STORAGE_KEY);if(e&&typeof e=="string")return e;let r=Bg(crypto.getRandomValues(new Uint8Array(32)));return await this._storage.put(this.GUEST_CREDENTIAL_STORAGE_KEY,r),r}constructor(e){super(),this._isUsingServerCookies=!1,this._storage=e.storage,this.GUEST_CREDENTIAL_STORAGE_KEY=`privy:guest:${e.appId}`}};Wne.events=["storage_cleared","token_cleared","refresh_token_cleared","identity_token_cleared","token_stored","refresh_token_stored","identity_token_stored","oauth_tokens_granted","error_storing_tokens"];var MAe=t=>{let e=new AbortController;return setTimeout((()=>e.abort()),t),e.signal};function PAe(t){let e=new URLSearchParams;for(let r in t)t[r]!=null&&e.append(r,String(t[r]));return Array.from(e).length?"?"+e.toString():""}const $4=()=>{};let _f={NONE:Number.NEGATIVE_INFINITY,ERROR:1,WARN:2,INFO:3,DEBUG:Number.POSITIVE_INFINITY};const NAe=({level:t}={level:"ERROR"})=>({get level(){return t},error:_f[t]>=_f.ERROR?console.error:$4,warn:_f[t]>=_f.WARN?console.warn:$4,info:_f[t]>=_f.INFO?console.info:$4,debug:_f[t]>=_f.DEBUG?console.debug:$4});let kC="privy:caid",RAe=class{setCallbacks(e){this.callbacks={...this.callbacks,...e}}get isReady(){return!!this._config}get config(){return this._config}get caid(){return this._analyticsId}async _initialize(){if(this.isReady)this.callbacks?.setIsReady?.(!0);else{if(!await this.isStorageAccessible())throw new _n({code:"storage_error",error:"Unable to access storage"});this._config=await this.getAppConfig(),this._config?.custom_api_url&&(this.baseUrl=this._config.custom_api_url,this.session.isUsingServerCookies=!0),this.callbacks?.setIsReady?.(!0),this._sdkVersion.startsWith("react-auth:")||this.createAnalyticsEvent("sdk_initialize",{})}}getPath(e,{params:r,query:n}){return`${this.baseUrl}${h3e(e.path,r)}${PAe(n)}`}async fetch(e,{body:r,params:n,query:i,headers:s,onRequest:o=this._beforeRequest.bind(this)}){let a=new Request(this.getPath(e,{params:n,query:i}),{method:e.method,body:JSON.stringify(r),headers:s}),l=await o(a),u=await this._fetch(a,l),c=await u.json();if(u.status>299)throw new VS(c);return c}async _beforeRequestWithoutInitialize(e){let r=await this.session.getToken(),n=new Headers(e.headers);n.set("privy-app-id",this.appId),this.appClientId&&n.set("privy-client-id",this.appClientId),n.set("privy-client",this._sdkVersion),r&&n.set("Authorization",`Bearer ${r}`),n.set("Content-Type","application/json"),n.set("Accept","application/json");let i=await this._getOrGenerateClientAnalyticsId();return i&&n.set("privy-ca-id",i),this.nativeAppIdentifier&&n.set("x-native-app-identifier",this.nativeAppIdentifier),{signal:MAe(2e4),headers:n,credentials:"include"}}async beforeRequestWithoutRefresh(e){return await this._initialize(),this._beforeRequestWithoutInitialize(e)}async _beforeRequest(e){return await this._initialize(),await this.getAccessToken(),this.beforeRequestWithoutRefresh(e)}async getAppConfig(){return await this.fetch(Cbe,{params:{app_id:this.appId},onRequest:this._beforeRequestWithoutInitialize.bind(this)})}async _getOrGenerateClientAnalyticsId(){if(this._analyticsId)return this._analyticsId;try{let e=await this._storage.get(kC);if(typeof e=="string"&&e.length>0)return this._analyticsId=e,e}catch(e){this.logger.error("Unable to load clientId",e)}try{this._analyticsId=yM()}catch(e){this.logger.error("Unable to generate uuidv4",e)}if(!this._analyticsId)return null;try{await this._storage.put(kC,this._analyticsId)}catch(e){this.logger.error(`Unable to store clientId: ${this._analyticsId}`,e)}return this._analyticsId}async destroyClientAnalyticsId(){try{return await this._storage.del(kC)}catch(e){this.logger.error("Unable to delete clientId",e)}}async createAnalyticsEvent(e,r){try{await this.fetch(Sbe,{body:{event_name:e,client_id:await this._getOrGenerateClientAnalyticsId(),payload:r},onRequest:this.beforeRequestWithoutRefresh.bind(this)})}catch{}}async refreshSession(e=!1){if(!await this.isStorageAccessible())throw new _n({code:"storage_error",error:"Unable to access storage"});let r=await this.session.getRefreshToken()??void 0,n=r??"key",i=this._cache.get(n);if(i)return this.logger.debug("[privy:refresh] found in-flight session refresh request, deduping"),await i;let s=this._refreshSession(r,e);this._cache.set(n,s);try{return await s}finally{this._cache.delete(n)}}async _refreshSession(e,r){let n=await this.session.getToken();if(!this.session.hasRefreshCredentials(n,e??null))throw this.logger.debug("[privy:refresh] missing tokens, skipping request"),await this._initialize(),new VS({code:VF.MISSING_OR_INVALID_TOKEN,error:"No tokens found in storage"});try{this.logger.debug(`[privy:refresh] fetching: ${HF.path}`);let i=await this.fetch(HF,{body:{refresh_token:e},onRequest:this.beforeRequestWithoutRefresh.bind(this)}),s=i.session_update_action;return this.logger.debug(`[privy:refresh] response: ${s}`),r||this.callbacks?.setUser?.(i.user),s==="set"&&(await this.session.updateWithTokensResponse(i),this.logger.debug("[privy:refresh] tokens stored")),s==="clear"&&(await this.session.destroyLocalState(),this.logger.debug("[privy:refresh] tokens cleared"),r||this.callbacks?.setUser?.(null)),s==="ignore"&&i.token&&(await this.session.storeToken(i.token),this.logger.debug("[privy:refresh] access token stored"),i.identity_token&&(this.logger.debug("[privy:refresh] identity token stored"),await this.session.storeIdentityToken(i.identity_token))),this.logger.debug("[privy:refresh] returning response"),i}catch(i){throw this.logger.debug(`[privy:refresh] error: ${i.message??"unknown error"}`),i instanceof VS&&i.code===VF.MISSING_OR_INVALID_TOKEN&&(await this.session.destroyLocalState(),r||this.callbacks?.setUser?.(null)),i}}async getAccessToken(){let[e,r]=await Promise.all([this.session.getToken(),this.session.getRefreshToken()]);if(!this.session.tokenIsActive(e)&&this.session.hasRefreshCredentials(e,r)){let n=await this.refreshSession(),i=await this.session.getToken();return n.token||this.logger.debug("[privy:getAccessToken] expected token received null"),n.token===e&&this.logger.debug("[privy:getAccessToken] expected new token in response received existing"),i===e&&this.logger.debug("[privy:getAccessToken] expected new token in storage received existing"),n.token??i}return e}async getIdentityToken(){return await this.session.getIdentityToken()}async isStorageAccessible(){try{let e=`privy:__storage__test-${yM()}`,r="blobby";await this._storage.put(e,r);let n=await this._storage.get(e);return await this._storage.del(e),n===r}catch(e){return this.logger.error(e),!1}}constructor(e){this._sdkVersion="js-sdk-core:0.54.2",this._cache=new Map,this.logger=NAe({level:e.logLevel??"ERROR"}),this._storage=e.storage,this._analyticsId=null,this._getOrGenerateClientAnalyticsId(),this.baseUrl=e.baseUrl??"https://auth.privy.io",this.appId=e.appId,this.appClientId=e.appClientId,this._sdkVersion=e.sdkVersion??this._sdkVersion,this.callbacks=e.callbacks,this.nativeAppIdentifier=e.nativeAppIdentifier,this.session=new Wne({storage:this._storage,isUsingServerCookies:!1,appId:e.appId}),this._fetch=LO(globalThis.fetch,{retries:3,retryDelay:r=>3**r*500,retryOn:[408,409,425,500,502,503,504]}),this.session.on("error_storing_tokens",(r=>{this.createAnalyticsEvent("error_updating_tokens_in_storage",{reason:r})}))}},OAe=class{async get(){let{user:e}=await this._privyInternal.refreshSession();return{user:e}}async acceptTerms(){return{user:await this._privyInternal.fetch(_3e,{})}}constructor(e){this._privyInternal=e}};const qne=t=>t.type==="wallet"&&t.wallet_client_type==="privy"&&t.connector_type==="embedded",Hne=t=>t?t.linked_accounts.filter(qne).filter((e=>e.chain_type==="ethereum")).sort(((e,r)=>e.wallet_index-r.wallet_index)):[],GW=t=>Hne(t).find((e=>e.wallet_index===0))??null,Vne=t=>t?t.linked_accounts.filter(qne).filter((e=>e.chain_type==="solana")).sort(((e,r)=>e.wallet_index-r.wallet_index)):[],jAe=t=>Vne(t).find((e=>e.wallet_index===0))??null,LAe=(t,e)=>!(e==="off"||Hne(t).length>0||t.linked_accounts.filter((r=>r.type==="wallet"&&r.chain_type==="ethereum")).length>0&&e!=="all-users"),DAe=(t,e)=>!(e==="off"||Vne(t).length>0||t.linked_accounts.filter((r=>r.type==="wallet"&&r.chain_type==="solana")).length>0&&e!=="all-users"),mu=async(t,e,r)=>{let n=LAe(e.user,r?.ethereum?.createOnLogin??"off"),i=DAe(e.user,r?.solana?.createOnLogin??"off");if(n&&i){let s=await t.create({recoveryMethod:"privy",skipCallbacks:!0});return{...await t.createSolana({ethereumAccount:GW(s.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}}return n?{...await t.create({recoveryMethod:"privy",solanaAccount:jAe(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:i?{...await t.createSolana({ethereumAccount:GW(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:e};let BAe=class{async syncWithToken(e,r,n){let i=await this._privyInternal.fetch($be,{body:{token:e,mode:n}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await mu(this._embedded,i,r?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}constructor(e,r){this._privyInternal=e,this._embedded=r}},UAe=class{async sendCode(e,r){return this._privyInternal.fetch(Jbe,{body:{email:e,token:r}})}async loginWithCode(e,r,n,i){let s=await this._privyInternal.fetch(Qbe,{body:{email:e,code:r,mode:n}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await mu(this._embedded,s,i?.embedded);return this._privyInternal.callbacks?.setUser?.(o.user),o}async linkWithCode(e,r){await this._privyInternal.fetch(Xbe,{body:{email:e,code:r}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async updateEmail({oldEmailAddress:e,newEmailAddress:r,code:n}){await this._privyInternal.fetch(t3e,{body:{oldAddress:e,newAddress:r,code:n}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch(e3e,{body:{address:e}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}constructor(e,r){this._privyInternal=e,this._embedded=r}},FAe=class{async initializeAuth({relyingParty:e,redirectUrl:r,token:n}){return await this._privyInternal.fetch(Mbe,{body:{relying_party:e,redirect_url:r,token:n}})}async getFarcasterStatus({channel_token:e}){return await this._privyInternal.fetch(Obe,{headers:{"farcaster-channel-token":e}})}async authenticate({channel_token:e,message:r,signature:n,fid:i,mode:s},o){let a=await this._privyInternal.fetch(Pbe,{body:{channel_token:e,message:r,signature:n,fid:i,mode:s}});await this._privyInternal.session.updateWithTokensResponse(a);let l=await mu(this._embedded,a,o?.embedded);return this._privyInternal.callbacks?.setUser?.(l.user),l}async link({channel_token:e,message:r,signature:n,fid:i}){await this._privyInternal.fetch(Nbe,{body:{channel_token:e,message:r,signature:n,fid:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async unlink({fid:e}){await this._privyInternal.fetch(Rbe,{body:{fid:e}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}constructor(e,r){this._privyInternal=e,this._embedded=r}},zAe=class{async initializeAuth(){return await this._privyInternal.fetch(jbe,{body:{}})}async authenticate({message:e,signature:r,fid:n},i){let s=await this._privyInternal.fetch(Lbe,{body:{message:e,signature:r,fid:n}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await mu(this._embedded,s,i?.embedded);return this._privyInternal.callbacks?.setUser?.(o.user),o}constructor(e,r){this._privyInternal=e,this._embedded=r}},WAe=class{async create(e){let r=await this._privyInternal.session.getOrCreateGuestCredential(),n=await this._privyInternal.fetch(Dbe,{body:{guest_credential:r}});await this._privyInternal.session.updateWithTokensResponse(n);let i=await mu(this._embedded,n,e?.embedded);return this._privyInternal.callbacks?.setUser?.(i.user),i}constructor(e,r){this._privyInternal=e,this._embedded=r}};const v0="privy:state_code",b0="privy:code_verifier";async function qAe(t,e){let r=new TextEncoder().encode(t);return new Uint8Array(await e("SHA-256",r))}function HAe(t){return crypto.getRandomValues(new Uint8Array(t))}function DO(){return Bg(HAe(36))}function Kne(){return DO()}async function Gne({codeVerifier:t,method:e="S256",digest:r=crypto.subtle.digest.bind(crypto.subtle)}){if(e!="S256")return t;{let n=await qAe(t,r);return Bg(n)}}let VAe=class{async generateURL(e,r){let n=DO(),i=Kne(),s=await Gne({codeVerifier:n,digest:this._crypto?.digest});return await Promise.all([this._storage.put(b0,n),this._storage.put(v0,i)]),this._privyInternal.fetch(zbe,{body:{redirect_to:r,provider:e,code_challenge:s,state_code:i}})}async loginWithCode(e,r,n,i,s,o){let[a,l]=await Promise.all([this._storage.get(b0),this._storage.get(v0)]);if(l!==r)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:n,storedStateCode:l??"",returnedStateCode:r??""}),new _n({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let u=await this._privyInternal.fetch(Fbe,{body:{authorization_code:e,code_type:i,state_code:l,code_verifier:a,mode:s}});await this._privyInternal.session.updateWithTokensResponse(u);let c=await mu(this._embedded,u,o?.embedded);return await Promise.all([this._storage.del(b0),this._storage.del(v0)]),this._privyInternal.callbacks?.setUser?.(c.user),c}async linkWithCode(e,r,n,i){let[s,o]=await Promise.all([this._storage.get(b0),this._storage.get(v0)]);if(o!==r)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:n,storedStateCode:o??"",returnedStateCode:r??""}),new _n({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let a=await this._privyInternal.fetch(Wbe,{body:{authorization_code:e,code_type:i,state_code:o,code_verifier:s}});await this._privyInternal.session.processOAuthTokens(a.oauth_tokens);let l=await this._privyInternal.refreshSession();return await Promise.all([this._storage.del(b0),this._storage.del(v0)]),{user:l.user,identity_token:l.identity_token}}async unlink(e,r){await this._privyInternal.fetch(qbe,{body:{provider:e,subject:r}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,r,n,i){this._privyInternal=e,this._embedded=r,this._storage=n,this._crypto=i}},KAe=class{async generateRegistrationOptions(e){return await this._privyInternal.fetch(Zbe,{body:{relying_party:e}})}async generateAuthenticationOptions(e){return await this._privyInternal.fetch(Gbe,{body:{relying_party:e}})}async generateSignupOptions(e){return await this._privyInternal.fetch(Ybe,{body:{relying_party:e}})}async loginWithPasskey(e,r,n,i){let s=await this._privyInternal.fetch(Vbe,{body:{relying_party:n,challenge:r,authenticator_response:this._transformAuthenticationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await mu(this._embedded,s,i?.embedded);return this._privyInternal.callbacks?.setUser?.(o.user),o}async signupWithPasskey(e,r,n){let i=await this._privyInternal.fetch(Kbe,{body:{relying_party:r,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await mu(this._embedded,i,n?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}async linkWithPasskey(e,r){await this._privyInternal.fetch(Hbe,{body:{relying_party:r,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}_transformRegistrationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData||void 0,transports:e.response.transports||void 0,public_key:e.response.publicKey||void 0,public_key_algorithm:e.response.publicKeyAlgorithm||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}_transformAuthenticationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{signature:e.response.signature,client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,user_handle:e.response.userHandle||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}constructor(e,r){this._privyInternal=e,this._embedded=r}},GAe=class{async sendCode(e,r){return this._privyInternal.fetch(n3e,{body:{phoneNumber:e,token:r}})}async loginWithCode(e,r,n,i){let s=await this._privyInternal.fetch(r3e,{body:{phoneNumber:e,code:r,mode:n}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await mu(this._embedded,s,i?.embedded);return this._privyInternal.callbacks?.setUser?.(o.user),o}async linkWithCode(e,r){await this._privyInternal.fetch(i3e,{body:{phoneNumber:e,code:r}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async updatePhone({oldPhoneNumber:e,newPhoneNumber:r,code:n}){await this._privyInternal.fetch(o3e,{body:{old_phone_number:e,new_phone_number:r,code:n}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch(s3e,{body:{phoneNumber:e}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}constructor(e,r){this._privyInternal=e,this._embedded=r}},YAe=class{async unlinkWallet(e){await this._privyInternal.fetch(w3e,{body:{address:e}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async linkWithSiwe(e,r,n){let i=r||this._wallet,s=n||this._preparedMessage;if(!i)throw Error("A wallet must be provided in the init step or as an argument to linkWithSiwe");if(!s)throw Error("A message must be generated and signed before being used to link a wallet to privy");await this._privyInternal.fetch(m3e,{body:{message:s,signature:e,chainId:i.chainId,walletClientType:i.walletClientType,connectorType:i.connectorType}});let o=await this._privyInternal.refreshSession();return{user:o.user,identity_token:o.identity_token}}async loginWithSiwe(e,r,n,i,s){let o=r||this._wallet,a=n||this._preparedMessage;if(!o)throw Error("A wallet must be provided in the init step or as an argument to loginWithSiwe");if(!a)throw Error("A message must be generated and signed before being used to login to privy with a wallet");let l=await this._privyInternal.fetch(g3e,{body:{signature:e,message:a,chainId:o.chainId,walletClientType:o.walletClientType,connectorType:o.connectorType,mode:i}});await this._privyInternal.session.updateWithTokensResponse(l);let u=await mu(this._embedded,l,s?.embedded);return this._privyInternal.callbacks?.setUser?.(u.user),u}async init(e,r,n){var i;this._wallet=e;let{nonce:s}=await this._privyInternal.fetch(Gte,{body:{address:e.address}}),o=`${(i={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:r,nonce:s,uri:n}).domain} wants you to sign in with your Ethereum account:
${i.address}

${i.statement}

URI: ${i.uri}
Version: 1
Chain ID: ${i.chainId}
Nonce: ${i.nonce}
Issued At: ${i.issuedAt}
Resources:
- https://privy.io`;return this._preparedMessage=o,{nonce:s,message:o}}constructor(e,r){this._wallet=void 0,this._privyInternal=e,this._embedded=r}},ZAe=class{async unlink({address:e}){await this._privyInternal.fetch(E3e,{body:{address:e}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async link({message:e,signature:r,walletClientType:n,connectorType:i}){await this._privyInternal.fetch(x3e,{body:{message:e,signature:r,walletClientType:n,connectorType:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async login({mode:e,message:r,signature:n,walletClientType:i,connectorType:s,opts:o}){let a=await this._privyInternal.fetch(b3e,{body:{signature:n,message:r,walletClientType:i,connectorType:s,mode:e}});await this._privyInternal.session.updateWithTokensResponse(a);let l=await mu(this._embedded,a,o?.embedded);return this._privyInternal.callbacks?.setUser?.(l.user),l}async fetchNonce({address:e}){let{nonce:r}=await this._privyInternal.fetch(v3e,{body:{address:e}});return{nonce:r}}constructor(e,r){this._privyInternal=e,this._embedded=r}},QAe=class{async link(e,r,n){await this._privyInternal.fetch(y3e,{body:{message:e,signature:r,smart_wallet_type:n}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async init(e){var r;let{nonce:n}=await this._privyInternal.fetch(Gte,{body:{address:e.address}});return{nonce:n,message:`${(r={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:"privy.io",uri:"https://auth.privy.io",nonce:n}).domain} wants you to sign in with your Ethereum account:
${r.address}

${r.statement}

URI: ${r.uri}
Version: 1
Chain ID: ${r.chainId}
Nonce: ${r.nonce}
Issued At: ${r.issuedAt}
Resources:
- https://privy.io`}}constructor(e){this._privyInternal=e}},JAe=class{async logout(){try{let e=await this._privyInternal.session.getRefreshToken()??void 0;await this._privyInternal.fetch(f3e,{body:{refresh_token:e}})}catch{console.warn("Error destroying session")}await Promise.all([this._privyInternal.session.destroyLocalState({reason:"logout"}),this._privyInternal.destroyClientAnalyticsId()]),this._privyInternal.callbacks?.setUser?.(null)}constructor(e,r,n,i){this._privyInternal=e,this.customProvider=new BAe(this._privyInternal,r),this.phone=new GAe(this._privyInternal,r),this.email=new UAe(this._privyInternal,r),this.oauth=new VAe(this._privyInternal,r,n,i),this.guest=new WAe(this._privyInternal,r),this.siwe=new YAe(this._privyInternal,r),this.siws=new ZAe(this._privyInternal,r),this.smartWallet=new QAe(this._privyInternal),this.passkey=new KAe(this._privyInternal,r),this.farcaster=new FAe(this._privyInternal,r),this.farcasterV2=new zAe(this._privyInternal,r)}},XAe=class{async initOnRampSession(e){return await this._privyInternal.fetch(kbe,{body:e})}async getStatus(e){return await this._privyInternal.fetch(Ibe,{query:{partnerUserId:e}})}constructor(e){this._privyInternal=e}};const e7e={prod:{url:"https://api.moonpay.com/v1",key:"pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL"},sandbox:{url:"https://api.moonpay.com/v1",key:"pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI"}};let t7e=new Set([vc.id,yc.id,wc.id,Ka.id,Iw.id,z_.id]),r7e=new Set([vc.id,yc.id,Nd.id,wc.id,Ka.id]);function n7e(t,e){switch(e){case"native-currency":return t7e.has(t);case"USDC":return r7e.has(t);default:return console.warn("Unknown asset passed to MoonPay Onramp"),!1}}function i7e(t,e){switch(t){case yc.id:return e==="native-currency"?"ETH_ARBITRUM":"USDC_ARBITRUM";case Iw.id:return"AVAX_CCHAIN";case wc.id:return e==="native-currency"?"ETH_BASE":"USDC_BASE";case z_.id:return"CELO_CELO";case Ka.id:return e==="native-currency"?"MATIC_POLYGON":"USDC_POLYGON";case vc.id:return e==="native-currency"?"ETH_ETHEREUM":"USDC_ETHEREUM";default:return console.warn(`Chain ${t} not supported by Moonpay, defaulting to Ethereum mainnet`),"ETH_ETHEREUM"}}let s7e=class{async sign(e){return await this._privyInternal.fetch(A3e,{body:e})}async getTransactionStatus({transactionId:e,useSandbox:r}){let{url:n,key:i}=e7e[r?"sandbox":"prod"],s=await LO(fetch,{retries:3,retryDelay:500})(`${n}/transactions/ext/${e}?apiKey=${i}`);if(!s.ok)throw new dEe({error:`Failed to fetch transaction status for Transaction ${e}`,code:"failed_to_fetch_moonpay_transaction_status",response:s});let o=await s.json();return Array.isArray(o)?o.at(0):void 0}constructor(e){this._privyInternal=e}},o7e=class{constructor(e){this.moonpay=new s7e(e),this.coinbase=new XAe(e)}},a7e=class{async generateAuthenticationOptions(e){return await this._privyInternal.fetch(Bbe,{body:e})}constructor(e){this._privyInternal=e}},l7e=class{async sendCode(e){return await this._privyInternal.fetch(Ube,{body:e})}constructor(e){this._privyInternal=e}},c7e=class{setProxy(e){this.proxy=e}async getAccessToken(){let e=await this.privyInternal.getAccessToken();if(!e)throw new _n({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return e}async verifyMfa(){if(!this.proxy)throw new _n({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.verifyMfa({accessToken:await this.getAccessToken()})}async initEnrollMfa(e){if(!this.proxy)throw new _n({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.initEnrollMfa({...e,accessToken:await this.getAccessToken()})}async submitEnrollMfa(e){if(!this.proxy)throw new _n({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let r=await this.proxy.submitEnrollMfa({...e,accessToken:await this.getAccessToken()});return await this.privyInternal.refreshSession(),r}async unenrollMfa(e){if(!this.proxy)throw new _n({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let r=await this.proxy.unenrollMfa({method:e,accessToken:await this.getAccessToken()});return await this.privyInternal.refreshSession(),r}async clearMfa(e){if(!this.proxy)throw new _n({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.clearMfa(e)}constructor(e,r){this.proxy=r,this.privyInternal=e,this.sms=new l7e(e),this.passkey=new a7e(e)}},u7e=class{async init(e){return this._privyInternal.fetch(u3e,{body:{client_type:e}})}async getICloudConfiguration(e){return this._privyInternal.fetch(d3e,{body:{client_type:e}})}constructor(e){this._privyInternal=e}},d7e=class{async generateURL(e){let r=DO(),n=Kne(),i=await Gne({codeVerifier:r,digest:this._crypto?.digest});return await Promise.all([this._storage.put(b0,r),this._storage.put(v0,n)]),this._privyInternal.fetch(l3e,{body:{redirect_to:e,code_challenge:i,state_code:n}})}async authorize(e,r){let[n,i]=await Promise.all([this._storage.get(b0),this._storage.get(v0)]);if(i!==r)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"recovery_oauth",storedStateCode:i??"",returnedStateCode:r??""}),new _n({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let s=await this._privyInternal.fetch(c3e,{body:{authorization_code:e,state_code:i,code_verifier:n}});return await Promise.all([this._storage.del(b0),this._storage.del(v0)]),s}constructor(e,r,n){this._privyInternal=e,this._storage=r,this._crypto=n}},h7e=class{async getRecoveryKeyMaterial(e,r){return this._privyInternal.fetch(a3e,{body:{chain_type:r},params:{address:e}})}constructor(e,r,n){this._privyInternal=e,this.auth=new d7e(this._privyInternal,r,n),this.icloudAuth=new u7e(this._privyInternal)}},f7e=class{async initialize(){await this._privyInternal._initialize()}setMessagePoster(e){this.embeddedWallet.setMessagePoster(e)}addOAuthTokensListener(e){return this._privyInternal.session.on("oauth_tokens_granted",e),{unsubscribe:()=>{this._privyInternal.session.removeListener("oauth_tokens_granted",e)}}}setCallbacks(e){this._privyInternal.setCallbacks(e)}getAccessToken(){return this._privyInternal.getAccessToken()}getIdentityToken(){return this._privyInternal.getIdentityToken()}getCompiledPath(e,r){return this._privyInternal.getPath(e,r)}async fetchPrivyRoute(e,r){return this._privyInternal.fetch(e,r)}get logger(){return this._privyInternal.logger}constructor({clientId:e,...r}){this._privyInternal=new RAe({...r,appClientId:e}),this.mfa=new c7e(this._privyInternal),this.mfaPromises=new SAe,this.app=new q8e(this._privyInternal),this.embeddedWallet=new AAe(this._privyInternal,r.embeddedWalletMessagePoster,r.supportedChains,this.mfa,this.mfaPromises,this.app),this.user=new OAe(this._privyInternal),this.auth=new JAe(this._privyInternal,this.embeddedWallet,r.storage,r.crypto),this.recovery=new h7e(this._privyInternal,r.storage,r.crypto),this.funding=new o7e(this._privyInternal),this.delegated=new eEe(this._privyInternal),this.crossApp=new Ure(this._privyInternal,r.storage)}};const p7e={AC:"40123",AD:"312345",AE:"501234567",AF:"701234567",AG:"2684641234",AI:"2642351234",AL:"672123456",AM:"77123456",AO:"923123456",AR:"91123456789",AS:"6847331234",AT:"664123456",AU:"412345678",AW:"5601234",AX:"412345678",AZ:"401234567",BA:"61123456",BB:"2462501234",BD:"1812345678",BE:"470123456",BF:"70123456",BG:"43012345",BH:"36001234",BI:"79561234",BJ:"0195123456",BL:"690001234",BM:"4413701234",BN:"7123456",BO:"71234567",BQ:"3181234",BR:"11961234567",BS:"2423591234",BT:"17123456",BW:"71123456",BY:"294911911",BZ:"6221234",CA:"5062345678",CC:"412345678",CD:"991234567",CF:"70012345",CG:"061234567",CH:"781234567",CI:"0123456789",CK:"71234",CL:"221234567",CM:"671234567",CN:"13123456789",CO:"3211234567",CR:"83123456",CU:"51234567",CV:"9911234",CW:"95181234",CX:"412345678",CY:"96123456",CZ:"601123456",DE:"15123456789",DJ:"77831001",DK:"34412345",DM:"7672251234",DO:"8092345678",DZ:"551234567",EC:"991234567",EE:"51234567",EG:"1001234567",EH:"650123456",ER:"7123456",ES:"612345678",ET:"911234567",FI:"412345678",FJ:"7012345",FK:"51234",FM:"3501234",FO:"211234",FR:"612345678",GA:"06031234",GB:"7400123456",GD:"4734031234",GE:"555123456",GF:"694201234",GG:"7781123456",GH:"231234567",GI:"57123456",GL:"221234",GM:"3012345",GN:"601123456",GP:"690001234",GQ:"222123456",GR:"6912345678",GT:"51234567",GU:"6713001234",GW:"955012345",GY:"6091234",HK:"51234567",HN:"91234567",HR:"921234567",HT:"34101234",HU:"201234567",ID:"812345678",IE:"850123456",IL:"502345678",IM:"7924123456",IN:"8123456789",IO:"3801234",IQ:"7912345678",IR:"9123456789",IS:"6111234",IT:"3123456789",JE:"7797712345",JM:"8762101234",JO:"790123456",JP:"9012345678",KE:"712123456",KG:"700123456",KH:"91234567",KI:"72001234",KM:"3212345",KN:"8697652917",KP:"1921234567",KR:"1020000000",KW:"50012345",KY:"3453231234",KZ:"7710009998",LA:"2023123456",LB:"71123456",LC:"7582845678",LI:"660234567",LK:"712345678",LR:"770123456",LS:"50123456",LT:"61234567",LU:"628123456",LV:"21234567",LY:"912345678",MA:"650123456",MC:"612345678",MD:"62112345",ME:"60123456",MF:"690001234",MG:"321234567",MH:"2351234",MK:"72345678",ML:"65012345",MM:"92123456",MN:"88123456",MO:"66123456",MP:"6702345678",MQ:"696201234",MR:"22123456",MS:"6644923456",MT:"96961234",MU:"52512345",MV:"7712345",MW:"991234567",MX:"2221234567",MY:"123456789",MZ:"821234567",NA:"811234567",NC:"751234",NE:"93123456",NF:"381234",NG:"8021234567",NI:"81234567",NL:"612345678",NO:"40612345",NP:"9841234567",NR:"5551234",NU:"8884012",NZ:"211234567",OM:"92123456",PA:"61234567",PE:"912345678",PF:"87123456",PG:"70123456",PH:"9051234567",PK:"3012345678",PL:"512345678",PM:"551234",PR:"7872345678",PS:"599123456",PT:"912345678",PW:"6201234",PY:"961456789",QA:"33123456",RE:"692123456",RO:"712034567",RS:"601234567",RU:"9123456789",RW:"720123456",SA:"512345678",SB:"7421234",SC:"2510123",SD:"911231234",SE:"701234567",SG:"81234567",SH:"51234",SI:"31234567",SJ:"41234567",SK:"912123456",SL:"25123456",SM:"66661212",SN:"701234567",SO:"71123456",SR:"7412345",SS:"977123456",ST:"9812345",SV:"70123456",SX:"7215205678",SY:"944567890",SZ:"76123456",TA:"8999",TC:"6492311234",TD:"63012345",TG:"90112345",TH:"812345678",TJ:"917123456",TK:"7290",TL:"77212345",TM:"66123456",TN:"20123456",TO:"7715123",TR:"5012345678",TT:"8682911234",TV:"901234",TW:"912345678",TZ:"621234567",UA:"501234567",UG:"712345678",US:"2015550123",UY:"94231234",UZ:"912345678",VA:"3123456789",VC:"7844301234",VE:"4121234567",VG:"2843001234",VI:"3406421234",VN:"912345678",VU:"5912345",WF:"821234",WS:"7212345",XK:"43201234",YE:"712345678",YT:"639012345",ZA:"711234567",ZM:"955123456",ZW:"712345678"},Yne={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:48|5[0-3579]|[6-9])|7(?:20|32|8)|[89]","(?:31|4)6|51|6(?:485|5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:2(?:(?:[0-26-9]\\d|3[0-8]|5[0135-9])\\d|4(?:[02-9]\\d|10))|3(?:(?:[0-3589]\\d|6[1-9]|7[0-35-9])\\d|4(?:[0-578]\\d|90))|7(?:[013-57-9]\\d|2[0-8])\\d)\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|[34]\\d\\d)|(?:6[0-8]|[78]\\d)\\d{3}|9(?:[02-9]\\d{3}|1(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79])))))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","(?:[025-7]\\d|44)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[024-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|[24-689])\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","[1-467]\\d{9,10}|55[0-46-9]\\d{8}|[34]\\d{7}|55\\d{7,8}|(?:5[0-46-9]|[89]\\d)\\d{7,9}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37|86)","300|4(?:0(?:0|20)|370|864)"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[178]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-6]|7[246]|8[2-4]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|[78]"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|5[07]|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["60|809"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9(?:10|[2-9])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-8]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|9[14]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|3[13])"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,"0|180020",0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-35])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|50))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0|180020","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","[2-69]\\d{8}|80\\d{5,7}|[1-79]\\d{7}|6\\d{6}",[7,8,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","[2-589]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0|180020","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,11}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[03]"]]],0,0,0,0,0,0,[["0(?:669[0-79]\\d{1,6}|831\\d{2,8})|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[2356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}"],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0|180020","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[25-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]","3|4(?:2(?:0|9[02-69])|7(?:0[019]|1))|6[1-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[25-9]"],"0$1"]],"0",0,"(000[2569]\\d{4,6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33622|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["3"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-6]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[2457]\\d|33|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|78|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2679]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:2[2-46-9]|3[3-9]|9)|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9])|(?:4[067]|5[03])\\d)\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[0167]\\d|2[0-8]|5[0-5]|8[0-7]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:20|9\\d)\\d{8}|[78]\\d{9,13}",[10,11,12,13,14],[["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:222|444|(?:55|8\\d)\\d|666|777|999)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[24-9]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[136]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[0-3]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-6]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,0,[["336(?:[013-9]\\d|2[013-9])\\d{5}|(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15-7]|6[0-35-79]|7[1-37-9]))\\d{7}",[10]],["9\\d{9}",[10]],["8(?:0[04]|108\\d{3})\\d{7}"],["80[39]\\d{7}",[10]],["808\\d{7}",[10]]],"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","(?:[15]\\d|800|92)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|7[67]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|[6-8]\\d|90)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-9]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[267]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[267]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-359]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-4]|5[1-3]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[59]"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|30|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[236-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","[0-57-9]\\d{8}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[0-57-9]"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["(?:3052(?:0[0-8]|[1-9]\\d)|5056(?:[0-35-9]\\d|4[0-68]))\\d{4}|(?:2742|305[3-9]|(?:472|983)[2-47-9]|505[2-57-9])\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[0135-79]|3[0-24679]|4[167]|5[0-2]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-47-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-269])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[0378]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[0168]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|2\\d{3,4}|(?:[49]\\d|80)\\d{5}",[4,5,6,7,8,9,10,11,12,13],[["(\\d{4,5})","$1",["21"]],["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|[579]\\d|63)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[579]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};function J_(t,e){var r=Array.prototype.slice.call(e);return r.push(Yne),t.apply(this,r)}function g7e(){return J_(O6e,arguments)}function F3(t){return ure.call(this,t,Yne)}F3.prototype=Object.create(ure.prototype,{});F3.prototype.constructor=F3;function m7e(){return J_(X4e,arguments)}function BO(){return J_(M_,arguments)}function y7e(){return J_(exe,arguments)}const M4=(t,e)=>g7e(String(t),e),IC=(t,e)=>`+${BO(e)} ${t}`,w7e=t=>`*${t.replaceAll("-","").slice(-4)}`,v7e=t=>new F3(t),b7e=m7e().map((t=>({code:t,callCode:BO(t)}))),x7e=t=>{let e=y7e(t,p7e)?.formatInternational();return e?.substring(e.indexOf(" ")+1)},E7e=t=>{let e=new F3;e.input(t);let r=e.getCountry()||"US",n=e.getCallingCode()||"1";return{countryCode:r,phone:t.replace("+"+n,"")}},_7e=(t,e=!0)=>t.reduce(((r,n)=>({...r,[n]:e})),{}),A7e={[vc.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[xO.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[Nd.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[W_.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[Ka.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[$5.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[wc.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[F_.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[Iw.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[bO.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[yc.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[U_.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"},Zx={"mainnet-beta":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",devnet:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",testnet:""};let S7e=new Set([vc.id,wc.id,Nd.id,Ka.id,yc.id]),C7e=new Set([vc.id,wc.id,Ka.id,Nd.id,yc.id]),k7e={buy:"CARD",send:"CRYPTO_ACCOUNT"},I7e={USDC:"2b92315d-eab7-5bef-84fa-089a131333f5",ETH:"d85dce9b-5b73-5c3c-8978-522ce1d1c1b4",BTC:"5b71fc48-3dd3-540c-809b-f8c94d0e68b5",SOL:"4f039497-3af8-5bb3-951c-6df9afa9be1c",POL:"026bcc1e-9163-591c-a709-34dd18b2e7a1"};vc.id+"",wc.id+"",Nd.id+"",Ka.id+"",yc.id+"";function T7e({appId:t,input:e,amount:r,blockchain:n,asset:i,experience:s}){let o=new URL("https://pay.coinbase.com/buy/select-asset");return o.searchParams.set("appId",e.app_id),o.searchParams.set("sessionToken",e.session_token),o.searchParams.set("endPartnerName",`privy:${t}`),o.searchParams.set("defaultExperience",s),o.searchParams.set("presetCryptoAmount",r.startsWith(".")?`0${r}`:r),o.searchParams.set("defaultNetwork",n),o.searchParams.set("defaultPaymentMethod",k7e[s]),o.searchParams.set("defaultAsset",I7e[i]),o.searchParams.set("partnerUserId",e.partner_user_id),{url:o}}const $7e=(t,e)=>{switch(e){case"native-currency":return S7e.has(t);case"USDC":return C7e.has(t);default:return console.warn("Unknown asset passed to Coinbase Onramp"),!1}};function M7e(t,e){return t===Ka.id?"POL":"ETH"}let P7e=class{async invokeRpc({method:e,params:r}){return await(await fetch(this.cluster.rpcUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:yM(),method:e,params:r})})).json()}async getBalance(e){try{let r=await this.invokeRpc({method:"getBalance",params:[e]});return r.error?null:BigInt(r.result.value)}catch{return null}}async getTokenAccountsByOwner(e,r){try{let n=await this.invokeRpc({method:"getTokenAccountsByOwner",params:[e,{mint:r},{encoding:"jsonParsed"}]});if(n.error)return null;let i=n.result.value.at(0)?.account?.data?.parsed?.info?.tokenAmount;return i?{amount:BigInt(i.amount),decimals:i.decimals}:null}catch{return null}}async getAccountInfo(e){try{let r=await this.invokeRpc({method:"getAccountInfo",params:[e,{encoding:"jsonParsed"}]});if(r.error)return null;let n=r.result.value?.data?.parsed?.info;return n?{decimals:n.decimals}:null}catch{return null}}constructor(e){this.cluster=e}};function YW(t){return t?`${t.slice(0,5)}…${t.slice(-4)}`:""}function N7e({wei:t,precision:e=3}){return parseFloat(om(t)).toFixed(e).replace(/0+$/,"").replace(/\.$/,"")}function Uo({amount:t,decimals:e}){return Ys(BigInt(t),e)}const R7e=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,O7e=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,j7e=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function L7e(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){D7e(t);return}return e}function D7e(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Gv(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const r=t.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!j7e.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(R7e.test(t)||O7e.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,L7e)}return JSON.parse(t)}catch(n){if(e.strict)throw n;return t}}const B7e=/#/g,U7e=/&/g,F7e=/\//g,z7e=/=/g,UO=/\+/g,W7e=/%5e/gi,q7e=/%60/gi,H7e=/%7c/gi,V7e=/%20/gi;function K7e(t){return encodeURI(""+t).replace(H7e,"|")}function vM(t){return K7e(typeof t=="string"?t:JSON.stringify(t)).replace(UO,"%2B").replace(V7e,"+").replace(B7e,"%23").replace(U7e,"%26").replace(q7e,"`").replace(W7e,"^").replace(F7e,"%2F")}function TC(t){return vM(t).replace(z7e,"%3D")}function Zne(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function G7e(t){return Zne(t.replace(UO," "))}function Y7e(t){return Zne(t.replace(UO," "))}function Z7e(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const r of t.split("&")){const n=r.match(/([^=]+)=?(.*)/)||[];if(n.length<2)continue;const i=G7e(n[1]);if(i==="__proto__"||i==="constructor")continue;const s=Y7e(n[2]||"");e[i]===void 0?e[i]=s:Array.isArray(e[i])?e[i].push(s):e[i]=[e[i],s]}return e}function Q7e(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(r=>`${TC(t)}=${vM(r)}`).join("&"):`${TC(t)}=${vM(e)}`:TC(t)}function J7e(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>Q7e(e,t[e])).filter(Boolean).join("&")}const X7e=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,eSe=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,tSe=/^([/\\]\s*){2,}[^/\\]/,rSe=/^\.?\//;function Qne(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?X7e.test(t):eSe.test(t)||(e.acceptRelative?tSe.test(t):!1)}function nSe(t="",e){return t.endsWith("/")}function iSe(t="",e){return(nSe(t)?t.slice(0,-1):t)||"/"}function sSe(t="",e){return t.endsWith("/")?t:t+"/"}function oSe(t,e){if(lSe(e)||Qne(t))return t;const r=iSe(e);return t.startsWith(r)?t:uSe(r,t)}function aSe(t,e){const r=dSe(t),n={...Z7e(r.search),...e};return r.search=J7e(n),hSe(r)}function lSe(t){return!t||t==="/"}function cSe(t){return t&&t!=="/"}function uSe(t,...e){let r=t||"";for(const n of e.filter(i=>cSe(i)))if(r){const i=n.replace(rSe,"");r=sSe(r)+i}else r=n;return r}const Jne=Symbol.for("ufo:protocolRelative");function dSe(t="",e){const r=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(r){const[,h,m=""]=r;return{protocol:h.toLowerCase(),pathname:m,href:h+m,auth:"",host:"",search:"",hash:""}}if(!Qne(t,{acceptRelative:!0}))return ZW(t);const[,n="",i,s=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",a=""]=s.match(/([^#/?]*)(.*)?/)||[];n==="file:"&&(a=a.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:l,search:u,hash:c}=ZW(a);return{protocol:n.toLowerCase(),auth:i?i.slice(0,Math.max(0,i.length-1)):"",host:o,pathname:l,search:u,hash:c,[Jne]:!n}}function ZW(t=""){const[e="",r="",n=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:r,hash:n}}function hSe(t){const e=t.pathname||"",r=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",n=t.hash||"",i=t.auth?t.auth+"@":"",s=t.host||"";return(t.protocol||t[Jne]?(t.protocol||"")+"//":"")+i+s+e+r+n}class Xne extends Error{constructor(e,r){super(e,r),this.name="FetchError",r?.cause&&!this.cause&&(this.cause=r.cause)}}function fSe(t){const e=t.error?.message||t.error?.toString()||"",r=t.request?.method||t.options?.method||"GET",n=t.request?.url||String(t.request)||"/",i=`[${r}] ${JSON.stringify(n)}`,s=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",o=`${i}: ${s}${e?` ${e}`:""}`,a=new Xne(o,t.error?{cause:t.error}:void 0);for(const l of["request","options","response"])Object.defineProperty(a,l,{get(){return t[l]}});for(const[l,u]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(a,l,{get(){return t.response&&t.response[u]}});return a}const pSe=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function QW(t="GET"){return pSe.has(t.toUpperCase())}function gSe(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const mSe=new Set(["image/svg","application/xml","application/xhtml","application/html"]),ySe=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function wSe(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return ySe.test(e)?"json":mSe.has(e)||e.startsWith("text/")?"text":"blob"}function vSe(t,e,r,n){const i=bSe(e?.headers??t?.headers,r?.headers,n);let s;return(r?.query||r?.params||e?.params||e?.query)&&(s={...r?.params,...r?.query,...e?.params,...e?.query}),{...r,...e,query:s,params:s,headers:i}}function bSe(t,e,r){if(!e)return new r(t);const n=new r(e);if(t)for(const[i,s]of Symbol.iterator in t||Array.isArray(t)?t:new r(t))n.set(i,s);return n}async function P4(t,e){if(e)if(Array.isArray(e))for(const r of e)await r(t);else await e(t)}const xSe=new Set([408,409,425,429,500,502,503,504]),ESe=new Set([101,204,205,304]);function eie(t={}){const{fetch:e=globalThis.fetch,Headers:r=globalThis.Headers,AbortController:n=globalThis.AbortController}=t;async function i(a){const l=a.error&&a.error.name==="AbortError"&&!a.options.timeout||!1;if(a.options.retry!==!1&&!l){let c;typeof a.options.retry=="number"?c=a.options.retry:c=QW(a.options.method)?0:1;const h=a.response&&a.response.status||500;if(c>0&&(Array.isArray(a.options.retryStatusCodes)?a.options.retryStatusCodes.includes(h):xSe.has(h))){const m=typeof a.options.retryDelay=="function"?a.options.retryDelay(a):a.options.retryDelay||0;return m>0&&await new Promise(y=>setTimeout(y,m)),s(a.request,{...a.options,retry:c-1})}}const u=fSe(a);throw Error.captureStackTrace&&Error.captureStackTrace(u,s),u}const s=async function(l,u={}){const c={request:l,options:vSe(l,u,t.defaults,r),response:void 0,error:void 0};c.options.method&&(c.options.method=c.options.method.toUpperCase()),c.options.onRequest&&await P4(c,c.options.onRequest),typeof c.request=="string"&&(c.options.baseURL&&(c.request=oSe(c.request,c.options.baseURL)),c.options.query&&(c.request=aSe(c.request,c.options.query),delete c.options.query),"query"in c.options&&delete c.options.query,"params"in c.options&&delete c.options.params),c.options.body&&QW(c.options.method)&&(gSe(c.options.body)?(c.options.body=typeof c.options.body=="string"?c.options.body:JSON.stringify(c.options.body),c.options.headers=new r(c.options.headers||{}),c.options.headers.has("content-type")||c.options.headers.set("content-type","application/json"),c.options.headers.has("accept")||c.options.headers.set("accept","application/json")):("pipeTo"in c.options.body&&typeof c.options.body.pipeTo=="function"||typeof c.options.body.pipe=="function")&&("duplex"in c.options||(c.options.duplex="half")));let h;if(!c.options.signal&&c.options.timeout){const y=new n;h=setTimeout(()=>{const b=new Error("[TimeoutError]: The operation was aborted due to timeout");b.name="TimeoutError",b.code=23,y.abort(b)},c.options.timeout),c.options.signal=y.signal}try{c.response=await e(c.request,c.options)}catch(y){return c.error=y,c.options.onRequestError&&await P4(c,c.options.onRequestError),await i(c)}finally{h&&clearTimeout(h)}if((c.response.body||c.response._bodyInit)&&!ESe.has(c.response.status)&&c.options.method!=="HEAD"){const y=(c.options.parseResponse?"json":c.options.responseType)||wSe(c.response.headers.get("content-type")||"");switch(y){case"json":{const b=await c.response.text(),E=c.options.parseResponse||Gv;c.response._data=E(b);break}case"stream":{c.response._data=c.response.body||c.response._bodyInit;break}default:c.response._data=await c.response[y]()}}return c.options.onResponse&&await P4(c,c.options.onResponse),!c.options.ignoreResponseError&&c.response.status>=400&&c.response.status<600?(c.options.onResponseError&&await P4(c,c.options.onResponseError),await i(c)):c.response},o=async function(l,u){return(await s(l,u))._data};return o.raw=s,o.native=(...a)=>e(...a),o.create=(a={},l={})=>eie({...t,...l,defaults:{...t.defaults,...l.defaults,...a}}),o}const Q8=(function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")})(),_Se=Q8.fetch?(...t)=>Q8.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),ASe=Q8.Headers,SSe=Q8.AbortController,tie=eie({fetch:_Se,Headers:ASe,AbortController:SSe});var wr;let Po=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,r,n){super(e),r instanceof Error&&(this.cause=r),this.privyErrorCode=n}},hl=class extends Po{constructor(e,r,n,i,s,o){super(n,i,s),this.type=e,this.status=r,this.data=o}},be=class extends Po{constructor(e,r,n){super(e,r,n),this.type="client_error"}},CSe=class extends be{constructor(){super("Request timed out",void 0,"client_request_timeout")}},Vn=class extends Po{constructor(e,r,n){super(e,r,n),this.type="connector_error"}};const en=t=>{if(t instanceof Po)return t;if(!(t instanceof Xne))return ii(t);if(!t.response)return new hl("api_error",null,t.message,t);let{type:e,message:r,error:n,code:i}=t.data;return new hl(e||"ApiError",t.response.status,r||n,t,i,t.data)},ii=t=>t instanceof Po?t:t instanceof Error?new be(t.message,t):new be(`Internal error: ${t}`);var Ee=((wr={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",wr.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",wr.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",wr.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",wr.INVALID_DATA="invalid_data",wr.INVALID_CAPTCHA="invalid_captcha",wr.LINKED_TO_ANOTHER_USER="linked_to_another_user",wr.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",wr.FAILED_TO_LINK_ACCOUNT="failed_to_link_account",wr.FAILED_TO_UPDATE_ACCOUNT="failed_to_update_account",wr.USER_EXITED_UPDATE_FLOW="exited_update_flow",wr.ALLOWLIST_REJECTED="allowlist_rejected",wr.OAUTH_USER_DENIED="oauth_user_denied",wr.OAUTH_UNEXPECTED="oauth_unexpected",wr.UNKNOWN_AUTH_ERROR="unknown_auth_error",wr.USER_EXITED_AUTH_FLOW="exited_auth_flow",wr.USER_EXITED_LINK_FLOW="exited_link_flow",wr.USER_EXITED_SET_PASSWORD_FLOW="user_exited_set_password_flow",wr.MUST_BE_AUTHENTICATED="must_be_authenticated",wr.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",wr.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",wr.CLIENT_REQUEST_TIMEOUT="client_request_timeout",wr.INVALID_CREDENTIALS="invalid_credentials",wr.MISSING_MFA_CREDENTIALS="missing_or_invalid_mfa",wr.UNKNOWN_MFA_ERROR="unknown_mfa_error",wr.EMBEDDED_WALLET_ALREADY_EXISTS="embedded_wallet_already_exists",wr.EMBEDDED_WALLET_NOT_FOUND="embedded_wallet_not_found",wr.EMBEDDED_WALLET_CREATE_ERROR="embedded_wallet_create_error",wr.UNKNOWN_EMBEDDED_WALLET_ERROR="unknown_embedded_wallet_error",wr.EMBEDDED_WALLET_PASSWORD_UNCONFIRMED="embedded_wallet_password_unconfirmed",wr.EMBEDDED_WALLET_PASSWORD_ALREADY_EXISTS="embedded_wallet_password_already_exists",wr.EMBEDDED_WALLET_RECOVERY_ALREADY_EXISTS="embedded_wallet_recovery_already_exists",wr.TRANSACTION_FAILURE="transaction_failure",wr.UNSUPPORTED_CHAIN_ID="unsupported_chain_id",wr.NOT_SUPPORTED="not_supported",wr.CAPTCHA_TIMEOUT="captcha_timeout",wr.INVALID_MESSAGE="invalid_message",wr.UNABLE_TO_SIGN="unable_to_sign",wr.CAPTCHA_FAILURE="captcha_failure",wr.CAPTCHA_DISABLED="captcha_disabled",wr.SESSION_STORAGE_UNAVAILABLE="session_storage_unavailable",wr.TOO_MANY_REQUESTS="too_many_requests",wr.USER_LIMIT_REACHED="max_accounts_reached",wr.DISALLOWED_LOGIN_METHOD="disallowed_login_method",wr.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",wr.PASSKEY_NOT_ALLOWED="passkey_not_allowed",wr.USER_DOES_NOT_EXIST="user_does_not_exist",wr.INSUFFICIENT_BALANCE="insufficient_balance",wr.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",wr.BUFFER_NOT_DEFINED="buffer_not_defined",wr.UNSUPPORTED_WALLET_TYPE="unsupported_wallet_type",wr);let $p=class extends be{constructor(){super("Method called before `ready`. Ensure you wait until `ready` is true before calling.")}},P0=class extends be{constructor(e="Embedded wallet error",r){super(e,r,"unknown_embedded_wallet_error")}},kSe=class extends be{constructor(e="User must be authenticated"){super(e,void 0,"must_be_authenticated")}},O5=class extends be{constructor(e){super("This application is in development mode and must be upgraded to production to log in new users.",e,"max_accounts_reached")}};const rie="/api/v1/sessions",nie="/api/v1/sessions/logout",ISe="/api/v1/siwe/init",TSe="/api/v1/siwe/authenticate",$Se="/api/v1/siwe/link",MSe="/api/v1/siwe/link_smart_wallet",PSe="/api/v1/siwe/unlink",NSe="/api/v1/siwe/transfer",RSe="/api/v1/siws/init",OSe="/api/v1/siws/authenticate",jSe="/api/v1/siws/link",LSe="/api/v1/siws/unlink",DSe="/api/v1/siws/transfer",BSe="/api/v1/farcaster/init",USe="/api/v1/farcaster/authenticate",FSe="/api/v1/farcaster/link",zSe="/api/v1/farcaster/status",WSe="/api/v1/farcaster/unlink",qSe="/api/v1/farcaster/transfer",HSe="/api/v1/passwordless/init",VSe="/api/v1/passwordless/authenticate",KSe="/api/v1/passwordless/link",GSe="/api/v1/passwordless/unlink",YSe="/api/v1/passwordless/update",ZSe="/api/v1/passwordless/transfer",QSe="/api/v1/passwordless_sms/init",JSe="/api/v1/passwordless_sms/link",XSe="/api/v1/passwordless_sms/unlink",eCe="/api/v1/passwordless_sms/authenticate",tCe="/api/v1/passwordless_sms/update",rCe="/api/v1/passwordless_sms/transfer",iie="/api/v1/oauth/init",sie="/api/v1/oauth/authenticate",oie="/api/v1/oauth/link",nCe="/api/v1/oauth/unlink",iCe="/api/v1/oauth/transfer",sCe="/api/v1/recovery/oauth/init",oCe="/api/v1/recovery/oauth/init_icloud",aCe="/api/v1/recovery/oauth/authenticate",lCe="/api/v1/passkeys/link/init",cCe="/api/v1/passkeys/authenticate/init",uCe="/api/v1/passkeys/register/init",dCe="/api/v1/passkeys/link",hCe="/api/v1/passkeys/authenticate",fCe="/api/v1/passkeys/register",pCe="/api/v1/telegram/authenticate",gCe="/api/v1/telegram/link",mCe="/api/v1/telegram/unlink",yCe="/api/v1/telegram/transfer",wCe="/api/v1/mfa/passwordless_sms/init",vCe="/api/v1/mfa/passkeys/init",bCe="/api/v1/users/me/accept_terms",aie="/api/v1/analytics_events",xCe="/api/v1/custom_jwt_account/authenticate",ECe="/api/v1/custom_jwt_account/link",_Ce="/api/v1/guest/authenticate",ACe="/api/v1/plugins/moonpay_on_ramp/sign",SCe="/api/v1/funding/coinbase_on_ramp/init",CCe="/api/v1/funding/coinbase_on_ramp/status",kCe="/api/v1/wallets/revoke",ICe="/api/v1/users/me",TCe="/api/v1/scan/transaction",Ke=()=>{throw Error("You need to wrap your application with the <PrivyProvider> initialized with your app id.")},x0=t=>()=>{throw Error(t.trim())},lie=B.createContext({setAuthenticated:Ke,setUser:Ke,setIsNewUser:Ke,isNewUserThisSession:!1,walletConnectionStatus:null,setWalletConnectionStatus:Ke,connectors:[],solanaWallets:[],rpcConfig:{rpcUrls:{}},showFiatPrices:!0,chains:[],clientAnalyticsId:null,pendingTransaction:null,client:null,privy:null,appId:"notAdded",onCustomAuthAuthenticated:Ke,hideWalletUIs:{current:!1},nativeTokenSymbolForChainId:Ke,initializeWalletProxy:Ke,getAuthMeta:Ke,getAuthFlow:Ke,closePrivyModal:Ke,openPrivyModal:Ke,connectWallet:Ke,initLoginWithWallet:Ke,loginWithWallet:Ke,initLoginWithFarcaster:Ke,loginWithFarcaster:Ke,loginWithCode:Ke,initLoginWithEmail:Ke,initLoginWithSms:Ke,initUpdateEmail:Ke,initUpdatePhone:Ke,resendEmailCode:Ke,resendSmsCode:Ke,initLoginWithHeadlessOAuth:Ke,loginWithHeadlessOAuth:Ke,crossAppAuthFlow:Ke,initLoginWithOAuth:Ke,loginWithOAuth:Ke,passkeyAuthState:{status:"initial"},setPasskeyAuthState:Ke,initSignupWithPasskey:Ke,signupWithPasskey:Ke,initLoginWithPasskey:Ke,loginWithPasskey:Ke,initLinkWithPasskey:Ke,linkWithPasskey:Ke,refreshSessionAndUser:Ke,walletProxy:null,createAnalyticsEvent:Ke,acceptTerms:Ke,getUsdTokenPrice:Ke,getUsdPriceForSol:Ke,getSplTokenMetadata:Ke,recoverEmbeddedWallet:Ke,updateWallets:Ke,fundWallet:Ke,openModal:Ke,setReadyToTrue:Ke,requestFarcasterSignerStatus:Ke,initLoginWithTelegram:Ke,loginWithTelegram:Ke,generateSiweMessage:Ke,generateSiweMessageForSmartWallet:Ke,loginWithSiwe:Ke,linkWithSiwe:Ke,linkSmartWallet:Ke,delegateWallet:Ke,revokeDelegatedWallets:Ke,exportSolanaWallet:Ke,connectCoinbaseSmartWallet:Ke,connectBaseAccount:Ke,initiateAccountTransfer:Ke,emailOtpState:{status:"initial"},setEmailOtpState:Ke,smsOtpState:{status:"initial"},setSmsOtpState:Ke,siweState:{status:"initial"},setSiweState:Ke,oAuthState:{status:"initial"},setOAuthState:Ke,telegramAuthState:{status:"initial"},setTelegramAuthState:Ke,isHeadlessOAuthLoading:!1,isHeadlessSigning:Ke,inProgressAuthFlowRef:{current:null},inProgressLoginOrLinkMethodRef:{current:null},baseAccountSdk:void 0,setBaseAccountSdk:Ke}),$t=()=>B.useContext(lie);let N4;const $Ce=new Uint8Array(16);function MCe(){if(!N4&&(N4=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!N4))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return N4($Ce)}const Ls=[];for(let t=0;t<256;++t)Ls.push((t+256).toString(16).slice(1));function PCe(t,e=0){return Ls[t[e+0]]+Ls[t[e+1]]+Ls[t[e+2]]+Ls[t[e+3]]+"-"+Ls[t[e+4]]+Ls[t[e+5]]+"-"+Ls[t[e+6]]+Ls[t[e+7]]+"-"+Ls[t[e+8]]+Ls[t[e+9]]+"-"+Ls[t[e+10]]+Ls[t[e+11]]+Ls[t[e+12]]+Ls[t[e+13]]+Ls[t[e+14]]+Ls[t[e+15]]}const NCe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),JW={randomUUID:NCe};function RCe(t,e,r){if(JW.randomUUID&&!t)return JW.randomUUID();t=t||{};const n=t.random||(t.rng||MCe)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,PCe(n)}function cr(t){return t?new Date(1e3*t):null}function oo(t,e){return t.slice().sort(((r,n)=>(r.firstVerifiedAt??r.verifiedAt).getTime()-(n.firstVerifiedAt??n.verifiedAt).getTime())).find((r=>r.type===e))}const ud=t=>t?cie(t).find((e=>e.walletIndex===0))??null:null,cie=t=>t?uie(t,"ethereum"):[],uie=(t,e)=>t.linkedAccounts.filter((r=>r.type==="wallet"&&r.walletClientType==="privy"&&!r.imported&&r.chainType===e)),die=t=>t?uie(t,"solana"):[],um=t=>t?die(t).find((e=>e.walletIndex===0))??null:null,bM=t=>t?.linkedAccounts.find((e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.imported&&e.chainType==="ethereum"))||null,X_=t=>t?.linkedAccounts.find((e=>e.type==="wallet"&&e.imported&&e.walletClientType==="privy"&&e.chainType==="solana"))||null;let hie=(t,e)=>t===e||!(!t.startsWith("0x")||!e.startsWith("0x"))&&Ni(t)===Ni(e);const Xl=(t,e)=>t?.linkedAccounts.find((r=>r.type==="wallet"&&r.walletClientType==="privy"&&hie(r.address,e)))||null,$C=(t,e)=>t.find((r=>hie(r.address,e)))||null,lc=t=>ud(t)??um(t);function Us(t){if(!t)return null;let e=(function(P){let z=[];for(let L of P){let W=L.type;switch(L.type){case"wallet":let H={id:L.id,address:L.address,type:L.type,imported:L.imported,delegated:L.delegated,verifiedAt:cr(L.verified_at),firstVerifiedAt:cr(L.first_verified_at),latestVerifiedAt:cr(L.latest_verified_at),chainType:L.chain_type,walletClientType:L.wallet_client_type,connectorType:L.connector_type,recoveryMethod:L.recovery_method,walletIndex:L.wallet_index};z.push(H);break;case"smart_wallet":let G={address:L.address,type:L.type,verifiedAt:cr(L.verified_at),firstVerifiedAt:cr(L.first_verified_at),latestVerifiedAt:cr(L.latest_verified_at),smartWalletType:L.smart_wallet_type,smartWalletVersion:L.smart_wallet_version};z.push(G);break;case"cross_app":let N={type:L.type,subject:L.subject,embeddedWallets:L.embedded_wallets,smartWallets:L.smart_wallets,providerApp:{id:L.provider_app_id},verifiedAt:cr(L.verified_at),firstVerifiedAt:cr(L.first_verified_at),latestVerifiedAt:cr(L.latest_verified_at)};z.push(N);break;case"email":let F={address:L.address,type:L.type,verifiedAt:cr(L.verified_at),firstVerifiedAt:cr(L.first_verified_at),latestVerifiedAt:cr(L.latest_verified_at)};z.push(F);break;case"phone":let U={number:L.phoneNumber,type:L.type,verifiedAt:cr(L.verified_at),firstVerifiedAt:cr(L.first_verified_at),latestVerifiedAt:cr(L.latest_verified_at)};z.push(U);break;case"google_oauth":let j={subject:L.subject,email:L.email,name:L.name,type:L.type,verifiedAt:cr(L.verified_at),firstVerifiedAt:cr(L.first_verified_at),latestVerifiedAt:cr(L.latest_verified_at)};z.push(j);break;case"spotify_oauth":let _={subject:L.subject,email:L.email,name:L.name,type:L.type,verifiedAt:cr(L.verified_at),firstVerifiedAt:cr(L.first_verified_at),latestVerifiedAt:cr(L.latest_verified_at)};z.push(_);break;case"instagram_oauth":let d={subject:L.subject,username:L.username,type:L.type,verifiedAt:cr(L.verified_at),firstVerifiedAt:cr(L.first_verified_at),latestVerifiedAt:cr(L.latest_verified_at)};z.push(d);break;case"twitter_oauth":let g={subject:L.subject,username:L.username,name:L.name,type:L.type,profilePictureUrl:L.profile_picture_url,verifiedAt:cr(L.verified_at),firstVerifiedAt:cr(L.first_verified_at),latestVerifiedAt:cr(L.latest_verified_at)};z.push(g);break;case"discord_oauth":let x={subject:L.subject,username:L.username,email:L.email,type:L.type,verifiedAt:cr(L.verified_at),firstVerifiedAt:cr(L.first_verified_at),latestVerifiedAt:cr(L.latest_verified_at)};z.push(x);break;case"github_oauth":let C={subject:L.subject,username:L.username,name:L.name,email:L.email,type:L.type,verifiedAt:cr(L.verified_at),firstVerifiedAt:cr(L.first_verified_at),latestVerifiedAt:cr(L.latest_verified_at)};z.push(C);break;case"tiktok_oauth":let k={subject:L.subject,username:L.username,name:L.name,type:L.type,verifiedAt:cr(L.verified_at),firstVerifiedAt:cr(L.first_verified_at),latestVerifiedAt:cr(L.latest_verified_at)};z.push(k);break;case"line_oauth":let T={subject:L.subject,name:L.name,email:L.email,profilePictureUrl:L.profile_picture_url,type:L.type,verifiedAt:cr(L.verified_at),firstVerifiedAt:cr(L.first_verified_at),latestVerifiedAt:cr(L.latest_verified_at)};z.push(T);break;case"linkedin_oauth":let R={subject:L.subject,name:L.name,email:L.email,vanityName:L.vanity_name,type:L.type,verifiedAt:cr(L.verified_at),firstVerifiedAt:cr(L.first_verified_at),latestVerifiedAt:cr(L.latest_verified_at)};z.push(R);break;case"apple_oauth":let I={subject:L.subject,email:L.email,type:L.type,verifiedAt:cr(L.verified_at),firstVerifiedAt:cr(L.first_verified_at),latestVerifiedAt:cr(L.latest_verified_at)};z.push(I);break;case"custom_auth":z.push({type:L.type,customUserId:L.custom_user_id,verifiedAt:cr(L.verified_at),firstVerifiedAt:cr(L.first_verified_at),latestVerifiedAt:cr(L.latest_verified_at)});break;case"farcaster":let f={type:L.type,fid:L.fid,ownerAddress:L.owner_address,displayName:L.display_name,username:L.username,bio:L.bio,pfp:L.profile_picture_url,url:L.homepage_url,verifiedAt:cr(L.verified_at),firstVerifiedAt:cr(L.first_verified_at),latestVerifiedAt:cr(L.latest_verified_at),signerPublicKey:L.signer_public_key};z.push(f);break;case"passkey":let S={type:L.type,enrolledInMfa:L.enrolled_in_mfa,credentialId:L.credential_id,publicKey:L.public_key,authenticatorName:L.authenticator_name,createdWithDevice:L.created_with_device,createdWithOs:L.created_with_os,createdWithBrowser:L.created_with_browser,verifiedAt:cr(L.verified_at),firstVerifiedAt:cr(L.first_verified_at),latestVerifiedAt:cr(L.latest_verified_at)};z.push(S);break;case"telegram":let K={type:L.type,telegramUserId:L.telegram_user_id,firstName:L.first_name,lastName:L.last_name,username:L.username,photoUrl:L.photo_url,verifiedAt:cr(L.first_verified_at),firstVerifiedAt:cr(L.first_verified_at),latestVerifiedAt:cr(L.latest_verified_at)};z.push(K);break;default:console.warn(`Unrecognized account type: ${W}. Please consider upgrading the Privy SDK.`)}}return z})(t.linked_accounts),r=oo(e,"wallet"),n=oo(e,"smart_wallet"),i=oo(e,"email"),s=oo(e,"phone"),o=oo(e,"google_oauth"),a=oo(e,"twitter_oauth"),l=oo(e,"discord_oauth"),u=oo(e,"github_oauth"),c=oo(e,"spotify_oauth"),h=oo(e,"instagram_oauth"),m=oo(e,"tiktok_oauth"),y=oo(e,"line_oauth"),b=oo(e,"linkedin_oauth"),E=oo(e,"apple_oauth"),A=oo(e,"farcaster"),M=oo(e,"telegram"),O=t.mfa_methods.map((({type:P,verified_at:z})=>({type:P,verifiedAt:cr(z)})));return{id:t.id,createdAt:cr(t.created_at),linkedAccounts:e,email:i&&{address:i?.address},phone:s&&{number:s?.number},wallet:r&&{id:r.id,address:r.address,chainType:r.chainType,walletClientType:r.walletClientType,connectorType:r.connectorType,recoveryMethod:r.recoveryMethod,imported:r.imported,delegated:r.delegated,walletIndex:r.walletIndex},smartWallet:n&&{address:n.address,smartWalletType:n.smartWalletType,smartWalletVersion:n.smartWalletVersion},google:o&&{subject:o.subject,email:o.email,name:o.name},twitter:a&&{subject:a.subject,username:a.username,name:a.name,profilePictureUrl:a.profilePictureUrl},discord:l&&{subject:l.subject,username:l.username,email:l.email},github:u&&{subject:u.subject,username:u.username,name:u.name,email:u.email},spotify:c&&{subject:c.subject,email:c.email,name:c.name},instagram:h&&{subject:h.subject,username:h.username},tiktok:m&&{subject:m.subject,username:m.username,name:m.name},line:y&&{subject:y.subject,name:y.name,email:y.email,profilePictureUrl:y.profilePictureUrl},linkedin:b&&{subject:b.subject,name:b.name,email:b.email,vanityName:b.vanityName},apple:E&&{subject:E.subject,email:E.email},farcaster:A&&{fid:A.fid,ownerAddress:A.ownerAddress,displayName:A.displayName,username:A.username,bio:A.bio,pfp:A.pfp,url:A.url,signerPublicKey:A.signerPublicKey},telegram:M&&{telegramUserId:M.telegramUserId,firstName:M.firstName,lastName:M.lastName,username:M.username,photoUrl:M.photoUrl},delegatedWallets:[],mfaMethods:O.map((P=>P.type)),hasAcceptedTerms:t.has_accepted_terms??!1,isGuest:t.is_guest,customMetadata:t.custom_metadata}}const ws=t=>!!t.id&&t.recoveryMethod==="privy-v2",dm=B.createContext({ready:!1,authenticated:!1,user:null,walletConnectors:null,connectWallet:Ke,login:Ke,connectOrCreateWallet:Ke,linkEmail:Ke,linkPhone:Ke,linkFarcaster:Ke,linkWallet:Ke,startCrossAppAuthFlow:Ke,linkGoogle:Ke,linkTwitter:Ke,linkDiscord:Ke,linkGithub:Ke,linkSpotify:Ke,linkInstagram:Ke,linkTelegram:Ke,linkTiktok:Ke,linkLine:Ke,linkLinkedIn:Ke,linkApple:Ke,linkPasskey:Ke,updateEmail:Ke,updatePhone:Ke,logout:Ke,getAccessToken:Ke,unlinkEmail:Ke,unlinkPhone:Ke,unlinkWallet:Ke,unlinkGoogle:Ke,unlinkTwitter:Ke,unlinkDiscord:Ke,unlinkGithub:Ke,unlinkSpotify:Ke,unlinkInstagram:Ke,unlinkTiktok:Ke,unlinkLine:Ke,unlinkLinkedIn:Ke,unlinkApple:Ke,unlinkCrossAppAccount:Ke,unlinkFarcaster:Ke,unlinkTelegram:Ke,unlinkPasskey:Ke,signMessage:Ke,signTypedData:Ke,enrollInMfa:Ke,initEnrollmentWithSms:Ke,initEnrollmentWithTotp:Ke,initEnrollmentWithPasskey:Ke,promptMfa:Ke,init:Ke,submitEnrollmentWithSms:Ke,submitEnrollmentWithTotp:Ke,submitEnrollmentWithPasskey:Ke,unenroll:Ke,submit:Ke,cancel:Ke,sendTransaction:Ke,signTransaction:Ke,exportWallet:Ke,setWalletPassword:Ke,setWalletRecovery:Ke,requestFarcasterSignerFromWarpcast:Ke,getFarcasterSignerPublicKey:Ke,signFarcasterMessage:Ke,signMessageWithCrossAppWallet:Ke,signTypedDataWithCrossAppWallet:Ke,sendTransactionWithCrossAppWallet:Ke,signTransactionWithCrossAppWallet:Ke,isModalOpen:!1,mfaMethods:[]}),Kr=()=>B.useContext(dm),FO=()=>{let{walletProxy:t,client:e}=$t();return B.useMemo((()=>({signWithUserSigner:async({message:r})=>{if(!t)throw Error("Wallet proxy not initialized");let n=await e.getAccessToken();if(!n)throw Error("User must be authenticated");let{signature:i}=await t.signWithUserSigner({accessToken:n,message:r});return{signature:i}}})),[t,e])};class kd{constructor(e,r){this.scope=e,this.module=r}storeObject(e,r){this.setItem(e,JSON.stringify(r))}loadObject(e){const r=this.getItem(e);return r?JSON.parse(r):void 0}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`-${this.scope}${this.module?`:${this.module}`:""}:${e}`}static clearAll(){new kd("CBWSDK").clear(),new kd("walletlink").clear()}}const Mi={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},xM={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}},fie="Unspecified error message.",OCe="Unspecified server error.";function zO(t,e=fie){if(t&&Number.isInteger(t)){const r=t.toString();if(EM(xM,r))return xM[r].message;if(pie(t))return OCe}return e}function jCe(t){if(!Number.isInteger(t))return!1;const e=t.toString();return!!(xM[e]||pie(t))}function LCe(t,{shouldIncludeStack:e=!1}={}){const r={};if(t&&typeof t=="object"&&!Array.isArray(t)&&EM(t,"code")&&jCe(t.code)){const n=t;r.code=n.code,n.message&&typeof n.message=="string"?(r.message=n.message,EM(n,"data")&&(r.data=n.data)):(r.message=zO(r.code),r.data={originalError:XW(t)})}else r.code=Mi.rpc.internal,r.message=eq(t,"message")?t.message:fie,r.data={originalError:XW(t)};return e&&(r.stack=eq(t,"stack")?t.stack:void 0),r}function pie(t){return t>=-32099&&t<=-32e3}function XW(t){return t&&typeof t=="object"&&!Array.isArray(t)?Object.assign({},t):t}function EM(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function eq(t,e){return typeof t=="object"&&t!==null&&e in t&&typeof t[e]=="string"}const dn={rpc:{parse:t=>Fl(Mi.rpc.parse,t),invalidRequest:t=>Fl(Mi.rpc.invalidRequest,t),invalidParams:t=>Fl(Mi.rpc.invalidParams,t),methodNotFound:t=>Fl(Mi.rpc.methodNotFound,t),internal:t=>Fl(Mi.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Fl(e,t)},invalidInput:t=>Fl(Mi.rpc.invalidInput,t),resourceNotFound:t=>Fl(Mi.rpc.resourceNotFound,t),resourceUnavailable:t=>Fl(Mi.rpc.resourceUnavailable,t),transactionRejected:t=>Fl(Mi.rpc.transactionRejected,t),methodNotSupported:t=>Fl(Mi.rpc.methodNotSupported,t),limitExceeded:t=>Fl(Mi.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>p1(Mi.provider.userRejectedRequest,t),unauthorized:t=>p1(Mi.provider.unauthorized,t),unsupportedMethod:t=>p1(Mi.provider.unsupportedMethod,t),disconnected:t=>p1(Mi.provider.disconnected,t),chainDisconnected:t=>p1(Mi.provider.chainDisconnected,t),unsupportedChain:t=>p1(Mi.provider.unsupportedChain,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new yie(e,r,n)}}};function Fl(t,e){const[r,n]=gie(e);return new mie(t,r||zO(t),n)}function p1(t,e){const[r,n]=gie(e);return new yie(t,r||zO(t),n)}function gie(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}class mie extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}}class yie extends mie{constructor(e,r,n){if(!DCe(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}function DCe(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function WO(){return t=>t}const z3=WO(),BCe=WO(),UCe=WO();function mh(t){return Math.floor(t)}const wie=/^[0-9]*$/,vie=/^[a-f0-9]*$/;function Vp(t){return qO(crypto.getRandomValues(new Uint8Array(t)))}function qO(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}function Qx(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>Number.parseInt(e,16)))}function bb(t,e=!1){const r=t.toString("hex");return z3(e?`0x${r}`:r)}function MC(t){return bb(_M(t),!0)}function Fu(t){return UCe(t.toString(10))}function S0(t){return z3(`0x${BigInt(t).toString(16)}`)}function bie(t){return t.startsWith("0x")||t.startsWith("0X")}function HO(t){return bie(t)?t.slice(2):t}function xie(t){return bie(t)?`0x${t.slice(2)}`:`0x${t}`}function e9(t){if(typeof t!="string")return!1;const e=HO(t).toLowerCase();return vie.test(e)}function FCe(t,e=!1){if(typeof t=="string"){const r=HO(t).toLowerCase();if(vie.test(r))return z3(e?`0x${r}`:r)}throw dn.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}function VO(t,e=!1){let r=FCe(t,!1);return r.length%2===1&&(r=z3(`0${r}`)),e?z3(`0x${r}`):r}function Af(t){if(typeof t=="string"){const e=HO(t).toLowerCase();if(e9(e)&&e.length===40)return BCe(xie(e))}throw dn.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}function _M(t){if(kt.isBuffer(t))return t;if(typeof t=="string"){if(e9(t)){const e=VO(t,!1);return kt.from(e,"hex")}return kt.from(t,"utf8")}throw dn.rpc.invalidParams(`Not binary data: ${String(t)}`)}function xb(t){if(typeof t=="number"&&Number.isInteger(t))return mh(t);if(typeof t=="string"){if(wie.test(t))return mh(Number(t));if(e9(t))return mh(Number(BigInt(VO(t,!0))))}throw dn.rpc.invalidParams(`Not an integer: ${String(t)}`)}function U2(t){if(t!==null&&(typeof t=="bigint"||WCe(t)))return BigInt(t.toString(10));if(typeof t=="number")return BigInt(xb(t));if(typeof t=="string"){if(wie.test(t))return BigInt(t);if(e9(t))return BigInt(VO(t,!0))}throw dn.rpc.invalidParams(`Not an integer: ${String(t)}`)}function zCe(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw dn.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}function WCe(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}async function qCe(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}async function HCe(t,e){return crypto.subtle.deriveKey({name:"ECDH",public:e},t,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function VCe(t,e){const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.encrypt({name:"AES-GCM",iv:r},t,new TextEncoder().encode(e));return{iv:r,cipherText:n}}async function KCe(t,{iv:e,cipherText:r}){const n=await crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,r);return new TextDecoder().decode(n)}function Eie(t){switch(t){case"public":return"spki";case"private":return"pkcs8"}}async function _ie(t,e){const r=Eie(t),n=await crypto.subtle.exportKey(r,e);return qO(new Uint8Array(n))}async function Aie(t,e){const r=Eie(t),n=Qx(e).buffer;return await crypto.subtle.importKey(r,new Uint8Array(n),{name:"ECDH",namedCurve:"P-256"},!0,t==="private"?["deriveKey"]:[])}async function GCe(t,e){const r=JSON.stringify(t,(n,i)=>{if(!(i instanceof Error))return i;const s=i;return Object.assign(Object.assign({},s.code?{code:s.code}:{}),{message:s.message})});return VCe(e,r)}async function YCe(t,e){return JSON.parse(await KCe(e,t))}const PC={storageKey:"ownPrivateKey",keyType:"private"},NC={storageKey:"ownPublicKey",keyType:"public"},RC={storageKey:"peerPublicKey",keyType:"public"};class ZCe{constructor(){this.storage=new kd("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey(RC,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(NC.storageKey),this.storage.removeItem(PC.storageKey),this.storage.removeItem(RC.storageKey)}async generateKeyPair(){const e=await qCe();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(PC,e.privateKey),await this.storeKey(NC,e.publicKey)}async loadKeysIfNeeded(){if(this.ownPrivateKey===null&&(this.ownPrivateKey=await this.loadKey(PC)),this.ownPublicKey===null&&(this.ownPublicKey=await this.loadKey(NC)),(this.ownPrivateKey===null||this.ownPublicKey===null)&&await this.generateKeyPair(),this.peerPublicKey===null&&(this.peerPublicKey=await this.loadKey(RC)),this.sharedSecret===null){if(this.ownPrivateKey===null||this.peerPublicKey===null)return;this.sharedSecret=await HCe(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(e){const r=this.storage.getItem(e.storageKey);return r?Aie(e.keyType,r):null}async storeKey(e,r){const n=await _ie(e.keyType,r);this.storage.setItem(e.storageKey,n)}}const j5="4.3.2",Sie="@coinbase/wallet-sdk";async function KO(t,e){const r=Object.assign(Object.assign({},t),{jsonrpc:"2.0",id:crypto.randomUUID()}),n=await window.fetch(e,{method:"POST",body:JSON.stringify(r),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":j5,"X-Cbw-Sdk-Platform":Sie}}),{result:i,error:s}=await n.json();if(s)throw s;return i}function QCe(){return globalThis.coinbaseWalletExtension}function JCe(){var t,e;try{const r=globalThis;return(t=r.ethereum)!==null&&t!==void 0?t:(e=r.top)===null||e===void 0?void 0:e.ethereum}catch{return}}function XCe({metadata:t,preference:e}){var r,n;const{appName:i,appLogoUrl:s,appChainIds:o}=t;if(e.options!=="smartWalletOnly"){const l=QCe();if(l)return(r=l.setAppInfo)===null||r===void 0||r.call(l,i,s,o,e),l}const a=JCe();if(a?.isCoinbaseBrowser)return(n=a.setAppInfo)===null||n===void 0||n.call(a,i,s,o,e),a}function eke(t){if(!t||typeof t!="object"||Array.isArray(t))throw dn.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:t});const{method:e,params:r}=t;if(typeof e!="string"||e.length===0)throw dn.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:t});if(r!==void 0&&!Array.isArray(r)&&(typeof r!="object"||r===null))throw dn.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:t});switch(e){case"eth_sign":case"eth_signTypedData_v2":case"eth_subscribe":case"eth_unsubscribe":throw dn.provider.unsupportedMethod()}}const tq="accounts",rq="activeChain",nq="availableChains",iq="walletCapabilities";class tke{constructor(e){var r,n,i;this.metadata=e.metadata,this.communicator=e.communicator,this.callback=e.callback,this.keyManager=new ZCe,this.storage=new kd("CBWSDK","SCWStateManager"),this.accounts=(r=this.storage.loadObject(tq))!==null&&r!==void 0?r:[],this.chain=this.storage.loadObject(rq)||{id:(i=(n=e.metadata.appChainIds)===null||n===void 0?void 0:n[0])!==null&&i!==void 0?i:1},this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(e){var r,n,i,s;await((n=(r=this.communicator).waitForPopupLoaded)===null||n===void 0?void 0:n.call(r));const o=await this.createRequestMessage({handshake:{method:e.method,params:Object.assign({},this.metadata,(i=e.params)!==null&&i!==void 0?i:{})}}),a=await this.communicator.postRequestAndWaitForResponse(o);if("failure"in a.content)throw a.content.failure;const l=await Aie("public",a.sender);await this.keyManager.setPeerPublicKey(l);const c=(await this.decryptResponseMessage(a)).result;if("error"in c)throw c.error;switch(e.method){case"eth_requestAccounts":{const h=c.value;this.accounts=h,this.storage.storeObject(tq,h),(s=this.callback)===null||s===void 0||s.call(this,"accountsChanged",h);break}}}async request(e){var r;if(this.accounts.length===0)switch(e.method){case"wallet_sendCalls":return this.sendRequestToPopup(e);default:throw dn.provider.unauthorized()}switch(e.method){case"eth_requestAccounts":return(r=this.callback)===null||r===void 0||r.call(this,"connect",{chainId:S0(this.chain.id)}),this.accounts;case"eth_accounts":return this.accounts;case"eth_coinbase":return this.accounts[0];case"net_version":return this.chain.id;case"eth_chainId":return S0(this.chain.id);case"wallet_getCapabilities":return this.storage.loadObject(iq);case"wallet_switchEthereumChain":return this.handleSwitchChainRequest(e);case"eth_ecRecover":case"personal_sign":case"wallet_sign":case"personal_ecRecover":case"eth_signTransaction":case"eth_sendTransaction":case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_showCallsStatus":case"wallet_grantPermissions":return this.sendRequestToPopup(e);default:if(!this.chain.rpcUrl)throw dn.rpc.internal("No RPC URL set for chain");return KO(e,this.chain.rpcUrl)}}async sendRequestToPopup(e){var r,n;await((n=(r=this.communicator).waitForPopupLoaded)===null||n===void 0?void 0:n.call(r));const i=await this.sendEncryptedRequest(e),o=(await this.decryptResponseMessage(i)).result;if("error"in o)throw o.error;return o.value}async cleanup(){var e,r;this.storage.clear(),await this.keyManager.clear(),this.accounts=[],this.chain={id:(r=(e=this.metadata.appChainIds)===null||e===void 0?void 0:e[0])!==null&&r!==void 0?r:1}}async handleSwitchChainRequest(e){var r;const n=e.params;if(!n||!(!((r=n[0])===null||r===void 0)&&r.chainId))throw dn.rpc.invalidParams();const i=xb(n[0].chainId);if(this.updateChain(i))return null;const o=await this.sendRequestToPopup(e);return o===null&&this.updateChain(i),o}async sendEncryptedRequest(e){const r=await this.keyManager.getSharedSecret();if(!r)throw dn.provider.unauthorized("No valid session found, try requestAccounts before other methods");const n=await GCe({action:e,chainId:this.chain.id},r),i=await this.createRequestMessage({encrypted:n});return this.communicator.postRequestAndWaitForResponse(i)}async createRequestMessage(e){const r=await _ie("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:r,content:e,timestamp:new Date}}async decryptResponseMessage(e){var r,n;const i=e.content;if("failure"in i)throw i.failure;const s=await this.keyManager.getSharedSecret();if(!s)throw dn.provider.unauthorized("Invalid session");const o=await YCe(i.encrypted,s),a=(r=o.data)===null||r===void 0?void 0:r.chains;if(a){const u=Object.entries(a).map(([c,h])=>({id:Number(c),rpcUrl:h}));this.storage.storeObject(nq,u),this.updateChain(this.chain.id,u)}const l=(n=o.data)===null||n===void 0?void 0:n.capabilities;return l&&this.storage.storeObject(iq,l),o}updateChain(e,r){var n;const i=r??this.storage.loadObject(nq),s=i?.find(o=>o.id===e);return s?(s!==this.chain&&(this.chain=s,this.storage.storeObject(rq,s),(n=this.callback)===null||n===void 0||n.call(this,"chainChanged",S0(s.id))),!0):!1}}const rke=rm(OR);var OC,sq;function Cie(){if(sq)return OC;sq=1;const{keccak_256:t}=rke;function e(y){return kt.allocUnsafe(y).fill(0)}function r(y){return y.toString(2).length}function n(y,b){let E=y.toString(16);E.length%2!==0&&(E="0"+E);const A=E.match(/.{1,2}/g).map(M=>parseInt(M,16));for(;A.length<b;)A.unshift(0);return kt.from(A)}function i(y,b){const E=y<0n;let A;if(E){const M=(1n<<BigInt(b))-1n;A=(~y&M)+1n}else A=y;return A&=(1n<<BigInt(b))-1n,A}function s(y,b,E){const A=e(b);return y=a(y),E?y.length<b?(y.copy(A),A):y.slice(0,b):y.length<b?(y.copy(A,b-y.length),A):y.slice(-b)}function o(y,b){return s(y,b,!0)}function a(y){if(!kt.isBuffer(y))if(Array.isArray(y))y=kt.from(y);else if(typeof y=="string")h(y)?y=kt.from(c(m(y)),"hex"):y=kt.from(y);else if(typeof y=="number")y=intToBuffer(y);else if(y==null)y=kt.allocUnsafe(0);else if(typeof y=="bigint")y=n(y);else if(y.toArray)y=kt.from(y.toArray());else throw new Error("invalid type");return y}function l(y){return y=a(y),"0x"+y.toString("hex")}function u(y,b){if(y=a(y),b||(b=256),b!==256)throw new Error("unsupported");return kt.from(t(new Uint8Array(y)))}function c(y){return y.length%2?"0"+y:y}function h(y){return typeof y=="string"&&y.match(/^0x[0-9A-Fa-f]*$/)}function m(y){return typeof y=="string"&&y.startsWith("0x")?y.slice(2):y}return OC={zeros:e,setLength:s,setLengthRight:o,isHexString:h,stripHexPrefix:m,toBuffer:a,bufferToHex:l,keccak:u,bitLengthFromBigInt:r,bufferBEFromBigInt:n,twosFromBigInt:i},OC}var jC,oq;function nke(){if(oq)return jC;oq=1;const t=Cie();function e(m){return m.startsWith("int[")?"int256"+m.slice(3):m==="int"?"int256":m.startsWith("uint[")?"uint256"+m.slice(4):m==="uint"?"uint256":m.startsWith("fixed[")?"fixed128x128"+m.slice(5):m==="fixed"?"fixed128x128":m.startsWith("ufixed[")?"ufixed128x128"+m.slice(6):m==="ufixed"?"ufixed128x128":m}function r(m){return Number.parseInt(/^\D+(\d+)$/.exec(m)[1],10)}function n(m){var y=/^\D+(\d+)x(\d+)$/.exec(m);return[Number.parseInt(y[1],10),Number.parseInt(y[2],10)]}function i(m){var y=m.match(/(.*)\[(.*?)\]$/);return y?y[2]===""?"dynamic":Number.parseInt(y[2],10):null}function s(m){var y=typeof m;if(y==="string"||y==="number")return BigInt(m);if(y==="bigint")return m;throw new Error("Argument is not a number")}function o(m,y){var b,E,A,M;if(m==="address")return o("uint160",s(y));if(m==="bool")return o("uint8",y?1:0);if(m==="string")return o("bytes",new kt(y,"utf8"));if(l(m)){if(typeof y.length>"u")throw new Error("Not an array?");if(b=i(m),b!=="dynamic"&&b!==0&&y.length>b)throw new Error("Elements exceed array size: "+b);A=[],m=m.slice(0,m.lastIndexOf("[")),typeof y=="string"&&(y=JSON.parse(y));for(M in y)A.push(o(m,y[M]));if(b==="dynamic"){var O=o("uint256",y.length);A.unshift(O)}return kt.concat(A)}else{if(m==="bytes")return y=new kt(y),A=kt.concat([o("uint256",y.length),y]),y.length%32!==0&&(A=kt.concat([A,t.zeros(32-y.length%32)])),A;if(m.startsWith("bytes")){if(b=r(m),b<1||b>32)throw new Error("Invalid bytes<N> width: "+b);return t.setLengthRight(y,32)}else if(m.startsWith("uint")){if(b=r(m),b%8||b<8||b>256)throw new Error("Invalid uint<N> width: "+b);E=s(y);const P=t.bitLengthFromBigInt(E);if(P>b)throw new Error("Supplied uint exceeds width: "+b+" vs "+P);if(E<0)throw new Error("Supplied uint is negative");return t.bufferBEFromBigInt(E,32)}else if(m.startsWith("int")){if(b=r(m),b%8||b<8||b>256)throw new Error("Invalid int<N> width: "+b);E=s(y);const P=t.bitLengthFromBigInt(E);if(P>b)throw new Error("Supplied int exceeds width: "+b+" vs "+P);const z=t.twosFromBigInt(E,256);return t.bufferBEFromBigInt(z,32)}else if(m.startsWith("ufixed")){if(b=n(m),E=s(y),E<0)throw new Error("Supplied ufixed is negative");return o("uint256",E*BigInt(2)**BigInt(b[1]))}else if(m.startsWith("fixed"))return b=n(m),o("int256",s(y)*BigInt(2)**BigInt(b[1]))}throw new Error("Unsupported or invalid type: "+m)}function a(m){return m==="string"||m==="bytes"||i(m)==="dynamic"}function l(m){return m.lastIndexOf("]")===m.length-1}function u(m,y){var b=[],E=[],A=32*m.length;for(var M in m){var O=e(m[M]),P=y[M],z=o(O,P);a(O)?(b.push(o("uint256",A)),E.push(z),A+=z.length):b.push(z)}return kt.concat(b.concat(E))}function c(m,y){if(m.length!==y.length)throw new Error("Number of types are not matching the values");for(var b,E,A=[],M=0;M<m.length;M++){var O=e(m[M]),P=y[M];if(O==="bytes")A.push(P);else if(O==="string")A.push(new kt(P,"utf8"));else if(O==="bool")A.push(new kt(P?"01":"00","hex"));else if(O==="address")A.push(t.setLength(P,20));else if(O.startsWith("bytes")){if(b=r(O),b<1||b>32)throw new Error("Invalid bytes<N> width: "+b);A.push(t.setLengthRight(P,b))}else if(O.startsWith("uint")){if(b=r(O),b%8||b<8||b>256)throw new Error("Invalid uint<N> width: "+b);E=s(P);const z=t.bitLengthFromBigInt(E);if(z>b)throw new Error("Supplied uint exceeds width: "+b+" vs "+z);A.push(t.bufferBEFromBigInt(E,b/8))}else if(O.startsWith("int")){if(b=r(O),b%8||b<8||b>256)throw new Error("Invalid int<N> width: "+b);E=s(P);const z=t.bitLengthFromBigInt(E);if(z>b)throw new Error("Supplied int exceeds width: "+b+" vs "+z);const L=t.twosFromBigInt(E,b);A.push(t.bufferBEFromBigInt(L,b/8))}else throw new Error("Unsupported or invalid type: "+O)}return kt.concat(A)}function h(m,y){return t.keccak(c(m,y))}return jC={rawEncode:u,solidityPack:c,soliditySHA3:h},jC}var LC,aq;function ike(){if(aq)return LC;aq=1;const t=Cie(),e=nke(),r={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},n={encodeData(s,o,a,l=!0){const u=["bytes32"],c=[this.hashType(s,a)];if(l){const h=(m,y,b)=>{if(a[y]!==void 0)return["bytes32",b==null?"0x0000000000000000000000000000000000000000000000000000000000000000":t.keccak(this.encodeData(y,b,a,l))];if(b===void 0)throw new Error(`missing value for field ${m} of type ${y}`);if(y==="bytes")return["bytes32",t.keccak(b)];if(y==="string")return typeof b=="string"&&(b=kt.from(b,"utf8")),["bytes32",t.keccak(b)];if(y.lastIndexOf("]")===y.length-1){const E=y.slice(0,y.lastIndexOf("[")),A=b.map(M=>h(m,E,M));return["bytes32",t.keccak(e.rawEncode(A.map(([M])=>M),A.map(([,M])=>M)))]}return[y,b]};for(const m of a[s]){const[y,b]=h(m.name,m.type,o[m.name]);u.push(y),c.push(b)}}else for(const h of a[s]){let m=o[h.name];if(m!==void 0)if(h.type==="bytes")u.push("bytes32"),m=t.keccak(m),c.push(m);else if(h.type==="string")u.push("bytes32"),typeof m=="string"&&(m=kt.from(m,"utf8")),m=t.keccak(m),c.push(m);else if(a[h.type]!==void 0)u.push("bytes32"),m=t.keccak(this.encodeData(h.type,m,a,l)),c.push(m);else{if(h.type.lastIndexOf("]")===h.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");u.push(h.type),c.push(m)}}return e.rawEncode(u,c)},encodeType(s,o){let a="",l=this.findTypeDependencies(s,o).filter(u=>u!==s);l=[s].concat(l.sort());for(const u of l){if(!o[u])throw new Error("No type definition specified: "+u);a+=u+"("+o[u].map(({name:h,type:m})=>m+" "+h).join(",")+")"}return a},findTypeDependencies(s,o,a=[]){if(s=s.match(/^\w*/)[0],a.includes(s)||o[s]===void 0)return a;a.push(s);for(const l of o[s])for(const u of this.findTypeDependencies(l.type,o,a))!a.includes(u)&&a.push(u);return a},hashStruct(s,o,a,l=!0){return t.keccak(this.encodeData(s,o,a,l))},hashType(s,o){return t.keccak(this.encodeType(s,o))},sanitizeData(s){const o={};for(const a in r.properties)s[a]&&(o[a]=s[a]);return o.types&&(o.types=Object.assign({EIP712Domain:[]},o.types)),o},hash(s,o=!0){const a=this.sanitizeData(s),l=[kt.from("1901","hex")];return l.push(this.hashStruct("EIP712Domain",a.domain,a.types,o)),a.primaryType!=="EIP712Domain"&&l.push(this.hashStruct(a.primaryType,a.message,a.types,o)),t.keccak(kt.concat(l))}};LC={TYPED_MESSAGE_SCHEMA:r,TypedDataUtils:n,hashForSignTypedDataLegacy:function(s){return i(s.data)},hashForSignTypedData_v3:function(s){return n.hash(s.data,!1)},hashForSignTypedData_v4:function(s){return n.hash(s.data)}};function i(s){const o=new Error("Expect argument to be non-empty array");if(typeof s!="object"||!s.length)throw o;const a=s.map(function(c){return c.type==="bytes"?t.toBuffer(c.value):c.value}),l=s.map(function(c){return c.type}),u=s.map(function(c){if(!c.name)throw o;return c.type+" "+c.name});return e.soliditySHA3(["bytes32","bytes32"],[e.soliditySHA3(new Array(s.length).fill("string"),u),e.soliditySHA3(l,a)])}return LC}var ske=ike();const R4=ds(ske),oke="walletUsername",AM="Addresses",ake="AppVersion";function Ws(t){return t.errorMessage!==void 0}class lke{constructor(e){this.secret=e}async encrypt(e){const r=this.secret;if(r.length!==64)throw Error("secret must be 256 bits");const n=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.importKey("raw",Qx(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=new TextEncoder,o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:n},i,s.encode(e)),a=16,l=o.slice(o.byteLength-a),u=o.slice(0,o.byteLength-a),c=new Uint8Array(l),h=new Uint8Array(u),m=new Uint8Array([...n,...c,...h]);return qO(m)}async decrypt(e){const r=this.secret;if(r.length!==64)throw Error("secret must be 256 bits");return new Promise((n,i)=>{(async function(){const s=await crypto.subtle.importKey("raw",Qx(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]),o=Qx(e),a=o.slice(0,12),l=o.slice(12,28),u=o.slice(28),c=new Uint8Array([...u,...l]),h={name:"AES-GCM",iv:new Uint8Array(a)};try{const m=await window.crypto.subtle.decrypt(h,s,c),y=new TextDecoder;n(y.decode(m))}catch(m){i(m)}})()})}}class cke{constructor(e,r,n){this.linkAPIUrl=e,this.sessionId=r;const i=`${r}:${n}`;this.auth=`Basic ${btoa(i)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(r=>fetch(`${this.linkAPIUrl}/events/${r.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(r=>console.error("Unabled to mark event as failed:",r))}async fetchUnseenEvents(){var e;const r=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(r.ok){const{events:n,error:i}=await r.json();if(i)throw new Error(`Check unseen events failed: ${i}`);const s=(e=n?.filter(o=>o.event==="Web3Response").map(o=>({type:"Event",sessionId:this.sessionId,eventId:o.id,event:o.event,data:o.data})))!==null&&e!==void 0?e:[];return this.markUnseenEventsAsSeen(s),s}throw new Error(`Check unseen events failed: ${r.status}`)}}var Ch;(function(t){t[t.DISCONNECTED=0]="DISCONNECTED",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED"})(Ch||(Ch={}));class uke{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,r=WebSocket){this.WebSocketClass=r,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((e,r)=>{var n;let i;try{this.webSocket=i=new this.WebSocketClass(this.url)}catch(s){r(s);return}(n=this.connectionStateListener)===null||n===void 0||n.call(this,Ch.CONNECTING),i.onclose=s=>{var o;this.clearWebSocket(),r(new Error(`websocket error ${s.code}: ${s.reason}`)),(o=this.connectionStateListener)===null||o===void 0||o.call(this,Ch.DISCONNECTED)},i.onopen=s=>{var o;e(),(o=this.connectionStateListener)===null||o===void 0||o.call(this,Ch.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(l=>this.sendData(l)),this.pendingData=[])},i.onmessage=s=>{var o,a;if(s.data==="h")(o=this.incomingDataListener)===null||o===void 0||o.call(this,{type:"Heartbeat"});else try{const l=JSON.parse(s.data);(a=this.incomingDataListener)===null||a===void 0||a.call(this,l)}catch{}}})}disconnect(){var e;const{webSocket:r}=this;if(r){this.clearWebSocket(),(e=this.connectionStateListener)===null||e===void 0||e.call(this,Ch.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{r.close()}catch{}}}sendData(e){const{webSocket:r}=this;if(!r){this.pendingData.push(e),this.connect();return}r.send(e)}clearWebSocket(){const{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}const lq=1e4,dke=6e4;class hke{constructor({session:e,linkAPIUrl:r,listener:n}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=mh(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=s=>{if(!s)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",a=>s.JsonRpcUrl&&this.handleChainUpdated(a,s.JsonRpcUrl)]]).forEach((a,l)=>{const u=s[l];u!==void 0&&a(u)})},this.handleDestroyed=s=>{var o;s==="1"&&((o=this.listener)===null||o===void 0||o.resetAndReload())},this.handleAccountUpdated=async s=>{var o;const a=await this.cipher.decrypt(s);(o=this.listener)===null||o===void 0||o.accountUpdated(a)},this.handleMetadataUpdated=async(s,o)=>{var a;const l=await this.cipher.decrypt(o);(a=this.listener)===null||a===void 0||a.metadataUpdated(s,l)},this.handleWalletUsernameUpdated=async s=>{this.handleMetadataUpdated(oke,s)},this.handleAppVersionUpdated=async s=>{this.handleMetadataUpdated(ake,s)},this.handleChainUpdated=async(s,o)=>{var a;const l=await this.cipher.decrypt(s),u=await this.cipher.decrypt(o);(a=this.listener)===null||a===void 0||a.chainUpdated(l,u)},this.session=e,this.cipher=new lke(e.secret),this.listener=n;const i=new uke(`${r}/rpc`,WebSocket);i.setConnectionStateListener(async s=>{let o=!1;switch(s){case Ch.DISCONNECTED:if(!this.destroyed){const a=async()=>{await new Promise(l=>setTimeout(l,5e3)),this.destroyed||i.connect().catch(()=>{a()})};a()}break;case Ch.CONNECTED:o=await this.handleConnected(),this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},lq),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case Ch.CONNECTING:break}this.connected!==o&&(this.connected=o)}),i.setIncomingDataListener(s=>{var o;switch(s.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const a=s.type==="IsLinkedOK"?s.linked:void 0;this.linked=a||s.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{this.handleSessionMetadataUpdated(s.metadata);break}case"Event":{this.handleIncomingEvent(s);break}}s.id!==void 0&&((o=this.requestResolutions.get(s.id))===null||o===void 0||o(s))}),this.ws=i,this.http=new cke(r,e.id,e.key)}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.ws.connect()}async destroy(){this.destroyed||(await this.makeRequest({type:"SetSessionConfig",id:mh(this.nextReqId++),sessionId:this.session.id,metadata:{__destroyed:"1"}},{timeout:1e3}),this.destroyed=!0,this.ws.disconnect(),this.listener=void 0)}get connected(){return this._connected}set connected(e){this._connected=e}get linked(){return this._linked}set linked(e){var r,n;this._linked=e,e&&((r=this.onceLinked)===null||r===void 0||r.call(this)),(n=this.listener)===null||n===void 0||n.linkedUpdated(e)}setOnceLinked(e){return new Promise(r=>{this.linked?e().then(r):this.onceLinked=()=>{e().then(r),this.onceLinked=void 0}})}async handleIncomingEvent(e){var r;if(e.type!=="Event"||e.event!=="Web3Response")return;const n=await this.cipher.decrypt(e.data),i=JSON.parse(n);if(i.type!=="WEB3_RESPONSE")return;const{id:s,response:o}=i;(r=this.listener)===null||r===void 0||r.handleWeb3ResponseMessage(s,o)}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(r=>this.handleIncomingEvent(r))}async publishEvent(e,r,n=!1){const i=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin,location:location.href,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),s={type:"PublishEvent",id:mh(this.nextReqId++),sessionId:this.session.id,event:e,data:i,callWebhook:n};return this.setOnceLinked(async()=>{const o=await this.makeRequest(s);if(o.type==="Fail")throw new Error(o.error||"failed to publish event");return o.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>lq*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(e,r={timeout:dke}){const n=e.id;this.sendData(e);let i;return Promise.race([new Promise((s,o)=>{i=window.setTimeout(()=>{o(new Error(`request ${n} timed out`))},r.timeout)}),new Promise(s=>{this.requestResolutions.set(n,o=>{clearTimeout(i),s(o),this.requestResolutions.delete(n)})})])}async handleConnected(){return(await this.makeRequest({type:"HostSession",id:mh(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key})).type==="Fail"?!1:(this.sendData({type:"IsLinked",id:mh(this.nextReqId++),sessionId:this.session.id}),this.sendData({type:"GetSessionConfig",id:mh(this.nextReqId++),sessionId:this.session.id}),!0)}}class fke{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=xie(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}const cq="session:id",uq="session:secret",dq="session:linked";class _y{constructor(e,r,n,i=!1){this.storage=e,this.id=r,this.secret=n,this.key=NR(Ly()),this._linked=!!i}static create(e){const r=Vp(16),n=Vp(32);return new _y(e,r,n).save()}static load(e){const r=e.getItem(cq),n=e.getItem(dq),i=e.getItem(uq);return r&&i?new _y(e,r,i,n==="1"):null}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this.storage.setItem(cq,this.id),this.storage.setItem(uq,this.secret),this.persistLinked(),this}persistLinked(){this.storage.setItem(dq,this._linked?"1":"0")}}function pke(){try{return window.frameElement!==null}catch{return!1}}function gke(){try{return pke()&&window.top?window.top.location:window.location}catch{return window.location}}function mke(){var t;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((t=window?.navigator)===null||t===void 0?void 0:t.userAgent)}function kie(){var t,e;return(e=(t=window?.matchMedia)===null||t===void 0?void 0:t.call(window,"(prefers-color-scheme: dark)").matches)!==null&&e!==void 0?e:!1}const yke='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';function Iie(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(yke)),document.documentElement.appendChild(t)}function Tie(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=Tie(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function Eb(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=Tie(t))&&(n&&(n+=" "),n+=e);return n}var t9,oi,$ie,Kp,hq,Mie,SM,GO,CM,kM,W3={},Pie=[],wke=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,YO=Array.isArray;function C0(t,e){for(var r in e)t[r]=e[r];return t}function Nie(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Bn(t,e,r){var n,i,s,o={};for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?t9.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return Jx(t,o,n,i,null)}function Jx(t,e,r,n,i){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++$ie,__i:-1,__u:0};return i==null&&oi.vnode!=null&&oi.vnode(s),s}function r9(t){return t.children}function Xx(t,e){this.props=t,this.context=e}function Hy(t,e){if(e==null)return t.__?Hy(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?Hy(t):null}function Rie(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return Rie(t)}}function fq(t){(!t.__d&&(t.__d=!0)&&Kp.push(t)&&!J8.__r++||hq!==oi.debounceRendering)&&((hq=oi.debounceRendering)||Mie)(J8)}function J8(){var t,e,r,n,i,s,o,a;for(Kp.sort(SM);t=Kp.shift();)t.__d&&(e=Kp.length,n=void 0,s=(i=(r=t).__v).__e,o=[],a=[],r.__P&&((n=C0({},i)).__v=i.__v+1,oi.vnode&&oi.vnode(n),ZO(r.__P,n,i,r.__n,r.__P.namespaceURI,32&i.__u?[s]:null,o,s??Hy(i),!!(32&i.__u),a),n.__v=i.__v,n.__.__k[n.__i]=n,Lie(o,n,a),n.__e!=s&&Rie(n)),Kp.length>e&&Kp.sort(SM));J8.__r=0}function Oie(t,e,r,n,i,s,o,a,l,u,c){var h,m,y,b,E,A=n&&n.__k||Pie,M=e.length;for(r.__d=l,vke(r,e,A),l=r.__d,h=0;h<M;h++)(y=r.__k[h])!=null&&(m=y.__i===-1?W3:A[y.__i]||W3,y.__i=h,ZO(t,y,m,i,s,o,a,l,u,c),b=y.__e,y.ref&&m.ref!=y.ref&&(m.ref&&QO(m.ref,null,y),c.push(y.ref,y.__c||b,y)),E==null&&b!=null&&(E=b),65536&y.__u||m.__k===y.__k?l=jie(y,l,t):typeof y.type=="function"&&y.__d!==void 0?l=y.__d:b&&(l=b.nextSibling),y.__d=void 0,y.__u&=-196609);r.__d=l,r.__e=E}function vke(t,e,r){var n,i,s,o,a,l=e.length,u=r.length,c=u,h=0;for(t.__k=[],n=0;n<l;n++)(i=e[n])!=null&&typeof i!="boolean"&&typeof i!="function"?(o=n+h,(i=t.__k[n]=typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?Jx(null,i,null,null,null):YO(i)?Jx(r9,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?Jx(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=t,i.__b=t.__b+1,s=null,(a=i.__i=bke(i,r,o,c))!==-1&&(c--,(s=r[a])&&(s.__u|=131072)),s==null||s.__v===null?(a==-1&&h--,typeof i.type!="function"&&(i.__u|=65536)):a!==o&&(a==o-1?h--:a==o+1?h++:(a>o?h--:h++,i.__u|=65536))):i=t.__k[n]=null;if(c)for(n=0;n<u;n++)(s=r[n])!=null&&(131072&s.__u)==0&&(s.__e==t.__d&&(t.__d=Hy(s)),Die(s,s))}function jie(t,e,r){var n,i;if(typeof t.type=="function"){for(n=t.__k,i=0;n&&i<n.length;i++)n[i]&&(n[i].__=t,e=jie(n[i],e,r));return e}t.__e!=e&&(e&&t.type&&!r.contains(e)&&(e=Hy(t)),r.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function bke(t,e,r,n){var i=t.key,s=t.type,o=r-1,a=r+1,l=e[r];if(l===null||l&&i==l.key&&s===l.type&&(131072&l.__u)==0)return r;if(n>(l!=null&&(131072&l.__u)==0?1:0))for(;o>=0||a<e.length;){if(o>=0){if((l=e[o])&&(131072&l.__u)==0&&i==l.key&&s===l.type)return o;o--}if(a<e.length){if((l=e[a])&&(131072&l.__u)==0&&i==l.key&&s===l.type)return a;a++}}return-1}function pq(t,e,r){e[0]==="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||wke.test(e)?r:r+"px"}function O4(t,e,r,n,i){var s;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||pq(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||pq(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?n?r.u=n.u:(r.u=GO,t.addEventListener(e,s?kM:CM,s)):t.removeEventListener(e,s?kM:CM,s);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&r==1?"":r))}}function gq(t){return function(e){if(this.l){var r=this.l[e.type+t];if(e.t==null)e.t=GO++;else if(e.t<r.u)return;return r(oi.event?oi.event(e):e)}}}function ZO(t,e,r,n,i,s,o,a,l,u){var c,h,m,y,b,E,A,M,O,P,z,L,W,H,G,N,F=e.type;if(e.constructor!==void 0)return null;128&r.__u&&(l=!!(32&r.__u),s=[a=e.__e=r.__e]),(c=oi.__b)&&c(e);e:if(typeof F=="function")try{if(M=e.props,O="prototype"in F&&F.prototype.render,P=(c=F.contextType)&&n[c.__c],z=c?P?P.props.value:c.__:n,r.__c?A=(h=e.__c=r.__c).__=h.__E:(O?e.__c=h=new F(M,z):(e.__c=h=new Xx(M,z),h.constructor=F,h.render=Eke),P&&P.sub(h),h.props=M,h.state||(h.state={}),h.context=z,h.__n=n,m=h.__d=!0,h.__h=[],h._sb=[]),O&&h.__s==null&&(h.__s=h.state),O&&F.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=C0({},h.__s)),C0(h.__s,F.getDerivedStateFromProps(M,h.__s))),y=h.props,b=h.state,h.__v=e,m)O&&F.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),O&&h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(O&&F.getDerivedStateFromProps==null&&M!==y&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(M,z),!h.__e&&(h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(M,h.__s,z)===!1||e.__v===r.__v)){for(e.__v!==r.__v&&(h.props=M,h.state=h.__s,h.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(U){U&&(U.__=e)}),L=0;L<h._sb.length;L++)h.__h.push(h._sb[L]);h._sb=[],h.__h.length&&o.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(M,h.__s,z),O&&h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(y,b,E)})}if(h.context=z,h.props=M,h.__P=t,h.__e=!1,W=oi.__r,H=0,O){for(h.state=h.__s,h.__d=!1,W&&W(e),c=h.render(h.props,h.state,h.context),G=0;G<h._sb.length;G++)h.__h.push(h._sb[G]);h._sb=[]}else do h.__d=!1,W&&W(e),c=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++H<25);h.state=h.__s,h.getChildContext!=null&&(n=C0(C0({},n),h.getChildContext())),O&&!m&&h.getSnapshotBeforeUpdate!=null&&(E=h.getSnapshotBeforeUpdate(y,b)),Oie(t,YO(N=c!=null&&c.type===r9&&c.key==null?c.props.children:c)?N:[N],e,r,n,i,s,o,a,l,u),h.base=e.__e,e.__u&=-161,h.__h.length&&o.push(h),A&&(h.__E=h.__=null)}catch(U){if(e.__v=null,l||s!=null){for(e.__u|=l?160:32;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;s[s.indexOf(a)]=null,e.__e=a}else e.__e=r.__e,e.__k=r.__k;oi.__e(U,e,r)}else s==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=xke(r.__e,e,r,n,i,s,o,l,u);(c=oi.diffed)&&c(e)}function Lie(t,e,r){e.__d=void 0;for(var n=0;n<r.length;n++)QO(r[n],r[++n],r[++n]);oi.__c&&oi.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){oi.__e(s,i.__v)}})}function xke(t,e,r,n,i,s,o,a,l){var u,c,h,m,y,b,E,A=r.props,M=e.props,O=e.type;if(O==="svg"?i="http://www.w3.org/2000/svg":O==="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(u=0;u<s.length;u++)if((y=s[u])&&"setAttribute"in y==!!O&&(O?y.localName===O:y.nodeType===3)){t=y,s[u]=null;break}}if(t==null){if(O===null)return document.createTextNode(M);t=document.createElementNS(i,O,M.is&&M),a&&(oi.__m&&oi.__m(e,s),a=!1),s=null}if(O===null)A===M||a&&t.data===M||(t.data=M);else{if(s=s&&t9.call(t.childNodes),A=r.props||W3,!a&&s!=null)for(A={},u=0;u<t.attributes.length;u++)A[(y=t.attributes[u]).name]=y.value;for(u in A)if(y=A[u],u!="children"){if(u=="dangerouslySetInnerHTML")h=y;else if(!(u in M)){if(u=="value"&&"defaultValue"in M||u=="checked"&&"defaultChecked"in M)continue;O4(t,u,null,y,i)}}for(u in M)y=M[u],u=="children"?m=y:u=="dangerouslySetInnerHTML"?c=y:u=="value"?b=y:u=="checked"?E=y:a&&typeof y!="function"||A[u]===y||O4(t,u,y,A[u],i);if(c)a||h&&(c.__html===h.__html||c.__html===t.innerHTML)||(t.innerHTML=c.__html),e.__k=[];else if(h&&(t.innerHTML=""),Oie(t,YO(m)?m:[m],e,r,n,O==="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,o,s?s[0]:r.__k&&Hy(r,0),a,l),s!=null)for(u=s.length;u--;)Nie(s[u]);a||(u="value",O==="progress"&&b==null?t.removeAttribute("value"):b!==void 0&&(b!==t[u]||O==="progress"&&!b||O==="option"&&b!==A[u])&&O4(t,u,b,A[u],i),u="checked",E!==void 0&&E!==t[u]&&O4(t,u,E,A[u],i))}return t}function QO(t,e,r){try{if(typeof t=="function"){var n=typeof t.__u=="function";n&&t.__u(),n&&e==null||(t.__u=t(e))}else t.current=e}catch(i){oi.__e(i,r)}}function Die(t,e,r){var n,i;if(oi.unmount&&oi.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||QO(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){oi.__e(s,e)}n.base=n.__P=null}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&Die(n[i],e,r||typeof t.type!="function");r||Nie(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function Eke(t,e,r){return this.constructor(t,r)}function IM(t,e,r){var n,i,s,o;oi.__&&oi.__(t,e),i=(n=!1)?null:e.__k,s=[],o=[],ZO(e,t=e.__k=Bn(r9,null,[t]),i||W3,W3,e.namespaceURI,i?null:e.firstChild?t9.call(e.childNodes):null,s,i?i.__e:e.firstChild,n,o),Lie(s,t,o)}t9=Pie.slice,oi={__e:function(t,e,r,n){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},$ie=0,Xx.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=C0({},this.state),typeof t=="function"&&(t=t(C0({},r),this.props)),t&&C0(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),fq(this))},Xx.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),fq(this))},Xx.prototype.render=r9,Kp=[],Mie=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,SM=function(t,e){return t.__v.__b-e.__v.__b},J8.__r=0,GO=0,CM=gq(!1),kM=gq(!0);var q3,ji,DC,mq,TM=0,Bie=[],Vi=oi,yq=Vi.__b,wq=Vi.__r,vq=Vi.diffed,bq=Vi.__c,xq=Vi.unmount,Eq=Vi.__;function JO(t,e){Vi.__h&&Vi.__h(ji,t,TM||e),TM=0;var r=ji.__H||(ji.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function _q(t){return TM=1,_ke(Fie,t)}function _ke(t,e,r){var n=JO(q3++,2);if(n.t=t,!n.__c&&(n.__=[Fie(void 0,e),function(a){var l=n.__N?n.__N[0]:n.__[0],u=n.t(l,a);l!==u&&(n.__N=[u,n.__[1]],n.__c.setState({}))}],n.__c=ji,!ji.u)){var i=function(a,l,u){if(!n.__c.__H)return!0;var c=n.__c.__H.__.filter(function(m){return!!m.__c});if(c.every(function(m){return!m.__N}))return!s||s.call(this,a,l,u);var h=!1;return c.forEach(function(m){if(m.__N){var y=m.__[0];m.__=m.__N,m.__N=void 0,y!==m.__[0]&&(h=!0)}}),!(!h&&n.__c.props===a)&&(!s||s.call(this,a,l,u))};ji.u=!0;var s=ji.shouldComponentUpdate,o=ji.componentWillUpdate;ji.componentWillUpdate=function(a,l,u){if(this.__e){var c=s;s=void 0,i(a,l,u),s=c}o&&o.call(this,a,l,u)},ji.shouldComponentUpdate=i}return n.__N||n.__}function Ake(t,e){var r=JO(q3++,3);!Vi.__s&&Uie(r.__H,e)&&(r.__=t,r.i=e,ji.__H.__h.push(r))}function c5t(t,e){var r=JO(q3++,7);return Uie(r.__H,e)&&(r.__=t(),r.__H=e,r.__h=t),r.__}function Ske(){for(var t;t=Bie.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(e8),t.__H.__h.forEach($M),t.__H.__h=[]}catch(e){t.__H.__h=[],Vi.__e(e,t.__v)}}Vi.__b=function(t){ji=null,yq&&yq(t)},Vi.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Eq&&Eq(t,e)},Vi.__r=function(t){wq&&wq(t),q3=0;var e=(ji=t.__c).__H;e&&(DC===ji?(e.__h=[],ji.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.i=r.__N=void 0})):(e.__h.forEach(e8),e.__h.forEach($M),e.__h=[],q3=0)),DC=ji},Vi.diffed=function(t){vq&&vq(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Bie.push(e)!==1&&mq===Vi.requestAnimationFrame||((mq=Vi.requestAnimationFrame)||Cke)(Ske)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.i=void 0})),DC=ji=null},Vi.__c=function(t,e){e.some(function(r){try{r.__h.forEach(e8),r.__h=r.__h.filter(function(n){return!n.__||$M(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],Vi.__e(n,r.__v)}}),bq&&bq(t,e)},Vi.unmount=function(t){xq&&xq(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{e8(n)}catch(i){e=i}}),r.__H=void 0,e&&Vi.__e(e,r.__v))};var Aq=typeof requestAnimationFrame=="function";function Cke(t){var e,r=function(){clearTimeout(n),Aq&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);Aq&&(e=requestAnimationFrame(r))}function e8(t){var e=ji,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),ji=e}function $M(t){var e=ji;t.__c=t.__(),ji=e}function Uie(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function Fie(t,e){return typeof e=="function"?e(t):e}const kke=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}",Ike="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",Tke="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class zie{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=kie()}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){const r=this.nextItemKey++;return this.items.set(r,e),this.render(),()=>{this.items.delete(r),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&IM(Bn("div",null,Bn(Wie,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([e,r])=>Bn($ke,Object.assign({},r,{key:e}))))),this.root)}}const Wie=t=>Bn("div",{class:Eb("-cbwsdk-snackbar-container")},Bn("style",null,kke),Bn("div",{class:"-cbwsdk-snackbar"},t.children)),$ke=({autoExpand:t,message:e,menuItems:r})=>{const[n,i]=_q(!0),[s,o]=_q(t??!1);Ake(()=>{const l=[window.setTimeout(()=>{i(!1)},1),window.setTimeout(()=>{o(!0)},1e4)];return()=>{l.forEach(window.clearTimeout)}});const a=()=>{o(!s)};return Bn("div",{class:Eb("-cbwsdk-snackbar-instance",n&&"-cbwsdk-snackbar-instance-hidden",s&&"-cbwsdk-snackbar-instance-expanded")},Bn("div",{class:"-cbwsdk-snackbar-instance-header",onClick:a},Bn("img",{src:Ike,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",Bn("div",{class:"-cbwsdk-snackbar-instance-header-message"},e),Bn("div",{class:"-gear-container"},!s&&Bn("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Bn("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),Bn("img",{src:Tke,class:"-gear-icon",title:"Expand"}))),r&&r.length>0&&Bn("div",{class:"-cbwsdk-snackbar-instance-menu"},r.map((l,u)=>Bn("div",{class:Eb("-cbwsdk-snackbar-instance-menu-item",l.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:l.onClick,key:u},Bn("svg",{width:l.svgWidth,height:l.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Bn("path",{"fill-rule":l.defaultFillRule,"clip-rule":l.defaultClipRule,d:l.path,fill:"#AAAAAA"})),Bn("span",{class:Eb("-cbwsdk-snackbar-instance-menu-item-info",l.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},l.info)))))},qie="M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z";class Mke{constructor(){this.attached=!1,this.snackbar=new zie}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.snackbar.attach(r),this.attached=!0,Iie()}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:qie,defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}}const Pke=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";class Nke{constructor(){this.root=null,this.darkMode=kie()}attach(){const e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),Iie()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&(IM(null,this.root),e&&IM(Bn(Rke,Object.assign({},e,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}}const Rke=({title:t,buttonText:e,darkMode:r,onButtonClick:n,onDismiss:i})=>{const s=r?"dark":"light";return Bn(Wie,{darkMode:r},Bn("div",{class:"-cbwsdk-redirect-dialog"},Bn("style",null,Pke),Bn("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),Bn("div",{class:Eb("-cbwsdk-redirect-dialog-box",s)},Bn("p",null,t),Bn("button",{onClick:n},e))))},Oke="https://keys.coinbase.com/connect",jke="https://rpc.wallet.coinbase.com",Sq="https://www.walletlink.org",Lke="https://go.cb-w.com/walletlink";class Cq{constructor(){this.attached=!1,this.redirectDialog=new Nke}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(e){const r=new URL(Lke);r.searchParams.append("redirect_url",gke().href),e&&r.searchParams.append("wl_url",e);const n=document.createElement("a");n.target="cbw-opener",n.href=r.href,n.rel="noreferrer noopener",n.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}}class yh{constructor(e){this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.isMobileWeb=mke(),this.linkedUpdated=s=>{this.isLinked=s;const o=this.storage.getItem(AM);if(s&&(this._session.linked=s),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),l=this.storage.getItem("IsStandaloneSigning")==="true";a[0]!==""&&!s&&this._session.linked&&!l&&(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(s,o)=>{this.storage.setItem(s,o)},this.chainUpdated=(s,o)=>{this.chainCallbackParams.chainId===s&&this.chainCallbackParams.jsonRpcUrl===o||(this.chainCallbackParams={chainId:s,jsonRpcUrl:o},this.chainCallback&&this.chainCallback(o,Number.parseInt(s,10)))},this.accountUpdated=s=>{this.accountsCallback&&this.accountsCallback([s]),yh.accountRequestCallbackIds.size>0&&(Array.from(yh.accountRequestCallbackIds.values()).forEach(o=>{this.invokeCallback(o,{method:"requestEthereumAccounts",result:[s]})}),yh.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.metadata=e.metadata,this.accountsCallback=e.accountsCallback,this.chainCallback=e.chainCallback;const{session:r,ui:n,connection:i}=this.subscribe();this._session=r,this.connection=i,this.relayEventManager=new fke,this.ui=n,this.ui.attach()}subscribe(){const e=_y.load(this.storage)||_y.create(this.storage),{linkAPIUrl:r}=this,n=new hke({session:e,linkAPIUrl:r,listener:this}),i=this.isMobileWeb?new Cq:new Mke;return n.connect(),{session:e,ui:i,connection:n}}resetAndReload(){this.connection.destroy().then(()=>{const e=_y.load(this.storage);e?.id===this._session.id&&kd.clearAll(),document.location.reload()}).catch(e=>{})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:Fu(e.weiValue),data:bb(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?Fu(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?Fu(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?Fu(e.gasPriceInWei):null,gasLimit:e.gasLimit?Fu(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:Fu(e.weiValue),data:bb(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?Fu(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?Fu(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?Fu(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?Fu(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:bb(e,!0),chainId:r}})}getWalletLinkSession(){return this._session}sendRequest(e){let r=null;const n=Vp(8),i=s=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,s),r?.()};return new Promise((s,o)=>{r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(n,a=>{if(r?.(),Ws(a))return o(new Error(a.errorMessage));s(a)}),this.publishWeb3RequestEvent(n,e)})}publishWeb3RequestEvent(e,r){const n={type:"WEB3_REQUEST",id:e,request:r};this.publishEvent("Web3Request",n,!0).then(i=>{}).catch(i=>{this.handleWeb3ResponseMessage(n.id,{method:r.method,errorMessage:i.message})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(r.method)}openCoinbaseWalletDeeplink(e){if(this.ui instanceof Cq)switch(e){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink();break}}publishWeb3RequestCanceledEvent(e){const r={type:"WEB3_REQUEST_CANCELED",id:e};this.publishEvent("Web3RequestCanceled",r,!1).then()}publishEvent(e,r,n){return this.connection.publishEvent(e,r,n)}handleWeb3ResponseMessage(e,r){if(r.method==="requestEthereumAccounts"){yh.accountRequestCallbackIds.forEach(n=>this.invokeCallback(n,r)),yh.accountRequestCallbackIds.clear();return}this.invokeCallback(e,r)}handleErrorResponse(e,r,n){var i;const s=(i=n?.message)!==null&&i!==void 0?i:"Unspecified error message.";this.handleWeb3ResponseMessage(e,{method:r,errorMessage:s})}invokeCallback(e,r){const n=this.relayEventManager.callbacks.get(e);n&&(n(r),this.relayEventManager.callbacks.delete(e))}requestEthereumAccounts(){const{appName:e,appLogoUrl:r}=this.metadata,n={method:"requestEthereumAccounts",params:{appName:e,appLogoUrl:r}},i=Vp(8);return new Promise((s,o)=>{this.relayEventManager.callbacks.set(i,a=>{if(Ws(a))return o(new Error(a.errorMessage));s(a)}),yh.accountRequestCallbackIds.add(i),this.publishWeb3RequestEvent(i,n)})}watchAsset(e,r,n,i,s,o){const a={method:"watchAsset",params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let l=null;const u=Vp(8),c=h=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,h),l?.()};return l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:c,onResetConnection:this.resetAndReload}),new Promise((h,m)=>{this.relayEventManager.callbacks.set(u,y=>{if(l?.(),Ws(y))return m(new Error(y.errorMessage));h(y)}),this.publishWeb3RequestEvent(u,a)})}addEthereumChain(e,r,n,i,s,o){const a={method:"addEthereumChain",params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let l=null;const u=Vp(8),c=h=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,h),l?.()};return l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:c,onResetConnection:this.resetAndReload}),new Promise((h,m)=>{this.relayEventManager.callbacks.set(u,y=>{if(l?.(),Ws(y))return m(new Error(y.errorMessage));h(y)}),this.publishWeb3RequestEvent(u,a)})}switchEthereumChain(e,r){const n={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:r})};let i=null;const s=Vp(8),o=a=>{this.publishWeb3RequestCanceledEvent(s),this.handleErrorResponse(s,n.method,a),i?.()};return i=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:o,onResetConnection:this.resetAndReload}),new Promise((a,l)=>{this.relayEventManager.callbacks.set(s,u=>{if(i?.(),Ws(u)&&u.errorCode)return l(dn.provider.custom({code:u.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(Ws(u))return l(new Error(u.errorMessage));a(u)}),this.publishWeb3RequestEvent(s,n)})}}yh.accountRequestCallbackIds=new Set;const kq="DefaultChainId",Iq="DefaultJsonRpcUrl";class Hie{constructor(e){this._relay=null,this._addresses=[],this.metadata=e.metadata,this._storage=new kd("walletlink",Sq),this.callback=e.callback||null;const r=this._storage.getItem(AM);if(r){const n=r.split(" ");n[0]!==""&&(this._addresses=n.map(i=>Af(i)))}this.initializeRelay()}getSession(){const e=this.initializeRelay(),{id:r,secret:n}=e.getWalletLinkSession();return{id:r,secret:n}}async handshake(){await this._eth_requestAccounts()}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(Iq))!==null&&e!==void 0?e:void 0}set jsonRpcUrl(e){this._storage.setItem(Iq,e)}updateProviderInfo(e,r){var n;this.jsonRpcUrl=e;const i=this.getChainId();this._storage.setItem(kq,r.toString(10)),xb(r)!==i&&((n=this.callback)===null||n===void 0||n.call(this,"chainChanged",S0(r)))}async watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw dn.rpc.invalidParams("Type is required");if(r?.type!=="ERC20")throw dn.rpc.invalidParams(`Asset of type '${r.type}' is not supported`);if(!r?.options)throw dn.rpc.invalidParams("Options are required");if(!r?.options.address)throw dn.rpc.invalidParams("Address is required");const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=r.options,u=await this.initializeRelay().watchAsset(r.type,i,s,a,o,n?.toString());return Ws(u)?!1:!!u.result}async addEthereumChain(e){var r,n;const i=e[0];if(((r=i.rpcUrls)===null||r===void 0?void 0:r.length)===0)throw dn.rpc.invalidParams("please pass in at least 1 rpcUrl");if(!i.chainName||i.chainName.trim()==="")throw dn.rpc.invalidParams("chainName is a required field");if(!i.nativeCurrency)throw dn.rpc.invalidParams("nativeCurrency is a required field");const s=Number.parseInt(i.chainId,16);if(s===this.getChainId())return!1;const o=this.initializeRelay(),{rpcUrls:a=[],blockExplorerUrls:l=[],chainName:u,iconUrls:c=[],nativeCurrency:h}=i,m=await o.addEthereumChain(s.toString(),a,c,l,u,h);if(Ws(m))return!1;if(((n=m.result)===null||n===void 0?void 0:n.isApproved)===!0)return this.updateProviderInfo(a[0],s),null;throw dn.rpc.internal("unable to add ethereum chain")}async switchEthereumChain(e){const r=e[0],n=Number.parseInt(r.chainId,16),s=await this.initializeRelay().switchEthereumChain(n.toString(10),this.selectedAddress||void 0);if(Ws(s))throw s;const o=s.result;return o.isApproved&&o.rpcUrl.length>0&&this.updateProviderInfo(o.rpcUrl,n),null}async cleanup(){this.callback=null,this._relay&&this._relay.resetAndReload(),this._storage.clear()}_setAddresses(e,r){var n;if(!Array.isArray(e))throw new Error("addresses is not an array");const i=e.map(s=>Af(s));JSON.stringify(i)!==JSON.stringify(this._addresses)&&(this._addresses=i,(n=this.callback)===null||n===void 0||n.call(this,"accountsChanged",i),this._storage.setItem(AM,i.join(" ")))}async request(e){const r=e.params||[];switch(e.method){case"eth_accounts":return[...this._addresses];case"eth_coinbase":return this.selectedAddress||null;case"net_version":return this.getChainId().toString(10);case"eth_chainId":return S0(this.getChainId());case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_ecRecover":case"personal_ecRecover":return this.ecRecover(e);case"personal_sign":return this.personalSign(e);case"eth_signTransaction":return this._eth_signTransaction(r);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(r);case"eth_sendTransaction":return this._eth_sendTransaction(r);case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":return this.signTypedData(e);case"wallet_addEthereumChain":return this.addEthereumChain(r);case"wallet_switchEthereumChain":return this.switchEthereumChain(r);case"wallet_watchAsset":return this.watchAsset(r);default:if(!this.jsonRpcUrl)throw dn.rpc.internal("No RPC URL set for chain");return KO(e,this.jsonRpcUrl)}}_ensureKnownAddress(e){const r=Af(e);if(!this._addresses.map(i=>Af(i)).includes(r))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?Af(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?Af(e.to):null,i=e.value!=null?U2(e.value):BigInt(0),s=e.data?_M(e.data):kt.alloc(0),o=e.nonce!=null?xb(e.nonce):null,a=e.gasPrice!=null?U2(e.gasPrice):null,l=e.maxFeePerGas!=null?U2(e.maxFeePerGas):null,u=e.maxPriorityFeePerGas!=null?U2(e.maxPriorityFeePerGas):null,c=e.gas!=null?U2(e.gas):null,h=e.chainId?xb(e.chainId):this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:l,maxPriorityFeePerGas:u,gasLimit:c,chainId:h}}async ecRecover(e){const{method:r,params:n}=e;if(!Array.isArray(n))throw dn.rpc.invalidParams();const s=await this.initializeRelay().sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:MC(n[0]),signature:MC(n[1]),addPrefix:r==="personal_ecRecover"}});if(Ws(s))throw s;return s.result}getChainId(){var e;return Number.parseInt((e=this._storage.getItem(kq))!==null&&e!==void 0?e:"1",10)}async _eth_requestAccounts(){var e,r;if(this._addresses.length>0)return(e=this.callback)===null||e===void 0||e.call(this,"connect",{chainId:S0(this.getChainId())}),this._addresses;const i=await this.initializeRelay().requestEthereumAccounts();if(Ws(i))throw i;if(!i.result)throw new Error("accounts received is empty");return this._setAddresses(i.result),(r=this.callback)===null||r===void 0||r.call(this,"connect",{chainId:S0(this.getChainId())}),this._addresses}async personalSign({params:e}){if(!Array.isArray(e))throw dn.rpc.invalidParams();const r=e[1],n=e[0];this._ensureKnownAddress(r);const s=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:Af(r),message:MC(n),addPrefix:!0,typedDataJson:null}});if(Ws(s))throw s;return s.result}async _eth_signTransaction(e){const r=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signEthereumTransaction(r);if(Ws(i))throw i;return i.result}async _eth_sendRawTransaction(e){const r=_M(e[0]),i=await this.initializeRelay().submitEthereumTransaction(r,this.getChainId());if(Ws(i))throw i;return i.result}async _eth_sendTransaction(e){const r=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signAndSubmitEthereumTransaction(r);if(Ws(i))throw i;return i.result}async signTypedData(e){const{method:r,params:n}=e;if(!Array.isArray(n))throw dn.rpc.invalidParams();const i=u=>{const c={eth_signTypedData_v1:R4.hashForSignTypedDataLegacy,eth_signTypedData_v3:R4.hashForSignTypedData_v3,eth_signTypedData_v4:R4.hashForSignTypedData_v4,eth_signTypedData:R4.hashForSignTypedData_v4};return bb(c[r]({data:zCe(u)}),!0)},s=n[r==="eth_signTypedData_v1"?1:0],o=n[r==="eth_signTypedData_v1"?0:1];this._ensureKnownAddress(s);const l=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:Af(s),message:i(o),typedDataJson:JSON.stringify(o,null,2),addPrefix:!1}});if(Ws(l))throw l;return l.result}initializeRelay(){return this._relay||(this._relay=new yh({linkAPIUrl:Sq,storage:this._storage,metadata:this.metadata,accountsCallback:this._setAddresses.bind(this),chainCallback:this.updateProviderInfo.bind(this)})),this._relay}}const Vie="SignerType",Kie=new kd("CBWSDK","SignerConfigurator");function Dke(){return Kie.getItem(Vie)}function Bke(t){Kie.setItem(Vie,t)}async function Uke(t){const{communicator:e,metadata:r,handshakeRequest:n,callback:i}=t;zke(e,r,i).catch(()=>{});const s={id:crypto.randomUUID(),event:"selectSignerType",data:Object.assign(Object.assign({},t.preference),{handshakeRequest:n})},{data:o}=await e.postRequestAndWaitForResponse(s);return o}function Fke(t){const{signerType:e,metadata:r,communicator:n,callback:i}=t;switch(e){case"scw":return new tke({metadata:r,callback:i,communicator:n});case"walletlink":return new Hie({metadata:r,callback:i})}}async function zke(t,e,r){await t.onMessage(({event:i})=>i==="WalletLinkSessionRequest");const n=new Hie({metadata:e,callback:r});t.postMessage({event:"WalletLinkUpdate",data:{session:n.getSession()}}),await n.handshake(),t.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}const Wke=`Coinbase Wallet SDK requires the Cross-Origin-Opener-Policy header to not be set to 'same-origin'. This is to ensure that the SDK can communicate with the Coinbase Smart Wallet app.

Please see https://www.smartwallet.dev/guides/tips/popup-tips#cross-origin-opener-policy for more information.`,qke=()=>{let t;return{getCrossOriginOpenerPolicy:()=>t===void 0?"undefined":t,checkCrossOriginOpenerPolicy:async()=>{if(typeof window>"u"){t="non-browser-env";return}try{const e=`${window.location.origin}${window.location.pathname}`,r=await fetch(e,{method:"HEAD"});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const n=r.headers.get("Cross-Origin-Opener-Policy");t=n??"null",t==="same-origin"&&console.error(Wke)}catch(e){console.error("Error checking Cross-Origin-Opener-Policy:",e.message),t="error"}}}},{checkCrossOriginOpenerPolicy:Hke,getCrossOriginOpenerPolicy:Vke}=qke(),Tq=420,$q=540,Kke={isRed:!1,info:"Retry",svgWidth:"10",svgHeight:"11",path:qie,defaultFillRule:"evenodd",defaultClipRule:"evenodd"},Gke="Popup was blocked. Try again.";let j4=null;function Yke(t){const e=(window.innerWidth-Tq)/2+window.screenX,r=(window.innerHeight-$q)/2+window.screenY;Qke(t);function n(){const s=`wallet_${crypto.randomUUID()}`,o=window.open(t,s,`width=${Tq}, height=${$q}, left=${e}, top=${r}`);return o?.focus(),o||null}let i=n();if(!i){const s=Jke();return new Promise((o,a)=>{s.presentItem({autoExpand:!0,message:Gke,menuItems:[Object.assign(Object.assign({},Kke),{onClick:()=>{i=n(),i?o(i):a(dn.rpc.internal("Popup window was blocked")),s.clear()}})]})})}return Promise.resolve(i)}function Zke(t){t&&!t.closed&&t.close()}function Qke(t){const e={sdkName:Sie,sdkVersion:j5,origin:window.location.origin,coop:Vke()};for(const[r,n]of Object.entries(e))t.searchParams.append(r,n.toString())}function Jke(){if(!j4){const t=document.createElement("div");t.className="-cbwsdk-css-reset",document.body.appendChild(t),j4=new zie,j4.attach(t)}return j4}class Xke{constructor({url:e=Oke,metadata:r,preference:n}){this.popup=null,this.listeners=new Map,this.postMessage=async i=>{(await this.waitForPopupLoaded()).postMessage(i,this.url.origin)},this.postRequestAndWaitForResponse=async i=>{const s=this.onMessage(({requestId:o})=>o===i.id);return this.postMessage(i),await s},this.onMessage=async i=>new Promise((s,o)=>{const a=l=>{if(l.origin!==this.url.origin)return;const u=l.data;i(u)&&(s(u),window.removeEventListener("message",a),this.listeners.delete(a))};window.addEventListener("message",a),this.listeners.set(a,{reject:o})}),this.disconnect=()=>{Zke(this.popup),this.popup=null,this.listeners.forEach(({reject:i},s)=>{i(dn.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",s)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(this.popup=await Yke(this.url),this.onMessage(({event:i})=>i==="PopupUnload").then(this.disconnect).catch(()=>{}),this.onMessage(({event:i})=>i==="PopupLoaded").then(i=>{this.postMessage({requestId:i.id,data:{version:j5,metadata:this.metadata,preference:this.preference,location:window.location.toString()}})}).then(()=>{if(!this.popup)throw dn.rpc.internal();return this.popup})),this.url=new URL(e),this.metadata=r,this.preference=n}}function eIe(t){const e=LCe(tIe(t),{shouldIncludeStack:!0}),r=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");return r.searchParams.set("version",j5),r.searchParams.set("code",e.code.toString()),r.searchParams.set("message",e.message),Object.assign(Object.assign({},e),{docUrl:r.href})}function tIe(t){var e;if(typeof t=="string")return{message:t,code:Mi.rpc.internal};if(Ws(t)){const r=t.errorMessage,n=(e=t.errorCode)!==null&&e!==void 0?e:r.match(/(denied|rejected)/i)?Mi.provider.userRejectedRequest:void 0;return Object.assign(Object.assign({},t),{message:r,code:n,data:{method:t.method}})}return t}class rIe extends ku{}var nIe=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class iIe extends rIe{constructor(e){var{metadata:r}=e,n=e.preference,{keysUrl:i}=n,s=nIe(n,["keysUrl"]);super(),this.signer=null,this.isCoinbaseWallet=!0,this.metadata=r,this.preference=s,this.communicator=new Xke({url:i,metadata:r,preference:s});const o=Dke();o&&(this.signer=this.initSigner(o))}async request(e){try{if(eke(e),!this.signer)switch(e.method){case"eth_requestAccounts":{const r=await this.requestSignerSelection(e),n=this.initSigner(r);await n.handshake(e),this.signer=n,Bke(r);break}case"wallet_sendCalls":{const r=this.initSigner("scw");await r.handshake({method:"handshake"});const n=await r.request(e);return await r.cleanup(),n}case"wallet_getCallsStatus":return KO(e,jke);case"net_version":return 1;case"eth_chainId":return S0(1);default:throw dn.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")}return await this.signer.request(e)}catch(r){const{code:n}=r;return n===Mi.provider.unauthorized&&this.disconnect(),Promise.reject(eIe(r))}}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){var e;await((e=this.signer)===null||e===void 0?void 0:e.cleanup()),this.signer=null,kd.clearAll(),this.emit("disconnect",dn.provider.disconnected("User initiated disconnection"))}requestSignerSelection(e){return Uke({communicator:this.communicator,preference:this.preference,metadata:this.metadata,handshakeRequest:e,callback:this.emit.bind(this)})}initSigner(e){return Fke({signerType:e,metadata:this.metadata,communicator:this.communicator,callback:this.emit.bind(this)})}}function sIe(t){if(t){if(!["all","smartWalletOnly","eoaOnly"].includes(t.options))throw new Error(`Invalid options: ${t.options}`);if(t.attribution&&t.attribution.auto!==void 0&&t.attribution.dataSuffix!==void 0)throw new Error("Attribution cannot contain both auto and dataSuffix properties")}}function oIe(t){var e;const r={metadata:t.metadata,preference:t.preference};return(e=XCe(r))!==null&&e!==void 0?e:new iIe(r)}const aIe={options:"all"};function Mq(t){var e;new kd("CBWSDK").setItem("VERSION",j5),Hke();const n={metadata:{appName:t.appName||"Dapp",appLogoUrl:t.appLogoUrl||"",appChainIds:t.appChainIds||[]},preference:Object.assign(aIe,(e=t.preference)!==null&&e!==void 0?e:{})};sIe(n.preference);let i=null;return{getProvider:()=>(i||(i=oIe(n)),i)}}let BC={0:"legacy",1:"eip2930",2:"eip1559",3:"eip4844",4:"eip7702"};const lIe={legacy:0,eip2930:1,eip1559:2,eip4844:3,eip7702:4};let g1=t=>t!==void 0?BigInt(t):void 0;function Gie(t){let e,{type:r=2,...n}=typeof t=="string"?JSON.parse(t):t;n.accessList&&Array.isArray(n.accessList)?e=n.accessList.map((u=>Array.isArray(u)?{address:u[0],storageKeys:u[1]}:u)):n.accessList&&(e=Object.entries(n.accessList).map((u=>({address:u[0],storageKeys:u[1]}))));let i=Number(n.chainId??1),s=ra(n.data)?n.data:n.data?_s(Uint8Array.from(n.data)):void 0,o=n.nonce?Number(n.nonce):void 0,a={chainId:i,data:s,nonce:o,value:g1(n.value),gas:g1(n.gas??n.gasLimit)},l=Number(r);if(l===0)return{...n,type:BC[l],...a,gasPrice:g1(n.gasPrice),accessList:void 0,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(l===1)return{...n,type:BC[l],...a,gasPrice:g1(n.gasPrice),accessList:e,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(l===2)return{...n,type:BC[l],...a,nonce:o,accessList:e,maxFeePerGas:g1(n.maxFeePerGas),maxPriorityFeePerGas:g1(n.maxPriorityFeePerGas),gasPrice:void 0,maxFeePerBlobGas:void 0};throw Error(`Unsupported transaction type: ${r}`)}const cIe=({as:t="div",...e},r)=>w.jsx(t,{...e,ref:r}),uIe=B.forwardRef(cIe),dIe="https://challenges.cloudflare.com/turnstile/v0/api.js",X8="cf-turnstile-script",hIe="cf-turnstile",Yie="onloadTurnstileCallback",eE=t=>!!document.getElementById(t),fIe=({render:t="explicit",onLoadCallbackName:e=Yie,scriptOptions:{nonce:r="",defer:n=!0,async:i=!0,id:s="",appendTo:o,onError:a,crossOrigin:l=""}={}})=>{const u=s||X8;if(eE(u))return;const c=document.createElement("script");if(c.id=u,c.src=`${dIe}?onload=${e}&render=${t}`,document.querySelector(`script[src="${c.src}"]`))return;c.defer=!!n,c.async=!!i,r&&(c.nonce=r),l&&(c.crossOrigin=l),a&&(c.onerror=a),(o==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(c)},zu={normal:{width:300,height:65},compact:{width:130,height:120},invisible:{width:0,height:0,overflow:"hidden"},interactionOnly:{width:"fit-content",height:"auto"}};function pIe(t){let e;return t!=="invisible"&&(e=t),e}function gIe(t=X8){const[e,r]=B.useState(!1);return B.useEffect(()=>{const n=()=>{eE(t)&&r(!0)},i=new MutationObserver(n);return i.observe(document,{childList:!0,subtree:!0}),n(),()=>{i.disconnect()}},[t]),e}const Zie=B.forwardRef((t,e)=>{const{scriptOptions:r,options:n={},siteKey:i,onWidgetLoad:s,onSuccess:o,onExpire:a,onError:l,onBeforeInteractive:u,onAfterInteractive:c,onUnsupported:h,onLoadScript:m,id:y,style:b,as:E="div",injectScript:A=!0,...M}=t,O=n.size??"normal",[P,z]=B.useState(n.execution==="execute"?zu.invisible:n.appearance==="interaction-only"?zu.interactionOnly:zu[O]),L=B.useRef(null),W=B.useRef(!1),[H,G]=B.useState(),[N,F]=B.useState(!1),U=y??hIe,j=A?r?.id||`${X8}__${U}`:r?.id||X8,_=gIe(j),d=r?.onLoadCallbackName?`${r.onLoadCallbackName}__${U}`:`${Yie}__${U}`,g=B.useMemo(()=>({sitekey:i,action:n.action,cData:n.cData,callback:o,"error-callback":l,"expired-callback":a,"before-interactive-callback":u,"after-interactive-callback":c,"unsupported-callback":h,theme:n.theme??"auto",language:n.language??"auto",tabindex:n.tabIndex,"response-field":n.responseField,"response-field-name":n.responseFieldName,size:pIe(O),retry:n.retry??"auto","retry-interval":n.retryInterval??8e3,"refresh-expired":n.refreshExpired??"auto",execution:n.execution??"render",appearance:n.appearance??"always"}),[i,n,o,l,a,O,u,c,h]),x=B.useMemo(()=>JSON.stringify(g),[g]);return B.useImperativeHandle(e,()=>{if(typeof window>"u"||!_)return;const{turnstile:C}=window;return{getResponse(){if(!C?.getResponse||!H){console.warn("Turnstile has not been loaded");return}return C.getResponse(H)},reset(){if(!C?.reset||!H){console.warn("Turnstile has not been loaded");return}n.execution==="execute"&&z(zu.invisible);try{C.reset(H)}catch(k){console.warn(`Failed to reset Turnstile widget ${H}`,k)}},remove(){if(!C?.remove||!H){console.warn("Turnstile has not been loaded");return}G(""),z(zu.invisible),C.remove(H)},render(){if(!C?.render||!L.current||H){console.warn("Turnstile has not been loaded or widget already rendered");return}const k=C.render(L.current,g);return G(k),n.execution!=="execute"&&z(zu[O]),k},execute(){if(n.execution==="execute"){if(!C?.execute||!L.current||!H){console.warn("Turnstile has not been loaded or widget has not been rendered");return}C.execute(L.current,g),z(zu[O])}},isExpired(){if(!C?.isExpired||!H){console.warn("Turnstile has not been loaded");return}return C.isExpired(H)}}},[_,H,n.execution,O,g,L]),B.useEffect(()=>(window[d]=()=>F(!0),()=>{delete window[d]}),[d]),B.useEffect(()=>{A&&!N&&fIe({onLoadCallbackName:d,scriptOptions:{...r,id:j}})},[A,N,d,r,j]),B.useEffect(()=>{_&&!N&&window.turnstile&&F(!0)},[N,_]),B.useEffect(()=>{if(!i){console.warn("sitekey was not provided");return}if(!_||!L.current||!N||W.current)return;const C=window.turnstile.render(L.current,g);G(C),W.current=!0},[_,i,g,W,N]),B.useEffect(()=>{if(window.turnstile&&L.current&&H){eE(H)&&window.turnstile.remove(H);const C=window.turnstile.render(L.current,g);G(C),W.current=!0}},[x,i]),B.useEffect(()=>{if(window.turnstile&&H&&eE(H))return s?.(H),()=>{window.turnstile.remove(H)}},[H,s]),B.useEffect(()=>{z(n.execution==="execute"?zu.invisible:g.appearance==="interaction-only"?zu.interactionOnly:zu[O])},[n.execution,O,g.appearance]),B.useEffect(()=>{!_||typeof m!="function"||m()},[_,m]),w.jsx(uIe,{ref:L,as:E,id:U,style:{...P,...b},...M})});Zie.displayName="Turnstile";var $o=function(){return $o=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},$o.apply(this,arguments)};function Vy(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}var ni="-ms-",_b="-moz-",In="-webkit-",Qie="comm",n9="rule",XO="decl",mIe="@import",Jie="@keyframes",yIe="@layer",Xie=Math.abs,ej=String.fromCharCode,MM=Object.assign;function wIe(t,e){return xs(t,0)^45?(((e<<2^xs(t,0))<<2^xs(t,1))<<2^xs(t,2))<<2^xs(t,3):0}function ese(t){return t.trim()}function ph(t,e){return(t=e.exec(t))?t[0]:t}function Fr(t,e,r){return t.replace(e,r)}function t8(t,e,r){return t.indexOf(e,r)}function xs(t,e){return t.charCodeAt(e)|0}function Ky(t,e,r){return t.slice(e,r)}function dd(t){return t.length}function tse(t){return t.length}function Yv(t,e){return e.push(t),t}function vIe(t,e){return t.map(e).join("")}function Pq(t,e){return t.filter(function(r){return!ph(r,e)})}var i9=1,Gy=1,rse=0,cc=0,Yi=0,Pw="";function s9(t,e,r,n,i,s,o,a){return{value:t,root:e,parent:r,type:n,props:i,children:s,line:i9,column:Gy,length:o,return:"",siblings:a}}function t0(t,e){return MM(s9("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function m1(t){for(;t.root;)t=t0(t.root,{children:[t]});Yv(t,t.siblings)}function bIe(){return Yi}function xIe(){return Yi=cc>0?xs(Pw,--cc):0,Gy--,Yi===10&&(Gy=1,i9--),Yi}function ou(){return Yi=cc<rse?xs(Pw,cc++):0,Gy++,Yi===10&&(Gy=1,i9++),Yi}function Sg(){return xs(Pw,cc)}function r8(){return cc}function o9(t,e){return Ky(Pw,t,e)}function PM(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function EIe(t){return i9=Gy=1,rse=dd(Pw=t),cc=0,[]}function _Ie(t){return Pw="",t}function UC(t){return ese(o9(cc-1,NM(t===91?t+2:t===40?t+1:t)))}function AIe(t){for(;(Yi=Sg())&&Yi<33;)ou();return PM(t)>2||PM(Yi)>3?"":" "}function SIe(t,e){for(;--e&&ou()&&!(Yi<48||Yi>102||Yi>57&&Yi<65||Yi>70&&Yi<97););return o9(t,r8()+(e<6&&Sg()==32&&ou()==32))}function NM(t){for(;ou();)switch(Yi){case t:return cc;case 34:case 39:t!==34&&t!==39&&NM(Yi);break;case 40:t===41&&NM(t);break;case 92:ou();break}return cc}function CIe(t,e){for(;ou()&&t+Yi!==57;)if(t+Yi===84&&Sg()===47)break;return"/*"+o9(e,cc-1)+"*"+ej(t===47?t:ou())}function kIe(t){for(;!PM(Sg());)ou();return o9(t,cc)}function IIe(t){return _Ie(n8("",null,null,null,[""],t=EIe(t),0,[0],t))}function n8(t,e,r,n,i,s,o,a,l){for(var u=0,c=0,h=o,m=0,y=0,b=0,E=1,A=1,M=1,O=0,P="",z=i,L=s,W=n,H=P;A;)switch(b=O,O=ou()){case 40:if(b!=108&&xs(H,h-1)==58){t8(H+=Fr(UC(O),"&","&\f"),"&\f",Xie(u?a[u-1]:0))!=-1&&(M=-1);break}case 34:case 39:case 91:H+=UC(O);break;case 9:case 10:case 13:case 32:H+=AIe(b);break;case 92:H+=SIe(r8()-1,7);continue;case 47:switch(Sg()){case 42:case 47:Yv(TIe(CIe(ou(),r8()),e,r,l),l);break;default:H+="/"}break;case 123*E:a[u++]=dd(H)*M;case 125*E:case 59:case 0:switch(O){case 0:case 125:A=0;case 59+c:M==-1&&(H=Fr(H,/\f/g,"")),y>0&&dd(H)-h&&Yv(y>32?Rq(H+";",n,r,h-1,l):Rq(Fr(H," ","")+";",n,r,h-2,l),l);break;case 59:H+=";";default:if(Yv(W=Nq(H,e,r,u,c,i,a,P,z=[],L=[],h,s),s),O===123)if(c===0)n8(H,e,W,W,z,s,h,a,L);else switch(m===99&&xs(H,3)===110?100:m){case 100:case 108:case 109:case 115:n8(t,W,W,n&&Yv(Nq(t,W,W,0,0,i,a,P,i,z=[],h,L),L),i,L,h,a,n?z:L);break;default:n8(H,W,W,W,[""],L,0,a,L)}}u=c=y=0,E=M=1,P=H="",h=o;break;case 58:h=1+dd(H),y=b;default:if(E<1){if(O==123)--E;else if(O==125&&E++==0&&xIe()==125)continue}switch(H+=ej(O),O*E){case 38:M=c>0?1:(H+="\f",-1);break;case 44:a[u++]=(dd(H)-1)*M,M=1;break;case 64:Sg()===45&&(H+=UC(ou())),m=Sg(),c=h=dd(P=H+=kIe(r8())),O++;break;case 45:b===45&&dd(H)==2&&(E=0)}}return s}function Nq(t,e,r,n,i,s,o,a,l,u,c,h){for(var m=i-1,y=i===0?s:[""],b=tse(y),E=0,A=0,M=0;E<n;++E)for(var O=0,P=Ky(t,m+1,m=Xie(A=o[E])),z=t;O<b;++O)(z=ese(A>0?y[O]+" "+P:Fr(P,/&\f/g,y[O])))&&(l[M++]=z);return s9(t,e,r,i===0?n9:a,l,u,c,h)}function TIe(t,e,r,n){return s9(t,e,r,Qie,ej(bIe()),Ky(t,2,-2),0,n)}function Rq(t,e,r,n,i){return s9(t,e,r,XO,Ky(t,0,n),Ky(t,n+1,-1),n,i)}function nse(t,e,r){switch(wIe(t,e)){case 5103:return In+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return In+t+t;case 4789:return _b+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return In+t+_b+t+ni+t+t;case 5936:switch(xs(t,e+11)){case 114:return In+t+ni+Fr(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return In+t+ni+Fr(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return In+t+ni+Fr(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return In+t+ni+t+t;case 6165:return In+t+ni+"flex-"+t+t;case 5187:return In+t+Fr(t,/(\w+).+(:[^]+)/,In+"box-$1$2"+ni+"flex-$1$2")+t;case 5443:return In+t+ni+"flex-item-"+Fr(t,/flex-|-self/g,"")+(ph(t,/flex-|baseline/)?"":ni+"grid-row-"+Fr(t,/flex-|-self/g,""))+t;case 4675:return In+t+ni+"flex-line-pack"+Fr(t,/align-content|flex-|-self/g,"")+t;case 5548:return In+t+ni+Fr(t,"shrink","negative")+t;case 5292:return In+t+ni+Fr(t,"basis","preferred-size")+t;case 6060:return In+"box-"+Fr(t,"-grow","")+In+t+ni+Fr(t,"grow","positive")+t;case 4554:return In+Fr(t,/([^-])(transform)/g,"$1"+In+"$2")+t;case 6187:return Fr(Fr(Fr(t,/(zoom-|grab)/,In+"$1"),/(image-set)/,In+"$1"),t,"")+t;case 5495:case 3959:return Fr(t,/(image-set\([^]*)/,In+"$1$`$1");case 4968:return Fr(Fr(t,/(.+:)(flex-)?(.*)/,In+"box-pack:$3"+ni+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+In+t+t;case 4200:if(!ph(t,/flex-|baseline/))return ni+"grid-column-align"+Ky(t,e)+t;break;case 2592:case 3360:return ni+Fr(t,"template-","")+t;case 4384:case 3616:return r&&r.some(function(n,i){return e=i,ph(n.props,/grid-\w+-end/)})?~t8(t+(r=r[e].value),"span",0)?t:ni+Fr(t,"-start","")+t+ni+"grid-row-span:"+(~t8(r,"span",0)?ph(r,/\d+/):+ph(r,/\d+/)-+ph(t,/\d+/))+";":ni+Fr(t,"-start","")+t;case 4896:case 4128:return r&&r.some(function(n){return ph(n.props,/grid-\w+-start/)})?t:ni+Fr(Fr(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Fr(t,/(.+)-inline(.+)/,In+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(dd(t)-1-e>6)switch(xs(t,e+1)){case 109:if(xs(t,e+4)!==45)break;case 102:return Fr(t,/(.+:)(.+)-([^]+)/,"$1"+In+"$2-$3$1"+_b+(xs(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~t8(t,"stretch",0)?nse(Fr(t,"stretch","fill-available"),e,r)+t:t}break;case 5152:case 5920:return Fr(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,i,s,o,a,l,u){return ni+i+":"+s+u+(o?ni+i+"-span:"+(a?l:+l-+s)+u:"")+t});case 4949:if(xs(t,e+6)===121)return Fr(t,":",":"+In)+t;break;case 6444:switch(xs(t,xs(t,14)===45?18:11)){case 120:return Fr(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+In+(xs(t,14)===45?"inline-":"")+"box$3$1"+In+"$2$3$1"+ni+"$2box$3")+t;case 100:return Fr(t,":",":"+ni)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Fr(t,"scroll-","scroll-snap-")+t}return t}function tE(t,e){for(var r="",n=0;n<t.length;n++)r+=e(t[n],n,t,e)||"";return r}function $Ie(t,e,r,n){switch(t.type){case yIe:if(t.children.length)break;case mIe:case XO:return t.return=t.return||t.value;case Qie:return"";case Jie:return t.return=t.value+"{"+tE(t.children,n)+"}";case n9:if(!dd(t.value=t.props.join(",")))return""}return dd(r=tE(t.children,n))?t.return=t.value+"{"+r+"}":""}function MIe(t){var e=tse(t);return function(r,n,i,s){for(var o="",a=0;a<e;a++)o+=t[a](r,n,i,s)||"";return o}}function PIe(t){return function(e){e.root||(e=e.return)&&t(e)}}function NIe(t,e,r,n){if(t.length>-1&&!t.return)switch(t.type){case XO:t.return=nse(t.value,t.length,r);return;case Jie:return tE([t0(t,{value:Fr(t.value,"@","@"+In)})],n);case n9:if(t.length)return vIe(r=t.props,function(i){switch(ph(i,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":m1(t0(t,{props:[Fr(i,/:(read-\w+)/,":"+_b+"$1")]})),m1(t0(t,{props:[i]})),MM(t,{props:Pq(r,n)});break;case"::placeholder":m1(t0(t,{props:[Fr(i,/:(plac\w+)/,":"+In+"input-$1")]})),m1(t0(t,{props:[Fr(i,/:(plac\w+)/,":"+_b+"$1")]})),m1(t0(t,{props:[Fr(i,/:(plac\w+)/,ni+"input-$1")]})),m1(t0(t,{props:[i]})),MM(t,{props:Pq(r,n)});break}return""})}}var RIe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},al={},Yy=typeof pi<"u"&&al!==void 0&&(al.REACT_APP_SC_ATTR||al.SC_ATTR)||"data-styled",ise="active",sse="data-styled-version",a9="6.1.19",tj=`/*!sc*/
`,rE=typeof window<"u"&&typeof document<"u",OIe=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof pi<"u"&&al!==void 0&&al.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&al.REACT_APP_SC_DISABLE_SPEEDY!==""?al.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&al.REACT_APP_SC_DISABLE_SPEEDY:typeof pi<"u"&&al!==void 0&&al.SC_DISABLE_SPEEDY!==void 0&&al.SC_DISABLE_SPEEDY!==""&&al.SC_DISABLE_SPEEDY!=="false"&&al.SC_DISABLE_SPEEDY),jIe={},l9=Object.freeze([]),Zy=Object.freeze({});function ose(t,e,r){return r===void 0&&(r=Zy),t.theme!==r.theme&&t.theme||e||r.theme}var ase=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),LIe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,DIe=/(^-|-$)/g;function Oq(t){return t.replace(LIe,"-").replace(DIe,"")}var BIe=/(a)(d)/gi,L4=52,jq=function(t){return String.fromCharCode(t+(t>25?39:97))};function RM(t){var e,r="";for(e=Math.abs(t);e>L4;e=e/L4|0)r=jq(e%L4)+r;return(jq(e%L4)+r).replace(BIe,"$1-$2")}var FC,lse=5381,sy=function(t,e){for(var r=e.length;r;)t=33*t^e.charCodeAt(--r);return t},cse=function(t){return sy(lse,t)};function rj(t){return RM(cse(t)>>>0)}function UIe(t){return t.displayName||t.name||"Component"}function zC(t){return typeof t=="string"&&!0}var use=typeof Symbol=="function"&&Symbol.for,dse=use?Symbol.for("react.memo"):60115,FIe=use?Symbol.for("react.forward_ref"):60112,zIe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},WIe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},hse={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},qIe=((FC={})[FIe]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},FC[dse]=hse,FC);function Lq(t){return("type"in(e=t)&&e.type.$$typeof)===dse?hse:"$$typeof"in t?qIe[t.$$typeof]:zIe;var e}var HIe=Object.defineProperty,VIe=Object.getOwnPropertyNames,Dq=Object.getOwnPropertySymbols,KIe=Object.getOwnPropertyDescriptor,GIe=Object.getPrototypeOf,Bq=Object.prototype;function fse(t,e,r){if(typeof e!="string"){if(Bq){var n=GIe(e);n&&n!==Bq&&fse(t,n,r)}var i=VIe(e);Dq&&(i=i.concat(Dq(e)));for(var s=Lq(t),o=Lq(e),a=0;a<i.length;++a){var l=i[a];if(!(l in WIe||r&&r[l]||o&&l in o||s&&l in s)){var u=KIe(e,l);try{HIe(t,l,u)}catch{}}}}return t}function Qy(t){return typeof t=="function"}function nj(t){return typeof t=="object"&&"styledComponentId"in t}function rg(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function nE(t,e){if(t.length===0)return"";for(var r=t[0],n=1;n<t.length;n++)r+=t[n];return r}function H3(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function OM(t,e,r){if(r===void 0&&(r=!1),!r&&!H3(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var n=0;n<e.length;n++)t[n]=OM(t[n],e[n]);else if(H3(e))for(var n in e)t[n]=OM(t[n],e[n]);return t}function ij(t,e){Object.defineProperty(t,"toString",{value:e})}function L5(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var YIe=(function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var r=0,n=0;n<e;n++)r+=this.groupSizes[n];return r},t.prototype.insertRules=function(e,r){if(e>=this.groupSizes.length){for(var n=this.groupSizes,i=n.length,s=i;e>=s;)if((s<<=1)<0)throw L5(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(n),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,r.length);o<l;o++)this.tag.insertRule(a,r[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var r=this.groupSizes[e],n=this.indexOfGroup(e),i=n+r;this.groupSizes[e]=0;for(var s=n;s<i;s++)this.tag.deleteRule(n)}},t.prototype.getGroup=function(e){var r="";if(e>=this.length||this.groupSizes[e]===0)return r;for(var n=this.groupSizes[e],i=this.indexOfGroup(e),s=i+n,o=i;o<s;o++)r+="".concat(this.tag.getRule(o)).concat(tj);return r},t})(),i8=new Map,iE=new Map,s8=1,D4=function(t){if(i8.has(t))return i8.get(t);for(;iE.has(s8);)s8++;var e=s8++;return i8.set(t,e),iE.set(e,t),e},ZIe=function(t,e){s8=e+1,i8.set(t,e),iE.set(e,t)},QIe="style[".concat(Yy,"][").concat(sse,'="').concat(a9,'"]'),JIe=new RegExp("^".concat(Yy,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),XIe=function(t,e,r){for(var n,i=r.split(","),s=0,o=i.length;s<o;s++)(n=i[s])&&t.registerName(e,n)},eTe=function(t,e){for(var r,n=((r=e.textContent)!==null&&r!==void 0?r:"").split(tj),i=[],s=0,o=n.length;s<o;s++){var a=n[s].trim();if(a){var l=a.match(JIe);if(l){var u=0|parseInt(l[1],10),c=l[2];u!==0&&(ZIe(c,u),XIe(t,c,l[3]),t.getTag().insertRules(u,i)),i.length=0}else i.push(a)}}},Uq=function(t){for(var e=document.querySelectorAll(QIe),r=0,n=e.length;r<n;r++){var i=e[r];i&&i.getAttribute(Yy)!==ise&&(eTe(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function tTe(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var pse=function(t){var e=document.head,r=t||e,n=document.createElement("style"),i=(function(a){var l=Array.from(a.querySelectorAll("style[".concat(Yy,"]")));return l[l.length-1]})(r),s=i!==void 0?i.nextSibling:null;n.setAttribute(Yy,ise),n.setAttribute(sse,a9);var o=tTe();return o&&n.setAttribute("nonce",o),r.insertBefore(n,s),n},rTe=(function(){function t(e){this.element=pse(e),this.element.appendChild(document.createTextNode("")),this.sheet=(function(r){if(r.sheet)return r.sheet;for(var n=document.styleSheets,i=0,s=n.length;i<s;i++){var o=n[i];if(o.ownerNode===r)return o}throw L5(17)})(this.element),this.length=0}return t.prototype.insertRule=function(e,r){try{return this.sheet.insertRule(r,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var r=this.sheet.cssRules[e];return r&&r.cssText?r.cssText:""},t})(),nTe=(function(){function t(e){this.element=pse(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,r){if(e<=this.length&&e>=0){var n=document.createTextNode(r);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t})(),iTe=(function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,r){return e<=this.length&&(this.rules.splice(e,0,r),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t})(),Fq=rE,sTe={isServer:!rE,useCSSOMInjection:!OIe},sE=(function(){function t(e,r,n){e===void 0&&(e=Zy),r===void 0&&(r={});var i=this;this.options=$o($o({},sTe),e),this.gs=r,this.names=new Map(n),this.server=!!e.isServer,!this.server&&rE&&Fq&&(Fq=!1,Uq(this)),ij(this,function(){return(function(s){for(var o=s.getTag(),a=o.length,l="",u=function(h){var m=(function(M){return iE.get(M)})(h);if(m===void 0)return"continue";var y=s.names.get(m),b=o.getGroup(h);if(y===void 0||!y.size||b.length===0)return"continue";var E="".concat(Yy,".g").concat(h,'[id="').concat(m,'"]'),A="";y!==void 0&&y.forEach(function(M){M.length>0&&(A+="".concat(M,","))}),l+="".concat(b).concat(E,'{content:"').concat(A,'"}').concat(tj)},c=0;c<a;c++)u(c);return l})(i)})}return t.registerId=function(e){return D4(e)},t.prototype.rehydrate=function(){!this.server&&rE&&Uq(this)},t.prototype.reconstructWithOptions=function(e,r){return r===void 0&&(r=!0),new t($o($o({},this.options),e),this.gs,r&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=(function(r){var n=r.useCSSOMInjection,i=r.target;return r.isServer?new iTe(i):n?new rTe(i):new nTe(i)})(this.options),new YIe(e)));var e},t.prototype.hasNameForId=function(e,r){return this.names.has(e)&&this.names.get(e).has(r)},t.prototype.registerName=function(e,r){if(D4(e),this.names.has(e))this.names.get(e).add(r);else{var n=new Set;n.add(r),this.names.set(e,n)}},t.prototype.insertRules=function(e,r,n){this.registerName(e,r),this.getTag().insertRules(D4(e),n)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(D4(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t})(),oTe=/&/g,aTe=/^\s*\/\/.*$/gm;function gse(t,e){return t.map(function(r){return r.type==="rule"&&(r.value="".concat(e," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(e," ")),r.props=r.props.map(function(n){return"".concat(e," ").concat(n)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=gse(r.children,e)),r})}function lTe(t){var e,r,n,i=Zy,s=i.options,o=s===void 0?Zy:s,a=i.plugins,l=a===void 0?l9:a,u=function(m,y,b){return b.startsWith(r)&&b.endsWith(r)&&b.replaceAll(r,"").length>0?".".concat(e):m},c=l.slice();c.push(function(m){m.type===n9&&m.value.includes("&")&&(m.props[0]=m.props[0].replace(oTe,r).replace(n,u))}),o.prefix&&c.push(NIe),c.push($Ie);var h=function(m,y,b,E){y===void 0&&(y=""),b===void 0&&(b=""),E===void 0&&(E="&"),e=E,r=y,n=new RegExp("\\".concat(r,"\\b"),"g");var A=m.replace(aTe,""),M=IIe(b||y?"".concat(b," ").concat(y," { ").concat(A," }"):A);o.namespace&&(M=gse(M,o.namespace));var O=[];return tE(M,MIe(c.concat(PIe(function(P){return O.push(P)})))),O};return h.hash=l.length?l.reduce(function(m,y){return y.name||L5(15),sy(m,y.name)},lse).toString():"",h}var cTe=new sE,jM=lTe(),mse=Re.createContext({shouldForwardProp:void 0,styleSheet:cTe,stylis:jM});mse.Consumer;Re.createContext(void 0);function LM(){return B.useContext(mse)}var yse=(function(){function t(e,r){var n=this;this.inject=function(i,s){s===void 0&&(s=jM);var o=n.name+s.hash;i.hasNameForId(n.id,o)||i.insertRules(n.id,o,s(n.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=r,ij(this,function(){throw L5(12,String(n.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=jM),this.name+e.hash},t})(),uTe=function(t){return t>="A"&&t<="Z"};function zq(t){for(var e="",r=0;r<t.length;r++){var n=t[r];if(r===1&&n==="-"&&t[0]==="-")return t;uTe(n)?e+="-"+n.toLowerCase():e+=n}return e.startsWith("ms-")?"-"+e:e}var wse=function(t){return t==null||t===!1||t===""},vse=function(t){var e,r,n=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!wse(s)&&(Array.isArray(s)&&s.isCss||Qy(s)?n.push("".concat(zq(i),":"),s,";"):H3(s)?n.push.apply(n,Vy(Vy(["".concat(i," {")],vse(s),!1),["}"],!1)):n.push("".concat(zq(i),": ").concat((e=i,(r=s)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||e in RIe||e.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return n};function N0(t,e,r,n){if(wse(t))return[];if(nj(t))return[".".concat(t.styledComponentId)];if(Qy(t)){if(!Qy(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return N0(i,e,r,n)}var s;return t instanceof yse?r?(t.inject(r,n),[t.getName(n)]):[t]:H3(t)?vse(t):Array.isArray(t)?Array.prototype.concat.apply(l9,t.map(function(o){return N0(o,e,r,n)})):[t.toString()]}function bse(t){for(var e=0;e<t.length;e+=1){var r=t[e];if(Qy(r)&&!nj(r))return!1}return!0}var dTe=cse(a9),hTe=(function(){function t(e,r,n){this.rules=e,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&bse(e),this.componentId=r,this.baseHash=sy(dTe,r),this.baseStyle=n,sE.registerId(r)}return t.prototype.generateAndInjectStyles=function(e,r,n){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,r,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))i=rg(i,this.staticRulesId);else{var s=nE(N0(this.rules,e,r,n)),o=RM(sy(this.baseHash,s)>>>0);if(!r.hasNameForId(this.componentId,o)){var a=n(s,".".concat(o),void 0,this.componentId);r.insertRules(this.componentId,o,a)}i=rg(i,o),this.staticRulesId=o}else{for(var l=sy(this.baseHash,n.hash),u="",c=0;c<this.rules.length;c++){var h=this.rules[c];if(typeof h=="string")u+=h;else if(h){var m=nE(N0(h,e,r,n));l=sy(l,m+c),u+=m}}if(u){var y=RM(l>>>0);r.hasNameForId(this.componentId,y)||r.insertRules(this.componentId,y,n(u,".".concat(y),void 0,this.componentId)),i=rg(i,y)}}return i},t})(),sj=Re.createContext(void 0);sj.Consumer;var WC={};function fTe(t,e,r){var n=nj(t),i=t,s=!zC(t),o=e.attrs,a=o===void 0?l9:o,l=e.componentId,u=l===void 0?(function(z,L){var W=typeof z!="string"?"sc":Oq(z);WC[W]=(WC[W]||0)+1;var H="".concat(W,"-").concat(rj(a9+W+WC[W]));return L?"".concat(L,"-").concat(H):H})(e.displayName,e.parentComponentId):l,c=e.displayName,h=c===void 0?(function(z){return zC(z)?"styled.".concat(z):"Styled(".concat(UIe(z),")")})(t):c,m=e.displayName&&e.componentId?"".concat(Oq(e.displayName),"-").concat(e.componentId):e.componentId||u,y=n&&i.attrs?i.attrs.concat(a).filter(Boolean):a,b=e.shouldForwardProp;if(n&&i.shouldForwardProp){var E=i.shouldForwardProp;if(e.shouldForwardProp){var A=e.shouldForwardProp;b=function(z,L){return E(z,L)&&A(z,L)}}else b=E}var M=new hTe(r,m,n?i.componentStyle:void 0);function O(z,L){return(function(W,H,G){var N=W.attrs,F=W.componentStyle,U=W.defaultProps,j=W.foldedComponentIds,_=W.styledComponentId,d=W.target,g=Re.useContext(sj),x=LM(),C=W.shouldForwardProp||x.shouldForwardProp,k=ose(H,g,U)||Zy,T=(function(D,J,ne){for(var ie,ce=$o($o({},J),{className:void 0,theme:ne}),Se=0;Se<D.length;Se+=1){var ye=Qy(ie=D[Se])?ie(ce):ie;for(var Ae in ye)ce[Ae]=Ae==="className"?rg(ce[Ae],ye[Ae]):Ae==="style"?$o($o({},ce[Ae]),ye[Ae]):ye[Ae]}return J.className&&(ce.className=rg(ce.className,J.className)),ce})(N,H,k),R=T.as||d,I={};for(var f in T)T[f]===void 0||f[0]==="$"||f==="as"||f==="theme"&&T.theme===k||(f==="forwardedAs"?I.as=T.forwardedAs:C&&!C(f,R)||(I[f]=T[f]));var S=(function(D,J){var ne=LM(),ie=D.generateAndInjectStyles(J,ne.styleSheet,ne.stylis);return ie})(F,T),K=rg(j,_);return S&&(K+=" "+S),T.className&&(K+=" "+T.className),I[zC(R)&&!ase.has(R)?"class":"className"]=K,G&&(I.ref=G),B.createElement(R,I)})(P,z,L)}O.displayName=h;var P=Re.forwardRef(O);return P.attrs=y,P.componentStyle=M,P.displayName=h,P.shouldForwardProp=b,P.foldedComponentIds=n?rg(i.foldedComponentIds,i.styledComponentId):"",P.styledComponentId=m,P.target=n?i.target:t,Object.defineProperty(P,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(z){this._foldedDefaultProps=n?(function(L){for(var W=[],H=1;H<arguments.length;H++)W[H-1]=arguments[H];for(var G=0,N=W;G<N.length;G++)OM(L,N[G],!0);return L})({},i.defaultProps,z):z}}),ij(P,function(){return".".concat(P.styledComponentId)}),s&&fse(P,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),P}function Wq(t,e){for(var r=[t[0]],n=0,i=e.length;n<i;n+=1)r.push(e[n],t[n+1]);return r}var qq=function(t){return Object.assign(t,{isCss:!0})};function us(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(Qy(t)||H3(t))return qq(N0(Wq(l9,Vy([t],e,!0))));var n=t;return e.length===0&&n.length===1&&typeof n[0]=="string"?N0(n):qq(N0(Wq(n,e)))}function DM(t,e,r){if(r===void 0&&(r=Zy),!e)throw L5(1,e);var n=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,r,us.apply(void 0,Vy([i],s,!1)))};return n.attrs=function(i){return DM(t,e,$o($o({},r),{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},n.withConfig=function(i){return DM(t,e,$o($o({},r),i))},n}var xse=function(t){return DM(fTe,t)},he=xse;ase.forEach(function(t){he[t]=xse(t)});var pTe=(function(){function t(e,r){this.rules=e,this.componentId=r,this.isStatic=bse(e),sE.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,r,n,i){var s=i(nE(N0(this.rules,r,n,i)),""),o=this.componentId+e;n.insertRules(o,o,s)},t.prototype.removeStyles=function(e,r){r.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,r,n,i){e>2&&sE.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,r,n,i)},t})();function gTe(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=us.apply(void 0,Vy([t],e,!1)),i="sc-global-".concat(rj(JSON.stringify(n))),s=new pTe(n,i),o=function(l){var u=LM(),c=Re.useContext(sj),h=Re.useRef(u.styleSheet.allocateGSInstance(i)).current;return u.styleSheet.server&&a(h,l,u.styleSheet,c,u.stylis),Re.useLayoutEffect(function(){if(!u.styleSheet.server)return a(h,l,u.styleSheet,c,u.stylis),function(){return s.removeStyles(h,u.styleSheet)}},[h,l,u.styleSheet,c,u.stylis]),null};function a(l,u,c,h,m){if(s.isStatic)s.renderStyles(l,jIe,c,m);else{var y=$o($o({},u),{theme:ose(u,h,o.defaultProps)});s.renderStyles(l,y,c,m)}}return Re.memo(o)}function Ese(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=nE(us.apply(void 0,Vy([t],e,!1))),i=rj(n);return new yse(i,n)}function oE(t){"@babel/helpers - typeof";return oE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oE(t)}var mTe=/^\s+/,yTe=/\s+$/;function Jt(t,e){if(t=t||"",e=e||{},t instanceof Jt)return t;if(!(this instanceof Jt))return new Jt(t,e);var r=wTe(t);this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}Jt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),r,n,i,s,o,a;return r=e.r/255,n=e.g/255,i=e.b/255,r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(e){return this._a=_se(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=Vq(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=Vq(this._r,this._g,this._b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+r+", "+n+"%, "+i+"%)":"hsva("+r+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=Hq(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=Hq(this._r,this._g,this._b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+r+", "+n+"%, "+i+"%)":"hsla("+r+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return Kq(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return ETe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(hi(this._r,255)*100)+"%",g:Math.round(hi(this._g,255)*100)+"%",b:Math.round(hi(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(hi(this._r,255)*100)+"%, "+Math.round(hi(this._g,255)*100)+"%, "+Math.round(hi(this._b,255)*100)+"%)":"rgba("+Math.round(hi(this._r,255)*100)+"%, "+Math.round(hi(this._g,255)*100)+"%, "+Math.round(hi(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:RTe[Kq(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var r="#"+Gq(this._r,this._g,this._b,this._a),n=r,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=Jt(e);n="#"+Gq(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+r+",endColorstr="+n+")"},toString:function(e){var r=!!e;e=e||this._format;var n=!1,i=this._a<1&&this._a>=0,s=!r&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(n=this.toRgbString()),e==="prgb"&&(n=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(n=this.toHexString()),e==="hex3"&&(n=this.toHexString(!0)),e==="hex4"&&(n=this.toHex8String(!0)),e==="hex8"&&(n=this.toHex8String()),e==="name"&&(n=this.toName()),e==="hsl"&&(n=this.toHslString()),e==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return Jt(this.toString())},_applyModification:function(e,r){var n=e.apply(null,[this].concat([].slice.call(r)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(CTe,arguments)},brighten:function(){return this._applyModification(kTe,arguments)},darken:function(){return this._applyModification(ITe,arguments)},desaturate:function(){return this._applyModification(_Te,arguments)},saturate:function(){return this._applyModification(ATe,arguments)},greyscale:function(){return this._applyModification(STe,arguments)},spin:function(){return this._applyModification(TTe,arguments)},_applyCombination:function(e,r){return e.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(PTe,arguments)},complement:function(){return this._applyCombination($Te,arguments)},monochromatic:function(){return this._applyCombination(NTe,arguments)},splitcomplement:function(){return this._applyCombination(MTe,arguments)},triad:function(){return this._applyCombination(Yq,[3])},tetrad:function(){return this._applyCombination(Yq,[4])}};Jt.fromRatio=function(t,e){if(oE(t)=="object"){var r={};for(var n in t)t.hasOwnProperty(n)&&(n==="a"?r[n]=t[n]:r[n]=Zv(t[n]));t=r}return Jt(t,e)};function wTe(t){var e={r:0,g:0,b:0},r=1,n=null,i=null,s=null,o=!1,a=!1;return typeof t=="string"&&(t=DTe(t)),oE(t)=="object"&&(Yd(t.r)&&Yd(t.g)&&Yd(t.b)?(e=vTe(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Yd(t.h)&&Yd(t.s)&&Yd(t.v)?(n=Zv(t.s),i=Zv(t.v),e=xTe(t.h,n,i),o=!0,a="hsv"):Yd(t.h)&&Yd(t.s)&&Yd(t.l)&&(n=Zv(t.s),s=Zv(t.l),e=bTe(t.h,n,s),o=!0,a="hsl"),t.hasOwnProperty("a")&&(r=t.a)),r=_se(r),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}function vTe(t,e,r){return{r:hi(t,255)*255,g:hi(e,255)*255,b:hi(r,255)*255}}function Hq(t,e,r){t=hi(t,255),e=hi(e,255),r=hi(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),s,o,a=(n+i)/2;if(n==i)s=o=0;else{var l=n-i;switch(o=a>.5?l/(2-n-i):l/(n+i),n){case t:s=(e-r)/l+(e<r?6:0);break;case e:s=(r-t)/l+2;break;case r:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,l:a}}function bTe(t,e,r){var n,i,s;t=hi(t,360),e=hi(e,100),r=hi(r,100);function o(u,c,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?u+(c-u)*6*h:h<1/2?c:h<2/3?u+(c-u)*(2/3-h)*6:u}if(e===0)n=i=s=r;else{var a=r<.5?r*(1+e):r+e-r*e,l=2*r-a;n=o(l,a,t+1/3),i=o(l,a,t),s=o(l,a,t-1/3)}return{r:n*255,g:i*255,b:s*255}}function Vq(t,e,r){t=hi(t,255),e=hi(e,255),r=hi(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),s,o,a=n,l=n-i;if(o=n===0?0:l/n,n==i)s=0;else{switch(n){case t:s=(e-r)/l+(e<r?6:0);break;case e:s=(r-t)/l+2;break;case r:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,v:a}}function xTe(t,e,r){t=hi(t,360)*6,e=hi(e,100),r=hi(r,100);var n=Math.floor(t),i=t-n,s=r*(1-e),o=r*(1-i*e),a=r*(1-(1-i)*e),l=n%6,u=[r,o,s,s,a,r][l],c=[a,r,r,o,s,s][l],h=[s,s,a,r,r,o][l];return{r:u*255,g:c*255,b:h*255}}function Kq(t,e,r,n){var i=[ru(Math.round(t).toString(16)),ru(Math.round(e).toString(16)),ru(Math.round(r).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function ETe(t,e,r,n,i){var s=[ru(Math.round(t).toString(16)),ru(Math.round(e).toString(16)),ru(Math.round(r).toString(16)),ru(Ase(n))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function Gq(t,e,r,n){var i=[ru(Ase(n)),ru(Math.round(t).toString(16)),ru(Math.round(e).toString(16)),ru(Math.round(r).toString(16))];return i.join("")}Jt.equals=function(t,e){return!t||!e?!1:Jt(t).toRgbString()==Jt(e).toRgbString()};Jt.random=function(){return Jt.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function _Te(t,e){e=e===0?0:e||10;var r=Jt(t).toHsl();return r.s-=e/100,r.s=c9(r.s),Jt(r)}function ATe(t,e){e=e===0?0:e||10;var r=Jt(t).toHsl();return r.s+=e/100,r.s=c9(r.s),Jt(r)}function STe(t){return Jt(t).desaturate(100)}function CTe(t,e){e=e===0?0:e||10;var r=Jt(t).toHsl();return r.l+=e/100,r.l=c9(r.l),Jt(r)}function kTe(t,e){e=e===0?0:e||10;var r=Jt(t).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),Jt(r)}function ITe(t,e){e=e===0?0:e||10;var r=Jt(t).toHsl();return r.l-=e/100,r.l=c9(r.l),Jt(r)}function TTe(t,e){var r=Jt(t).toHsl(),n=(r.h+e)%360;return r.h=n<0?360+n:n,Jt(r)}function $Te(t){var e=Jt(t).toHsl();return e.h=(e.h+180)%360,Jt(e)}function Yq(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var r=Jt(t).toHsl(),n=[Jt(t)],i=360/e,s=1;s<e;s++)n.push(Jt({h:(r.h+s*i)%360,s:r.s,l:r.l}));return n}function MTe(t){var e=Jt(t).toHsl(),r=e.h;return[Jt(t),Jt({h:(r+72)%360,s:e.s,l:e.l}),Jt({h:(r+216)%360,s:e.s,l:e.l})]}function PTe(t,e,r){e=e||6,r=r||30;var n=Jt(t).toHsl(),i=360/r,s=[Jt(t)];for(n.h=(n.h-(i*e>>1)+720)%360;--e;)n.h=(n.h+i)%360,s.push(Jt(n));return s}function NTe(t,e){e=e||6;for(var r=Jt(t).toHsv(),n=r.h,i=r.s,s=r.v,o=[],a=1/e;e--;)o.push(Jt({h:n,s:i,v:s})),s=(s+a)%1;return o}Jt.mix=function(t,e,r){r=r===0?0:r||50;var n=Jt(t).toRgb(),i=Jt(e).toRgb(),s=r/100,o={r:(i.r-n.r)*s+n.r,g:(i.g-n.g)*s+n.g,b:(i.b-n.b)*s+n.b,a:(i.a-n.a)*s+n.a};return Jt(o)};Jt.readability=function(t,e){var r=Jt(t),n=Jt(e);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)};Jt.isReadable=function(t,e,r){var n=Jt.readability(t,e),i,s;switch(s=!1,i=BTe(r),i.level+i.size){case"AAsmall":case"AAAlarge":s=n>=4.5;break;case"AAlarge":s=n>=3;break;case"AAAsmall":s=n>=7;break}return s};Jt.mostReadable=function(t,e,r){var n=null,i=0,s,o,a,l;r=r||{},o=r.includeFallbackColors,a=r.level,l=r.size;for(var u=0;u<e.length;u++)s=Jt.readability(t,e[u]),s>i&&(i=s,n=Jt(e[u]));return Jt.isReadable(t,n,{level:a,size:l})||!o?n:(r.includeFallbackColors=!1,Jt.mostReadable(t,["#fff","#000"],r))};var BM=Jt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},RTe=Jt.hexNames=OTe(BM);function OTe(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}function _se(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function hi(t,e){jTe(t)&&(t="100%");var r=LTe(t);return t=Math.min(e,Math.max(0,parseFloat(t))),r&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function c9(t){return Math.min(1,Math.max(0,t))}function il(t){return parseInt(t,16)}function jTe(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function LTe(t){return typeof t=="string"&&t.indexOf("%")!=-1}function ru(t){return t.length==1?"0"+t:""+t}function Zv(t){return t<=1&&(t=t*100+"%"),t}function Ase(t){return Math.round(parseFloat(t)*255).toString(16)}function Zq(t){return il(t)/255}var Bc=(function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",r="(?:"+e+")|(?:"+t+")",n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function Yd(t){return!!Bc.CSS_UNIT.exec(t)}function DTe(t){t=t.replace(mTe,"").replace(yTe,"").toLowerCase();var e=!1;if(BM[t])t=BM[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=Bc.rgb.exec(t))?{r:r[1],g:r[2],b:r[3]}:(r=Bc.rgba.exec(t))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=Bc.hsl.exec(t))?{h:r[1],s:r[2],l:r[3]}:(r=Bc.hsla.exec(t))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=Bc.hsv.exec(t))?{h:r[1],s:r[2],v:r[3]}:(r=Bc.hsva.exec(t))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=Bc.hex8.exec(t))?{r:il(r[1]),g:il(r[2]),b:il(r[3]),a:Zq(r[4]),format:e?"name":"hex8"}:(r=Bc.hex6.exec(t))?{r:il(r[1]),g:il(r[2]),b:il(r[3]),format:e?"name":"hex"}:(r=Bc.hex4.exec(t))?{r:il(r[1]+""+r[1]),g:il(r[2]+""+r[2]),b:il(r[3]+""+r[3]),a:Zq(r[4]+""+r[4]),format:e?"name":"hex8"}:(r=Bc.hex3.exec(t))?{r:il(r[1]+""+r[1]),g:il(r[2]+""+r[2]),b:il(r[3]+""+r[3]),format:e?"name":"hex"}:!1}function BTe(t){var e,r;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),r=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:e,size:r}}function UTe({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const u9=B.forwardRef(UTe);function FTe({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.864 4.243A7.5 7.5 0 0 1 19.5 10.5c0 2.92-.556 5.709-1.568 8.268M5.742 6.364A7.465 7.465 0 0 0 4.5 10.5a7.464 7.464 0 0 1-1.15 3.993m1.989 3.559A11.209 11.209 0 0 0 8.25 10.5a3.75 3.75 0 1 1 7.5 0c0 .527-.021 1.049-.064 1.565M12 10.5a14.94 14.94 0 0 1-3.6 9.75m6.633-4.596a18.666 18.666 0 0 1-2.485 5.33"}))}const oj=B.forwardRef(FTe);function zTe({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const W0=B.forwardRef(zTe);function WTe({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Fg=B.forwardRef(WTe);function qTe({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const HTe=B.forwardRef(qTe);function VTe({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const KTe=B.forwardRef(VTe);function GTe({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}const Ay=B.forwardRef(GTe);function YTe({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const ZTe=B.forwardRef(YTe);function QTe({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const JTe=B.forwardRef(QTe);function XTe({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const hm=B.forwardRef(XTe);function e$e({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const d9=B.forwardRef(e$e),Qq=t=>{let e;const r=new Set,n=(u,c)=>{const h=typeof u=="function"?u(e):u;if(!Object.is(h,e)){const m=e;e=c??(typeof h!="object"||h===null)?h:Object.assign({},e,h),r.forEach(y=>y(e,m))}},i=()=>e,a={setState:n,getState:i,getInitialState:()=>l,subscribe:u=>(r.add(u),()=>r.delete(u))},l=e=t(n,i,a);return a},t$e=(t=>t?Qq(t):Qq),r$e=t=>t;function n$e(t,e=r$e){const r=Re.useSyncExternalStore(t.subscribe,Re.useCallback(()=>e(t.getState()),[t,e]),Re.useCallback(()=>e(t.getInitialState()),[t,e]));return Re.useDebugValue(r),r}const Jq=t=>{const e=t$e(t),r=n=>n$e(e,n);return Object.assign(r,e),r},Nw=(t=>t?Jq(t):Jq),Sse=typeof document<"u"?Re.useLayoutEffect:()=>{};var qC;const i$e=(qC=Re.useInsertionEffect)!==null&&qC!==void 0?qC:Sse;function s$e(t){const e=B.useRef(null);return i$e(()=>{e.current=t},[t]),B.useCallback((...r)=>{const n=e.current;return n?.(...r)},[])}const np=t=>{var e;return(e=t?.ownerDocument)!==null&&e!==void 0?e:document},ng=t=>t&&"window"in t&&t.window===t?t:np(t).defaultView||window;function o$e(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&typeof t.nodeType=="number"}function a$e(t){return o$e(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t}let l$e=!1;function aj(){return l$e}function Cse(t,e){if(!aj())return e&&t?t.contains(e):!1;if(!t||!e)return!1;let r=e;for(;r!==null;){if(r===t)return!0;r.tagName==="SLOT"&&r.assignedSlot?r=r.assignedSlot.parentNode:a$e(r)?r=r.host:r=r.parentNode}return!1}const UM=(t=document)=>{var e;if(!aj())return t.activeElement;let r=t.activeElement;for(;r&&"shadowRoot"in r&&(!((e=r.shadowRoot)===null||e===void 0)&&e.activeElement);)r=r.shadowRoot.activeElement;return r};function kse(t){return aj()&&t.target.shadowRoot&&t.composedPath?t.composedPath()[0]:t.target}function c$e(t){var e;if(typeof window>"u"||window.navigator==null)return!1;let r=(e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands;return Array.isArray(r)&&r.some(n=>t.test(n.brand))||t.test(window.navigator.userAgent)}function u$e(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function Ise(t){let e=null;return()=>(e==null&&(e=t()),e)}const d$e=Ise(function(){return u$e(/^Mac/i)}),h$e=Ise(function(){return c$e(/Android/i)});function Tse(){let t=B.useRef(new Map),e=B.useCallback((i,s,o,a)=>{let l=a?.once?(...u)=>{t.current.delete(o),o(...u)}:o;t.current.set(o,{type:s,eventTarget:i,fn:l,options:a}),i.addEventListener(s,l,a)},[]),r=B.useCallback((i,s,o,a)=>{var l;let u=((l=t.current.get(o))===null||l===void 0?void 0:l.fn)||o;i.removeEventListener(s,u,a),t.current.delete(o)},[]),n=B.useCallback(()=>{t.current.forEach((i,s)=>{r(i.eventTarget,i.type,s,i.options)})},[r]);return B.useEffect(()=>n,[n]),{addGlobalListener:e,removeGlobalListener:r,removeAllGlobalListeners:n}}function f$e(t){return t.pointerType===""&&t.isTrusted?!0:h$e()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}var Id=WX();function $se(t){let e=t;return e.nativeEvent=t,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function p$e(t,e){Object.defineProperty(t,"target",{value:e}),Object.defineProperty(t,"currentTarget",{value:e})}function Mse(t){let e=B.useRef({isFocused:!1,observer:null});Sse(()=>{const n=e.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let r=s$e(n=>{t?.(n)});return B.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){e.current.isFocused=!0;let i=n.target,s=o=>{if(e.current.isFocused=!1,i.disabled){let a=$se(o);r(a)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};i.addEventListener("focusout",s,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&i.disabled){var o;(o=e.current.observer)===null||o===void 0||o.disconnect();let a=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),e.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[r])}let g$e=!1,D5=null,FM=new Set,Ab=new Map,zg=!1,zM=!1;const m$e={Tab:!0,Escape:!0};function lj(t,e){for(let r of FM)r(t,e)}function y$e(t){return!(t.metaKey||!d$e()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function aE(t){zg=!0,y$e(t)&&(D5="keyboard",lj("keyboard",t))}function Sy(t){D5="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(zg=!0,lj("pointer",t))}function Pse(t){f$e(t)&&(zg=!0,D5="virtual")}function Nse(t){t.target===window||t.target===document||g$e||!t.isTrusted||(!zg&&!zM&&(D5="virtual",lj("virtual",t)),zg=!1,zM=!1)}function Rse(){zg=!1,zM=!0}function WM(t){if(typeof window>"u"||typeof document>"u"||Ab.get(ng(t)))return;const e=ng(t),r=np(t);let n=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){zg=!0,n.apply(this,arguments)},r.addEventListener("keydown",aE,!0),r.addEventListener("keyup",aE,!0),r.addEventListener("click",Pse,!0),e.addEventListener("focus",Nse,!0),e.addEventListener("blur",Rse,!1),typeof PointerEvent<"u"&&(r.addEventListener("pointerdown",Sy,!0),r.addEventListener("pointermove",Sy,!0),r.addEventListener("pointerup",Sy,!0)),e.addEventListener("beforeunload",()=>{Ose(t)},{once:!0}),Ab.set(e,{focus:n})}const Ose=(t,e)=>{const r=ng(t),n=np(t);e&&n.removeEventListener("DOMContentLoaded",e),Ab.has(r)&&(r.HTMLElement.prototype.focus=Ab.get(r).focus,n.removeEventListener("keydown",aE,!0),n.removeEventListener("keyup",aE,!0),n.removeEventListener("click",Pse,!0),r.removeEventListener("focus",Nse,!0),r.removeEventListener("blur",Rse,!1),typeof PointerEvent<"u"&&(n.removeEventListener("pointerdown",Sy,!0),n.removeEventListener("pointermove",Sy,!0),n.removeEventListener("pointerup",Sy,!0)),Ab.delete(r))};function w$e(t){const e=np(t);let r;return e.readyState!=="loading"?WM(t):(r=()=>{WM(t)},e.addEventListener("DOMContentLoaded",r)),()=>Ose(t,r)}typeof document<"u"&&w$e();function jse(){return D5!=="pointer"}const v$e=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function b$e(t,e,r){let n=np(r?.target);const i=typeof window<"u"?ng(r?.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?ng(r?.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?ng(r?.target).HTMLElement:HTMLElement,a=typeof window<"u"?ng(r?.target).KeyboardEvent:KeyboardEvent;return t=t||n.activeElement instanceof i&&!v$e.has(n.activeElement.type)||n.activeElement instanceof s||n.activeElement instanceof o&&n.activeElement.isContentEditable,!(t&&e==="keyboard"&&r instanceof a&&!m$e[r.key])}function x$e(t,e,r){WM(),B.useEffect(()=>{let n=(i,s)=>{b$e(!!r?.isTextInput,i,s)&&t(jse())};return FM.add(n),()=>{FM.delete(n)}},e)}function E$e(t){let{isDisabled:e,onFocus:r,onBlur:n,onFocusChange:i}=t;const s=B.useCallback(l=>{if(l.target===l.currentTarget)return n&&n(l),i&&i(!1),!0},[n,i]),o=Mse(s),a=B.useCallback(l=>{const u=np(l.target),c=u?UM(u):UM();l.target===l.currentTarget&&c===kse(l.nativeEvent)&&(r&&r(l),i&&i(!0),o(l))},[i,r,o]);return{focusProps:{onFocus:!e&&(r||i||n)?a:void 0,onBlur:!e&&(n||i)?s:void 0}}}function _$e(t){let{isDisabled:e,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:i}=t,s=B.useRef({isFocusWithin:!1}),{addGlobalListener:o,removeAllGlobalListeners:a}=Tse(),l=B.useCallback(h=>{h.currentTarget.contains(h.target)&&s.current.isFocusWithin&&!h.currentTarget.contains(h.relatedTarget)&&(s.current.isFocusWithin=!1,a(),r&&r(h),i&&i(!1))},[r,i,s,a]),u=Mse(l),c=B.useCallback(h=>{if(!h.currentTarget.contains(h.target))return;const m=np(h.target),y=UM(m);if(!s.current.isFocusWithin&&y===kse(h.nativeEvent)){n&&n(h),i&&i(!0),s.current.isFocusWithin=!0,u(h);let b=h.currentTarget;o(m,"focus",E=>{if(s.current.isFocusWithin&&!Cse(b,E.target)){let A=new m.defaultView.FocusEvent("blur",{relatedTarget:E.target});p$e(A,b);let M=$se(A);l(M)}},{capture:!0})}},[n,i,u,o,l]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:c,onBlur:l}}}let qM=!1,B4=0;function A$e(){qM=!0,setTimeout(()=>{qM=!1},50)}function Xq(t){t.pointerType==="touch"&&A$e()}function S$e(){if(!(typeof document>"u"))return B4===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",Xq),B4++,()=>{B4--,!(B4>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",Xq)}}function C$e(t){let{onHoverStart:e,onHoverChange:r,onHoverEnd:n,isDisabled:i}=t,[s,o]=B.useState(!1),a=B.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;B.useEffect(S$e,[]);let{addGlobalListener:l,removeAllGlobalListeners:u}=Tse(),{hoverProps:c,triggerHoverEnd:h}=B.useMemo(()=>{let m=(E,A)=>{if(a.pointerType=A,i||A==="touch"||a.isHovered||!E.currentTarget.contains(E.target))return;a.isHovered=!0;let M=E.currentTarget;a.target=M,l(np(E.target),"pointerover",O=>{a.isHovered&&a.target&&!Cse(a.target,O.target)&&y(O,O.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:M,pointerType:A}),r&&r(!0),o(!0)},y=(E,A)=>{let M=a.target;a.pointerType="",a.target=null,!(A==="touch"||!a.isHovered||!M)&&(a.isHovered=!1,u(),n&&n({type:"hoverend",target:M,pointerType:A}),r&&r(!1),o(!1))},b={};return typeof PointerEvent<"u"&&(b.onPointerEnter=E=>{qM&&E.pointerType==="mouse"||m(E,E.pointerType)},b.onPointerLeave=E=>{!i&&E.currentTarget.contains(E.target)&&y(E,E.pointerType)}),{hoverProps:b,triggerHoverEnd:y}},[e,r,n,i,a,l,u]);return B.useEffect(()=>{i&&h({currentTarget:a.target},a.pointerType)},[i]),{hoverProps:c,isHovered:s}}function k$e(t={}){let{autoFocus:e=!1,isTextInput:r,within:n}=t,i=B.useRef({isFocused:!1,isFocusVisible:e||jse()}),[s,o]=B.useState(!1),[a,l]=B.useState(()=>i.current.isFocused&&i.current.isFocusVisible),u=B.useCallback(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),c=B.useCallback(y=>{i.current.isFocused=y,o(y),u()},[u]);x$e(y=>{i.current.isFocusVisible=y,u()},[],{isTextInput:r});let{focusProps:h}=E$e({isDisabled:n,onFocusChange:c}),{focusWithinProps:m}=_$e({isDisabled:!n,onFocusWithinChange:c});return{isFocused:s,isFocusVisible:a,focusProps:n?m:h}}var I$e=Object.defineProperty,T$e=(t,e,r)=>e in t?I$e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,HC=(t,e,r)=>(T$e(t,typeof e!="symbol"?e+"":e,r),r);let $$e=class{constructor(){HC(this,"current",this.detect()),HC(this,"handoffState","pending"),HC(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Nh=new $$e;function fm(t){var e,r;return Nh.isServer?null:t?"ownerDocument"in t?t.ownerDocument:"current"in t?(r=(e=t.current)==null?void 0:e.ownerDocument)!=null?r:document:null:document}function h9(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Ga(){let t=[],e={addEventListener(r,n,i,s){return r.addEventListener(n,i,s),e.add(()=>r.removeEventListener(n,i,s))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return h9(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,i){let s=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:i}),this.add(()=>{Object.assign(r.style,{[n]:s})})},group(r){let n=Ga();return r(n),this.add(()=>n.dispose())},add(r){return t.includes(r)||t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let i of t.splice(n,1))i()}},dispose(){for(let r of t.splice(0))r()}};return e}function pm(){let[t]=B.useState(Ga);return B.useEffect(()=>()=>t.dispose(),[t]),t}let ai=(t,e)=>{Nh.isServer?B.useEffect(t,e):B.useLayoutEffect(t,e)};function gm(t){let e=B.useRef(t);return ai(()=>{e.current=t},[t]),e}let Er=function(t){let e=gm(t);return Re.useCallback((...r)=>e.current(...r),[e])};function M$e(t){let e=t.width/2,r=t.height/2;return{top:t.clientY-r,right:t.clientX+e,bottom:t.clientY+r,left:t.clientX-e}}function P$e(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function N$e({disabled:t=!1}={}){let e=B.useRef(null),[r,n]=B.useState(!1),i=pm(),s=Er(()=>{e.current=null,n(!1),i.dispose()}),o=Er(a=>{if(i.dispose(),e.current===null){e.current=a.currentTarget,n(!0);{let l=fm(a.currentTarget);i.addEventListener(l,"pointerup",s,!1),i.addEventListener(l,"pointermove",u=>{if(e.current){let c=M$e(u);n(P$e(c,e.current.getBoundingClientRect()))}},!1),i.addEventListener(l,"pointercancel",s,!1)}}});return{pressed:r,pressProps:t?{}:{onPointerDown:o,onPointerUp:s,onClick:s}}}function Od(t){return B.useMemo(()=>t,Object.values(t))}let R$e=B.createContext(void 0);function Lse(){return B.useContext(R$e)}function HM(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function yu(t,e,...r){if(t in e){let i=e[t];return typeof i=="function"?i(...r):i}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,yu),n}var Jy=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Jy||{}),k0=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(k0||{});function Zi(){let t=j$e();return B.useCallback(e=>O$e({mergeRefs:t,...e}),[t])}function O$e({ourProps:t,theirProps:e,slot:r,defaultTag:n,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??L$e;let l=Dse(e,t);if(s)return U4(l,r,n,o,a);let u=i??0;if(u&2){let{static:c=!1,...h}=l;if(c)return U4(h,r,n,o,a)}if(u&1){let{unmount:c=!0,...h}=l;return yu(c?0:1,{0(){return null},1(){return U4({...h,hidden:!0,style:{display:"none"}},r,n,o,a)}})}return U4(l,r,n,o,a)}function U4(t,e={},r,n,i){let{as:s=r,children:o,refName:a="ref",...l}=VC(t,["unmount","static"]),u=t.ref!==void 0?{[a]:t.ref}:{},c=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let h={};if(e){let m=!1,y=[];for(let[b,E]of Object.entries(e))typeof E=="boolean"&&(m=!0),E===!0&&y.push(b.replace(/([A-Z])/g,A=>`-${A.toLowerCase()}`));if(m){h["data-headlessui-state"]=y.join(" ");for(let b of y)h[`data-${b}`]=""}}if(Sb(s)&&(Object.keys(zp(l)).length>0||Object.keys(zp(h)).length>0))if(!B.isValidElement(c)||Array.isArray(c)&&c.length>1||B$e(c)){if(Object.keys(zp(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(zp(l)).concat(Object.keys(zp(h))).map(m=>`  - ${m}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(m=>`  - ${m}`).join(`
`)].join(`
`))}else{let m=c.props,y=m?.className,b=typeof y=="function"?(...M)=>HM(y(...M),l.className):HM(y,l.className),E=b?{className:b}:{},A=Dse(c.props,zp(VC(l,["ref"])));for(let M in h)M in A&&delete h[M];return B.cloneElement(c,Object.assign({},A,h,u,{ref:i(D$e(c),u.ref)},E))}return B.createElement(s,Object.assign({},VC(l,["ref"]),!Sb(s)&&u,!Sb(s)&&h),c)}function j$e(){let t=B.useRef([]),e=B.useCallback(r=>{for(let n of t.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return t.current=r,e}}function L$e(...t){return t.every(e=>e==null)?void 0:e=>{for(let r of t)r!=null&&(typeof r=="function"?r(e):r.current=e)}}function Dse(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):e[i]=n[i];if(e.disabled||e["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[i=>{var s;return(s=i?.preventDefault)==null?void 0:s.call(i)}]);for(let n in r)Object.assign(e,{[n](i,...s){let o=r[n];for(let a of o){if((i instanceof Event||i?.nativeEvent instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function Bse(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):e[i]=n[i];for(let n in r)Object.assign(e,{[n](...i){let s=r[n];for(let o of s)o?.(...i)}});return e}function ki(t){var e;return Object.assign(B.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function zp(t){let e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function VC(t,e=[]){let r=Object.assign({},t);for(let n of e)n in r&&delete r[n];return r}function D$e(t){return Re.version.split(".")[0]>="19"?t.props.ref:t.ref}function Sb(t){return t===B.Fragment||t===Symbol.for("react.fragment")}function B$e(t){return Sb(t.type)}let U$e="span";var lE=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(lE||{});function F$e(t,e){var r;let{features:n=1,...i}=t,s={ref:e,"aria-hidden":(n&2)===2?!0:(r=i["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Zi()({ourProps:s,theirProps:i,slot:{},defaultTag:U$e,name:"Hidden"})}let VM=ki(F$e),z$e=B.createContext(void 0);function W$e(){return B.useContext(z$e)}function Use(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function Rh(t){return Use(t)&&"tagName"in t}function Cl(t){return Rh(t)&&"accessKey"in t}function bd(t){return Rh(t)&&"tabIndex"in t}function q$e(t){return Rh(t)&&"style"in t}function H$e(t){return Cl(t)&&t.nodeName==="IFRAME"}function Fse(t){return Cl(t)&&t.nodeName==="INPUT"}function eH(t){return Cl(t)&&t.nodeName==="LABEL"}function V$e(t){return Cl(t)&&t.nodeName==="FIELDSET"}function zse(t){return Cl(t)&&t.nodeName==="LEGEND"}function K$e(t){return Rh(t)?t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function G$e(t){let e=t.parentElement,r=null;for(;e&&!V$e(e);)zse(e)&&(r=e),e=e.parentElement;let n=e?.getAttribute("disabled")==="";return n&&Y$e(r)?!1:n}function Y$e(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(zse(e))return!1;e=e.previousElementSibling}return!0}let Wse=Symbol();function Z$e(t,e=!0){return Object.assign(t,{[Wse]:e})}function sa(...t){let e=B.useRef(t);B.useEffect(()=>{e.current=t},[t]);let r=Er(n=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(n):i.current=n)});return t.every(n=>n==null||n?.[Wse])?void 0:r}let cj=B.createContext(null);cj.displayName="DescriptionContext";function qse(){let t=B.useContext(cj);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,qse),e}return t}function Hse(){let[t,e]=B.useState([]);return[t.length>0?t.join(" "):void 0,B.useMemo(()=>function(r){let n=Er(s=>(e(o=>[...o,s]),()=>e(o=>{let a=o.slice(),l=a.indexOf(s);return l!==-1&&a.splice(l,1),a}))),i=B.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return Re.createElement(cj.Provider,{value:i},r.children)},[e])]}let Q$e="p";function J$e(t,e){let r=B.useId(),n=Lse(),{id:i=`headlessui-description-${r}`,...s}=t,o=qse(),a=sa(e);ai(()=>o.register(i),[i,o.register]);let l=Od({...o.slot,disabled:n||!1}),u={ref:a,...o.props,id:i};return Zi()({ourProps:u,theirProps:s,slot:l,defaultTag:Q$e,name:o.name||"Description"})}let X$e=ki(J$e),eMe=Object.assign(X$e,{});var vs=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(vs||{});let f9=B.createContext(null);f9.displayName="LabelContext";function uj(){let t=B.useContext(f9);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,uj),e}return t}function tMe(t){var e,r,n;let i=(r=(e=B.useContext(f9))==null?void 0:e.value)!=null?r:void 0;return((n=void 0)!=null?n:0)>0?[i,...t].filter(Boolean).join(" "):i}function Vse({inherit:t=!1}={}){let e=tMe(),[r,n]=B.useState([]),i=t?[e,...r].filter(Boolean):r;return[i.length>0?i.join(" "):void 0,B.useMemo(()=>function(s){let o=Er(l=>(n(u=>[...u,l]),()=>n(u=>{let c=u.slice(),h=c.indexOf(l);return h!==-1&&c.splice(h,1),c}))),a=B.useMemo(()=>({register:o,slot:s.slot,name:s.name,props:s.props,value:s.value}),[o,s.slot,s.name,s.props,s.value]);return Re.createElement(f9.Provider,{value:a},s.children)},[n])]}let rMe="label";function nMe(t,e){var r;let n=B.useId(),i=uj(),s=W$e(),o=Lse(),{id:a=`headlessui-label-${n}`,htmlFor:l=s??((r=i.props)==null?void 0:r.htmlFor),passive:u=!1,...c}=t,h=sa(e);ai(()=>i.register(a),[a,i.register]);let m=Er(E=>{let A=E.currentTarget;if(!(E.target!==E.currentTarget&&K$e(E.target))&&(eH(A)&&E.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(E),eH(A))){let M=document.getElementById(A.htmlFor);if(M){let O=M.getAttribute("disabled");if(O==="true"||O==="")return;let P=M.getAttribute("aria-disabled");if(P==="true"||P==="")return;(Fse(M)&&(M.type==="file"||M.type==="radio"||M.type==="checkbox")||M.role==="radio"||M.role==="checkbox"||M.role==="switch")&&M.click(),M.focus({preventScroll:!0})}}}),y=Od({...i.slot,disabled:o||!1}),b={ref:h,...i.props,id:a,htmlFor:l,onClick:m};return u&&("onClick"in b&&(delete b.htmlFor,delete b.onClick),"onClick"in c&&delete c.onClick),Zi()({ourProps:b,theirProps:c,slot:y,defaultTag:l?rMe:"div",name:i.name||"Label"})}let iMe=ki(nMe);Object.assign(iMe,{});let sMe=B.createContext(()=>{});function oMe({value:t,children:e}){return Re.createElement(sMe.Provider,{value:t},e)}function y1(t,e,r){let n=r.initialDeps??[],i;function s(){var o,a,l,u;let c;r.key&&((o=r.debug)!=null&&o.call(r))&&(c=Date.now());const h=t();if(!(h.length!==n.length||h.some((b,E)=>n[E]!==b)))return i;n=h;let y;if(r.key&&((a=r.debug)!=null&&a.call(r))&&(y=Date.now()),i=e(...h),r.key&&((l=r.debug)!=null&&l.call(r))){const b=Math.round((Date.now()-c)*100)/100,E=Math.round((Date.now()-y)*100)/100,A=E/16,M=(O,P)=>{for(O=String(O);O.length<P;)O=" "+O;return O};console.info(`%c⏱ ${M(E,5)} /${M(b,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*A,120))}deg 100% 31%);`,r?.key)}return(u=r?.onChange)==null||u.call(r,i),i}return s.updateDeps=o=>{n=o},s}function tH(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const aMe=(t,e)=>Math.abs(t-e)<1.01,lMe=(t,e,r)=>{let n;return function(...i){t.clearTimeout(n),n=t.setTimeout(()=>e.apply(this,i),r)}},rH=t=>{const{offsetWidth:e,offsetHeight:r}=t;return{width:e,height:r}},cMe=t=>t,uMe=t=>{const e=Math.max(t.startIndex-t.overscan,0),r=Math.min(t.endIndex+t.overscan,t.count-1),n=[];for(let i=e;i<=r;i++)n.push(i);return n},dMe=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;const i=o=>{const{width:a,height:l}=o;e({width:Math.round(a),height:Math.round(l)})};if(i(rH(r)),!n.ResizeObserver)return()=>{};const s=new n.ResizeObserver(o=>{const a=()=>{const l=o[0];if(l?.borderBoxSize){const u=l.borderBoxSize[0];if(u){i({width:u.inlineSize,height:u.blockSize});return}}i(rH(r))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()});return s.observe(r,{box:"border-box"}),()=>{s.unobserve(r)}},nH={passive:!0},iH=typeof window>"u"?!0:"onscrollend"in window,hMe=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;let i=0;const s=t.options.useScrollendEvent&&iH?()=>{}:lMe(n,()=>{e(i,!1)},t.options.isScrollingResetDelay),o=c=>()=>{const{horizontal:h,isRtl:m}=t.options;i=h?r.scrollLeft*(m&&-1||1):r.scrollTop,s(),e(i,c)},a=o(!0),l=o(!1);l(),r.addEventListener("scroll",a,nH);const u=t.options.useScrollendEvent&&iH;return u&&r.addEventListener("scrollend",l,nH),()=>{r.removeEventListener("scroll",a),u&&r.removeEventListener("scrollend",l)}},fMe=(t,e,r)=>{if(e?.borderBoxSize){const n=e.borderBoxSize[0];if(n)return Math.round(n[r.options.horizontal?"inlineSize":"blockSize"])}return t[r.options.horizontal?"offsetWidth":"offsetHeight"]},pMe=(t,{adjustments:e=0,behavior:r},n)=>{var i,s;const o=t+e;(s=(i=n.scrollElement)==null?void 0:i.scrollTo)==null||s.call(i,{[n.options.horizontal?"left":"top"]:o,behavior:r})};class gMe{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let r=null;const n=()=>r||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:r=new this.targetWindow.ResizeObserver(i=>{i.forEach(s=>{const o=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()})}));return{disconnect:()=>{var i;(i=n())==null||i.disconnect(),r=null},observe:i=>{var s;return(s=n())==null?void 0:s.observe(i,{box:"border-box"})},unobserve:i=>{var s;return(s=n())==null?void 0:s.unobserve(i)}}})(),this.range=null,this.setOptions=r=>{Object.entries(r).forEach(([n,i])=>{typeof i>"u"&&delete r[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:cMe,rangeExtractor:uMe,onChange:()=>{},measureElement:fMe,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...r}},this.notify=r=>{var n,i;(i=(n=this.options).onChange)==null||i.call(n,this,r)},this.maybeNotify=y1(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),r=>{this.notify(r)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(r=>r()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var r;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((r=this.scrollElement)==null?void 0:r.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(r,n)=>{const i=new Map,s=new Map;for(let o=n-1;o>=0;o--){const a=r[o];if(i.has(a.lane))continue;const l=s.get(a.lane);if(l==null||a.end>l.end?s.set(a.lane,a):a.end<l.end&&i.set(a.lane,!0),i.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((o,a)=>o.end===a.end?o.index-a.index:o.end-a.end)[0]:void 0},this.getMeasurementOptions=y1(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(r,n,i,s,o)=>(this.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:n,scrollMargin:i,getItemKey:s,enabled:o}),{key:!1}),this.getMeasurements=y1(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:r,paddingStart:n,scrollMargin:i,getItemKey:s,enabled:o},a)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(c=>{this.itemSizeCache.set(c.key,c.size)}));const l=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,l);for(let c=l;c<r;c++){const h=s(c),m=this.options.lanes===1?u[c-1]:this.getFurthestMeasurement(u,c),y=m?m.end+this.options.gap:n+i,b=a.get(h),E=typeof b=="number"?b:this.options.estimateSize(c),A=y+E,M=m?m.lane:c%this.options.lanes;u[c]={index:c,start:y,size:E,end:A,key:h,lane:M}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=y1(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(r,n,i,s)=>this.range=r.length>0&&n>0?mMe({measurements:r,outerSize:n,scrollOffset:i,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=y1(()=>{let r=null,n=null;const i=this.calculateRange();return i&&(r=i.startIndex,n=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,r,n]),[this.options.rangeExtractor,this.options.overscan,this.options.count,r,n]},(r,n,i,s,o)=>s===null||o===null?[]:r({startIndex:s,endIndex:o,overscan:n,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=r=>{const n=this.options.indexAttribute,i=r.getAttribute(n);return i?parseInt(i,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(r,n)=>{const i=this.indexFromElement(r),s=this.measurementsCache[i];if(!s)return;const o=s.key,a=this.elementsCache.get(o);a!==r&&(a&&this.observer.unobserve(a),this.observer.observe(r),this.elementsCache.set(o,r)),r.isConnected&&this.resizeItem(i,this.options.measureElement(r,n,this))},this.resizeItem=(r,n)=>{const i=this.measurementsCache[r];if(!i)return;const s=this.itemSizeCache.get(i.key)??i.size,o=n-s;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,o,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,n)),this.notify(!1))},this.measureElement=r=>{if(!r){this.elementsCache.forEach((n,i)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(i))});return}this._measureElement(r,void 0)},this.getVirtualItems=y1(()=>[this.getVirtualIndexes(),this.getMeasurements()],(r,n)=>{const i=[];for(let s=0,o=r.length;s<o;s++){const a=r[s],l=n[a];i.push(l)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=r=>{const n=this.getMeasurements();if(n.length!==0)return tH(n[Kse(0,n.length-1,i=>tH(n[i]).start,r)])},this.getOffsetForAlignment=(r,n,i=0)=>{const s=this.getSize(),o=this.getScrollOffset();n==="auto"&&(n=r>=o+s?"end":"start"),n==="center"?r+=(i-s)/2:n==="end"&&(r-=s);const a=this.getTotalSize()+this.options.scrollMargin-s;return Math.max(Math.min(a,r),0)},this.getOffsetForIndex=(r,n="auto")=>{r=Math.max(0,Math.min(r,this.options.count-1));const i=this.measurementsCache[r];if(!i)return;const s=this.getSize(),o=this.getScrollOffset();if(n==="auto")if(i.end>=o+s-this.options.scrollPaddingEnd)n="end";else if(i.start<=o+this.options.scrollPaddingStart)n="start";else return[o,n];const a=n==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(a,n,i.size),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(r,{align:n="start",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(r,n),{adjustments:void 0,behavior:i})},this.scrollToIndex=(r,{align:n="auto",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),r=Math.max(0,Math.min(r,this.options.count-1));let s=0;const o=10,a=u=>{if(!this.targetWindow)return;const c=this.getOffsetForIndex(r,u);if(!c){console.warn("Failed to get offset for index:",r);return}const[h,m]=c;this._scrollToOffset(h,{adjustments:void 0,behavior:i}),this.targetWindow.requestAnimationFrame(()=>{const y=this.getScrollOffset(),b=this.getOffsetForIndex(r,m);if(!b){console.warn("Failed to get offset for index:",r);return}aMe(b[0],y)||l(m)})},l=u=>{this.targetWindow&&(s++,s<o?this.targetWindow.requestAnimationFrame(()=>a(u)):console.warn(`Failed to scroll to index ${r} after ${o} attempts.`))};a(n)},this.scrollBy=(r,{behavior:n}={})=>{n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+r,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var r;const n=this.getMeasurements();let i;if(n.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((r=n[n.length-1])==null?void 0:r.end)??0;else{const s=Array(this.options.lanes).fill(null);let o=n.length-1;for(;o>=0&&s.some(a=>a===null);){const a=n[o];s[a.lane]===null&&(s[a.lane]=a.end),o--}i=Math.max(...s.filter(a=>a!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(r,{adjustments:n,behavior:i})=>{this.options.scrollToFn(r,{behavior:i,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const Kse=(t,e,r,n)=>{for(;t<=e;){const i=(t+e)/2|0,s=r(i);if(s<n)t=i+1;else if(s>n)e=i-1;else return i}return t>0?t-1:0};function mMe({measurements:t,outerSize:e,scrollOffset:r,lanes:n}){const i=t.length-1,s=l=>t[l].start;if(t.length<=n)return{startIndex:0,endIndex:i};let o=Kse(0,i,s,r),a=o;if(n===1)for(;a<i&&t[a].end<r+e;)a++;else if(n>1){const l=Array(n).fill(0);for(;a<i&&l.some(c=>c<r+e);){const c=t[a];l[c.lane]=c.end,a++}const u=Array(n).fill(r+e);for(;o>=0&&u.some(c=>c>=r);){const c=t[o];u[c.lane]=c.start,o--}o=Math.max(0,o-o%n),a=Math.min(i,a+(n-1-a%n))}return{startIndex:o,endIndex:a}}const sH=typeof document<"u"?B.useLayoutEffect:B.useEffect;function yMe(t){const e=B.useReducer(()=>({}),{})[1],r={...t,onChange:(i,s)=>{var o;s?Id.flushSync(e):e(),(o=t.onChange)==null||o.call(t,i,s)}},[n]=B.useState(()=>new gMe(r));return n.setOptions(r),sH(()=>n._didMount(),[]),sH(()=>n._willUpdate()),n}function wMe(t){return yMe({observeElementRect:dMe,observeElementOffset:hMe,scrollToFn:pMe,...t})}function oH(t){if(t===null)return{width:0,height:0};let{width:e,height:r}=t.getBoundingClientRect();return{width:e,height:r}}function vMe(t,e,r=!1){let[n,i]=B.useState(()=>oH(e));return ai(()=>{if(!e||!t)return;let s=Ga();return s.requestAnimationFrame(function o(){s.requestAnimationFrame(o),i(a=>{let l=oH(e);return l.width===a.width&&l.height===a.height?a:l})}),()=>{s.dispose()}},[e,t]),r?{width:`${n.width}px`,height:`${n.height}px`}:n}let Gse=class extends Map{constructor(e){super(),this.factory=e}get(e){let r=super.get(e);return r===void 0&&(r=this.factory(e),this.set(e,r)),r}};var bMe=Object.defineProperty,xMe=(t,e,r)=>e in t?bMe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,EMe=(t,e,r)=>(xMe(t,e+"",r),r),Yse=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},zl=(t,e,r)=>(Yse(t,e,"read from private field"),r?r.call(t):e.get(t)),KC=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},aH=(t,e,r,n)=>(Yse(t,e,"write to private field"),e.set(t,r),r),rd,Qv,Jv;let Zse=class{constructor(e){KC(this,rd,{}),KC(this,Qv,new Gse(()=>new Set)),KC(this,Jv,new Set),EMe(this,"disposables",Ga()),aH(this,rd,e),Nh.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return zl(this,rd)}subscribe(e,r){if(Nh.isServer)return()=>{};let n={selector:e,callback:r,current:e(zl(this,rd))};return zl(this,Jv).add(n),this.disposables.add(()=>{zl(this,Jv).delete(n)})}on(e,r){return Nh.isServer?()=>{}:(zl(this,Qv).get(e).add(r),this.disposables.add(()=>{zl(this,Qv).get(e).delete(r)}))}send(e){let r=this.reduce(zl(this,rd),e);if(r!==zl(this,rd)){aH(this,rd,r);for(let n of zl(this,Jv)){let i=n.selector(zl(this,rd));Qse(n.current,i)||(n.current=i,n.callback(i))}for(let n of zl(this,Qv).get(e.type))n(zl(this,rd),e)}}};rd=new WeakMap,Qv=new WeakMap,Jv=new WeakMap;function Qse(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:GC(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:GC(t.entries(),e.entries()):lH(t)&&lH(e)?GC(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function GC(t,e){do{let r=t.next(),n=e.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}while(!0)}function lH(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}function cH(t){let[e,r]=t(),n=Ga();return(...i)=>{e(...i),n.dispose(),n.microTask(r)}}var _Me=Object.defineProperty,AMe=(t,e,r)=>e in t?_Me(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,uH=(t,e,r)=>(AMe(t,typeof e!="symbol"?e+"":e,r),r),Jse=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(Jse||{});let SMe={0(t,e){let r=e.id,n=t.stack,i=t.stack.indexOf(r);if(i!==-1){let s=t.stack.slice();return s.splice(i,1),s.push(r),n=s,{...t,stack:n}}return{...t,stack:[...t.stack,r]}},1(t,e){let r=e.id,n=t.stack.indexOf(r);if(n===-1)return t;let i=t.stack.slice();return i.splice(n,1),{...t,stack:i}}},CMe=class Xse extends Zse{constructor(){super(...arguments),uH(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),uH(this,"selectors",{isTop:(e,r)=>e.stack[e.stack.length-1]===r,inStack:(e,r)=>e.stack.includes(r)})}static new(){return new Xse({stack:[]})}reduce(e,r){return yu(r.type,SMe,e,r)}};const p9=new Gse(()=>CMe.new());var YC={exports:{}},ZC={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dH;function kMe(){if(dH)return ZC;dH=1;var t=b5();function e(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var r=typeof Object.is=="function"?Object.is:e,n=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,o=t.useMemo,a=t.useDebugValue;return ZC.useSyncExternalStoreWithSelector=function(l,u,c,h,m){var y=i(null);if(y.current===null){var b={hasValue:!1,value:null};y.current=b}else b=y.current;y=o(function(){function A(L){if(!M){if(M=!0,O=L,L=h(L),m!==void 0&&b.hasValue){var W=b.value;if(m(W,L))return P=W}return P=L}if(W=P,r(O,L))return W;var H=h(L);return m!==void 0&&m(W,H)?(O=L,W):(O=L,P=H)}var M=!1,O,P,z=c===void 0?null:c;return[function(){return A(u())},z===null?void 0:function(){return A(z())}]},[u,c,h,m]);var E=n(l,y[0],y[1]);return s(function(){b.hasValue=!0,b.value=E},[E]),a(E),E},ZC}var hH;function IMe(){return hH||(hH=1,YC.exports=kMe()),YC.exports}var TMe=IMe();function ic(t,e,r=Qse){return TMe.useSyncExternalStoreWithSelector(Er(n=>t.subscribe($Me,n)),Er(()=>t.state),Er(()=>t.state),Er(e),r)}function $Me(t){return t}function B5(t,e){let r=B.useId(),n=p9.get(e),[i,s]=ic(n,B.useCallback(o=>[n.selectors.isTop(o,r),n.selectors.inStack(o,r)],[n,r]));return ai(()=>{if(t)return n.actions.push(r),()=>n.actions.pop(r)},[n,t,r]),t?s?i:!0:!1}let KM=new Map,Cb=new Map;function fH(t){var e;let r=(e=Cb.get(t))!=null?e:0;return Cb.set(t,r+1),r!==0?()=>pH(t):(KM.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>pH(t))}function pH(t){var e;let r=(e=Cb.get(t))!=null?e:1;if(r===1?Cb.delete(t):Cb.set(t,r-1),r!==1)return;let n=KM.get(t);n&&(n["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",n["aria-hidden"]),t.inert=n.inert,KM.delete(t))}function eoe(t,{allowed:e,disallowed:r}={}){let n=B5(t,"inert-others");ai(()=>{var i,s;if(!n)return;let o=Ga();for(let l of(i=r?.())!=null?i:[])l&&o.add(fH(l));let a=(s=e?.())!=null?s:[];for(let l of a){if(!l)continue;let u=fm(l);if(!u)continue;let c=l.parentElement;for(;c&&c!==u.body;){for(let h of c.children)a.some(m=>h.contains(m))||o.add(fH(h));c=c.parentElement}}return o.dispose},[n,e,r])}function toe(t,e,r){let n=gm(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&r()});B.useEffect(()=>{if(!t)return;let i=e===null?null:Cl(e)?e:e.current;if(!i)return;let s=Ga();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>n.current(i));o.observe(i),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>n.current(i));o.observe(i),s.add(()=>o.disconnect())}return()=>s.dispose()},[e,n,t])}let cE=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),MMe=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var eu=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(eu||{}),GM=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(GM||{}),PMe=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(PMe||{});function roe(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(cE)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function NMe(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(MMe)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var dj=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(dj||{});function hj(t,e=0){var r;return t===((r=fm(t))==null?void 0:r.body)?!1:yu(e,{0(){return t.matches(cE)},1(){let n=t;for(;n!==null;){if(n.matches(cE))return!0;n=n.parentElement}return!1}})}function noe(t){let e=fm(t);Ga().nextFrame(()=>{e&&bd(e.activeElement)&&!hj(e.activeElement,0)&&_d(t)})}var RMe=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(RMe||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function _d(t){t?.focus({preventScroll:!0})}let OMe=["textarea","input"].join(",");function jMe(t){var e,r;return(r=(e=t?.matches)==null?void 0:e.call(t,OMe))!=null?r:!1}function ioe(t,e=r=>r){return t.slice().sort((r,n)=>{let i=e(r),s=e(n);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function LMe(t,e){return Cy(roe(),e,{relativeTo:t})}function Cy(t,e,{sorted:r=!0,relativeTo:n=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?r?ioe(t):t:e&64?NMe(t):roe(t);i.length>0&&o.length>1&&(o=o.filter(y=>!i.some(b=>b!=null&&"current"in b?b?.current===y:b===y))),n=n??s.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(n))-1;if(e&4)return Math.max(0,o.indexOf(n))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},c=0,h=o.length,m;do{if(c>=h||c+h<=0)return 0;let y=l+c;if(e&16)y=(y+h)%h;else{if(y<0)return 3;if(y>=h)return 1}m=o[y],m?.focus(u),c+=a}while(m!==s.activeElement);return e&6&&jMe(m)&&m.select(),2}function soe(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function DMe(){return/Android/gi.test(window.navigator.userAgent)}function gH(){return soe()||DMe()}function oy(t,e,r,n){let i=gm(r);B.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return document.addEventListener(e,s,n),()=>document.removeEventListener(e,s,n)},[t,e,n])}function ooe(t,e,r,n){let i=gm(r);B.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return window.addEventListener(e,s,n),()=>window.removeEventListener(e,s,n)},[t,e,n])}const mH=30;function aoe(t,e,r){let n=gm(r),i=B.useCallback(function(a,l){if(a.defaultPrevented)return;let u=l(a);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let c=(function h(m){return typeof m=="function"?h(m()):Array.isArray(m)||m instanceof Set?m:[m]})(e);for(let h of c)if(h!==null&&(h.contains(u)||a.composed&&a.composedPath().includes(h)))return;return!hj(u,dj.Loose)&&u.tabIndex!==-1&&a.preventDefault(),n.current(a,u)},[n,e]),s=B.useRef(null);oy(t,"pointerdown",a=>{var l,u;gH()||(s.current=((u=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:u[0])||a.target)},!0),oy(t,"pointerup",a=>{if(gH()||!s.current)return;let l=s.current;return s.current=null,i(a,()=>l)},!0);let o=B.useRef({x:0,y:0});oy(t,"touchstart",a=>{o.current.x=a.touches[0].clientX,o.current.y=a.touches[0].clientY},!0),oy(t,"touchend",a=>{let l={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(l.x-o.current.x)>=mH||Math.abs(l.y-o.current.y)>=mH))return i(a,()=>bd(a.target)?a.target:null)},!0),ooe(t,"blur",a=>i(a,()=>H$e(window.document.activeElement)?window.document.activeElement:null),!0)}function Xy(...t){return B.useMemo(()=>fm(...t),[...t])}var BMe=(t=>(t[t.Ignore=0]="Ignore",t[t.Select=1]="Select",t[t.Close=2]="Close",t))(BMe||{});const F4={Ignore:{kind:0},Select:t=>({kind:1,target:t}),Close:{kind:2}},UMe=200,yH=5;function FMe(t,{trigger:e,action:r,close:n,select:i}){let s=B.useRef(null),o=B.useRef(null),a=B.useRef(null);oy(t&&e!==null,"pointerdown",l=>{Use(l?.target)&&e!=null&&e.contains(l.target)&&(o.current=l.x,a.current=l.y,s.current=l.timeStamp)}),oy(t&&e!==null,"pointerup",l=>{var u,c;let h=s.current;if(h===null||(s.current=null,!bd(l.target))||Math.abs(l.x-((u=o.current)!=null?u:l.x))<yH&&Math.abs(l.y-((c=a.current)!=null?c:l.y))<yH)return;let m=r(l);switch(m.kind){case 0:return;case 1:{l.timeStamp-h>UMe&&(i(m.target),n());break}case 2:{n();break}}},{capture:!0})}function loe(t,e,r,n){let i=gm(r);B.useEffect(()=>{t=t??window;function s(o){i.current(o)}return t.addEventListener(e,s,n),()=>t.removeEventListener(e,s,n)},[t,e,n])}function zMe(t,e){return B.useMemo(()=>{var r;if(t.type)return t.type;let n=(r=t.as)!=null?r:"button";if(typeof n=="string"&&n.toLowerCase()==="button"||e?.tagName==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function WMe(t){return B.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function qMe(t,e){let r=t(),n=new Set;return{getSnapshot(){return r},subscribe(i){return n.add(i),()=>n.delete(i)},dispatch(i,...s){let o=e[i].call(r,...s);o&&(r=o,n.forEach(a=>a()))}}}function HMe(){let t;return{before({doc:e}){var r;let n=e.documentElement,i=(r=e.defaultView)!=null?r:window;t=Math.max(0,i.innerWidth-n.clientWidth)},after({doc:e,d:r}){let n=e.documentElement,i=Math.max(0,n.clientWidth-n.offsetWidth),s=Math.max(0,t-i);r.style(n,"paddingRight",`${s}px`)}}}function VMe(){return soe()?{before({doc:t,d:e,meta:r}){function n(i){return r.containers.flatMap(s=>s()).some(s=>s.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=Ga();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(bd(a.target))try{let l=a.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),c=t.querySelector(u);bd(c)&&!n(c)&&(o=c)}catch{}},!0),e.addEventListener(t,"touchstart",a=>{if(bd(a.target)&&q$e(a.target))if(n(a.target)){let l=a.target;for(;l.parentElement&&n(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(t,"touchmove",a=>{if(bd(a.target)){if(Fse(a.target))return;if(n(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;s!==l&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function KMe(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function GMe(t){let e={};for(let r of t)Object.assign(e,r(e));return e}let ig=qMe(()=>new Map,{PUSH(t,e){var r;let n=(r=this.get(t))!=null?r:{doc:t,count:0,d:Ga(),meta:new Set};return n.count++,n.meta.add(e),this.set(t,n),this},POP(t,e){let r=this.get(t);return r&&(r.count--,r.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:r}){let n={doc:t,d:e,meta:GMe(r)},i=[VMe(),HMe(),KMe()];i.forEach(({before:s})=>s?.(n)),i.forEach(({after:s})=>s?.(n))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});ig.subscribe(()=>{let t=ig.getSnapshot(),e=new Map;for(let[r]of t)e.set(r,r.documentElement.style.overflow);for(let r of t.values()){let n=e.get(r.doc)==="hidden",i=r.count!==0;(i&&!n||!i&&n)&&ig.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&ig.dispatch("TEARDOWN",r)}});function YMe(t,e,r=()=>({containers:[]})){let n=WMe(ig),i=e?n.get(e):void 0,s=i?i.count>0:!1;return ai(()=>{if(!(!e||!t))return ig.dispatch("PUSH",e,r),()=>ig.dispatch("POP",e,r)},[t,e]),s}function coe(t,e,r=()=>[document.body]){let n=B5(t,"scroll-lock");YMe(n,e,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],r]}})}function wH(t){return[t.screenX,t.screenY]}function ZMe(){let t=B.useRef([-1,-1]);return{wasMoved(e){let r=wH(e);return t.current[0]===r[0]&&t.current[1]===r[1]?!1:(t.current=r,!0)},update(e){t.current=wH(e)}}}function QMe(t=0){let[e,r]=B.useState(t),n=B.useCallback(l=>r(l),[]),i=B.useCallback(l=>r(u=>u|l),[]),s=B.useCallback(l=>(e&l)===l,[e]),o=B.useCallback(l=>r(u=>u&~l),[]),a=B.useCallback(l=>r(u=>u^l),[]);return{flags:e,setFlag:n,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}var JMe={},vH,bH;typeof pi<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((vH=pi==null?void 0:JMe)==null?void 0:vH.NODE_ENV)==="test"&&typeof((bH=Element?.prototype)==null?void 0:bH.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var XMe=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(XMe||{});function uoe(t){let e={};for(let r in t)t[r]===!0&&(e[`data-${r}`]="");return e}function doe(t,e,r,n){let[i,s]=B.useState(r),{hasFlag:o,addFlag:a,removeFlag:l}=QMe(t&&i?3:0),u=B.useRef(!1),c=B.useRef(!1),h=pm();return ai(()=>{var m;if(t){if(r&&s(!0),!e){r&&a(3);return}return(m=n?.start)==null||m.call(n,r),ePe(e,{inFlight:u,prepare(){c.current?c.current=!1:c.current=u.current,u.current=!0,!c.current&&(r?(a(3),l(4)):(a(4),l(2)))},run(){c.current?r?(l(3),a(4)):(l(4),a(3)):r?l(1):a(1)},done(){var y;c.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(u.current=!1,l(7),r||s(!1),(y=n?.end)==null||y.call(n,r))}})}},[t,r,e,h]),t?[i,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function ePe(t,{prepare:e,run:r,done:n,inFlight:i}){let s=Ga();return rPe(t,{prepare:e,inFlight:i}),s.nextFrame(()=>{r(),s.requestAnimationFrame(()=>{s.add(tPe(t,n))})}),s.dispose}function tPe(t,e){var r,n;let i=Ga();if(!t)return i.dispose;let s=!1;i.add(()=>{s=!0});let o=(n=(r=t.getAnimations)==null?void 0:r.call(t).filter(a=>a instanceof CSSTransition))!=null?n:[];return o.length===0?(e(),i.dispose):(Promise.allSettled(o.map(a=>a.finished)).then(()=>{s||e()}),i.dispose)}function rPe(t,{inFlight:e,prepare:r}){if(e!=null&&e.current){r();return}let n=t.style.transition;t.style.transition="none",r(),t.offsetHeight,t.style.transition=n}function nPe(t,{container:e,accept:r,walk:n}){let i=B.useRef(r),s=B.useRef(n);B.useEffect(()=>{i.current=r,s.current=n},[r,n]),ai(()=>{if(!e||!t)return;let o=fm(e);if(!o)return;let a=i.current,l=s.current,u=Object.assign(h=>a(h),{acceptNode:a}),c=o.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,u,!1);for(;c.nextNode();)l(c.currentNode)},[e,t,i,s])}function fj(t,e){let r=B.useRef([]),n=Er(t);B.useEffect(()=>{let i=[...r.current];for(let[s,o]of e.entries())if(r.current[s]!==o){let a=n(e,i);return r.current=e,a}},[n,...e])}function g9(){return typeof window<"u"}function Rw(t){return hoe(t)?(t.nodeName||"").toLowerCase():"#document"}function xl(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function jd(t){var e;return(e=(hoe(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function hoe(t){return g9()?t instanceof Node||t instanceof xl(t).Node:!1}function Ko(t){return g9()?t instanceof Element||t instanceof xl(t).Element:!1}function Td(t){return g9()?t instanceof HTMLElement||t instanceof xl(t).HTMLElement:!1}function xH(t){return!g9()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof xl(t).ShadowRoot}const iPe=new Set(["inline","contents"]);function U5(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=wu(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!iPe.has(i)}const sPe=new Set(["table","td","th"]);function oPe(t){return sPe.has(Rw(t))}const aPe=[":popover-open",":modal"];function m9(t){return aPe.some(e=>{try{return t.matches(e)}catch{return!1}})}const lPe=["transform","translate","scale","rotate","perspective"],cPe=["transform","translate","scale","rotate","perspective","filter"],uPe=["paint","layout","strict","content"];function pj(t){const e=gj(),r=Ko(t)?wu(t):t;return lPe.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||cPe.some(n=>(r.willChange||"").includes(n))||uPe.some(n=>(r.contain||"").includes(n))}function dPe(t){let e=q0(t);for(;Td(e)&&!ew(e);){if(pj(e))return e;if(m9(e))return null;e=q0(e)}return null}function gj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const hPe=new Set(["html","body","#document"]);function ew(t){return hPe.has(Rw(t))}function wu(t){return xl(t).getComputedStyle(t)}function y9(t){return Ko(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function q0(t){if(Rw(t)==="html")return t;const e=t.assignedSlot||t.parentNode||xH(t)&&t.host||jd(t);return xH(e)?e.host:e}function foe(t){const e=q0(t);return ew(e)?t.ownerDocument?t.ownerDocument.body:t.body:Td(e)&&U5(e)?e:foe(e)}function V3(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=foe(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),o=xl(i);if(s){const a=YM(o);return e.concat(o,o.visualViewport||[],U5(i)?i:[],a&&r?V3(a):[])}return e.concat(i,V3(i,[],r))}function YM(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function fPe(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:r,version:n}=e;return r+"/"+n}).join(" "):navigator.userAgent}const Wg=Math.min,To=Math.max,K3=Math.round,z4=Math.floor,Ad=t=>({x:t,y:t}),pPe={left:"right",right:"left",bottom:"top",top:"bottom"},gPe={start:"end",end:"start"};function EH(t,e,r){return To(t,Wg(e,r))}function Ow(t,e){return typeof t=="function"?t(e):t}function H0(t){return t.split("-")[0]}function F5(t){return t.split("-")[1]}function poe(t){return t==="x"?"y":"x"}function goe(t){return t==="y"?"height":"width"}const mPe=new Set(["top","bottom"]);function kh(t){return mPe.has(H0(t))?"y":"x"}function moe(t){return poe(kh(t))}function yPe(t,e,r){r===void 0&&(r=!1);const n=F5(t),i=moe(t),s=goe(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=uE(o)),[o,uE(o)]}function wPe(t){const e=uE(t);return[ZM(t),e,ZM(e)]}function ZM(t){return t.replace(/start|end/g,e=>gPe[e])}const _H=["left","right"],AH=["right","left"],vPe=["top","bottom"],bPe=["bottom","top"];function xPe(t,e,r){switch(t){case"top":case"bottom":return r?e?AH:_H:e?_H:AH;case"left":case"right":return e?vPe:bPe;default:return[]}}function EPe(t,e,r,n){const i=F5(t);let s=xPe(H0(t),r==="start",n);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(ZM)))),s}function uE(t){return t.replace(/left|right|bottom|top/g,e=>pPe[e])}function _Pe(t){return{top:0,right:0,bottom:0,left:0,...t}}function APe(t){return typeof t!="number"?_Pe(t):{top:t,right:t,bottom:t,left:t}}function dE(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function SH(t,e,r){let{reference:n,floating:i}=t;const s=kh(e),o=moe(e),a=goe(o),l=H0(e),u=s==="y",c=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,m=n[a]/2-i[a]/2;let y;switch(l){case"top":y={x:c,y:n.y-i.height};break;case"bottom":y={x:c,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:h};break;case"left":y={x:n.x-i.width,y:h};break;default:y={x:n.x,y:n.y}}switch(F5(e)){case"start":y[o]-=m*(r&&u?-1:1);break;case"end":y[o]+=m*(r&&u?-1:1);break}return y}const SPe=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:c,y:h}=SH(u,n,l),m=n,y={},b=0;for(let E=0;E<a.length;E++){const{name:A,fn:M}=a[E],{x:O,y:P,data:z,reset:L}=await M({x:c,y:h,initialPlacement:n,placement:m,strategy:i,middlewareData:y,rects:u,platform:o,elements:{reference:t,floating:e}});c=O??c,h=P??h,y={...y,[A]:{...y[A],...z}},L&&b<=50&&(b++,typeof L=="object"&&(L.placement&&(m=L.placement),L.rects&&(u=L.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):L.rects),{x:c,y:h}=SH(u,m,l)),E=-1)}return{x:c,y:h,placement:m,strategy:i,middlewareData:y}};async function w9(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:h="floating",altBoundary:m=!1,padding:y=0}=Ow(e,t),b=APe(y),A=a[m?h==="floating"?"reference":"floating":h],M=dE(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(A)))==null||r?A:A.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),O=h==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,P=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),z=await(s.isElement==null?void 0:s.isElement(P))?await(s.getScale==null?void 0:s.getScale(P))||{x:1,y:1}:{x:1,y:1},L=dE(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:O,offsetParent:P,strategy:l}):O);return{top:(M.top-L.top+b.top)/z.y,bottom:(L.bottom-M.bottom+b.bottom)/z.y,left:(M.left-L.left+b.left)/z.x,right:(L.right-M.right+b.right)/z.x}}const CPe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:c=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:E=!0,...A}=Ow(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const M=H0(i),O=kh(a),P=H0(a)===a,z=await(l.isRTL==null?void 0:l.isRTL(u.floating)),L=m||(P||!E?[uE(a)]:wPe(a)),W=b!=="none";!m&&W&&L.push(...EPe(a,E,b,z));const H=[a,...L],G=await w9(e,A),N=[];let F=((n=s.flip)==null?void 0:n.overflows)||[];if(c&&N.push(G[M]),h){const d=yPe(i,o,z);N.push(G[d[0]],G[d[1]])}if(F=[...F,{placement:i,overflows:N}],!N.every(d=>d<=0)){var U,j;const d=(((U=s.flip)==null?void 0:U.index)||0)+1,g=H[d];if(g&&(!(h==="alignment"?O!==kh(g):!1)||F.every(k=>kh(k.placement)===O?k.overflows[0]>0:!0)))return{data:{index:d,overflows:F},reset:{placement:g}};let x=(j=F.filter(C=>C.overflows[0]<=0).sort((C,k)=>C.overflows[1]-k.overflows[1])[0])==null?void 0:j.placement;if(!x)switch(y){case"bestFit":{var _;const C=(_=F.filter(k=>{if(W){const T=kh(k.placement);return T===O||T==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(T=>T>0).reduce((T,R)=>T+R,0)]).sort((k,T)=>k[1]-T[1])[0])==null?void 0:_[0];C&&(x=C);break}case"initialPlacement":x=a;break}if(i!==x)return{reset:{placement:x}}}return{}}}},kPe=new Set(["left","top"]);async function IPe(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=H0(r),a=F5(r),l=kh(r)==="y",u=kPe.has(o)?-1:1,c=s&&l?-1:1,h=Ow(e,t);let{mainAxis:m,crossAxis:y,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof b=="number"&&(y=a==="end"?b*-1:b),l?{x:y*c,y:m*u}:{x:m*u,y:y*c}}const TPe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await IPe(e,t);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},$Pe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:A=>{let{x:M,y:O}=A;return{x:M,y:O}}},...l}=Ow(t,e),u={x:r,y:n},c=await w9(e,l),h=kh(H0(i)),m=poe(h);let y=u[m],b=u[h];if(s){const A=m==="y"?"top":"left",M=m==="y"?"bottom":"right",O=y+c[A],P=y-c[M];y=EH(O,y,P)}if(o){const A=h==="y"?"top":"left",M=h==="y"?"bottom":"right",O=b+c[A],P=b-c[M];b=EH(O,b,P)}const E=a.fn({...e,[m]:y,[h]:b});return{...E,data:{x:E.x-r,y:E.y-n,enabled:{[m]:s,[h]:o}}}}}},MPe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...u}=Ow(t,e),c=await w9(e,u),h=H0(i),m=F5(i),y=kh(i)==="y",{width:b,height:E}=s.floating;let A,M;h==="top"||h==="bottom"?(A=h,M=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(M=h,A=m==="end"?"top":"bottom");const O=E-c.top-c.bottom,P=b-c.left-c.right,z=Wg(E-c[A],O),L=Wg(b-c[M],P),W=!e.middlewareData.shift;let H=z,G=L;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(G=P),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(H=O),W&&!m){const F=To(c.left,0),U=To(c.right,0),j=To(c.top,0),_=To(c.bottom,0);y?G=b-2*(F!==0||U!==0?F+U:To(c.left,c.right)):H=E-2*(j!==0||_!==0?j+_:To(c.top,c.bottom))}await l({...e,availableWidth:G,availableHeight:H});const N=await o.getDimensions(a.floating);return b!==N.width||E!==N.height?{reset:{rects:!0}}:{}}}};function yoe(t){const e=wu(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Td(t),s=i?t.offsetWidth:r,o=i?t.offsetHeight:n,a=K3(r)!==s||K3(n)!==o;return a&&(r=s,n=o),{width:r,height:n,$:a}}function mj(t){return Ko(t)?t:t.contextElement}function ky(t){const e=mj(t);if(!Td(e))return Ad(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=yoe(e);let o=(s?K3(r.width):r.width)/n,a=(s?K3(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const PPe=Ad(0);function woe(t){const e=xl(t);return!gj()||!e.visualViewport?PPe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function NPe(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==xl(t)?!1:e}function qg(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=mj(t);let o=Ad(1);e&&(n?Ko(n)&&(o=ky(n)):o=ky(t));const a=NPe(s,r,n)?woe(s):Ad(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,c=i.width/o.x,h=i.height/o.y;if(s){const m=xl(s),y=n&&Ko(n)?xl(n):n;let b=m,E=YM(b);for(;E&&n&&y!==b;){const A=ky(E),M=E.getBoundingClientRect(),O=wu(E),P=M.left+(E.clientLeft+parseFloat(O.paddingLeft))*A.x,z=M.top+(E.clientTop+parseFloat(O.paddingTop))*A.y;l*=A.x,u*=A.y,c*=A.x,h*=A.y,l+=P,u+=z,b=xl(E),E=YM(b)}}return dE({width:c,height:h,x:l,y:u})}function v9(t,e){const r=y9(t).scrollLeft;return e?e.left+r:qg(jd(t)).left+r}function voe(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-v9(t,r),i=r.top+e.scrollTop;return{x:n,y:i}}function RPe(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",o=jd(n),a=e?m9(e.floating):!1;if(n===o||a&&s)return r;let l={scrollLeft:0,scrollTop:0},u=Ad(1);const c=Ad(0),h=Td(n);if((h||!h&&!s)&&((Rw(n)!=="body"||U5(o))&&(l=y9(n)),Td(n))){const y=qg(n);u=ky(n),c.x=y.x+n.clientLeft,c.y=y.y+n.clientTop}const m=o&&!h&&!s?voe(o,l):Ad(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+c.x+m.x,y:r.y*u.y-l.scrollTop*u.y+c.y+m.y}}function OPe(t){return Array.from(t.getClientRects())}function jPe(t){const e=jd(t),r=y9(t),n=t.ownerDocument.body,i=To(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=To(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+v9(t);const a=-r.scrollTop;return wu(n).direction==="rtl"&&(o+=To(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:a}}const CH=25;function LPe(t,e){const r=xl(t),n=jd(t),i=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=gj();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const u=v9(n);if(u<=0){const c=n.ownerDocument,h=c.body,m=getComputedStyle(h),y=c.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,b=Math.abs(n.clientWidth-h.clientWidth-y);b<=CH&&(s-=b)}else u<=CH&&(s+=u);return{width:s,height:o,x:a,y:l}}const DPe=new Set(["absolute","fixed"]);function BPe(t,e){const r=qg(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=Td(t)?ky(t):Ad(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=n*s.y;return{width:o,height:a,x:l,y:u}}function kH(t,e,r){let n;if(e==="viewport")n=LPe(t,r);else if(e==="document")n=jPe(jd(t));else if(Ko(e))n=BPe(e,r);else{const i=woe(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return dE(n)}function boe(t,e){const r=q0(t);return r===e||!Ko(r)||ew(r)?!1:wu(r).position==="fixed"||boe(r,e)}function UPe(t,e){const r=e.get(t);if(r)return r;let n=V3(t,[],!1).filter(a=>Ko(a)&&Rw(a)!=="body"),i=null;const s=wu(t).position==="fixed";let o=s?q0(t):t;for(;Ko(o)&&!ew(o);){const a=wu(o),l=pj(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&DPe.has(i.position)||U5(o)&&!l&&boe(t,o))?n=n.filter(c=>c!==o):i=a,o=q0(o)}return e.set(t,n),n}function FPe(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?m9(e)?[]:UPe(e,this._c):[].concat(r),n],a=o[0],l=o.reduce((u,c)=>{const h=kH(e,c,i);return u.top=To(h.top,u.top),u.right=Wg(h.right,u.right),u.bottom=Wg(h.bottom,u.bottom),u.left=To(h.left,u.left),u},kH(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function zPe(t){const{width:e,height:r}=yoe(t);return{width:e,height:r}}function WPe(t,e,r){const n=Td(e),i=jd(e),s=r==="fixed",o=qg(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Ad(0);function u(){l.x=v9(i)}if(n||!n&&!s)if((Rw(e)!=="body"||U5(i))&&(a=y9(e)),n){const y=qg(e,!0,s,e);l.x=y.x+e.clientLeft,l.y=y.y+e.clientTop}else i&&u();s&&!n&&i&&u();const c=i&&!n&&!s?voe(i,a):Ad(0),h=o.left+a.scrollLeft-l.x-c.x,m=o.top+a.scrollTop-l.y-c.y;return{x:h,y:m,width:o.width,height:o.height}}function QC(t){return wu(t).position==="static"}function IH(t,e){if(!Td(t)||wu(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return jd(t)===r&&(r=r.ownerDocument.body),r}function xoe(t,e){const r=xl(t);if(m9(t))return r;if(!Td(t)){let i=q0(t);for(;i&&!ew(i);){if(Ko(i)&&!QC(i))return i;i=q0(i)}return r}let n=IH(t,e);for(;n&&oPe(n)&&QC(n);)n=IH(n,e);return n&&ew(n)&&QC(n)&&!pj(n)?r:n||dPe(t)||r}const qPe=async function(t){const e=this.getOffsetParent||xoe,r=this.getDimensions,n=await r(t.floating);return{reference:WPe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function HPe(t){return wu(t).direction==="rtl"}const VPe={convertOffsetParentRelativeRectToViewportRelativeRect:RPe,getDocumentElement:jd,getClippingRect:FPe,getOffsetParent:xoe,getElementRects:qPe,getClientRects:OPe,getDimensions:zPe,getScale:ky,isElement:Ko,isRTL:HPe};function Eoe(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function KPe(t,e){let r=null,n;const i=jd(t);function s(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const u=t.getBoundingClientRect(),{left:c,top:h,width:m,height:y}=u;if(a||e(),!m||!y)return;const b=z4(h),E=z4(i.clientWidth-(c+m)),A=z4(i.clientHeight-(h+y)),M=z4(c),P={rootMargin:-b+"px "+-E+"px "+-A+"px "+-M+"px",threshold:To(0,Wg(1,l))||1};let z=!0;function L(W){const H=W[0].intersectionRatio;if(H!==l){if(!z)return o();H?o(!1,H):n=setTimeout(()=>{o(!1,1e-7)},1e3)}H===1&&!Eoe(u,t.getBoundingClientRect())&&o(),z=!1}try{r=new IntersectionObserver(L,{...P,root:i.ownerDocument})}catch{r=new IntersectionObserver(L,P)}r.observe(t)}return o(!0),s}function GPe(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=mj(t),c=i||s?[...u?V3(u):[],...V3(e)]:[];c.forEach(M=>{i&&M.addEventListener("scroll",r,{passive:!0}),s&&M.addEventListener("resize",r)});const h=u&&a?KPe(u,r):null;let m=-1,y=null;o&&(y=new ResizeObserver(M=>{let[O]=M;O&&O.target===u&&y&&(y.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var P;(P=y)==null||P.observe(e)})),r()}),u&&!l&&y.observe(u),y.observe(e));let b,E=l?qg(t):null;l&&A();function A(){const M=qg(t);E&&!Eoe(E,M)&&r(),E=M,b=requestAnimationFrame(A)}return r(),()=>{var M;c.forEach(O=>{i&&O.removeEventListener("scroll",r),s&&O.removeEventListener("resize",r)}),h?.(),(M=y)==null||M.disconnect(),y=null,l&&cancelAnimationFrame(b)}}const JC=w9,YPe=TPe,ZPe=$Pe,QPe=CPe,JPe=MPe,XPe=(t,e,r)=>{const n=new Map,i={platform:VPe,...r},s={...i.platform,_c:n};return SPe(t,e,{...i,platform:s})};var eNe=typeof document<"u",tNe=function(){},o8=eNe?B.useLayoutEffect:tNe;function hE(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!hE(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!hE(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function _oe(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function TH(t,e){const r=_oe(t);return Math.round(e*r)/r}function XC(t){const e=B.useRef(t);return o8(()=>{e.current=t}),e}function rNe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[c,h]=B.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[m,y]=B.useState(n);hE(m,n)||y(n);const[b,E]=B.useState(null),[A,M]=B.useState(null),O=B.useCallback(k=>{k!==W.current&&(W.current=k,E(k))},[]),P=B.useCallback(k=>{k!==H.current&&(H.current=k,M(k))},[]),z=s||b,L=o||A,W=B.useRef(null),H=B.useRef(null),G=B.useRef(c),N=l!=null,F=XC(l),U=XC(i),j=XC(u),_=B.useCallback(()=>{if(!W.current||!H.current)return;const k={placement:e,strategy:r,middleware:m};U.current&&(k.platform=U.current),XPe(W.current,H.current,k).then(T=>{const R={...T,isPositioned:j.current!==!1};d.current&&!hE(G.current,R)&&(G.current=R,Id.flushSync(()=>{h(R)}))})},[m,e,r,U,j]);o8(()=>{u===!1&&G.current.isPositioned&&(G.current.isPositioned=!1,h(k=>({...k,isPositioned:!1})))},[u]);const d=B.useRef(!1);o8(()=>(d.current=!0,()=>{d.current=!1}),[]),o8(()=>{if(z&&(W.current=z),L&&(H.current=L),z&&L){if(F.current)return F.current(z,L,_);_()}},[z,L,_,F,N]);const g=B.useMemo(()=>({reference:W,floating:H,setReference:O,setFloating:P}),[O,P]),x=B.useMemo(()=>({reference:z,floating:L}),[z,L]),C=B.useMemo(()=>{const k={position:r,left:0,top:0};if(!x.floating)return k;const T=TH(x.floating,c.x),R=TH(x.floating,c.y);return a?{...k,transform:"translate("+T+"px, "+R+"px)",..._oe(x.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:T,top:R}},[r,a,x.floating,c.x,c.y]);return B.useMemo(()=>({...c,update:_,refs:g,elements:x,floatingStyles:C}),[c,_,g,x,C])}const Aoe=(t,e)=>({...YPe(t),options:[t,e]}),nNe=(t,e)=>({...ZPe(t),options:[t,e]}),iNe=(t,e)=>({...QPe(t),options:[t,e]}),sNe=(t,e)=>({...JPe(t),options:[t,e]}),Soe={...w$},oNe=Soe.useInsertionEffect,aNe=oNe||(t=>t());function Coe(t){const e=B.useRef(()=>{});return aNe(()=>{e.current=t}),B.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}var QM=typeof document<"u"?B.useLayoutEffect:B.useEffect;let $H=!1,lNe=0;const MH=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+lNe++;function cNe(){const[t,e]=B.useState(()=>$H?MH():void 0);return QM(()=>{t==null&&e(MH())},[]),B.useEffect(()=>{$H=!0},[]),t}const uNe=Soe.useId,dNe=uNe||cNe;function hNe(){const t=new Map;return{emit(e,r){var n;(n=t.get(e))==null||n.forEach(i=>i(r))},on(e,r){t.set(e,[...t.get(e)||[],r])},off(e,r){var n;t.set(e,((n=t.get(e))==null?void 0:n.filter(i=>i!==r))||[])}}}const fNe=B.createContext(null),pNe=B.createContext(null),gNe=()=>{var t;return((t=B.useContext(fNe))==null?void 0:t.id)||null},mNe=()=>B.useContext(pNe),yNe="data-floating-ui-focusable";function wNe(t){const{open:e=!1,onOpenChange:r,elements:n}=t,i=dNe(),s=B.useRef({}),[o]=B.useState(()=>hNe()),a=gNe()!=null,[l,u]=B.useState(n.reference),c=Coe((y,b,E)=>{s.current.openEvent=y?b:void 0,o.emit("openchange",{open:y,event:b,reason:E,nested:a}),r?.(y,b,E)}),h=B.useMemo(()=>({setPositionReference:u}),[]),m=B.useMemo(()=>({reference:l||n.reference||null,floating:n.floating||null,domReference:n.reference}),[l,n.reference,n.floating]);return B.useMemo(()=>({dataRef:s,open:e,onOpenChange:c,elements:m,events:o,floatingId:i,refs:h}),[e,c,m,o,i,h])}function vNe(t){t===void 0&&(t={});const{nodeId:e}=t,r=wNe({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||r,i=n.elements,[s,o]=B.useState(null),[a,l]=B.useState(null),c=i?.domReference||s,h=B.useRef(null),m=mNe();QM(()=>{c&&(h.current=c)},[c]);const y=rNe({...t,elements:{...i,...a&&{reference:a}}}),b=B.useCallback(P=>{const z=Ko(P)?{getBoundingClientRect:()=>P.getBoundingClientRect(),contextElement:P}:P;l(z),y.refs.setReference(z)},[y.refs]),E=B.useCallback(P=>{(Ko(P)||P===null)&&(h.current=P,o(P)),(Ko(y.refs.reference.current)||y.refs.reference.current===null||P!==null&&!Ko(P))&&y.refs.setReference(P)},[y.refs]),A=B.useMemo(()=>({...y.refs,setReference:E,setPositionReference:b,domReference:h}),[y.refs,E,b]),M=B.useMemo(()=>({...y.elements,domReference:c}),[y.elements,c]),O=B.useMemo(()=>({...y,...n,refs:A,elements:M,nodeId:e}),[y,A,M,e,n]);return QM(()=>{n.dataRef.current.floatingContext=O;const P=m?.nodesRef.current.find(z=>z.id===e);P&&(P.context=O)}),B.useMemo(()=>({...y,context:O,refs:A,elements:M}),[y,A,M,O])}const PH="active",NH="selected";function ek(t,e,r){const n=new Map,i=r==="item";let s=t;if(i&&t){const{[PH]:o,[NH]:a,...l}=t;s=l}return{...r==="floating"&&{tabIndex:-1,[yNe]:""},...s,...e.map(o=>{const a=o?o[r]:null;return typeof a=="function"?t?a(t):null:a}).concat(t).reduce((o,a)=>(a&&Object.entries(a).forEach(l=>{let[u,c]=l;if(!(i&&[PH,NH].includes(u)))if(u.indexOf("on")===0){if(n.has(u)||n.set(u,[]),typeof c=="function"){var h;(h=n.get(u))==null||h.push(c),o[u]=function(){for(var m,y=arguments.length,b=new Array(y),E=0;E<y;E++)b[E]=arguments[E];return(m=n.get(u))==null?void 0:m.map(A=>A(...b)).find(A=>A!==void 0)}}}else o[u]=c}),o),{})}}function bNe(t){t===void 0&&(t=[]);const e=t.map(a=>a?.reference),r=t.map(a=>a?.floating),n=t.map(a=>a?.item),i=B.useCallback(a=>ek(a,t,"reference"),e),s=B.useCallback(a=>ek(a,t,"floating"),r),o=B.useCallback(a=>ek(a,t,"item"),n);return B.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}function RH(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const xNe=t=>({name:"inner",options:t,async fn(e){const{listRef:r,overflowRef:n,onFallbackChange:i,offset:s=0,index:o=0,minItemsVisible:a=4,referenceOverflowThreshold:l=0,scrollRef:u,...c}=Ow(t,e),{rects:h,elements:{floating:m}}=e,y=r.current[o],b=u?.current||m,E=m.clientTop||b.clientTop,A=m.clientTop!==0,M=b.clientTop!==0,O=m===b;if(!y)return{};const P={...e,...await Aoe(-y.offsetTop-m.clientTop-h.reference.height/2-y.offsetHeight/2-s).fn(e)},z=await JC(RH(P,b.scrollHeight+E+m.clientTop),c),L=await JC(P,{...c,elementContext:"reference"}),W=To(0,z.top),H=P.y+W,F=(b.scrollHeight>b.clientHeight?U=>U:K3)(To(0,b.scrollHeight+(A&&O||M?E*2:0)-W-To(0,z.bottom)));if(b.style.maxHeight=F+"px",b.scrollTop=W,i){const U=b.offsetHeight<y.offsetHeight*Wg(a,r.current.length)-1||L.top>=-l||L.bottom>=-l;Id.flushSync(()=>i(U))}return n&&(n.current=await JC(RH({...P,y:H},b.offsetHeight+E+m.clientTop),c)),{y:H}}});function ENe(t,e){const{open:r,elements:n}=t,{enabled:i=!0,overflowRef:s,scrollRef:o,onChange:a}=e,l=Coe(a),u=B.useRef(!1),c=B.useRef(null),h=B.useRef(null);B.useEffect(()=>{if(!i)return;function y(E){if(E.ctrlKey||!b||s.current==null)return;const A=E.deltaY,M=s.current.top>=-.5,O=s.current.bottom>=-.5,P=b.scrollHeight-b.clientHeight,z=A<0?-1:1,L=A<0?"max":"min";b.scrollHeight<=b.clientHeight||(!M&&A>0||!O&&A<0?(E.preventDefault(),Id.flushSync(()=>{l(W=>W+Math[L](A,P*z))})):/firefox/i.test(fPe())&&(b.scrollTop+=A))}const b=o?.current||n.floating;if(r&&b)return b.addEventListener("wheel",y),requestAnimationFrame(()=>{c.current=b.scrollTop,s.current!=null&&(h.current={...s.current})}),()=>{c.current=null,h.current=null,b.removeEventListener("wheel",y)}},[i,r,n.floating,s,o,l]);const m=B.useMemo(()=>({onKeyDown(){u.current=!0},onWheel(){u.current=!1},onPointerMove(){u.current=!1},onScroll(){const y=o?.current||n.floating;if(!(!s.current||!y||!u.current)){if(c.current!==null){const b=y.scrollTop-c.current;(s.current.bottom<-.5&&b<-1||s.current.top<-.5&&b>1)&&Id.flushSync(()=>l(E=>E+b))}requestAnimationFrame(()=>{c.current=y.scrollTop})}}}),[n.floating,l,s,o]);return B.useMemo(()=>i?{floating:m}:{},[i,m])}let jw=B.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});jw.displayName="FloatingContext";let yj=B.createContext(null);yj.displayName="PlacementContext";function _Ne(t){return B.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function ANe(){return B.useContext(jw).setReference}function SNe(){return B.useContext(jw).getReferenceProps}function CNe(){let{getFloatingProps:t,slot:e}=B.useContext(jw);return B.useCallback((...r)=>Object.assign({},t(...r),{"data-anchor":e.anchor}),[t,e])}function kNe(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=B.useContext(yj),r=B.useMemo(()=>t,[JSON.stringify(t,(i,s)=>{var o;return(o=s?.outerHTML)!=null?o:s})]);ai(()=>{e?.(r??null)},[e,r]);let n=B.useContext(jw);return B.useMemo(()=>[n.setFloating,t?n.styles:{}],[n.setFloating,t,n.styles])}let OH=4;function INe({children:t,enabled:e=!0}){let[r,n]=B.useState(null),[i,s]=B.useState(0),o=B.useRef(null),[a,l]=B.useState(null);TNe(a);let u=e&&r!==null&&a!==null,{to:c="bottom",gap:h=0,offset:m=0,padding:y=0,inner:b}=$Ne(r,a),[E,A="center"]=c.split(" ");ai(()=>{u&&s(0)},[u]);let{refs:M,floatingStyles:O,context:P}=vNe({open:u,placement:E==="selection"?A==="center"?"bottom":`bottom-${A}`:A==="center"?`${E}`:`${E}-${A}`,strategy:"absolute",transform:!1,middleware:[Aoe({mainAxis:E==="selection"?0:h,crossAxis:m}),nNe({padding:y}),E!=="selection"&&iNe({padding:y}),E==="selection"&&b?xNe({...b,padding:y,overflowRef:o,offset:i,minItemsVisible:OH,referenceOverflowThreshold:y,onFallbackChange(U){var j,_;if(!U)return;let d=P.elements.floating;if(!d)return;let g=parseFloat(getComputedStyle(d).scrollPaddingBottom)||0,x=Math.min(OH,d.childElementCount),C=0,k=0;for(let T of(_=(j=P.elements.floating)==null?void 0:j.childNodes)!=null?_:[])if(Cl(T)){let R=T.offsetTop,I=R+T.clientHeight+g,f=d.scrollTop,S=f+d.clientHeight;if(R>=f&&I<=S)x--;else{k=Math.max(0,Math.min(I,S)-Math.max(R,f)),C=T.clientHeight;break}}x>=1&&s(T=>{let R=C*x-k+g;return T>=R?T:R})}}):null,sNe({padding:y,apply({availableWidth:U,availableHeight:j,elements:_}){Object.assign(_.floating.style,{overflow:"auto",maxWidth:`${U}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${j}px)`})}})].filter(Boolean),whileElementsMounted:GPe}),[z=E,L=A]=P.placement.split("-");E==="selection"&&(z="selection");let W=B.useMemo(()=>({anchor:[z,L].filter(Boolean).join(" ")}),[z,L]),H=ENe(P,{overflowRef:o,onChange:s}),{getReferenceProps:G,getFloatingProps:N}=bNe([H]),F=Er(U=>{l(U),M.setFloating(U)});return B.createElement(yj.Provider,{value:n},B.createElement(jw.Provider,{value:{setFloating:F,setReference:M.setReference,styles:O,getReferenceProps:G,getFloatingProps:N,slot:W}},t))}function TNe(t){ai(()=>{if(!t)return;let e=new MutationObserver(()=>{let r=window.getComputedStyle(t).maxHeight,n=parseFloat(r);if(isNaN(n))return;let i=parseInt(r);isNaN(i)||n!==i&&(t.style.maxHeight=`${Math.ceil(n)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function $Ne(t,e){var r,n,i;let s=tk((r=t?.gap)!=null?r:"var(--anchor-gap, 0)",e),o=tk((n=t?.offset)!=null?n:"var(--anchor-offset, 0)",e),a=tk((i=t?.padding)!=null?i:"var(--anchor-padding, 0)",e);return{...t,gap:s,offset:o,padding:a}}function tk(t,e,r=void 0){let n=pm(),i=Er((l,u)=>{if(l==null)return[r,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!u)return[r,null];let c=jH(l,u);return[c,h=>{let m=koe(l);{let y=m.map(b=>window.getComputedStyle(u).getPropertyValue(b));n.requestAnimationFrame(function b(){n.nextFrame(b);let E=!1;for(let[M,O]of m.entries()){let P=window.getComputedStyle(u).getPropertyValue(O);if(y[M]!==P){y[M]=P,E=!0;break}}if(!E)return;let A=jH(l,u);c!==A&&(h(A),c=A)})}return n.dispose}]}return[r,null]}),s=B.useMemo(()=>i(t,e)[0],[t,e]),[o=s,a]=B.useState();return ai(()=>{let[l,u]=i(t,e);if(a(l),!!u)return u(a)},[t,e]),o}function koe(t){let e=/var\((.*)\)/.exec(t);if(e){let r=e[1].indexOf(",");if(r===-1)return[e[1]];let n=e[1].slice(0,r).trim(),i=e[1].slice(r+1).trim();return i?[n,...koe(i)]:[n]}return[]}function jH(t,e){let r=document.createElement("div");e.appendChild(r),r.style.setProperty("margin-top","0px","important"),r.style.setProperty("margin-top",t,"important");let n=parseFloat(window.getComputedStyle(r).marginTop)||0;return e.removeChild(r),n}let b9=B.createContext(null);b9.displayName="OpenClosedContext";var Go=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Go||{});function z5(){return B.useContext(b9)}function Ioe({value:t,children:e}){return Re.createElement(b9.Provider,{value:t},e)}function MNe({children:t}){return Re.createElement(b9.Provider,{value:null},t)}function PNe(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let E0=[];PNe(()=>{function t(e){if(!bd(e.target)||e.target===document.body||E0[0]===e.target)return;let r=e.target;r=r.closest(cE),E0.unshift(r??e.target),E0=E0.filter(n=>n!=null&&n.isConnected),E0.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function NNe(t){throw new Error("Unexpected object: "+t)}var Gi=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(Gi||{});function W4(t,e){let r=e.resolveItems();if(r.length<=0)return null;let n=e.resolveActiveIndex(),i=n??-1;switch(t.focus){case 0:{for(let s=0;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 1:{i===-1&&(i=r.length);for(let s=i-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 2:{for(let s=i+1;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 3:{for(let s=r.length-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 4:{for(let s=0;s<r.length;++s)if(e.resolveId(r[s],s,r)===t.id)return s;return n}case 5:return null;default:NNe(t)}}var Toe=(t=>(t[t.Left=0]="Left",t[t.Right=2]="Right",t))(Toe||{});function wj(t){let e=Er(t),r=B.useRef(!1);B.useEffect(()=>(r.current=!1,()=>{r.current=!0,h9(()=>{r.current&&e()})}),[e])}let $oe=B.createContext(!1);function RNe(){return B.useContext($oe)}function LH(t){return Re.createElement($oe.Provider,{value:t.force},t.children)}function ONe(t){let e=RNe(),r=B.useContext(Poe),[n,i]=B.useState(()=>{var s;if(!e&&r!==null)return(s=r.current)!=null?s:null;if(Nh.isServer)return null;let o=t?.getElementById("headlessui-portal-root");if(o)return o;if(t===null)return null;let a=t.createElement("div");return a.setAttribute("id","headlessui-portal-root"),t.body.appendChild(a)});return B.useEffect(()=>{n!==null&&(t!=null&&t.body.contains(n)||t==null||t.body.appendChild(n))},[n,t]),B.useEffect(()=>{e||r!==null&&i(r.current)},[r,i,e]),n}let Moe=B.Fragment,jNe=ki(function(t,e){let{ownerDocument:r=null,...n}=t,i=B.useRef(null),s=sa(Z$e(m=>{i.current=m}),e),o=Xy(i),a=r??o,l=ONe(a),u=B.useContext(JM),c=pm(),h=Zi();return wj(()=>{var m;l&&l.childNodes.length<=0&&((m=l.parentElement)==null||m.removeChild(l))}),l?Id.createPortal(Re.createElement("div",{"data-headlessui-portal":"",ref:m=>{c.dispose(),u&&m&&c.add(u.register(m))}},h({ourProps:{ref:s},theirProps:n,slot:{},defaultTag:Moe,name:"Portal"})),l):null});function LNe(t,e){let r=sa(e),{enabled:n=!0,ownerDocument:i,...s}=t,o=Zi();return n?Re.createElement(jNe,{...s,ownerDocument:i,ref:r}):o({ourProps:{ref:r},theirProps:s,slot:{},defaultTag:Moe,name:"Portal"})}let DNe=B.Fragment,Poe=B.createContext(null);function BNe(t,e){let{target:r,...n}=t,i={ref:sa(e)},s=Zi();return Re.createElement(Poe.Provider,{value:r},s({ourProps:i,theirProps:n,defaultTag:DNe,name:"Popover.Group"}))}let JM=B.createContext(null);function UNe(){let t=B.useContext(JM),e=B.useRef([]),r=Er(s=>(e.current.push(s),t&&t.register(s),()=>n(s))),n=Er(s=>{let o=e.current.indexOf(s);o!==-1&&e.current.splice(o,1),t&&t.unregister(s)}),i=B.useMemo(()=>({register:r,unregister:n,portals:e}),[r,n,e]);return[e,B.useMemo(()=>function({children:s}){return Re.createElement(JM.Provider,{value:i},s)},[i])]}let FNe=ki(LNe),Noe=ki(BNe),Roe=Object.assign(FNe,{Group:Noe});const a8={Idle:{kind:"Idle"},Tracked:t=>({kind:"Tracked",position:t}),Moved:{kind:"Moved"}};function Ooe(t){let e=t.getBoundingClientRect();return`${e.x},${e.y}`}function zNe(t,e,r){let n=Ga();if(e.kind==="Tracked"){let i=function(){s!==Ooe(t)&&(n.dispose(),r())},{position:s}=e,o=new ResizeObserver(i);o.observe(t),n.add(()=>o.disconnect()),n.addEventListener(window,"scroll",i,{passive:!0}),n.addEventListener(window,"resize",i)}return()=>n.dispose()}function WNe(t,e=typeof document<"u"?document.defaultView:null,r){let n=B5(t,"escape");loe(e,"keydown",i=>{n&&(i.defaultPrevented||i.key===vs.Escape&&r(i))})}function qNe(){var t;let[e]=B.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[r,n]=B.useState((t=e?.matches)!=null?t:!1);return ai(()=>{if(!e)return;function i(s){n(s.matches)}return e.addEventListener("change",i),()=>e.removeEventListener("change",i)},[e]),r}function HNe({defaultContainers:t=[],portals:e,mainTreeNode:r}={}){let n=Xy(r),i=Er(()=>{var s,o;let a=[];for(let l of t)l!==null&&(Rh(l)?a.push(l):"current"in l&&Rh(l.current)&&a.push(l.current));if(e!=null&&e.current)for(let l of e.current)a.push(l);for(let l of(s=n?.querySelectorAll("html > *, body > *"))!=null?s:[])l!==document.body&&l!==document.head&&Rh(l)&&l.id!=="headlessui-portal-root"&&(r&&(l.contains(r)||l.contains((o=r?.getRootNode())==null?void 0:o.host))||a.some(u=>l.contains(u))||a.push(l));return a});return{resolveContainers:i,contains:Er(s=>i().some(o=>o.contains(s)))}}let joe=B.createContext(null);function DH({children:t,node:e}){let[r,n]=B.useState(null),i=Loe(e??r);return Re.createElement(joe.Provider,{value:i},t,i===null&&Re.createElement(VM,{features:lE.Hidden,ref:s=>{var o,a;if(s){for(let l of(a=(o=fm(s))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?a:[])if(l!==document.body&&l!==document.head&&Rh(l)&&l!=null&&l.contains(s)){n(l);break}}}}))}function Loe(t=null){var e;return(e=B.useContext(joe))!=null?e:t}function VNe(){let t=typeof document>"u";return"useSyncExternalStore"in w$?(e=>e.useSyncExternalStore)(w$)(()=>()=>{},()=>!1,()=>!t):!1}function x9(){let t=VNe(),[e,r]=B.useState(Nh.isHandoffComplete);return e&&Nh.isHandoffComplete===!1&&r(!1),B.useEffect(()=>{e!==!0&&r(!0)},[e]),B.useEffect(()=>Nh.handoff(),[]),t?!1:e}function vj(){let t=B.useRef(!1);return ai(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var Xv=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Xv||{});function KNe(){let t=B.useRef(0);return ooe(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function Doe(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let r of t.current)Rh(r.current)&&e.add(r.current);return e}let GNe="div";var Gp=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(Gp||{});function YNe(t,e){let r=B.useRef(null),n=sa(r,e),{initialFocus:i,initialFocusFallback:s,containers:o,features:a=15,...l}=t;x9()||(a=0);let u=Xy(r);XNe(a,{ownerDocument:u});let c=eRe(a,{ownerDocument:u,container:r,initialFocus:i,initialFocusFallback:s});tRe(a,{ownerDocument:u,container:r,containers:o,previousActiveElement:c});let h=KNe(),m=Er(O=>{if(!Cl(r.current))return;let P=r.current;(z=>z())(()=>{yu(h.current,{[Xv.Forwards]:()=>{Cy(P,eu.First,{skipElements:[O.relatedTarget,s]})},[Xv.Backwards]:()=>{Cy(P,eu.Last,{skipElements:[O.relatedTarget,s]})}})})}),y=B5(!!(a&2),"focus-trap#tab-lock"),b=pm(),E=B.useRef(!1),A={ref:n,onKeyDown(O){O.key=="Tab"&&(E.current=!0,b.requestAnimationFrame(()=>{E.current=!1}))},onBlur(O){if(!(a&4))return;let P=Doe(o);Cl(r.current)&&P.add(r.current);let z=O.relatedTarget;bd(z)&&z.dataset.headlessuiFocusGuard!=="true"&&(Boe(P,z)||(E.current?Cy(r.current,yu(h.current,{[Xv.Forwards]:()=>eu.Next,[Xv.Backwards]:()=>eu.Previous})|eu.WrapAround,{relativeTo:O.target}):bd(O.target)&&_d(O.target)))}},M=Zi();return Re.createElement(Re.Fragment,null,y&&Re.createElement(VM,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:m,features:lE.Focusable}),M({ourProps:A,theirProps:l,defaultTag:GNe,name:"FocusTrap"}),y&&Re.createElement(VM,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:m,features:lE.Focusable}))}let ZNe=ki(YNe),QNe=Object.assign(ZNe,{features:Gp});function JNe(t=!0){let e=B.useRef(E0.slice());return fj(([r],[n])=>{n===!0&&r===!1&&h9(()=>{e.current.splice(0)}),n===!1&&r===!0&&(e.current=E0.slice())},[t,E0,e]),Er(()=>{var r;return(r=e.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function XNe(t,{ownerDocument:e}){let r=!!(t&8),n=JNe(r);fj(()=>{r||e?.activeElement===e?.body&&_d(n())},[r]),wj(()=>{r&&_d(n())})}function eRe(t,{ownerDocument:e,container:r,initialFocus:n,initialFocusFallback:i}){let s=B.useRef(null),o=B5(!!(t&1),"focus-trap#initial-focus"),a=vj();return fj(()=>{if(t===0)return;if(!o){i!=null&&i.current&&_d(i.current);return}let l=r.current;l&&h9(()=>{if(!a.current)return;let u=e?.activeElement;if(n!=null&&n.current){if(n?.current===u){s.current=u;return}}else if(l.contains(u)){s.current=u;return}if(n!=null&&n.current)_d(n.current);else{if(t&16){if(Cy(l,eu.First|eu.AutoFocus)!==GM.Error)return}else if(Cy(l,eu.First)!==GM.Error)return;if(i!=null&&i.current&&(_d(i.current),e?.activeElement===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=e?.activeElement})},[i,o,t]),s}function tRe(t,{ownerDocument:e,container:r,containers:n,previousActiveElement:i}){let s=vj(),o=!!(t&4);loe(e?.defaultView,"focus",a=>{if(!o||!s.current)return;let l=Doe(n);Cl(r.current)&&l.add(r.current);let u=i.current;if(!u)return;let c=a.target;Cl(c)?Boe(l,c)?(i.current=c,_d(c)):(a.preventDefault(),a.stopPropagation(),_d(u)):_d(i.current)},!0)}function Boe(t,e){for(let r of t)if(r.contains(e))return!0;return!1}function Uoe(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||!Sb((e=t.as)!=null?e:zoe)||Re.Children.count(t.children)===1}let E9=B.createContext(null);E9.displayName="TransitionContext";var rRe=(t=>(t.Visible="visible",t.Hidden="hidden",t))(rRe||{});function nRe(){let t=B.useContext(E9);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function iRe(){let t=B.useContext(_9);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let _9=B.createContext(null);_9.displayName="NestingContext";function A9(t){return"children"in t?A9(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function Foe(t,e){let r=gm(t),n=B.useRef([]),i=vj(),s=pm(),o=Er((y,b=k0.Hidden)=>{let E=n.current.findIndex(({el:A})=>A===y);E!==-1&&(yu(b,{[k0.Unmount](){n.current.splice(E,1)},[k0.Hidden](){n.current[E].state="hidden"}}),s.microTask(()=>{var A;!A9(n)&&i.current&&((A=r.current)==null||A.call(r))}))}),a=Er(y=>{let b=n.current.find(({el:E})=>E===y);return b?b.state!=="visible"&&(b.state="visible"):n.current.push({el:y,state:"visible"}),()=>o(y,k0.Unmount)}),l=B.useRef([]),u=B.useRef(Promise.resolve()),c=B.useRef({enter:[],leave:[]}),h=Er((y,b,E)=>{l.current.splice(0),e&&(e.chains.current[b]=e.chains.current[b].filter(([A])=>A!==y)),e?.chains.current[b].push([y,new Promise(A=>{l.current.push(A)})]),e?.chains.current[b].push([y,new Promise(A=>{Promise.all(c.current[b].map(([M,O])=>O)).then(()=>A())})]),b==="enter"?u.current=u.current.then(()=>e?.wait.current).then(()=>E(b)):E(b)}),m=Er((y,b,E)=>{Promise.all(c.current[b].splice(0).map(([A,M])=>M)).then(()=>{var A;(A=l.current.shift())==null||A()}).then(()=>E(b))});return B.useMemo(()=>({children:n,register:a,unregister:o,onStart:h,onStop:m,wait:u,chains:c}),[a,o,n,h,m,c,u])}let zoe=B.Fragment,Woe=Jy.RenderStrategy;function sRe(t,e){var r,n;let{transition:i=!0,beforeEnter:s,afterEnter:o,beforeLeave:a,afterLeave:l,enter:u,enterFrom:c,enterTo:h,entered:m,leave:y,leaveFrom:b,leaveTo:E,...A}=t,[M,O]=B.useState(null),P=B.useRef(null),z=Uoe(t),L=sa(...z?[P,e,O]:e===null?[]:[e]),W=(r=A.unmount)==null||r?k0.Unmount:k0.Hidden,{show:H,appear:G,initial:N}=nRe(),[F,U]=B.useState(H?"visible":"hidden"),j=iRe(),{register:_,unregister:d}=j;ai(()=>_(P),[_,P]),ai(()=>{if(W===k0.Hidden&&P.current){if(H&&F!=="visible"){U("visible");return}return yu(F,{hidden:()=>d(P),visible:()=>_(P)})}},[F,P,_,d,H,W]);let g=x9();ai(()=>{if(z&&g&&F==="visible"&&P.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[P,F,g,z]);let x=N&&!G,C=G&&H&&N,k=B.useRef(!1),T=Foe(()=>{k.current||(U("hidden"),d(P))},j),R=Er(ne=>{k.current=!0;let ie=ne?"enter":"leave";T.onStart(P,ie,ce=>{ce==="enter"?s?.():ce==="leave"&&a?.()})}),I=Er(ne=>{let ie=ne?"enter":"leave";k.current=!1,T.onStop(P,ie,ce=>{ce==="enter"?o?.():ce==="leave"&&l?.()}),ie==="leave"&&!A9(T)&&(U("hidden"),d(P))});B.useEffect(()=>{z&&i||(R(H),I(H))},[H,z,i]);let f=!(!i||!z||!g||x),[,S]=doe(f,M,H,{start:R,end:I}),K=zp({ref:L,className:((n=HM(A.className,C&&u,C&&c,S.enter&&u,S.enter&&S.closed&&c,S.enter&&!S.closed&&h,S.leave&&y,S.leave&&!S.closed&&b,S.leave&&S.closed&&E,!S.transition&&H&&m))==null?void 0:n.trim())||void 0,...uoe(S)}),D=0;F==="visible"&&(D|=Go.Open),F==="hidden"&&(D|=Go.Closed),H&&F==="hidden"&&(D|=Go.Opening),!H&&F==="visible"&&(D|=Go.Closing);let J=Zi();return Re.createElement(_9.Provider,{value:T},Re.createElement(Ioe,{value:D},J({ourProps:K,theirProps:A,defaultTag:zoe,features:Woe,visible:F==="visible",name:"Transition.Child"})))}function oRe(t,e){let{show:r,appear:n=!1,unmount:i=!0,...s}=t,o=B.useRef(null),a=Uoe(t),l=sa(...a?[o,e]:e===null?[]:[e]);x9();let u=z5();if(r===void 0&&u!==null&&(r=(u&Go.Open)===Go.Open),r===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[c,h]=B.useState(r?"visible":"hidden"),m=Foe(()=>{r||h("hidden")}),[y,b]=B.useState(!0),E=B.useRef([r]);ai(()=>{y!==!1&&E.current[E.current.length-1]!==r&&(E.current.push(r),b(!1))},[E,r]);let A=B.useMemo(()=>({show:r,appear:n,initial:y}),[r,n,y]);ai(()=>{r?h("visible"):!A9(m)&&o.current!==null&&h("hidden")},[r,m]);let M={unmount:i},O=Er(()=>{var L;y&&b(!1),(L=t.beforeEnter)==null||L.call(t)}),P=Er(()=>{var L;y&&b(!1),(L=t.beforeLeave)==null||L.call(t)}),z=Zi();return Re.createElement(_9.Provider,{value:m},Re.createElement(E9.Provider,{value:A},z({ourProps:{...M,as:B.Fragment,children:Re.createElement(qoe,{ref:l,...M,...s,beforeEnter:O,beforeLeave:P})},theirProps:{},defaultTag:B.Fragment,features:Woe,visible:c==="visible",name:"Transition"})))}function aRe(t,e){let r=B.useContext(E9)!==null,n=z5()!==null;return Re.createElement(Re.Fragment,null,!r&&n?Re.createElement(XM,{ref:e,...t}):Re.createElement(qoe,{ref:e,...t}))}let XM=ki(oRe),qoe=ki(sRe),G3=ki(aRe),Hoe=Object.assign(XM,{Child:G3,Root:XM});var lRe=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(lRe||{}),cRe=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(cRe||{});let uRe={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},bj=B.createContext(null);bj.displayName="DialogContext";function S9(t){let e=B.useContext(bj);if(e===null){let r=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,S9),r}return e}function dRe(t,e){return yu(e.type,uRe,t,e)}let BH=ki(function(t,e){let r=B.useId(),{id:n=`headlessui-dialog-${r}`,open:i,onClose:s,initialFocus:o,role:a="dialog",autoFocus:l=!0,__demoMode:u=!1,unmount:c=!1,...h}=t,m=B.useRef(!1);a=(function(){return a==="dialog"||a==="alertdialog"?a:(m.current||(m.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let y=z5();i===void 0&&y!==null&&(i=(y&Go.Open)===Go.Open);let b=B.useRef(null),E=sa(b,e),A=Xy(b),M=i?0:1,[O,P]=B.useReducer(dRe,{titleId:null,descriptionId:null,panelRef:B.createRef()}),z=Er(()=>s(!1)),L=Er(S=>P({type:0,id:S})),W=x9()?M===0:!1,[H,G]=UNe(),N={get current(){var S;return(S=O.panelRef.current)!=null?S:b.current}},F=Loe(),{resolveContainers:U}=HNe({mainTreeNode:F,portals:H,defaultContainers:[N]}),j=y!==null?(y&Go.Closing)===Go.Closing:!1;eoe(u||j?!1:W,{allowed:Er(()=>{var S,K;return[(K=(S=b.current)==null?void 0:S.closest("[data-headlessui-portal]"))!=null?K:null]}),disallowed:Er(()=>{var S;return[(S=F?.closest("body > *:not(#headlessui-portal-root)"))!=null?S:null]})});let _=p9.get(null);ai(()=>{if(W)return _.actions.push(n),()=>_.actions.pop(n)},[_,n,W]);let d=ic(_,B.useCallback(S=>_.selectors.isTop(S,n),[_,n]));aoe(d,U,S=>{S.preventDefault(),z()}),WNe(d,A?.defaultView,S=>{S.preventDefault(),S.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),z()}),coe(u||j?!1:W,A,U),toe(W,b,z);let[g,x]=Hse(),C=B.useMemo(()=>[{dialogState:M,close:z,setTitleId:L,unmount:c},O],[M,z,L,c,O]),k=Od({open:M===0}),T={ref:E,id:n,role:a,tabIndex:-1,"aria-modal":u?void 0:M===0?!0:void 0,"aria-labelledby":O.titleId,"aria-describedby":g,unmount:c},R=!qNe(),I=Gp.None;W&&!u&&(I|=Gp.RestoreFocus,I|=Gp.TabLock,l&&(I|=Gp.AutoFocus),R&&(I|=Gp.InitialFocus));let f=Zi();return Re.createElement(MNe,null,Re.createElement(LH,{force:!0},Re.createElement(Roe,null,Re.createElement(bj.Provider,{value:C},Re.createElement(Noe,{target:b},Re.createElement(LH,{force:!1},Re.createElement(x,{slot:k},Re.createElement(G,null,Re.createElement(QNe,{initialFocus:o,initialFocusFallback:b,containers:U,features:I},Re.createElement(oMe,{value:z},f({ourProps:T,theirProps:h,slot:k,defaultTag:hRe,features:fRe,visible:M===0,name:"Dialog"})))))))))))}),hRe="div",fRe=Jy.RenderStrategy|Jy.Static;function pRe(t,e){let{transition:r=!1,open:n,...i}=t,s=z5(),o=t.hasOwnProperty("open")||s!==null,a=t.hasOwnProperty("onClose");if(!o&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(n!==void 0||r)&&!i.static?Re.createElement(DH,null,Re.createElement(Hoe,{show:n,transition:r,unmount:i.unmount},Re.createElement(BH,{ref:e,...i}))):Re.createElement(DH,null,Re.createElement(BH,{ref:e,open:n,...i}))}let gRe="div";function mRe(t,e){let r=B.useId(),{id:n=`headlessui-dialog-panel-${r}`,transition:i=!1,...s}=t,[{dialogState:o,unmount:a},l]=S9("Dialog.Panel"),u=sa(e,l.panelRef),c=Od({open:o===0}),h=Er(A=>{A.stopPropagation()}),m={ref:u,id:n,onClick:h},y=i?G3:B.Fragment,b=i?{unmount:a}:{},E=Zi();return Re.createElement(y,{...b},E({ourProps:m,theirProps:s,slot:c,defaultTag:gRe,name:"Dialog.Panel"}))}let yRe="div";function wRe(t,e){let{transition:r=!1,...n}=t,[{dialogState:i,unmount:s}]=S9("Dialog.Backdrop"),o=Od({open:i===0}),a={ref:e,"aria-hidden":!0},l=r?G3:B.Fragment,u=r?{unmount:s}:{},c=Zi();return Re.createElement(l,{...u},c({ourProps:a,theirProps:n,slot:o,defaultTag:yRe,name:"Dialog.Backdrop"}))}let vRe="h2";function bRe(t,e){let r=B.useId(),{id:n=`headlessui-dialog-title-${r}`,...i}=t,[{dialogState:s,setTitleId:o}]=S9("Dialog.Title"),a=sa(e);B.useEffect(()=>(o(n),()=>o(null)),[n,o]);let l=Od({open:s===0}),u={ref:a,id:n};return Zi()({ourProps:u,theirProps:i,slot:l,defaultTag:vRe,name:"Dialog.Title"})}let xRe=ki(pRe),Voe=ki(mRe);ki(wRe);let ERe=ki(bRe),_Re=Object.assign(xRe,{Panel:Voe,Title:ERe,Description:eMe}),UH=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function FH(t){var e,r;let n=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!Cl(i))return n;let s=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),s=!0;let o=s?(r=i.innerText)!=null?r:"":n;return UH.test(o)&&(o=o.replace(UH,"")),o}function ARe(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let r=t.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(i=>{let s=document.getElementById(i);if(s){let o=s.getAttribute("aria-label");return typeof o=="string"?o.trim():FH(s).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return FH(t).trim()}function SRe(t){let e=B.useRef(""),r=B.useRef("");return Er(()=>{let n=t.current;if(!n)return"";let i=n.innerText;if(e.current===i)return r.current;let s=ARe(n).trim().toLowerCase();return e.current=i,r.current=s,s})}var CRe=Object.defineProperty,kRe=(t,e,r)=>e in t?CRe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,zH=(t,e,r)=>(kRe(t,typeof e!="symbol"?e+"":e,r),r),ko=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(ko||{}),fE=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(fE||{}),Wn=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItems=5]="RegisterItems",t[t.UnregisterItems=6]="UnregisterItems",t[t.SetButtonElement=7]="SetButtonElement",t[t.SetItemsElement=8]="SetItemsElement",t[t.SortItems=9]="SortItems",t[t.MarkButtonAsMoved=10]="MarkButtonAsMoved",t))(Wn||{});function WH(t,e=r=>r){let r=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,n=ioe(e(t.items.slice()),s=>s.dataRef.current.domRef.current),i=r?n.indexOf(r):null;return i===-1&&(i=null),{items:n,activeItemIndex:i}}let IRe={1(t){if(t.menuState===1)return t;let e=t.buttonElement?a8.Tracked(Ooe(t.buttonElement)):t.buttonPositionState;return{...t,activeItemIndex:null,pendingFocus:{focus:Gi.Nothing},menuState:1,buttonPositionState:e}},0(t,e){return t.menuState===0?t:{...t,__demoMode:!1,pendingFocus:e.focus,menuState:0,buttonPositionState:a8.Idle}},2:(t,e)=>{var r,n,i,s,o;if(t.menuState===1)return t;let a={...t,searchQuery:"",activationTrigger:(r=e.trigger)!=null?r:1,__demoMode:!1};if(e.focus===Gi.Nothing)return{...a,activeItemIndex:null};if(e.focus===Gi.Specific)return{...a,activeItemIndex:t.items.findIndex(c=>c.id===e.id)};if(e.focus===Gi.Previous){let c=t.activeItemIndex;if(c!==null){let h=t.items[c].dataRef.current.domRef,m=W4(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:y=>y.id,resolveDisabled:y=>y.dataRef.current.disabled});if(m!==null){let y=t.items[m].dataRef.current.domRef;if(((n=h.current)==null?void 0:n.previousElementSibling)===y.current||((i=y.current)==null?void 0:i.previousElementSibling)===null)return{...a,activeItemIndex:m}}}}else if(e.focus===Gi.Next){let c=t.activeItemIndex;if(c!==null){let h=t.items[c].dataRef.current.domRef,m=W4(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:y=>y.id,resolveDisabled:y=>y.dataRef.current.disabled});if(m!==null){let y=t.items[m].dataRef.current.domRef;if(((s=h.current)==null?void 0:s.nextElementSibling)===y.current||((o=y.current)==null?void 0:o.nextElementSibling)===null)return{...a,activeItemIndex:m}}}}let l=WH(t),u=W4(e,{resolveItems:()=>l.items,resolveActiveIndex:()=>l.activeItemIndex,resolveId:c=>c.id,resolveDisabled:c=>c.dataRef.current.disabled});return{...a,...l,activeItemIndex:u}},3:(t,e)=>{let r=t.searchQuery!==""?0:1,n=t.searchQuery+e.value.toLowerCase(),i=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+r).concat(t.items.slice(0,t.activeItemIndex+r)):t.items).find(o=>{var a;return((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(n))&&!o.dataRef.current.disabled}),s=i?t.items.indexOf(i):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:n}:{...t,searchQuery:n,activeItemIndex:s,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let r=t.items.concat(e.items.map(i=>i)),n=t.activeItemIndex;return t.pendingFocus.focus!==Gi.Nothing&&(n=W4(t.pendingFocus,{resolveItems:()=>r,resolveActiveIndex:()=>t.activeItemIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled})),{...t,items:r,activeItemIndex:n,pendingFocus:{focus:Gi.Nothing},pendingShouldSort:!0}},6:(t,e)=>{let r=t.items,n=[],i=new Set(e.items);for(let[s,o]of r.entries())if(i.has(o.id)&&(n.push(s),i.delete(o.id),i.size===0))break;if(n.length>0){r=r.slice();for(let s of n.reverse())r.splice(s,1)}return{...t,items:r,activationTrigger:1}},7:(t,e)=>t.buttonElement===e.element?t:{...t,buttonElement:e.element},8:(t,e)=>t.itemsElement===e.element?t:{...t,itemsElement:e.element},9:t=>t.pendingShouldSort?{...t,...WH(t),pendingShouldSort:!1}:t,10(t){return t.buttonPositionState.kind!=="Tracked"?t:{...t,buttonPositionState:a8.Moved}}},TRe=class Koe extends Zse{constructor(e){super(e),zH(this,"actions",{registerItem:cH(()=>{let r=[],n=new Set;return[(i,s)=>{n.has(s)||(n.add(s),r.push({id:i,dataRef:s}))},()=>(n.clear(),this.send({type:5,items:r.splice(0)}))]}),unregisterItem:cH(()=>{let r=[];return[n=>r.push(n),()=>this.send({type:6,items:r.splice(0)})]})}),zH(this,"selectors",{activeDescendantId(r){var n;let i=r.activeItemIndex,s=r.items;return i===null||(n=s[i])==null?void 0:n.id},isActive(r,n){var i;let s=r.activeItemIndex,o=r.items;return s!==null?((i=o[s])==null?void 0:i.id)===n:!1},shouldScrollIntoView(r,n){return r.__demoMode||r.menuState!==0||r.activationTrigger===0?!1:this.isActive(r,n)},didButtonMove(r){return r.buttonPositionState.kind==="Moved"}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let r=this.state.id,n=p9.get(null);this.disposables.add(n.on(Jse.Push,i=>{!n.selectors.isTop(i,r)&&this.state.menuState===0&&this.send({type:1})})),this.on(0,()=>n.actions.push(r)),this.on(1,()=>n.actions.pop(r))}this.disposables.group(r=>{this.on(1,n=>{n.buttonElement&&(r.dispose(),r.add(zNe(n.buttonElement,n.buttonPositionState,()=>{this.send({type:10})})))})})}static new({id:e,__demoMode:r=!1}){return new Koe({id:e,__demoMode:r,menuState:r?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:Gi.Nothing},buttonPositionState:a8.Idle})}reduce(e,r){return yu(r.type,IRe,e,r)}};const Goe=B.createContext(null);function xj(t){let e=B.useContext(Goe);if(e===null){let r=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Yoe),r}return e}function Yoe({id:t,__demoMode:e=!1}){let r=B.useMemo(()=>TRe.new({id:t,__demoMode:e}),[]);return wj(()=>r.dispose()),r}let $Re=B.Fragment;function MRe(t,e){let r=B.useId(),{__demoMode:n=!1,...i}=t,s=Yoe({id:r,__demoMode:n}),[o,a,l]=ic(s,A=>[A.menuState,A.itemsElement,A.buttonElement]),u=sa(e),c=p9.get(null),h=ic(c,B.useCallback(A=>c.selectors.isTop(A,r),[c,r]));aoe(h,[l,a],(A,M)=>{var O;s.send({type:Wn.CloseMenu}),hj(M,dj.Loose)||(A.preventDefault(),(O=s.state.buttonElement)==null||O.focus())});let m=Er(()=>{s.send({type:Wn.CloseMenu})}),y=Od({open:o===ko.Open,close:m}),b={ref:u},E=Zi();return Re.createElement(INe,null,Re.createElement(Goe.Provider,{value:s},Re.createElement(Ioe,{value:yu(o,{[ko.Open]:Go.Open,[ko.Closed]:Go.Closed})},E({ourProps:b,theirProps:i,slot:y,defaultTag:$Re,name:"Menu"}))))}let PRe="button";function NRe(t,e){let r=xj("Menu.Button"),n=B.useId(),{id:i=`headlessui-menu-button-${n}`,disabled:s=!1,autoFocus:o=!1,...a}=t,l=B.useRef(null),u=SNe(),c=sa(e,l,ANe(),Er(_=>r.send({type:Wn.SetButtonElement,element:_}))),h=Er(_=>{switch(_.key){case vs.Space:case vs.Enter:case vs.ArrowDown:_.preventDefault(),_.stopPropagation(),r.send({type:Wn.OpenMenu,focus:{focus:Gi.First}});break;case vs.ArrowUp:_.preventDefault(),_.stopPropagation(),r.send({type:Wn.OpenMenu,focus:{focus:Gi.Last}});break}}),m=Er(_=>{switch(_.key){case vs.Space:_.preventDefault();break}}),[y,b,E]=ic(r,_=>[_.menuState,_.buttonElement,_.itemsElement]),A=y===ko.Open;FMe(A,{trigger:b,action:B.useCallback(_=>{if(b!=null&&b.contains(_.target))return F4.Ignore;let d=_.target.closest('[role="menuitem"]:not([data-disabled])');return Cl(d)?F4.Select(d):E!=null&&E.contains(_.target)?F4.Ignore:F4.Close},[b,E]),close:B.useCallback(()=>r.send({type:Wn.CloseMenu}),[]),select:B.useCallback(_=>_.click(),[])});let M=Er(_=>{var d;if(_.button===Toe.Left){if(G$e(_.currentTarget))return _.preventDefault();s||(y===ko.Open?(Id.flushSync(()=>r.send({type:Wn.CloseMenu})),(d=l.current)==null||d.focus({preventScroll:!0})):(_.preventDefault(),r.send({type:Wn.OpenMenu,focus:{focus:Gi.Nothing},trigger:fE.Pointer})))}}),O=B.useRef(null),P=Er(_=>{O.current=_.pointerType,_.pointerType==="mouse"&&M(_)}),z=Er(_=>{O.current!=="mouse"&&M(_)}),{isFocusVisible:L,focusProps:W}=k$e({autoFocus:o}),{isHovered:H,hoverProps:G}=C$e({isDisabled:s}),{pressed:N,pressProps:F}=N$e({disabled:s}),U=Od({open:y===ko.Open,active:N||y===ko.Open,disabled:s,hover:H,focus:L,autofocus:o}),j=Bse(u(),{ref:c,id:i,type:zMe(t,l.current),"aria-haspopup":"menu","aria-controls":E?.id,"aria-expanded":y===ko.Open,disabled:s||void 0,autoFocus:o,onKeyDown:h,onKeyUp:m,onPointerDown:P,onClick:z},W,G,F);return Zi()({ourProps:j,theirProps:a,slot:U,defaultTag:PRe,name:"Menu.Button"})}let RRe="div",ORe=Jy.RenderStrategy|Jy.Static;function jRe(t,e){let r=B.useId(),{id:n=`headlessui-menu-items-${r}`,anchor:i,portal:s=!1,modal:o=!0,transition:a=!1,...l}=t,u=_Ne(i),c=xj("Menu.Items"),[h,m]=kNe(u),y=CNe(),[b,E]=B.useState(null),A=sa(e,u?h:null,Er(k=>c.send({type:Wn.SetItemsElement,element:k})),E),[M,O]=ic(c,k=>[k.menuState,k.buttonElement]),P=Xy(O),z=Xy(b);u&&(s=!0);let L=z5(),[W,H]=doe(a,b,L!==null?(L&Go.Open)===Go.Open:M===ko.Open);toe(W,O,()=>{c.send({type:Wn.CloseMenu})});let G=ic(c,k=>k.__demoMode),N=G?!1:o&&M===ko.Open;coe(N,z);let F=G?!1:o&&M===ko.Open;eoe(F,{allowed:B.useCallback(()=>[O,b],[O,b])});let U=ic(c,c.selectors.didButtonMove)?!1:W;B.useEffect(()=>{let k=b;k&&M===ko.Open&&k!==z?.activeElement&&k.focus({preventScroll:!0})},[M,b,z]),nPe(M===ko.Open,{container:b,accept(k){return k.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:k.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(k){k.setAttribute("role","none")}});let j=pm(),_=Er(k=>{var T,R,I;switch(j.dispose(),k.key){case vs.Space:if(c.state.searchQuery!=="")return k.preventDefault(),k.stopPropagation(),c.send({type:Wn.Search,value:k.key});case vs.Enter:if(k.preventDefault(),k.stopPropagation(),c.state.activeItemIndex!==null){let{dataRef:f}=c.state.items[c.state.activeItemIndex];(R=(T=f.current)==null?void 0:T.domRef.current)==null||R.click()}c.send({type:Wn.CloseMenu}),noe(c.state.buttonElement);break;case vs.ArrowDown:return k.preventDefault(),k.stopPropagation(),c.send({type:Wn.GoToItem,focus:Gi.Next});case vs.ArrowUp:return k.preventDefault(),k.stopPropagation(),c.send({type:Wn.GoToItem,focus:Gi.Previous});case vs.Home:case vs.PageUp:return k.preventDefault(),k.stopPropagation(),c.send({type:Wn.GoToItem,focus:Gi.First});case vs.End:case vs.PageDown:return k.preventDefault(),k.stopPropagation(),c.send({type:Wn.GoToItem,focus:Gi.Last});case vs.Escape:k.preventDefault(),k.stopPropagation(),Id.flushSync(()=>c.send({type:Wn.CloseMenu})),(I=c.state.buttonElement)==null||I.focus({preventScroll:!0});break;case vs.Tab:k.preventDefault(),k.stopPropagation(),Id.flushSync(()=>c.send({type:Wn.CloseMenu})),LMe(c.state.buttonElement,k.shiftKey?eu.Previous:eu.Next);break;default:k.key.length===1&&(c.send({type:Wn.Search,value:k.key}),j.setTimeout(()=>c.send({type:Wn.ClearSearch}),350));break}}),d=Er(k=>{switch(k.key){case vs.Space:k.preventDefault();break}}),g=Od({open:M===ko.Open}),x=Bse(u?y():{},{"aria-activedescendant":ic(c,c.selectors.activeDescendantId),"aria-labelledby":ic(c,k=>{var T;return(T=k.buttonElement)==null?void 0:T.id}),id:n,onKeyDown:_,onKeyUp:d,role:"menu",tabIndex:M===ko.Open?0:void 0,ref:A,style:{...l.style,...m,"--button-width":vMe(W,O,!0).width},...uoe(H)}),C=Zi();return Re.createElement(Roe,{enabled:s?t.static||W:!1,ownerDocument:P},C({ourProps:x,theirProps:l,slot:g,defaultTag:RRe,features:ORe,visible:U,name:"Menu.Items"}))}let LRe=B.Fragment;function DRe(t,e){let r=B.useId(),{id:n=`headlessui-menu-item-${r}`,disabled:i=!1,...s}=t,o=xj("Menu.Item"),a=ic(o,U=>o.selectors.isActive(U,n)),l=B.useRef(null),u=sa(e,l),c=ic(o,U=>o.selectors.shouldScrollIntoView(U,n));ai(()=>{if(c)return Ga().requestAnimationFrame(()=>{var U,j;(j=(U=l.current)==null?void 0:U.scrollIntoView)==null||j.call(U,{block:"nearest"})})},[c,l]);let h=SRe(l),m=B.useRef({disabled:i,domRef:l,get textValue(){return h()}});ai(()=>{m.current.disabled=i},[m,i]),ai(()=>(o.actions.registerItem(n,m),()=>o.actions.unregisterItem(n)),[m,n]);let y=Er(()=>{o.send({type:Wn.CloseMenu})}),b=Er(U=>{if(i)return U.preventDefault();o.send({type:Wn.CloseMenu}),noe(o.state.buttonElement)}),E=Er(()=>{if(i)return o.send({type:Wn.GoToItem,focus:Gi.Nothing});o.send({type:Wn.GoToItem,focus:Gi.Specific,id:n})}),A=ZMe(),M=Er(U=>A.update(U)),O=Er(U=>{A.wasMoved(U)&&(i||a||o.send({type:Wn.GoToItem,focus:Gi.Specific,id:n,trigger:fE.Pointer}))}),P=Er(U=>{A.wasMoved(U)&&(i||a&&o.state.activationTrigger===fE.Pointer&&o.send({type:Wn.GoToItem,focus:Gi.Nothing}))}),[z,L]=Vse(),[W,H]=Hse(),G=Od({active:a,focus:a,disabled:i,close:y}),N={id:n,ref:u,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-labelledby":z,"aria-describedby":W,disabled:void 0,onClick:b,onFocus:E,onPointerEnter:M,onMouseEnter:M,onPointerMove:O,onMouseMove:O,onPointerLeave:P,onMouseLeave:P},F=Zi();return Re.createElement(L,null,Re.createElement(H,null,F({ourProps:N,theirProps:s,slot:G,defaultTag:LRe,name:"Menu.Item"})))}let BRe="div";function URe(t,e){let[r,n]=Vse(),i=t,s={ref:e,"aria-labelledby":r,role:"group"},o=Zi();return Re.createElement(n,null,o({ourProps:s,theirProps:i,slot:{},defaultTag:BRe,name:"Menu.Section"}))}let FRe="header";function zRe(t,e){let r=B.useId(),{id:n=`headlessui-menu-heading-${r}`,...i}=t,s=uj();ai(()=>s.register(n),[n,s.register]);let o={id:n,ref:e,role:"presentation",...s.props};return Zi()({ourProps:o,theirProps:i,slot:{},defaultTag:FRe,name:"Menu.Heading"})}let WRe="div";function qRe(t,e){let r=t,n={ref:e,role:"separator"};return Zi()({ourProps:n,theirProps:r,slot:{},defaultTag:WRe,name:"Menu.Separator"})}let HRe=ki(MRe),Zoe=ki(NRe),Qoe=ki(jRe),Joe=ki(DRe),VRe=ki(URe),KRe=ki(zRe),GRe=ki(qRe),YRe=Object.assign(HRe,{Button:Zoe,Items:Qoe,Item:Joe,Section:VRe,Heading:KRe,Separator:GRe});/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZRe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Xoe=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QRe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JRe=B.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...a},l)=>B.createElement("svg",{ref:l,...QRe,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:Xoe("lucide",i),...a},[...o.map(([u,c])=>B.createElement(u,c)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=(t,e)=>{const r=B.forwardRef(({className:n,...i},s)=>B.createElement(JRe,{ref:s,iconNode:e,className:Xoe(`lucide-${ZRe(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XRe=Ii("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eOe=Ii("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=Ii("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eae=Ii("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=Ii("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tOe=Ii("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rOe=Ii("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=Ii("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nOe=Ii("CloudUpload",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=Ii("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=Ii("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iOe=Ii("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=Ii("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=Ii("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=Ii("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sOe=Ii("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tae=Ii("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oOe=Ii("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aOe=Ii("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=Ii("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lOe=Ii("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cOe=Ii("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var q4={exports:{}},qH;function uOe(){if(qH)return q4.exports;qH=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(L,W,H){return Function.prototype.apply.call(L,W,H)},r;t&&typeof t.ownKeys=="function"?r=t.ownKeys:Object.getOwnPropertySymbols?r=function(L){return Object.getOwnPropertyNames(L).concat(Object.getOwnPropertySymbols(L))}:r=function(L){return Object.getOwnPropertyNames(L)};function n(z){console&&console.warn&&console.warn(z)}var i=Number.isNaN||function(L){return L!==L};function s(){s.init.call(this)}q4.exports=s,q4.exports.once=M,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(z){if(typeof z!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof z)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(z){if(typeof z!="number"||z<0||i(z))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+z+".");o=z}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(L){if(typeof L!="number"||L<0||i(L))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+L+".");return this._maxListeners=L,this};function l(z){return z._maxListeners===void 0?s.defaultMaxListeners:z._maxListeners}s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(L){for(var W=[],H=1;H<arguments.length;H++)W.push(arguments[H]);var G=L==="error",N=this._events;if(N!==void 0)G=G&&N.error===void 0;else if(!G)return!1;if(G){var F;if(W.length>0&&(F=W[0]),F instanceof Error)throw F;var U=new Error("Unhandled error."+(F?" ("+F.message+")":""));throw U.context=F,U}var j=N[L];if(j===void 0)return!1;if(typeof j=="function")e(j,this,W);else for(var _=j.length,d=b(j,_),H=0;H<_;++H)e(d[H],this,W);return!0};function u(z,L,W,H){var G,N,F;if(a(W),N=z._events,N===void 0?(N=z._events=Object.create(null),z._eventsCount=0):(N.newListener!==void 0&&(z.emit("newListener",L,W.listener?W.listener:W),N=z._events),F=N[L]),F===void 0)F=N[L]=W,++z._eventsCount;else if(typeof F=="function"?F=N[L]=H?[W,F]:[F,W]:H?F.unshift(W):F.push(W),G=l(z),G>0&&F.length>G&&!F.warned){F.warned=!0;var U=new Error("Possible EventEmitter memory leak detected. "+F.length+" "+String(L)+" listeners added. Use emitter.setMaxListeners() to increase limit");U.name="MaxListenersExceededWarning",U.emitter=z,U.type=L,U.count=F.length,n(U)}return z}s.prototype.addListener=function(L,W){return u(this,L,W,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(L,W){return u(this,L,W,!0)};function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(z,L,W){var H={fired:!1,wrapFn:void 0,target:z,type:L,listener:W},G=c.bind(H);return G.listener=W,H.wrapFn=G,G}s.prototype.once=function(L,W){return a(W),this.on(L,h(this,L,W)),this},s.prototype.prependOnceListener=function(L,W){return a(W),this.prependListener(L,h(this,L,W)),this},s.prototype.removeListener=function(L,W){var H,G,N,F,U;if(a(W),G=this._events,G===void 0)return this;if(H=G[L],H===void 0)return this;if(H===W||H.listener===W)--this._eventsCount===0?this._events=Object.create(null):(delete G[L],G.removeListener&&this.emit("removeListener",L,H.listener||W));else if(typeof H!="function"){for(N=-1,F=H.length-1;F>=0;F--)if(H[F]===W||H[F].listener===W){U=H[F].listener,N=F;break}if(N<0)return this;N===0?H.shift():E(H,N),H.length===1&&(G[L]=H[0]),G.removeListener!==void 0&&this.emit("removeListener",L,U||W)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(L){var W,H,G;if(H=this._events,H===void 0)return this;if(H.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):H[L]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete H[L]),this;if(arguments.length===0){var N=Object.keys(H),F;for(G=0;G<N.length;++G)F=N[G],F!=="removeListener"&&this.removeAllListeners(F);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(W=H[L],typeof W=="function")this.removeListener(L,W);else if(W!==void 0)for(G=W.length-1;G>=0;G--)this.removeListener(L,W[G]);return this};function m(z,L,W){var H=z._events;if(H===void 0)return[];var G=H[L];return G===void 0?[]:typeof G=="function"?W?[G.listener||G]:[G]:W?A(G):b(G,G.length)}s.prototype.listeners=function(L){return m(this,L,!0)},s.prototype.rawListeners=function(L){return m(this,L,!1)},s.listenerCount=function(z,L){return typeof z.listenerCount=="function"?z.listenerCount(L):y.call(z,L)},s.prototype.listenerCount=y;function y(z){var L=this._events;if(L!==void 0){var W=L[z];if(typeof W=="function")return 1;if(W!==void 0)return W.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function b(z,L){for(var W=new Array(L),H=0;H<L;++H)W[H]=z[H];return W}function E(z,L){for(;L+1<z.length;L++)z[L]=z[L+1];z.pop()}function A(z){for(var L=new Array(z.length),W=0;W<L.length;++W)L[W]=z[W].listener||z[W];return L}function M(z,L){return new Promise(function(W,H){function G(F){z.removeListener(L,N),H(F)}function N(){typeof z.removeListener=="function"&&z.removeListener("error",G),W([].slice.call(arguments))}P(z,L,N,{once:!0}),L!=="error"&&O(z,G,{once:!0})})}function O(z,L,W){typeof z.on=="function"&&P(z,"error",L,W)}function P(z,L,W,H){if(typeof z.on=="function")H.once?z.once(L,W):z.on(L,W);else if(typeof z.addEventListener=="function")z.addEventListener(L,function G(N){H.once&&z.removeEventListener(L,G),W(N)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof z)}return q4.exports}var Pl=uOe();const Aj=ds(Pl);var HH=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))},dOe=(function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t})(),hOe=(function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=pi.platform}return t})(),fOe=(function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t})(),pOe=(function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t})(),gOe=(function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t})(),mOe=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,yOe=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,VH=3,wOe=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",mOe]],KH=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function vOe(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new gOe:typeof navigator<"u"?xOe(navigator.userAgent):_Oe()}function bOe(t){return t!==""&&wOe.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var s=i.exec(t);return!!s&&[n,s]},!1)}function xOe(t){var e=bOe(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new pOe;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<VH&&(i=HH(HH([],i,!0),AOe(VH-i.length),!0)):i=[];var s=i.join("."),o=EOe(t),a=yOe.exec(t);return a&&a[1]?new fOe(r,s,o,a[1]):new dOe(r,s,o)}function EOe(t){for(var e=0,r=KH.length;e<r;e++){var n=KH[e],i=n[0],s=n[1],o=s.exec(t);if(o)return i}return null}function _Oe(){var t=typeof pi<"u"&&pi.version;return t?new hOe(pi.version.slice(1)):null}function AOe(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var rk={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var tP=function(t,e){return tP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},tP(t,e)};function SOe(t,e){tP(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var rP=function(){return rP=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},rP.apply(this,arguments)};function COe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function kOe(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function IOe(t,e){return function(r,n){e(r,n,t)}}function TOe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function $Oe(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}function MOe(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(c){u=[6,c],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function POe(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function NOe(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function nP(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function rae(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function ROe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(rae(arguments[e]));return t}function OOe(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Z3(t){return this instanceof Z3?(this.v=t,this):new Z3(t)}function jOe(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(m){n[m]&&(i[m]=function(y){return new Promise(function(b,E){s.push([m,y,b,E])>1||a(m,y)})})}function a(m,y){try{l(n[m](y))}catch(b){h(s[0][3],b)}}function l(m){m.value instanceof Z3?Promise.resolve(m.value.v).then(u,c):h(s[0][2],m)}function u(m){a("next",m)}function c(m){a("throw",m)}function h(m,y){m(y),s.shift(),s.length&&a(s[0][0],s[0][1])}}function LOe(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:Z3(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function DOe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof nP=="function"?nP(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}function BOe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function UOe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function FOe(t){return t&&t.__esModule?t:{default:t}}function zOe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function WOe(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const qOe=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return rP},__asyncDelegator:LOe,__asyncGenerator:jOe,__asyncValues:DOe,__await:Z3,__awaiter:$Oe,__classPrivateFieldGet:zOe,__classPrivateFieldSet:WOe,__createBinding:POe,__decorate:kOe,__exportStar:NOe,__extends:SOe,__generator:MOe,__importDefault:FOe,__importStar:UOe,__makeTemplateObject:BOe,__metadata:TOe,__param:IOe,__read:rae,__rest:COe,__spread:ROe,__spreadArrays:OOe,__values:nP},Symbol.toStringTag,{value:"Module"})),k9=rm(qOe);var nk={},F2={},GH;function HOe(){if(GH)return F2;GH=1,Object.defineProperty(F2,"__esModule",{value:!0}),F2.delay=void 0;function t(e){return new Promise(r=>{setTimeout(()=>{r(!0)},e)})}return F2.delay=t,F2}var Mp={},ik={},Pp={},YH;function VOe(){return YH||(YH=1,Object.defineProperty(Pp,"__esModule",{value:!0}),Pp.ONE_THOUSAND=Pp.ONE_HUNDRED=void 0,Pp.ONE_HUNDRED=100,Pp.ONE_THOUSAND=1e3),Pp}var sk={},ZH;function KOe(){return ZH||(ZH=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365})(sk)),sk}var QH;function nae(){return QH||(QH=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=k9;e.__exportStar(VOe(),t),e.__exportStar(KOe(),t)})(ik)),ik}var JH;function GOe(){if(JH)return Mp;JH=1,Object.defineProperty(Mp,"__esModule",{value:!0}),Mp.fromMiliseconds=Mp.toMiliseconds=void 0;const t=nae();function e(n){return n*t.ONE_THOUSAND}Mp.toMiliseconds=e;function r(n){return Math.floor(n/t.ONE_THOUSAND)}return Mp.fromMiliseconds=r,Mp}var XH;function YOe(){return XH||(XH=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=k9;e.__exportStar(HOe(),t),e.__exportStar(GOe(),t)})(nk)),nk}var w1={},eV;function ZOe(){if(eV)return w1;eV=1,Object.defineProperty(w1,"__esModule",{value:!0}),w1.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const i=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:i})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return w1.Watch=t,w1.default=t,w1}var ok={},z2={},tV;function QOe(){if(tV)return z2;tV=1,Object.defineProperty(z2,"__esModule",{value:!0}),z2.IWatch=void 0;class t{}return z2.IWatch=t,z2}var rV;function JOe(){return rV||(rV=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),k9.__exportStar(QOe(),t)})(ok)),ok}var nV;function XOe(){return nV||(nV=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=k9;e.__exportStar(YOe(),t),e.__exportStar(ZOe(),t),e.__exportStar(JOe(),t),e.__exportStar(nae(),t)})(rk)),rk}var Tt=XOe(),Un={},iV;function iae(){if(iV)return Un;iV=1,Object.defineProperty(Un,"__esModule",{value:!0}),Un.getLocalStorage=Un.getLocalStorageOrThrow=Un.getCrypto=Un.getCryptoOrThrow=Un.getLocation=Un.getLocationOrThrow=Un.getNavigator=Un.getNavigatorOrThrow=Un.getDocument=Un.getDocumentOrThrow=Un.getFromWindowOrThrow=Un.getFromWindow=void 0;function t(m){let y;return typeof window<"u"&&typeof window[m]<"u"&&(y=window[m]),y}Un.getFromWindow=t;function e(m){const y=t(m);if(!y)throw new Error(`${m} is not defined in Window`);return y}Un.getFromWindowOrThrow=e;function r(){return e("document")}Un.getDocumentOrThrow=r;function n(){return t("document")}Un.getDocument=n;function i(){return e("navigator")}Un.getNavigatorOrThrow=i;function s(){return t("navigator")}Un.getNavigator=s;function o(){return e("location")}Un.getLocationOrThrow=o;function a(){return t("location")}Un.getLocation=a;function l(){return e("crypto")}Un.getCryptoOrThrow=l;function u(){return t("crypto")}Un.getCrypto=u;function c(){return e("localStorage")}Un.getLocalStorageOrThrow=c;function h(){return t("localStorage")}return Un.getLocalStorage=h,Un}var kl=iae(),W2={},sV;function eje(){if(sV)return W2;sV=1,Object.defineProperty(W2,"__esModule",{value:!0}),W2.getWindowMetadata=void 0;const t=iae();function e(){let r,n;try{r=t.getDocumentOrThrow(),n=t.getLocationOrThrow()}catch{return null}function i(){const y=r.getElementsByTagName("link"),b=[];for(let E=0;E<y.length;E++){const A=y[E],M=A.getAttribute("rel");if(M&&M.toLowerCase().indexOf("icon")>-1){const O=A.getAttribute("href");if(O)if(O.toLowerCase().indexOf("https:")===-1&&O.toLowerCase().indexOf("http:")===-1&&O.indexOf("//")!==0){let P=n.protocol+"//"+n.host;if(O.indexOf("/")===0)P+=O;else{const z=n.pathname.split("/");z.pop();const L=z.join("/");P+=L+"/"+O}b.push(P)}else if(O.indexOf("//")===0){const P=n.protocol+O;b.push(P)}else b.push(O)}}return b}function s(...y){const b=r.getElementsByTagName("meta");for(let E=0;E<b.length;E++){const A=b[E],M=["itemprop","property","name"].map(O=>A.getAttribute(O)).filter(O=>O?y.includes(O):!1);if(M.length&&M){const O=A.getAttribute("content");if(O)return O}}return""}function o(){let y=s("name","og:site_name","og:title","twitter:title");return y||(y=r.title),y}function a(){return s("description","og:description","twitter:description","keywords")}const l=o(),u=a(),c=n.origin,h=i();return{description:u,url:c,icons:h,name:l}}return W2.getWindowMetadata=e,W2}var sae=eje();function tje(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let u=0;u<e.length;u++)e[u]=255;for(let u=0;u<t.length;u++){const c=t.charAt(u),h=c.charCodeAt(0);if(e[h]!==255)throw new TypeError(c+" is ambiguous");e[h]=u}const r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),s=Math.log(256)/Math.log(r);function o(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";let c=0,h=0,m=0;const y=u.length;for(;m!==y&&u[m]===0;)m++,c++;const b=(y-m)*s+1>>>0,E=new Uint8Array(b);for(;m!==y;){let O=u[m],P=0;for(let z=b-1;(O!==0||P<h)&&z!==-1;z--,P++)O+=256*E[z]>>>0,E[z]=O%r>>>0,O=O/r>>>0;if(O!==0)throw new Error("Non-zero carry");h=P,m++}let A=b-h;for(;A!==b&&E[A]===0;)A++;let M=n.repeat(c);for(;A<b;++A)M+=t.charAt(E[A]);return M}function a(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;let c=0,h=0,m=0;for(;u[c]===n;)h++,c++;const y=(u.length-c)*i+1>>>0,b=new Uint8Array(y);for(;c<u.length;){const O=u.charCodeAt(c);if(O>255)return;let P=e[O];if(P===255)return;let z=0;for(let L=y-1;(P!==0||z<m)&&L!==-1;L--,z++)P+=r*b[L]>>>0,b[L]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");m=z,c++}let E=y-m;for(;E!==y&&b[E]===0;)E++;const A=new Uint8Array(h+(y-E));let M=h;for(;E!==y;)A[M++]=b[E++];return A}function l(u){const c=a(u);if(c)return c;throw new Error("Non-base"+r+" character")}return{encode:o,decodeUnsafe:a,decode:l}}var rje="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Lw=tje(rje);function nje(t){const e=t.length;let r=0,n=0;for(;n<e;){let i=t.charCodeAt(n++);if((i&4294967168)===0){r++;continue}else if((i&4294965248)===0)r+=2;else{if(i>=55296&&i<=56319&&n<e){const s=t.charCodeAt(n);(s&64512)===56320&&(++n,i=((i&1023)<<10)+(s&1023)+65536)}(i&4294901760)===0?r+=3:r+=4}}return r}function ije(t,e,r){const n=t.length;let i=r,s=0;for(;s<n;){let o=t.charCodeAt(s++);if((o&4294967168)===0){e[i++]=o;continue}else if((o&4294965248)===0)e[i++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&s<n){const a=t.charCodeAt(s);(a&64512)===56320&&(++s,o=((o&1023)<<10)+(a&1023)+65536)}(o&4294901760)===0?(e[i++]=o>>12&15|224,e[i++]=o>>6&63|128):(e[i++]=o>>18&7|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128)}e[i++]=o&63|128}}const sje=new TextEncoder,oje=50;function aje(t,e,r){sje.encodeInto(t,e.subarray(r))}function lje(t,e,r){t.length>oje?aje(t,e,r):ije(t,e,r)}const cje=4096;function oae(t,e,r){let n=e;const i=n+r,s=[];let o="";for(;n<i;){const a=t[n++];if((a&128)===0)s.push(a);else if((a&224)===192){const l=t[n++]&63;s.push((a&31)<<6|l)}else if((a&240)===224){const l=t[n++]&63,u=t[n++]&63;s.push((a&31)<<12|l<<6|u)}else if((a&248)===240){const l=t[n++]&63,u=t[n++]&63,c=t[n++]&63;let h=(a&7)<<18|l<<12|u<<6|c;h>65535&&(h-=65536,s.push(h>>>10&1023|55296),h=56320|h&1023),s.push(h)}else s.push(a);s.length>=cje&&(o+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(o+=String.fromCharCode(...s)),o}const uje=new TextDecoder,dje=200;function hje(t,e,r){const n=t.subarray(e,e+r);return uje.decode(n)}function fje(t,e,r){return r>dje?hje(t,e,r):oae(t,e,r)}class H4{constructor(e,r){this.type=e,this.data=r}}class ll extends Error{constructor(e){super(e);const r=Object.create(ll.prototype);Object.setPrototypeOf(this,r),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:ll.name})}}const q2=4294967295;function pje(t,e,r){const n=r/4294967296,i=r;t.setUint32(e,n),t.setUint32(e+4,i)}function aae(t,e,r){const n=Math.floor(r/4294967296),i=r;t.setUint32(e,n),t.setUint32(e+4,i)}function lae(t,e){const r=t.getInt32(e),n=t.getUint32(e+4);return r*4294967296+n}function gje(t,e){const r=t.getUint32(e),n=t.getUint32(e+4);return r*4294967296+n}const mje=-1,yje=4294967296-1,wje=17179869184-1;function vje({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=wje)if(e===0&&t<=yje){const r=new Uint8Array(4);return new DataView(r.buffer).setUint32(0,t),r}else{const r=t/4294967296,n=t&4294967295,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,e<<2|r&3),s.setUint32(4,n),i}else{const r=new Uint8Array(12),n=new DataView(r.buffer);return n.setUint32(0,e),aae(n,4,t),r}}function bje(t){const e=t.getTime(),r=Math.floor(e/1e3),n=(e-r*1e3)*1e6,i=Math.floor(n/1e9);return{sec:r+i,nsec:n-i*1e9}}function xje(t){if(t instanceof Date){const e=bje(t);return vje(e)}else return null}function Eje(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const r=e.getUint32(0),n=e.getUint32(4),i=(r&3)*4294967296+n,s=r>>>2;return{sec:i,nsec:s}}case 12:{const r=lae(e,4),n=e.getUint32(0);return{sec:r,nsec:n}}default:throw new ll(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function _je(t){const e=Eje(t);return new Date(e.sec*1e3+e.nsec/1e6)}const Aje={type:mje,encode:xje,decode:_je};class mE{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(Aje)}register({type:e,encode:r,decode:n}){if(e>=0)this.encoders[e]=r,this.decoders[e]=n;else{const i=-1-e;this.builtInEncoders[i]=r,this.builtInDecoders[i]=n}}tryToEncode(e,r){for(let n=0;n<this.builtInEncoders.length;n++){const i=this.builtInEncoders[n];if(i!=null){const s=i(e,r);if(s!=null){const o=-1-n;return new H4(o,s)}}}for(let n=0;n<this.encoders.length;n++){const i=this.encoders[n];if(i!=null){const s=i(e,r);if(s!=null){const o=n;return new H4(o,s)}}}return e instanceof H4?e:null}decode(e,r,n){const i=r<0?this.builtInDecoders[-1-r]:this.decoders[r];return i?i(e,r,n):new H4(r,e)}}mE.defaultCodec=new mE;function Sje(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function iP(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Sje(t)?new Uint8Array(t):Uint8Array.from(t)}const Cje=100,kje=2048;let Ije=class cae{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??mE.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??Cje,this.initialBufferSize=e?.initialBufferSize??kje,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new cae({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,r){if(r>this.maxDepth)throw new Error(`Too deep objects in depth ${r}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,r)}ensureBufferSizeToWrite(e){const r=this.pos+e;this.view.byteLength<r&&this.resizeBuffer(r*2)}resizeBuffer(e){const r=new ArrayBuffer(e),n=new Uint8Array(r),i=new DataView(r);n.set(this.bytes),this.view=i,this.bytes=n}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const n=nje(e);this.ensureBufferSizeToWrite(5+n),this.writeStringHeader(n),lje(e,this.bytes,this.pos),this.pos+=n}encodeObject(e,r){const n=this.extensionCodec.tryToEncode(e,this.context);if(n!=null)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,r);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,r);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const r=e.byteLength;if(r<256)this.writeU8(196),this.writeU8(r);else if(r<65536)this.writeU8(197),this.writeU16(r);else if(r<4294967296)this.writeU8(198),this.writeU32(r);else throw new Error(`Too large binary: ${r}`);const n=iP(e);this.writeU8a(n)}encodeArray(e,r){const n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else if(n<4294967296)this.writeU8(221),this.writeU32(n);else throw new Error(`Too large array: ${n}`);for(const i of e)this.doEncode(i,r+1)}countWithoutUndefined(e,r){let n=0;for(const i of r)e[i]!==void 0&&n++;return n}encodeMap(e,r){const n=Object.keys(e);this.sortKeys&&n.sort();const i=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(const s of n){const o=e[s];this.ignoreUndefined&&o===void 0||(this.encodeString(s),this.doEncode(o,r+1))}}encodeExtension(e){if(typeof e.data=="function"){const n=e.data(this.pos+6),i=n.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(n);return}const r=e.data.length;if(r===1)this.writeU8(212);else if(r===2)this.writeU8(213);else if(r===4)this.writeU8(214);else if(r===8)this.writeU8(215);else if(r===16)this.writeU8(216);else if(r<256)this.writeU8(199),this.writeU8(r);else if(r<65536)this.writeU8(200),this.writeU16(r);else if(r<4294967296)this.writeU8(201),this.writeU32(r);else throw new Error(`Too large extension object: ${r}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const r=e.length;this.ensureBufferSizeToWrite(r),this.bytes.set(e,this.pos),this.pos+=r}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),pje(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),aae(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function Tje(t,e){return new Ije(e).encodeSharedRef(t)}function ak(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const $je=16,Mje=16;class Pje{constructor(e=$je,r=Mje){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=r,this.caches=[];for(let n=0;n<this.maxKeyLength;n++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,r,n){const i=this.caches[n-1];e:for(const s of i){const o=s.bytes;for(let a=0;a<n;a++)if(o[a]!==e[r+a])continue e;return s.str}return null}store(e,r){const n=this.caches[e.length-1],i={bytes:e,str:r};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=i:n.push(i)}decode(e,r,n){const i=this.find(e,r,n);if(i!=null)return this.hit++,i;this.miss++;const s=oae(e,r,n),o=Uint8Array.prototype.slice.call(e,r,r+n);return this.store(o,s),s}}const sP="array",kb="map_key",uae="map_value",Nje=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new ll("The type of key must be string or number but "+typeof t)};class Rje{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const r=this.getUninitializedStateFromPool();r.type=sP,r.position=0,r.size=e,r.array=new Array(e)}pushMapState(e){const r=this.getUninitializedStateFromPool();r.type=kb,r.readCount=0,r.size=e,r.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===sP){const n=e;n.size=0,n.array=void 0,n.position=0,n.type=void 0}if(e.type===kb||e.type===uae){const n=e;n.size=0,n.map=void 0,n.readCount=0,n.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const H2=-1,Sj=new DataView(new ArrayBuffer(0)),Oje=new Uint8Array(Sj.buffer);try{Sj.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const oV=new RangeError("Insufficient data"),jje=new Pje;let Lje=class dae{constructor(e){this.totalPos=0,this.pos=0,this.view=Sj,this.bytes=Oje,this.headByte=H2,this.stack=new Rje,this.entered=!1,this.extensionCodec=e?.extensionCodec??mE.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??q2,this.maxBinLength=e?.maxBinLength??q2,this.maxArrayLength=e?.maxArrayLength??q2,this.maxMapLength=e?.maxMapLength??q2,this.maxExtLength=e?.maxExtLength??q2,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:jje,this.mapKeyConverter=e?.mapKeyConverter??Nje}clone(){return new dae({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=H2,this.stack.reset()}setBuffer(e){const r=iP(e);this.bytes=r,this.view=new DataView(r.buffer,r.byteOffset,r.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===H2&&!this.hasRemaining(1))this.setBuffer(e);else{const r=this.bytes.subarray(this.pos),n=iP(e),i=new Uint8Array(r.length+n.length);i.set(r),i.set(n,r.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:r,pos:n}=this;return new RangeError(`Extra ${r.byteLength-n} of ${r.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const r=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return r}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let r=!1,n;for await(const a of e){if(r)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{n=this.doDecodeSync(),r=!0}catch(l){if(!(l instanceof RangeError))throw l}this.totalPos+=this.pos}if(r){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return n}const{headByte:i,pos:s,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${ak(i)} at ${o} (${s} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,r){if(this.entered){yield*this.clone().decodeMultiAsync(e,r);return}try{this.entered=!0;let n=r,i=-1;for await(const s of e){if(r&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s),n&&(i=this.readArraySize(),n=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let r;if(e>=224)r=e-256;else if(e<192)if(e<128)r=e;else if(e<144){const i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e<160){const i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else{const i=e-160;r=this.decodeString(i,0)}else if(e===192)r=null;else if(e===194)r=!1;else if(e===195)r=!0;else if(e===202)r=this.readF32();else if(e===203)r=this.readF64();else if(e===204)r=this.readU8();else if(e===205)r=this.readU16();else if(e===206)r=this.readU32();else if(e===207)this.useBigInt64?r=this.readU64AsBigInt():r=this.readU64();else if(e===208)r=this.readI8();else if(e===209)r=this.readI16();else if(e===210)r=this.readI32();else if(e===211)this.useBigInt64?r=this.readI64AsBigInt():r=this.readI64();else if(e===217){const i=this.lookU8();r=this.decodeString(i,1)}else if(e===218){const i=this.lookU16();r=this.decodeString(i,2)}else if(e===219){const i=this.lookU32();r=this.decodeString(i,4)}else if(e===220){const i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else if(e===221){const i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else if(e===222){const i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e===223){const i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e===196){const i=this.lookU8();r=this.decodeBinary(i,1)}else if(e===197){const i=this.lookU16();r=this.decodeBinary(i,2)}else if(e===198){const i=this.lookU32();r=this.decodeBinary(i,4)}else if(e===212)r=this.decodeExtension(1,0);else if(e===213)r=this.decodeExtension(2,0);else if(e===214)r=this.decodeExtension(4,0);else if(e===215)r=this.decodeExtension(8,0);else if(e===216)r=this.decodeExtension(16,0);else if(e===199){const i=this.lookU8();r=this.decodeExtension(i,1)}else if(e===200){const i=this.lookU16();r=this.decodeExtension(i,2)}else if(e===201){const i=this.lookU32();r=this.decodeExtension(i,4)}else throw new ll(`Unrecognized type byte: ${ak(e)}`);this.complete();const n=this.stack;for(;n.length>0;){const i=n.top();if(i.type===sP)if(i.array[i.position]=r,i.position++,i.position===i.size)r=i.array,n.release(i);else continue e;else if(i.type===kb){if(r==="__proto__")throw new ll("The key __proto__ is not allowed");i.key=this.mapKeyConverter(r),i.type=uae;continue e}else if(i.map[i.key]=r,i.readCount++,i.readCount===i.size)r=i.map,n.release(i);else{i.key=null,i.type=kb;continue e}}return r}}readHeadByte(){return this.headByte===H2&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=H2}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new ll(`Unrecognized array type byte: ${ak(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new ll(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new ll(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,r){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,r):this.decodeBinary(e,r)}decodeUtf8String(e,r){if(e>this.maxStrLength)throw new ll(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+r+e)throw oV;const n=this.pos+r;let i;return this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?i=this.keyDecoder.decode(this.bytes,n,e):i=fje(this.bytes,n,e),this.pos+=r+e,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===kb:!1}decodeBinary(e,r){if(e>this.maxBinLength)throw new ll(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+r))throw oV;const n=this.pos+r,i=this.bytes.subarray(n,n+e);return this.pos+=r+e,i}decodeExtension(e,r){if(e>this.maxExtLength)throw new ll(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const n=this.view.getInt8(this.pos+r),i=this.decodeBinary(e,r+1);return this.extensionCodec.decode(i,n,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=gje(this.view,this.pos);return this.pos+=8,e}readI64(){const e=lae(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function Dje(t,e){return new Lje(e).decode(t)}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function hae(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function fae(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(r=>typeof r=="string"):e.every(r=>Number.isSafeInteger(r)):!1}function yE(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function q5(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function wE(t){if(!Array.isArray(t))throw new Error("array expected")}function vE(t,e){if(!fae(!0,e))throw new Error(`${t}: array of strings expected`)}function pae(t,e){if(!fae(!1,e))throw new Error(`${t}: array of numbers expected`)}function gae(...t){const e=s=>s,r=(s,o)=>a=>s(o(a)),n=t.map(s=>s.encode).reduceRight(r,e),i=t.map(s=>s.decode).reduce(r,e);return{encode:n,decode:i}}function mae(t){const e=typeof t=="string"?t.split(""):t,r=e.length;vE("alphabet",e);const n=new Map(e.map((i,s)=>[i,s]));return{encode:i=>(wE(i),i.map(s=>{if(!Number.isSafeInteger(s)||s<0||s>=r)throw new Error(`alphabet.encode: digit index outside alphabet "${s}". Allowed: ${t}`);return e[s]})),decode:i=>(wE(i),i.map(s=>{yE("alphabet.decode",s);const o=n.get(s);if(o===void 0)throw new Error(`Unknown letter: "${s}". Allowed: ${t}`);return o}))}}function yae(t=""){return yE("join",t),{encode:e=>(vE("join.decode",e),e.join(t)),decode:e=>(yE("join.decode",e),e.split(t))}}function Bje(t,e="="){return q5(t),yE("padding",e),{encode(r){for(vE("padding.encode",r);r.length*t%8;)r.push(e);return r},decode(r){vE("padding.decode",r);let n=r.length;if(n*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;n>0&&r[n-1]===e;n--)if((n-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return r.slice(0,n)}}}function aV(t,e,r){if(e<2)throw new Error(`convertRadix: invalid from=${e}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: invalid to=${r}, base cannot be less than 2`);if(wE(t),!t.length)return[];let n=0;const i=[],s=Array.from(t,a=>{if(q5(a),a<0||a>=e)throw new Error(`invalid integer: ${a}`);return a}),o=s.length;for(;;){let a=0,l=!0;for(let u=n;u<o;u++){const c=s[u],h=e*a,m=h+c;if(!Number.isSafeInteger(m)||h/e!==a||m-c!==h)throw new Error("convertRadix: carry overflow");const y=m/r;a=m%r;const b=Math.floor(y);if(s[u]=b,!Number.isSafeInteger(b)||b*r+a!==m)throw new Error("convertRadix: carry overflow");if(l)b?l=!1:n=u;else continue}if(i.push(a),l)break}for(let a=0;a<t.length-1&&t[a]===0;a++)i.push(0);return i.reverse()}const wae=(t,e)=>e===0?t:wae(e,t%e),bE=(t,e)=>t+(e-wae(t,e)),lk=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function lV(t,e,r,n){if(wE(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(bE(e,r)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${r} carryBits=${bE(e,r)}`);let i=0,s=0;const o=lk[e],a=lk[r]-1,l=[];for(const u of t){if(q5(u),u>=o)throw new Error(`convertRadix2: invalid data word=${u} from=${e}`);if(i=i<<e|u,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=r;s-=r)l.push((i>>s-r&a)>>>0);const c=lk[s];if(c===void 0)throw new Error("invalid carry");i&=c-1}if(i=i<<r-s&a,!n&&s>=e)throw new Error("Excess padding");if(!n&&i>0)throw new Error(`Non-zero padding: ${i}`);return n&&s>0&&l.push(i>>>0),l}function Uje(t){q5(t);const e=2**8;return{encode:r=>{if(!hae(r))throw new Error("radix.encode input should be Uint8Array");return aV(Array.from(r),e,t)},decode:r=>(pae("radix.decode",r),Uint8Array.from(aV(r,t,e)))}}function Fje(t,e=!1){if(q5(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(bE(8,t)>32||bE(t,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!hae(r))throw new Error("radix2.encode input should be Uint8Array");return lV(Array.from(r),8,t,!e)},decode:r=>(pae("radix2.decode",r),Uint8Array.from(lV(r,t,8,e)))}}const zje=gae(Fje(5),mae("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Bje(5),yae("")),Wje=t=>gae(Uje(58),mae(t),yae("")),qje=Wje("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Hje=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),Vje=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function Hg(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return Vje(t)}catch{return t}}function Vh(t){return typeof t=="string"?t:Hje(t)||""}function Kje(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function vae(t,...e){if(!Kje(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function cV(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Gje(t,e){vae(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const v1=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ck=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function Yje(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function bae(t){return typeof t=="string"&&(t=Yje(t)),vae(t),t}let Zje=class{clone(){return this._cloneInto()}};function Qje(t){const e=n=>t().update(bae(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function xae(t=32){if(v1&&typeof v1.getRandomValues=="function")return v1.getRandomValues(new Uint8Array(t));if(v1&&typeof v1.randomBytes=="function")return v1.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function Jje(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),l=n?4:0,u=n?0:4;t.setUint32(e+l,o,n),t.setUint32(e+u,a,n)}let Xje=class extends Zje{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ck(this.buffer)}update(e){cV(this);const{view:r,buffer:n,blockLen:i}=this;e=bae(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=ck(e);for(;i<=s-o;o+=i)this.process(l,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){cV(this),Gje(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let h=o;h<i;h++)r[h]=0;Jje(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=ck(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,c=this.get();if(u>c.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<u;h++)a.setUint32(4*h,c[h],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}};const V4=BigInt(2**32-1),oP=BigInt(32);function Eae(t,e=!1){return e?{h:Number(t&V4),l:Number(t>>oP&V4)}:{h:Number(t>>oP&V4)|0,l:Number(t&V4)|0}}function eLe(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=Eae(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const tLe=(t,e)=>BigInt(t>>>0)<<oP|BigInt(e>>>0),rLe=(t,e,r)=>t>>>r,nLe=(t,e,r)=>t<<32-r|e>>>r,iLe=(t,e,r)=>t>>>r|e<<32-r,sLe=(t,e,r)=>t<<32-r|e>>>r,oLe=(t,e,r)=>t<<64-r|e>>>r-32,aLe=(t,e,r)=>t>>>r-32|e<<64-r,lLe=(t,e)=>e,cLe=(t,e)=>t,uLe=(t,e,r)=>t<<r|e>>>32-r,dLe=(t,e,r)=>e<<r|t>>>32-r,hLe=(t,e,r)=>e<<r-32|t>>>64-r,fLe=(t,e,r)=>t<<r-32|e>>>64-r;function pLe(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const gLe=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),mLe=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,yLe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),wLe=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,vLe=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),bLe=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,Ur={fromBig:Eae,split:eLe,toBig:tLe,shrSH:rLe,shrSL:nLe,rotrSH:iLe,rotrSL:sLe,rotrBH:oLe,rotrBL:aLe,rotr32H:lLe,rotr32L:cLe,rotlSH:uLe,rotlSL:dLe,rotlBH:hLe,rotlBL:fLe,add:pLe,add3L:gLe,add3H:mLe,add4L:yLe,add4H:wLe,add5H:bLe,add5L:vLe},[xLe,ELe]=Ur.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Sf=new Uint32Array(80),Cf=new Uint32Array(80);let _Le=class extends Xje{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:u,El:c,Fh:h,Fl:m,Gh:y,Gl:b,Hh:E,Hl:A}=this;return[e,r,n,i,s,o,a,l,u,c,h,m,y,b,E,A]}set(e,r,n,i,s,o,a,l,u,c,h,m,y,b,E,A){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=u|0,this.El=c|0,this.Fh=h|0,this.Fl=m|0,this.Gh=y|0,this.Gl=b|0,this.Hh=E|0,this.Hl=A|0}process(e,r){for(let P=0;P<16;P++,r+=4)Sf[P]=e.getUint32(r),Cf[P]=e.getUint32(r+=4);for(let P=16;P<80;P++){const z=Sf[P-15]|0,L=Cf[P-15]|0,W=Ur.rotrSH(z,L,1)^Ur.rotrSH(z,L,8)^Ur.shrSH(z,L,7),H=Ur.rotrSL(z,L,1)^Ur.rotrSL(z,L,8)^Ur.shrSL(z,L,7),G=Sf[P-2]|0,N=Cf[P-2]|0,F=Ur.rotrSH(G,N,19)^Ur.rotrBH(G,N,61)^Ur.shrSH(G,N,6),U=Ur.rotrSL(G,N,19)^Ur.rotrBL(G,N,61)^Ur.shrSL(G,N,6),j=Ur.add4L(H,U,Cf[P-7],Cf[P-16]),_=Ur.add4H(j,W,F,Sf[P-7],Sf[P-16]);Sf[P]=_|0,Cf[P]=j|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:u,Dl:c,Eh:h,El:m,Fh:y,Fl:b,Gh:E,Gl:A,Hh:M,Hl:O}=this;for(let P=0;P<80;P++){const z=Ur.rotrSH(h,m,14)^Ur.rotrSH(h,m,18)^Ur.rotrBH(h,m,41),L=Ur.rotrSL(h,m,14)^Ur.rotrSL(h,m,18)^Ur.rotrBL(h,m,41),W=h&y^~h&E,H=m&b^~m&A,G=Ur.add5L(O,L,H,ELe[P],Cf[P]),N=Ur.add5H(G,M,z,W,xLe[P],Sf[P]),F=G|0,U=Ur.rotrSH(n,i,28)^Ur.rotrBH(n,i,34)^Ur.rotrBH(n,i,39),j=Ur.rotrSL(n,i,28)^Ur.rotrBL(n,i,34)^Ur.rotrBL(n,i,39),_=n&s^n&a^s&a,d=i&o^i&l^o&l;M=E|0,O=A|0,E=y|0,A=b|0,y=h|0,b=m|0,{h,l:m}=Ur.add(u|0,c|0,N|0,F|0),u=a|0,c=l|0,a=s|0,l=o|0,s=n|0,o=i|0;const g=Ur.add3L(F,j,d);n=Ur.add3H(g,N,U,_),i=g|0}({h:n,l:i}=Ur.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=Ur.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=Ur.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:u,l:c}=Ur.add(this.Dh|0,this.Dl|0,u|0,c|0),{h,l:m}=Ur.add(this.Eh|0,this.El|0,h|0,m|0),{h:y,l:b}=Ur.add(this.Fh|0,this.Fl|0,y|0,b|0),{h:E,l:A}=Ur.add(this.Gh|0,this.Gl|0,E|0,A|0),{h:M,l:O}=Ur.add(this.Hh|0,this.Hl|0,M|0,O|0),this.set(n,i,s,o,a,l,u,c,h,m,y,b,E,A,M,O)}roundClean(){Sf.fill(0),Cf.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const ALe=Qje(()=>new _Le);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Cj=BigInt(0),_ae=BigInt(1),SLe=BigInt(2);function kj(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Ij(t){if(!kj(t))throw new Error("Uint8Array expected")}function uk(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const CLe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Tj(t){Ij(t);let e="";for(let r=0;r<t.length;r++)e+=CLe[t[r]];return e}function Aae(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Cj:BigInt("0x"+t)}const Zd={_0:48,_9:57,A:65,F:70,a:97,f:102};function uV(t){if(t>=Zd._0&&t<=Zd._9)return t-Zd._0;if(t>=Zd.A&&t<=Zd.F)return t-(Zd.A-10);if(t>=Zd.a&&t<=Zd.f)return t-(Zd.a-10)}function Sae(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=uV(t.charCodeAt(s)),a=uV(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=o*16+a}return n}function kLe(t){return Aae(Tj(t))}function l8(t){return Ij(t),Aae(Tj(Uint8Array.from(t).reverse()))}function Cae(t,e){return Sae(t.toString(16).padStart(e*2,"0"))}function aP(t,e){return Cae(t,e).reverse()}function Qd(t,e,r){let n;if(typeof e=="string")try{n=Sae(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(kj(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function dV(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];Ij(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}const dk=t=>typeof t=="bigint"&&Cj<=t;function ILe(t,e,r){return dk(t)&&dk(e)&&dk(r)&&e<=t&&t<r}function V2(t,e,r,n){if(!ILe(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function TLe(t){let e;for(e=0;t>Cj;t>>=_ae,e+=1);return e}const $Le=t=>(SLe<<BigInt(t-1))-_ae,MLe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||kj(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function $j(t,e,r={}){const n=(i,s,o)=>{const a=MLe[s];if(typeof a!="function")throw new Error("invalid validator function");const l=t[i];if(!(o&&l===void 0)&&!a(l,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+l)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}function hV(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const As=BigInt(0),Li=BigInt(1),Yp=BigInt(2),PLe=BigInt(3),lP=BigInt(4),fV=BigInt(5),pV=BigInt(8);function os(t,e){const r=t%e;return r>=As?r:e+r}function NLe(t,e,r){if(e<As)throw new Error("invalid exponent, negatives unsupported");if(r<=As)throw new Error("invalid modulus");if(r===Li)return As;let n=Li;for(;e>As;)e&Li&&(n=n*t%r),t=t*t%r,e>>=Li;return n}function Wu(t,e,r){let n=t;for(;e-- >As;)n*=n,n%=r;return n}function gV(t,e){if(t===As)throw new Error("invert: expected non-zero number");if(e<=As)throw new Error("invert: expected positive modulus, got "+e);let r=os(t,e),n=e,i=As,s=Li;for(;r!==As;){const o=n/r,a=n%r,l=i-s*o;n=r,r=a,i=s,s=l}if(n!==Li)throw new Error("invert: does not exist");return os(i,e)}function RLe(t){const e=(t-Li)/Yp;let r,n,i;for(r=t-Li,n=0;r%Yp===As;r/=Yp,n++);for(i=Yp;i<t&&NLe(i,e,t)!==t-Li;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const o=(t+Li)/lP;return function(a,l){const u=a.pow(l,o);if(!a.eql(a.sqr(u),l))throw new Error("Cannot find square root");return u}}const s=(r+Li)/Yp;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let l=n,u=o.pow(o.mul(o.ONE,i),r),c=o.pow(a,s),h=o.pow(a,r);for(;!o.eql(h,o.ONE);){if(o.eql(h,o.ZERO))return o.ZERO;let m=1;for(let b=o.sqr(h);m<l&&!o.eql(b,o.ONE);m++)b=o.sqr(b);const y=o.pow(u,Li<<BigInt(l-m-1));u=o.sqr(y),c=o.mul(c,y),h=o.mul(h,u),l=m}return c}}function OLe(t){if(t%lP===PLe){const e=(t+Li)/lP;return function(r,n){const i=r.pow(n,e);if(!r.eql(r.sqr(i),n))throw new Error("Cannot find square root");return i}}if(t%pV===fV){const e=(t-fV)/pV;return function(r,n){const i=r.mul(n,Yp),s=r.pow(i,e),o=r.mul(n,s),a=r.mul(r.mul(o,Yp),s),l=r.mul(o,r.sub(a,r.ONE));if(!r.eql(r.sqr(l),n))throw new Error("Cannot find square root");return l}}return RLe(t)}const jLe=(t,e)=>(os(t,e)&Li)===Li,LLe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function DLe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=LLe.reduce((n,i)=>(n[i]="function",n),e);return $j(t,r)}function BLe(t,e,r){if(r<As)throw new Error("invalid exponent, negatives unsupported");if(r===As)return t.ONE;if(r===Li)return e;let n=t.ONE,i=e;for(;r>As;)r&Li&&(n=t.mul(n,i)),i=t.sqr(i),r>>=Li;return n}function ULe(t,e){const r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}function kae(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Iae(t,e,r=!1,n={}){if(t<=As)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=kae(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:r,BITS:i,BYTES:s,MASK:$Le(i),ZERO:As,ONE:Li,create:l=>os(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return As<=l&&l<t},is0:l=>l===As,isOdd:l=>(l&Li)===Li,neg:l=>os(-l,t),eql:(l,u)=>l===u,sqr:l=>os(l*l,t),add:(l,u)=>os(l+u,t),sub:(l,u)=>os(l-u,t),mul:(l,u)=>os(l*u,t),pow:(l,u)=>BLe(a,l,u),div:(l,u)=>os(l*gV(u,t),t),sqrN:l=>l*l,addN:(l,u)=>l+u,subN:(l,u)=>l-u,mulN:(l,u)=>l*u,inv:l=>gV(l,t),sqrt:n.sqrt||(l=>(o||(o=OLe(t)),o(a,l))),invertBatch:l=>ULe(a,l),cmov:(l,u,c)=>c?u:l,toBytes:l=>r?aP(l,s):Cae(l,s),fromBytes:l=>{if(l.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+l.length);return r?l8(l):kLe(l)}});return Object.freeze(a)}const mV=BigInt(0),K4=BigInt(1);function hk(t,e){const r=e.negate();return t?r:e}function Tae(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function fk(t,e){Tae(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1);return{windows:r,windowSize:n}}function FLe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function zLe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const pk=new WeakMap,$ae=new WeakMap;function gk(t){return $ae.get(t)||1}function WLe(t,e){return{constTimeNegate:hk,hasPrecomputes(r){return gk(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>mV;)n&K4&&(i=i.add(s)),s=s.double(),n>>=K4;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=fk(n,e),o=[];let a=r,l=a;for(let u=0;u<i;u++){l=a,o.push(l);for(let c=1;c<s;c++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(r,n,i){const{windows:s,windowSize:o}=fk(r,e);let a=t.ZERO,l=t.BASE;const u=BigInt(2**r-1),c=2**r,h=BigInt(r);for(let m=0;m<s;m++){const y=m*o;let b=Number(i&u);i>>=h,b>o&&(b-=c,i+=K4);const E=y,A=y+Math.abs(b)-1,M=m%2!==0,O=b<0;b===0?l=l.add(hk(M,n[E])):a=a.add(hk(O,n[A]))}return{p:a,f:l}},wNAFUnsafe(r,n,i,s=t.ZERO){const{windows:o,windowSize:a}=fk(r,e),l=BigInt(2**r-1),u=2**r,c=BigInt(r);for(let h=0;h<o;h++){const m=h*a;if(i===mV)break;let y=Number(i&l);if(i>>=c,y>a&&(y-=u,i+=K4),y===0)continue;let b=n[m+Math.abs(y)-1];y<0&&(b=b.negate()),s=s.add(b)}return s},getPrecomputes(r,n,i){let s=pk.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&pk.set(n,i(s))),s},wNAFCached(r,n,i){const s=gk(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=gk(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){Tae(n,e),$ae.set(r,n),pk.delete(r)}}}function qLe(t,e,r,n){if(FLe(r,t),zLe(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=TLe(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,l=new Array(a+1).fill(i),u=Math.floor((e.BITS-1)/o)*o;let c=i;for(let h=u;h>=0;h-=o){l.fill(i);for(let y=0;y<n.length;y++){const b=n[y],E=Number(b>>BigInt(h)&BigInt(a));l[E]=l[E].add(r[y])}let m=i;for(let y=l.length-1,b=i;y>0;y--)b=b.add(l[y]),m=m.add(b);if(c=c.add(m),h!==0)for(let y=0;y<o;y++)c=c.double()}return c}function HLe(t){return DLe(t.Fp),$j(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...kae(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Pc=BigInt(0),ga=BigInt(1),G4=BigInt(2),VLe=BigInt(8),KLe={zip215:!0};function GLe(t){const e=HLe(t);return $j(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function YLe(t){const e=GLe(t),{Fp:r,n,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:l}=e,u=G4<<BigInt(a*8)-ga,c=r.create,h=Iae(e.n,e.nBitLength),m=e.uvRatio||((g,x)=>{try{return{isValid:!0,value:r.sqrt(g*r.inv(x))}}catch{return{isValid:!1,value:Pc}}}),y=e.adjustScalarBytes||(g=>g),b=e.domain||((g,x,C)=>{if(uk("phflag",C),x.length||C)throw new Error("Contexts/pre-hash are not supported");return g});function E(g,x){V2("coordinate "+g,x,Pc,u)}function A(g){if(!(g instanceof P))throw new Error("ExtendedPoint expected")}const M=hV((g,x)=>{const{ex:C,ey:k,ez:T}=g,R=g.is0();x==null&&(x=R?VLe:r.inv(T));const I=c(C*x),f=c(k*x),S=c(T*x);if(R)return{x:Pc,y:ga};if(S!==ga)throw new Error("invZ was invalid");return{x:I,y:f}}),O=hV(g=>{const{a:x,d:C}=e;if(g.is0())throw new Error("bad point: ZERO");const{ex:k,ey:T,ez:R,et:I}=g,f=c(k*k),S=c(T*T),K=c(R*R),D=c(K*K),J=c(f*x),ne=c(K*c(J+S)),ie=c(D+c(C*c(f*S)));if(ne!==ie)throw new Error("bad point: equation left != right (1)");const ce=c(k*T),Se=c(R*I);if(ce!==Se)throw new Error("bad point: equation left != right (2)");return!0});class P{constructor(x,C,k,T){this.ex=x,this.ey=C,this.ez=k,this.et=T,E("x",x),E("y",C),E("z",k),E("t",T),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(x){if(x instanceof P)throw new Error("extended point not allowed");const{x:C,y:k}=x||{};return E("x",C),E("y",k),new P(C,k,ga,c(C*k))}static normalizeZ(x){const C=r.invertBatch(x.map(k=>k.ez));return x.map((k,T)=>k.toAffine(C[T])).map(P.fromAffine)}static msm(x,C){return qLe(P,h,x,C)}_setWindowSize(x){W.setWindowSize(this,x)}assertValidity(){O(this)}equals(x){A(x);const{ex:C,ey:k,ez:T}=this,{ex:R,ey:I,ez:f}=x,S=c(C*f),K=c(R*T),D=c(k*f),J=c(I*T);return S===K&&D===J}is0(){return this.equals(P.ZERO)}negate(){return new P(c(-this.ex),this.ey,this.ez,c(-this.et))}double(){const{a:x}=e,{ex:C,ey:k,ez:T}=this,R=c(C*C),I=c(k*k),f=c(G4*c(T*T)),S=c(x*R),K=C+k,D=c(c(K*K)-R-I),J=S+I,ne=J-f,ie=S-I,ce=c(D*ne),Se=c(J*ie),ye=c(D*ie),Ae=c(ne*J);return new P(ce,Se,Ae,ye)}add(x){A(x);const{a:C,d:k}=e,{ex:T,ey:R,ez:I,et:f}=this,{ex:S,ey:K,ez:D,et:J}=x;if(C===BigInt(-1)){const Mt=c((R-T)*(K+S)),Ie=c((R+T)*(K-S)),Me=c(Ie-Mt);if(Me===Pc)return this.double();const ht=c(I*G4*J),Je=c(f*G4*D),De=Je+ht,At=Ie+Mt,it=Je-ht,et=c(De*Me),St=c(At*it),Xe=c(De*it),se=c(Me*At);return new P(et,St,se,Xe)}const ne=c(T*S),ie=c(R*K),ce=c(f*k*J),Se=c(I*D),ye=c((T+R)*(S+K)-ne-ie),Ae=Se-ce,tt=Se+ce,Ce=c(ie-C*ne),je=c(ye*Ae),mt=c(tt*Ce),pe=c(ye*Ce),Le=c(Ae*tt);return new P(je,mt,Le,pe)}subtract(x){return this.add(x.negate())}wNAF(x){return W.wNAFCached(this,x,P.normalizeZ)}multiply(x){const C=x;V2("scalar",C,ga,n);const{p:k,f:T}=this.wNAF(C);return P.normalizeZ([k,T])[0]}multiplyUnsafe(x,C=P.ZERO){const k=x;return V2("scalar",k,Pc,n),k===Pc?L:this.is0()||k===ga?this:W.wNAFCachedUnsafe(this,k,P.normalizeZ,C)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return W.unsafeLadder(this,n).is0()}toAffine(x){return M(this,x)}clearCofactor(){const{h:x}=e;return x===ga?this:this.multiplyUnsafe(x)}static fromHex(x,C=!1){const{d:k,a:T}=e,R=r.BYTES;x=Qd("pointHex",x,R),uk("zip215",C);const I=x.slice(),f=x[R-1];I[R-1]=f&-129;const S=l8(I),K=C?u:r.ORDER;V2("pointHex.y",S,Pc,K);const D=c(S*S),J=c(D-ga),ne=c(k*D-T);let{isValid:ie,value:ce}=m(J,ne);if(!ie)throw new Error("Point.fromHex: invalid y coordinate");const Se=(ce&ga)===ga,ye=(f&128)!==0;if(!C&&ce===Pc&&ye)throw new Error("Point.fromHex: x=0 and x_0=1");return ye!==Se&&(ce=c(-ce)),P.fromAffine({x:ce,y:S})}static fromPrivateKey(x){return N(x).point}toRawBytes(){const{x,y:C}=this.toAffine(),k=aP(C,r.BYTES);return k[k.length-1]|=x&ga?128:0,k}toHex(){return Tj(this.toRawBytes())}}P.BASE=new P(e.Gx,e.Gy,ga,c(e.Gx*e.Gy)),P.ZERO=new P(Pc,ga,ga,Pc);const{BASE:z,ZERO:L}=P,W=WLe(P,a*8);function H(g){return os(g,n)}function G(g){return H(l8(g))}function N(g){const x=r.BYTES;g=Qd("private key",g,x);const C=Qd("hashed private key",s(g),2*x),k=y(C.slice(0,x)),T=C.slice(x,2*x),R=G(k),I=z.multiply(R),f=I.toRawBytes();return{head:k,prefix:T,scalar:R,point:I,pointBytes:f}}function F(g){return N(g).pointBytes}function U(g=new Uint8Array,...x){const C=dV(...x);return G(s(b(C,Qd("context",g),!!i)))}function j(g,x,C={}){g=Qd("message",g),i&&(g=i(g));const{prefix:k,scalar:T,pointBytes:R}=N(x),I=U(C.context,k,g),f=z.multiply(I).toRawBytes(),S=U(C.context,f,R,g),K=H(I+S*T);V2("signature.s",K,Pc,n);const D=dV(f,aP(K,r.BYTES));return Qd("result",D,r.BYTES*2)}const _=KLe;function d(g,x,C,k=_){const{context:T,zip215:R}=k,I=r.BYTES;g=Qd("signature",g,2*I),x=Qd("message",x),C=Qd("publicKey",C,I),R!==void 0&&uk("zip215",R),i&&(x=i(x));const f=l8(g.slice(I,2*I));let S,K,D;try{S=P.fromHex(C,R),K=P.fromHex(g.slice(0,I),R),D=z.multiplyUnsafe(f)}catch{return!1}if(!R&&S.isSmallOrder())return!1;const J=U(T,K.toRawBytes(),S.toRawBytes(),x);return K.add(S.multiplyUnsafe(J)).subtract(D).clearCofactor().equals(P.ZERO)}return z._setWindowSize(8),{CURVE:e,getPublicKey:F,sign:j,verify:d,ExtendedPoint:P,utils:{getExtendedPublicKey:N,randomPrivateKey:()=>o(r.BYTES),precompute(g=8,x=P.BASE){return x._setWindowSize(g),x.multiply(BigInt(3)),x}}}}BigInt(0),BigInt(1);const Mj=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),yV=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const ZLe=BigInt(1),wV=BigInt(2);BigInt(3);const QLe=BigInt(5),JLe=BigInt(8);function XLe(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=Mj,o=t*t%s*t%s,a=Wu(o,wV,s)*o%s,l=Wu(a,ZLe,s)*t%s,u=Wu(l,QLe,s)*l%s,c=Wu(u,e,s)*u%s,h=Wu(c,r,s)*c%s,m=Wu(h,n,s)*h%s,y=Wu(m,i,s)*m%s,b=Wu(y,i,s)*m%s,E=Wu(b,e,s)*u%s;return{pow_p_5_8:Wu(E,wV,s)*t%s,b2:o}}function eDe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function tDe(t,e){const r=Mj,n=os(e*e*e,r),i=os(n*n*e,r),s=XLe(t*i).pow_p_5_8;let o=os(t*n*s,r);const a=os(e*o*o,r),l=o,u=os(o*yV,r),c=a===t,h=a===os(-t,r),m=a===os(-t*yV,r);return c&&(o=l),(h||m)&&(o=u),jLe(o,r)&&(o=os(-o,r)),{isValid:c||h,value:o}}const rDe=Iae(Mj,void 0,!0),nDe={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:rDe,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:JLe,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:ALe,randomBytes:xae,adjustScalarBytes:eDe,uvRatio:tDe},Mae=YLe(nDe),iDe="EdDSA",sDe="JWT",xE=".",I9="base64url",Pae="utf8",Nae="utf8",oDe=":",aDe="did",lDe="key",vV="base58btc",cDe="z",uDe="K36",dDe=32;function Pj(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Rae(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Pj(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Oae(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=Rae(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return Pj(r)}function hDe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,l=t.charAt(0),u=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function h(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var E=0,A=0,M=0,O=b.length;M!==O&&b[M]===0;)M++,E++;for(var P=(O-M)*c+1>>>0,z=new Uint8Array(P);M!==O;){for(var L=b[M],W=0,H=P-1;(L!==0||W<A)&&H!==-1;H--,W++)L+=256*z[H]>>>0,z[H]=L%a>>>0,L=L/a>>>0;if(L!==0)throw new Error("Non-zero carry");A=W,M++}for(var G=P-A;G!==P&&z[G]===0;)G++;for(var N=l.repeat(E);G<P;++G)N+=t.charAt(z[G]);return N}function m(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var E=0;if(b[E]!==" "){for(var A=0,M=0;b[E]===l;)A++,E++;for(var O=(b.length-E)*u+1>>>0,P=new Uint8Array(O);b[E];){var z=r[b.charCodeAt(E)];if(z===255)return;for(var L=0,W=O-1;(z!==0||L<M)&&W!==-1;W--,L++)z+=a*P[W]>>>0,P[W]=z%256>>>0,z=z/256>>>0;if(z!==0)throw new Error("Non-zero carry");M=L,E++}if(b[E]!==" "){for(var H=O-M;H!==O&&P[H]===0;)H++;for(var G=new Uint8Array(A+(O-H)),N=A;H!==O;)G[N++]=P[H++];return G}}}function y(b){var E=m(b);if(E)return E;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:m,decode:y}}var fDe=hDe,pDe=fDe;const jae=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},gDe=t=>new TextEncoder().encode(t),mDe=t=>new TextDecoder().decode(t);let yDe=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},wDe=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Lae(this,e)}},vDe=class{constructor(e){this.decoders=e}or(e){return Lae(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const Lae=(t,e)=>new vDe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let bDe=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new yDe(e,r,n),this.decoder=new wDe(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const T9=({name:t,prefix:e,encode:r,decode:n})=>new bDe(t,e,r,n),H5=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=pDe(r,e);return T9({prefix:t,name:e,encode:n,decode:s=>jae(i(s))})},xDe=(t,e,r,n)=>{const i={};for(let c=0;c<e.length;++c)i[e[c]]=c;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,l=0,u=0;for(let c=0;c<s;++c){const h=i[t[c]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);l=l<<r|h,a+=r,a>=8&&(a-=8,o[u++]=255&l>>a)}if(a>=r||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return o},EDe=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let l=0;l<t.length;++l)for(a=a<<8|t[l],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Js=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>T9({prefix:e,name:t,encode(i){return EDe(i,n,r)},decode(i){return xDe(i,n,r,t)}}),_De=T9({prefix:"\0",name:"identity",encode:t=>mDe(t),decode:t=>gDe(t)});var ADe=Object.freeze({__proto__:null,identity:_De});const SDe=Js({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var CDe=Object.freeze({__proto__:null,base2:SDe});const kDe=Js({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var IDe=Object.freeze({__proto__:null,base8:kDe});const TDe=H5({prefix:"9",name:"base10",alphabet:"0123456789"});var $De=Object.freeze({__proto__:null,base10:TDe});const MDe=Js({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),PDe=Js({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var NDe=Object.freeze({__proto__:null,base16:MDe,base16upper:PDe});const RDe=Js({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ODe=Js({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),jDe=Js({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),LDe=Js({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),DDe=Js({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),BDe=Js({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),UDe=Js({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),FDe=Js({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),zDe=Js({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var WDe=Object.freeze({__proto__:null,base32:RDe,base32upper:ODe,base32pad:jDe,base32padupper:LDe,base32hex:DDe,base32hexupper:BDe,base32hexpad:UDe,base32hexpadupper:FDe,base32z:zDe});const qDe=H5({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),HDe=H5({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var VDe=Object.freeze({__proto__:null,base36:qDe,base36upper:HDe});const KDe=H5({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),GDe=H5({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var YDe=Object.freeze({__proto__:null,base58btc:KDe,base58flickr:GDe});const ZDe=Js({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),QDe=Js({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),JDe=Js({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),XDe=Js({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var eBe=Object.freeze({__proto__:null,base64:ZDe,base64pad:QDe,base64url:JDe,base64urlpad:XDe});const Dae=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),tBe=Dae.reduce((t,e,r)=>(t[r]=e,t),[]),rBe=Dae.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function nBe(t){return t.reduce((e,r)=>(e+=tBe[r],e),"")}function iBe(t){const e=[];for(const r of t){const n=rBe[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const sBe=T9({prefix:"🚀",name:"base256emoji",encode:nBe,decode:iBe});var oBe=Object.freeze({__proto__:null,base256emoji:sBe}),aBe=Bae,bV=128,lBe=-128,cBe=Math.pow(2,31);function Bae(t,e,r){e=e||[],r=r||0;for(var n=r;t>=cBe;)e[r++]=t&255|bV,t/=128;for(;t&lBe;)e[r++]=t&255|bV,t>>>=7;return e[r]=t|0,Bae.bytes=r-n+1,e}var uBe=cP,dBe=128,xV=127;function cP(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw cP.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&xV)<<i:(o&xV)*Math.pow(2,i),i+=7}while(o>=dBe);return cP.bytes=s-n,r}var hBe=Math.pow(2,7),fBe=Math.pow(2,14),pBe=Math.pow(2,21),gBe=Math.pow(2,28),mBe=Math.pow(2,35),yBe=Math.pow(2,42),wBe=Math.pow(2,49),vBe=Math.pow(2,56),bBe=Math.pow(2,63),xBe=function(t){return t<hBe?1:t<fBe?2:t<pBe?3:t<gBe?4:t<mBe?5:t<yBe?6:t<wBe?7:t<vBe?8:t<bBe?9:10},EBe={encode:aBe,decode:uBe,encodingLength:xBe},Uae=EBe;const EV=(t,e,r=0)=>(Uae.encode(t,e,r),e),_V=t=>Uae.encodingLength(t),uP=(t,e)=>{const r=e.byteLength,n=_V(t),i=n+_V(r),s=new Uint8Array(i+r);return EV(t,s,0),EV(r,s,n),s.set(e,i),new _Be(t,r,e,s)};let _Be=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};const Fae=({name:t,code:e,encode:r})=>new ABe(t,e,r);let ABe=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?uP(this.code,r):r.then(n=>uP(this.code,n))}else throw Error("Unknown type, must be binary type")}};const zae=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),SBe=Fae({name:"sha2-256",code:18,encode:zae("SHA-256")}),CBe=Fae({name:"sha2-512",code:19,encode:zae("SHA-512")});var kBe=Object.freeze({__proto__:null,sha256:SBe,sha512:CBe});const Wae=0,IBe="identity",qae=jae,TBe=t=>uP(Wae,qae(t)),$Be={code:Wae,name:IBe,encode:qae,digest:TBe};var MBe=Object.freeze({__proto__:null,identity:$Be});new TextEncoder,new TextDecoder;const AV={...ADe,...CDe,...IDe,...$De,...NDe,...WDe,...VDe,...YDe,...eBe,...oBe};({...kBe,...MBe});function Hae(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const SV=Hae("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),mk=Hae("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=Rae(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Vae={utf8:SV,"utf-8":SV,hex:AV.base16,latin1:mk,ascii:mk,binary:mk,...AV};function $9(t,e="utf8"){const r=Vae[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function Dw(t,e="utf8"){const r=Vae[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Pj(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function CV(t){return Hg($9(Dw(t,I9),Pae))}function EE(t){return $9(Dw(Vh(t),Pae),I9)}function Kae(t){const e=Dw(uDe,vV),r=cDe+$9(Oae([e,t]),vV);return[aDe,lDe,r].join(oDe)}function PBe(t){return $9(t,I9)}function NBe(t){return Dw(t,I9)}function RBe(t){return Dw([EE(t.header),EE(t.payload)].join(xE),Nae)}function OBe(t){return[EE(t.header),EE(t.payload),PBe(t.signature)].join(xE)}function dP(t){const e=t.split(xE),r=CV(e[0]),n=CV(e[1]),i=NBe(e[2]),s=Dw(e.slice(0,2).join(xE),Nae);return{header:r,payload:n,signature:i,data:s}}function kV(t=xae(dDe)){const e=Mae.getPublicKey(t);return{secretKey:Oae([t,e]),publicKey:e}}async function jBe(t,e,r,n,i=Tt.fromMiliseconds(Date.now())){const s={alg:iDe,typ:sDe},o=Kae(n.publicKey),a=i+r,l={iss:o,sub:t,aud:e,iat:i,exp:a},u=RBe({header:s,payload:l}),c=Mae.sign(u,n.secretKey.slice(0,32));return OBe({header:s,payload:l,signature:c})}function LBe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,l=t.charAt(0),u=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function h(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var E=0,A=0,M=0,O=b.length;M!==O&&b[M]===0;)M++,E++;for(var P=(O-M)*c+1>>>0,z=new Uint8Array(P);M!==O;){for(var L=b[M],W=0,H=P-1;(L!==0||W<A)&&H!==-1;H--,W++)L+=256*z[H]>>>0,z[H]=L%a>>>0,L=L/a>>>0;if(L!==0)throw new Error("Non-zero carry");A=W,M++}for(var G=P-A;G!==P&&z[G]===0;)G++;for(var N=l.repeat(E);G<P;++G)N+=t.charAt(z[G]);return N}function m(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var E=0;if(b[E]!==" "){for(var A=0,M=0;b[E]===l;)A++,E++;for(var O=(b.length-E)*u+1>>>0,P=new Uint8Array(O);b[E];){var z=r[b.charCodeAt(E)];if(z===255)return;for(var L=0,W=O-1;(z!==0||L<M)&&W!==-1;W--,L++)z+=a*P[W]>>>0,P[W]=z%256>>>0,z=z/256>>>0;if(z!==0)throw new Error("Non-zero carry");M=L,E++}if(b[E]!==" "){for(var H=O-M;H!==O&&P[H]===0;)H++;for(var G=new Uint8Array(A+(O-H)),N=A;H!==O;)G[N++]=P[H++];return G}}}function y(b){var E=m(b);if(E)return E;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:m,decode:y}}var DBe=LBe,BBe=DBe;const UBe=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},FBe=t=>new TextEncoder().encode(t),zBe=t=>new TextDecoder().decode(t);class WBe{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class qBe{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Gae(this,e)}}class HBe{constructor(e){this.decoders=e}or(e){return Gae(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Gae=(t,e)=>new HBe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class VBe{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new WBe(e,r,n),this.decoder=new qBe(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const M9=({name:t,prefix:e,encode:r,decode:n})=>new VBe(t,e,r,n),V5=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=BBe(r,e);return M9({prefix:t,name:e,encode:n,decode:s=>UBe(i(s))})},KBe=(t,e,r,n)=>{const i={};for(let c=0;c<e.length;++c)i[e[c]]=c;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,l=0,u=0;for(let c=0;c<s;++c){const h=i[t[c]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);l=l<<r|h,a+=r,a>=8&&(a-=8,o[u++]=255&l>>a)}if(a>=r||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return o},GBe=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let l=0;l<t.length;++l)for(a=a<<8|t[l],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Xs=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>M9({prefix:e,name:t,encode(i){return GBe(i,n,r)},decode(i){return KBe(i,n,r,t)}}),YBe=M9({prefix:"\0",name:"identity",encode:t=>zBe(t),decode:t=>FBe(t)}),ZBe=Object.freeze(Object.defineProperty({__proto__:null,identity:YBe},Symbol.toStringTag,{value:"Module"})),QBe=Xs({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),JBe=Object.freeze(Object.defineProperty({__proto__:null,base2:QBe},Symbol.toStringTag,{value:"Module"})),XBe=Xs({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),eUe=Object.freeze(Object.defineProperty({__proto__:null,base8:XBe},Symbol.toStringTag,{value:"Module"})),tUe=V5({prefix:"9",name:"base10",alphabet:"0123456789"}),rUe=Object.freeze(Object.defineProperty({__proto__:null,base10:tUe},Symbol.toStringTag,{value:"Module"})),nUe=Xs({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),iUe=Xs({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),sUe=Object.freeze(Object.defineProperty({__proto__:null,base16:nUe,base16upper:iUe},Symbol.toStringTag,{value:"Module"})),oUe=Xs({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),aUe=Xs({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),lUe=Xs({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),cUe=Xs({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),uUe=Xs({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),dUe=Xs({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),hUe=Xs({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),fUe=Xs({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),pUe=Xs({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),gUe=Object.freeze(Object.defineProperty({__proto__:null,base32:oUe,base32hex:uUe,base32hexpad:hUe,base32hexpadupper:fUe,base32hexupper:dUe,base32pad:lUe,base32padupper:cUe,base32upper:aUe,base32z:pUe},Symbol.toStringTag,{value:"Module"})),mUe=V5({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),yUe=V5({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),wUe=Object.freeze(Object.defineProperty({__proto__:null,base36:mUe,base36upper:yUe},Symbol.toStringTag,{value:"Module"})),vUe=V5({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),bUe=V5({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),xUe=Object.freeze(Object.defineProperty({__proto__:null,base58btc:vUe,base58flickr:bUe},Symbol.toStringTag,{value:"Module"})),EUe=Xs({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),_Ue=Xs({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),AUe=Xs({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),SUe=Xs({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),CUe=Object.freeze(Object.defineProperty({__proto__:null,base64:EUe,base64pad:_Ue,base64url:AUe,base64urlpad:SUe},Symbol.toStringTag,{value:"Module"})),Yae=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),kUe=Yae.reduce((t,e,r)=>(t[r]=e,t),[]),IUe=Yae.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function TUe(t){return t.reduce((e,r)=>(e+=kUe[r],e),"")}function $Ue(t){const e=[];for(const r of t){const n=IUe[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const MUe=M9({prefix:"🚀",name:"base256emoji",encode:TUe,decode:$Ue}),PUe=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:MUe},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const _E={...ZBe,...JBe,...eUe,...rUe,...sUe,...gUe,...wUe,...xUe,...CUe,...PUe},NUe={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var yk,IV;function Zae(){if(IV)return yk;IV=1;const t="Input must be an string, Buffer or Uint8Array";function e(o){let a;if(o instanceof Uint8Array)a=o;else if(typeof o=="string")a=new TextEncoder().encode(o);else throw new Error(t);return a}function r(o){return Array.prototype.map.call(o,function(a){return(a<16?"0":"")+a.toString(16)}).join("")}function n(o){return(4294967296+o).toString(16).substring(1)}function i(o,a,l){let u=`
`+o+" = ";for(let c=0;c<a.length;c+=2){if(l===32)u+=n(a[c]).toUpperCase(),u+=" ",u+=n(a[c+1]).toUpperCase();else if(l===64)u+=n(a[c+1]).toUpperCase(),u+=n(a[c]).toUpperCase();else throw new Error("Invalid size "+l);c%6===4?u+=`
`+new Array(o.length+4).join(" "):c<a.length-2&&(u+=" ")}console.log(u)}function s(o,a,l){let u=new Date().getTime();const c=new Uint8Array(a);for(let m=0;m<a;m++)c[m]=m%256;const h=new Date().getTime();console.log("Generated random input in "+(h-u)+"ms"),u=h;for(let m=0;m<l;m++){const y=o(c),b=new Date().getTime(),E=b-u;u=b,console.log("Hashed in "+E+"ms: "+y.substring(0,20)+"..."),console.log(Math.round(a/(1<<20)/(E/1e3)*100)/100+" MB PER SECOND")}}return yk={normalizeInput:e,toHex:r,debugPrint:i,testSpeed:s},yk}var wk,TV;function RUe(){if(TV)return wk;TV=1;const t=Zae();function e(M,O,P){const z=M[O]+M[P];let L=M[O+1]+M[P+1];z>=4294967296&&L++,M[O]=z,M[O+1]=L}function r(M,O,P,z){let L=M[O]+P;P<0&&(L+=4294967296);let W=M[O+1]+z;L>=4294967296&&W++,M[O]=L,M[O+1]=W}function n(M,O){return M[O]^M[O+1]<<8^M[O+2]<<16^M[O+3]<<24}function i(M,O,P,z,L,W){const H=u[L],G=u[L+1],N=u[W],F=u[W+1];e(l,M,O),r(l,M,H,G);let U=l[z]^l[M],j=l[z+1]^l[M+1];l[z]=j,l[z+1]=U,e(l,P,z),U=l[O]^l[P],j=l[O+1]^l[P+1],l[O]=U>>>24^j<<8,l[O+1]=j>>>24^U<<8,e(l,M,O),r(l,M,N,F),U=l[z]^l[M],j=l[z+1]^l[M+1],l[z]=U>>>16^j<<16,l[z+1]=j>>>16^U<<16,e(l,P,z),U=l[O]^l[P],j=l[O+1]^l[P+1],l[O]=j>>>31^U<<1,l[O+1]=U>>>31^j<<1}const s=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],a=new Uint8Array(o.map(function(M){return M*2})),l=new Uint32Array(32),u=new Uint32Array(32);function c(M,O){let P=0;for(P=0;P<16;P++)l[P]=M.h[P],l[P+16]=s[P];for(l[24]=l[24]^M.t,l[25]=l[25]^M.t/4294967296,O&&(l[28]=~l[28],l[29]=~l[29]),P=0;P<32;P++)u[P]=n(M.b,4*P);for(P=0;P<12;P++)i(0,8,16,24,a[P*16+0],a[P*16+1]),i(2,10,18,26,a[P*16+2],a[P*16+3]),i(4,12,20,28,a[P*16+4],a[P*16+5]),i(6,14,22,30,a[P*16+6],a[P*16+7]),i(0,10,20,30,a[P*16+8],a[P*16+9]),i(2,12,22,24,a[P*16+10],a[P*16+11]),i(4,14,16,26,a[P*16+12],a[P*16+13]),i(6,8,18,28,a[P*16+14],a[P*16+15]);for(P=0;P<16;P++)M.h[P]=M.h[P]^l[P]^l[P+16]}const h=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function m(M,O,P,z){if(M===0||M>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(O&&O.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(P&&P.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(z&&z.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const L={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:M};h.fill(0),h[0]=M,O&&(h[1]=O.length),h[2]=1,h[3]=1,P&&h.set(P,32),z&&h.set(z,48);for(let W=0;W<16;W++)L.h[W]=s[W]^n(h,W*4);return O&&(y(L,O),L.c=128),L}function y(M,O){for(let P=0;P<O.length;P++)M.c===128&&(M.t+=M.c,c(M,!1),M.c=0),M.b[M.c++]=O[P]}function b(M){for(M.t+=M.c;M.c<128;)M.b[M.c++]=0;c(M,!0);const O=new Uint8Array(M.outlen);for(let P=0;P<M.outlen;P++)O[P]=M.h[P>>2]>>8*(P&3);return O}function E(M,O,P,z,L){P=P||64,M=t.normalizeInput(M),z&&(z=t.normalizeInput(z)),L&&(L=t.normalizeInput(L));const W=m(P,O,z,L);return y(W,M),b(W)}function A(M,O,P,z,L){const W=E(M,O,P,z,L);return t.toHex(W)}return wk={blake2b:E,blake2bHex:A,blake2bInit:m,blake2bUpdate:y,blake2bFinal:b},wk}var vk,$V;function OUe(){if($V)return vk;$V=1;const t=Zae();function e(b,E){return b[E]^b[E+1]<<8^b[E+2]<<16^b[E+3]<<24}function r(b,E,A,M,O,P){o[b]=o[b]+o[E]+O,o[M]=n(o[M]^o[b],16),o[A]=o[A]+o[M],o[E]=n(o[E]^o[A],12),o[b]=o[b]+o[E]+P,o[M]=n(o[M]^o[b],8),o[A]=o[A]+o[M],o[E]=n(o[E]^o[A],7)}function n(b,E){return b>>>E^b<<32-E}const i=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),s=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),o=new Uint32Array(16),a=new Uint32Array(16);function l(b,E){let A=0;for(A=0;A<8;A++)o[A]=b.h[A],o[A+8]=i[A];for(o[12]^=b.t,o[13]^=b.t/4294967296,E&&(o[14]=~o[14]),A=0;A<16;A++)a[A]=e(b.b,4*A);for(A=0;A<10;A++)r(0,4,8,12,a[s[A*16+0]],a[s[A*16+1]]),r(1,5,9,13,a[s[A*16+2]],a[s[A*16+3]]),r(2,6,10,14,a[s[A*16+4]],a[s[A*16+5]]),r(3,7,11,15,a[s[A*16+6]],a[s[A*16+7]]),r(0,5,10,15,a[s[A*16+8]],a[s[A*16+9]]),r(1,6,11,12,a[s[A*16+10]],a[s[A*16+11]]),r(2,7,8,13,a[s[A*16+12]],a[s[A*16+13]]),r(3,4,9,14,a[s[A*16+14]],a[s[A*16+15]]);for(A=0;A<8;A++)b.h[A]^=o[A]^o[A+8]}function u(b,E){if(!(b>0&&b<=32))throw new Error("Incorrect output length, should be in [1, 32]");const A=E?E.length:0;if(E&&!(A>0&&A<=32))throw new Error("Incorrect key length, should be in [1, 32]");const M={h:new Uint32Array(i),b:new Uint8Array(64),c:0,t:0,outlen:b};return M.h[0]^=16842752^A<<8^b,A>0&&(c(M,E),M.c=64),M}function c(b,E){for(let A=0;A<E.length;A++)b.c===64&&(b.t+=b.c,l(b,!1),b.c=0),b.b[b.c++]=E[A]}function h(b){for(b.t+=b.c;b.c<64;)b.b[b.c++]=0;l(b,!0);const E=new Uint8Array(b.outlen);for(let A=0;A<b.outlen;A++)E[A]=b.h[A>>2]>>8*(A&3)&255;return E}function m(b,E,A){A=A||32,b=t.normalizeInput(b);const M=u(A,E);return c(M,b),h(M)}function y(b,E,A){const M=m(b,E,A);return t.toHex(M)}return vk={blake2s:m,blake2sHex:y,blake2sInit:u,blake2sUpdate:c,blake2sFinal:h},vk}var bk,MV;function jUe(){if(MV)return bk;MV=1;const t=RUe(),e=OUe();return bk={blake2b:t.blake2b,blake2bHex:t.blake2bHex,blake2bInit:t.blake2bInit,blake2bUpdate:t.blake2bUpdate,blake2bFinal:t.blake2bFinal,blake2s:e.blake2s,blake2sHex:e.blake2sHex,blake2sInit:e.blake2sInit,blake2sUpdate:e.blake2sUpdate,blake2sFinal:e.blake2sFinal},bk}var LUe=jUe();function PV(t,e=[]){const r=[];return Object.keys(t).forEach(n=>{if(e.length&&!e.includes(n))return;const i=t[n];r.push(...i.accounts)}),r}const Y4=BigInt(2**32-1),NV=BigInt(32);function Qae(t,e=!1){return e?{h:Number(t&Y4),l:Number(t>>NV&Y4)}:{h:Number(t>>NV&Y4)|0,l:Number(t&Y4)|0}}function Jae(t,e=!1){const r=t.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:o,l:a}=Qae(t[s],e);[n[s],i[s]]=[o,a]}return[n,i]}const RV=(t,e,r)=>t>>>r,OV=(t,e,r)=>t<<32-r|e>>>r,i0=(t,e,r)=>t>>>r|e<<32-r,s0=(t,e,r)=>t<<32-r|e>>>r,eb=(t,e,r)=>t<<64-r|e>>>r-32,tb=(t,e,r)=>t>>>r-32|e<<64-r,DUe=(t,e)=>e,BUe=(t,e)=>t,UUe=(t,e,r)=>t<<r|e>>>32-r,FUe=(t,e,r)=>e<<r|t>>>32-r,zUe=(t,e,r)=>e<<r-32|t>>>64-r,WUe=(t,e,r)=>t<<r-32|e>>>64-r;function Hc(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const Nj=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),Rj=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,qUe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),HUe=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,VUe=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),KUe=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,b1=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Oj(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function V0(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function uc(t,...e){if(!Oj(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function GUe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");V0(t.outputLen),V0(t.blockLen)}function K0(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function jj(t,e){uc(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Q3(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function vu(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function xk(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function qu(t,e){return t<<32-e|t>>>e}const Xae=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function ele(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const oh=Xae?t=>t:t=>ele(t);function YUe(t){for(let e=0;e<t.length;e++)t[e]=ele(t[e]);return t}const o0=Xae?t=>t:YUe,tle=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",ZUe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function J3(t){if(uc(t),tle)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=ZUe[t[r]];return e}const Jd={_0:48,_9:57,A:65,F:70,a:97,f:102};function jV(t){if(t>=Jd._0&&t<=Jd._9)return t-Jd._0;if(t>=Jd.A&&t<=Jd.F)return t-(Jd.A-10);if(t>=Jd.a&&t<=Jd.f)return t-(Jd.a-10)}function Lj(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(tle)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=jV(t.charCodeAt(s)),a=jV(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=o*16+a}return n}function QUe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Oh(t){return typeof t=="string"&&(t=QUe(t)),uc(t),t}function sg(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];uc(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}let P9=class{};function K5(t){const e=n=>t().update(Oh(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function JUe(t){const e=(n,i)=>t(i).update(Oh(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function rle(t=32){if(b1&&typeof b1.getRandomValues=="function")return b1.getRandomValues(new Uint8Array(t));if(b1&&typeof b1.randomBytes=="function")return Uint8Array.from(b1.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const XUe=BigInt(0),K2=BigInt(1),eFe=BigInt(2),tFe=BigInt(7),rFe=BigInt(256),nFe=BigInt(113),nle=[],ile=[],sle=[];for(let t=0,e=K2,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],nle.push(2*(5*n+r)),ile.push((t+1)*(t+2)/2%64);let i=XUe;for(let s=0;s<7;s++)e=(e<<K2^(e>>tFe)*nFe)%rFe,e&eFe&&(i^=K2<<(K2<<BigInt(s))-K2);sle.push(i)}const ole=Jae(sle,!0),iFe=ole[0],sFe=ole[1],LV=(t,e,r)=>r>32?zUe(t,e,r):UUe(t,e,r),DV=(t,e,r)=>r>32?WUe(t,e,r):FUe(t,e,r);function oFe(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,u=r[l],c=r[l+1],h=LV(u,c,1)^r[a],m=DV(u,c,1)^r[a+1];for(let y=0;y<50;y+=10)t[o+y]^=h,t[o+y+1]^=m}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=ile[o],l=LV(i,s,a),u=DV(i,s,a),c=nle[o];i=t[c],s=t[c+1],t[c]=l,t[c+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=iFe[n],t[1]^=sFe[n]}vu(r)}let aFe=class ale extends P9{constructor(e,r,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,V0(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Q3(this.state)}clone(){return this._cloneInto()}keccak(){o0(this.state32),oFe(this.state32,this.rounds),o0(this.state32),this.posOut=0,this.pos=0}update(e){K0(this),e=Oh(e),uc(e);const{blockLen:r,state:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){K0(this,!1),uc(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return V0(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(jj(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,vu(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new ale(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const lFe=(t,e,r)=>K5(()=>new aFe(e,t,r));lFe(1,136,256/8);function cFe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),l=n?4:0,u=n?0:4;t.setUint32(e+l,o,n),t.setUint32(e+u,a,n)}function uFe(t,e,r){return t&e^~t&r}function dFe(t,e,r){return t&e^t&r^e&r}let lle=class extends P9{constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=xk(this.buffer)}update(e){K0(this),e=Oh(e),uc(e);const{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=xk(e);for(;i<=s-o;o+=i)this.process(l,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){K0(this),jj(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,vu(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(n,0),o=0);for(let h=o;h<i;h++)r[h]=0;cFe(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=xk(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,c=this.get();if(u>c.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<u;h++)a.setUint32(4*h,c[h],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};const kf=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ao=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),lo=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),hFe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),If=new Uint32Array(64);let fFe=class extends lle{constructor(e=32){super(64,e,8,!1),this.A=kf[0]|0,this.B=kf[1]|0,this.C=kf[2]|0,this.D=kf[3]|0,this.E=kf[4]|0,this.F=kf[5]|0,this.G=kf[6]|0,this.H=kf[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:l}=this;return[e,r,n,i,s,o,a,l]}set(e,r,n,i,s,o,a,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,r){for(let h=0;h<16;h++,r+=4)If[h]=e.getUint32(r,!1);for(let h=16;h<64;h++){const m=If[h-15],y=If[h-2],b=qu(m,7)^qu(m,18)^m>>>3,E=qu(y,17)^qu(y,19)^y>>>10;If[h]=E+If[h-7]+b+If[h-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:l,G:u,H:c}=this;for(let h=0;h<64;h++){const m=qu(a,6)^qu(a,11)^qu(a,25),y=c+m+uFe(a,l,u)+hFe[h]+If[h]|0,b=(qu(n,2)^qu(n,13)^qu(n,22))+dFe(n,i,s)|0;c=u,u=l,l=a,a=o+y|0,o=s,s=i,i=n,n=y+b|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(n,i,s,o,a,l,u,c)}roundClean(){vu(If)}destroy(){this.set(0,0,0,0,0,0,0,0),vu(this.buffer)}};const cle=Jae(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),pFe=cle[0],gFe=cle[1],Tf=new Uint32Array(80),$f=new Uint32Array(80);let Dj=class extends lle{constructor(e=64){super(128,e,16,!1),this.Ah=lo[0]|0,this.Al=lo[1]|0,this.Bh=lo[2]|0,this.Bl=lo[3]|0,this.Ch=lo[4]|0,this.Cl=lo[5]|0,this.Dh=lo[6]|0,this.Dl=lo[7]|0,this.Eh=lo[8]|0,this.El=lo[9]|0,this.Fh=lo[10]|0,this.Fl=lo[11]|0,this.Gh=lo[12]|0,this.Gl=lo[13]|0,this.Hh=lo[14]|0,this.Hl=lo[15]|0}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:u,El:c,Fh:h,Fl:m,Gh:y,Gl:b,Hh:E,Hl:A}=this;return[e,r,n,i,s,o,a,l,u,c,h,m,y,b,E,A]}set(e,r,n,i,s,o,a,l,u,c,h,m,y,b,E,A){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=u|0,this.El=c|0,this.Fh=h|0,this.Fl=m|0,this.Gh=y|0,this.Gl=b|0,this.Hh=E|0,this.Hl=A|0}process(e,r){for(let P=0;P<16;P++,r+=4)Tf[P]=e.getUint32(r),$f[P]=e.getUint32(r+=4);for(let P=16;P<80;P++){const z=Tf[P-15]|0,L=$f[P-15]|0,W=i0(z,L,1)^i0(z,L,8)^RV(z,L,7),H=s0(z,L,1)^s0(z,L,8)^OV(z,L,7),G=Tf[P-2]|0,N=$f[P-2]|0,F=i0(G,N,19)^eb(G,N,61)^RV(G,N,6),U=s0(G,N,19)^tb(G,N,61)^OV(G,N,6),j=qUe(H,U,$f[P-7],$f[P-16]),_=HUe(j,W,F,Tf[P-7],Tf[P-16]);Tf[P]=_|0,$f[P]=j|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:u,Dl:c,Eh:h,El:m,Fh:y,Fl:b,Gh:E,Gl:A,Hh:M,Hl:O}=this;for(let P=0;P<80;P++){const z=i0(h,m,14)^i0(h,m,18)^eb(h,m,41),L=s0(h,m,14)^s0(h,m,18)^tb(h,m,41),W=h&y^~h&E,H=m&b^~m&A,G=VUe(O,L,H,gFe[P],$f[P]),N=KUe(G,M,z,W,pFe[P],Tf[P]),F=G|0,U=i0(n,i,28)^eb(n,i,34)^eb(n,i,39),j=s0(n,i,28)^tb(n,i,34)^tb(n,i,39),_=n&s^n&a^s&a,d=i&o^i&l^o&l;M=E|0,O=A|0,E=y|0,A=b|0,y=h|0,b=m|0,{h,l:m}=Hc(u|0,c|0,N|0,F|0),u=a|0,c=l|0,a=s|0,l=o|0,s=n|0,o=i|0;const g=Nj(F,j,d);n=Rj(g,N,U,_),i=g|0}({h:n,l:i}=Hc(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=Hc(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=Hc(this.Ch|0,this.Cl|0,a|0,l|0),{h:u,l:c}=Hc(this.Dh|0,this.Dl|0,u|0,c|0),{h,l:m}=Hc(this.Eh|0,this.El|0,h|0,m|0),{h:y,l:b}=Hc(this.Fh|0,this.Fl|0,y|0,b|0),{h:E,l:A}=Hc(this.Gh|0,this.Gl|0,E|0,A|0),{h:M,l:O}=Hc(this.Hh|0,this.Hl|0,M|0,O|0),this.set(n,i,s,o,a,l,u,c,h,m,y,b,E,A,M,O)}roundClean(){vu(Tf,$f)}destroy(){vu(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},mFe=class extends Dj{constructor(){super(48),this.Ah=ao[0]|0,this.Al=ao[1]|0,this.Bh=ao[2]|0,this.Bl=ao[3]|0,this.Ch=ao[4]|0,this.Cl=ao[5]|0,this.Dh=ao[6]|0,this.Dl=ao[7]|0,this.Eh=ao[8]|0,this.El=ao[9]|0,this.Fh=ao[10]|0,this.Fl=ao[11]|0,this.Gh=ao[12]|0,this.Gl=ao[13]|0,this.Hh=ao[14]|0,this.Hl=ao[15]|0}};const co=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);let yFe=class extends Dj{constructor(){super(32),this.Ah=co[0]|0,this.Al=co[1]|0,this.Bh=co[2]|0,this.Bl=co[3]|0,this.Ch=co[4]|0,this.Cl=co[5]|0,this.Dh=co[6]|0,this.Dl=co[7]|0,this.Eh=co[8]|0,this.El=co[9]|0,this.Fh=co[10]|0,this.Fl=co[11]|0,this.Gh=co[12]|0,this.Gl=co[13]|0,this.Hh=co[14]|0,this.Hl=co[15]|0}};const wFe=K5(()=>new fFe),vFe=K5(()=>new Dj),bFe=K5(()=>new mFe);K5(()=>new yFe);const xFe=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),Xi=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Vt=new Uint32Array(32);function Mf(t,e,r,n,i,s){const o=i[s],a=i[s+1];let l=Vt[2*t],u=Vt[2*t+1],c=Vt[2*e],h=Vt[2*e+1],m=Vt[2*r],y=Vt[2*r+1],b=Vt[2*n],E=Vt[2*n+1],A=Nj(l,c,o);u=Rj(A,u,h,a),l=A|0,{Dh:E,Dl:b}={Dh:E^u,Dl:b^l},{Dh:E,Dl:b}={Dh:DUe(E,b),Dl:BUe(E)},{h:y,l:m}=Hc(y,m,E,b),{Bh:h,Bl:c}={Bh:h^y,Bl:c^m},{Bh:h,Bl:c}={Bh:i0(h,c,24),Bl:s0(h,c,24)},Vt[2*t]=l,Vt[2*t+1]=u,Vt[2*e]=c,Vt[2*e+1]=h,Vt[2*r]=m,Vt[2*r+1]=y,Vt[2*n]=b,Vt[2*n+1]=E}function Pf(t,e,r,n,i,s){const o=i[s],a=i[s+1];let l=Vt[2*t],u=Vt[2*t+1],c=Vt[2*e],h=Vt[2*e+1],m=Vt[2*r],y=Vt[2*r+1],b=Vt[2*n],E=Vt[2*n+1],A=Nj(l,c,o);u=Rj(A,u,h,a),l=A|0,{Dh:E,Dl:b}={Dh:E^u,Dl:b^l},{Dh:E,Dl:b}={Dh:i0(E,b,16),Dl:s0(E,b,16)},{h:y,l:m}=Hc(y,m,E,b),{Bh:h,Bl:c}={Bh:h^y,Bl:c^m},{Bh:h,Bl:c}={Bh:eb(h,c,63),Bl:tb(h,c,63)},Vt[2*t]=l,Vt[2*t+1]=u,Vt[2*e]=c,Vt[2*e+1]=h,Vt[2*r]=m,Vt[2*r+1]=y,Vt[2*n]=b,Vt[2*n+1]=E}function EFe(t,e={},r,n,i){if(V0(r),t<0||t>r)throw new Error("outputLen bigger than keyLen");const{key:s,salt:o,personalization:a}=e;if(s!==void 0&&(s.length<1||s.length>r))throw new Error("key length must be undefined or 1.."+r);if(o!==void 0&&o.length!==n)throw new Error("salt must be undefined or "+n);if(a!==void 0&&a.length!==i)throw new Error("personalization must be undefined or "+i)}let _Fe=class extends P9{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,V0(e),V0(r),this.blockLen=e,this.outputLen=r,this.buffer=new Uint8Array(e),this.buffer32=Q3(this.buffer)}update(e){K0(this),e=Oh(e),uc(e);const{blockLen:r,buffer:n,buffer32:i}=this,s=e.length,o=e.byteOffset,a=e.buffer;for(let l=0;l<s;){this.pos===r&&(o0(i),this.compress(i,0,!1),o0(i),this.pos=0);const u=Math.min(r-this.pos,s-l),c=o+l;if(u===r&&!(c%4)&&l+u<s){const h=new Uint32Array(a,c,Math.floor((s-l)/4));o0(h);for(let m=0;l+r<s;m+=i.length,l+=r)this.length+=r,this.compress(h,m,!1);o0(h);continue}n.set(e.subarray(l,l+u),this.pos),this.pos+=u,this.length+=u,l+=u}return this}digestInto(e){K0(this),jj(e,this);const{pos:r,buffer32:n}=this;this.finished=!0,vu(this.buffer.subarray(r)),o0(n),this.compress(n,0,!0),o0(n);const i=Q3(e);this.get().forEach((s,o)=>i[o]=oh(s))}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){const{buffer:r,length:n,finished:i,destroyed:s,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(r),e.destroyed=s,e.finished=i,e.length=n,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}},AFe=class extends _Fe{constructor(e={}){const r=e.dkLen===void 0?64:e.dkLen;super(128,r),this.v0l=Xi[0]|0,this.v0h=Xi[1]|0,this.v1l=Xi[2]|0,this.v1h=Xi[3]|0,this.v2l=Xi[4]|0,this.v2h=Xi[5]|0,this.v3l=Xi[6]|0,this.v3h=Xi[7]|0,this.v4l=Xi[8]|0,this.v4h=Xi[9]|0,this.v5l=Xi[10]|0,this.v5h=Xi[11]|0,this.v6l=Xi[12]|0,this.v6h=Xi[13]|0,this.v7l=Xi[14]|0,this.v7h=Xi[15]|0,EFe(r,e,64,16,16);let{key:n,personalization:i,salt:s}=e,o=0;if(n!==void 0&&(n=Oh(n),o=n.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,s!==void 0){s=Oh(s);const a=Q3(s);this.v4l^=oh(a[0]),this.v4h^=oh(a[1]),this.v5l^=oh(a[2]),this.v5h^=oh(a[3])}if(i!==void 0){i=Oh(i);const a=Q3(i);this.v6l^=oh(a[0]),this.v6h^=oh(a[1]),this.v7l^=oh(a[2]),this.v7h^=oh(a[3])}if(n!==void 0){const a=new Uint8Array(this.blockLen);a.set(n),this.update(a)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:i,v2l:s,v2h:o,v3l:a,v3h:l,v4l:u,v4h:c,v5l:h,v5h:m,v6l:y,v6h:b,v7l:E,v7h:A}=this;return[e,r,n,i,s,o,a,l,u,c,h,m,y,b,E,A]}set(e,r,n,i,s,o,a,l,u,c,h,m,y,b,E,A){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=s|0,this.v2h=o|0,this.v3l=a|0,this.v3h=l|0,this.v4l=u|0,this.v4h=c|0,this.v5l=h|0,this.v5h=m|0,this.v6l=y|0,this.v6h=b|0,this.v7l=E|0,this.v7h=A|0}compress(e,r,n){this.get().forEach((l,u)=>Vt[u]=l),Vt.set(Xi,16);let{h:i,l:s}=Qae(BigInt(this.length));Vt[24]=Xi[8]^s,Vt[25]=Xi[9]^i,n&&(Vt[28]=~Vt[28],Vt[29]=~Vt[29]);let o=0;const a=xFe;for(let l=0;l<12;l++)Mf(0,4,8,12,e,r+2*a[o++]),Pf(0,4,8,12,e,r+2*a[o++]),Mf(1,5,9,13,e,r+2*a[o++]),Pf(1,5,9,13,e,r+2*a[o++]),Mf(2,6,10,14,e,r+2*a[o++]),Pf(2,6,10,14,e,r+2*a[o++]),Mf(3,7,11,15,e,r+2*a[o++]),Pf(3,7,11,15,e,r+2*a[o++]),Mf(0,5,10,15,e,r+2*a[o++]),Pf(0,5,10,15,e,r+2*a[o++]),Mf(1,6,11,12,e,r+2*a[o++]),Pf(1,6,11,12,e,r+2*a[o++]),Mf(2,7,8,13,e,r+2*a[o++]),Pf(2,7,8,13,e,r+2*a[o++]),Mf(3,4,9,14,e,r+2*a[o++]),Pf(3,4,9,14,e,r+2*a[o++]);this.v0l^=Vt[0]^Vt[16],this.v0h^=Vt[1]^Vt[17],this.v1l^=Vt[2]^Vt[18],this.v1h^=Vt[3]^Vt[19],this.v2l^=Vt[4]^Vt[20],this.v2h^=Vt[5]^Vt[21],this.v3l^=Vt[6]^Vt[22],this.v3h^=Vt[7]^Vt[23],this.v4l^=Vt[8]^Vt[24],this.v4h^=Vt[9]^Vt[25],this.v5l^=Vt[10]^Vt[26],this.v5h^=Vt[11]^Vt[27],this.v6l^=Vt[12]^Vt[28],this.v6h^=Vt[13]^Vt[29],this.v7l^=Vt[14]^Vt[30],this.v7h^=Vt[15]^Vt[31],vu(Vt)}destroy(){this.destroyed=!0,vu(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};JUe(t=>new AFe(t));/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function ule(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function hP(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function Ek(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Sa(t,...e){if(!ule(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function BV(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function SFe(t,e){Sa(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function R0(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function tw(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function CFe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const kFe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function IFe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function fP(t){if(typeof t=="string")t=IFe(t);else if(ule(t))t=pP(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function TFe(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function $Fe(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}const MFe=(t,e)=>{function r(n,...i){if(Sa(n),!kFe)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const u=i[0];if(!u)throw new Error("nonce / iv required");t.varSizeNonce?Sa(u):Sa(u,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&Sa(i[1]);const o=e(n,...i),a=(u,c)=>{if(c!==void 0){if(u!==2)throw new Error("cipher output not supported");Sa(c)}};let l=!1;return{encrypt(u,c){if(l)throw new Error("cannot encrypt() twice with same key + nonce");return l=!0,Sa(u),a(o.encrypt.length,c),o.encrypt(u,c)},decrypt(u,c){if(Sa(u),s&&u.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,c),o.decrypt(u,c)}}}return Object.assign(r,t),r};function UV(t,e,r=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(r&&!NFe(e))throw new Error("invalid output, must be aligned");return e}function FV(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s);t.setUint32(e+4,o,n),t.setUint32(e+0,a,n)}function PFe(t,e,r){hP(r);const n=new Uint8Array(16),i=CFe(n);return FV(i,0,BigInt(e),r),FV(i,8,BigInt(t),r),n}function NFe(t){return t.byteOffset%4===0}function pP(t){return Uint8Array.from(t)}const dle=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),RFe=dle("expand 16-byte k"),OFe=dle("expand 32-byte k"),jFe=R0(RFe),LFe=R0(OFe);function yn(t,e){return t<<e|t>>>32-e}function gP(t){return t.byteOffset%4===0}const Z4=64,DFe=16,hle=2**32-1,zV=new Uint32Array;function BFe(t,e,r,n,i,s,o,a){const l=i.length,u=new Uint8Array(Z4),c=R0(u),h=gP(i)&&gP(s),m=h?R0(i):zV,y=h?R0(s):zV;for(let b=0;b<l;o++){if(t(e,r,n,c,o,a),o>=hle)throw new Error("arx: counter overflow");const E=Math.min(Z4,l-b);if(h&&E===Z4){const A=b/4;if(b%4!==0)throw new Error("arx: invalid block position");for(let M=0,O;M<DFe;M++)O=A+M,y[O]=m[O]^c[M];b+=Z4;continue}for(let A=0,M;A<E;A++)M=b+A,s[M]=i[M]^u[A];b+=E}}function UFe(t,e){const{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:s,rounds:o}=TFe({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return Ek(i),Ek(o),hP(s),hP(r),(a,l,u,c,h=0)=>{Sa(a),Sa(l),Sa(u);const m=u.length;if(c===void 0&&(c=new Uint8Array(m)),Sa(c),Ek(h),h<0||h>=hle)throw new Error("arx: counter overflow");if(c.length<m)throw new Error(`arx: output (${c.length}) is shorter than data (${m})`);const y=[];let b=a.length,E,A;if(b===32)y.push(E=pP(a)),A=LFe;else if(b===16&&r)E=new Uint8Array(32),E.set(a),E.set(a,16),A=jFe,y.push(E);else throw new Error(`arx: invalid 32-byte key, got length=${b}`);gP(l)||y.push(l=pP(l));const M=R0(E);if(n){if(l.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(A,M,R0(l.subarray(0,16)),M),l=l.subarray(16)}const O=16-i;if(O!==l.length)throw new Error(`arx: nonce must be ${O} or 16 bytes`);if(O!==12){const z=new Uint8Array(12);z.set(l,s?0:12-l.length),l=z,y.push(l)}const P=R0(l);return BFe(t,A,M,P,u,c,h,o),tw(...y),c}}const Ts=(t,e)=>t[e++]&255|(t[e++]&255)<<8;let FFe=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=fP(e),Sa(e,32);const r=Ts(e,0),n=Ts(e,2),i=Ts(e,4),s=Ts(e,6),o=Ts(e,8),a=Ts(e,10),l=Ts(e,12),u=Ts(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|l<<5)&8065,this.r[8]=(l>>>8|u<<8)&8191,this.r[9]=u>>>5&127;for(let c=0;c<8;c++)this.pad[c]=Ts(e,16+2*c)}process(e,r,n=!1){const i=n?0:2048,{h:s,r:o}=this,a=o[0],l=o[1],u=o[2],c=o[3],h=o[4],m=o[5],y=o[6],b=o[7],E=o[8],A=o[9],M=Ts(e,r+0),O=Ts(e,r+2),P=Ts(e,r+4),z=Ts(e,r+6),L=Ts(e,r+8),W=Ts(e,r+10),H=Ts(e,r+12),G=Ts(e,r+14);let N=s[0]+(M&8191),F=s[1]+((M>>>13|O<<3)&8191),U=s[2]+((O>>>10|P<<6)&8191),j=s[3]+((P>>>7|z<<9)&8191),_=s[4]+((z>>>4|L<<12)&8191),d=s[5]+(L>>>1&8191),g=s[6]+((L>>>14|W<<2)&8191),x=s[7]+((W>>>11|H<<5)&8191),C=s[8]+((H>>>8|G<<8)&8191),k=s[9]+(G>>>5|i),T=0,R=T+N*a+F*(5*A)+U*(5*E)+j*(5*b)+_*(5*y);T=R>>>13,R&=8191,R+=d*(5*m)+g*(5*h)+x*(5*c)+C*(5*u)+k*(5*l),T+=R>>>13,R&=8191;let I=T+N*l+F*a+U*(5*A)+j*(5*E)+_*(5*b);T=I>>>13,I&=8191,I+=d*(5*y)+g*(5*m)+x*(5*h)+C*(5*c)+k*(5*u),T+=I>>>13,I&=8191;let f=T+N*u+F*l+U*a+j*(5*A)+_*(5*E);T=f>>>13,f&=8191,f+=d*(5*b)+g*(5*y)+x*(5*m)+C*(5*h)+k*(5*c),T+=f>>>13,f&=8191;let S=T+N*c+F*u+U*l+j*a+_*(5*A);T=S>>>13,S&=8191,S+=d*(5*E)+g*(5*b)+x*(5*y)+C*(5*m)+k*(5*h),T+=S>>>13,S&=8191;let K=T+N*h+F*c+U*u+j*l+_*a;T=K>>>13,K&=8191,K+=d*(5*A)+g*(5*E)+x*(5*b)+C*(5*y)+k*(5*m),T+=K>>>13,K&=8191;let D=T+N*m+F*h+U*c+j*u+_*l;T=D>>>13,D&=8191,D+=d*a+g*(5*A)+x*(5*E)+C*(5*b)+k*(5*y),T+=D>>>13,D&=8191;let J=T+N*y+F*m+U*h+j*c+_*u;T=J>>>13,J&=8191,J+=d*l+g*a+x*(5*A)+C*(5*E)+k*(5*b),T+=J>>>13,J&=8191;let ne=T+N*b+F*y+U*m+j*h+_*c;T=ne>>>13,ne&=8191,ne+=d*u+g*l+x*a+C*(5*A)+k*(5*E),T+=ne>>>13,ne&=8191;let ie=T+N*E+F*b+U*y+j*m+_*h;T=ie>>>13,ie&=8191,ie+=d*c+g*u+x*l+C*a+k*(5*A),T+=ie>>>13,ie&=8191;let ce=T+N*A+F*E+U*b+j*y+_*m;T=ce>>>13,ce&=8191,ce+=d*h+g*c+x*u+C*l+k*a,T+=ce>>>13,ce&=8191,T=(T<<2)+T|0,T=T+R|0,R=T&8191,T=T>>>13,I+=T,s[0]=R,s[1]=I,s[2]=f,s[3]=S,s[4]=K,s[5]=D,s[6]=J,s[7]=ne,s[8]=ie,s[9]=ce}finalize(){const{h:e,pad:r}=this,n=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,n[0]=e[0]+5,i=n[0]>>>13,n[0]&=8191;for(let a=1;a<10;a++)n[a]=e[a]+i,i=n[a]>>>13,n[a]&=8191;n[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)n[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|n[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+r[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+r[a]|0)+(o>>>16)|0,e[a]=o&65535;tw(n)}update(e){BV(this),e=fP(e),Sa(e);const{buffer:r,blockLen:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o===n){for(;n<=i-s;s+=n)this.process(e,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){tw(this.h,this.r,this.buffer,this.pad)}digestInto(e){BV(this),SFe(e,this),this.finished=!0;const{buffer:r,h:n}=this;let{pos:i}=this;if(i){for(r[i++]=1;i<16;i++)r[i]=0;this.process(r,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=n[o]>>>0,e[s++]=n[o]>>>8;return e}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}};function zFe(t){const e=(n,i)=>t(i).update(fP(n)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}const WFe=zFe(t=>new FFe(t));function qFe(t,e,r,n,i,s=20){let o=t[0],a=t[1],l=t[2],u=t[3],c=e[0],h=e[1],m=e[2],y=e[3],b=e[4],E=e[5],A=e[6],M=e[7],O=i,P=r[0],z=r[1],L=r[2],W=o,H=a,G=l,N=u,F=c,U=h,j=m,_=y,d=b,g=E,x=A,C=M,k=O,T=P,R=z,I=L;for(let S=0;S<s;S+=2)W=W+F|0,k=yn(k^W,16),d=d+k|0,F=yn(F^d,12),W=W+F|0,k=yn(k^W,8),d=d+k|0,F=yn(F^d,7),H=H+U|0,T=yn(T^H,16),g=g+T|0,U=yn(U^g,12),H=H+U|0,T=yn(T^H,8),g=g+T|0,U=yn(U^g,7),G=G+j|0,R=yn(R^G,16),x=x+R|0,j=yn(j^x,12),G=G+j|0,R=yn(R^G,8),x=x+R|0,j=yn(j^x,7),N=N+_|0,I=yn(I^N,16),C=C+I|0,_=yn(_^C,12),N=N+_|0,I=yn(I^N,8),C=C+I|0,_=yn(_^C,7),W=W+U|0,I=yn(I^W,16),x=x+I|0,U=yn(U^x,12),W=W+U|0,I=yn(I^W,8),x=x+I|0,U=yn(U^x,7),H=H+j|0,k=yn(k^H,16),C=C+k|0,j=yn(j^C,12),H=H+j|0,k=yn(k^H,8),C=C+k|0,j=yn(j^C,7),G=G+_|0,T=yn(T^G,16),d=d+T|0,_=yn(_^d,12),G=G+_|0,T=yn(T^G,8),d=d+T|0,_=yn(_^d,7),N=N+F|0,R=yn(R^N,16),g=g+R|0,F=yn(F^g,12),N=N+F|0,R=yn(R^N,8),g=g+R|0,F=yn(F^g,7);let f=0;n[f++]=o+W|0,n[f++]=a+H|0,n[f++]=l+G|0,n[f++]=u+N|0,n[f++]=c+F|0,n[f++]=h+U|0,n[f++]=m+j|0,n[f++]=y+_|0,n[f++]=b+d|0,n[f++]=E+g|0,n[f++]=A+x|0,n[f++]=M+C|0,n[f++]=O+k|0,n[f++]=P+T|0,n[f++]=z+R|0,n[f++]=L+I|0}const HFe=UFe(qFe,{counterRight:!1,counterLength:4,allowShortKeys:!1}),VFe=new Uint8Array(16),WV=(t,e)=>{t.update(e);const r=e.length%16;r&&t.update(VFe.subarray(r))},KFe=new Uint8Array(32);function qV(t,e,r,n,i){const s=t(e,r,KFe),o=WFe.create(s);i&&WV(o,i),WV(o,n);const a=PFe(n.length,i?i.length:0,!0);o.update(a);const l=o.digest();return tw(s,a),l}const GFe=t=>(e,r,n)=>({encrypt(i,s){const o=i.length;s=UV(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,r,a,a,1);const l=qV(t,e,r,a,n);return s.set(l,o),tw(l),s},decrypt(i,s){s=UV(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),l=qV(t,e,r,o,n);if(!$Fe(a,l))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,r,s,s,1),tw(l),s}});MFe({blockSize:64,nonceLength:12,tagLength:16},GFe(HFe));let fle=class extends P9{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,GUe(e);const n=Oh(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),vu(s)}update(e){return K0(this),this.iHash.update(e),this}digestInto(e){K0(this),uc(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const ple=(t,e,r)=>new fle(t,e).update(r).digest();ple.create=(t,e)=>new fle(t,e);Uint8Array.from([0]);const Bj=BigInt(0),mP=BigInt(1);function AE(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Q4(t){const e=t.toString(16);return e.length&1?"0"+e:e}function gle(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Bj:BigInt("0x"+t)}function N9(t){return gle(J3(t))}function SE(t){return uc(t),gle(J3(Uint8Array.from(t).reverse()))}function Uj(t,e){return Lj(t.toString(16).padStart(e*2,"0"))}function Fj(t,e){return Uj(t,e).reverse()}function ba(t,e,r){let n;if(typeof e=="string")try{n=Lj(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Oj(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}const _k=t=>typeof t=="bigint"&&Bj<=t;function YFe(t,e,r){return _k(t)&&_k(e)&&_k(r)&&e<=t&&t<r}function yP(t,e,r,n){if(!YFe(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function ZFe(t){let e;for(e=0;t>Bj;t>>=mP,e+=1);return e}const R9=t=>(mP<<BigInt(t))-mP;function QFe(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");const n=m=>new Uint8Array(m),i=m=>Uint8Array.of(m);let s=n(t),o=n(t),a=0;const l=()=>{s.fill(1),o.fill(0),a=0},u=(...m)=>r(o,s,...m),c=(m=n(0))=>{o=u(i(0),m),s=u(),m.length!==0&&(o=u(i(1),m),s=u())},h=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let m=0;const y=[];for(;m<e;){s=u();const b=s.slice();y.push(b),m+=s.length}return sg(...y)};return(m,y)=>{l(),c(m);let b;for(;!(b=y(h()));)c();return l(),b}}function O9(t,e,r={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function n(i,s,o){const a=t[i];if(o&&a===void 0)return;const l=typeof a;if(l!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${l}`)}Object.entries(e).forEach(([i,s])=>n(i,s,!1)),Object.entries(r).forEach(([i,s])=>n(i,s,!0))}function HV(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const Ra=BigInt(0),Qo=BigInt(1),og=BigInt(2),JFe=BigInt(3),mle=BigInt(4),yle=BigInt(5),wle=BigInt(8);function ec(t,e){const r=t%e;return r>=Ra?r:e+r}function Uc(t,e,r){let n=t;for(;e-- >Ra;)n*=n,n%=r;return n}function VV(t,e){if(t===Ra)throw new Error("invert: expected non-zero number");if(e<=Ra)throw new Error("invert: expected positive modulus, got "+e);let r=ec(t,e),n=e,i=Ra,s=Qo;for(;r!==Ra;){const o=n/r,a=n%r,l=i-s*o;n=r,r=a,i=s,s=l}if(n!==Qo)throw new Error("invert: does not exist");return ec(i,e)}function vle(t,e){const r=(t.ORDER+Qo)/mle,n=t.pow(e,r);if(!t.eql(t.sqr(n),e))throw new Error("Cannot find square root");return n}function XFe(t,e){const r=(t.ORDER-yle)/wle,n=t.mul(e,og),i=t.pow(n,r),s=t.mul(e,i),o=t.mul(t.mul(s,og),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function eze(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Qo,r=0;for(;e%og===Ra;)e/=og,r++;let n=og;const i=Bw(t);for(;KV(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return vle;let s=i.pow(n,e);const o=(e+Qo)/og;return function(a,l){if(a.is0(l))return l;if(KV(a,l)!==1)throw new Error("Cannot find square root");let u=r,c=a.mul(a.ONE,s),h=a.pow(l,e),m=a.pow(l,o);for(;!a.eql(h,a.ONE);){if(a.is0(h))return a.ZERO;let y=1,b=a.sqr(h);for(;!a.eql(b,a.ONE);)if(y++,b=a.sqr(b),y===u)throw new Error("Cannot find square root");const E=Qo<<BigInt(u-y-1),A=a.pow(c,E);u=y,c=a.sqr(A),h=a.mul(h,c),m=a.mul(m,A)}return m}}function tze(t){return t%mle===JFe?vle:t%wle===yle?XFe:eze(t)}const rze=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function nze(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=rze.reduce((n,i)=>(n[i]="function",n),e);return O9(t,r),t}function ize(t,e,r){if(r<Ra)throw new Error("invalid exponent, negatives unsupported");if(r===Ra)return t.ONE;if(r===Qo)return e;let n=t.ONE,i=e;for(;r>Ra;)r&Qo&&(n=t.mul(n,i)),i=t.sqr(i),r>>=Qo;return n}function ble(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),i=e.reduce((o,a,l)=>t.is0(a)?o:(n[l]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,l)=>t.is0(a)?o:(n[l]=t.mul(o,n[l]),t.mul(o,a)),s),n}function KV(t,e){const r=(t.ORDER-Qo)/og,n=t.pow(e,r),i=t.eql(n,t.ONE),s=t.eql(n,t.ZERO),o=t.eql(n,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function sze(t,e){e!==void 0&&V0(e);const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Bw(t,e,r=!1,n={}){if(t<=Ra)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s;if(typeof e=="object"&&e!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const c=e;c.BITS&&(i=c.BITS),c.sqrt&&(s=c.sqrt),typeof c.isLE=="boolean"&&(r=c.isLE)}else typeof e=="number"&&(i=e),n.sqrt&&(s=n.sqrt);const{nBitLength:o,nByteLength:a}=sze(t,i);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const u=Object.freeze({ORDER:t,isLE:r,BITS:o,BYTES:a,MASK:R9(o),ZERO:Ra,ONE:Qo,create:c=>ec(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Ra<=c&&c<t},is0:c=>c===Ra,isValidNot0:c=>!u.is0(c)&&u.isValid(c),isOdd:c=>(c&Qo)===Qo,neg:c=>ec(-c,t),eql:(c,h)=>c===h,sqr:c=>ec(c*c,t),add:(c,h)=>ec(c+h,t),sub:(c,h)=>ec(c-h,t),mul:(c,h)=>ec(c*h,t),pow:(c,h)=>ize(u,c,h),div:(c,h)=>ec(c*VV(h,t),t),sqrN:c=>c*c,addN:(c,h)=>c+h,subN:(c,h)=>c-h,mulN:(c,h)=>c*h,inv:c=>VV(c,t),sqrt:s||(c=>(l||(l=tze(t)),l(u,c))),toBytes:c=>r?Fj(c,a):Uj(c,a),fromBytes:c=>{if(c.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+c.length);return r?SE(c):N9(c)},invertBatch:c=>ble(u,c),cmov:(c,h,m)=>m?h:c});return Object.freeze(u)}function xle(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Ele(t){const e=xle(t);return e+Math.ceil(e/2)}function oze(t,e,r=!1){const n=t.length,i=xle(e),s=Ele(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?SE(t):N9(t),a=ec(o,e-Qo)+Qo;return r?Fj(a,i):Uj(a,i)}const rw=BigInt(0),ag=BigInt(1);function Ib(t,e){const r=e.negate();return t?r:e}function aze(t,e,r){const n=s=>s.pz,i=ble(t.Fp,r.map(n));return r.map((s,o)=>s.toAffine(i[o])).map(t.fromAffine)}function _le(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Ak(t,e){_le(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1),i=2**t,s=R9(t),o=BigInt(t);return{windows:r,windowSize:n,mask:s,maxNumber:i,shiftBy:o}}function GV(t,e,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r;let a=Number(t&i),l=t>>o;a>n&&(a-=s,l+=ag);const u=e*n,c=u+Math.abs(a)-1,h=a===0,m=a<0,y=e%2!==0;return{nextN:l,offset:c,isZero:h,isNeg:m,isNegF:y,offsetF:u}}function lze(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function cze(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const Sk=new WeakMap,Ale=new WeakMap;function Ck(t){return Ale.get(t)||1}function YV(t){if(t!==rw)throw new Error("invalid wNAF")}function uze(t,e){return{constTimeNegate:Ib,hasPrecomputes(r){return Ck(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>rw;)n&ag&&(i=i.add(s)),s=s.double(),n>>=ag;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=Ak(n,e),o=[];let a=r,l=a;for(let u=0;u<i;u++){l=a,o.push(l);for(let c=1;c<s;c++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(r,n,i){let s=t.ZERO,o=t.BASE;const a=Ak(r,e);for(let l=0;l<a.windows;l++){const{nextN:u,offset:c,isZero:h,isNeg:m,isNegF:y,offsetF:b}=GV(i,l,a);i=u,h?o=o.add(Ib(y,n[b])):s=s.add(Ib(m,n[c]))}return YV(i),{p:s,f:o}},wNAFUnsafe(r,n,i,s=t.ZERO){const o=Ak(r,e);for(let a=0;a<o.windows&&i!==rw;a++){const{nextN:l,offset:u,isZero:c,isNeg:h}=GV(i,a,o);if(i=l,!c){const m=n[u];s=s.add(h?m.negate():m)}}return YV(i),s},getPrecomputes(r,n,i){let s=Sk.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&(typeof i=="function"&&(s=i(s)),Sk.set(n,s))),s},wNAFCached(r,n,i){const s=Ck(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=Ck(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){_le(n,e),Ale.set(r,n),Sk.delete(r)}}}function dze(t,e,r,n){let i=e,s=t.ZERO,o=t.ZERO;for(;r>rw||n>rw;)r&ag&&(s=s.add(i)),n&ag&&(o=o.add(i)),i=i.double(),r>>=ag,n>>=ag;return{p1:s,p2:o}}function hze(t,e,r,n){lze(r,t),cze(n,e);const i=r.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=ZFe(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const u=R9(l),c=new Array(Number(u)+1).fill(o),h=Math.floor((e.BITS-1)/l)*l;let m=o;for(let y=h;y>=0;y-=l){c.fill(o);for(let E=0;E<s;E++){const A=n[E],M=Number(A>>BigInt(y)&u);c[M]=c[M].add(r[E])}let b=o;for(let E=c.length-1,A=o;E>0;E--)A=A.add(c[E]),b=b.add(A);if(m=m.add(b),y!==0)for(let E=0;E<l;E++)m=m.double()}return m}function ZV(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return nze(e),e}else return Bw(t)}function fze(t,e,r={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const o of["p","n","h"]){const a=e[o];if(!(typeof a=="bigint"&&a>rw))throw new Error(`CURVE.${o} must be positive bigint`)}const n=ZV(e.p,r.Fp),i=ZV(e.n,r.Fn),s=["Gx","Gy","a","b"];for(const o of s)if(!n.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:n,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const G2=BigInt(0),x1=BigInt(1),J4=BigInt(2);function pze(t){return O9(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function gze(t){const e=pze(t),{P:r,type:n,adjustScalarBytes:i,powPminus2:s,randomBytes:o}=e,a=n==="x25519";if(!a&&n!=="x448")throw new Error("invalid type");const l=o||rle,u=a?255:448,c=a?32:56,h=BigInt(a?9:5),m=BigInt(a?121665:39081),y=a?J4**BigInt(254):J4**BigInt(447),b=a?BigInt(8)*J4**BigInt(251)-x1:BigInt(4)*J4**BigInt(445)-x1,E=y+b+x1,A=N=>ec(N,r),M=O(h);function O(N){return Fj(A(N),c)}function P(N){const F=ba("u coordinate",N,c);return a&&(F[31]&=127),A(SE(F))}function z(N){return SE(i(ba("scalar",N,c)))}function L(N,F){const U=G(P(F),z(N));if(U===G2)throw new Error("invalid private or public key received");return O(U)}function W(N){return L(N,M)}function H(N,F,U){const j=A(N*(F-U));return F=A(F-j),U=A(U+j),{x_2:F,x_3:U}}function G(N,F){yP("u",N,G2,r),yP("scalar",F,y,E);const U=F,j=N;let _=x1,d=G2,g=N,x=x1,C=G2;for(let T=BigInt(u-1);T>=G2;T--){const R=U>>T&x1;C^=R,{x_2:_,x_3:g}=H(C,_,g),{x_2:d,x_3:x}=H(C,d,x),C=R;const I=_+d,f=A(I*I),S=_-d,K=A(S*S),D=f-K,J=g+x,ne=g-x,ie=A(ne*I),ce=A(J*S),Se=ie+ce,ye=ie-ce;g=A(Se*Se),x=A(j*A(ye*ye)),_=A(f*K),d=A(D*(f+A(m*D)))}({x_2:_,x_3:g}=H(C,_,g)),{x_2:d,x_3:x}=H(C,d,x);const k=s(d);return A(_*k)}return{scalarMult:L,scalarMultBase:W,getSharedSecret:(N,F)=>L(N,F),getPublicKey:N=>W(N),utils:{randomPrivateKey:()=>l(c)},GuBytes:M.slice()}}BigInt(0);const mze=BigInt(1),QV=BigInt(2),yze=BigInt(3),wze=BigInt(5);BigInt(8);const Sle={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function vze(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=Sle.p,o=t*t%s*t%s,a=Uc(o,QV,s)*o%s,l=Uc(a,mze,s)*t%s,u=Uc(l,wze,s)*l%s,c=Uc(u,e,s)*u%s,h=Uc(c,r,s)*c%s,m=Uc(h,n,s)*h%s,y=Uc(m,i,s)*m%s,b=Uc(y,i,s)*m%s,E=Uc(b,e,s)*u%s;return{pow_p_5_8:Uc(E,QV,s)*t%s,b2:o}}function bze(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}(()=>{const t=Sle.p;return gze({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:r,b2:n}=vze(e);return ec(Uc(r,yze,t)*n,t)},adjustScalarBytes:bze})})();function JV(t){t.lowS!==void 0&&AE("lowS",t.lowS),t.prehash!==void 0&&AE("prehash",t.prehash)}let xze=class extends Error{constructor(e=""){super(e)}};const wh={Err:xze,_tlv:{encode:(t,e)=>{const{Err:r}=wh;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=Q4(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?Q4(i.length/2|128):"";return Q4(t)+s+i+e},decode(t,e){const{Err:r}=wh;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const l=i&127;if(!l)throw new r("tlv.decode(long): indefinite length not supported");if(l>4)throw new r("tlv.decode(long): byte length is too big");const u=e.subarray(n,n+l);if(u.length!==l)throw new r("tlv.decode: length bytes not complete");if(u[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const c of u)o=o<<8|c;if(n+=l,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=wh;if(t<Tb)throw new e("integer: negative integers are not allowed");let r=Q4(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=wh;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return N9(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=wh,i=ba("signature",t),{v:s,l:o}=n.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=n.decode(2,s),{v:u,l:c}=n.decode(2,l);if(c.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(u)}},hexFromSig(t){const{_tlv:e,_int:r}=wh,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),s=n+i;return e.encode(48,s)}},Tb=BigInt(0),$b=BigInt(1),Eze=BigInt(2),X4=BigInt(3),_ze=BigInt(4);function Aze(t,e,r){function n(i){const s=t.sqr(i),o=t.mul(s,i);return t.add(t.add(o,t.mul(i,e)),r)}return n}function Cle(t,e,r){const{BYTES:n}=t;function i(s){let o;if(typeof s=="bigint")o=s;else{let a=ba("private key",s);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const l=new Uint8Array(n);l.set(a,l.length-a.length),a=l}try{o=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof s}`)}}if(r&&(o=t.create(o)),!t.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return i}function Sze(t,e={}){const{Fp:r,Fn:n}=fze("weierstrass",t,e),{h:i,n:s}=t;O9(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=e;if(o&&(!r.is0(t.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function l(G,N,F){const{x:U,y:j}=N.toAffine(),_=r.toBytes(U);if(AE("isCompressed",F),F){a();const d=!r.isOdd(j);return sg(kle(d),_)}else return sg(Uint8Array.of(4),_,r.toBytes(j))}function u(G){uc(G);const N=r.BYTES,F=N+1,U=2*N+1,j=G.length,_=G[0],d=G.subarray(1);if(j===F&&(_===2||_===3)){const g=r.fromBytes(d);if(!r.isValid(g))throw new Error("bad point: is not on curve, wrong x");const x=m(g);let C;try{C=r.sqrt(x)}catch(T){const R=T instanceof Error?": "+T.message:"";throw new Error("bad point: is not on curve, sqrt error"+R)}a();const k=r.isOdd(C);return(_&1)===1!==k&&(C=r.neg(C)),{x:g,y:C}}else if(j===U&&_===4){const g=r.fromBytes(d.subarray(N*0,N*1)),x=r.fromBytes(d.subarray(N*1,N*2));if(!y(g,x))throw new Error("bad point: is not on curve");return{x:g,y:x}}else throw new Error(`bad point: got length ${j}, expected compressed=${F} or uncompressed=${U}`)}const c=e.toBytes||l,h=e.fromBytes||u,m=Aze(r,t.a,t.b);function y(G,N){const F=r.sqr(N),U=m(G);return r.eql(F,U)}if(!y(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const b=r.mul(r.pow(t.a,X4),_ze),E=r.mul(r.sqr(t.b),BigInt(27));if(r.is0(r.add(b,E)))throw new Error("bad curve params: a or b");function A(G,N,F=!1){if(!r.isValid(N)||F&&r.is0(N))throw new Error(`bad point coordinate ${G}`);return N}function M(G){if(!(G instanceof L))throw new Error("ProjectivePoint expected")}const O=HV((G,N)=>{const{px:F,py:U,pz:j}=G;if(r.eql(j,r.ONE))return{x:F,y:U};const _=G.is0();N==null&&(N=_?r.ONE:r.inv(j));const d=r.mul(F,N),g=r.mul(U,N),x=r.mul(j,N);if(_)return{x:r.ZERO,y:r.ZERO};if(!r.eql(x,r.ONE))throw new Error("invZ was invalid");return{x:d,y:g}}),P=HV(G=>{if(G.is0()){if(e.allowInfinityPoint&&!r.is0(G.py))return;throw new Error("bad point: ZERO")}const{x:N,y:F}=G.toAffine();if(!r.isValid(N)||!r.isValid(F))throw new Error("bad point: x or y not field elements");if(!y(N,F))throw new Error("bad point: equation left != right");if(!G.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function z(G,N,F,U,j){return F=new L(r.mul(F.px,G),F.py,F.pz),N=Ib(U,N),F=Ib(j,F),N.add(F)}class L{constructor(N,F,U){this.px=A("x",N),this.py=A("y",F,!0),this.pz=A("z",U),Object.freeze(this)}static fromAffine(N){const{x:F,y:U}=N||{};if(!N||!r.isValid(F)||!r.isValid(U))throw new Error("invalid affine point");if(N instanceof L)throw new Error("projective point not allowed");return r.is0(F)&&r.is0(U)?L.ZERO:new L(F,U,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(N){return aze(L,"pz",N)}static fromBytes(N){return uc(N),L.fromHex(N)}static fromHex(N){const F=L.fromAffine(h(ba("pointHex",N)));return F.assertValidity(),F}static fromPrivateKey(N){const F=Cle(n,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return L.BASE.multiply(F(N))}static msm(N,F){return hze(L,n,N,F)}precompute(N=8,F=!0){return H.setWindowSize(this,N),F||this.multiply(X4),this}_setWindowSize(N){this.precompute(N)}assertValidity(){P(this)}hasEvenY(){const{y:N}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(N)}equals(N){M(N);const{px:F,py:U,pz:j}=this,{px:_,py:d,pz:g}=N,x=r.eql(r.mul(F,g),r.mul(_,j)),C=r.eql(r.mul(U,g),r.mul(d,j));return x&&C}negate(){return new L(this.px,r.neg(this.py),this.pz)}double(){const{a:N,b:F}=t,U=r.mul(F,X4),{px:j,py:_,pz:d}=this;let g=r.ZERO,x=r.ZERO,C=r.ZERO,k=r.mul(j,j),T=r.mul(_,_),R=r.mul(d,d),I=r.mul(j,_);return I=r.add(I,I),C=r.mul(j,d),C=r.add(C,C),g=r.mul(N,C),x=r.mul(U,R),x=r.add(g,x),g=r.sub(T,x),x=r.add(T,x),x=r.mul(g,x),g=r.mul(I,g),C=r.mul(U,C),R=r.mul(N,R),I=r.sub(k,R),I=r.mul(N,I),I=r.add(I,C),C=r.add(k,k),k=r.add(C,k),k=r.add(k,R),k=r.mul(k,I),x=r.add(x,k),R=r.mul(_,d),R=r.add(R,R),k=r.mul(R,I),g=r.sub(g,k),C=r.mul(R,T),C=r.add(C,C),C=r.add(C,C),new L(g,x,C)}add(N){M(N);const{px:F,py:U,pz:j}=this,{px:_,py:d,pz:g}=N;let x=r.ZERO,C=r.ZERO,k=r.ZERO;const T=t.a,R=r.mul(t.b,X4);let I=r.mul(F,_),f=r.mul(U,d),S=r.mul(j,g),K=r.add(F,U),D=r.add(_,d);K=r.mul(K,D),D=r.add(I,f),K=r.sub(K,D),D=r.add(F,j);let J=r.add(_,g);return D=r.mul(D,J),J=r.add(I,S),D=r.sub(D,J),J=r.add(U,j),x=r.add(d,g),J=r.mul(J,x),x=r.add(f,S),J=r.sub(J,x),k=r.mul(T,D),x=r.mul(R,S),k=r.add(x,k),x=r.sub(f,k),k=r.add(f,k),C=r.mul(x,k),f=r.add(I,I),f=r.add(f,I),S=r.mul(T,S),D=r.mul(R,D),f=r.add(f,S),S=r.sub(I,S),S=r.mul(T,S),D=r.add(D,S),I=r.mul(f,D),C=r.add(C,I),I=r.mul(J,D),x=r.mul(K,x),x=r.sub(x,I),I=r.mul(K,f),k=r.mul(J,k),k=r.add(k,I),new L(x,C,k)}subtract(N){return this.add(N.negate())}is0(){return this.equals(L.ZERO)}multiply(N){const{endo:F}=e;if(!n.isValidNot0(N))throw new Error("invalid scalar: out of range");let U,j;const _=d=>H.wNAFCached(this,d,L.normalizeZ);if(F){const{k1neg:d,k1:g,k2neg:x,k2:C}=F.splitScalar(N),{p:k,f:T}=_(g),{p:R,f:I}=_(C);j=T.add(I),U=z(F.beta,k,R,d,x)}else{const{p:d,f:g}=_(N);U=d,j=g}return L.normalizeZ([U,j])[0]}multiplyUnsafe(N){const{endo:F}=e,U=this;if(!n.isValid(N))throw new Error("invalid scalar: out of range");if(N===Tb||U.is0())return L.ZERO;if(N===$b)return U;if(H.hasPrecomputes(this))return this.multiply(N);if(F){const{k1neg:j,k1:_,k2neg:d,k2:g}=F.splitScalar(N),{p1:x,p2:C}=dze(L,U,_,g);return z(F.beta,x,C,j,d)}else return H.wNAFCachedUnsafe(U,N)}multiplyAndAddUnsafe(N,F,U){const j=this.multiplyUnsafe(F).add(N.multiplyUnsafe(U));return j.is0()?void 0:j}toAffine(N){return O(this,N)}isTorsionFree(){const{isTorsionFree:N}=e;return i===$b?!0:N?N(L,this):H.wNAFCachedUnsafe(this,s).is0()}clearCofactor(){const{clearCofactor:N}=e;return i===$b?this:N?N(L,this):this.multiplyUnsafe(i)}toBytes(N=!0){return AE("isCompressed",N),this.assertValidity(),c(L,this,N)}toRawBytes(N=!0){return this.toBytes(N)}toHex(N=!0){return J3(this.toBytes(N))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}L.BASE=new L(t.Gx,t.Gy,r.ONE),L.ZERO=new L(r.ZERO,r.ONE,r.ZERO),L.Fp=r,L.Fn=n;const W=n.BITS,H=uze(L,e.endo?Math.ceil(W/2):W);return L}function kle(t){return Uint8Array.of(t?2:3)}function Cze(t,e,r={}){O9(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const n=e.randomBytes||rle,i=e.hmac||((U,...j)=>ple(e.hash,U,sg(...j))),{Fp:s,Fn:o}=t,{ORDER:a,BITS:l}=o;function u(U){const j=a>>$b;return U>j}function c(U){return u(U)?o.neg(U):U}function h(U,j){if(!o.isValidNot0(j))throw new Error(`invalid signature ${U}: out of range 1..CURVE.n`)}class m{constructor(j,_,d){h("r",j),h("s",_),this.r=j,this.s=_,d!=null&&(this.recovery=d),Object.freeze(this)}static fromCompact(j){const _=o.BYTES,d=ba("compactSignature",j,_*2);return new m(o.fromBytes(d.subarray(0,_)),o.fromBytes(d.subarray(_,_*2)))}static fromDER(j){const{r:_,s:d}=wh.toSig(ba("DER",j));return new m(_,d)}assertValidity(){}addRecoveryBit(j){return new m(this.r,this.s,j)}recoverPublicKey(j){const _=s.ORDER,{r:d,s:g,recovery:x}=this;if(x==null||![0,1,2,3].includes(x))throw new Error("recovery id invalid");if(a*Eze<_&&x>1)throw new Error("recovery id is ambiguous for h>1 curve");const C=x===2||x===3?d+a:d;if(!s.isValid(C))throw new Error("recovery id 2 or 3 invalid");const k=s.toBytes(C),T=t.fromHex(sg(kle((x&1)===0),k)),R=o.inv(C),I=P(ba("msgHash",j)),f=o.create(-I*R),S=o.create(g*R),K=t.BASE.multiplyUnsafe(f).add(T.multiplyUnsafe(S));if(K.is0())throw new Error("point at infinify");return K.assertValidity(),K}hasHighS(){return u(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,o.neg(this.s),this.recovery):this}toBytes(j){if(j==="compact")return sg(o.toBytes(this.r),o.toBytes(this.s));if(j==="der")return Lj(wh.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return J3(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return J3(this.toBytes("compact"))}}const y=Cle(o,r.allowedPrivateKeyLengths,r.wrapPrivateKey),b={isValidPrivateKey(U){try{return y(U),!0}catch{return!1}},normPrivateKeyToScalar:y,randomPrivateKey:()=>{const U=a;return oze(n(Ele(U)),U)},precompute(U=8,j=t.BASE){return j.precompute(U,!1)}};function E(U,j=!0){return t.fromPrivateKey(U).toBytes(j)}function A(U){if(typeof U=="bigint")return!1;if(U instanceof t)return!0;const j=ba("key",U).length,_=s.BYTES,d=_+1,g=2*_+1;if(!(r.allowedPrivateKeyLengths||o.BYTES===d))return j===d||j===g}function M(U,j,_=!0){if(A(U)===!0)throw new Error("first arg must be private key");if(A(j)===!1)throw new Error("second arg must be public key");return t.fromHex(j).multiply(y(U)).toBytes(_)}const O=e.bits2int||function(U){if(U.length>8192)throw new Error("input is too large");const j=N9(U),_=U.length*8-l;return _>0?j>>BigInt(_):j},P=e.bits2int_modN||function(U){return o.create(O(U))},z=R9(l);function L(U){return yP("num < 2^"+l,U,Tb,z),o.toBytes(U)}function W(U,j,_=H){if(["recovered","canonical"].some(K=>K in _))throw new Error("sign() legacy options not supported");const{hash:d}=e;let{lowS:g,prehash:x,extraEntropy:C}=_;g==null&&(g=!0),U=ba("msgHash",U),JV(_),x&&(U=ba("prehashed msgHash",d(U)));const k=P(U),T=y(j),R=[L(T),L(k)];if(C!=null&&C!==!1){const K=C===!0?n(s.BYTES):C;R.push(ba("extraEntropy",K))}const I=sg(...R),f=k;function S(K){const D=O(K);if(!o.isValidNot0(D))return;const J=o.inv(D),ne=t.BASE.multiply(D).toAffine(),ie=o.create(ne.x);if(ie===Tb)return;const ce=o.create(J*o.create(f+ie*T));if(ce===Tb)return;let Se=(ne.x===ie?0:2)|Number(ne.y&$b),ye=ce;return g&&u(ce)&&(ye=c(ce),Se^=1),new m(ie,ye,Se)}return{seed:I,k2sig:S}}const H={lowS:e.lowS,prehash:!1},G={lowS:e.lowS,prehash:!1};function N(U,j,_=H){const{seed:d,k2sig:g}=W(U,j,_);return QFe(e.hash.outputLen,o.BYTES,i)(d,g)}t.BASE.precompute(8);function F(U,j,_,d=G){const g=U;j=ba("msgHash",j),_=ba("publicKey",_),JV(d);const{lowS:x,prehash:C,format:k}=d;if("strict"in d)throw new Error("options.strict was renamed to lowS");if(k!==void 0&&!["compact","der","js"].includes(k))throw new Error('format must be "compact", "der" or "js"');const T=typeof g=="string"||Oj(g),R=!T&&!k&&typeof g=="object"&&g!==null&&typeof g.r=="bigint"&&typeof g.s=="bigint";if(!T&&!R)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let I,f;try{if(R)if(k===void 0||k==="js")I=new m(g.r,g.s);else throw new Error("invalid format");if(T){try{k!=="compact"&&(I=m.fromDER(g))}catch(Se){if(!(Se instanceof wh.Err))throw Se}!I&&k!=="der"&&(I=m.fromCompact(g))}f=t.fromHex(_)}catch{return!1}if(!I||x&&I.hasHighS())return!1;C&&(j=e.hash(j));const{r:S,s:K}=I,D=P(j),J=o.inv(K),ne=o.create(D*J),ie=o.create(S*J),ce=t.BASE.multiplyUnsafe(ne).add(f.multiplyUnsafe(ie));return ce.is0()?!1:o.create(ce.x)===S}return Object.freeze({getPublicKey:E,getSharedSecret:M,sign:N,verify:F,utils:b,Point:t,Signature:m})}function kze(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp,n=Bw(e.n,t.nBitLength),i={Fp:r,Fn:n,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function Ize(t){const{CURVE:e,curveOpts:r}=kze(t),n={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:r,ecdsaOpts:n}}function Tze(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function $ze(t){const{CURVE:e,curveOpts:r,ecdsaOpts:n}=Ize(t),i=Sze(e,r),s=Cze(i,n,r);return Tze(t,s)}function wP(t,e){const r=n=>$ze({...t,hash:n});return{...r(e),create:r}}const Ile={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},Tle={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},$le={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},Mze=Bw(Ile.p),Pze=Bw(Tle.p),Nze=Bw($le.p);wP({...Ile,Fp:Mze,lowS:!1},wFe);wP({...Tle,Fp:Pze,lowS:!1},bFe),wP({...$le,Fp:Nze,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},vFe);const Rze={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}};function Oze(t,e){const{message:r,code:n}=Rze[t];return{message:r,code:n}}function vP(t,e){return!!Array.isArray(t)}class mm{}let jze=class extends mm{constructor(e){super()}};const XV=Tt.FIVE_SECONDS,ym={pulse:"heartbeat_pulse"};let Lze=class Mle extends jze{constructor(e){super(e),this.events=new Pl.EventEmitter,this.interval=XV,this.interval=e?.interval||XV}static async init(e){const r=new Mle(e);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),Tt.toMiliseconds(this.interval))}pulse(){this.events.emit(ym.pulse)}};function Dze(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function ys(t,...e){try{return Dze(t(...e))}catch(r){return Promise.reject(r)}}function Bze(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function Uze(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function c8(t){if(Bze(t))return String(t);if(Uze(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return c8(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const bP="base64:";function Fze(t){return typeof t=="string"?t:bP+qze(t)}function zze(t){return typeof t!="string"||!t.startsWith(bP)?t:Wze(t.slice(bP.length))}function Wze(t){return globalThis.Buffer?kt.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function qze(t){return globalThis.Buffer?kt.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function wa(t){return t&&t.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function Hze(...t){return wa(t.join(":"))}function ex(t){return t=wa(t),t?t+":":""}function Vze(t,e){if(e===void 0)return!0;let r=0,n=t.indexOf(":");for(;n>-1;)r++,n=t.indexOf(":",n+1);return r<=e}function Kze(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const Gze="memory",Yze=()=>{const t=new Map;return{name:Gze,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function Zze(t={}){const e={mounts:{"":t.driver||Yze()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=u=>{for(const c of e.mountpoints)if(u.startsWith(c))return{base:c,relativeKey:u.slice(c.length),driver:e.mounts[c]};return{base:"",relativeKey:u,driver:e.mounts[""]}},n=(u,c)=>e.mountpoints.filter(h=>h.startsWith(u)||c&&u.startsWith(h)).map(h=>({relativeBase:u.length>h.length?u.slice(h.length):void 0,mountpoint:h,driver:e.mounts[h]})),i=(u,c)=>{if(e.watching){c=wa(c);for(const h of e.watchListeners)h(u,c)}},s=async()=>{if(!e.watching){e.watching=!0;for(const u in e.mounts)e.unwatch[u]=await eK(e.mounts[u],i,u)}},o=async()=>{if(e.watching){for(const u in e.unwatch)await e.unwatch[u]();e.unwatch={},e.watching=!1}},a=(u,c,h)=>{const m=new Map,y=b=>{let E=m.get(b.base);return E||(E={driver:b.driver,base:b.base,items:[]},m.set(b.base,E)),E};for(const b of u){const E=typeof b=="string",A=wa(E?b:b.key),M=E?void 0:b.value,O=E||!b.options?c:{...c,...b.options},P=r(A);y(P).items.push({key:A,value:M,relativeKey:P.relativeKey,options:O})}return Promise.all([...m.values()].map(b=>h(b))).then(b=>b.flat())},l={hasItem(u,c={}){u=wa(u);const{relativeKey:h,driver:m}=r(u);return ys(m.hasItem,h,c)},getItem(u,c={}){u=wa(u);const{relativeKey:h,driver:m}=r(u);return ys(m.getItem,h,c).then(y=>Gv(y))},getItems(u,c={}){return a(u,c,h=>h.driver.getItems?ys(h.driver.getItems,h.items.map(m=>({key:m.relativeKey,options:m.options})),c).then(m=>m.map(y=>({key:Hze(h.base,y.key),value:Gv(y.value)}))):Promise.all(h.items.map(m=>ys(h.driver.getItem,m.relativeKey,m.options).then(y=>({key:m.key,value:Gv(y)})))))},getItemRaw(u,c={}){u=wa(u);const{relativeKey:h,driver:m}=r(u);return m.getItemRaw?ys(m.getItemRaw,h,c):ys(m.getItem,h,c).then(y=>zze(y))},async setItem(u,c,h={}){if(c===void 0)return l.removeItem(u);u=wa(u);const{relativeKey:m,driver:y}=r(u);y.setItem&&(await ys(y.setItem,m,c8(c),h),y.watch||i("update",u))},async setItems(u,c){await a(u,c,async h=>{if(h.driver.setItems)return ys(h.driver.setItems,h.items.map(m=>({key:m.relativeKey,value:c8(m.value),options:m.options})),c);h.driver.setItem&&await Promise.all(h.items.map(m=>ys(h.driver.setItem,m.relativeKey,c8(m.value),m.options)))})},async setItemRaw(u,c,h={}){if(c===void 0)return l.removeItem(u,h);u=wa(u);const{relativeKey:m,driver:y}=r(u);if(y.setItemRaw)await ys(y.setItemRaw,m,c,h);else if(y.setItem)await ys(y.setItem,m,Fze(c),h);else return;y.watch||i("update",u)},async removeItem(u,c={}){typeof c=="boolean"&&(c={removeMeta:c}),u=wa(u);const{relativeKey:h,driver:m}=r(u);m.removeItem&&(await ys(m.removeItem,h,c),(c.removeMeta||c.removeMata)&&await ys(m.removeItem,h+"$",c),m.watch||i("remove",u))},async getMeta(u,c={}){typeof c=="boolean"&&(c={nativeOnly:c}),u=wa(u);const{relativeKey:h,driver:m}=r(u),y=Object.create(null);if(m.getMeta&&Object.assign(y,await ys(m.getMeta,h,c)),!c.nativeOnly){const b=await ys(m.getItem,h+"$",c).then(E=>Gv(E));b&&typeof b=="object"&&(typeof b.atime=="string"&&(b.atime=new Date(b.atime)),typeof b.mtime=="string"&&(b.mtime=new Date(b.mtime)),Object.assign(y,b))}return y},setMeta(u,c,h={}){return this.setItem(u+"$",c,h)},removeMeta(u,c={}){return this.removeItem(u+"$",c)},async getKeys(u,c={}){u=ex(u);const h=n(u,!0);let m=[];const y=[];let b=!0;for(const A of h){A.driver.flags?.maxDepth||(b=!1);const M=await ys(A.driver.getKeys,A.relativeBase,c);for(const O of M){const P=A.mountpoint+wa(O);m.some(z=>P.startsWith(z))||y.push(P)}m=[A.mountpoint,...m.filter(O=>!O.startsWith(A.mountpoint))]}const E=c.maxDepth!==void 0&&!b;return y.filter(A=>(!E||Vze(A,c.maxDepth))&&Kze(A,u))},async clear(u,c={}){u=ex(u),await Promise.all(n(u,!1).map(async h=>{if(h.driver.clear)return ys(h.driver.clear,h.relativeBase,c);if(h.driver.removeItem){const m=await h.driver.getKeys(h.relativeBase||"",c);return Promise.all(m.map(y=>h.driver.removeItem(y,c)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(u=>tK(u)))},async watch(u){return await s(),e.watchListeners.push(u),async()=>{e.watchListeners=e.watchListeners.filter(c=>c!==u),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(u,c){if(u=ex(u),u&&e.mounts[u])throw new Error(`already mounted at ${u}`);return u&&(e.mountpoints.push(u),e.mountpoints.sort((h,m)=>m.length-h.length)),e.mounts[u]=c,e.watching&&Promise.resolve(eK(c,i,u)).then(h=>{e.unwatch[u]=h}).catch(console.error),l},async unmount(u,c=!0){u=ex(u),!(!u||!e.mounts[u])&&(e.watching&&u in e.unwatch&&(e.unwatch[u]?.(),delete e.unwatch[u]),c&&await tK(e.mounts[u]),e.mountpoints=e.mountpoints.filter(h=>h!==u),delete e.mounts[u])},getMount(u=""){u=wa(u)+":";const c=r(u);return{driver:c.driver,base:c.base}},getMounts(u="",c={}){return u=wa(u),n(u,c.parents).map(m=>({driver:m.driver,base:m.mountpoint}))},keys:(u,c={})=>l.getKeys(u,c),get:(u,c={})=>l.getItem(u,c),set:(u,c,h={})=>l.setItem(u,c,h),has:(u,c={})=>l.hasItem(u,c),del:(u,c={})=>l.removeItem(u,c),remove:(u,c={})=>l.removeItem(u,c)};return l}function eK(t,e,r){return t.watch?t.watch((n,i)=>e(n,r+i)):()=>{}}async function tK(t){typeof t.dispose=="function"&&await ys(t.dispose)}function wm(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function Ple(t,e){const r=indexedDB.open(t);r.onupgradeneeded=()=>r.result.createObjectStore(e);const n=wm(r);return(i,s)=>n.then(o=>s(o.transaction(e,i).objectStore(e)))}let kk;function G5(){return kk||(kk=Ple("keyval-store","keyval")),kk}function rK(t,e=G5()){return e("readonly",r=>wm(r.get(t)))}function Qze(t,e,r=G5()){return r("readwrite",n=>(n.put(e,t),wm(n.transaction)))}function Jze(t,e=G5()){return e("readwrite",r=>(r.delete(t),wm(r.transaction)))}function Xze(t=G5()){return t("readwrite",e=>(e.clear(),wm(e.transaction)))}function eWe(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},wm(t.transaction)}function tWe(t=G5()){return t("readonly",e=>{if(e.getAllKeys)return wm(e.getAllKeys());const r=[];return eWe(e,n=>r.push(n.key)).then(()=>r)})}const rWe="idb-keyval";var nWe=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",r=i=>e+i;let n;return t.dbName&&t.storeName&&(n=Ple(t.dbName,t.storeName)),{name:rWe,options:t,async hasItem(i){return!(typeof await rK(r(i),n)>"u")},async getItem(i){return await rK(r(i),n)??null},setItem(i,s){return Qze(r(i),s,n)},removeItem(i){return Jze(r(i),n)},getKeys(){return tWe(n)},clear(){return Xze(n)}}};const iWe="WALLET_CONNECT_V2_INDEXED_DB",sWe="keyvaluestorage";let oWe=class{constructor(){this.indexedDb=Zze({driver:nWe({dbName:iWe,storeName:sWe})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,Vh(r))}async removeItem(e){await this.indexedDb.removeItem(e)}};var Ik=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},u8={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Ik<"u"&&Ik.localStorage?u8.exports=Ik.localStorage:typeof window<"u"&&window.localStorage?u8.exports=window.localStorage:u8.exports=new e})();function aWe(t){var e;return[t[0],Hg((e=t[1])!=null?e:"")]}let lWe=class{constructor(){this.localStorage=u8.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(aWe)}async getItem(e){const r=this.localStorage.getItem(e);if(r!==null)return Hg(r)}async setItem(e,r){this.localStorage.setItem(e,Vh(r))}async removeItem(e){this.localStorage.removeItem(e)}};const cWe="wc_storage_version",nK=1,uWe=async(t,e,r)=>{const n=cWe,i=await e.getItem(n);if(i&&i>=nK){r(e);return}const s=await t.getKeys();if(!s.length){r(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const l=a.toLowerCase();if(l.includes("wc@")||l.includes("walletconnect")||l.includes("wc_")||l.includes("wallet_connect")){const u=await t.getItem(a);await e.setItem(a,u),o.push(a)}}await e.setItem(n,nK),r(e),dWe(t,o)},dWe=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})};let hWe=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const e=new lWe;this.storage=e;try{const r=new oWe;uWe(e,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}};var Tk,iK;function fWe(){if(iK)return Tk;iK=1;function t(r){try{return JSON.stringify(r)}catch{return'"[Circular]"'}}Tk=e;function e(r,n,i){var s=i&&i.stringify||t,o=1;if(typeof r=="object"&&r!==null){var a=n.length+o;if(a===1)return r;var l=new Array(a);l[0]=s(r);for(var u=1;u<a;u++)l[u]=s(n[u]);return l.join(" ")}if(typeof r!="string")return r;var c=n.length;if(c===0)return r;for(var h="",m=1-o,y=-1,b=r&&r.length||0,E=0;E<b;){if(r.charCodeAt(E)===37&&E+1<b){switch(y=y>-1?y:0,r.charCodeAt(E+1)){case 100:case 102:if(m>=c||n[m]==null)break;y<E&&(h+=r.slice(y,E)),h+=Number(n[m]),y=E+2,E++;break;case 105:if(m>=c||n[m]==null)break;y<E&&(h+=r.slice(y,E)),h+=Math.floor(Number(n[m])),y=E+2,E++;break;case 79:case 111:case 106:if(m>=c||n[m]===void 0)break;y<E&&(h+=r.slice(y,E));var A=typeof n[m];if(A==="string"){h+="'"+n[m]+"'",y=E+2,E++;break}if(A==="function"){h+=n[m].name||"<anonymous>",y=E+2,E++;break}h+=s(n[m]),y=E+2,E++;break;case 115:if(m>=c)break;y<E&&(h+=r.slice(y,E)),h+=String(n[m]),y=E+2,E++;break;case 37:y<E&&(h+=r.slice(y,E)),h+="%",y=E+2,E++,m--;break}++m}++E}return y===-1?r:(y<b&&(h+=r.slice(y)),h)}return Tk}var $k,sK;function pWe(){if(sK)return $k;sK=1;const t=fWe();$k=i;const e=L().console||{},r={mapHttpRequest:b,mapHttpResponse:b,wrapRequestSerializer:E,wrapResponseSerializer:E,wrapErrorSerializer:E,req:b,res:b,err:m};function n(W,H){return Array.isArray(W)?W.filter(function(N){return N!=="!stdSerializers.err"}):W===!0?Object.keys(H):!1}function i(W){W=W||{},W.browser=W.browser||{};const H=W.browser.transmit;if(H&&typeof H.send!="function")throw Error("pino: transmit option must have a send function");const G=W.browser.write||e;W.browser.write&&(W.browser.asObject=!0);const N=W.serializers||{},F=n(W.browser.serialize,N);let U=W.browser.serialize;Array.isArray(W.browser.serialize)&&W.browser.serialize.indexOf("!stdSerializers.err")>-1&&(U=!1);const j=["error","fatal","warn","info","debug","trace"];typeof G=="function"&&(G.error=G.fatal=G.warn=G.info=G.debug=G.trace=G),W.enabled===!1&&(W.level="silent");const _=W.level||"info",d=Object.create(G);d.log||(d.log=A),Object.defineProperty(d,"levelVal",{get:x}),Object.defineProperty(d,"level",{get:C,set:k});const g={transmit:H,serialize:F,asObject:W.browser.asObject,levels:j,timestamp:y(W)};d.levels=i.levels,d.level=_,d.setMaxListeners=d.getMaxListeners=d.emit=d.addListener=d.on=d.prependListener=d.once=d.prependOnceListener=d.removeListener=d.removeAllListeners=d.listeners=d.listenerCount=d.eventNames=d.write=d.flush=A,d.serializers=N,d._serialize=F,d._stdErrSerialize=U,d.child=T,H&&(d._logEvent=h());function x(){return this.level==="silent"?1/0:this.levels.values[this.level]}function C(){return this._level}function k(R){if(R!=="silent"&&!this.levels.values[R])throw Error("unknown level "+R);this._level=R,s(g,d,"error","log"),s(g,d,"fatal","error"),s(g,d,"warn","error"),s(g,d,"info","log"),s(g,d,"debug","log"),s(g,d,"trace","log")}function T(R,I){if(!R)throw new Error("missing bindings for child Pino");I=I||{},F&&R.serializers&&(I.serializers=R.serializers);const f=I.serializers;if(F&&f){var S=Object.assign({},N,f),K=W.browser.serialize===!0?Object.keys(S):F;delete R.serializers,l([R],K,S,this._stdErrSerialize)}function D(J){this._childLevel=(J._childLevel|0)+1,this.error=u(J,R,"error"),this.fatal=u(J,R,"fatal"),this.warn=u(J,R,"warn"),this.info=u(J,R,"info"),this.debug=u(J,R,"debug"),this.trace=u(J,R,"trace"),S&&(this.serializers=S,this._serialize=K),H&&(this._logEvent=h([].concat(J._logEvent.bindings,R)))}return D.prototype=this,new D(this)}return d}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=r,i.stdTimeFunctions=Object.assign({},{nullTime:M,epochTime:O,unixTime:P,isoTime:z});function s(W,H,G,N){const F=Object.getPrototypeOf(H);H[G]=H.levelVal>H.levels.values[G]?A:F[G]?F[G]:e[G]||e[N]||A,o(W,H,G)}function o(W,H,G){!W.transmit&&H[G]===A||(H[G]=(function(N){return function(){const U=W.timestamp(),j=new Array(arguments.length),_=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var d=0;d<j.length;d++)j[d]=arguments[d];if(W.serialize&&!W.asObject&&l(j,this._serialize,this.serializers,this._stdErrSerialize),W.asObject?N.call(_,a(this,G,j,U)):N.apply(_,j),W.transmit){const g=W.transmit.level||H.level,x=i.levels.values[g],C=i.levels.values[G];if(C<x)return;c(this,{ts:U,methodLevel:G,methodValue:C,transmitValue:i.levels.values[W.transmit.level||H.level],send:W.transmit.send,val:H.levelVal},j)}}})(H[G]))}function a(W,H,G,N){W._serialize&&l(G,W._serialize,W.serializers,W._stdErrSerialize);const F=G.slice();let U=F[0];const j={};N&&(j.time=N),j.level=i.levels.values[H];let _=(W._childLevel|0)+1;if(_<1&&(_=1),U!==null&&typeof U=="object"){for(;_--&&typeof F[0]=="object";)Object.assign(j,F.shift());U=F.length?t(F.shift(),F):void 0}else typeof U=="string"&&(U=t(F.shift(),F));return U!==void 0&&(j.msg=U),j}function l(W,H,G,N){for(const F in W)if(N&&W[F]instanceof Error)W[F]=i.stdSerializers.err(W[F]);else if(typeof W[F]=="object"&&!Array.isArray(W[F]))for(const U in W[F])H&&H.indexOf(U)>-1&&U in G&&(W[F][U]=G[U](W[F][U]))}function u(W,H,G){return function(){const N=new Array(1+arguments.length);N[0]=H;for(var F=1;F<N.length;F++)N[F]=arguments[F-1];return W[G].apply(this,N)}}function c(W,H,G){const N=H.send,F=H.ts,U=H.methodLevel,j=H.methodValue,_=H.val,d=W._logEvent.bindings;l(G,W._serialize||Object.keys(W.serializers),W.serializers,W._stdErrSerialize===void 0?!0:W._stdErrSerialize),W._logEvent.ts=F,W._logEvent.messages=G.filter(function(g){return d.indexOf(g)===-1}),W._logEvent.level.label=U,W._logEvent.level.value=j,N(U,W._logEvent,_),W._logEvent=h(d)}function h(W){return{ts:0,messages:[],bindings:W||[],level:{label:"",value:0}}}function m(W){const H={type:W.constructor.name,msg:W.message,stack:W.stack};for(const G in W)H[G]===void 0&&(H[G]=W[G]);return H}function y(W){return typeof W.timestamp=="function"?W.timestamp:W.timestamp===!1?M:O}function b(){return{}}function E(W){return W}function A(){}function M(){return!1}function O(){return Date.now()}function P(){return Math.round(Date.now()/1e3)}function z(){return new Date(Date.now()).toISOString()}function L(){function W(H){return typeof H<"u"&&H}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return W(self)||W(window)||W(this)||{}}}return $k}var Q1=pWe();const Y5=ds(Q1),gWe={level:"info"},Z5="custom_context",zj=1e3*1024;let mWe=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},oK=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const r=new mWe(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const r=e.value;return e=e.next,{done:!1,value:r}}}}},Nle=class{constructor(e,r=zj){this.level=e??"error",this.levelValue=Q1.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new oK(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===Q1.levels.values.error?console.error(e):r===Q1.levels.values.warn?console.warn(e):r===Q1.levels.values.debug?console.debug(e):r===Q1.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Vh({timestamp:new Date().toISOString(),log:e}));const r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new oK(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const r=this.getLogArray();return r.push(Vh({extraMetadata:e})),new Blob(r,{type:"application/json"})}},yWe=class{constructor(e,r=zj){this.baseChunkLogger=new Nle(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const r=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}},wWe=class{constructor(e,r=zj){this.baseChunkLogger=new Nle(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var vWe=Object.defineProperty,bWe=Object.defineProperties,xWe=Object.getOwnPropertyDescriptors,aK=Object.getOwnPropertySymbols,EWe=Object.prototype.hasOwnProperty,_We=Object.prototype.propertyIsEnumerable,lK=(t,e,r)=>e in t?vWe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,CE=(t,e)=>{for(var r in e||(e={}))EWe.call(e,r)&&lK(t,r,e[r]);if(aK)for(var r of aK(e))_We.call(e,r)&&lK(t,r,e[r]);return t},kE=(t,e)=>bWe(t,xWe(e));function j9(t){return kE(CE({},t),{level:t?.level||gWe.level})}function AWe(t,e=Z5){return t[e]||""}function SWe(t,e,r=Z5){return t[r]=e,t}function Ya(t,e=Z5){let r="";return typeof t.bindings>"u"?r=AWe(t,e):r=t.bindings().context||"",r}function CWe(t,e,r=Z5){const n=Ya(t,r);return n.trim()?`${n}/${e}`:e}function oa(t,e,r=Z5){const n=CWe(t,e,r),i=t.child({context:n});return SWe(i,n,r)}function kWe(t){var e,r;const n=new yWe((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Y5(kE(CE({},t.opts),{level:"trace",browser:kE(CE({},(r=t.opts)==null?void 0:r.browser),{write:i=>n.write(i)})})),chunkLoggerController:n}}function IWe(t){var e;const r=new wWe((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Y5(kE(CE({},t.opts),{level:"trace"}),r),chunkLoggerController:r}}function TWe(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?kWe(t):IWe(t)}var $We=Object.defineProperty,MWe=(t,e,r)=>e in t?$We(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,cK=(t,e,r)=>MWe(t,typeof e!="symbol"?e+"":e,r);let PWe=class extends mm{constructor(e){super(),this.opts=e,cK(this,"protocol","wc"),cK(this,"version",2)}};var NWe=Object.defineProperty,RWe=(t,e,r)=>e in t?NWe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,OWe=(t,e,r)=>RWe(t,e+"",r);let jWe=class extends mm{constructor(e,r){super(),this.core=e,this.logger=r,OWe(this,"records",new Map)}},LWe=class{constructor(e,r){this.logger=e,this.core=r}};class DWe extends mm{constructor(e,r){super(),this.relayer=e,this.logger=r}}let BWe=class extends mm{constructor(e){super()}},UWe=class{constructor(e,r,n,i){this.core=e,this.logger=r,this.name=n}},FWe=class extends mm{constructor(e,r){super(),this.relayer=e,this.logger=r}},zWe=class extends mm{constructor(e,r){super(),this.core=e,this.logger=r}},WWe=class{constructor(e,r,n){this.core=e,this.logger=r,this.store=n}},qWe=class{constructor(e,r){this.projectId=e,this.logger=r}},HWe=class{constructor(e,r,n){this.core=e,this.logger=r,this.telemetryEnabled=n}};function Wj(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Rle(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Wj(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Mb(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=Rle(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return Wj(r)}function Ole(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const uK=Ole("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Mk=Ole("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=Rle(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),jle={utf8:uK,"utf-8":uK,hex:_E.base16,latin1:Mk,ascii:Mk,binary:Mk,..._E};function sc(t,e="utf8"){const r=jle[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Wj(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function Ua(t,e="utf8"){const r=jle[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}var VWe={};const KWe="ReactNative",nu={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},GWe="js";function IE(){return typeof pi<"u"&&typeof pi.versions<"u"&&typeof pi.versions.node<"u"}function vm(){return!kl.getDocument()&&!!kl.getNavigator()&&navigator.product===KWe}function YWe(){return vm()&&typeof globalThis<"u"&&typeof globalThis?.Platform<"u"&&globalThis?.Platform.OS==="android"}function ZWe(){return vm()&&typeof globalThis<"u"&&typeof globalThis?.Platform<"u"&&globalThis?.Platform.OS==="ios"}function Q5(){return!IE()&&!!kl.getNavigator()&&!!kl.getDocument()}function L9(){return vm()?nu.reactNative:IE()?nu.node:Q5()?nu.browser:nu.unknown}function dK(){var t;try{return vm()&&typeof globalThis<"u"&&typeof globalThis?.Application<"u"?(t=globalThis.Application)==null?void 0:t.applicationId:void 0}catch{return}}function QWe(t,e){const r=new URLSearchParams(t);for(const n of Object.keys(e).sort())if(e.hasOwnProperty(n)){const i=e[n];i!==void 0&&r.set(n,i)}return r.toString()}function JWe(){return sae.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function XWe(){if(L9()===nu.reactNative&&typeof globalThis<"u"&&typeof globalThis?.Platform<"u"){const{OS:r,Version:n}=globalThis.Platform;return[r,n].join("-")}const t=vOe();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function eqe(){var t;const e=L9();return e===nu.browser?[e,((t=kl.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function Lle(t,e,r){const n=XWe(),i=eqe();return[[t,e].join("-"),[GWe,r].join("-"),n,i].join("/")}function tqe({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:l}){const u=r.split("?"),c=Lle(t,e,n),h={auth:i,ua:c,projectId:s,useOnCloseEvent:o,packageName:l||void 0,bundleId:a||void 0},m=QWe(u[1]||"",h);return u[0]+"?"+m}function xP(t){return Object.fromEntries(t.entries())}function EP(t){return new Map(Object.entries(t))}function rqe(t=Tt.FIVE_MINUTES,e){const r=Tt.toMiliseconds(t||Tt.FIVE_MINUTES);let n,i,s,o;return{resolve:a=>{s&&n&&(clearTimeout(s),n(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,l)=>{if(o)return a(o);s=setTimeout(()=>{const u=new Error(e);o=Promise.reject(u),l(u)},r),n=a,i=l})}}function xd(t,e,r){return new Promise(async(n,i)=>{const s=setTimeout(()=>i(new Error(r)),e);try{const o=await t;n(o)}catch(o){i(o)}clearTimeout(s)})}function Dle(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function nqe(t){return Dle("topic",t)}function iqe(t){return Dle("id",t)}function sqe(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function Pb(t,e){return Tt.fromMiliseconds(Date.now()+Tt.toMiliseconds(t))}function hK(t){return Date.now()>=Tt.toMiliseconds(t)}function Pk(t,e){return`${t}${e?`:${e}`:""}`}function fK(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function Ble(){return typeof pi<"u"&&VWe.IS_VITEST==="true"}function Ule(t){return kt.from(t,"base64").toString("utf-8")}function oqe(t){return new Promise(e=>setTimeout(e,t))}const tx=BigInt(2**32-1),pK=BigInt(32);function Fle(t,e=!1){return e?{h:Number(t&tx),l:Number(t>>pK&tx)}:{h:Number(t>>pK&tx)|0,l:Number(t&tx)|0}}function zle(t,e=!1){const r=t.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:o,l:a}=Fle(t[s],e);[n[s],i[s]]=[o,a]}return[n,i]}const gK=(t,e,r)=>t>>>r,mK=(t,e,r)=>t<<32-r|e>>>r,a0=(t,e,r)=>t>>>r|e<<32-r,l0=(t,e,r)=>t<<32-r|e>>>r,rb=(t,e,r)=>t<<64-r|e>>>r-32,nb=(t,e,r)=>t>>>r-32|e<<64-r,aqe=(t,e)=>e,lqe=(t,e)=>t,cqe=(t,e,r)=>t<<r|e>>>32-r,uqe=(t,e,r)=>e<<r|t>>>32-r,dqe=(t,e,r)=>e<<r-32|t>>>64-r,hqe=(t,e,r)=>t<<r-32|e>>>64-r;function Vc(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const qj=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),Hj=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,fqe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),pqe=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,gqe=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),mqe=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,E1=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Vj(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Kh(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function dc(t,...e){if(!Vj(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Kj(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Kh(t.outputLen),Kh(t.blockLen)}function G0(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Gj(t,e){dc(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function X3(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function hc(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Nk(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Hu(t,e){return t<<32-e|t>>>e}const Wle=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function qle(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const ah=Wle?t=>t:t=>qle(t);function yqe(t){for(let e=0;e<t.length;e++)t[e]=qle(t[e]);return t}const c0=Wle?t=>t:yqe,Hle=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",wqe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function e5(t){if(dc(t),Hle)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=wqe[t[r]];return e}const Xd={_0:48,_9:57,A:65,F:70,a:97,f:102};function yK(t){if(t>=Xd._0&&t<=Xd._9)return t-Xd._0;if(t>=Xd.A&&t<=Xd.F)return t-(Xd.A-10);if(t>=Xd.a&&t<=Xd.f)return t-(Xd.a-10)}function Yj(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(Hle)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=yK(t.charCodeAt(s)),a=yK(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=o*16+a}return n}function vqe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function au(t){return typeof t=="string"&&(t=vqe(t)),dc(t),t}function lg(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];dc(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}let D9=class{};function J5(t){const e=n=>t().update(au(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function bqe(t){const e=(n,i)=>t(i).update(au(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function Uw(t=32){if(E1&&typeof E1.getRandomValues=="function")return E1.getRandomValues(new Uint8Array(t));if(E1&&typeof E1.randomBytes=="function")return Uint8Array.from(E1.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const xqe=BigInt(0),Y2=BigInt(1),Eqe=BigInt(2),_qe=BigInt(7),Aqe=BigInt(256),Sqe=BigInt(113),Vle=[],Kle=[],Gle=[];for(let t=0,e=Y2,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],Vle.push(2*(5*n+r)),Kle.push((t+1)*(t+2)/2%64);let i=xqe;for(let s=0;s<7;s++)e=(e<<Y2^(e>>_qe)*Sqe)%Aqe,e&Eqe&&(i^=Y2<<(Y2<<BigInt(s))-Y2);Gle.push(i)}const Yle=zle(Gle,!0),Cqe=Yle[0],kqe=Yle[1],wK=(t,e,r)=>r>32?dqe(t,e,r):cqe(t,e,r),vK=(t,e,r)=>r>32?hqe(t,e,r):uqe(t,e,r);function Iqe(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,u=r[l],c=r[l+1],h=wK(u,c,1)^r[a],m=vK(u,c,1)^r[a+1];for(let y=0;y<50;y+=10)t[o+y]^=h,t[o+y+1]^=m}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=Kle[o],l=wK(i,s,a),u=vK(i,s,a),c=Vle[o];i=t[c],s=t[c+1],t[c]=l,t[c+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=Cqe[n],t[1]^=kqe[n]}hc(r)}let Tqe=class Zle extends D9{constructor(e,r,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,Kh(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=X3(this.state)}clone(){return this._cloneInto()}keccak(){c0(this.state32),Iqe(this.state32,this.rounds),c0(this.state32),this.posOut=0,this.pos=0}update(e){G0(this),e=au(e),dc(e);const{blockLen:r,state:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){G0(this,!1),dc(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Kh(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Gj(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,hc(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new Zle(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const $qe=(t,e,r)=>J5(()=>new Tqe(e,t,r));$qe(1,136,256/8);function Mqe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),l=n?4:0,u=n?0:4;t.setUint32(e+l,o,n),t.setUint32(e+u,a,n)}function Pqe(t,e,r){return t&e^~t&r}function Nqe(t,e,r){return t&e^t&r^e&r}let Qle=class extends D9{constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Nk(this.buffer)}update(e){G0(this),e=au(e),dc(e);const{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=Nk(e);for(;i<=s-o;o+=i)this.process(l,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){G0(this),Gj(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,hc(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(n,0),o=0);for(let h=o;h<i;h++)r[h]=0;Mqe(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=Nk(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,c=this.get();if(u>c.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<u;h++)a.setUint32(4*h,c[h],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};const Nf=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),uo=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),ho=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Rqe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Rf=new Uint32Array(64);let Oqe=class extends Qle{constructor(e=32){super(64,e,8,!1),this.A=Nf[0]|0,this.B=Nf[1]|0,this.C=Nf[2]|0,this.D=Nf[3]|0,this.E=Nf[4]|0,this.F=Nf[5]|0,this.G=Nf[6]|0,this.H=Nf[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:l}=this;return[e,r,n,i,s,o,a,l]}set(e,r,n,i,s,o,a,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,r){for(let h=0;h<16;h++,r+=4)Rf[h]=e.getUint32(r,!1);for(let h=16;h<64;h++){const m=Rf[h-15],y=Rf[h-2],b=Hu(m,7)^Hu(m,18)^m>>>3,E=Hu(y,17)^Hu(y,19)^y>>>10;Rf[h]=E+Rf[h-7]+b+Rf[h-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:l,G:u,H:c}=this;for(let h=0;h<64;h++){const m=Hu(a,6)^Hu(a,11)^Hu(a,25),y=c+m+Pqe(a,l,u)+Rqe[h]+Rf[h]|0,b=(Hu(n,2)^Hu(n,13)^Hu(n,22))+Nqe(n,i,s)|0;c=u,u=l,l=a,a=o+y|0,o=s,s=i,i=n,n=y+b|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(n,i,s,o,a,l,u,c)}roundClean(){hc(Rf)}destroy(){this.set(0,0,0,0,0,0,0,0),hc(this.buffer)}};const Jle=zle(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),jqe=Jle[0],Lqe=Jle[1],Of=new Uint32Array(80),jf=new Uint32Array(80);let Zj=class extends Qle{constructor(e=64){super(128,e,16,!1),this.Ah=ho[0]|0,this.Al=ho[1]|0,this.Bh=ho[2]|0,this.Bl=ho[3]|0,this.Ch=ho[4]|0,this.Cl=ho[5]|0,this.Dh=ho[6]|0,this.Dl=ho[7]|0,this.Eh=ho[8]|0,this.El=ho[9]|0,this.Fh=ho[10]|0,this.Fl=ho[11]|0,this.Gh=ho[12]|0,this.Gl=ho[13]|0,this.Hh=ho[14]|0,this.Hl=ho[15]|0}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:u,El:c,Fh:h,Fl:m,Gh:y,Gl:b,Hh:E,Hl:A}=this;return[e,r,n,i,s,o,a,l,u,c,h,m,y,b,E,A]}set(e,r,n,i,s,o,a,l,u,c,h,m,y,b,E,A){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=u|0,this.El=c|0,this.Fh=h|0,this.Fl=m|0,this.Gh=y|0,this.Gl=b|0,this.Hh=E|0,this.Hl=A|0}process(e,r){for(let P=0;P<16;P++,r+=4)Of[P]=e.getUint32(r),jf[P]=e.getUint32(r+=4);for(let P=16;P<80;P++){const z=Of[P-15]|0,L=jf[P-15]|0,W=a0(z,L,1)^a0(z,L,8)^gK(z,L,7),H=l0(z,L,1)^l0(z,L,8)^mK(z,L,7),G=Of[P-2]|0,N=jf[P-2]|0,F=a0(G,N,19)^rb(G,N,61)^gK(G,N,6),U=l0(G,N,19)^nb(G,N,61)^mK(G,N,6),j=fqe(H,U,jf[P-7],jf[P-16]),_=pqe(j,W,F,Of[P-7],Of[P-16]);Of[P]=_|0,jf[P]=j|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:u,Dl:c,Eh:h,El:m,Fh:y,Fl:b,Gh:E,Gl:A,Hh:M,Hl:O}=this;for(let P=0;P<80;P++){const z=a0(h,m,14)^a0(h,m,18)^rb(h,m,41),L=l0(h,m,14)^l0(h,m,18)^nb(h,m,41),W=h&y^~h&E,H=m&b^~m&A,G=gqe(O,L,H,Lqe[P],jf[P]),N=mqe(G,M,z,W,jqe[P],Of[P]),F=G|0,U=a0(n,i,28)^rb(n,i,34)^rb(n,i,39),j=l0(n,i,28)^nb(n,i,34)^nb(n,i,39),_=n&s^n&a^s&a,d=i&o^i&l^o&l;M=E|0,O=A|0,E=y|0,A=b|0,y=h|0,b=m|0,{h,l:m}=Vc(u|0,c|0,N|0,F|0),u=a|0,c=l|0,a=s|0,l=o|0,s=n|0,o=i|0;const g=qj(F,j,d);n=Hj(g,N,U,_),i=g|0}({h:n,l:i}=Vc(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=Vc(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=Vc(this.Ch|0,this.Cl|0,a|0,l|0),{h:u,l:c}=Vc(this.Dh|0,this.Dl|0,u|0,c|0),{h,l:m}=Vc(this.Eh|0,this.El|0,h|0,m|0),{h:y,l:b}=Vc(this.Fh|0,this.Fl|0,y|0,b|0),{h:E,l:A}=Vc(this.Gh|0,this.Gl|0,E|0,A|0),{h:M,l:O}=Vc(this.Hh|0,this.Hl|0,M|0,O|0),this.set(n,i,s,o,a,l,u,c,h,m,y,b,E,A,M,O)}roundClean(){hc(Of,jf)}destroy(){hc(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Dqe=class extends Zj{constructor(){super(48),this.Ah=uo[0]|0,this.Al=uo[1]|0,this.Bh=uo[2]|0,this.Bl=uo[3]|0,this.Ch=uo[4]|0,this.Cl=uo[5]|0,this.Dh=uo[6]|0,this.Dl=uo[7]|0,this.Eh=uo[8]|0,this.El=uo[9]|0,this.Fh=uo[10]|0,this.Fl=uo[11]|0,this.Gh=uo[12]|0,this.Gl=uo[13]|0,this.Hh=uo[14]|0,this.Hl=uo[15]|0}};const fo=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);let Bqe=class extends Zj{constructor(){super(32),this.Ah=fo[0]|0,this.Al=fo[1]|0,this.Bh=fo[2]|0,this.Bl=fo[3]|0,this.Ch=fo[4]|0,this.Cl=fo[5]|0,this.Dh=fo[6]|0,this.Dl=fo[7]|0,this.Eh=fo[8]|0,this.El=fo[9]|0,this.Fh=fo[10]|0,this.Fl=fo[11]|0,this.Gh=fo[12]|0,this.Gl=fo[13]|0,this.Hh=fo[14]|0,this.Hl=fo[15]|0}};const Xle=J5(()=>new Oqe),Uqe=J5(()=>new Zj),Fqe=J5(()=>new Dqe);J5(()=>new Bqe);const zqe=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),es=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Kt=new Uint32Array(32);function Lf(t,e,r,n,i,s){const o=i[s],a=i[s+1];let l=Kt[2*t],u=Kt[2*t+1],c=Kt[2*e],h=Kt[2*e+1],m=Kt[2*r],y=Kt[2*r+1],b=Kt[2*n],E=Kt[2*n+1],A=qj(l,c,o);u=Hj(A,u,h,a),l=A|0,{Dh:E,Dl:b}={Dh:E^u,Dl:b^l},{Dh:E,Dl:b}={Dh:aqe(E,b),Dl:lqe(E)},{h:y,l:m}=Vc(y,m,E,b),{Bh:h,Bl:c}={Bh:h^y,Bl:c^m},{Bh:h,Bl:c}={Bh:a0(h,c,24),Bl:l0(h,c,24)},Kt[2*t]=l,Kt[2*t+1]=u,Kt[2*e]=c,Kt[2*e+1]=h,Kt[2*r]=m,Kt[2*r+1]=y,Kt[2*n]=b,Kt[2*n+1]=E}function Df(t,e,r,n,i,s){const o=i[s],a=i[s+1];let l=Kt[2*t],u=Kt[2*t+1],c=Kt[2*e],h=Kt[2*e+1],m=Kt[2*r],y=Kt[2*r+1],b=Kt[2*n],E=Kt[2*n+1],A=qj(l,c,o);u=Hj(A,u,h,a),l=A|0,{Dh:E,Dl:b}={Dh:E^u,Dl:b^l},{Dh:E,Dl:b}={Dh:a0(E,b,16),Dl:l0(E,b,16)},{h:y,l:m}=Vc(y,m,E,b),{Bh:h,Bl:c}={Bh:h^y,Bl:c^m},{Bh:h,Bl:c}={Bh:rb(h,c,63),Bl:nb(h,c,63)},Kt[2*t]=l,Kt[2*t+1]=u,Kt[2*e]=c,Kt[2*e+1]=h,Kt[2*r]=m,Kt[2*r+1]=y,Kt[2*n]=b,Kt[2*n+1]=E}function Wqe(t,e={},r,n,i){if(Kh(r),t<0||t>r)throw new Error("outputLen bigger than keyLen");const{key:s,salt:o,personalization:a}=e;if(s!==void 0&&(s.length<1||s.length>r))throw new Error("key length must be undefined or 1.."+r);if(o!==void 0&&o.length!==n)throw new Error("salt must be undefined or "+n);if(a!==void 0&&a.length!==i)throw new Error("personalization must be undefined or "+i)}let qqe=class extends D9{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Kh(e),Kh(r),this.blockLen=e,this.outputLen=r,this.buffer=new Uint8Array(e),this.buffer32=X3(this.buffer)}update(e){G0(this),e=au(e),dc(e);const{blockLen:r,buffer:n,buffer32:i}=this,s=e.length,o=e.byteOffset,a=e.buffer;for(let l=0;l<s;){this.pos===r&&(c0(i),this.compress(i,0,!1),c0(i),this.pos=0);const u=Math.min(r-this.pos,s-l),c=o+l;if(u===r&&!(c%4)&&l+u<s){const h=new Uint32Array(a,c,Math.floor((s-l)/4));c0(h);for(let m=0;l+r<s;m+=i.length,l+=r)this.length+=r,this.compress(h,m,!1);c0(h);continue}n.set(e.subarray(l,l+u),this.pos),this.pos+=u,this.length+=u,l+=u}return this}digestInto(e){G0(this),Gj(e,this);const{pos:r,buffer32:n}=this;this.finished=!0,hc(this.buffer.subarray(r)),c0(n),this.compress(n,0,!0),c0(n);const i=X3(e);this.get().forEach((s,o)=>i[o]=ah(s))}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){const{buffer:r,length:n,finished:i,destroyed:s,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(r),e.destroyed=s,e.finished=i,e.length=n,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}},Hqe=class extends qqe{constructor(e={}){const r=e.dkLen===void 0?64:e.dkLen;super(128,r),this.v0l=es[0]|0,this.v0h=es[1]|0,this.v1l=es[2]|0,this.v1h=es[3]|0,this.v2l=es[4]|0,this.v2h=es[5]|0,this.v3l=es[6]|0,this.v3h=es[7]|0,this.v4l=es[8]|0,this.v4h=es[9]|0,this.v5l=es[10]|0,this.v5h=es[11]|0,this.v6l=es[12]|0,this.v6h=es[13]|0,this.v7l=es[14]|0,this.v7h=es[15]|0,Wqe(r,e,64,16,16);let{key:n,personalization:i,salt:s}=e,o=0;if(n!==void 0&&(n=au(n),o=n.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,s!==void 0){s=au(s);const a=X3(s);this.v4l^=ah(a[0]),this.v4h^=ah(a[1]),this.v5l^=ah(a[2]),this.v5h^=ah(a[3])}if(i!==void 0){i=au(i);const a=X3(i);this.v6l^=ah(a[0]),this.v6h^=ah(a[1]),this.v7l^=ah(a[2]),this.v7h^=ah(a[3])}if(n!==void 0){const a=new Uint8Array(this.blockLen);a.set(n),this.update(a)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:i,v2l:s,v2h:o,v3l:a,v3h:l,v4l:u,v4h:c,v5l:h,v5h:m,v6l:y,v6h:b,v7l:E,v7h:A}=this;return[e,r,n,i,s,o,a,l,u,c,h,m,y,b,E,A]}set(e,r,n,i,s,o,a,l,u,c,h,m,y,b,E,A){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=s|0,this.v2h=o|0,this.v3l=a|0,this.v3h=l|0,this.v4l=u|0,this.v4h=c|0,this.v5l=h|0,this.v5h=m|0,this.v6l=y|0,this.v6h=b|0,this.v7l=E|0,this.v7h=A|0}compress(e,r,n){this.get().forEach((l,u)=>Kt[u]=l),Kt.set(es,16);let{h:i,l:s}=Fle(BigInt(this.length));Kt[24]=es[8]^s,Kt[25]=es[9]^i,n&&(Kt[28]=~Kt[28],Kt[29]=~Kt[29]);let o=0;const a=zqe;for(let l=0;l<12;l++)Lf(0,4,8,12,e,r+2*a[o++]),Df(0,4,8,12,e,r+2*a[o++]),Lf(1,5,9,13,e,r+2*a[o++]),Df(1,5,9,13,e,r+2*a[o++]),Lf(2,6,10,14,e,r+2*a[o++]),Df(2,6,10,14,e,r+2*a[o++]),Lf(3,7,11,15,e,r+2*a[o++]),Df(3,7,11,15,e,r+2*a[o++]),Lf(0,5,10,15,e,r+2*a[o++]),Df(0,5,10,15,e,r+2*a[o++]),Lf(1,6,11,12,e,r+2*a[o++]),Df(1,6,11,12,e,r+2*a[o++]),Lf(2,7,8,13,e,r+2*a[o++]),Df(2,7,8,13,e,r+2*a[o++]),Lf(3,4,9,14,e,r+2*a[o++]),Df(3,4,9,14,e,r+2*a[o++]);this.v0l^=Kt[0]^Kt[16],this.v0h^=Kt[1]^Kt[17],this.v1l^=Kt[2]^Kt[18],this.v1h^=Kt[3]^Kt[19],this.v2l^=Kt[4]^Kt[20],this.v2h^=Kt[5]^Kt[21],this.v3l^=Kt[6]^Kt[22],this.v3h^=Kt[7]^Kt[23],this.v4l^=Kt[8]^Kt[24],this.v4h^=Kt[9]^Kt[25],this.v5l^=Kt[10]^Kt[26],this.v5h^=Kt[11]^Kt[27],this.v6l^=Kt[12]^Kt[28],this.v6h^=Kt[13]^Kt[29],this.v7l^=Kt[14]^Kt[30],this.v7h^=Kt[15]^Kt[31],hc(Kt)}destroy(){this.destroyed=!0,hc(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};bqe(t=>new Hqe(t));/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function ece(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function _P(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function Rk(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Ca(t,...e){if(!ece(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function bK(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Vqe(t,e){Ca(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function O0(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function nw(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Kqe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const Gqe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Yqe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function AP(t){if(typeof t=="string")t=Yqe(t);else if(ece(t))t=SP(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function Zqe(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function Qqe(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}const Jqe=(t,e)=>{function r(n,...i){if(Ca(n),!Gqe)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const u=i[0];if(!u)throw new Error("nonce / iv required");t.varSizeNonce?Ca(u):Ca(u,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&Ca(i[1]);const o=e(n,...i),a=(u,c)=>{if(c!==void 0){if(u!==2)throw new Error("cipher output not supported");Ca(c)}};let l=!1;return{encrypt(u,c){if(l)throw new Error("cannot encrypt() twice with same key + nonce");return l=!0,Ca(u),a(o.encrypt.length,c),o.encrypt(u,c)},decrypt(u,c){if(Ca(u),s&&u.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,c),o.decrypt(u,c)}}}return Object.assign(r,t),r};function xK(t,e,r=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(r&&!eHe(e))throw new Error("invalid output, must be aligned");return e}function EK(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s);t.setUint32(e+4,o,n),t.setUint32(e+0,a,n)}function Xqe(t,e,r){_P(r);const n=new Uint8Array(16),i=Kqe(n);return EK(i,0,BigInt(e),r),EK(i,8,BigInt(t),r),n}function eHe(t){return t.byteOffset%4===0}function SP(t){return Uint8Array.from(t)}const tce=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),tHe=tce("expand 16-byte k"),rHe=tce("expand 32-byte k"),nHe=O0(tHe),iHe=O0(rHe);function wn(t,e){return t<<e|t>>>32-e}function CP(t){return t.byteOffset%4===0}const rx=64,sHe=16,rce=2**32-1,_K=new Uint32Array;function oHe(t,e,r,n,i,s,o,a){const l=i.length,u=new Uint8Array(rx),c=O0(u),h=CP(i)&&CP(s),m=h?O0(i):_K,y=h?O0(s):_K;for(let b=0;b<l;o++){if(t(e,r,n,c,o,a),o>=rce)throw new Error("arx: counter overflow");const E=Math.min(rx,l-b);if(h&&E===rx){const A=b/4;if(b%4!==0)throw new Error("arx: invalid block position");for(let M=0,O;M<sHe;M++)O=A+M,y[O]=m[O]^c[M];b+=rx;continue}for(let A=0,M;A<E;A++)M=b+A,s[M]=i[M]^u[A];b+=E}}function aHe(t,e){const{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:s,rounds:o}=Zqe({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return Rk(i),Rk(o),_P(s),_P(r),(a,l,u,c,h=0)=>{Ca(a),Ca(l),Ca(u);const m=u.length;if(c===void 0&&(c=new Uint8Array(m)),Ca(c),Rk(h),h<0||h>=rce)throw new Error("arx: counter overflow");if(c.length<m)throw new Error(`arx: output (${c.length}) is shorter than data (${m})`);const y=[];let b=a.length,E,A;if(b===32)y.push(E=SP(a)),A=iHe;else if(b===16&&r)E=new Uint8Array(32),E.set(a),E.set(a,16),A=nHe,y.push(E);else throw new Error(`arx: invalid 32-byte key, got length=${b}`);CP(l)||y.push(l=SP(l));const M=O0(E);if(n){if(l.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(A,M,O0(l.subarray(0,16)),M),l=l.subarray(16)}const O=16-i;if(O!==l.length)throw new Error(`arx: nonce must be ${O} or 16 bytes`);if(O!==12){const z=new Uint8Array(12);z.set(l,s?0:12-l.length),l=z,y.push(l)}const P=O0(l);return oHe(t,A,M,P,u,c,h,o),nw(...y),c}}const $s=(t,e)=>t[e++]&255|(t[e++]&255)<<8;let lHe=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=AP(e),Ca(e,32);const r=$s(e,0),n=$s(e,2),i=$s(e,4),s=$s(e,6),o=$s(e,8),a=$s(e,10),l=$s(e,12),u=$s(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|l<<5)&8065,this.r[8]=(l>>>8|u<<8)&8191,this.r[9]=u>>>5&127;for(let c=0;c<8;c++)this.pad[c]=$s(e,16+2*c)}process(e,r,n=!1){const i=n?0:2048,{h:s,r:o}=this,a=o[0],l=o[1],u=o[2],c=o[3],h=o[4],m=o[5],y=o[6],b=o[7],E=o[8],A=o[9],M=$s(e,r+0),O=$s(e,r+2),P=$s(e,r+4),z=$s(e,r+6),L=$s(e,r+8),W=$s(e,r+10),H=$s(e,r+12),G=$s(e,r+14);let N=s[0]+(M&8191),F=s[1]+((M>>>13|O<<3)&8191),U=s[2]+((O>>>10|P<<6)&8191),j=s[3]+((P>>>7|z<<9)&8191),_=s[4]+((z>>>4|L<<12)&8191),d=s[5]+(L>>>1&8191),g=s[6]+((L>>>14|W<<2)&8191),x=s[7]+((W>>>11|H<<5)&8191),C=s[8]+((H>>>8|G<<8)&8191),k=s[9]+(G>>>5|i),T=0,R=T+N*a+F*(5*A)+U*(5*E)+j*(5*b)+_*(5*y);T=R>>>13,R&=8191,R+=d*(5*m)+g*(5*h)+x*(5*c)+C*(5*u)+k*(5*l),T+=R>>>13,R&=8191;let I=T+N*l+F*a+U*(5*A)+j*(5*E)+_*(5*b);T=I>>>13,I&=8191,I+=d*(5*y)+g*(5*m)+x*(5*h)+C*(5*c)+k*(5*u),T+=I>>>13,I&=8191;let f=T+N*u+F*l+U*a+j*(5*A)+_*(5*E);T=f>>>13,f&=8191,f+=d*(5*b)+g*(5*y)+x*(5*m)+C*(5*h)+k*(5*c),T+=f>>>13,f&=8191;let S=T+N*c+F*u+U*l+j*a+_*(5*A);T=S>>>13,S&=8191,S+=d*(5*E)+g*(5*b)+x*(5*y)+C*(5*m)+k*(5*h),T+=S>>>13,S&=8191;let K=T+N*h+F*c+U*u+j*l+_*a;T=K>>>13,K&=8191,K+=d*(5*A)+g*(5*E)+x*(5*b)+C*(5*y)+k*(5*m),T+=K>>>13,K&=8191;let D=T+N*m+F*h+U*c+j*u+_*l;T=D>>>13,D&=8191,D+=d*a+g*(5*A)+x*(5*E)+C*(5*b)+k*(5*y),T+=D>>>13,D&=8191;let J=T+N*y+F*m+U*h+j*c+_*u;T=J>>>13,J&=8191,J+=d*l+g*a+x*(5*A)+C*(5*E)+k*(5*b),T+=J>>>13,J&=8191;let ne=T+N*b+F*y+U*m+j*h+_*c;T=ne>>>13,ne&=8191,ne+=d*u+g*l+x*a+C*(5*A)+k*(5*E),T+=ne>>>13,ne&=8191;let ie=T+N*E+F*b+U*y+j*m+_*h;T=ie>>>13,ie&=8191,ie+=d*c+g*u+x*l+C*a+k*(5*A),T+=ie>>>13,ie&=8191;let ce=T+N*A+F*E+U*b+j*y+_*m;T=ce>>>13,ce&=8191,ce+=d*h+g*c+x*u+C*l+k*a,T+=ce>>>13,ce&=8191,T=(T<<2)+T|0,T=T+R|0,R=T&8191,T=T>>>13,I+=T,s[0]=R,s[1]=I,s[2]=f,s[3]=S,s[4]=K,s[5]=D,s[6]=J,s[7]=ne,s[8]=ie,s[9]=ce}finalize(){const{h:e,pad:r}=this,n=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,n[0]=e[0]+5,i=n[0]>>>13,n[0]&=8191;for(let a=1;a<10;a++)n[a]=e[a]+i,i=n[a]>>>13,n[a]&=8191;n[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)n[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|n[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+r[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+r[a]|0)+(o>>>16)|0,e[a]=o&65535;nw(n)}update(e){bK(this),e=AP(e),Ca(e);const{buffer:r,blockLen:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o===n){for(;n<=i-s;s+=n)this.process(e,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){nw(this.h,this.r,this.buffer,this.pad)}digestInto(e){bK(this),Vqe(e,this),this.finished=!0;const{buffer:r,h:n}=this;let{pos:i}=this;if(i){for(r[i++]=1;i<16;i++)r[i]=0;this.process(r,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=n[o]>>>0,e[s++]=n[o]>>>8;return e}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}};function cHe(t){const e=(n,i)=>t(i).update(AP(n)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}const uHe=cHe(t=>new lHe(t));function dHe(t,e,r,n,i,s=20){let o=t[0],a=t[1],l=t[2],u=t[3],c=e[0],h=e[1],m=e[2],y=e[3],b=e[4],E=e[5],A=e[6],M=e[7],O=i,P=r[0],z=r[1],L=r[2],W=o,H=a,G=l,N=u,F=c,U=h,j=m,_=y,d=b,g=E,x=A,C=M,k=O,T=P,R=z,I=L;for(let S=0;S<s;S+=2)W=W+F|0,k=wn(k^W,16),d=d+k|0,F=wn(F^d,12),W=W+F|0,k=wn(k^W,8),d=d+k|0,F=wn(F^d,7),H=H+U|0,T=wn(T^H,16),g=g+T|0,U=wn(U^g,12),H=H+U|0,T=wn(T^H,8),g=g+T|0,U=wn(U^g,7),G=G+j|0,R=wn(R^G,16),x=x+R|0,j=wn(j^x,12),G=G+j|0,R=wn(R^G,8),x=x+R|0,j=wn(j^x,7),N=N+_|0,I=wn(I^N,16),C=C+I|0,_=wn(_^C,12),N=N+_|0,I=wn(I^N,8),C=C+I|0,_=wn(_^C,7),W=W+U|0,I=wn(I^W,16),x=x+I|0,U=wn(U^x,12),W=W+U|0,I=wn(I^W,8),x=x+I|0,U=wn(U^x,7),H=H+j|0,k=wn(k^H,16),C=C+k|0,j=wn(j^C,12),H=H+j|0,k=wn(k^H,8),C=C+k|0,j=wn(j^C,7),G=G+_|0,T=wn(T^G,16),d=d+T|0,_=wn(_^d,12),G=G+_|0,T=wn(T^G,8),d=d+T|0,_=wn(_^d,7),N=N+F|0,R=wn(R^N,16),g=g+R|0,F=wn(F^g,12),N=N+F|0,R=wn(R^N,8),g=g+R|0,F=wn(F^g,7);let f=0;n[f++]=o+W|0,n[f++]=a+H|0,n[f++]=l+G|0,n[f++]=u+N|0,n[f++]=c+F|0,n[f++]=h+U|0,n[f++]=m+j|0,n[f++]=y+_|0,n[f++]=b+d|0,n[f++]=E+g|0,n[f++]=A+x|0,n[f++]=M+C|0,n[f++]=O+k|0,n[f++]=P+T|0,n[f++]=z+R|0,n[f++]=L+I|0}const hHe=aHe(dHe,{counterRight:!1,counterLength:4,allowShortKeys:!1}),fHe=new Uint8Array(16),AK=(t,e)=>{t.update(e);const r=e.length%16;r&&t.update(fHe.subarray(r))},pHe=new Uint8Array(32);function SK(t,e,r,n,i){const s=t(e,r,pHe),o=uHe.create(s);i&&AK(o,i),AK(o,n);const a=Xqe(n.length,i?i.length:0,!0);o.update(a);const l=o.digest();return nw(s,a),l}const gHe=t=>(e,r,n)=>({encrypt(i,s){const o=i.length;s=xK(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,r,a,a,1);const l=SK(t,e,r,a,n);return s.set(l,o),nw(l),s},decrypt(i,s){s=xK(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),l=SK(t,e,r,o,n);if(!Qqe(a,l))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,r,s,s,1),nw(l),s}}),nce=Jqe({blockSize:64,nonceLength:12,tagLength:16},gHe(hHe));let ice=class extends D9{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Kj(e);const n=au(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),hc(s)}update(e){return G0(this),this.iHash.update(e),this}digestInto(e){G0(this),dc(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const B9=(t,e,r)=>new ice(t,e).update(r).digest();B9.create=(t,e)=>new ice(t,e);function mHe(t,e,r){return Kj(t),r===void 0&&(r=new Uint8Array(t.outputLen)),B9(t,au(r),au(e))}const Ok=Uint8Array.from([0]),CK=Uint8Array.of();function yHe(t,e,r,n=32){Kj(t),Kh(n);const i=t.outputLen;if(n>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(n/i);r===void 0&&(r=CK);const o=new Uint8Array(s*i),a=B9.create(t,e),l=a._cloneInto(),u=new Uint8Array(a.outputLen);for(let c=0;c<s;c++)Ok[0]=c+1,l.update(c===0?CK:u).update(r).update(Ok).digestInto(u),o.set(u,i*c),a._cloneInto(l);return a.destroy(),l.destroy(),hc(u,Ok),o.slice(0,n)}const wHe=(t,e,r,n,i)=>yHe(t,mHe(t,e,r),n,i),U9=Xle,Qj=BigInt(0),kP=BigInt(1);function TE(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function nx(t){const e=t.toString(16);return e.length&1?"0"+e:e}function sce(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Qj:BigInt("0x"+t)}function F9(t){return sce(e5(t))}function $E(t){return dc(t),sce(e5(Uint8Array.from(t).reverse()))}function Jj(t,e){return Yj(t.toString(16).padStart(e*2,"0"))}function Xj(t,e){return Jj(t,e).reverse()}function xa(t,e,r){let n;if(typeof e=="string")try{n=Yj(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Vj(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}const jk=t=>typeof t=="bigint"&&Qj<=t;function vHe(t,e,r){return jk(t)&&jk(e)&&jk(r)&&e<=t&&t<r}function IP(t,e,r,n){if(!vHe(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function bHe(t){let e;for(e=0;t>Qj;t>>=kP,e+=1);return e}const z9=t=>(kP<<BigInt(t))-kP;function xHe(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");const n=m=>new Uint8Array(m),i=m=>Uint8Array.of(m);let s=n(t),o=n(t),a=0;const l=()=>{s.fill(1),o.fill(0),a=0},u=(...m)=>r(o,s,...m),c=(m=n(0))=>{o=u(i(0),m),s=u(),m.length!==0&&(o=u(i(1),m),s=u())},h=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let m=0;const y=[];for(;m<e;){s=u();const b=s.slice();y.push(b),m+=s.length}return lg(...y)};return(m,y)=>{l(),c(m);let b;for(;!(b=y(h()));)c();return l(),b}}function W9(t,e,r={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function n(i,s,o){const a=t[i];if(o&&a===void 0)return;const l=typeof a;if(l!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${l}`)}Object.entries(e).forEach(([i,s])=>n(i,s,!1)),Object.entries(r).forEach(([i,s])=>n(i,s,!0))}function kK(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const Oa=BigInt(0),Jo=BigInt(1),cg=BigInt(2),EHe=BigInt(3),oce=BigInt(4),ace=BigInt(5),lce=BigInt(8);function tc(t,e){const r=t%e;return r>=Oa?r:e+r}function Fc(t,e,r){let n=t;for(;e-- >Oa;)n*=n,n%=r;return n}function IK(t,e){if(t===Oa)throw new Error("invert: expected non-zero number");if(e<=Oa)throw new Error("invert: expected positive modulus, got "+e);let r=tc(t,e),n=e,i=Oa,s=Jo;for(;r!==Oa;){const o=n/r,a=n%r,l=i-s*o;n=r,r=a,i=s,s=l}if(n!==Jo)throw new Error("invert: does not exist");return tc(i,e)}function cce(t,e){const r=(t.ORDER+Jo)/oce,n=t.pow(e,r);if(!t.eql(t.sqr(n),e))throw new Error("Cannot find square root");return n}function _He(t,e){const r=(t.ORDER-ace)/lce,n=t.mul(e,cg),i=t.pow(n,r),s=t.mul(e,i),o=t.mul(t.mul(s,cg),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function AHe(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Jo,r=0;for(;e%cg===Oa;)e/=cg,r++;let n=cg;const i=Fw(t);for(;TK(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return cce;let s=i.pow(n,e);const o=(e+Jo)/cg;return function(a,l){if(a.is0(l))return l;if(TK(a,l)!==1)throw new Error("Cannot find square root");let u=r,c=a.mul(a.ONE,s),h=a.pow(l,e),m=a.pow(l,o);for(;!a.eql(h,a.ONE);){if(a.is0(h))return a.ZERO;let y=1,b=a.sqr(h);for(;!a.eql(b,a.ONE);)if(y++,b=a.sqr(b),y===u)throw new Error("Cannot find square root");const E=Jo<<BigInt(u-y-1),A=a.pow(c,E);u=y,c=a.sqr(A),h=a.mul(h,c),m=a.mul(m,A)}return m}}function SHe(t){return t%oce===EHe?cce:t%lce===ace?_He:AHe(t)}const CHe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function kHe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=CHe.reduce((n,i)=>(n[i]="function",n),e);return W9(t,r),t}function IHe(t,e,r){if(r<Oa)throw new Error("invalid exponent, negatives unsupported");if(r===Oa)return t.ONE;if(r===Jo)return e;let n=t.ONE,i=e;for(;r>Oa;)r&Jo&&(n=t.mul(n,i)),i=t.sqr(i),r>>=Jo;return n}function uce(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),i=e.reduce((o,a,l)=>t.is0(a)?o:(n[l]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,l)=>t.is0(a)?o:(n[l]=t.mul(o,n[l]),t.mul(o,a)),s),n}function TK(t,e){const r=(t.ORDER-Jo)/cg,n=t.pow(e,r),i=t.eql(n,t.ONE),s=t.eql(n,t.ZERO),o=t.eql(n,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function THe(t,e){e!==void 0&&Kh(e);const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Fw(t,e,r=!1,n={}){if(t<=Oa)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s;if(typeof e=="object"&&e!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const c=e;c.BITS&&(i=c.BITS),c.sqrt&&(s=c.sqrt),typeof c.isLE=="boolean"&&(r=c.isLE)}else typeof e=="number"&&(i=e),n.sqrt&&(s=n.sqrt);const{nBitLength:o,nByteLength:a}=THe(t,i);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const u=Object.freeze({ORDER:t,isLE:r,BITS:o,BYTES:a,MASK:z9(o),ZERO:Oa,ONE:Jo,create:c=>tc(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Oa<=c&&c<t},is0:c=>c===Oa,isValidNot0:c=>!u.is0(c)&&u.isValid(c),isOdd:c=>(c&Jo)===Jo,neg:c=>tc(-c,t),eql:(c,h)=>c===h,sqr:c=>tc(c*c,t),add:(c,h)=>tc(c+h,t),sub:(c,h)=>tc(c-h,t),mul:(c,h)=>tc(c*h,t),pow:(c,h)=>IHe(u,c,h),div:(c,h)=>tc(c*IK(h,t),t),sqrN:c=>c*c,addN:(c,h)=>c+h,subN:(c,h)=>c-h,mulN:(c,h)=>c*h,inv:c=>IK(c,t),sqrt:s||(c=>(l||(l=SHe(t)),l(u,c))),toBytes:c=>r?Xj(c,a):Jj(c,a),fromBytes:c=>{if(c.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+c.length);return r?$E(c):F9(c)},invertBatch:c=>uce(u,c),cmov:(c,h,m)=>m?h:c});return Object.freeze(u)}function dce(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function hce(t){const e=dce(t);return e+Math.ceil(e/2)}function $He(t,e,r=!1){const n=t.length,i=dce(e),s=hce(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?$E(t):F9(t),a=tc(o,e-Jo)+Jo;return r?Xj(a,i):Jj(a,i)}const iw=BigInt(0),ug=BigInt(1);function Nb(t,e){const r=e.negate();return t?r:e}function MHe(t,e,r){const n=s=>s.pz,i=uce(t.Fp,r.map(n));return r.map((s,o)=>s.toAffine(i[o])).map(t.fromAffine)}function fce(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Lk(t,e){fce(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1),i=2**t,s=z9(t),o=BigInt(t);return{windows:r,windowSize:n,mask:s,maxNumber:i,shiftBy:o}}function $K(t,e,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r;let a=Number(t&i),l=t>>o;a>n&&(a-=s,l+=ug);const u=e*n,c=u+Math.abs(a)-1,h=a===0,m=a<0,y=e%2!==0;return{nextN:l,offset:c,isZero:h,isNeg:m,isNegF:y,offsetF:u}}function PHe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function NHe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const Dk=new WeakMap,pce=new WeakMap;function Bk(t){return pce.get(t)||1}function MK(t){if(t!==iw)throw new Error("invalid wNAF")}function RHe(t,e){return{constTimeNegate:Nb,hasPrecomputes(r){return Bk(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>iw;)n&ug&&(i=i.add(s)),s=s.double(),n>>=ug;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=Lk(n,e),o=[];let a=r,l=a;for(let u=0;u<i;u++){l=a,o.push(l);for(let c=1;c<s;c++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(r,n,i){let s=t.ZERO,o=t.BASE;const a=Lk(r,e);for(let l=0;l<a.windows;l++){const{nextN:u,offset:c,isZero:h,isNeg:m,isNegF:y,offsetF:b}=$K(i,l,a);i=u,h?o=o.add(Nb(y,n[b])):s=s.add(Nb(m,n[c]))}return MK(i),{p:s,f:o}},wNAFUnsafe(r,n,i,s=t.ZERO){const o=Lk(r,e);for(let a=0;a<o.windows&&i!==iw;a++){const{nextN:l,offset:u,isZero:c,isNeg:h}=$K(i,a,o);if(i=l,!c){const m=n[u];s=s.add(h?m.negate():m)}}return MK(i),s},getPrecomputes(r,n,i){let s=Dk.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&(typeof i=="function"&&(s=i(s)),Dk.set(n,s))),s},wNAFCached(r,n,i){const s=Bk(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=Bk(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){fce(n,e),pce.set(r,n),Dk.delete(r)}}}function OHe(t,e,r,n){let i=e,s=t.ZERO,o=t.ZERO;for(;r>iw||n>iw;)r&ug&&(s=s.add(i)),n&ug&&(o=o.add(i)),i=i.double(),r>>=ug,n>>=ug;return{p1:s,p2:o}}function jHe(t,e,r,n){PHe(r,t),NHe(n,e);const i=r.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=bHe(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const u=z9(l),c=new Array(Number(u)+1).fill(o),h=Math.floor((e.BITS-1)/l)*l;let m=o;for(let y=h;y>=0;y-=l){c.fill(o);for(let E=0;E<s;E++){const A=n[E],M=Number(A>>BigInt(y)&u);c[M]=c[M].add(r[E])}let b=o;for(let E=c.length-1,A=o;E>0;E--)A=A.add(c[E]),b=b.add(A);if(m=m.add(b),y!==0)for(let E=0;E<l;E++)m=m.double()}return m}function PK(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return kHe(e),e}else return Fw(t)}function LHe(t,e,r={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const o of["p","n","h"]){const a=e[o];if(!(typeof a=="bigint"&&a>iw))throw new Error(`CURVE.${o} must be positive bigint`)}const n=PK(e.p,r.Fp),i=PK(e.n,r.Fn),s=["Gx","Gy","a","b"];for(const o of s)if(!n.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:n,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Z2=BigInt(0),_1=BigInt(1),ix=BigInt(2);function DHe(t){return W9(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function BHe(t){const e=DHe(t),{P:r,type:n,adjustScalarBytes:i,powPminus2:s,randomBytes:o}=e,a=n==="x25519";if(!a&&n!=="x448")throw new Error("invalid type");const l=o||Uw,u=a?255:448,c=a?32:56,h=BigInt(a?9:5),m=BigInt(a?121665:39081),y=a?ix**BigInt(254):ix**BigInt(447),b=a?BigInt(8)*ix**BigInt(251)-_1:BigInt(4)*ix**BigInt(445)-_1,E=y+b+_1,A=N=>tc(N,r),M=O(h);function O(N){return Xj(A(N),c)}function P(N){const F=xa("u coordinate",N,c);return a&&(F[31]&=127),A($E(F))}function z(N){return $E(i(xa("scalar",N,c)))}function L(N,F){const U=G(P(F),z(N));if(U===Z2)throw new Error("invalid private or public key received");return O(U)}function W(N){return L(N,M)}function H(N,F,U){const j=A(N*(F-U));return F=A(F-j),U=A(U+j),{x_2:F,x_3:U}}function G(N,F){IP("u",N,Z2,r),IP("scalar",F,y,E);const U=F,j=N;let _=_1,d=Z2,g=N,x=_1,C=Z2;for(let T=BigInt(u-1);T>=Z2;T--){const R=U>>T&_1;C^=R,{x_2:_,x_3:g}=H(C,_,g),{x_2:d,x_3:x}=H(C,d,x),C=R;const I=_+d,f=A(I*I),S=_-d,K=A(S*S),D=f-K,J=g+x,ne=g-x,ie=A(ne*I),ce=A(J*S),Se=ie+ce,ye=ie-ce;g=A(Se*Se),x=A(j*A(ye*ye)),_=A(f*K),d=A(D*(f+A(m*D)))}({x_2:_,x_3:g}=H(C,_,g)),{x_2:d,x_3:x}=H(C,d,x);const k=s(d);return A(_*k)}return{scalarMult:L,scalarMultBase:W,getSharedSecret:(N,F)=>L(N,F),getPublicKey:N=>W(N),utils:{randomPrivateKey:()=>l(c)},GuBytes:M.slice()}}BigInt(0);const UHe=BigInt(1),NK=BigInt(2),FHe=BigInt(3),zHe=BigInt(5);BigInt(8);const gce={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function WHe(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=gce.p,o=t*t%s*t%s,a=Fc(o,NK,s)*o%s,l=Fc(a,UHe,s)*t%s,u=Fc(l,zHe,s)*l%s,c=Fc(u,e,s)*u%s,h=Fc(c,r,s)*c%s,m=Fc(h,n,s)*h%s,y=Fc(m,i,s)*m%s,b=Fc(y,i,s)*m%s,E=Fc(b,e,s)*u%s;return{pow_p_5_8:Fc(E,NK,s)*t%s,b2:o}}function qHe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const TP=(()=>{const t=gce.p;return BHe({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:r,b2:n}=WHe(e);return tc(Fc(r,FHe,t)*n,t)},adjustScalarBytes:qHe})})();function RK(t){t.lowS!==void 0&&TE("lowS",t.lowS),t.prehash!==void 0&&TE("prehash",t.prehash)}let HHe=class extends Error{constructor(e=""){super(e)}};const vh={Err:HHe,_tlv:{encode:(t,e)=>{const{Err:r}=vh;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=nx(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?nx(i.length/2|128):"";return nx(t)+s+i+e},decode(t,e){const{Err:r}=vh;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const l=i&127;if(!l)throw new r("tlv.decode(long): indefinite length not supported");if(l>4)throw new r("tlv.decode(long): byte length is too big");const u=e.subarray(n,n+l);if(u.length!==l)throw new r("tlv.decode: length bytes not complete");if(u[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const c of u)o=o<<8|c;if(n+=l,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=vh;if(t<Rb)throw new e("integer: negative integers are not allowed");let r=nx(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=vh;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return F9(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=vh,i=xa("signature",t),{v:s,l:o}=n.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=n.decode(2,s),{v:u,l:c}=n.decode(2,l);if(c.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(u)}},hexFromSig(t){const{_tlv:e,_int:r}=vh,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),s=n+i;return e.encode(48,s)}},Rb=BigInt(0),Ob=BigInt(1),VHe=BigInt(2),sx=BigInt(3),KHe=BigInt(4);function GHe(t,e,r){function n(i){const s=t.sqr(i),o=t.mul(s,i);return t.add(t.add(o,t.mul(i,e)),r)}return n}function mce(t,e,r){const{BYTES:n}=t;function i(s){let o;if(typeof s=="bigint")o=s;else{let a=xa("private key",s);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const l=new Uint8Array(n);l.set(a,l.length-a.length),a=l}try{o=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof s}`)}}if(r&&(o=t.create(o)),!t.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return i}function YHe(t,e={}){const{Fp:r,Fn:n}=LHe("weierstrass",t,e),{h:i,n:s}=t;W9(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=e;if(o&&(!r.is0(t.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function l(G,N,F){const{x:U,y:j}=N.toAffine(),_=r.toBytes(U);if(TE("isCompressed",F),F){a();const d=!r.isOdd(j);return lg(yce(d),_)}else return lg(Uint8Array.of(4),_,r.toBytes(j))}function u(G){dc(G);const N=r.BYTES,F=N+1,U=2*N+1,j=G.length,_=G[0],d=G.subarray(1);if(j===F&&(_===2||_===3)){const g=r.fromBytes(d);if(!r.isValid(g))throw new Error("bad point: is not on curve, wrong x");const x=m(g);let C;try{C=r.sqrt(x)}catch(T){const R=T instanceof Error?": "+T.message:"";throw new Error("bad point: is not on curve, sqrt error"+R)}a();const k=r.isOdd(C);return(_&1)===1!==k&&(C=r.neg(C)),{x:g,y:C}}else if(j===U&&_===4){const g=r.fromBytes(d.subarray(N*0,N*1)),x=r.fromBytes(d.subarray(N*1,N*2));if(!y(g,x))throw new Error("bad point: is not on curve");return{x:g,y:x}}else throw new Error(`bad point: got length ${j}, expected compressed=${F} or uncompressed=${U}`)}const c=e.toBytes||l,h=e.fromBytes||u,m=GHe(r,t.a,t.b);function y(G,N){const F=r.sqr(N),U=m(G);return r.eql(F,U)}if(!y(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const b=r.mul(r.pow(t.a,sx),KHe),E=r.mul(r.sqr(t.b),BigInt(27));if(r.is0(r.add(b,E)))throw new Error("bad curve params: a or b");function A(G,N,F=!1){if(!r.isValid(N)||F&&r.is0(N))throw new Error(`bad point coordinate ${G}`);return N}function M(G){if(!(G instanceof L))throw new Error("ProjectivePoint expected")}const O=kK((G,N)=>{const{px:F,py:U,pz:j}=G;if(r.eql(j,r.ONE))return{x:F,y:U};const _=G.is0();N==null&&(N=_?r.ONE:r.inv(j));const d=r.mul(F,N),g=r.mul(U,N),x=r.mul(j,N);if(_)return{x:r.ZERO,y:r.ZERO};if(!r.eql(x,r.ONE))throw new Error("invZ was invalid");return{x:d,y:g}}),P=kK(G=>{if(G.is0()){if(e.allowInfinityPoint&&!r.is0(G.py))return;throw new Error("bad point: ZERO")}const{x:N,y:F}=G.toAffine();if(!r.isValid(N)||!r.isValid(F))throw new Error("bad point: x or y not field elements");if(!y(N,F))throw new Error("bad point: equation left != right");if(!G.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function z(G,N,F,U,j){return F=new L(r.mul(F.px,G),F.py,F.pz),N=Nb(U,N),F=Nb(j,F),N.add(F)}class L{constructor(N,F,U){this.px=A("x",N),this.py=A("y",F,!0),this.pz=A("z",U),Object.freeze(this)}static fromAffine(N){const{x:F,y:U}=N||{};if(!N||!r.isValid(F)||!r.isValid(U))throw new Error("invalid affine point");if(N instanceof L)throw new Error("projective point not allowed");return r.is0(F)&&r.is0(U)?L.ZERO:new L(F,U,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(N){return MHe(L,"pz",N)}static fromBytes(N){return dc(N),L.fromHex(N)}static fromHex(N){const F=L.fromAffine(h(xa("pointHex",N)));return F.assertValidity(),F}static fromPrivateKey(N){const F=mce(n,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return L.BASE.multiply(F(N))}static msm(N,F){return jHe(L,n,N,F)}precompute(N=8,F=!0){return H.setWindowSize(this,N),F||this.multiply(sx),this}_setWindowSize(N){this.precompute(N)}assertValidity(){P(this)}hasEvenY(){const{y:N}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(N)}equals(N){M(N);const{px:F,py:U,pz:j}=this,{px:_,py:d,pz:g}=N,x=r.eql(r.mul(F,g),r.mul(_,j)),C=r.eql(r.mul(U,g),r.mul(d,j));return x&&C}negate(){return new L(this.px,r.neg(this.py),this.pz)}double(){const{a:N,b:F}=t,U=r.mul(F,sx),{px:j,py:_,pz:d}=this;let g=r.ZERO,x=r.ZERO,C=r.ZERO,k=r.mul(j,j),T=r.mul(_,_),R=r.mul(d,d),I=r.mul(j,_);return I=r.add(I,I),C=r.mul(j,d),C=r.add(C,C),g=r.mul(N,C),x=r.mul(U,R),x=r.add(g,x),g=r.sub(T,x),x=r.add(T,x),x=r.mul(g,x),g=r.mul(I,g),C=r.mul(U,C),R=r.mul(N,R),I=r.sub(k,R),I=r.mul(N,I),I=r.add(I,C),C=r.add(k,k),k=r.add(C,k),k=r.add(k,R),k=r.mul(k,I),x=r.add(x,k),R=r.mul(_,d),R=r.add(R,R),k=r.mul(R,I),g=r.sub(g,k),C=r.mul(R,T),C=r.add(C,C),C=r.add(C,C),new L(g,x,C)}add(N){M(N);const{px:F,py:U,pz:j}=this,{px:_,py:d,pz:g}=N;let x=r.ZERO,C=r.ZERO,k=r.ZERO;const T=t.a,R=r.mul(t.b,sx);let I=r.mul(F,_),f=r.mul(U,d),S=r.mul(j,g),K=r.add(F,U),D=r.add(_,d);K=r.mul(K,D),D=r.add(I,f),K=r.sub(K,D),D=r.add(F,j);let J=r.add(_,g);return D=r.mul(D,J),J=r.add(I,S),D=r.sub(D,J),J=r.add(U,j),x=r.add(d,g),J=r.mul(J,x),x=r.add(f,S),J=r.sub(J,x),k=r.mul(T,D),x=r.mul(R,S),k=r.add(x,k),x=r.sub(f,k),k=r.add(f,k),C=r.mul(x,k),f=r.add(I,I),f=r.add(f,I),S=r.mul(T,S),D=r.mul(R,D),f=r.add(f,S),S=r.sub(I,S),S=r.mul(T,S),D=r.add(D,S),I=r.mul(f,D),C=r.add(C,I),I=r.mul(J,D),x=r.mul(K,x),x=r.sub(x,I),I=r.mul(K,f),k=r.mul(J,k),k=r.add(k,I),new L(x,C,k)}subtract(N){return this.add(N.negate())}is0(){return this.equals(L.ZERO)}multiply(N){const{endo:F}=e;if(!n.isValidNot0(N))throw new Error("invalid scalar: out of range");let U,j;const _=d=>H.wNAFCached(this,d,L.normalizeZ);if(F){const{k1neg:d,k1:g,k2neg:x,k2:C}=F.splitScalar(N),{p:k,f:T}=_(g),{p:R,f:I}=_(C);j=T.add(I),U=z(F.beta,k,R,d,x)}else{const{p:d,f:g}=_(N);U=d,j=g}return L.normalizeZ([U,j])[0]}multiplyUnsafe(N){const{endo:F}=e,U=this;if(!n.isValid(N))throw new Error("invalid scalar: out of range");if(N===Rb||U.is0())return L.ZERO;if(N===Ob)return U;if(H.hasPrecomputes(this))return this.multiply(N);if(F){const{k1neg:j,k1:_,k2neg:d,k2:g}=F.splitScalar(N),{p1:x,p2:C}=OHe(L,U,_,g);return z(F.beta,x,C,j,d)}else return H.wNAFCachedUnsafe(U,N)}multiplyAndAddUnsafe(N,F,U){const j=this.multiplyUnsafe(F).add(N.multiplyUnsafe(U));return j.is0()?void 0:j}toAffine(N){return O(this,N)}isTorsionFree(){const{isTorsionFree:N}=e;return i===Ob?!0:N?N(L,this):H.wNAFCachedUnsafe(this,s).is0()}clearCofactor(){const{clearCofactor:N}=e;return i===Ob?this:N?N(L,this):this.multiplyUnsafe(i)}toBytes(N=!0){return TE("isCompressed",N),this.assertValidity(),c(L,this,N)}toRawBytes(N=!0){return this.toBytes(N)}toHex(N=!0){return e5(this.toBytes(N))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}L.BASE=new L(t.Gx,t.Gy,r.ONE),L.ZERO=new L(r.ZERO,r.ONE,r.ZERO),L.Fp=r,L.Fn=n;const W=n.BITS,H=RHe(L,e.endo?Math.ceil(W/2):W);return L}function yce(t){return Uint8Array.of(t?2:3)}function ZHe(t,e,r={}){W9(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const n=e.randomBytes||Uw,i=e.hmac||((U,...j)=>B9(e.hash,U,lg(...j))),{Fp:s,Fn:o}=t,{ORDER:a,BITS:l}=o;function u(U){const j=a>>Ob;return U>j}function c(U){return u(U)?o.neg(U):U}function h(U,j){if(!o.isValidNot0(j))throw new Error(`invalid signature ${U}: out of range 1..CURVE.n`)}class m{constructor(j,_,d){h("r",j),h("s",_),this.r=j,this.s=_,d!=null&&(this.recovery=d),Object.freeze(this)}static fromCompact(j){const _=o.BYTES,d=xa("compactSignature",j,_*2);return new m(o.fromBytes(d.subarray(0,_)),o.fromBytes(d.subarray(_,_*2)))}static fromDER(j){const{r:_,s:d}=vh.toSig(xa("DER",j));return new m(_,d)}assertValidity(){}addRecoveryBit(j){return new m(this.r,this.s,j)}recoverPublicKey(j){const _=s.ORDER,{r:d,s:g,recovery:x}=this;if(x==null||![0,1,2,3].includes(x))throw new Error("recovery id invalid");if(a*VHe<_&&x>1)throw new Error("recovery id is ambiguous for h>1 curve");const C=x===2||x===3?d+a:d;if(!s.isValid(C))throw new Error("recovery id 2 or 3 invalid");const k=s.toBytes(C),T=t.fromHex(lg(yce((x&1)===0),k)),R=o.inv(C),I=P(xa("msgHash",j)),f=o.create(-I*R),S=o.create(g*R),K=t.BASE.multiplyUnsafe(f).add(T.multiplyUnsafe(S));if(K.is0())throw new Error("point at infinify");return K.assertValidity(),K}hasHighS(){return u(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,o.neg(this.s),this.recovery):this}toBytes(j){if(j==="compact")return lg(o.toBytes(this.r),o.toBytes(this.s));if(j==="der")return Yj(vh.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return e5(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return e5(this.toBytes("compact"))}}const y=mce(o,r.allowedPrivateKeyLengths,r.wrapPrivateKey),b={isValidPrivateKey(U){try{return y(U),!0}catch{return!1}},normPrivateKeyToScalar:y,randomPrivateKey:()=>{const U=a;return $He(n(hce(U)),U)},precompute(U=8,j=t.BASE){return j.precompute(U,!1)}};function E(U,j=!0){return t.fromPrivateKey(U).toBytes(j)}function A(U){if(typeof U=="bigint")return!1;if(U instanceof t)return!0;const j=xa("key",U).length,_=s.BYTES,d=_+1,g=2*_+1;if(!(r.allowedPrivateKeyLengths||o.BYTES===d))return j===d||j===g}function M(U,j,_=!0){if(A(U)===!0)throw new Error("first arg must be private key");if(A(j)===!1)throw new Error("second arg must be public key");return t.fromHex(j).multiply(y(U)).toBytes(_)}const O=e.bits2int||function(U){if(U.length>8192)throw new Error("input is too large");const j=F9(U),_=U.length*8-l;return _>0?j>>BigInt(_):j},P=e.bits2int_modN||function(U){return o.create(O(U))},z=z9(l);function L(U){return IP("num < 2^"+l,U,Rb,z),o.toBytes(U)}function W(U,j,_=H){if(["recovered","canonical"].some(K=>K in _))throw new Error("sign() legacy options not supported");const{hash:d}=e;let{lowS:g,prehash:x,extraEntropy:C}=_;g==null&&(g=!0),U=xa("msgHash",U),RK(_),x&&(U=xa("prehashed msgHash",d(U)));const k=P(U),T=y(j),R=[L(T),L(k)];if(C!=null&&C!==!1){const K=C===!0?n(s.BYTES):C;R.push(xa("extraEntropy",K))}const I=lg(...R),f=k;function S(K){const D=O(K);if(!o.isValidNot0(D))return;const J=o.inv(D),ne=t.BASE.multiply(D).toAffine(),ie=o.create(ne.x);if(ie===Rb)return;const ce=o.create(J*o.create(f+ie*T));if(ce===Rb)return;let Se=(ne.x===ie?0:2)|Number(ne.y&Ob),ye=ce;return g&&u(ce)&&(ye=c(ce),Se^=1),new m(ie,ye,Se)}return{seed:I,k2sig:S}}const H={lowS:e.lowS,prehash:!1},G={lowS:e.lowS,prehash:!1};function N(U,j,_=H){const{seed:d,k2sig:g}=W(U,j,_);return xHe(e.hash.outputLen,o.BYTES,i)(d,g)}t.BASE.precompute(8);function F(U,j,_,d=G){const g=U;j=xa("msgHash",j),_=xa("publicKey",_),RK(d);const{lowS:x,prehash:C,format:k}=d;if("strict"in d)throw new Error("options.strict was renamed to lowS");if(k!==void 0&&!["compact","der","js"].includes(k))throw new Error('format must be "compact", "der" or "js"');const T=typeof g=="string"||Vj(g),R=!T&&!k&&typeof g=="object"&&g!==null&&typeof g.r=="bigint"&&typeof g.s=="bigint";if(!T&&!R)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let I,f;try{if(R)if(k===void 0||k==="js")I=new m(g.r,g.s);else throw new Error("invalid format");if(T){try{k!=="compact"&&(I=m.fromDER(g))}catch(Se){if(!(Se instanceof vh.Err))throw Se}!I&&k!=="der"&&(I=m.fromCompact(g))}f=t.fromHex(_)}catch{return!1}if(!I||x&&I.hasHighS())return!1;C&&(j=e.hash(j));const{r:S,s:K}=I,D=P(j),J=o.inv(K),ne=o.create(D*J),ie=o.create(S*J),ce=t.BASE.multiplyUnsafe(ne).add(f.multiplyUnsafe(ie));return ce.is0()?!1:o.create(ce.x)===S}return Object.freeze({getPublicKey:E,getSharedSecret:M,sign:N,verify:F,utils:b,Point:t,Signature:m})}function QHe(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp,n=Fw(e.n,t.nBitLength),i={Fp:r,Fn:n,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function JHe(t){const{CURVE:e,curveOpts:r}=QHe(t),n={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:r,ecdsaOpts:n}}function XHe(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function eVe(t){const{CURVE:e,curveOpts:r,ecdsaOpts:n}=JHe(t),i=YHe(e,r),s=ZHe(i,n,r);return XHe(t,s)}function $P(t,e){const r=n=>eVe({...t,hash:n});return{...r(e),create:r}}const wce={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},vce={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},bce={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},tVe=Fw(wce.p),rVe=Fw(vce.p),nVe=Fw(bce.p),iVe=$P({...wce,Fp:tVe,lowS:!1},Xle);$P({...vce,Fp:rVe,lowS:!1},Fqe),$P({...bce,Fp:nVe,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},Uqe);const sVe=iVe,xce="base10",Xo="base16",Cg="base64pad",eL="base64url",X5="utf8",Ece=0,zw=1,q9=2,oVe=0,OK=1,jb=12,tL=32;function aVe(){const t=TP.utils.randomPrivateKey(),e=TP.getPublicKey(t);return{privateKey:Ua(t,Xo),publicKey:Ua(e,Xo)}}function MP(){const t=Uw(tL);return Ua(t,Xo)}function lVe(t,e){const r=TP.getSharedSecret(sc(t,Xo),sc(e,Xo)),n=wHe(U9,r,void 0,void 0,tL);return Ua(n,Xo)}function cVe(t){const e=U9(sc(t,Xo));return Ua(e,Xo)}function d8(t){const e=U9(sc(t,X5));return Ua(e,Xo)}function _ce(t){return sc(`${t}`,xce)}function Vg(t){return Number(Ua(t,xce))}function Ace(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Sce(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),r=(4-e.length%4)%4;return e+"=".repeat(r)}function uVe(t){const e=_ce(typeof t.type<"u"?t.type:Ece);if(Vg(e)===zw&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?sc(t.senderPublicKey,Xo):void 0,n=typeof t.iv<"u"?sc(t.iv,Xo):Uw(jb),i=sc(t.symKey,Xo),s=nce(i,n).encrypt(sc(t.message,X5)),o=Cce({type:e,sealed:s,iv:n,senderPublicKey:r});return t.encoding===eL?Ace(o):o}function dVe(t){const e=sc(t.symKey,Xo),{sealed:r,iv:n}=t5({encoded:t.encoded,encoding:t.encoding}),i=nce(e,n).decrypt(r);if(i===null)throw new Error("Failed to decrypt");return Ua(i,X5)}function hVe(t,e){const r=_ce(q9),n=Uw(jb),i=sc(t,X5),s=Cce({type:r,sealed:i,iv:n});return e===eL?Ace(s):s}function fVe(t,e){const{sealed:r}=t5({encoded:t,encoding:e});return Ua(r,X5)}function Cce(t){if(Vg(t.type)===q9)return Ua(Mb([t.type,t.sealed]),Cg);if(Vg(t.type)===zw){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Ua(Mb([t.type,t.senderPublicKey,t.iv,t.sealed]),Cg)}return Ua(Mb([t.type,t.iv,t.sealed]),Cg)}function t5(t){const e=(t.encoding||Cg)===eL?Sce(t.encoded):t.encoded,r=sc(e,Cg),n=r.slice(oVe,OK),i=OK;if(Vg(n)===zw){const l=i+tL,u=l+jb,c=r.slice(i,l),h=r.slice(l,u),m=r.slice(u);return{type:n,sealed:m,iv:h,senderPublicKey:c}}if(Vg(n)===q9){const l=r.slice(i),u=Uw(jb);return{type:n,sealed:l,iv:u}}const s=i+jb,o=r.slice(i,s),a=r.slice(s);return{type:n,sealed:a,iv:o}}function pVe(t,e){const r=t5({encoded:t,encoding:e?.encoding});return kce({type:Vg(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?Ua(r.senderPublicKey,Xo):void 0,receiverPublicKey:e?.receiverPublicKey})}function kce(t){const e=t?.type||Ece;if(e===zw){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function jK(t){return t.type===zw&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function LK(t){return t.type===q9}function gVe(t){const e=kt.from(t.x,"base64"),r=kt.from(t.y,"base64");return Mb([new Uint8Array([4]),e,r])}function mVe(t,e){const[r,n,i]=t.split("."),s=kt.from(Sce(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),l=`${r}.${n}`,u=U9(l),c=gVe(e);if(!sVe.verify(Mb([o,a]),u,c))throw new Error("Invalid signature");return dP(t).payload}const yVe="irn";function ME(t){return t?.relay||{protocol:yVe}}function ay(t){const e=NUe[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function wVe(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(n)){const s=i.replace(n,""),o=t[i];r[s]=o}}),r}function DK(t){if(!t.includes("wc:")){const u=Ule(t);u!=null&&u.includes("wc:")&&(t=u)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),s=typeof r<"u"?t.substring(r):"",o=new URLSearchParams(s),a={};o.forEach((u,c)=>{a[c]=u});const l=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:n,topic:vVe(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:wVe(a),methods:l,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function vVe(t){return t.startsWith("//")?t.substring(2):t}function bVe(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(i=>{const s=i,o=r+e+s;t[s]&&(n[o]=t[s])}),n}function BK(t){const e=new URLSearchParams,r=bVe(t.relay);Object.keys(r).sort().forEach(i=>{e.set(i,r[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const n=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${n}`}const xVe={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},EVe={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function $n(t,e){const{message:r,code:n}=EVe[t];return{message:e?`${r} ${e}`:r,code:n}}function ib(t,e){const{message:r,code:n}=xVe[t];return{message:e?`${r} ${e}`:r,code:n}}function sb(t){return typeof t>"u"}function Ice(t,e){return typeof t=="string"&&!!t.trim().length}function _Ve(t){function e(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(Ice(t,!1)){if(e(t))return!0;const r=Ule(t);return e(r)}}catch{}return!1}function AVe(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function SVe(t){return t?.topic}function Uk(t){return typeof t<"u"&&typeof t!==null}function UK(){const t=L9();return new Promise(e=>{switch(t){case nu.browser:e(CVe());break;case nu.reactNative:e(kVe());break;case nu.node:e(IVe());break;default:e(!0)}})}function CVe(){return Q5()&&navigator?.onLine}async function kVe(){return vm()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo?(await globalThis?.NetInfo.fetch())?.isConnected:!0}function IVe(){return!0}function TVe(t){switch(L9()){case nu.browser:$Ve(t);break;case nu.reactNative:MVe(t);break}}function $Ve(t){!vm()&&Q5()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function MVe(t){vm()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo&&globalThis?.NetInfo.addEventListener(e=>t(e?.isConnected))}function PVe(){var t;return Q5()&&kl.getDocument()?((t=kl.getDocument())==null?void 0:t.visibilityState)==="visible":!0}const NVe="PARSE_ERROR",RVe="INVALID_REQUEST",OVe="METHOD_NOT_FOUND",jVe="INVALID_PARAMS",Tce="INTERNAL_ERROR",rL="SERVER_ERROR",LVe=[-32700,-32600,-32601,-32602,-32603],Lb={[NVe]:{code:-32700,message:"Parse error"},[RVe]:{code:-32600,message:"Invalid Request"},[OVe]:{code:-32601,message:"Method not found"},[jVe]:{code:-32602,message:"Invalid params"},[Tce]:{code:-32603,message:"Internal error"},[rL]:{code:-32e3,message:"Server error"}},$ce=rL;function DVe(t){return LVe.includes(t)}function FK(t){return Object.keys(Lb).includes(t)?Lb[t]:Lb[$ce]}function BVe(t){const e=Object.values(Lb).find(r=>r.code===t);return e||Lb[$ce]}function Mce(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var Fk={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var PP=function(t,e){return PP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},PP(t,e)};function UVe(t,e){PP(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var NP=function(){return NP=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},NP.apply(this,arguments)};function FVe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function zVe(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function WVe(t,e){return function(r,n){e(r,n,t)}}function qVe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function HVe(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}function VVe(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(c){u=[6,c],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function KVe(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function GVe(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function RP(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pce(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function YVe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Pce(arguments[e]));return t}function ZVe(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function r5(t){return this instanceof r5?(this.v=t,this):new r5(t)}function QVe(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(m){n[m]&&(i[m]=function(y){return new Promise(function(b,E){s.push([m,y,b,E])>1||a(m,y)})})}function a(m,y){try{l(n[m](y))}catch(b){h(s[0][3],b)}}function l(m){m.value instanceof r5?Promise.resolve(m.value.v).then(u,c):h(s[0][2],m)}function u(m){a("next",m)}function c(m){a("throw",m)}function h(m,y){m(y),s.shift(),s.length&&a(s[0][0],s[0][1])}}function JVe(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:r5(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function XVe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof RP=="function"?RP(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}function eKe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function tKe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function rKe(t){return t&&t.__esModule?t:{default:t}}function nKe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function iKe(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const sKe=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return NP},__asyncDelegator:JVe,__asyncGenerator:QVe,__asyncValues:XVe,__await:r5,__awaiter:HVe,__classPrivateFieldGet:nKe,__classPrivateFieldSet:iKe,__createBinding:KVe,__decorate:zVe,__exportStar:GVe,__extends:UVe,__generator:VVe,__importDefault:rKe,__importStar:tKe,__makeTemplateObject:eKe,__metadata:qVe,__param:WVe,__read:Pce,__rest:FVe,__spread:YVe,__spreadArrays:ZVe,__values:RP},Symbol.toStringTag,{value:"Module"})),oKe=rm(sKe);var eh={},zK;function aKe(){if(zK)return eh;zK=1,Object.defineProperty(eh,"__esModule",{value:!0}),eh.isBrowserCryptoAvailable=eh.getSubtleCrypto=eh.getBrowerCrypto=void 0;function t(){return globalThis?.crypto||globalThis?.msCrypto||{}}eh.getBrowerCrypto=t;function e(){const n=t();return n.subtle||n.webkitSubtle}eh.getSubtleCrypto=e;function r(){return!!t()&&!!e()}return eh.isBrowserCryptoAvailable=r,eh}var th={},WK;function lKe(){if(WK)return th;WK=1,Object.defineProperty(th,"__esModule",{value:!0}),th.isBrowser=th.isNode=th.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}th.isReactNative=t;function e(){return typeof pi<"u"&&typeof pi.versions<"u"&&typeof pi.versions.node<"u"}th.isNode=e;function r(){return!t()&&!e()}return th.isBrowser=r,th}var qK;function cKe(){return qK||(qK=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=oKe;e.__exportStar(aKe(),t),e.__exportStar(lKe(),t)})(Fk)),Fk}var uKe=cKe();function sd(t=3){const e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function I0(t=6){return BigInt(sd(t))}function hd(t,e,r){return{id:r||sd(),jsonrpc:"2.0",method:t,params:e}}function n5(t,e){return{id:t,jsonrpc:"2.0",result:e}}function H9(t,e,r){return{id:t,jsonrpc:"2.0",error:dKe(e)}}function dKe(t,e){return typeof t>"u"?FK(Tce):(typeof t=="string"&&(t=Object.assign(Object.assign({},FK(rL)),{message:t})),DVe(t.code)&&(t=BVe(t.code)),t)}class hKe{}class fKe extends hKe{constructor(){super()}}class pKe extends fKe{constructor(e){super()}}const gKe="^https?:",mKe="^wss?:";function yKe(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function Nce(t,e){const r=yKe(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function HK(t){return Nce(t,gKe)}function VK(t){return Nce(t,mKe)}function wKe(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function Rce(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function nL(t){return Rce(t)&&"method"in t}function V9(t){return Rce(t)&&(od(t)||Jl(t))}function od(t){return"result"in t}function Jl(t){return"error"in t}let Ec=class extends pKe{constructor(e){super(e),this.events=new Pl.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(hd(e.method,e.params||[],e.id||I0().toString()),r)}async requestStrict(e,r){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{Jl(s)?i(s.error):n(s.result)});try{await this.connection.send(e,r)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),V9(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const vKe=()=>typeof WebSocket<"u"?WebSocket:typeof globalThis<"u"&&typeof globalThis.WebSocket<"u"?globalThis.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),bKe=()=>typeof WebSocket<"u"||typeof globalThis<"u"&&typeof globalThis.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",KK=t=>t.split("?")[0],GK=10,xKe=vKe();let EKe=class{constructor(e){if(this.url=e,this.events=new Pl.EventEmitter,this.registering=!1,!VK(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Vh(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!VK(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{const i=uKe.isReactNative()?void 0:{rejectUnauthorized:!wKe(e)},s=new xKe(e,[],i);bKe()?s.onerror=o=>{const a=o;n(this.emitError(a.error))}:s.on("error",o=>{n(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),r(s)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Hg(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=H9(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return Mce(e,KK(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>GK&&this.events.setMaxListeners(GK)}emitError(e){const r=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${KK(this.url)}`));return this.events.emit("register_error",r),r}};var _Ke={};const Oce="wc",jce=2,OP="core",$d=`${Oce}@2:${OP}:`,AKe={logger:"error"},SKe={database:":memory:"},CKe="crypto",YK="client_ed25519_seed",kKe=Tt.ONE_DAY,IKe="keychain",TKe="0.3",$Ke="messages",MKe="0.3",PKe=Tt.SIX_HOURS,NKe="publisher",Lce="irn",RKe="error",Dce="wss://relay.walletconnect.org",OKe="relayer",Oi={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},jKe="_subscription",Wl={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},LKe=.1,jP="2.21.7",si={link_mode:"link_mode",relay:"relay"},h8={inbound:"inbound",outbound:"outbound"},DKe="0.3",BKe="WALLETCONNECT_CLIENT_ID",ZK="WALLETCONNECT_LINK_MODE_APPS",sl={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},UKe="subscription",FKe="0.3",zKe="pairing",WKe="0.3",Q2={wc_pairingDelete:{req:{ttl:Tt.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Tt.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Tt.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Tt.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Tt.ONE_DAY,prompt:!1,tag:0},res:{ttl:Tt.ONE_DAY,prompt:!1,tag:0}}},Zp={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Nc={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},qKe="history",HKe="0.3",VKe="expirer",Zl={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},KKe="0.3",GKe="verify-api",YKe="https://verify.walletconnect.com",Bce="https://verify.walletconnect.org",Db=Bce,ZKe=`${Db}/v3`,QKe=[YKe,Bce],JKe="echo",XKe="https://echo.walletconnect.com",nd={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},lh={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Bf={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},J2={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Np={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},X2={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},eGe=.1,tGe="event-client",rGe=86400,nGe="https://pulse.walletconnect.org/batch";function iGe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,l=t.charAt(0),u=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function h(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var E=0,A=0,M=0,O=b.length;M!==O&&b[M]===0;)M++,E++;for(var P=(O-M)*c+1>>>0,z=new Uint8Array(P);M!==O;){for(var L=b[M],W=0,H=P-1;(L!==0||W<A)&&H!==-1;H--,W++)L+=256*z[H]>>>0,z[H]=L%a>>>0,L=L/a>>>0;if(L!==0)throw new Error("Non-zero carry");A=W,M++}for(var G=P-A;G!==P&&z[G]===0;)G++;for(var N=l.repeat(E);G<P;++G)N+=t.charAt(z[G]);return N}function m(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var E=0;if(b[E]!==" "){for(var A=0,M=0;b[E]===l;)A++,E++;for(var O=(b.length-E)*u+1>>>0,P=new Uint8Array(O);b[E];){var z=r[b.charCodeAt(E)];if(z===255)return;for(var L=0,W=O-1;(z!==0||L<M)&&W!==-1;W--,L++)z+=a*P[W]>>>0,P[W]=z%256>>>0,z=z/256>>>0;if(z!==0)throw new Error("Non-zero carry");M=L,E++}if(b[E]!==" "){for(var H=O-M;H!==O&&P[H]===0;)H++;for(var G=new Uint8Array(A+(O-H)),N=A;H!==O;)G[N++]=P[H++];return G}}}function y(b){var E=m(b);if(E)return E;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:m,decode:y}}var sGe=iGe,oGe=sGe;const Uce=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},aGe=t=>new TextEncoder().encode(t),lGe=t=>new TextDecoder().decode(t);let cGe=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},uGe=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Fce(this,e)}},dGe=class{constructor(e){this.decoders=e}or(e){return Fce(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const Fce=(t,e)=>new dGe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let hGe=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new cGe(e,r,n),this.decoder=new uGe(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const K9=({name:t,prefix:e,encode:r,decode:n})=>new hGe(t,e,r,n),e6=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=oGe(r,e);return K9({prefix:t,name:e,encode:n,decode:s=>Uce(i(s))})},fGe=(t,e,r,n)=>{const i={};for(let c=0;c<e.length;++c)i[e[c]]=c;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,l=0,u=0;for(let c=0;c<s;++c){const h=i[t[c]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);l=l<<r|h,a+=r,a>=8&&(a-=8,o[u++]=255&l>>a)}if(a>=r||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return o},pGe=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let l=0;l<t.length;++l)for(a=a<<8|t[l],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},eo=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>K9({prefix:e,name:t,encode(i){return pGe(i,n,r)},decode(i){return fGe(i,n,r,t)}}),gGe=K9({prefix:"\0",name:"identity",encode:t=>lGe(t),decode:t=>aGe(t)});var mGe=Object.freeze({__proto__:null,identity:gGe});const yGe=eo({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var wGe=Object.freeze({__proto__:null,base2:yGe});const vGe=eo({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var bGe=Object.freeze({__proto__:null,base8:vGe});const xGe=e6({prefix:"9",name:"base10",alphabet:"0123456789"});var EGe=Object.freeze({__proto__:null,base10:xGe});const _Ge=eo({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),AGe=eo({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var SGe=Object.freeze({__proto__:null,base16:_Ge,base16upper:AGe});const CGe=eo({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),kGe=eo({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),IGe=eo({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),TGe=eo({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),$Ge=eo({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),MGe=eo({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),PGe=eo({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),NGe=eo({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),RGe=eo({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var OGe=Object.freeze({__proto__:null,base32:CGe,base32upper:kGe,base32pad:IGe,base32padupper:TGe,base32hex:$Ge,base32hexupper:MGe,base32hexpad:PGe,base32hexpadupper:NGe,base32z:RGe});const jGe=e6({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),LGe=e6({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var DGe=Object.freeze({__proto__:null,base36:jGe,base36upper:LGe});const BGe=e6({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),UGe=e6({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var FGe=Object.freeze({__proto__:null,base58btc:BGe,base58flickr:UGe});const zGe=eo({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),WGe=eo({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),qGe=eo({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),HGe=eo({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var VGe=Object.freeze({__proto__:null,base64:zGe,base64pad:WGe,base64url:qGe,base64urlpad:HGe});const zce=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),KGe=zce.reduce((t,e,r)=>(t[r]=e,t),[]),GGe=zce.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function YGe(t){return t.reduce((e,r)=>(e+=KGe[r],e),"")}function ZGe(t){const e=[];for(const r of t){const n=GGe[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const QGe=K9({prefix:"🚀",name:"base256emoji",encode:YGe,decode:ZGe});var JGe=Object.freeze({__proto__:null,base256emoji:QGe}),XGe=Wce,QK=128,eYe=-128,tYe=Math.pow(2,31);function Wce(t,e,r){e=e||[],r=r||0;for(var n=r;t>=tYe;)e[r++]=t&255|QK,t/=128;for(;t&eYe;)e[r++]=t&255|QK,t>>>=7;return e[r]=t|0,Wce.bytes=r-n+1,e}var rYe=LP,nYe=128,JK=127;function LP(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw LP.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&JK)<<i:(o&JK)*Math.pow(2,i),i+=7}while(o>=nYe);return LP.bytes=s-n,r}var iYe=Math.pow(2,7),sYe=Math.pow(2,14),oYe=Math.pow(2,21),aYe=Math.pow(2,28),lYe=Math.pow(2,35),cYe=Math.pow(2,42),uYe=Math.pow(2,49),dYe=Math.pow(2,56),hYe=Math.pow(2,63),fYe=function(t){return t<iYe?1:t<sYe?2:t<oYe?3:t<aYe?4:t<lYe?5:t<cYe?6:t<uYe?7:t<dYe?8:t<hYe?9:10},pYe={encode:XGe,decode:rYe,encodingLength:fYe},qce=pYe;const XK=(t,e,r=0)=>(qce.encode(t,e,r),e),eG=t=>qce.encodingLength(t),DP=(t,e)=>{const r=e.byteLength,n=eG(t),i=n+eG(r),s=new Uint8Array(i+r);return XK(t,s,0),XK(r,s,n),s.set(e,i),new gYe(t,r,e,s)};let gYe=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};const Hce=({name:t,code:e,encode:r})=>new mYe(t,e,r);let mYe=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?DP(this.code,r):r.then(n=>DP(this.code,n))}else throw Error("Unknown type, must be binary type")}};const Vce=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),yYe=Hce({name:"sha2-256",code:18,encode:Vce("SHA-256")}),wYe=Hce({name:"sha2-512",code:19,encode:Vce("SHA-512")});var vYe=Object.freeze({__proto__:null,sha256:yYe,sha512:wYe});const Kce=0,bYe="identity",Gce=Uce,xYe=t=>DP(Kce,Gce(t)),EYe={code:Kce,name:bYe,encode:Gce,digest:xYe};var _Ye=Object.freeze({__proto__:null,identity:EYe});new TextEncoder,new TextDecoder;const tG={...mGe,...wGe,...bGe,...EGe,...SGe,...OGe,...DGe,...FGe,...VGe,...JGe};({...vYe,..._Ye});function Yce(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function AYe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Yce(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Zce(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const rG=Zce("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),zk=Zce("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=AYe(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),SYe={utf8:rG,"utf-8":rG,hex:tG.base16,latin1:zk,ascii:zk,binary:zk,...tG};function CYe(t,e="utf8"){const r=SYe[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Yce(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var kYe=Object.defineProperty,IYe=(t,e,r)=>e in t?kYe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Vu=(t,e,r)=>IYe(t,typeof e!="symbol"?e+"":e,r);let TYe=class{constructor(e,r){this.core=e,this.logger=r,Vu(this,"keychain",new Map),Vu(this,"name",IKe),Vu(this,"version",TKe),Vu(this,"initialized",!1),Vu(this,"storagePrefix",$d),Vu(this,"init",async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}}),Vu(this,"has",n=>(this.isInitialized(),this.keychain.has(n))),Vu(this,"set",async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()}),Vu(this,"get",n=>{this.isInitialized();const i=this.keychain.get(n);if(typeof i>"u"){const{message:s}=$n("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i}),Vu(this,"del",async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()}),this.core=e,this.logger=oa(r,this.name)}get context(){return Ya(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,xP(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?EP(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=$n("NOT_INITIALIZED",this.name);throw new Error(e)}}};var $Ye=Object.defineProperty,MYe=(t,e,r)=>e in t?$Ye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ms=(t,e,r)=>MYe(t,typeof e!="symbol"?e+"":e,r);let PYe=class{constructor(e,r,n){this.core=e,this.logger=r,Ms(this,"name",CKe),Ms(this,"keychain"),Ms(this,"randomSessionIdentifier",MP()),Ms(this,"initialized",!1),Ms(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Ms(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),Ms(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=kV(i);return Kae(s.publicKey)}),Ms(this,"generateKeyPair",()=>{this.isInitialized();const i=aVe();return this.setPrivateKey(i.publicKey,i.privateKey)}),Ms(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=kV(s),a=this.randomSessionIdentifier;return await jBe(a,i,kKe,o)}),Ms(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),l=lVe(a,s);return this.setSymKey(l,o)}),Ms(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||cVe(i);return await this.keychain.set(o,i),o}),Ms(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),Ms(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),Ms(this,"encode",async(i,s,o)=>{this.isInitialized();const a=kce(o),l=Vh(s);if(LK(a))return hVe(l,o?.encoding);if(jK(a)){const m=a.senderPublicKey,y=a.receiverPublicKey;i=await this.generateSharedKey(m,y)}const u=this.getSymKey(i),{type:c,senderPublicKey:h}=a;return uVe({type:c,symKey:u,message:l,senderPublicKey:h,encoding:o?.encoding})}),Ms(this,"decode",async(i,s,o)=>{this.isInitialized();const a=pVe(s,o);if(LK(a)){const l=fVe(s,o?.encoding);return Hg(l)}if(jK(a)){const l=a.receiverPublicKey,u=a.senderPublicKey;i=await this.generateSharedKey(l,u)}try{const l=this.getSymKey(i),u=dVe({symKey:l,encoded:s,encoding:o?.encoding});return Hg(u)}catch(l){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(l)}}),Ms(this,"getPayloadType",(i,s=Cg)=>{const o=t5({encoded:i,encoding:s});return Vg(o.type)}),Ms(this,"getPayloadSenderPublicKey",(i,s=Cg)=>{const o=t5({encoded:i,encoding:s});return o.senderPublicKey?Ua(o.senderPublicKey,Xo):void 0}),this.core=e,this.logger=oa(r,this.name),this.keychain=n||new TYe(this.core,this.logger)}get context(){return Ya(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(YK)}catch{e=MP(),await this.keychain.set(YK,e)}return CYe(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=$n("NOT_INITIALIZED",this.name);throw new Error(e)}}};var NYe=Object.defineProperty,RYe=Object.defineProperties,OYe=Object.getOwnPropertyDescriptors,nG=Object.getOwnPropertySymbols,jYe=Object.prototype.hasOwnProperty,LYe=Object.prototype.propertyIsEnumerable,BP=(t,e,r)=>e in t?NYe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,DYe=(t,e)=>{for(var r in e||(e={}))jYe.call(e,r)&&BP(t,r,e[r]);if(nG)for(var r of nG(e))LYe.call(e,r)&&BP(t,r,e[r]);return t},BYe=(t,e)=>RYe(t,OYe(e)),tl=(t,e,r)=>BP(t,typeof e!="symbol"?e+"":e,r);let UYe=class extends LWe{constructor(e,r){super(e,r),this.logger=e,this.core=r,tl(this,"messages",new Map),tl(this,"messagesWithoutClientAck",new Map),tl(this,"name",$Ke),tl(this,"version",MKe),tl(this,"initialized",!1),tl(this,"storagePrefix",$d),tl(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}}),tl(this,"set",async(n,i,s)=>{this.isInitialized();const o=d8(i);let a=this.messages.get(n);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(n,a),s===h8.inbound){const l=this.messagesWithoutClientAck.get(n)||{};this.messagesWithoutClientAck.set(n,BYe(DYe({},l),{[o]:i}))}return await this.persist(),o}),tl(this,"get",n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i}),tl(this,"getWithoutAck",n=>{this.isInitialized();const i={};for(const s of n){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),tl(this,"has",(n,i)=>{this.isInitialized();const s=this.get(n),o=d8(i);return typeof s[o]<"u"}),tl(this,"ack",async(n,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(n);if(typeof s>"u")return;const o=d8(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(n):this.messagesWithoutClientAck.set(n,s),await this.persist()}),tl(this,"del",async n=>{this.isInitialized(),this.messages.delete(n),this.messagesWithoutClientAck.delete(n),await this.persist()}),this.logger=oa(e,this.name),this.core=r}get context(){return Ya(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,xP(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,xP(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?EP(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?EP(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=$n("NOT_INITIALIZED",this.name);throw new Error(e)}}};var FYe=Object.defineProperty,zYe=Object.defineProperties,WYe=Object.getOwnPropertyDescriptors,iG=Object.getOwnPropertySymbols,qYe=Object.prototype.hasOwnProperty,HYe=Object.prototype.propertyIsEnumerable,UP=(t,e,r)=>e in t?FYe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,A1=(t,e)=>{for(var r in e||(e={}))qYe.call(e,r)&&UP(t,r,e[r]);if(iG)for(var r of iG(e))HYe.call(e,r)&&UP(t,r,e[r]);return t},sG=(t,e)=>zYe(t,WYe(e)),ql=(t,e,r)=>UP(t,typeof e!="symbol"?e+"":e,r);class VYe extends DWe{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,ql(this,"events",new Pl.EventEmitter),ql(this,"name",NKe),ql(this,"queue",new Map),ql(this,"publishTimeout",Tt.toMiliseconds(Tt.ONE_MINUTE)),ql(this,"initialPublishTimeout",Tt.toMiliseconds(Tt.ONE_SECOND*15)),ql(this,"needsTransportRestart",!1),ql(this,"publish",async(n,i,s)=>{var o,a,l,u,c;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});const h=s?.ttl||PKe,m=s?.prompt||!1,y=s?.tag||0,b=s?.id||I0().toString(),E=ay(ME().protocol),A={id:b,method:s?.publishMethod||E.publish,params:A1({topic:n,message:i,ttl:h,prompt:m,tag:y,attestation:s?.attestation},s?.tvf&&{tvf:s.tvf})},M=`Failed to publish payload, please try again. id:${b} tag:${y}`;try{sb((o=A.params)==null?void 0:o.prompt)&&((a=A.params)==null||delete a.prompt),sb((l=A.params)==null?void 0:l.tag)&&((u=A.params)==null||delete u.tag);const O=new Promise(async P=>{const z=({id:W})=>{var H;((H=A.id)==null?void 0:H.toString())===W.toString()&&(this.removeRequestFromQueue(W),this.relayer.events.removeListener(Oi.publish,z),P())};this.relayer.events.on(Oi.publish,z);const L=xd(new Promise((W,H)=>{this.rpcPublish(A,s).then(W).catch(G=>{this.logger.warn(G,G?.message),H(G)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${b} tag:${y}`);try{await L,this.events.removeListener(Oi.publish,z)}catch(W){this.queue.set(b,{request:A,opts:s,attempt:1}),this.logger.warn(W,W?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:b,topic:n,message:i,opts:s}}),await xd(O,this.publishTimeout,M)}catch(O){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(O),(c=s?.internal)!=null&&c.throwOnFailedPublish)throw O}finally{this.queue.delete(b)}}),ql(this,"publishCustom",async n=>{var i,s,o,a,l;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:n});const{payload:u,opts:c={}}=n,{attestation:h,tvf:m,publishMethod:y,prompt:b,tag:E,ttl:A=Tt.FIVE_MINUTES}=c,M=c.id||I0().toString(),O=ay(ME().protocol),P=y||O.publish,z={id:M,method:P,params:A1(sG(A1({},u),{ttl:A,prompt:b,tag:E,attestation:h}),m)},L=`Failed to publish custom payload, please try again. id:${M} tag:${E}`;try{sb((i=z.params)==null?void 0:i.prompt)&&((s=z.params)==null||delete s.prompt),sb((o=z.params)==null?void 0:o.tag)&&((a=z.params)==null||delete a.tag);const W=new Promise(async H=>{const G=({id:F})=>{var U;((U=z.id)==null?void 0:U.toString())===F.toString()&&(this.removeRequestFromQueue(F),this.relayer.events.removeListener(Oi.publish,G),H())};this.relayer.events.on(Oi.publish,G);const N=xd(new Promise((F,U)=>{this.rpcPublish(z,c).then(F).catch(j=>{this.logger.warn(j,j?.message),U(j)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${P} id:${M} tag:${E}`);try{await N,this.events.removeListener(Oi.publish,G)}catch(F){this.queue.set(M,{request:z,opts:c,attempt:1}),this.logger.warn(F,F?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:M,payload:u,opts:c}}),await xd(W,this.publishTimeout,L)}catch(W){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(W),(l=c?.internal)!=null&&l.throwOnFailedPublish)throw W}finally{this.queue.delete(M)}}),ql(this,"on",(n,i)=>{this.events.on(n,i)}),ql(this,"once",(n,i)=>{this.events.once(n,i)}),ql(this,"off",(n,i)=>{this.events.off(n,i)}),ql(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.relayer=e,this.logger=oa(r,this.name),this.registerEventListeners()}get context(){return Ya(this.logger)}async rpcPublish(e,r){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const n=await this.relayer.request(e);return this.relayer.events.emit(Oi.publish,A1(A1({},e),r)),this.logger.debug("Successfully Published Payload"),n}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,r)=>{var n;const i=e.attempt+1;this.queue.set(r,sG(A1({},e),{attempt:i})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(n=e.request.params)==null?void 0:n.tag}, attempt: ${i}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(ym.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Oi.connection_stalled);return}this.checkQueue()}),this.relayer.on(Oi.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var KYe=Object.defineProperty,GYe=(t,e,r)=>e in t?KYe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,S1=(t,e,r)=>GYe(t,typeof e!="symbol"?e+"":e,r);class YYe{constructor(){S1(this,"map",new Map),S1(this,"set",(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])}),S1(this,"get",e=>this.map.get(e)||[]),S1(this,"exists",(e,r)=>this.get(e).includes(r)),S1(this,"delete",(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const i=n.filter(s=>s!==r);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),S1(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var ZYe=Object.defineProperty,QYe=Object.defineProperties,JYe=Object.getOwnPropertyDescriptors,oG=Object.getOwnPropertySymbols,XYe=Object.prototype.hasOwnProperty,eZe=Object.prototype.propertyIsEnumerable,FP=(t,e,r)=>e in t?ZYe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ev=(t,e)=>{for(var r in e||(e={}))XYe.call(e,r)&&FP(t,r,e[r]);if(oG)for(var r of oG(e))eZe.call(e,r)&&FP(t,r,e[r]);return t},Wk=(t,e)=>QYe(t,JYe(e)),Fn=(t,e,r)=>FP(t,typeof e!="symbol"?e+"":e,r);let tZe=class extends FWe{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,Fn(this,"subscriptions",new Map),Fn(this,"topicMap",new YYe),Fn(this,"events",new Pl.EventEmitter),Fn(this,"name",UKe),Fn(this,"version",FKe),Fn(this,"pending",new Map),Fn(this,"cached",[]),Fn(this,"initialized",!1),Fn(this,"storagePrefix",$d),Fn(this,"subscribeTimeout",Tt.toMiliseconds(Tt.ONE_MINUTE)),Fn(this,"initialSubscribeTimeout",Tt.toMiliseconds(Tt.ONE_SECOND*15)),Fn(this,"clientId"),Fn(this,"batchSubscribeTopicsLimit",500),Fn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),Fn(this,"subscribe",async(n,i)=>{var s;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{const o=ME(i),a={topic:n,relay:o,transportType:i?.transportType};(s=i?.internal)!=null&&s.skipSubscribe||this.pending.set(n,a);const l=await this.rpcSubscribe(n,o,i);return typeof l=="string"&&(this.onSubscribe(l,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}})),l}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}}),Fn(this,"unsubscribe",async(n,i)=>{this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)}),Fn(this,"isSubscribed",n=>new Promise(i=>{i(this.topicMap.topics.includes(n))})),Fn(this,"isKnownTopic",n=>new Promise(i=>{i(this.topicMap.topics.includes(n)||this.pending.has(n)||this.cached.some(s=>s.topic===n))})),Fn(this,"on",(n,i)=>{this.events.on(n,i)}),Fn(this,"once",(n,i)=>{this.events.once(n,i)}),Fn(this,"off",(n,i)=>{this.events.off(n,i)}),Fn(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),Fn(this,"start",async()=>{await this.onConnect()}),Fn(this,"stop",async()=>{await this.onDisconnect()}),Fn(this,"restart",async()=>{await this.restore(),await this.onRestart()}),Fn(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const n=[];this.pending.forEach(i=>{n.push(i)}),await this.batchSubscribe(n)}),Fn(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(ym.pulse,async()=>{await this.checkPending()}),this.events.on(sl.created,async n=>{const i=sl.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()}),this.events.on(sl.deleted,async n=>{const i=sl.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()})}),this.relayer=e,this.logger=oa(r,this.name),this.clientId=""}get context(){return Ya(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const i=ME(n);await this.restartToComplete({topic:e,id:r,relay:i}),await this.rpcUnsubscribe(e,r,i);const s=ib("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,r,n){var i,s;const o=await this.getSubscriptionId(e);if((i=n?.internal)!=null&&i.skipSubscribe)return o;(!n||n?.transportType===si.relay)&&await this.restartToComplete({topic:e,id:e,relay:r});const a={method:ay(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});const l=(s=n?.internal)==null?void 0:s.throwOnFailedPublish;try{if(n?.transportType===si.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(h=>this.logger.warn(h))},Tt.toMiliseconds(Tt.ONE_SECOND)),o;const u=new Promise(async h=>{const m=y=>{y.topic===e&&(this.events.removeListener(sl.created,m),h(y.id))};this.events.on(sl.created,m);try{const y=await xd(new Promise((b,E)=>{this.relayer.request(a).catch(A=>{this.logger.warn(A,A?.message),E(A)}).then(b)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(sl.created,m),h(y)}catch{}}),c=await xd(u,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!c&&l)throw new Error(`Subscribing to ${e} failed, please try again`);return c?o:null}catch(u){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Oi.connection_stalled),l)throw u}return null}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,n={method:ay(r.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await xd(new Promise(i=>{this.relayer.request(n).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Oi.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const r=e[0].relay,n={method:ay(r.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let i;try{i=await await xd(new Promise((s,o)=>{this.relayer.request(n).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Oi.connection_stalled)}return i}rpcUnsubscribe(e,r,n){const i={method:ay(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,r){this.setSubscription(e,Wk(ev({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,ev({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r)}addSubscription(e,r){this.subscriptions.set(e,ev({},r)),this.topicMap.set(r.topic,e),this.events.emit(sl.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=$n("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(sl.deleted,Wk(ev({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(sl.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],r=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<r;n++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(sl.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(r=>{var n;return r.topic===((n=this.subscriptions.get(r.id))==null?void 0:n.topic)})){const{message:r}=$n("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async r=>Wk(ev({},r),{id:await this.getSubscriptionId(r.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(await oqe(Tt.toMiliseconds(Tt.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=$n("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return d8(e+await this.getClientId())}};var rZe=Object.defineProperty,aG=Object.getOwnPropertySymbols,nZe=Object.prototype.hasOwnProperty,iZe=Object.prototype.propertyIsEnumerable,zP=(t,e,r)=>e in t?rZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,lG=(t,e)=>{for(var r in e||(e={}))nZe.call(e,r)&&zP(t,r,e[r]);if(aG)for(var r of aG(e))iZe.call(e,r)&&zP(t,r,e[r]);return t},vn=(t,e,r)=>zP(t,typeof e!="symbol"?e+"":e,r);let sZe=class extends BWe{constructor(e){super(e),vn(this,"protocol","wc"),vn(this,"version",2),vn(this,"core"),vn(this,"logger"),vn(this,"events",new Pl.EventEmitter),vn(this,"provider"),vn(this,"messages"),vn(this,"subscriber"),vn(this,"publisher"),vn(this,"name",OKe),vn(this,"transportExplicitlyClosed",!1),vn(this,"initialized",!1),vn(this,"connectionAttemptInProgress",!1),vn(this,"relayUrl"),vn(this,"projectId"),vn(this,"packageName"),vn(this,"bundleId"),vn(this,"hasExperiencedNetworkDisruption",!1),vn(this,"pingTimeout"),vn(this,"heartBeatTimeout",Tt.toMiliseconds(Tt.THIRTY_SECONDS+Tt.FIVE_SECONDS)),vn(this,"reconnectTimeout"),vn(this,"connectPromise"),vn(this,"reconnectInProgress",!1),vn(this,"requestsInFlight",[]),vn(this,"connectTimeout",Tt.toMiliseconds(Tt.ONE_SECOND*15)),vn(this,"request",async r=>{var n,i;this.logger.debug("Publishing Request Payload");const s=r.id||I0().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - publishing...");const o=`${s}:${((i=r.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(r);return this.requestsInFlight=this.requestsInFlight.filter(l=>l!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),vn(this,"resetPingTimeout",()=>{IE()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,n,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(n=(r=this.provider)==null?void 0:r.connection)==null?void 0:n.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(o){this.logger.warn(o,o?.message)}},this.heartBeatTimeout))}),vn(this,"onPayloadHandler",r=>{this.onProviderPayload(r),this.resetPingTimeout()}),vn(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected 🛜"),this.startPingTimeout(),this.events.emit(Oi.connect)}),vn(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected 🛑"),this.requestsInFlight=[],this.onProviderDisconnect()}),vn(this,"onProviderErrorHandler",r=>{this.logger.fatal(`Fatal socket error: ${r.message}`),this.events.emit(Oi.error,r),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),vn(this,"registerProviderListeners",()=>{this.provider.on(Wl.payload,this.onPayloadHandler),this.provider.on(Wl.connect,this.onConnectHandler),this.provider.on(Wl.disconnect,this.onDisconnectHandler),this.provider.on(Wl.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?oa(e.logger,this.name):Y5(j9({level:e.logger||RKe})),this.messages=new UYe(this.logger,e.core),this.subscriber=new tZe(this,this.logger),this.publisher=new VYe(this,this.logger),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||Dce,YWe()?this.packageName=dK():ZWe()&&(this.bundleId=dK()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return Ya(this.logger)}get connected(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1||!1}get connecting(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now(),transportType:si.relay},h8.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,r){var n,i,s;this.isInitialized(),(!(r!=null&&r.transportType)||r?.transportType==="relay")&&await this.toEstablishConnection();const o=typeof((n=r?.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(i=r?.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",l;const u=c=>{c.topic===e&&(this.subscriber.off(sl.created,u),l())};return await Promise.all([new Promise(c=>{l=c,this.subscriber.on(sl.created,u)}),new Promise(async(c,h)=>{a=await this.subscriber.subscribe(e,lG({internal:{throwOnFailedPublish:o}},r)).catch(m=>{o&&h(m)})||a,c()})]),a}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await xd(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(r,n)=>{await this.connect(e).then(r).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await UK())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=e.sort((n,i)=>n.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${r.length} message events sorted`);for(const n of r)try{await this.onMessageEvent(n)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+i?.message)}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(e,r){const{topic:n}=e;if(!r.sessionExists){const i=Pb(Tt.FIVE_MINUTES),s={topic:n,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,s)}this.events.emit(Oi.message,e),await this.recordMessageEvent(e,h8.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let r=1;for(;r<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${r}...`),await this.createProvider(),await new Promise(async(n,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(Wl.disconnect,s),await xd(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(Wl.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const l=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Wl.disconnect,l),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(Wl.disconnect,l)})}),this.hasExperiencedNetworkDisruption=!1,n()})}catch(n){await this.subscriber.stop();const i=n;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${r}`);break}await new Promise(n=>setTimeout(n,Tt.toMiliseconds(r*1))),r++}}startPingTimeout(){var e,r,n,i,s;if(IE())try{(r=(e=this.provider)==null?void 0:e.connection)!=null&&r.socket&&((s=(i=(n=this.provider)==null?void 0:n.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Ec(new EKe(tqe({sdkVersion:jP,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,r){const{topic:n,message:i}=e;await this.messages.set(n,i,r)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isKnownTopic(r))return this.logger.warn(`Ignoring message for unknown topic ${r}`),!0;const i=this.messages.has(r,n);return i&&this.logger.warn(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),nL(e)){if(!e.method.endsWith(jKe))return;const r=e.params,{topic:n,message:i,publishedAt:s,attestation:o}=r.data,a={topic:n,message:i,publishedAt:s,transportType:si.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(lG({type:"event",event:r.id},a)),this.events.emit(r.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else V9(e)&&this.events.emit(Oi.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,h8.inbound),this.events.emit(Oi.message,e))}async acknowledgePayload(e){const r=n5(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(Wl.payload,this.onPayloadHandler),this.provider.off(Wl.connect,this.onConnectHandler),this.provider.off(Wl.disconnect,this.onDisconnectHandler),this.provider.off(Wl.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await UK();TVe(async r=>{e!==r&&(e=r,r?await this.transportOpen().catch(n=>this.logger.error(n,n?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(ym.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&PVe())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(r){this.logger.warn(r,r?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Oi.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},Tt.toMiliseconds(LKe)))))}isInitialized(){if(!this.initialized){const{message:e}=$n("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}};function oZe(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function cG(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function uG(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const aZe="[object RegExp]",lZe="[object String]",cZe="[object Number]",uZe="[object Boolean]",dG="[object Arguments]",dZe="[object Symbol]",hZe="[object Date]",fZe="[object Map]",pZe="[object Set]",gZe="[object Array]",mZe="[object Function]",yZe="[object ArrayBuffer]",qk="[object Object]",wZe="[object Error]",vZe="[object DataView]",bZe="[object Uint8Array]",xZe="[object Uint8ClampedArray]",EZe="[object Uint16Array]",_Ze="[object Uint32Array]",AZe="[object BigUint64Array]",SZe="[object Int8Array]",CZe="[object Int16Array]",kZe="[object Int32Array]",IZe="[object BigInt64Array]",TZe="[object Float32Array]",$Ze="[object Float64Array]";function MZe(){}function hG(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function PZe(t,e,r){return ob(t,e,void 0,void 0,void 0,void 0,r)}function ob(t,e,r,n,i,s,o){const a=o(t,e,r,n,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return Bb(t,e,s,o)}return Bb(t,e,s,o)}function Bb(t,e,r,n){if(Object.is(t,e))return!0;let i=uG(t),s=uG(e);if(i===dG&&(i=qk),s===dG&&(s=qk),i!==s)return!1;switch(i){case lZe:return t.toString()===e.toString();case cZe:{const l=t.valueOf(),u=e.valueOf();return oZe(l,u)}case uZe:case hZe:case dZe:return Object.is(t.valueOf(),e.valueOf());case aZe:return t.source===e.source&&t.flags===e.flags;case mZe:return t===e}r=r??new Map;const o=r.get(t),a=r.get(e);if(o!=null&&a!=null)return o===e;r.set(t,e),r.set(e,t);try{switch(i){case fZe:{if(t.size!==e.size)return!1;for(const[l,u]of t.entries())if(!e.has(l)||!ob(u,e.get(l),l,t,e,r,n))return!1;return!0}case pZe:{if(t.size!==e.size)return!1;const l=Array.from(t.values()),u=Array.from(e.values());for(let c=0;c<l.length;c++){const h=l[c],m=u.findIndex(y=>ob(h,y,void 0,t,e,r,n));if(m===-1)return!1;u.splice(m,1)}return!0}case gZe:case bZe:case xZe:case EZe:case _Ze:case AZe:case SZe:case CZe:case kZe:case IZe:case TZe:case $Ze:{if(typeof kt<"u"&&kt.isBuffer(t)!==kt.isBuffer(e)||t.length!==e.length)return!1;for(let l=0;l<t.length;l++)if(!ob(t[l],e[l],l,t,e,r,n))return!1;return!0}case yZe:return t.byteLength!==e.byteLength?!1:Bb(new Uint8Array(t),new Uint8Array(e),r,n);case vZe:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:Bb(new Uint8Array(t),new Uint8Array(e),r,n);case wZe:return t.name===e.name&&t.message===e.message;case qk:{if(!(Bb(t.constructor,e.constructor,r,n)||hG(t)&&hG(e)))return!1;const l=[...Object.keys(t),...cG(t)],u=[...Object.keys(e),...cG(e)];if(l.length!==u.length)return!1;for(let c=0;c<l.length;c++){const h=l[c],m=t[h];if(!Object.hasOwn(e,h))return!1;const y=e[h];if(!ob(m,y,h,t,e,r,n))return!1}return!0}default:return!1}}finally{r.delete(t),r.delete(e)}}function NZe(t,e){return PZe(t,e,MZe)}var RZe=Object.defineProperty,fG=Object.getOwnPropertySymbols,OZe=Object.prototype.hasOwnProperty,jZe=Object.prototype.propertyIsEnumerable,WP=(t,e,r)=>e in t?RZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,pG=(t,e)=>{for(var r in e||(e={}))OZe.call(e,r)&&WP(t,r,e[r]);if(fG)for(var r of fG(e))jZe.call(e,r)&&WP(t,r,e[r]);return t},ma=(t,e,r)=>WP(t,typeof e!="symbol"?e+"":e,r);let bm=class extends UWe{constructor(e,r,n,i=$d,s=void 0){super(e,r,n,i),this.core=e,this.logger=r,this.name=n,ma(this,"map",new Map),ma(this,"version",DKe),ma(this,"cached",[]),ma(this,"initialized",!1),ma(this,"getKey"),ma(this,"storagePrefix",$d),ma(this,"recentlyDeleted",[]),ma(this,"recentlyDeletedLimit",200),ma(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!sb(o)?this.map.set(this.getKey(o),o):AVe(o)?this.map.set(o.id,o):SVe(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),ma(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),ma(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),ma(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(l=>NZe(a[l],o[l]))):this.values)),ma(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const l=pG(pG({},this.getData(o)),a);this.map.set(o,l),await this.persist()}),ma(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=oa(r,this.name),this.storagePrefix=i,this.getKey=s}get context(){return Ya(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){if(this.recentlyDeleted.includes(e)){const{message:i}=$n("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:n}=$n("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=$n("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=$n("NOT_INITIALIZED",this.name);throw new Error(e)}}};var LZe=Object.defineProperty,DZe=(t,e,r)=>e in t?LZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,tn=(t,e,r)=>DZe(t,typeof e!="symbol"?e+"":e,r);let BZe=class{constructor(e,r){this.core=e,this.logger=r,tn(this,"name",zKe),tn(this,"version",WKe),tn(this,"events",new Aj),tn(this,"pairings"),tn(this,"initialized",!1),tn(this,"storagePrefix",$d),tn(this,"ignoredPayloadTypes",[zw]),tn(this,"registeredMethods",[]),tn(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),tn(this,"register",({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]}),tn(this,"create",async n=>{this.isInitialized();const i=MP(),s=await this.core.crypto.setSymKey(i),o=Pb(Tt.FIVE_MINUTES),a={protocol:Lce},l={topic:s,expiry:o,relay:a,active:!1,methods:n?.methods},u=BK({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:n?.methods});return this.events.emit(Zp.create,l),this.core.expirer.set(s,o),await this.pairings.set(s,l),await this.core.relayer.subscribe(s,{transportType:n?.transportType,internal:n?.internal}),{topic:s,uri:u}}),tn(this,"pair",async n=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:n?.uri,trace:[nd.pairing_started]}});this.isValidPair(n,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:l,methods:u}=DK(n.uri);i.props.properties.topic=s,i.addTrace(nd.pairing_uri_validation_success),i.addTrace(nd.pairing_uri_not_expired);let c;if(this.pairings.keys.includes(s)){if(c=this.pairings.get(s),i.addTrace(nd.existing_pairing),c.active)throw i.setError(lh.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(nd.pairing_not_expired)}const h=l||Pb(Tt.FIVE_MINUTES),m={topic:s,relay:a,expiry:h,active:!1,methods:u};this.core.expirer.set(s,h),await this.pairings.set(s,m),i.addTrace(nd.store_new_pairing),n.activatePairing&&await this.activate({topic:s}),this.events.emit(Zp.create,m),i.addTrace(nd.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(nd.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(lh.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(y){throw i.setError(lh.subscribe_pairing_topic_failure),y}return i.addTrace(nd.subscribe_pairing_topic_success),m}),tn(this,"activate",async({topic:n})=>{this.isInitialized();const i=Pb(Tt.FIVE_MINUTES);this.core.expirer.set(n,i),await this.pairings.update(n,{active:!0,expiry:i})}),tn(this,"ping",async n=>{this.isInitialized(),await this.isValidPing(n),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=n;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:l}=rqe();this.events.once(Pk("pairing_ping",s),({error:u})=>{u?l(u):a()}),await o()}}),tn(this,"updateExpiry",async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})}),tn(this,"updateMetadata",async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})}),tn(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),tn(this,"disconnect",async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",ib("USER_DISCONNECTED")),await this.deletePairing(i))}),tn(this,"formatUriFromPairing",n=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=n,l=this.core.crypto.keychain.get(i);return BK({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:l,relay:s,expiryTimestamp:o,methods:a})}),tn(this,"sendRequest",async(n,i,s)=>{const o=hd(i,s),a=await this.core.crypto.encode(n,o),l=Q2[i].req;return this.core.history.set(n,o),this.core.relayer.publish(n,a,l),o.id}),tn(this,"sendResult",async(n,i,s)=>{const o=n5(n,s),a=await this.core.crypto.encode(i,o),l=(await this.core.history.get(i,n)).request.method,u=Q2[l].res;await this.core.relayer.publish(i,a,u),await this.core.history.resolve(o)}),tn(this,"sendError",async(n,i,s)=>{const o=H9(n,s),a=await this.core.crypto.encode(i,o),l=(await this.core.history.get(i,n)).request.method,u=Q2[l]?Q2[l].res:Q2.unregistered_method.res;await this.core.relayer.publish(i,a,u),await this.core.history.resolve(o)}),tn(this,"deletePairing",async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,ib("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])}),tn(this,"cleanup",async()=>{const n=this.pairings.getAll().filter(i=>hK(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))}),tn(this,"onRelayEventRequest",async n=>{const{topic:i,payload:s}=n;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),tn(this,"onRelayEventResponse",async n=>{const{topic:i,payload:s}=n,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),tn(this,"onPairingPingRequest",async(n,i)=>{const{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit(Zp.ping,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),tn(this,"onPairingPingResponse",(n,i)=>{const{id:s}=i;setTimeout(()=>{od(i)?this.events.emit(Pk("pairing_ping",s),{}):Jl(i)&&this.events.emit(Pk("pairing_ping",s),{error:i.error})},500)}),tn(this,"onPairingDeleteRequest",async(n,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(Zp.delete,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),tn(this,"onUnknownRpcMethodRequest",async(n,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=ib("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,n,a),this.logger.error(a)}catch(a){await this.sendError(s,n,a),this.logger.error(a)}}),tn(this,"onUnknownRpcMethodResponse",n=>{this.registeredMethods.includes(n)||this.logger.error(ib("WC_METHOD_UNSUPPORTED",n))}),tn(this,"isValidPair",(n,i)=>{var s;if(!Uk(n)){const{message:a}=$n("MISSING_OR_INVALID",`pair() params: ${n}`);throw i.setError(lh.malformed_pairing_uri),new Error(a)}if(!_Ve(n.uri)){const{message:a}=$n("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw i.setError(lh.malformed_pairing_uri),new Error(a)}const o=DK(n?.uri);if(!((s=o?.relay)!=null&&s.protocol)){const{message:a}=$n("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(lh.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=$n("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(lh.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&Tt.toMiliseconds(o?.expiryTimestamp)<Date.now()){i.setError(lh.pairing_expired);const{message:a}=$n("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),tn(this,"isValidPing",async n=>{if(!Uk(n)){const{message:s}=$n("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),tn(this,"isValidDisconnect",async n=>{if(!Uk(n)){const{message:s}=$n("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),tn(this,"isValidPairingTopic",async n=>{if(!Ice(n)){const{message:i}=$n("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){const{message:i}=$n("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(hK(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:i}=$n("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}}),this.core=e,this.logger=oa(r,this.name),this.pairings=new bm(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Ya(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=$n("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Oi.message,async e=>{const{topic:r,message:n,transportType:i}=e;if(this.pairings.keys.includes(r)&&i!==si.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{const s=await this.core.crypto.decode(r,n);nL(s)?(this.core.history.set(r,s),await this.onRelayEventRequest({topic:r,payload:s})):V9(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:r,payload:s}),this.core.history.delete(r,s.id)),await this.core.relayer.messages.ack(r,n)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(Zl.expired,async e=>{const{topic:r}=sqe(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(Zp.expire,{topic:r}))})}};var UZe=Object.defineProperty,FZe=(t,e,r)=>e in t?UZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ps=(t,e,r)=>FZe(t,typeof e!="symbol"?e+"":e,r);let zZe=class extends jWe{constructor(e,r){super(e,r),this.core=e,this.logger=r,Ps(this,"records",new Map),Ps(this,"events",new Pl.EventEmitter),Ps(this,"name",qKe),Ps(this,"version",HKe),Ps(this,"cached",[]),Ps(this,"initialized",!1),Ps(this,"storagePrefix",$d),Ps(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Ps(this,"set",(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s,expiry:Pb(Tt.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(Nc.created,o)}),Ps(this,"resolve",async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=Jl(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.persist(),this.events.emit(Nc.updated,i))}),Ps(this,"get",async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i))),Ps(this,"delete",(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(Nc.deleted,s)}}),this.persist()}),Ps(this,"exists",async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1)),Ps(this,"on",(n,i)=>{this.events.on(n,i)}),Ps(this,"once",(n,i)=>{this.events.once(n,i)}),Ps(this,"off",(n,i)=>{this.events.off(n,i)}),Ps(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=oa(r,this.name)}get context(){return Ya(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:hd(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=$n("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Nc.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=$n("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Nc.created,e=>{const r=Nc.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(Nc.updated,e=>{const r=Nc.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(Nc.deleted,e=>{const r=Nc.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.core.heartbeat.on(ym.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(r=>{Tt.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(Nc.deleted,r,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=$n("NOT_INITIALIZED",this.name);throw new Error(e)}}};var WZe=Object.defineProperty,qZe=(t,e,r)=>e in t?WZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,po=(t,e,r)=>qZe(t,typeof e!="symbol"?e+"":e,r);let HZe=class extends zWe{constructor(e,r){super(e,r),this.core=e,this.logger=r,po(this,"expirations",new Map),po(this,"events",new Pl.EventEmitter),po(this,"name",VKe),po(this,"version",KKe),po(this,"cached",[]),po(this,"initialized",!1),po(this,"storagePrefix",$d),po(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),po(this,"has",n=>{try{const i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}}),po(this,"set",(n,i)=>{this.isInitialized();const s=this.formatTarget(n),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Zl.created,{target:s,expiration:o})}),po(this,"get",n=>{this.isInitialized();const i=this.formatTarget(n);return this.getExpiration(i)}),po(this,"del",n=>{if(this.isInitialized(),this.has(n)){const i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Zl.deleted,{target:i,expiration:s})}}),po(this,"on",(n,i)=>{this.events.on(n,i)}),po(this,"once",(n,i)=>{this.events.once(n,i)}),po(this,"off",(n,i)=>{this.events.off(n,i)}),po(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=oa(r,this.name)}get context(){return Ya(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return nqe(e);if(typeof e=="number")return iqe(e);const{message:r}=$n("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Zl.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=$n("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=$n("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;Tt.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(Zl.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(ym.pulse,()=>this.checkExpirations()),this.events.on(Zl.created,e=>{const r=Zl.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Zl.expired,e=>{const r=Zl.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Zl.deleted,e=>{const r=Zl.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=$n("NOT_INITIALIZED",this.name);throw new Error(e)}}};var VZe=Object.defineProperty,KZe=(t,e,r)=>e in t?VZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,zi=(t,e,r)=>KZe(t,typeof e!="symbol"?e+"":e,r);let GZe=class extends WWe{constructor(e,r,n){super(e,r,n),this.core=e,this.logger=r,this.store=n,zi(this,"name",GKe),zi(this,"abortController"),zi(this,"isDevEnv"),zi(this,"verifyUrlV3",ZKe),zi(this,"storagePrefix",$d),zi(this,"version",jce),zi(this,"publicKey"),zi(this,"fetchPromise"),zi(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&Tt.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),zi(this,"register",async i=>{if(!Q5()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,l=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const u=kl.getDocument(),c=this.startAbortTimer(Tt.ONE_SECOND*5),h=await new Promise((m,y)=>{const b=()=>{window.removeEventListener("message",A),u.body.removeChild(E),y("attestation aborted")};this.abortController.signal.addEventListener("abort",b);const E=u.createElement("iframe");E.src=l,E.style.display="none",E.addEventListener("error",b,{signal:this.abortController.signal});const A=M=>{if(M.data&&typeof M.data=="string")try{const O=JSON.parse(M.data);if(O.type==="verify_attestation"){if(dP(O.attestation).payload.id!==o)return;clearInterval(c),u.body.removeChild(E),this.abortController.signal.removeEventListener("abort",b),window.removeEventListener("message",A),m(O.attestation===null?"":O.attestation)}}catch(O){this.logger.warn(O)}};u.body.appendChild(E),window.addEventListener("message",A,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",h),h}catch(u){this.logger.warn(u)}return""}),zi(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(dP(s).payload.id!==a)return;const u=await this.isValidJwtAttestation(s);if(u){if(!u.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return u}}if(!o)return;const l=this.getVerifyUrl(i?.verifyUrl);return this.fetchAttestation(o,l)}),zi(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(Tt.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),zi(this,"getVerifyUrl",i=>{let s=i||Db;return QKe.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${Db}`),s=Db),s}),zi(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(Tt.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),zi(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),zi(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),zi(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),zi(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),zi(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),zi(this,"validateAttestation",(i,s)=>{const o=mVe(i,s.publicKey),a={hasExpired:Tt.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=oa(r,this.name),this.abortController=new AbortController,this.isDevEnv=Ble(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Ya(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Tt.toMiliseconds(e))}};var YZe=Object.defineProperty,ZZe=(t,e,r)=>e in t?YZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,gG=(t,e,r)=>ZZe(t,typeof e!="symbol"?e+"":e,r);let QZe=class extends qWe{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,gG(this,"context",JKe),gG(this,"registerDeviceToken",async n=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=n,l=`${XKe}/${this.projectId}/clients`;await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=oa(r,this.context)}};var JZe=Object.defineProperty,mG=Object.getOwnPropertySymbols,XZe=Object.prototype.hasOwnProperty,eQe=Object.prototype.propertyIsEnumerable,qP=(t,e,r)=>e in t?JZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,tv=(t,e)=>{for(var r in e||(e={}))XZe.call(e,r)&&qP(t,r,e[r]);if(mG)for(var r of mG(e))eQe.call(e,r)&&qP(t,r,e[r]);return t},ms=(t,e,r)=>qP(t,typeof e!="symbol"?e+"":e,r);let tQe=class extends HWe{constructor(e,r,n=!0){super(e,r,n),this.core=e,this.logger=r,ms(this,"context",tGe),ms(this,"storagePrefix",$d),ms(this,"storageVersion",eGe),ms(this,"events",new Map),ms(this,"shouldPersist",!1),ms(this,"init",async()=>{if(!Ble())try{const i={eventId:fK(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:Lle(this.core.relayer.protocol,this.core.relayer.version,jP)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),ms(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:l}}=i,u=fK(),c=this.core.projectId||"",h=Date.now(),m=tv({eventId:u,timestamp:h,props:{event:s,type:o,properties:{topic:a,trace:l}},bundleId:c,domain:this.getAppDomain()},this.setMethods(u));return this.telemetryEnabled&&(this.events.set(u,m),this.shouldPersist=!0),m}),ms(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(l=>l.props.properties.topic===o);if(a)return tv(tv({},a),this.setMethods(a.eventId))}),ms(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),ms(this,"setEventListeners",()=>{this.core.heartbeat.on(ym.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{Tt.fromMiliseconds(Date.now())-Tt.fromMiliseconds(i.timestamp)>rGe&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),ms(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),ms(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),ms(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),ms(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),ms(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,tv(tv({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),ms(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),ms(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${nGe}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${jP}${s}`,{method:"POST",body:JSON.stringify(i)})}),ms(this,"getAppDomain",()=>JWe().url),this.logger=oa(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}};var rQe=Object.defineProperty,yG=Object.getOwnPropertySymbols,nQe=Object.prototype.hasOwnProperty,iQe=Object.prototype.propertyIsEnumerable,HP=(t,e,r)=>e in t?rQe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,wG=(t,e)=>{for(var r in e||(e={}))nQe.call(e,r)&&HP(t,r,e[r]);if(yG)for(var r of yG(e))iQe.call(e,r)&&HP(t,r,e[r]);return t},Zn=(t,e,r)=>HP(t,typeof e!="symbol"?e+"":e,r);let sQe=class Qce extends PWe{constructor(e){var r;super(e),Zn(this,"protocol",Oce),Zn(this,"version",jce),Zn(this,"name",OP),Zn(this,"relayUrl"),Zn(this,"projectId"),Zn(this,"customStoragePrefix"),Zn(this,"events",new Pl.EventEmitter),Zn(this,"logger"),Zn(this,"heartbeat"),Zn(this,"relayer"),Zn(this,"crypto"),Zn(this,"storage"),Zn(this,"history"),Zn(this,"expirer"),Zn(this,"pairing"),Zn(this,"verify"),Zn(this,"echoClient"),Zn(this,"linkModeSupportedApps"),Zn(this,"eventClient"),Zn(this,"initialized",!1),Zn(this,"logChunkController"),Zn(this,"on",(a,l)=>this.events.on(a,l)),Zn(this,"once",(a,l)=>this.events.once(a,l)),Zn(this,"off",(a,l)=>this.events.off(a,l)),Zn(this,"removeListener",(a,l)=>this.events.removeListener(a,l)),Zn(this,"dispatchEnvelope",({topic:a,message:l,sessionExists:u})=>{if(!a||!l)return;const c={topic:a,message:l,publishedAt:Date.now(),transportType:si.link_mode};this.relayer.onLinkMessageEvent(c,{sessionExists:u})});const n=this.getGlobalCore(e?.customStoragePrefix);if(n)try{return this.customStoragePrefix=n.customStoragePrefix,this.logger=n.logger,this.heartbeat=n.heartbeat,this.crypto=n.crypto,this.history=n.history,this.expirer=n.expirer,this.storage=n.storage,this.relayer=n.relayer,this.pairing=n.pairing,this.verify=n.verify,this.echoClient=n.echoClient,this.linkModeSupportedApps=n.linkModeSupportedApps,this.eventClient=n.eventClient,this.initialized=n.initialized,this.logChunkController=n.logChunkController,n}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||Dce,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=j9({level:typeof e?.logger=="string"&&e.logger?e.logger:AKe.logger,name:OP}),{logger:s,chunkLoggerController:o}=TWe({opts:i,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=o,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,l;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((l=this.logChunkController)==null||l.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=oa(s,this.name),this.heartbeat=new Lze,this.crypto=new PYe(this,this.logger,e?.keychain),this.history=new zZe(this,this.logger),this.expirer=new HZe(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new hWe(wG(wG({},SKe),e?.storageOptions)),this.relayer=new sZe({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new BZe(this,this.logger),this.verify=new GZe(this,this.logger,this.storage),this.echoClient=new QZe(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new tQe(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const r=new Qce(e);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(BKe,n),r}get context(){return Ya(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(ZK,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(ZK)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${e}`,n=`${r}_count`;return globalThis[n]=(globalThis[n]||0)+1,globalThis[n]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[n]} times.`),globalThis[r]}catch(r){console.warn("Failed to get global WalletConnect core",r);return}}setGlobalCore(e){var r;try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${((r=e.opts)==null?void 0:r.customStoragePrefix)||""}`;globalThis[n]=e}catch(n){console.warn("Failed to set global WalletConnect core",n)}}isGlobalCoreDisabled(){try{return typeof pi<"u"&&_Ke.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const oQe=sQe;var aQe=Object.defineProperty,lQe=(t,e,r)=>e in t?aQe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,vG=(t,e,r)=>lQe(t,typeof e!="symbol"?e+"":e,r);let cQe=class{constructor(e){this.opts=e,vG(this,"protocol","wc"),vG(this,"version",2)}},uQe=class{constructor(e){this.client=e}};function i5(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function VP(t){return i5(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const Jce="2.31.0";let Hk={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${Jce}`};class Kg extends Error{constructor(e,r={}){const n=r.cause instanceof Kg?r.cause.details:r.cause?.message?r.cause.message:r.details,i=r.cause instanceof Kg&&r.cause.docsPath||r.docsPath,s=Hk.getDocsUrl?.({...r,docsPath:i}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...Hk.version?[`Version: ${Hk.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=Jce}walk(e){return Xce(this,e)}}function Xce(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?Xce(t.cause,e):e?null:t}class eue extends Kg{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}}function Ww(t,{dir:e,size:r=32}={}){return typeof t=="string"?dQe(t,{dir:e,size:r}):hQe(t,{dir:e,size:r})}function dQe(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new eue({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function hQe(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new eue({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=e==="right";n[s?i:r-i-1]=t[s?i:t.length-i-1]}return n}class fQe extends Kg{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}}class pQe extends Kg{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function qw(t,{size:e}){if(VP(t)>e)throw new pQe({givenSize:VP(t),maxSize:e})}function KP(t,e={}){const{signed:r}=e;e.size&&qw(t,{size:e.size});const n=BigInt(t);if(!r)return n;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return n<=s?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function gQe(t,e={}){return Number(KP(t,e))}const mQe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function GP(t,e={}){return typeof t=="number"||typeof t=="bigint"?rue(t,e):typeof t=="string"?vQe(t,e):typeof t=="boolean"?yQe(t,e):tue(t,e)}function yQe(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(qw(r,{size:e.size}),Ww(r,{size:e.size})):r}function tue(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=mQe[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(qw(n,{size:e.size}),Ww(n,{dir:"right",size:e.size})):n}function rue(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const l=typeof t=="bigint"?"n":"";throw new fQe({max:s?`${s}${l}`:void 0,min:`${o}${l}`,signed:r,size:n,value:`${t}${l}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?Ww(a,{size:n}):a}const wQe=new TextEncoder;function vQe(t,e={}){const r=wQe.encode(t);return tue(r,e)}const bQe=new TextEncoder;function xQe(t,e={}){return typeof t=="number"||typeof t=="bigint"?_Qe(t,e):typeof t=="boolean"?EQe(t,e):i5(t)?nue(t,e):iue(t,e)}function EQe(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(qw(r,{size:e.size}),Ww(r,{size:e.size})):r}const rh={zero:48,nine:57,A:65,F:70,a:97,f:102};function bG(t){if(t>=rh.zero&&t<=rh.nine)return t-rh.zero;if(t>=rh.A&&t<=rh.F)return t-(rh.A-10);if(t>=rh.a&&t<=rh.f)return t-(rh.a-10)}function nue(t,e={}){let r=t;e.size&&(qw(r,{size:e.size}),r=Ww(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=n.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const l=bG(n.charCodeAt(a++)),u=bG(n.charCodeAt(a++));if(l===void 0||u===void 0)throw new Kg(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);s[o]=l*16+u}return s}function _Qe(t,e){const r=rue(t,e);return nue(r)}function iue(t,e={}){const r=bQe.encode(t);return typeof e.size=="number"?(qw(r,{size:e.size}),Ww(r,{dir:"right",size:e.size})):r}function sue(t,e){const r=e||"hex",n=Pg(i5(t,{strict:!1})?xQe(t):t);return r==="bytes"?n:GP(n)}class AQe extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}}const Vk=new AQe(8192);function SQe(t,e){if(Vk.has(`${t}.${e}`))return Vk.get(`${t}.${e}`);const r=t.substring(2).toLowerCase(),n=sue(iue(r),"bytes"),i=r.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(n[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return Vk.set(`${t}.${e}`,s),s}function CQe(t){const e=sue(`0x${t.substring(4)}`).substring(26);return SQe(`0x${e}`)}async function kQe({hash:t,signature:e}){const r=i5(t)?t:GP(t),{secp256k1:n}=await Da(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>OR);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:u,s:c,v:h,yParity:m}=e,y=Number(m??h),b=xG(y);return new n.Signature(KP(u),KP(c)).addRecoveryBit(b)}const o=i5(e)?e:GP(e);if(VP(o)!==65)throw new Error("invalid signature length");const a=gQe(`0x${o.slice(130)}`),l=xG(a);return n.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function xG(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function IQe({hash:t,signature:e}){return CQe(await kQe({hash:t,signature:e}))}function oue(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function TQe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?oue(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function aue(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const EG=aue("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Kk=aue("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=TQe(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),lue={utf8:EG,"utf-8":EG,hex:_E.base16,latin1:Kk,ascii:Kk,binary:Kk,..._E};function cue(t,e="utf8"){const r=lue[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?oue(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function uue(t,e="utf8"){const r=lue[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}var $Qe={};const MQe=":";function f8(t){const[e,r]=t.split(MQe);return{namespace:e,reference:r}}function due(t,e){return t.includes(":")?[t]:e.chains||[]}var PQe=Object.defineProperty,NQe=Object.defineProperties,RQe=Object.getOwnPropertyDescriptors,_G=Object.getOwnPropertySymbols,OQe=Object.prototype.hasOwnProperty,jQe=Object.prototype.propertyIsEnumerable,YP=(t,e,r)=>e in t?PQe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,AG=(t,e)=>{for(var r in e||(e={}))OQe.call(e,r)&&YP(t,r,e[r]);if(_G)for(var r of _G(e))jQe.call(e,r)&&YP(t,r,e[r]);return t},LQe=(t,e)=>NQe(t,RQe(e)),SG=(t,e,r)=>YP(t,typeof e!="symbol"?e+"":e,r);const DQe="ReactNative",ly={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"};function hue(){return typeof pi<"u"&&typeof pi.versions<"u"&&typeof pi.versions.node<"u"}function fue(){return!kl.getDocument()&&!!kl.getNavigator()&&navigator.product===DQe}function pue(){return!hue()&&!!kl.getNavigator()&&!!kl.getDocument()}function BQe(){return fue()?ly.reactNative:hue()?ly.node:pue()?ly.browser:ly.unknown}function UQe(t){var e,r;const n=FQe();try{return t!=null&&t.url&&n.url&&new URL(t.url).host!==new URL(n.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${n.url}. This is probably unintended and can lead to issues.`),t.url=n.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),LQe(AG(AG({},n),t),{url:t?.url||n.url,name:t?.name||n.name,description:t?.description||n.description,icons:(r=t?.icons)!=null&&r.length&&t.icons.length>0?t.icons:n.icons})}catch(i){return console.warn("Error populating app metadata",i),t||n}}function FQe(){return sae.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function dg(t,e){return t.filter(r=>e.includes(r)).length===t.length}function C1(t=Tt.FIVE_MINUTES,e){const r=Tt.toMiliseconds(t||Tt.FIVE_MINUTES);let n,i,s,o;return{resolve:a=>{s&&n&&(clearTimeout(s),n(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,l)=>{if(o)return a(o);s=setTimeout(()=>{const u=new Error(e);o=Promise.reject(u),l(u)},r),n=a,i=l})}}function zQe(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function ya(t,e){return Tt.fromMiliseconds(Date.now()+Tt.toMiliseconds(t))}function k1(t){return Date.now()>=Tt.toMiliseconds(t)}function zn(t,e){return`${t}${e?`:${e}`:""}`}function kg(t=[],e=[]){return[...new Set([...t,...e])]}async function WQe({id:t,topic:e,wcDeepLink:r}){var n;try{if(!r)return;const i=typeof r=="string"?JSON.parse(r):r,s=i?.href;if(typeof s!="string")return;const o=qQe(s,t,e),a=BQe();if(a===ly.browser){if(!((n=kl.getDocument())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}HQe(o)}else a===ly.reactNative&&typeof globalThis?.Linking<"u"&&await globalThis.Linking.openURL(o)}catch(i){console.error(i)}}function qQe(t,e,r){const n=`requestId=${e}&sessionTopic=${r}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${ZQe(n,!0)}`}else i=`${i}/wc?${n}`;return i}function HQe(t){let e="_self";YQe()?e="_top":(GQe()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function VQe(t,e){let r="";try{if(pue()&&(r=localStorage.getItem(e),r))return r;r=await t.getItem(e)}catch(n){console.error(n)}return r}function CG(t,e){if(!t.includes(e))return null;const r=t.split(/([&,?,=])/),n=r.indexOf(e);return r[n+2]}function KQe(){return typeof pi<"u"&&$Qe.IS_VITEST==="true"}function GQe(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function YQe(){try{return window.self!==window.top}catch{return!1}}function ZQe(t,e=!1){const r=kt.from(t).toString("base64");return e?r.replace(/[=]/g,""):r}let QQe=class{constructor({limit:e}){SG(this,"limit"),SG(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const r=this.set.values().next().value;r&&this.set.delete(r)}this.set.add(e)}}has(e){return this.set.has(e)}};const ox=BigInt(2**32-1),kG=BigInt(32);function gue(t,e=!1){return e?{h:Number(t&ox),l:Number(t>>kG&ox)}:{h:Number(t>>kG&ox)|0,l:Number(t&ox)|0}}function mue(t,e=!1){const r=t.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:o,l:a}=gue(t[s],e);[n[s],i[s]]=[o,a]}return[n,i]}const IG=(t,e,r)=>t>>>r,TG=(t,e,r)=>t<<32-r|e>>>r,u0=(t,e,r)=>t>>>r|e<<32-r,d0=(t,e,r)=>t<<32-r|e>>>r,ab=(t,e,r)=>t<<64-r|e>>>r-32,lb=(t,e,r)=>t>>>r-32|e<<64-r,JQe=(t,e)=>e,XQe=(t,e)=>t,eJe=(t,e,r)=>t<<r|e>>>32-r,tJe=(t,e,r)=>e<<r|t>>>32-r,rJe=(t,e,r)=>e<<r-32|t>>>64-r,nJe=(t,e,r)=>t<<r-32|e>>>64-r;function Kc(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const iL=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),sL=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,iJe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),sJe=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,oJe=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),aJe=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,I1=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function oL(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Y0(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function fc(t,...e){if(!oL(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function lJe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Y0(t.outputLen),Y0(t.blockLen)}function Z0(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function aL(t,e){fc(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function s5(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function bu(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Gk(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ku(t,e){return t<<32-e|t>>>e}const yue=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function wue(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const ch=yue?t=>t:t=>wue(t);function cJe(t){for(let e=0;e<t.length;e++)t[e]=wue(t[e]);return t}const h0=yue?t=>t:cJe,vue=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",uJe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function o5(t){if(fc(t),vue)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=uJe[t[r]];return e}const nh={_0:48,_9:57,A:65,F:70,a:97,f:102};function $G(t){if(t>=nh._0&&t<=nh._9)return t-nh._0;if(t>=nh.A&&t<=nh.F)return t-(nh.A-10);if(t>=nh.a&&t<=nh.f)return t-(nh.a-10)}function lL(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(vue)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=$G(t.charCodeAt(s)),a=$G(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=o*16+a}return n}function dJe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function jh(t){return typeof t=="string"&&(t=dJe(t)),fc(t),t}function hg(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];fc(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}let G9=class{};function t6(t){const e=n=>t().update(jh(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function hJe(t){const e=(n,i)=>t(i).update(jh(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function bue(t=32){if(I1&&typeof I1.getRandomValues=="function")return I1.getRandomValues(new Uint8Array(t));if(I1&&typeof I1.randomBytes=="function")return Uint8Array.from(I1.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const fJe=BigInt(0),rv=BigInt(1),pJe=BigInt(2),gJe=BigInt(7),mJe=BigInt(256),yJe=BigInt(113),xue=[],Eue=[],_ue=[];for(let t=0,e=rv,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],xue.push(2*(5*n+r)),Eue.push((t+1)*(t+2)/2%64);let i=fJe;for(let s=0;s<7;s++)e=(e<<rv^(e>>gJe)*yJe)%mJe,e&pJe&&(i^=rv<<(rv<<BigInt(s))-rv);_ue.push(i)}const Aue=mue(_ue,!0),wJe=Aue[0],vJe=Aue[1],MG=(t,e,r)=>r>32?rJe(t,e,r):eJe(t,e,r),PG=(t,e,r)=>r>32?nJe(t,e,r):tJe(t,e,r);function bJe(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,u=r[l],c=r[l+1],h=MG(u,c,1)^r[a],m=PG(u,c,1)^r[a+1];for(let y=0;y<50;y+=10)t[o+y]^=h,t[o+y+1]^=m}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=Eue[o],l=MG(i,s,a),u=PG(i,s,a),c=xue[o];i=t[c],s=t[c+1],t[c]=l,t[c+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=wJe[n],t[1]^=vJe[n]}bu(r)}let xJe=class Sue extends G9{constructor(e,r,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,Y0(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=s5(this.state)}clone(){return this._cloneInto()}keccak(){h0(this.state32),bJe(this.state32,this.rounds),h0(this.state32),this.posOut=0,this.pos=0}update(e){Z0(this),e=jh(e),fc(e);const{blockLen:r,state:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Z0(this,!1),fc(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Y0(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(aL(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,bu(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new Sue(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const EJe=(t,e,r)=>t6(()=>new xJe(e,t,r)),_Je=EJe(1,136,256/8);function AJe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),l=n?4:0,u=n?0:4;t.setUint32(e+l,o,n),t.setUint32(e+u,a,n)}function SJe(t,e,r){return t&e^~t&r}function CJe(t,e,r){return t&e^t&r^e&r}let Cue=class extends G9{constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Gk(this.buffer)}update(e){Z0(this),e=jh(e),fc(e);const{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=Gk(e);for(;i<=s-o;o+=i)this.process(l,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Z0(this),aL(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,bu(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(n,0),o=0);for(let h=o;h<i;h++)r[h]=0;AJe(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=Gk(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,c=this.get();if(u>c.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<u;h++)a.setUint32(4*h,c[h],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};const Uf=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),go=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),mo=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),kJe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ff=new Uint32Array(64);let IJe=class extends Cue{constructor(e=32){super(64,e,8,!1),this.A=Uf[0]|0,this.B=Uf[1]|0,this.C=Uf[2]|0,this.D=Uf[3]|0,this.E=Uf[4]|0,this.F=Uf[5]|0,this.G=Uf[6]|0,this.H=Uf[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:l}=this;return[e,r,n,i,s,o,a,l]}set(e,r,n,i,s,o,a,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,r){for(let h=0;h<16;h++,r+=4)Ff[h]=e.getUint32(r,!1);for(let h=16;h<64;h++){const m=Ff[h-15],y=Ff[h-2],b=Ku(m,7)^Ku(m,18)^m>>>3,E=Ku(y,17)^Ku(y,19)^y>>>10;Ff[h]=E+Ff[h-7]+b+Ff[h-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:l,G:u,H:c}=this;for(let h=0;h<64;h++){const m=Ku(a,6)^Ku(a,11)^Ku(a,25),y=c+m+SJe(a,l,u)+kJe[h]+Ff[h]|0,b=(Ku(n,2)^Ku(n,13)^Ku(n,22))+CJe(n,i,s)|0;c=u,u=l,l=a,a=o+y|0,o=s,s=i,i=n,n=y+b|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(n,i,s,o,a,l,u,c)}roundClean(){bu(Ff)}destroy(){this.set(0,0,0,0,0,0,0,0),bu(this.buffer)}};const kue=mue(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),TJe=kue[0],$Je=kue[1],zf=new Uint32Array(80),Wf=new Uint32Array(80);let cL=class extends Cue{constructor(e=64){super(128,e,16,!1),this.Ah=mo[0]|0,this.Al=mo[1]|0,this.Bh=mo[2]|0,this.Bl=mo[3]|0,this.Ch=mo[4]|0,this.Cl=mo[5]|0,this.Dh=mo[6]|0,this.Dl=mo[7]|0,this.Eh=mo[8]|0,this.El=mo[9]|0,this.Fh=mo[10]|0,this.Fl=mo[11]|0,this.Gh=mo[12]|0,this.Gl=mo[13]|0,this.Hh=mo[14]|0,this.Hl=mo[15]|0}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:u,El:c,Fh:h,Fl:m,Gh:y,Gl:b,Hh:E,Hl:A}=this;return[e,r,n,i,s,o,a,l,u,c,h,m,y,b,E,A]}set(e,r,n,i,s,o,a,l,u,c,h,m,y,b,E,A){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=u|0,this.El=c|0,this.Fh=h|0,this.Fl=m|0,this.Gh=y|0,this.Gl=b|0,this.Hh=E|0,this.Hl=A|0}process(e,r){for(let P=0;P<16;P++,r+=4)zf[P]=e.getUint32(r),Wf[P]=e.getUint32(r+=4);for(let P=16;P<80;P++){const z=zf[P-15]|0,L=Wf[P-15]|0,W=u0(z,L,1)^u0(z,L,8)^IG(z,L,7),H=d0(z,L,1)^d0(z,L,8)^TG(z,L,7),G=zf[P-2]|0,N=Wf[P-2]|0,F=u0(G,N,19)^ab(G,N,61)^IG(G,N,6),U=d0(G,N,19)^lb(G,N,61)^TG(G,N,6),j=iJe(H,U,Wf[P-7],Wf[P-16]),_=sJe(j,W,F,zf[P-7],zf[P-16]);zf[P]=_|0,Wf[P]=j|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:u,Dl:c,Eh:h,El:m,Fh:y,Fl:b,Gh:E,Gl:A,Hh:M,Hl:O}=this;for(let P=0;P<80;P++){const z=u0(h,m,14)^u0(h,m,18)^ab(h,m,41),L=d0(h,m,14)^d0(h,m,18)^lb(h,m,41),W=h&y^~h&E,H=m&b^~m&A,G=oJe(O,L,H,$Je[P],Wf[P]),N=aJe(G,M,z,W,TJe[P],zf[P]),F=G|0,U=u0(n,i,28)^ab(n,i,34)^ab(n,i,39),j=d0(n,i,28)^lb(n,i,34)^lb(n,i,39),_=n&s^n&a^s&a,d=i&o^i&l^o&l;M=E|0,O=A|0,E=y|0,A=b|0,y=h|0,b=m|0,{h,l:m}=Kc(u|0,c|0,N|0,F|0),u=a|0,c=l|0,a=s|0,l=o|0,s=n|0,o=i|0;const g=iL(F,j,d);n=sL(g,N,U,_),i=g|0}({h:n,l:i}=Kc(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=Kc(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=Kc(this.Ch|0,this.Cl|0,a|0,l|0),{h:u,l:c}=Kc(this.Dh|0,this.Dl|0,u|0,c|0),{h,l:m}=Kc(this.Eh|0,this.El|0,h|0,m|0),{h:y,l:b}=Kc(this.Fh|0,this.Fl|0,y|0,b|0),{h:E,l:A}=Kc(this.Gh|0,this.Gl|0,E|0,A|0),{h:M,l:O}=Kc(this.Hh|0,this.Hl|0,M|0,O|0),this.set(n,i,s,o,a,l,u,c,h,m,y,b,E,A,M,O)}roundClean(){bu(zf,Wf)}destroy(){bu(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},MJe=class extends cL{constructor(){super(48),this.Ah=go[0]|0,this.Al=go[1]|0,this.Bh=go[2]|0,this.Bl=go[3]|0,this.Ch=go[4]|0,this.Cl=go[5]|0,this.Dh=go[6]|0,this.Dl=go[7]|0,this.Eh=go[8]|0,this.El=go[9]|0,this.Fh=go[10]|0,this.Fl=go[11]|0,this.Gh=go[12]|0,this.Gl=go[13]|0,this.Hh=go[14]|0,this.Hl=go[15]|0}};const yo=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);let PJe=class extends cL{constructor(){super(32),this.Ah=yo[0]|0,this.Al=yo[1]|0,this.Bh=yo[2]|0,this.Bl=yo[3]|0,this.Ch=yo[4]|0,this.Cl=yo[5]|0,this.Dh=yo[6]|0,this.Dl=yo[7]|0,this.Eh=yo[8]|0,this.El=yo[9]|0,this.Fh=yo[10]|0,this.Fl=yo[11]|0,this.Gh=yo[12]|0,this.Gl=yo[13]|0,this.Hh=yo[14]|0,this.Hl=yo[15]|0}};const Y9=t6(()=>new IJe),NJe=t6(()=>new cL),RJe=t6(()=>new MJe),OJe=t6(()=>new PJe),jJe=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),ts=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Gt=new Uint32Array(32);function qf(t,e,r,n,i,s){const o=i[s],a=i[s+1];let l=Gt[2*t],u=Gt[2*t+1],c=Gt[2*e],h=Gt[2*e+1],m=Gt[2*r],y=Gt[2*r+1],b=Gt[2*n],E=Gt[2*n+1],A=iL(l,c,o);u=sL(A,u,h,a),l=A|0,{Dh:E,Dl:b}={Dh:E^u,Dl:b^l},{Dh:E,Dl:b}={Dh:JQe(E,b),Dl:XQe(E)},{h:y,l:m}=Kc(y,m,E,b),{Bh:h,Bl:c}={Bh:h^y,Bl:c^m},{Bh:h,Bl:c}={Bh:u0(h,c,24),Bl:d0(h,c,24)},Gt[2*t]=l,Gt[2*t+1]=u,Gt[2*e]=c,Gt[2*e+1]=h,Gt[2*r]=m,Gt[2*r+1]=y,Gt[2*n]=b,Gt[2*n+1]=E}function Hf(t,e,r,n,i,s){const o=i[s],a=i[s+1];let l=Gt[2*t],u=Gt[2*t+1],c=Gt[2*e],h=Gt[2*e+1],m=Gt[2*r],y=Gt[2*r+1],b=Gt[2*n],E=Gt[2*n+1],A=iL(l,c,o);u=sL(A,u,h,a),l=A|0,{Dh:E,Dl:b}={Dh:E^u,Dl:b^l},{Dh:E,Dl:b}={Dh:u0(E,b,16),Dl:d0(E,b,16)},{h:y,l:m}=Kc(y,m,E,b),{Bh:h,Bl:c}={Bh:h^y,Bl:c^m},{Bh:h,Bl:c}={Bh:ab(h,c,63),Bl:lb(h,c,63)},Gt[2*t]=l,Gt[2*t+1]=u,Gt[2*e]=c,Gt[2*e+1]=h,Gt[2*r]=m,Gt[2*r+1]=y,Gt[2*n]=b,Gt[2*n+1]=E}function LJe(t,e={},r,n,i){if(Y0(r),t<0||t>r)throw new Error("outputLen bigger than keyLen");const{key:s,salt:o,personalization:a}=e;if(s!==void 0&&(s.length<1||s.length>r))throw new Error("key length must be undefined or 1.."+r);if(o!==void 0&&o.length!==n)throw new Error("salt must be undefined or "+n);if(a!==void 0&&a.length!==i)throw new Error("personalization must be undefined or "+i)}let DJe=class extends G9{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Y0(e),Y0(r),this.blockLen=e,this.outputLen=r,this.buffer=new Uint8Array(e),this.buffer32=s5(this.buffer)}update(e){Z0(this),e=jh(e),fc(e);const{blockLen:r,buffer:n,buffer32:i}=this,s=e.length,o=e.byteOffset,a=e.buffer;for(let l=0;l<s;){this.pos===r&&(h0(i),this.compress(i,0,!1),h0(i),this.pos=0);const u=Math.min(r-this.pos,s-l),c=o+l;if(u===r&&!(c%4)&&l+u<s){const h=new Uint32Array(a,c,Math.floor((s-l)/4));h0(h);for(let m=0;l+r<s;m+=i.length,l+=r)this.length+=r,this.compress(h,m,!1);h0(h);continue}n.set(e.subarray(l,l+u),this.pos),this.pos+=u,this.length+=u,l+=u}return this}digestInto(e){Z0(this),aL(e,this);const{pos:r,buffer32:n}=this;this.finished=!0,bu(this.buffer.subarray(r)),h0(n),this.compress(n,0,!0),h0(n);const i=s5(e);this.get().forEach((s,o)=>i[o]=ch(s))}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){const{buffer:r,length:n,finished:i,destroyed:s,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(r),e.destroyed=s,e.finished=i,e.length=n,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}},BJe=class extends DJe{constructor(e={}){const r=e.dkLen===void 0?64:e.dkLen;super(128,r),this.v0l=ts[0]|0,this.v0h=ts[1]|0,this.v1l=ts[2]|0,this.v1h=ts[3]|0,this.v2l=ts[4]|0,this.v2h=ts[5]|0,this.v3l=ts[6]|0,this.v3h=ts[7]|0,this.v4l=ts[8]|0,this.v4h=ts[9]|0,this.v5l=ts[10]|0,this.v5h=ts[11]|0,this.v6l=ts[12]|0,this.v6h=ts[13]|0,this.v7l=ts[14]|0,this.v7h=ts[15]|0,LJe(r,e,64,16,16);let{key:n,personalization:i,salt:s}=e,o=0;if(n!==void 0&&(n=jh(n),o=n.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,s!==void 0){s=jh(s);const a=s5(s);this.v4l^=ch(a[0]),this.v4h^=ch(a[1]),this.v5l^=ch(a[2]),this.v5h^=ch(a[3])}if(i!==void 0){i=jh(i);const a=s5(i);this.v6l^=ch(a[0]),this.v6h^=ch(a[1]),this.v7l^=ch(a[2]),this.v7h^=ch(a[3])}if(n!==void 0){const a=new Uint8Array(this.blockLen);a.set(n),this.update(a)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:i,v2l:s,v2h:o,v3l:a,v3h:l,v4l:u,v4h:c,v5l:h,v5h:m,v6l:y,v6h:b,v7l:E,v7h:A}=this;return[e,r,n,i,s,o,a,l,u,c,h,m,y,b,E,A]}set(e,r,n,i,s,o,a,l,u,c,h,m,y,b,E,A){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=s|0,this.v2h=o|0,this.v3l=a|0,this.v3h=l|0,this.v4l=u|0,this.v4h=c|0,this.v5l=h|0,this.v5h=m|0,this.v6l=y|0,this.v6h=b|0,this.v7l=E|0,this.v7h=A|0}compress(e,r,n){this.get().forEach((l,u)=>Gt[u]=l),Gt.set(ts,16);let{h:i,l:s}=gue(BigInt(this.length));Gt[24]=ts[8]^s,Gt[25]=ts[9]^i,n&&(Gt[28]=~Gt[28],Gt[29]=~Gt[29]);let o=0;const a=jJe;for(let l=0;l<12;l++)qf(0,4,8,12,e,r+2*a[o++]),Hf(0,4,8,12,e,r+2*a[o++]),qf(1,5,9,13,e,r+2*a[o++]),Hf(1,5,9,13,e,r+2*a[o++]),qf(2,6,10,14,e,r+2*a[o++]),Hf(2,6,10,14,e,r+2*a[o++]),qf(3,7,11,15,e,r+2*a[o++]),Hf(3,7,11,15,e,r+2*a[o++]),qf(0,5,10,15,e,r+2*a[o++]),Hf(0,5,10,15,e,r+2*a[o++]),qf(1,6,11,12,e,r+2*a[o++]),Hf(1,6,11,12,e,r+2*a[o++]),qf(2,7,8,13,e,r+2*a[o++]),Hf(2,7,8,13,e,r+2*a[o++]),qf(3,4,9,14,e,r+2*a[o++]),Hf(3,4,9,14,e,r+2*a[o++]);this.v0l^=Gt[0]^Gt[16],this.v0h^=Gt[1]^Gt[17],this.v1l^=Gt[2]^Gt[18],this.v1h^=Gt[3]^Gt[19],this.v2l^=Gt[4]^Gt[20],this.v2h^=Gt[5]^Gt[21],this.v3l^=Gt[6]^Gt[22],this.v3h^=Gt[7]^Gt[23],this.v4l^=Gt[8]^Gt[24],this.v4h^=Gt[9]^Gt[25],this.v5l^=Gt[10]^Gt[26],this.v5h^=Gt[11]^Gt[27],this.v6l^=Gt[12]^Gt[28],this.v6h^=Gt[13]^Gt[29],this.v7l^=Gt[14]^Gt[30],this.v7h^=Gt[15]^Gt[31],bu(Gt)}destroy(){this.destroyed=!0,bu(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const UJe=hJe(t=>new BJe(t)),FJe="https://rpc.walletconnect.org/v1";function Iue(t){const e=`Ethereum Signed Message:
${t.length}`,r=new TextEncoder().encode(e+t);return"0x"+kt.from(_Je(r)).toString("hex")}async function zJe(t,e,r,n,i,s){switch(r.t){case"eip191":return await WJe(t,e,r.s);case"eip1271":return await qJe(t,e,r.s,n,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}async function WJe(t,e,r){return(await IQe({hash:Iue(e),signature:r})).toLowerCase()===t.toLowerCase()}async function qJe(t,e,r,n,i,s){const o=f8(n);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{const a="0x1626ba7e",l="0000000000000000000000000000000000000000000000000000000000000040",u=r.substring(2),c=(u.length/2).toString(16).padStart(64,"0"),h=(e.startsWith("0x")?e:Iue(e)).substring(2),m=a+h+l+c+u,y=await fetch(`${s||FJe}/?chainId=${n}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:HJe(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:m},"latest"]})}),{result:b}=await y.json();return b?b.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function HJe(){return Date.now()+Math.floor(Math.random()*1e3)}function VJe(t){const e=atob(t),r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);const n=r[0];if(n===0)throw new Error("No signatures found");const i=1+n*64;if(r.length<i)throw new Error("Transaction data too short for claimed signature count");if(r.length<100)throw new Error("Transaction too short");const s=kt.from(t,"base64").slice(1,65);return Lw.encode(s)}function KJe(t){const e=new Uint8Array(kt.from(t,"base64")),r=Array.from("TransactionData::").map(s=>s.charCodeAt(0)),n=new Uint8Array(r.length+e.length);n.set(r),n.set(e,r.length);const i=UJe(n,{dkLen:32});return Lw.encode(i)}function NG(t){const e=new Uint8Array(Y9(GJe(t)));return Lw.encode(e)}function GJe(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function RG(t){const e=kt.from(t,"base64"),r=Dje(e).txn;if(!r)throw new Error("Invalid signed transaction: missing 'txn' field");const n=Tje(r),i=kt.from("TX"),s=kt.concat([i,kt.from(n)]),o=OJe(s);return zje.encode(o).replace(/=+$/,"")}function Yk(t){const e=[];let r=BigInt(t);for(;r>=BigInt(128);)e.push(Number(r&BigInt(127)|BigInt(128))),r>>=BigInt(7);return e.push(Number(r)),kt.from(e)}function YJe(t){const e=kt.from(t.signed.bodyBytes,"base64"),r=kt.from(t.signed.authInfoBytes,"base64"),n=kt.from(t.signature.signature,"base64"),i=[];i.push(kt.from([10])),i.push(Yk(e.length)),i.push(e),i.push(kt.from([18])),i.push(Yk(r.length)),i.push(r),i.push(kt.from([26])),i.push(Yk(n.length)),i.push(n);const s=kt.concat(i),o=Y9(s);return kt.from(o).toString("hex").toUpperCase()}var ZJe=Object.defineProperty,QJe=Object.defineProperties,JJe=Object.getOwnPropertyDescriptors,OG=Object.getOwnPropertySymbols,XJe=Object.prototype.hasOwnProperty,eXe=Object.prototype.propertyIsEnumerable,jG=(t,e,r)=>e in t?ZJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,tXe=(t,e)=>{for(var r in e||(e={}))XJe.call(e,r)&&jG(t,r,e[r]);if(OG)for(var r of OG(e))eXe.call(e,r)&&jG(t,r,e[r]);return t},rXe=(t,e)=>QJe(t,JJe(e));const nXe="did:pkh:",uL=t=>t?.split(":"),iXe=t=>{const e=t&&uL(t);if(e)return t.includes(nXe)?e[3]:e[1]},ZP=t=>{const e=t&&uL(t);if(e)return e[2]+":"+e[3]},PE=t=>{const e=t&&uL(t);if(e)return e.pop()};async function LG(t){const{cacao:e,projectId:r}=t,{s:n,p:i}=e,s=Tue(i,i.iss),o=PE(i.iss);return await zJe(o,s,n,ZP(i.iss),r)}const Tue=(t,e)=>{const r=`${t.domain} wants you to sign in with your Ethereum account:`,n=PE(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${iXe(e)}`,l=`Nonce: ${t.nonce}`,u=`Issued At: ${t.iat}`,c=t.exp?`Expiration Time: ${t.exp}`:void 0,h=t.nbf?`Not Before: ${t.nbf}`:void 0,m=t.requestId?`Request ID: ${t.requestId}`:void 0,y=t.resources?`Resources:${t.resources.map(E=>`
- ${E}`).join("")}`:void 0,b=p8(t.resources);if(b){const E=a5(b);i=fXe(i,E)}return[r,n,"",i,"",s,o,a,l,u,c,h,m,y].filter(E=>E!=null).join(`
`)};function sXe(t){return kt.from(JSON.stringify(t)).toString("base64")}function oXe(t){return JSON.parse(kt.from(t,"base64").toString("utf-8"))}function Gg(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(r=>{const n=t.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(i=>{const s=n[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function aXe(t,e,r,n={}){return r?.sort((i,s)=>i.localeCompare(s)),{att:{[t]:lXe(e,r,n)}}}function lXe(t,e,r={}){e=e?.sort((i,s)=>i.localeCompare(s));const n=e.map(i=>({[`${t}/${i}`]:[r]}));return Object.assign({},...n)}function $ue(t){return Gg(t),`urn:recap:${sXe(t).replace(/=/g,"")}`}function a5(t){const e=oXe(t.replace("urn:recap:",""));return Gg(e),e}function cXe(t,e,r){const n=aXe(t,e,r);return $ue(n)}function uXe(t){return t&&t.includes("urn:recap:")}function dXe(t,e){const r=a5(t),n=a5(e),i=hXe(r,n);return $ue(i)}function hXe(t,e){Gg(t),Gg(e);const r=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),n={att:{}};return r.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,l)=>a.localeCompare(l)).forEach(a=>{var l,u;n.att[i]=rXe(tXe({},n.att[i]),{[a]:((l=t.att[i])==null?void 0:l[a])||((u=e.att[i])==null?void 0:u[a])})})}),n}function fXe(t="",e){Gg(e);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(r))return t;const n=[];let i=0;Object.keys(e.att).forEach(a=>{const l=Object.keys(e.att[a]).map(h=>({ability:h.split("/")[0],action:h.split("/")[1]}));l.sort((h,m)=>h.action.localeCompare(m.action));const u={};l.forEach(h=>{u[h.ability]||(u[h.ability]=[]),u[h.ability].push(h.action)});const c=Object.keys(u).map(h=>(i++,`(${i}) '${h}': '${u[h].join("', '")}' for '${a}'.`));n.push(c.join(", ").replace(".,","."))});const s=n.join(" "),o=`${r}${s}`;return`${t?t+" ":""}${o}`}function DG(t){var e;const r=a5(t);Gg(r);const n=(e=r.att)==null?void 0:e.eip155;return n?Object.keys(n).map(i=>i.split("/")[1]):[]}function BG(t){const e=a5(t);Gg(e);const r=[];return Object.values(e.att).forEach(n=>{Object.values(n).forEach(i=>{var s;(s=i?.[0])!=null&&s.chains&&r.push(i[0].chains)})}),[...new Set(r.flat())]}function p8(t){if(!t)return;const e=t?.[t.length-1];return uXe(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function Mue(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function QP(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function Zk(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ka(t,...e){if(!Mue(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function UG(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function pXe(t,e){ka(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function j0(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function sw(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function gXe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const mXe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function yXe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function JP(t){if(typeof t=="string")t=yXe(t);else if(Mue(t))t=XP(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function wXe(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function vXe(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}const bXe=(t,e)=>{function r(n,...i){if(ka(n),!mXe)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const u=i[0];if(!u)throw new Error("nonce / iv required");t.varSizeNonce?ka(u):ka(u,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&ka(i[1]);const o=e(n,...i),a=(u,c)=>{if(c!==void 0){if(u!==2)throw new Error("cipher output not supported");ka(c)}};let l=!1;return{encrypt(u,c){if(l)throw new Error("cannot encrypt() twice with same key + nonce");return l=!0,ka(u),a(o.encrypt.length,c),o.encrypt(u,c)},decrypt(u,c){if(ka(u),s&&u.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,c),o.decrypt(u,c)}}}return Object.assign(r,t),r};function FG(t,e,r=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(r&&!EXe(e))throw new Error("invalid output, must be aligned");return e}function zG(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s);t.setUint32(e+4,o,n),t.setUint32(e+0,a,n)}function xXe(t,e,r){QP(r);const n=new Uint8Array(16),i=gXe(n);return zG(i,0,BigInt(e),r),zG(i,8,BigInt(t),r),n}function EXe(t){return t.byteOffset%4===0}function XP(t){return Uint8Array.from(t)}const Pue=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),_Xe=Pue("expand 16-byte k"),AXe=Pue("expand 32-byte k"),SXe=j0(_Xe),CXe=j0(AXe);function bn(t,e){return t<<e|t>>>32-e}function eN(t){return t.byteOffset%4===0}const ax=64,kXe=16,Nue=2**32-1,WG=new Uint32Array;function IXe(t,e,r,n,i,s,o,a){const l=i.length,u=new Uint8Array(ax),c=j0(u),h=eN(i)&&eN(s),m=h?j0(i):WG,y=h?j0(s):WG;for(let b=0;b<l;o++){if(t(e,r,n,c,o,a),o>=Nue)throw new Error("arx: counter overflow");const E=Math.min(ax,l-b);if(h&&E===ax){const A=b/4;if(b%4!==0)throw new Error("arx: invalid block position");for(let M=0,O;M<kXe;M++)O=A+M,y[O]=m[O]^c[M];b+=ax;continue}for(let A=0,M;A<E;A++)M=b+A,s[M]=i[M]^u[A];b+=E}}function TXe(t,e){const{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:s,rounds:o}=wXe({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return Zk(i),Zk(o),QP(s),QP(r),(a,l,u,c,h=0)=>{ka(a),ka(l),ka(u);const m=u.length;if(c===void 0&&(c=new Uint8Array(m)),ka(c),Zk(h),h<0||h>=Nue)throw new Error("arx: counter overflow");if(c.length<m)throw new Error(`arx: output (${c.length}) is shorter than data (${m})`);const y=[];let b=a.length,E,A;if(b===32)y.push(E=XP(a)),A=CXe;else if(b===16&&r)E=new Uint8Array(32),E.set(a),E.set(a,16),A=SXe,y.push(E);else throw new Error(`arx: invalid 32-byte key, got length=${b}`);eN(l)||y.push(l=XP(l));const M=j0(E);if(n){if(l.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(A,M,j0(l.subarray(0,16)),M),l=l.subarray(16)}const O=16-i;if(O!==l.length)throw new Error(`arx: nonce must be ${O} or 16 bytes`);if(O!==12){const z=new Uint8Array(12);z.set(l,s?0:12-l.length),l=z,y.push(l)}const P=j0(l);return IXe(t,A,M,P,u,c,h,o),sw(...y),c}}const Ns=(t,e)=>t[e++]&255|(t[e++]&255)<<8;let $Xe=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=JP(e),ka(e,32);const r=Ns(e,0),n=Ns(e,2),i=Ns(e,4),s=Ns(e,6),o=Ns(e,8),a=Ns(e,10),l=Ns(e,12),u=Ns(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|l<<5)&8065,this.r[8]=(l>>>8|u<<8)&8191,this.r[9]=u>>>5&127;for(let c=0;c<8;c++)this.pad[c]=Ns(e,16+2*c)}process(e,r,n=!1){const i=n?0:2048,{h:s,r:o}=this,a=o[0],l=o[1],u=o[2],c=o[3],h=o[4],m=o[5],y=o[6],b=o[7],E=o[8],A=o[9],M=Ns(e,r+0),O=Ns(e,r+2),P=Ns(e,r+4),z=Ns(e,r+6),L=Ns(e,r+8),W=Ns(e,r+10),H=Ns(e,r+12),G=Ns(e,r+14);let N=s[0]+(M&8191),F=s[1]+((M>>>13|O<<3)&8191),U=s[2]+((O>>>10|P<<6)&8191),j=s[3]+((P>>>7|z<<9)&8191),_=s[4]+((z>>>4|L<<12)&8191),d=s[5]+(L>>>1&8191),g=s[6]+((L>>>14|W<<2)&8191),x=s[7]+((W>>>11|H<<5)&8191),C=s[8]+((H>>>8|G<<8)&8191),k=s[9]+(G>>>5|i),T=0,R=T+N*a+F*(5*A)+U*(5*E)+j*(5*b)+_*(5*y);T=R>>>13,R&=8191,R+=d*(5*m)+g*(5*h)+x*(5*c)+C*(5*u)+k*(5*l),T+=R>>>13,R&=8191;let I=T+N*l+F*a+U*(5*A)+j*(5*E)+_*(5*b);T=I>>>13,I&=8191,I+=d*(5*y)+g*(5*m)+x*(5*h)+C*(5*c)+k*(5*u),T+=I>>>13,I&=8191;let f=T+N*u+F*l+U*a+j*(5*A)+_*(5*E);T=f>>>13,f&=8191,f+=d*(5*b)+g*(5*y)+x*(5*m)+C*(5*h)+k*(5*c),T+=f>>>13,f&=8191;let S=T+N*c+F*u+U*l+j*a+_*(5*A);T=S>>>13,S&=8191,S+=d*(5*E)+g*(5*b)+x*(5*y)+C*(5*m)+k*(5*h),T+=S>>>13,S&=8191;let K=T+N*h+F*c+U*u+j*l+_*a;T=K>>>13,K&=8191,K+=d*(5*A)+g*(5*E)+x*(5*b)+C*(5*y)+k*(5*m),T+=K>>>13,K&=8191;let D=T+N*m+F*h+U*c+j*u+_*l;T=D>>>13,D&=8191,D+=d*a+g*(5*A)+x*(5*E)+C*(5*b)+k*(5*y),T+=D>>>13,D&=8191;let J=T+N*y+F*m+U*h+j*c+_*u;T=J>>>13,J&=8191,J+=d*l+g*a+x*(5*A)+C*(5*E)+k*(5*b),T+=J>>>13,J&=8191;let ne=T+N*b+F*y+U*m+j*h+_*c;T=ne>>>13,ne&=8191,ne+=d*u+g*l+x*a+C*(5*A)+k*(5*E),T+=ne>>>13,ne&=8191;let ie=T+N*E+F*b+U*y+j*m+_*h;T=ie>>>13,ie&=8191,ie+=d*c+g*u+x*l+C*a+k*(5*A),T+=ie>>>13,ie&=8191;let ce=T+N*A+F*E+U*b+j*y+_*m;T=ce>>>13,ce&=8191,ce+=d*h+g*c+x*u+C*l+k*a,T+=ce>>>13,ce&=8191,T=(T<<2)+T|0,T=T+R|0,R=T&8191,T=T>>>13,I+=T,s[0]=R,s[1]=I,s[2]=f,s[3]=S,s[4]=K,s[5]=D,s[6]=J,s[7]=ne,s[8]=ie,s[9]=ce}finalize(){const{h:e,pad:r}=this,n=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,n[0]=e[0]+5,i=n[0]>>>13,n[0]&=8191;for(let a=1;a<10;a++)n[a]=e[a]+i,i=n[a]>>>13,n[a]&=8191;n[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)n[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|n[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+r[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+r[a]|0)+(o>>>16)|0,e[a]=o&65535;sw(n)}update(e){UG(this),e=JP(e),ka(e);const{buffer:r,blockLen:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o===n){for(;n<=i-s;s+=n)this.process(e,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){sw(this.h,this.r,this.buffer,this.pad)}digestInto(e){UG(this),pXe(e,this),this.finished=!0;const{buffer:r,h:n}=this;let{pos:i}=this;if(i){for(r[i++]=1;i<16;i++)r[i]=0;this.process(r,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=n[o]>>>0,e[s++]=n[o]>>>8;return e}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}};function MXe(t){const e=(n,i)=>t(i).update(JP(n)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}const PXe=MXe(t=>new $Xe(t));function NXe(t,e,r,n,i,s=20){let o=t[0],a=t[1],l=t[2],u=t[3],c=e[0],h=e[1],m=e[2],y=e[3],b=e[4],E=e[5],A=e[6],M=e[7],O=i,P=r[0],z=r[1],L=r[2],W=o,H=a,G=l,N=u,F=c,U=h,j=m,_=y,d=b,g=E,x=A,C=M,k=O,T=P,R=z,I=L;for(let S=0;S<s;S+=2)W=W+F|0,k=bn(k^W,16),d=d+k|0,F=bn(F^d,12),W=W+F|0,k=bn(k^W,8),d=d+k|0,F=bn(F^d,7),H=H+U|0,T=bn(T^H,16),g=g+T|0,U=bn(U^g,12),H=H+U|0,T=bn(T^H,8),g=g+T|0,U=bn(U^g,7),G=G+j|0,R=bn(R^G,16),x=x+R|0,j=bn(j^x,12),G=G+j|0,R=bn(R^G,8),x=x+R|0,j=bn(j^x,7),N=N+_|0,I=bn(I^N,16),C=C+I|0,_=bn(_^C,12),N=N+_|0,I=bn(I^N,8),C=C+I|0,_=bn(_^C,7),W=W+U|0,I=bn(I^W,16),x=x+I|0,U=bn(U^x,12),W=W+U|0,I=bn(I^W,8),x=x+I|0,U=bn(U^x,7),H=H+j|0,k=bn(k^H,16),C=C+k|0,j=bn(j^C,12),H=H+j|0,k=bn(k^H,8),C=C+k|0,j=bn(j^C,7),G=G+_|0,T=bn(T^G,16),d=d+T|0,_=bn(_^d,12),G=G+_|0,T=bn(T^G,8),d=d+T|0,_=bn(_^d,7),N=N+F|0,R=bn(R^N,16),g=g+R|0,F=bn(F^g,12),N=N+F|0,R=bn(R^N,8),g=g+R|0,F=bn(F^g,7);let f=0;n[f++]=o+W|0,n[f++]=a+H|0,n[f++]=l+G|0,n[f++]=u+N|0,n[f++]=c+F|0,n[f++]=h+U|0,n[f++]=m+j|0,n[f++]=y+_|0,n[f++]=b+d|0,n[f++]=E+g|0,n[f++]=A+x|0,n[f++]=M+C|0,n[f++]=O+k|0,n[f++]=P+T|0,n[f++]=z+R|0,n[f++]=L+I|0}const RXe=TXe(NXe,{counterRight:!1,counterLength:4,allowShortKeys:!1}),OXe=new Uint8Array(16),qG=(t,e)=>{t.update(e);const r=e.length%16;r&&t.update(OXe.subarray(r))},jXe=new Uint8Array(32);function HG(t,e,r,n,i){const s=t(e,r,jXe),o=PXe.create(s);i&&qG(o,i),qG(o,n);const a=xXe(n.length,i?i.length:0,!0);o.update(a);const l=o.digest();return sw(s,a),l}const LXe=t=>(e,r,n)=>({encrypt(i,s){const o=i.length;s=FG(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,r,a,a,1);const l=HG(t,e,r,a,n);return s.set(l,o),sw(l),s},decrypt(i,s){s=FG(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),l=HG(t,e,r,o,n);if(!vXe(a,l))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,r,s,s,1),sw(l),s}});bXe({blockSize:64,nonceLength:12,tagLength:16},LXe(RXe));let Rue=class extends G9{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,lJe(e);const n=jh(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),bu(s)}update(e){return Z0(this),this.iHash.update(e),this}digestInto(e){Z0(this),fc(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Oue=(t,e,r)=>new Rue(t,e).update(r).digest();Oue.create=(t,e)=>new Rue(t,e);Uint8Array.from([0]);const jue=Y9,dL=BigInt(0),tN=BigInt(1);function NE(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function lx(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Lue(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?dL:BigInt("0x"+t)}function Z9(t){return Lue(o5(t))}function RE(t){return fc(t),Lue(o5(Uint8Array.from(t).reverse()))}function hL(t,e){return lL(t.toString(16).padStart(e*2,"0"))}function fL(t,e){return hL(t,e).reverse()}function Ea(t,e,r){let n;if(typeof e=="string")try{n=lL(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(oL(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}const Qk=t=>typeof t=="bigint"&&dL<=t;function DXe(t,e,r){return Qk(t)&&Qk(e)&&Qk(r)&&e<=t&&t<r}function rN(t,e,r,n){if(!DXe(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function BXe(t){let e;for(e=0;t>dL;t>>=tN,e+=1);return e}const Q9=t=>(tN<<BigInt(t))-tN;function UXe(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");const n=m=>new Uint8Array(m),i=m=>Uint8Array.of(m);let s=n(t),o=n(t),a=0;const l=()=>{s.fill(1),o.fill(0),a=0},u=(...m)=>r(o,s,...m),c=(m=n(0))=>{o=u(i(0),m),s=u(),m.length!==0&&(o=u(i(1),m),s=u())},h=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let m=0;const y=[];for(;m<e;){s=u();const b=s.slice();y.push(b),m+=s.length}return hg(...y)};return(m,y)=>{l(),c(m);let b;for(;!(b=y(h()));)c();return l(),b}}function J9(t,e,r={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function n(i,s,o){const a=t[i];if(o&&a===void 0)return;const l=typeof a;if(l!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${l}`)}Object.entries(e).forEach(([i,s])=>n(i,s,!1)),Object.entries(r).forEach(([i,s])=>n(i,s,!0))}function VG(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const ja=BigInt(0),ea=BigInt(1),fg=BigInt(2),FXe=BigInt(3),Due=BigInt(4),Bue=BigInt(5),Uue=BigInt(8);function rc(t,e){const r=t%e;return r>=ja?r:e+r}function zc(t,e,r){let n=t;for(;e-- >ja;)n*=n,n%=r;return n}function KG(t,e){if(t===ja)throw new Error("invert: expected non-zero number");if(e<=ja)throw new Error("invert: expected positive modulus, got "+e);let r=rc(t,e),n=e,i=ja,s=ea;for(;r!==ja;){const o=n/r,a=n%r,l=i-s*o;n=r,r=a,i=s,s=l}if(n!==ea)throw new Error("invert: does not exist");return rc(i,e)}function Fue(t,e){const r=(t.ORDER+ea)/Due,n=t.pow(e,r);if(!t.eql(t.sqr(n),e))throw new Error("Cannot find square root");return n}function zXe(t,e){const r=(t.ORDER-Bue)/Uue,n=t.mul(e,fg),i=t.pow(n,r),s=t.mul(e,i),o=t.mul(t.mul(s,fg),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function WXe(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-ea,r=0;for(;e%fg===ja;)e/=fg,r++;let n=fg;const i=Hw(t);for(;GG(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return Fue;let s=i.pow(n,e);const o=(e+ea)/fg;return function(a,l){if(a.is0(l))return l;if(GG(a,l)!==1)throw new Error("Cannot find square root");let u=r,c=a.mul(a.ONE,s),h=a.pow(l,e),m=a.pow(l,o);for(;!a.eql(h,a.ONE);){if(a.is0(h))return a.ZERO;let y=1,b=a.sqr(h);for(;!a.eql(b,a.ONE);)if(y++,b=a.sqr(b),y===u)throw new Error("Cannot find square root");const E=ea<<BigInt(u-y-1),A=a.pow(c,E);u=y,c=a.sqr(A),h=a.mul(h,c),m=a.mul(m,A)}return m}}function qXe(t){return t%Due===FXe?Fue:t%Uue===Bue?zXe:WXe(t)}const HXe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function VXe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=HXe.reduce((n,i)=>(n[i]="function",n),e);return J9(t,r),t}function KXe(t,e,r){if(r<ja)throw new Error("invalid exponent, negatives unsupported");if(r===ja)return t.ONE;if(r===ea)return e;let n=t.ONE,i=e;for(;r>ja;)r&ea&&(n=t.mul(n,i)),i=t.sqr(i),r>>=ea;return n}function zue(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),i=e.reduce((o,a,l)=>t.is0(a)?o:(n[l]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,l)=>t.is0(a)?o:(n[l]=t.mul(o,n[l]),t.mul(o,a)),s),n}function GG(t,e){const r=(t.ORDER-ea)/fg,n=t.pow(e,r),i=t.eql(n,t.ONE),s=t.eql(n,t.ZERO),o=t.eql(n,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function GXe(t,e){e!==void 0&&Y0(e);const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Hw(t,e,r=!1,n={}){if(t<=ja)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s;if(typeof e=="object"&&e!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const c=e;c.BITS&&(i=c.BITS),c.sqrt&&(s=c.sqrt),typeof c.isLE=="boolean"&&(r=c.isLE)}else typeof e=="number"&&(i=e),n.sqrt&&(s=n.sqrt);const{nBitLength:o,nByteLength:a}=GXe(t,i);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const u=Object.freeze({ORDER:t,isLE:r,BITS:o,BYTES:a,MASK:Q9(o),ZERO:ja,ONE:ea,create:c=>rc(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return ja<=c&&c<t},is0:c=>c===ja,isValidNot0:c=>!u.is0(c)&&u.isValid(c),isOdd:c=>(c&ea)===ea,neg:c=>rc(-c,t),eql:(c,h)=>c===h,sqr:c=>rc(c*c,t),add:(c,h)=>rc(c+h,t),sub:(c,h)=>rc(c-h,t),mul:(c,h)=>rc(c*h,t),pow:(c,h)=>KXe(u,c,h),div:(c,h)=>rc(c*KG(h,t),t),sqrN:c=>c*c,addN:(c,h)=>c+h,subN:(c,h)=>c-h,mulN:(c,h)=>c*h,inv:c=>KG(c,t),sqrt:s||(c=>(l||(l=qXe(t)),l(u,c))),toBytes:c=>r?fL(c,a):hL(c,a),fromBytes:c=>{if(c.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+c.length);return r?RE(c):Z9(c)},invertBatch:c=>zue(u,c),cmov:(c,h,m)=>m?h:c});return Object.freeze(u)}function Wue(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function que(t){const e=Wue(t);return e+Math.ceil(e/2)}function YXe(t,e,r=!1){const n=t.length,i=Wue(e),s=que(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?RE(t):Z9(t),a=rc(o,e-ea)+ea;return r?fL(a,i):hL(a,i)}const ow=BigInt(0),pg=BigInt(1);function Ub(t,e){const r=e.negate();return t?r:e}function ZXe(t,e,r){const n=s=>s.pz,i=zue(t.Fp,r.map(n));return r.map((s,o)=>s.toAffine(i[o])).map(t.fromAffine)}function Hue(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Jk(t,e){Hue(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1),i=2**t,s=Q9(t),o=BigInt(t);return{windows:r,windowSize:n,mask:s,maxNumber:i,shiftBy:o}}function YG(t,e,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r;let a=Number(t&i),l=t>>o;a>n&&(a-=s,l+=pg);const u=e*n,c=u+Math.abs(a)-1,h=a===0,m=a<0,y=e%2!==0;return{nextN:l,offset:c,isZero:h,isNeg:m,isNegF:y,offsetF:u}}function QXe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function JXe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const Xk=new WeakMap,Vue=new WeakMap;function eI(t){return Vue.get(t)||1}function ZG(t){if(t!==ow)throw new Error("invalid wNAF")}function XXe(t,e){return{constTimeNegate:Ub,hasPrecomputes(r){return eI(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>ow;)n&pg&&(i=i.add(s)),s=s.double(),n>>=pg;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=Jk(n,e),o=[];let a=r,l=a;for(let u=0;u<i;u++){l=a,o.push(l);for(let c=1;c<s;c++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(r,n,i){let s=t.ZERO,o=t.BASE;const a=Jk(r,e);for(let l=0;l<a.windows;l++){const{nextN:u,offset:c,isZero:h,isNeg:m,isNegF:y,offsetF:b}=YG(i,l,a);i=u,h?o=o.add(Ub(y,n[b])):s=s.add(Ub(m,n[c]))}return ZG(i),{p:s,f:o}},wNAFUnsafe(r,n,i,s=t.ZERO){const o=Jk(r,e);for(let a=0;a<o.windows&&i!==ow;a++){const{nextN:l,offset:u,isZero:c,isNeg:h}=YG(i,a,o);if(i=l,!c){const m=n[u];s=s.add(h?m.negate():m)}}return ZG(i),s},getPrecomputes(r,n,i){let s=Xk.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&(typeof i=="function"&&(s=i(s)),Xk.set(n,s))),s},wNAFCached(r,n,i){const s=eI(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=eI(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){Hue(n,e),Vue.set(r,n),Xk.delete(r)}}}function eet(t,e,r,n){let i=e,s=t.ZERO,o=t.ZERO;for(;r>ow||n>ow;)r&pg&&(s=s.add(i)),n&pg&&(o=o.add(i)),i=i.double(),r>>=pg,n>>=pg;return{p1:s,p2:o}}function tet(t,e,r,n){QXe(r,t),JXe(n,e);const i=r.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=BXe(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const u=Q9(l),c=new Array(Number(u)+1).fill(o),h=Math.floor((e.BITS-1)/l)*l;let m=o;for(let y=h;y>=0;y-=l){c.fill(o);for(let E=0;E<s;E++){const A=n[E],M=Number(A>>BigInt(y)&u);c[M]=c[M].add(r[E])}let b=o;for(let E=c.length-1,A=o;E>0;E--)A=A.add(c[E]),b=b.add(A);if(m=m.add(b),y!==0)for(let E=0;E<l;E++)m=m.double()}return m}function QG(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return VXe(e),e}else return Hw(t)}function ret(t,e,r={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const o of["p","n","h"]){const a=e[o];if(!(typeof a=="bigint"&&a>ow))throw new Error(`CURVE.${o} must be positive bigint`)}const n=QG(e.p,r.Fp),i=QG(e.n,r.Fn),s=["Gx","Gy","a","b"];for(const o of s)if(!n.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:n,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const nv=BigInt(0),T1=BigInt(1),cx=BigInt(2);function net(t){return J9(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function iet(t){const e=net(t),{P:r,type:n,adjustScalarBytes:i,powPminus2:s,randomBytes:o}=e,a=n==="x25519";if(!a&&n!=="x448")throw new Error("invalid type");const l=o||bue,u=a?255:448,c=a?32:56,h=BigInt(a?9:5),m=BigInt(a?121665:39081),y=a?cx**BigInt(254):cx**BigInt(447),b=a?BigInt(8)*cx**BigInt(251)-T1:BigInt(4)*cx**BigInt(445)-T1,E=y+b+T1,A=N=>rc(N,r),M=O(h);function O(N){return fL(A(N),c)}function P(N){const F=Ea("u coordinate",N,c);return a&&(F[31]&=127),A(RE(F))}function z(N){return RE(i(Ea("scalar",N,c)))}function L(N,F){const U=G(P(F),z(N));if(U===nv)throw new Error("invalid private or public key received");return O(U)}function W(N){return L(N,M)}function H(N,F,U){const j=A(N*(F-U));return F=A(F-j),U=A(U+j),{x_2:F,x_3:U}}function G(N,F){rN("u",N,nv,r),rN("scalar",F,y,E);const U=F,j=N;let _=T1,d=nv,g=N,x=T1,C=nv;for(let T=BigInt(u-1);T>=nv;T--){const R=U>>T&T1;C^=R,{x_2:_,x_3:g}=H(C,_,g),{x_2:d,x_3:x}=H(C,d,x),C=R;const I=_+d,f=A(I*I),S=_-d,K=A(S*S),D=f-K,J=g+x,ne=g-x,ie=A(ne*I),ce=A(J*S),Se=ie+ce,ye=ie-ce;g=A(Se*Se),x=A(j*A(ye*ye)),_=A(f*K),d=A(D*(f+A(m*D)))}({x_2:_,x_3:g}=H(C,_,g)),{x_2:d,x_3:x}=H(C,d,x);const k=s(d);return A(_*k)}return{scalarMult:L,scalarMultBase:W,getSharedSecret:(N,F)=>L(N,F),getPublicKey:N=>W(N),utils:{randomPrivateKey:()=>l(c)},GuBytes:M.slice()}}BigInt(0);const set=BigInt(1),JG=BigInt(2),oet=BigInt(3),aet=BigInt(5);BigInt(8);const Kue={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function cet(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=Kue.p,o=t*t%s*t%s,a=zc(o,JG,s)*o%s,l=zc(a,set,s)*t%s,u=zc(l,aet,s)*l%s,c=zc(u,e,s)*u%s,h=zc(c,r,s)*c%s,m=zc(h,n,s)*h%s,y=zc(m,i,s)*m%s,b=zc(y,i,s)*m%s,E=zc(b,e,s)*u%s;return{pow_p_5_8:zc(E,JG,s)*t%s,b2:o}}function uet(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}(()=>{const t=Kue.p;return iet({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:r,b2:n}=cet(e);return rc(zc(r,oet,t)*n,t)},adjustScalarBytes:uet})})();function XG(t){t.lowS!==void 0&&NE("lowS",t.lowS),t.prehash!==void 0&&NE("prehash",t.prehash)}let det=class extends Error{constructor(e=""){super(e)}};const bh={Err:det,_tlv:{encode:(t,e)=>{const{Err:r}=bh;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=lx(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?lx(i.length/2|128):"";return lx(t)+s+i+e},decode(t,e){const{Err:r}=bh;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const l=i&127;if(!l)throw new r("tlv.decode(long): indefinite length not supported");if(l>4)throw new r("tlv.decode(long): byte length is too big");const u=e.subarray(n,n+l);if(u.length!==l)throw new r("tlv.decode: length bytes not complete");if(u[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const c of u)o=o<<8|c;if(n+=l,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=bh;if(t<Fb)throw new e("integer: negative integers are not allowed");let r=lx(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=bh;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Z9(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=bh,i=Ea("signature",t),{v:s,l:o}=n.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=n.decode(2,s),{v:u,l:c}=n.decode(2,l);if(c.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(u)}},hexFromSig(t){const{_tlv:e,_int:r}=bh,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),s=n+i;return e.encode(48,s)}},Fb=BigInt(0),zb=BigInt(1),het=BigInt(2),ux=BigInt(3),fet=BigInt(4);function pet(t,e,r){function n(i){const s=t.sqr(i),o=t.mul(s,i);return t.add(t.add(o,t.mul(i,e)),r)}return n}function Gue(t,e,r){const{BYTES:n}=t;function i(s){let o;if(typeof s=="bigint")o=s;else{let a=Ea("private key",s);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const l=new Uint8Array(n);l.set(a,l.length-a.length),a=l}try{o=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof s}`)}}if(r&&(o=t.create(o)),!t.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return i}function get(t,e={}){const{Fp:r,Fn:n}=ret("weierstrass",t,e),{h:i,n:s}=t;J9(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=e;if(o&&(!r.is0(t.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function l(G,N,F){const{x:U,y:j}=N.toAffine(),_=r.toBytes(U);if(NE("isCompressed",F),F){a();const d=!r.isOdd(j);return hg(Yue(d),_)}else return hg(Uint8Array.of(4),_,r.toBytes(j))}function u(G){fc(G);const N=r.BYTES,F=N+1,U=2*N+1,j=G.length,_=G[0],d=G.subarray(1);if(j===F&&(_===2||_===3)){const g=r.fromBytes(d);if(!r.isValid(g))throw new Error("bad point: is not on curve, wrong x");const x=m(g);let C;try{C=r.sqrt(x)}catch(T){const R=T instanceof Error?": "+T.message:"";throw new Error("bad point: is not on curve, sqrt error"+R)}a();const k=r.isOdd(C);return(_&1)===1!==k&&(C=r.neg(C)),{x:g,y:C}}else if(j===U&&_===4){const g=r.fromBytes(d.subarray(N*0,N*1)),x=r.fromBytes(d.subarray(N*1,N*2));if(!y(g,x))throw new Error("bad point: is not on curve");return{x:g,y:x}}else throw new Error(`bad point: got length ${j}, expected compressed=${F} or uncompressed=${U}`)}const c=e.toBytes||l,h=e.fromBytes||u,m=pet(r,t.a,t.b);function y(G,N){const F=r.sqr(N),U=m(G);return r.eql(F,U)}if(!y(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const b=r.mul(r.pow(t.a,ux),fet),E=r.mul(r.sqr(t.b),BigInt(27));if(r.is0(r.add(b,E)))throw new Error("bad curve params: a or b");function A(G,N,F=!1){if(!r.isValid(N)||F&&r.is0(N))throw new Error(`bad point coordinate ${G}`);return N}function M(G){if(!(G instanceof L))throw new Error("ProjectivePoint expected")}const O=VG((G,N)=>{const{px:F,py:U,pz:j}=G;if(r.eql(j,r.ONE))return{x:F,y:U};const _=G.is0();N==null&&(N=_?r.ONE:r.inv(j));const d=r.mul(F,N),g=r.mul(U,N),x=r.mul(j,N);if(_)return{x:r.ZERO,y:r.ZERO};if(!r.eql(x,r.ONE))throw new Error("invZ was invalid");return{x:d,y:g}}),P=VG(G=>{if(G.is0()){if(e.allowInfinityPoint&&!r.is0(G.py))return;throw new Error("bad point: ZERO")}const{x:N,y:F}=G.toAffine();if(!r.isValid(N)||!r.isValid(F))throw new Error("bad point: x or y not field elements");if(!y(N,F))throw new Error("bad point: equation left != right");if(!G.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function z(G,N,F,U,j){return F=new L(r.mul(F.px,G),F.py,F.pz),N=Ub(U,N),F=Ub(j,F),N.add(F)}class L{constructor(N,F,U){this.px=A("x",N),this.py=A("y",F,!0),this.pz=A("z",U),Object.freeze(this)}static fromAffine(N){const{x:F,y:U}=N||{};if(!N||!r.isValid(F)||!r.isValid(U))throw new Error("invalid affine point");if(N instanceof L)throw new Error("projective point not allowed");return r.is0(F)&&r.is0(U)?L.ZERO:new L(F,U,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(N){return ZXe(L,"pz",N)}static fromBytes(N){return fc(N),L.fromHex(N)}static fromHex(N){const F=L.fromAffine(h(Ea("pointHex",N)));return F.assertValidity(),F}static fromPrivateKey(N){const F=Gue(n,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return L.BASE.multiply(F(N))}static msm(N,F){return tet(L,n,N,F)}precompute(N=8,F=!0){return H.setWindowSize(this,N),F||this.multiply(ux),this}_setWindowSize(N){this.precompute(N)}assertValidity(){P(this)}hasEvenY(){const{y:N}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(N)}equals(N){M(N);const{px:F,py:U,pz:j}=this,{px:_,py:d,pz:g}=N,x=r.eql(r.mul(F,g),r.mul(_,j)),C=r.eql(r.mul(U,g),r.mul(d,j));return x&&C}negate(){return new L(this.px,r.neg(this.py),this.pz)}double(){const{a:N,b:F}=t,U=r.mul(F,ux),{px:j,py:_,pz:d}=this;let g=r.ZERO,x=r.ZERO,C=r.ZERO,k=r.mul(j,j),T=r.mul(_,_),R=r.mul(d,d),I=r.mul(j,_);return I=r.add(I,I),C=r.mul(j,d),C=r.add(C,C),g=r.mul(N,C),x=r.mul(U,R),x=r.add(g,x),g=r.sub(T,x),x=r.add(T,x),x=r.mul(g,x),g=r.mul(I,g),C=r.mul(U,C),R=r.mul(N,R),I=r.sub(k,R),I=r.mul(N,I),I=r.add(I,C),C=r.add(k,k),k=r.add(C,k),k=r.add(k,R),k=r.mul(k,I),x=r.add(x,k),R=r.mul(_,d),R=r.add(R,R),k=r.mul(R,I),g=r.sub(g,k),C=r.mul(R,T),C=r.add(C,C),C=r.add(C,C),new L(g,x,C)}add(N){M(N);const{px:F,py:U,pz:j}=this,{px:_,py:d,pz:g}=N;let x=r.ZERO,C=r.ZERO,k=r.ZERO;const T=t.a,R=r.mul(t.b,ux);let I=r.mul(F,_),f=r.mul(U,d),S=r.mul(j,g),K=r.add(F,U),D=r.add(_,d);K=r.mul(K,D),D=r.add(I,f),K=r.sub(K,D),D=r.add(F,j);let J=r.add(_,g);return D=r.mul(D,J),J=r.add(I,S),D=r.sub(D,J),J=r.add(U,j),x=r.add(d,g),J=r.mul(J,x),x=r.add(f,S),J=r.sub(J,x),k=r.mul(T,D),x=r.mul(R,S),k=r.add(x,k),x=r.sub(f,k),k=r.add(f,k),C=r.mul(x,k),f=r.add(I,I),f=r.add(f,I),S=r.mul(T,S),D=r.mul(R,D),f=r.add(f,S),S=r.sub(I,S),S=r.mul(T,S),D=r.add(D,S),I=r.mul(f,D),C=r.add(C,I),I=r.mul(J,D),x=r.mul(K,x),x=r.sub(x,I),I=r.mul(K,f),k=r.mul(J,k),k=r.add(k,I),new L(x,C,k)}subtract(N){return this.add(N.negate())}is0(){return this.equals(L.ZERO)}multiply(N){const{endo:F}=e;if(!n.isValidNot0(N))throw new Error("invalid scalar: out of range");let U,j;const _=d=>H.wNAFCached(this,d,L.normalizeZ);if(F){const{k1neg:d,k1:g,k2neg:x,k2:C}=F.splitScalar(N),{p:k,f:T}=_(g),{p:R,f:I}=_(C);j=T.add(I),U=z(F.beta,k,R,d,x)}else{const{p:d,f:g}=_(N);U=d,j=g}return L.normalizeZ([U,j])[0]}multiplyUnsafe(N){const{endo:F}=e,U=this;if(!n.isValid(N))throw new Error("invalid scalar: out of range");if(N===Fb||U.is0())return L.ZERO;if(N===zb)return U;if(H.hasPrecomputes(this))return this.multiply(N);if(F){const{k1neg:j,k1:_,k2neg:d,k2:g}=F.splitScalar(N),{p1:x,p2:C}=eet(L,U,_,g);return z(F.beta,x,C,j,d)}else return H.wNAFCachedUnsafe(U,N)}multiplyAndAddUnsafe(N,F,U){const j=this.multiplyUnsafe(F).add(N.multiplyUnsafe(U));return j.is0()?void 0:j}toAffine(N){return O(this,N)}isTorsionFree(){const{isTorsionFree:N}=e;return i===zb?!0:N?N(L,this):H.wNAFCachedUnsafe(this,s).is0()}clearCofactor(){const{clearCofactor:N}=e;return i===zb?this:N?N(L,this):this.multiplyUnsafe(i)}toBytes(N=!0){return NE("isCompressed",N),this.assertValidity(),c(L,this,N)}toRawBytes(N=!0){return this.toBytes(N)}toHex(N=!0){return o5(this.toBytes(N))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}L.BASE=new L(t.Gx,t.Gy,r.ONE),L.ZERO=new L(r.ZERO,r.ONE,r.ZERO),L.Fp=r,L.Fn=n;const W=n.BITS,H=XXe(L,e.endo?Math.ceil(W/2):W);return L}function Yue(t){return Uint8Array.of(t?2:3)}function met(t,e,r={}){J9(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const n=e.randomBytes||bue,i=e.hmac||((U,...j)=>Oue(e.hash,U,hg(...j))),{Fp:s,Fn:o}=t,{ORDER:a,BITS:l}=o;function u(U){const j=a>>zb;return U>j}function c(U){return u(U)?o.neg(U):U}function h(U,j){if(!o.isValidNot0(j))throw new Error(`invalid signature ${U}: out of range 1..CURVE.n`)}class m{constructor(j,_,d){h("r",j),h("s",_),this.r=j,this.s=_,d!=null&&(this.recovery=d),Object.freeze(this)}static fromCompact(j){const _=o.BYTES,d=Ea("compactSignature",j,_*2);return new m(o.fromBytes(d.subarray(0,_)),o.fromBytes(d.subarray(_,_*2)))}static fromDER(j){const{r:_,s:d}=bh.toSig(Ea("DER",j));return new m(_,d)}assertValidity(){}addRecoveryBit(j){return new m(this.r,this.s,j)}recoverPublicKey(j){const _=s.ORDER,{r:d,s:g,recovery:x}=this;if(x==null||![0,1,2,3].includes(x))throw new Error("recovery id invalid");if(a*het<_&&x>1)throw new Error("recovery id is ambiguous for h>1 curve");const C=x===2||x===3?d+a:d;if(!s.isValid(C))throw new Error("recovery id 2 or 3 invalid");const k=s.toBytes(C),T=t.fromHex(hg(Yue((x&1)===0),k)),R=o.inv(C),I=P(Ea("msgHash",j)),f=o.create(-I*R),S=o.create(g*R),K=t.BASE.multiplyUnsafe(f).add(T.multiplyUnsafe(S));if(K.is0())throw new Error("point at infinify");return K.assertValidity(),K}hasHighS(){return u(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,o.neg(this.s),this.recovery):this}toBytes(j){if(j==="compact")return hg(o.toBytes(this.r),o.toBytes(this.s));if(j==="der")return lL(bh.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return o5(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return o5(this.toBytes("compact"))}}const y=Gue(o,r.allowedPrivateKeyLengths,r.wrapPrivateKey),b={isValidPrivateKey(U){try{return y(U),!0}catch{return!1}},normPrivateKeyToScalar:y,randomPrivateKey:()=>{const U=a;return YXe(n(que(U)),U)},precompute(U=8,j=t.BASE){return j.precompute(U,!1)}};function E(U,j=!0){return t.fromPrivateKey(U).toBytes(j)}function A(U){if(typeof U=="bigint")return!1;if(U instanceof t)return!0;const j=Ea("key",U).length,_=s.BYTES,d=_+1,g=2*_+1;if(!(r.allowedPrivateKeyLengths||o.BYTES===d))return j===d||j===g}function M(U,j,_=!0){if(A(U)===!0)throw new Error("first arg must be private key");if(A(j)===!1)throw new Error("second arg must be public key");return t.fromHex(j).multiply(y(U)).toBytes(_)}const O=e.bits2int||function(U){if(U.length>8192)throw new Error("input is too large");const j=Z9(U),_=U.length*8-l;return _>0?j>>BigInt(_):j},P=e.bits2int_modN||function(U){return o.create(O(U))},z=Q9(l);function L(U){return rN("num < 2^"+l,U,Fb,z),o.toBytes(U)}function W(U,j,_=H){if(["recovered","canonical"].some(K=>K in _))throw new Error("sign() legacy options not supported");const{hash:d}=e;let{lowS:g,prehash:x,extraEntropy:C}=_;g==null&&(g=!0),U=Ea("msgHash",U),XG(_),x&&(U=Ea("prehashed msgHash",d(U)));const k=P(U),T=y(j),R=[L(T),L(k)];if(C!=null&&C!==!1){const K=C===!0?n(s.BYTES):C;R.push(Ea("extraEntropy",K))}const I=hg(...R),f=k;function S(K){const D=O(K);if(!o.isValidNot0(D))return;const J=o.inv(D),ne=t.BASE.multiply(D).toAffine(),ie=o.create(ne.x);if(ie===Fb)return;const ce=o.create(J*o.create(f+ie*T));if(ce===Fb)return;let Se=(ne.x===ie?0:2)|Number(ne.y&zb),ye=ce;return g&&u(ce)&&(ye=c(ce),Se^=1),new m(ie,ye,Se)}return{seed:I,k2sig:S}}const H={lowS:e.lowS,prehash:!1},G={lowS:e.lowS,prehash:!1};function N(U,j,_=H){const{seed:d,k2sig:g}=W(U,j,_);return UXe(e.hash.outputLen,o.BYTES,i)(d,g)}t.BASE.precompute(8);function F(U,j,_,d=G){const g=U;j=Ea("msgHash",j),_=Ea("publicKey",_),XG(d);const{lowS:x,prehash:C,format:k}=d;if("strict"in d)throw new Error("options.strict was renamed to lowS");if(k!==void 0&&!["compact","der","js"].includes(k))throw new Error('format must be "compact", "der" or "js"');const T=typeof g=="string"||oL(g),R=!T&&!k&&typeof g=="object"&&g!==null&&typeof g.r=="bigint"&&typeof g.s=="bigint";if(!T&&!R)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let I,f;try{if(R)if(k===void 0||k==="js")I=new m(g.r,g.s);else throw new Error("invalid format");if(T){try{k!=="compact"&&(I=m.fromDER(g))}catch(Se){if(!(Se instanceof bh.Err))throw Se}!I&&k!=="der"&&(I=m.fromCompact(g))}f=t.fromHex(_)}catch{return!1}if(!I||x&&I.hasHighS())return!1;C&&(j=e.hash(j));const{r:S,s:K}=I,D=P(j),J=o.inv(K),ne=o.create(D*J),ie=o.create(S*J),ce=t.BASE.multiplyUnsafe(ne).add(f.multiplyUnsafe(ie));return ce.is0()?!1:o.create(ce.x)===S}return Object.freeze({getPublicKey:E,getSharedSecret:M,sign:N,verify:F,utils:b,Point:t,Signature:m})}function yet(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp,n=Hw(e.n,t.nBitLength),i={Fp:r,Fn:n,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function wet(t){const{CURVE:e,curveOpts:r}=yet(t),n={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:r,ecdsaOpts:n}}function vet(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function bet(t){const{CURVE:e,curveOpts:r,ecdsaOpts:n}=wet(t),i=get(e,r),s=met(i,n,r);return vet(t,s)}function nN(t,e){const r=n=>bet({...t,hash:n});return{...r(e),create:r}}const Zue={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},Que={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},Jue={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},xet=Hw(Zue.p),Eet=Hw(Que.p),_et=Hw(Jue.p);nN({...Zue,Fp:xet,lowS:!1},Y9);nN({...Que,Fp:Eet,lowS:!1},RJe),nN({...Jue,Fp:_et,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},NJe);const iN="base16",Rp="base64pad",iv="base64url",Aet="utf8",tI=1,Cet=2;function rI(t){const e=jue(cue(t,iN));return uue(e,iN)}function Vf(t){const e=jue(cue(t,Aet));return uue(e,iN)}function dx(t,e,r){return`${t}?wc_ev=${r}&topic=${e}`}var ket=Object.defineProperty,Iet=Object.defineProperties,Tet=Object.getOwnPropertyDescriptors,eY=Object.getOwnPropertySymbols,$et=Object.prototype.hasOwnProperty,Met=Object.prototype.propertyIsEnumerable,tY=(t,e,r)=>e in t?ket(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Pet=(t,e)=>{for(var r in e||(e={}))$et.call(e,r)&&tY(t,r,e[r]);if(eY)for(var r of eY(e))Met.call(e,r)&&tY(t,r,e[r]);return t},Net=(t,e)=>Iet(t,Tet(e));function Vw(t){const e=[];return t.forEach(r=>{const[n,i]=r.split(":");e.push(`${n}:${i}`)}),e}function Ret(t){const e=[];return Object.values(t).forEach(r=>{e.push(...Vw(r.accounts))}),e}function Oet(t,e){const r=[];return Object.values(t).forEach(n=>{Vw(n.accounts).includes(e)&&r.push(...n.methods)}),r}function jet(t,e){const r=[];return Object.values(t).forEach(n=>{Vw(n.accounts).includes(e)&&r.push(...n.events)}),r}function Xue(t){return t.includes(":")}function Let(t){return Xue(t)?t.split(":")[0]:t}function rY(t){var e,r,n;const i={};if(!l5(t))return i;for(const[s,o]of Object.entries(t)){const a=Xue(s)?[s]:o.chains,l=o.methods||[],u=o.events||[],c=Let(s);i[c]=Net(Pet({},i[c]),{chains:kg(a,(e=i[c])==null?void 0:e.chains),methods:kg(l,(r=i[c])==null?void 0:r.methods),events:kg(u,(n=i[c])==null?void 0:n.events)})}return i}function Det(t){const e={};return t?.forEach(r=>{var n;const[i,s]=r.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(r),(n=e[i].chains)==null||n.push(`${i}:${s}`)}),e}function nY(t,e){e=e.map(n=>n.replace("did:pkh:",""));const r=Det(e);for(const[n,i]of Object.entries(r))i.methods?i.methods=kg(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return r}function Bet(t,e){var r,n,i,s,o,a;const l=rY(t),u=rY(e),c={},h=Object.keys(l).concat(Object.keys(u));for(const m of h)c[m]={chains:kg((r=l[m])==null?void 0:r.chains,(n=u[m])==null?void 0:n.chains),methods:kg((i=l[m])==null?void 0:i.methods,(s=u[m])==null?void 0:s.methods),events:kg((o=l[m])==null?void 0:o.events,(a=u[m])==null?void 0:a.events)};return c}const Uet={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Fet={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function vr(t,e){const{message:r,code:n}=Fet[t];return{message:e?`${r} ${e}`:r,code:n}}function Fs(t,e){const{message:r,code:n}=Uet[t];return{message:e?`${r} ${e}`:r,code:n}}function aw(t,e){return Array.isArray(t)?typeof e<"u"&&t.length?t.every(e):!0:!1}function l5(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Ia(t){return typeof t>"u"}function Es(t,e){return e&&Ia(t)?!0:typeof t=="string"&&!!t.trim().length}function pL(t,e){return e&&Ia(t)?!0:typeof t=="number"&&!isNaN(t)}function zet(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r);let s=!0;return dg(i,n)?(n.forEach(o=>{const{accounts:a,methods:l,events:u}=t.namespaces[o],c=Vw(a),h=r[o];(!dg(due(o,h),c)||!dg(h.methods,l)||!dg(h.events,u))&&(s=!1)}),s):!1}function OE(t){return Es(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function Wet(t){if(Es(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&OE(r)}}return!1}function qet(t,e){let r=null;return Es(t?.publicKey,!1)||(r=vr("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function iY(t){let e=!0;return aw(t)?t.length&&(e=t.every(r=>Es(r,!1))):e=!1,e}function Het(t,e,r){let n=null;return aw(e)&&e.length?e.forEach(i=>{n||OE(i)||(n=Fs("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):OE(t)||(n=Fs("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function Vet(t,e,r){let n=null;return Object.entries(t).forEach(([i,s])=>{if(n)return;const o=Het(i,due(i,s),`${e} ${r}`);o&&(n=o)}),n}function Ket(t,e){let r=null;return aw(t)?t.forEach(n=>{r||Wet(n)||(r=Fs("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=Fs("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function Get(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=Ket(n?.accounts,`${e} namespace`);i&&(r=i)}),r}function Yet(t,e){let r=null;return iY(t?.methods)?iY(t?.events)||(r=Fs("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=Fs("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function ede(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=Yet(n,`${e}, namespace`);i&&(r=i)}),r}function Zet(t,e,r){let n=null;if(t&&l5(t)){const i=ede(t,e);i&&(n=i);const s=Vet(t,e,r);s&&(n=s)}else n=vr("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function nI(t,e){let r=null;if(t&&l5(t)){const n=ede(t,e);n&&(r=n);const i=Get(t,e);i&&(r=i)}else r=vr("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function tde(t){return Es(t.protocol,!0)}function Qet(t,e){let r=!1;return t?t&&aw(t)&&t.length&&t.forEach(n=>{r=tde(n)}):r=!0,r}function Jet(t){return typeof t=="number"}function Rc(t){return typeof t<"u"&&typeof t!==null}function Xet(t){return!(!t||typeof t!="object"||!t.code||!pL(t.code,!1)||!t.message||!Es(t.message,!1))}function ett(t){return!(Ia(t)||!Es(t.method,!1))}function ttt(t){return!(Ia(t)||Ia(t.result)&&Ia(t.error)||!pL(t.id,!1)||!Es(t.jsonrpc,!1))}function rtt(t){return!(Ia(t)||!Es(t.name,!1))}function sY(t,e){return!(!OE(e)||!Ret(t).includes(e))}function ntt(t,e,r){return Es(r,!1)?Oet(t,e).includes(r):!1}function itt(t,e,r){return Es(r,!1)?jet(t,e).includes(r):!1}function oY(t,e,r){let n=null;const i=stt(t),s=ott(e),o=Object.keys(i),a=Object.keys(s),l=aY(Object.keys(t)),u=aY(Object.keys(e)),c=l.filter(h=>!u.includes(h));return c.length&&(n=vr("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${c.toString()}
      Received: ${Object.keys(e).toString()}`)),dg(o,a)||(n=vr("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(h=>{if(!h.includes(":")||n)return;const m=Vw(e[h].accounts);m.includes(h)||(n=vr("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${h}
        Required: ${h}
        Approved: ${m.toString()}`))}),o.forEach(h=>{n||(dg(i[h].methods,s[h].methods)?dg(i[h].events,s[h].events)||(n=vr("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${h}`)):n=vr("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${h}`))}),n}function stt(t){const e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(i=>{e[i]={methods:t[r].methods,events:t[r].events}})}),e}function aY(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function ott(t){const e={};return Object.keys(t).forEach(r=>{r.includes(":")?e[r]=t[r]:Vw(t[r].accounts)?.forEach(i=>{e[i]={accounts:t[r].accounts.filter(s=>s.includes(`${i}:`)),methods:t[r].methods,events:t[r].events}})}),e}function att(t,e){return pL(t,!1)&&t<=e.max&&t>=e.min}const iI={};let sv=class{static get(e){return iI[e]}static set(e,r){iI[e]=r}static delete(e){delete iI[e]}};function ltt(t){const e=Lw.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function ctt({publicKey:t,signature:e,payload:r}){var n;const i=sN(r.method),s=128|parseInt(((n=r.version)==null?void 0:n.toString())||"4"),o=htt(r.address),a=r.era==="00"?new Uint8Array([0]):sN(r.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const l=parseInt(r.nonce,16),u=new Uint8Array([l&255,l>>8&255]),c=BigInt(`0x${dtt(r.tip)}`),h=ptt(c),m=new Uint8Array([0,...t,o,...e,...a,...u,...h,...i]),y=ftt(m.length+1);return new Uint8Array([...y,s,...m])}function utt(t){const e=sN(t),r=LUe.blake2b(e,void 0,32);return"0x"+kt.from(r).toString("hex")}function sN(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function dtt(t){return t.startsWith("0x")?t.slice(2):t}function htt(t){const e=Lw.decode(t)[0];return e===42?0:e===60?2:1}function ftt(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function ptt(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function gtt(t){const e=Uint8Array.from(kt.from(t.signature,"hex")),r=ltt(t.transaction.address),n=ctt({publicKey:r,signature:e,payload:t.transaction}),i=kt.from(n).toString("hex");return utt(i)}const rde="wc",nde=2,ide="client",gL=`${rde}@${nde}:${ide}:`,sI={name:ide,logger:"error"},lY="WALLETCONNECT_DEEPLINK_CHOICE",mtt="proposal",cY="Proposal expired",ytt="session",$1=Tt.SEVEN_DAYS,wtt="engine",Rs={wc_sessionPropose:{req:{ttl:Tt.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Tt.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Tt.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Tt.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Tt.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Tt.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Tt.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Tt.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Tt.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Tt.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Tt.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Tt.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Tt.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Tt.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Tt.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Tt.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Tt.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Tt.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Tt.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Tt.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Tt.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Tt.FIVE_MINUTES,prompt:!1,tag:1119}}},oI={min:Tt.FIVE_MINUTES,max:Tt.SEVEN_DAYS},Gu={idle:"IDLE",active:"ACTIVE"},vtt={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},btt="request",xtt=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],Ett="wc",_tt="auth",Att="authKeys",Stt="pairingTopics",Ctt="requests",X9=`${Ett}@${1.5}:${_tt}:`,g8=`${X9}:PUB_KEY`;var ktt=Object.defineProperty,Itt=Object.defineProperties,Ttt=Object.getOwnPropertyDescriptors,uY=Object.getOwnPropertySymbols,$tt=Object.prototype.hasOwnProperty,Mtt=Object.prototype.propertyIsEnumerable,oN=(t,e,r)=>e in t?ktt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Pn=(t,e)=>{for(var r in e||(e={}))$tt.call(e,r)&&oN(t,r,e[r]);if(uY)for(var r of uY(e))Mtt.call(e,r)&&oN(t,r,e[r]);return t},wo=(t,e)=>Itt(t,Ttt(e)),bt=(t,e,r)=>oN(t,typeof e!="symbol"?e+"":e,r);let Ptt=class extends uQe{constructor(e){super(e),bt(this,"name",wtt),bt(this,"events",new Aj),bt(this,"initialized",!1),bt(this,"requestQueue",{state:Gu.idle,queue:[]}),bt(this,"sessionRequestQueue",{state:Gu.idle,queue:[]}),bt(this,"emittedSessionRequests",new QQe({limit:500})),bt(this,"requestQueueDelay",Tt.ONE_SECOND),bt(this,"expectedPairingMethodMap",new Map),bt(this,"recentlyDeletedMap",new Map),bt(this,"recentlyDeletedLimit",200),bt(this,"relayMessageCache",[]),bt(this,"pendingSessions",new Map),bt(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Rs)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Tt.toMiliseconds(this.requestQueueDelay)))}),bt(this,"connect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const n=wo(Pn({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n),n.optionalNamespaces=Bet(n.requiredNamespaces,n.optionalNamespaces),n.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:l,relays:u}=n;let c=i,h,m=!1;try{if(c){const W=this.client.core.pairing.pairings.get(c);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),m=W.active}}catch(W){throw this.client.logger.error(`connect() -> pairing.get(${c}) failed`),W}if(!c||!m){const{topic:W,uri:H}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});c=W,h=H}if(!c){const{message:W}=vr("NO_MATCHING_KEY",`connect() pairing topic: ${c}`);throw new Error(W)}const y=await this.client.core.crypto.generateKeyPair(),b=Rs.wc_sessionPropose.req.ttl||Tt.FIVE_MINUTES,E=ya(b),A=wo(Pn(Pn({requiredNamespaces:s,optionalNamespaces:o,relays:u??[{protocol:Lce}],proposer:{publicKey:y,metadata:this.client.metadata},expiryTimestamp:E,pairingTopic:c},a&&{sessionProperties:a}),l&&{scopedProperties:l}),{id:sd()}),M=zn("session_connect",A.id),{reject:O,resolve:P,done:z}=C1(b,cY),L=({id:W})=>{W===A.id&&(this.client.events.off("proposal_expire",L),this.pendingSessions.delete(A.id),this.events.emit(M,{error:{message:cY,code:0}}))};return this.client.events.on("proposal_expire",L),this.events.once(M,({error:W,session:H})=>{this.client.events.off("proposal_expire",L),W?O(W):H&&P(H)}),await this.sendProposeSession({proposal:A,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:A.id}}}),await this.setProposal(A.id,A),{uri:h,approval:z}}),bt(this,"pair",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}}),bt(this,"approve",async r=>{var n,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(n=r?.id)==null?void 0:n.toString(),trace:[Bf.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(N){throw o.setError(J2.no_internet_connection),N}try{await this.isValidProposalId(r?.id)}catch(N){throw this.client.logger.error(`approve() -> proposal.get(${r?.id}) failed`),o.setError(J2.proposal_not_found),N}try{await this.isValidApprove(r)}catch(N){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(J2.session_approve_namespace_validation_failure),N}const{id:a,relayProtocol:l,namespaces:u,sessionProperties:c,scopedProperties:h,sessionConfig:m}=r,y=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:b,proposer:E,requiredNamespaces:A,optionalNamespaces:M}=y;let O=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:b});O||(O=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:Bf.session_approve_started,properties:{topic:b,trace:[Bf.session_approve_started,Bf.session_namespaces_validation_success]}}));const P=await this.client.core.crypto.generateKeyPair(),z=E.publicKey,L=await this.client.core.crypto.generateSharedKey(P,z),W=Pn(Pn(Pn({relay:{protocol:l??"irn"},namespaces:u,controller:{publicKey:P,metadata:this.client.metadata},expiry:ya($1)},c&&{sessionProperties:c}),h&&{scopedProperties:h}),m&&{sessionConfig:m}),H=si.relay;O.addTrace(Bf.subscribing_session_topic);try{await this.client.core.relayer.subscribe(L,{transportType:H,internal:{skipSubscribe:!0}})}catch(N){throw O.setError(J2.subscribe_session_topic_failure),N}O.addTrace(Bf.subscribe_session_topic_success);const G=wo(Pn({},W),{topic:L,requiredNamespaces:A,optionalNamespaces:M,pairingTopic:b,acknowledged:!1,self:W.controller,peer:{publicKey:E.publicKey,metadata:E.metadata},controller:P,transportType:si.relay});await this.client.session.set(L,G),O.addTrace(Bf.store_session);try{await this.sendApproveSession({sessionTopic:L,proposal:y,pairingProposalResponse:{relay:{protocol:l??"irn"},responderPublicKey:P},sessionSettleRequest:W,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:a}}}),O.addTrace(Bf.session_approve_publish_success)}catch(N){throw this.client.logger.error(N),this.client.session.delete(L,Fs("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(L),N}return this.client.core.eventClient.deleteEvent({eventId:O.eventId}),await this.client.core.pairing.updateMetadata({topic:b,metadata:E.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:b}),await this.setExpiry(L,ya($1)),{topic:L,acknowledged:()=>Promise.resolve(this.client.session.get(L))}}),bt(this,"reject",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:n,reason:i}=r;let s;try{s=this.client.proposal.get(n).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),o}s&&await this.sendError({id:n,topic:s,error:i,rpcOpts:Rs.wc_sessionPropose.reject}),await this.deleteProposal(n)}),bt(this,"update",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(h){throw this.client.logger.error("update() -> isValidUpdate() failed"),h}const{topic:n,namespaces:i}=r,{done:s,resolve:o,reject:a}=C1(),l=sd(),u=I0().toString(),c=this.client.session.get(n).namespaces;return this.events.once(zn("session_update",l),({error:h})=>{h?a(h):o()}),await this.client.session.update(n,{namespaces:i}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:l,relayRpcId:u}).catch(h=>{this.client.logger.error(h),this.client.session.update(n,{namespaces:c}),a(h)}),{acknowledged:s}}),bt(this,"extend",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(l){throw this.client.logger.error("extend() -> isValidExtend() failed"),l}const{topic:n}=r,i=sd(),{done:s,resolve:o,reject:a}=C1();return this.events.once(zn("session_extend",i),({error:l})=>{l?a(l):o()}),await this.setExpiry(n,ya($1)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(l=>{a(l)}),{acknowledged:s}}),bt(this,"request",async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(A){throw this.client.logger.error("request() -> isValidRequest() failed"),A}const{chainId:n,request:i,topic:s,expiry:o=Rs.wc_sessionRequest.req.ttl}=r,a=this.client.session.get(s);a?.transportType===si.relay&&await this.confirmOnlineStateOrThrow();const l=sd(),u=I0().toString(),{done:c,resolve:h,reject:m}=C1(o,"Request expired. Please try again.");this.events.once(zn("session_request",l),({error:A,result:M})=>{A?m(A):h(M)});const y="wc_sessionRequest",b=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(b)return await this.sendRequest({clientRpcId:l,relayRpcId:u,topic:s,method:y,params:{request:wo(Pn({},i),{expiryTimestamp:ya(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0,appLink:b}).catch(A=>m(A)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:l}),await c();const E={request:wo(Pn({},i),{expiryTimestamp:ya(o)}),chainId:n};return await Promise.all([new Promise(async A=>{await this.sendRequest({clientRpcId:l,relayRpcId:u,topic:s,method:y,params:E,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(l,E)}).catch(M=>m(M)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:l}),A()}),new Promise(async A=>{var M;if(!((M=a.sessionConfig)!=null&&M.disableDeepLink)){const O=await VQe(this.client.core.storage,lY);await WQe({id:l,topic:s,wcDeepLink:O})}A()}),c()]).then(A=>A[2])}),bt(this,"respond",async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:i}=r,{id:s}=i,o=this.client.session.get(n);o.transportType===si.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);od(i)?await this.sendResult({id:s,topic:n,result:i.result,throwOnFailedPublish:!0,appLink:a}):Jl(i)&&await this.sendError({id:s,topic:n,error:i.error,appLink:a}),this.cleanupAfterResponse(r)}),bt(this,"ping",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:n}=r;if(this.client.session.keys.includes(n)){const i=sd(),s=I0().toString(),{done:o,resolve:a,reject:l}=C1();this.events.once(zn("session_ping",i),({error:u})=>{u?l(u):a()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(n)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:n}))}),bt(this,"emit",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);const{topic:n,event:i,chainId:s}=r,o=I0().toString(),a=sd();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),bt(this,"disconnect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);const{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:Fs("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{const{message:i}=vr("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(i)}}),bt(this,"find",r=>(this.isInitialized(),this.client.session.getAll().filter(n=>zet(n,r)))),bt(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),bt(this,"authenticate",async(r,n)=>{var i;this.isInitialized(),this.isValidAuthenticate(r);const s=n&&this.client.core.linkModeSupportedApps.includes(n)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?si.link_mode:si.relay;o===si.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:l="",uri:u,domain:c,nonce:h,type:m,exp:y,nbf:b,methods:E=[],expiry:A}=r,M=[...r.resources||[]],{topic:O,uri:P}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:O,uri:P}});const z=await this.client.core.crypto.generateKeyPair(),L=rI(z);if(await Promise.all([this.client.auth.authKeys.set(g8,{responseTopic:L,publicKey:z}),this.client.auth.pairingTopics.set(L,{topic:L,pairingTopic:O})]),await this.client.core.relayer.subscribe(L,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${O}`),E.length>0){const{namespace:T}=f8(a[0]);let R=cXe(T,"request",E);p8(M)&&(R=dXe(R,M.pop())),M.push(R)}const W=A&&A>Rs.wc_sessionAuthenticate.req.ttl?A:Rs.wc_sessionAuthenticate.req.ttl,H={authPayload:{type:m??"caip122",chains:a,statement:l,aud:u,domain:c,version:"1",nonce:h,iat:new Date().toISOString(),exp:y,nbf:b,resources:M},requester:{publicKey:z,metadata:this.client.metadata},expiryTimestamp:ya(W)},G={eip155:{chains:a,methods:[...new Set(["personal_sign",...E])],events:["chainChanged","accountsChanged"]}},N={requiredNamespaces:{},optionalNamespaces:G,relays:[{protocol:"irn"}],pairingTopic:O,proposer:{publicKey:z,metadata:this.client.metadata},expiryTimestamp:ya(Rs.wc_sessionPropose.req.ttl),id:sd()},{done:F,resolve:U,reject:j}=C1(W,"Request expired"),_=sd(),d=zn("session_connect",N.id),g=zn("session_request",_),x=async({error:T,session:R})=>{this.events.off(g,C),T?j(T):R&&U({session:R})},C=async T=>{var R,I,f;if(await this.deletePendingAuthRequest(_,{message:"fulfilled",code:0}),T.error){const ce=Fs("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return T.error.code===ce.code?void 0:(this.events.off(d,x),j(T.error.message))}await this.deleteProposal(N.id),this.events.off(d,x);const{cacaos:S,responder:K}=T.result,D=[],J=[];for(const ce of S){await LG({cacao:ce,projectId:this.client.core.projectId})||(this.client.logger.error(ce,"Signature verification failed"),j(Fs("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:Se}=ce,ye=p8(Se.resources),Ae=[ZP(Se.iss)],tt=PE(Se.iss);if(ye){const Ce=DG(ye),je=BG(ye);D.push(...Ce),Ae.push(...je)}for(const Ce of Ae)J.push(`${Ce}:${tt}`)}const ne=await this.client.core.crypto.generateSharedKey(z,K.publicKey);let ie;D.length>0&&(ie={topic:ne,acknowledged:!0,self:{publicKey:z,metadata:this.client.metadata},peer:K,controller:K.publicKey,expiry:ya($1),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:O,namespaces:nY([...new Set(D)],[...new Set(J)]),transportType:o},await this.client.core.relayer.subscribe(ne,{transportType:o}),await this.client.session.set(ne,ie),O&&await this.client.core.pairing.updateMetadata({topic:O,metadata:K.metadata}),ie=this.client.session.get(ne)),(R=this.client.metadata.redirect)!=null&&R.linkMode&&(I=K.metadata.redirect)!=null&&I.linkMode&&(f=K.metadata.redirect)!=null&&f.universal&&n&&(this.client.core.addLinkModeSupportedApp(K.metadata.redirect.universal),this.client.session.update(ne,{transportType:si.link_mode})),U({auths:S,session:ie})};this.events.once(d,x),this.events.once(g,C);let k;try{if(s){const T=hd("wc_sessionAuthenticate",H,_);this.client.core.history.set(O,T);const R=await this.client.core.crypto.encode("",T,{type:Cet,encoding:iv});k=dx(n,O,R)}else await Promise.all([this.sendRequest({topic:O,method:"wc_sessionAuthenticate",params:H,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:_}),this.sendRequest({topic:O,method:"wc_sessionPropose",params:N,expiry:Rs.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:N.id})])}catch(T){throw this.events.off(d,x),this.events.off(g,C),T}return await this.setProposal(N.id,N),await this.setAuthRequest(_,{request:wo(Pn({},H),{verifyContext:{}}),pairingTopic:O,transportType:o}),{uri:k??P,response:F}}),bt(this,"approveSessionAuthenticate",async r=>{const{id:n,auths:i}=r,s=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[Np.authenticated_session_approve_started]}});try{this.isInitialized()}catch(A){throw s.setError(X2.no_internet_connection),A}const o=this.getPendingAuthRequest(n);if(!o)throw s.setError(X2.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);const a=o.transportType||si.relay;a===si.relay&&await this.confirmOnlineStateOrThrow();const l=o.requester.publicKey,u=await this.client.core.crypto.generateKeyPair(),c=rI(l),h={type:tI,receiverPublicKey:l,senderPublicKey:u},m=[],y=[];for(const A of i){if(!await LG({cacao:A,projectId:this.client.core.projectId})){s.setError(X2.invalid_cacao);const L=Fs("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:c,error:L,encodeOpts:h}),new Error(L.message)}s.addTrace(Np.cacaos_verified);const{p:M}=A,O=p8(M.resources),P=[ZP(M.iss)],z=PE(M.iss);if(O){const L=DG(O),W=BG(O);m.push(...L),P.push(...W)}for(const L of P)y.push(`${L}:${z}`)}const b=await this.client.core.crypto.generateSharedKey(u,l);s.addTrace(Np.create_authenticated_session_topic);let E;if(m?.length>0){E={topic:b,acknowledged:!0,self:{publicKey:u,metadata:this.client.metadata},peer:{publicKey:l,metadata:o.requester.metadata},controller:l,expiry:ya($1),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:nY([...new Set(m)],[...new Set(y)]),transportType:a},s.addTrace(Np.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(b,{transportType:a})}catch(A){throw s.setError(X2.subscribe_authenticated_session_topic_failure),A}s.addTrace(Np.subscribe_authenticated_session_topic_success),await this.client.session.set(b,E),s.addTrace(Np.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(Np.publishing_authenticated_session_approve);try{await this.sendResult({topic:c,id:n,result:{cacaos:i,responder:{publicKey:u,metadata:this.client.metadata}},encodeOpts:h,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(A){throw s.setError(X2.authenticated_session_approve_publish_failure),A}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:E}}),bt(this,"rejectSessionAuthenticate",async r=>{this.isInitialized();const{id:n,reason:i}=r,s=this.getPendingAuthRequest(n);if(!s)throw new Error(`Could not find pending auth request with id ${n}`);s.transportType===si.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),l=rI(o),u={type:tI,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:n,topic:l,error:i,encodeOpts:u,rpcOpts:Rs.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.deleteProposal(n)}),bt(this,"formatAuthMessage",r=>{this.isInitialized();const{request:n,iss:i}=r;return Tue(n,i)}),bt(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)}),bt(this,"cleanupDuplicatePairings",async r=>{if(r.pairingTopic)try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===r.peer.metadata.url&&s.topic&&s.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}}),bt(this,"deleteSession",async r=>{var n;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=r,{self:l}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Fs("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(l.publicKey)&&await this.client.core.crypto.deleteKeyPair(l.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(lY).catch(u=>this.client.logger.warn(u)),this.getPendingSessionRequests().forEach(u=>{u.topic===i&&this.deletePendingSessionRequest(u.id,Fs("USER_DISCONNECTED"))}),i===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=Gu.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),bt(this,"deleteProposal",async(r,n)=>{if(n)try{const i=this.client.proposal.get(r);this.client.core.eventClient.getEvent({topic:i.pairingTopic})?.setError(J2.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,Fs("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")}),bt(this,"deletePendingSessionRequest",async(r,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==r),i&&(this.sessionRequestQueue.state=Gu.idle,this.client.events.emit("session_request_expire",{id:r}))}),bt(this,"deletePendingAuthRequest",async(r,n,i=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)])}),bt(this,"setExpiry",async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))}),bt(this,"setProposal",async(r,n)=>{this.client.core.expirer.set(r,ya(Rs.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)}),bt(this,"setAuthRequest",async(r,n)=>{const{request:i,pairingTopic:s,transportType:o=si.relay}=n;this.client.core.expirer.set(r,i.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:r,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),bt(this,"setPendingSessionRequest",async r=>{const{id:n,topic:i,params:s,verifyContext:o}=r,a=s.request.expiryTimestamp||ya(Rs.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,a),await this.client.pendingRequest.set(n,{id:n,topic:i,params:s,verifyContext:o})}),bt(this,"sendRequest",async r=>{const{topic:n,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:l,throwOnFailedPublish:u,appLink:c,tvf:h,publishOpts:m={}}=r,y=hd(i,s,l);let b;const E=!!c;try{const O=E?iv:Rp;b=await this.client.core.crypto.encode(n,y,{encoding:O})}catch(O){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),O}let A;if(xtt.includes(i)){const O=Vf(JSON.stringify(y)),P=Vf(b);A=await this.client.core.verify.register({id:P,decryptedId:O})}const M=Pn(Pn({},Rs[i].req),m);if(M.attestation=A,o&&(M.ttl=o),a&&(M.id=a),this.client.core.history.set(n,y),E){const O=dx(c,n,b);await globalThis.Linking.openURL(O,this.client.name)}else M.tvf=wo(Pn({},h),{correlationId:y.id}),u?(M.internal=wo(Pn({},M.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,b,M)):this.client.core.relayer.publish(n,b,M).catch(O=>this.client.logger.error(O));return y.id}),bt(this,"sendProposeSession",async r=>{const{proposal:n,publishOpts:i}=r,s=hd("wc_sessionPropose",n,n.id);this.client.core.history.set(n.pairingTopic,s);const o=await this.client.core.crypto.encode(n.pairingTopic,s,{encoding:Rp}),a=Vf(JSON.stringify(s)),l=Vf(o),u=await this.client.core.verify.register({id:l,decryptedId:a});await this.client.core.relayer.publishCustom({payload:{pairingTopic:n.pairingTopic,sessionProposal:o},opts:wo(Pn({},i),{publishMethod:"wc_proposeSession",attestation:u})})}),bt(this,"sendApproveSession",async r=>{const{sessionTopic:n,pairingProposalResponse:i,proposal:s,sessionSettleRequest:o,publishOpts:a}=r,l=n5(s.id,i),u=await this.client.core.crypto.encode(s.pairingTopic,l,{encoding:Rp}),c=hd("wc_sessionSettle",o,a?.id),h=await this.client.core.crypto.encode(n,c,{encoding:Rp});this.client.core.history.set(n,c),await this.client.core.relayer.publishCustom({payload:{sessionTopic:n,pairingTopic:s.pairingTopic,sessionProposalResponse:u,sessionSettlementRequest:h},opts:wo(Pn({},a),{publishMethod:"wc_approveSession"})})}),bt(this,"sendResult",async r=>{const{id:n,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:l}=r,u=n5(n,s);let c;const h=l&&typeof globalThis?.Linking<"u";try{const b=h?iv:Rp;c=await this.client.core.crypto.encode(i,u,wo(Pn({},a||{}),{encoding:b}))}catch(b){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),b}let m,y;try{m=await this.client.core.history.get(i,n);const b=m.request;try{y=this.getTVFParams(n,b.params,s)}catch(E){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${E?.message}`)}}catch(b){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${n}) failed`),b}if(h){const b=dx(l,i,c);await globalThis.Linking.openURL(b,this.client.name)}else{const b=m.request.method,E=Rs[b].res;E.tvf=wo(Pn({},y),{correlationId:n}),o?(E.internal=wo(Pn({},E.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,c,E)):this.client.core.relayer.publish(i,c,E).catch(A=>this.client.logger.error(A))}await this.client.core.history.resolve(u)}),bt(this,"sendError",async r=>{const{id:n,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:l}=r,u=H9(n,s);let c;const h=l&&typeof globalThis?.Linking<"u";try{const y=h?iv:Rp;c=await this.client.core.crypto.encode(i,u,wo(Pn({},o||{}),{encoding:y}))}catch(y){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),y}let m;try{m=await this.client.core.history.get(i,n)}catch(y){throw this.client.logger.error(`sendError() -> history.get(${i}, ${n}) failed`),y}if(h){const y=dx(l,i,c);await globalThis.Linking.openURL(y,this.client.name)}else{const y=m.request.method,b=a||Rs[y].res;this.client.core.relayer.publish(i,c,b)}await this.client.core.history.resolve(u)}),bt(this,"cleanup",async()=>{const r=[],n=[];this.client.session.getAll().forEach(i=>{let s=!1;k1(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&r.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{k1(i.expiryTimestamp)&&n.push(i.id)}),await Promise.all([...r.map(i=>this.deleteSession({topic:i})),...n.map(i=>this.deleteProposal(i))])}),bt(this,"onProviderMessageEvent",async r=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(r):await this.onRelayMessage(r)}),bt(this,"onRelayEventRequest",async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()}),bt(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Gu.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Gu.active;const r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=Gu.idle}),bt(this,"processRequest",async r=>{const{topic:n,payload:i,attestation:s,transportType:o,encryptedId:a}=r,l=i.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:l}))switch(l){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,i);case"wc_sessionPing":return await this.onSessionPingRequest(n,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(n,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${l}`)}}),bt(this,"onRelayEventResponse",async r=>{const{topic:n,payload:i,transportType:s}=r,o=(await this.client.core.history.get(n,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),bt(this,"onRelayEventUnknownPayload",r=>{const{topic:n}=r,{message:i}=vr("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),bt(this,"shouldIgnorePairingRequest",r=>{const{topic:n,requestMethod:i}=r,s=this.expectedPairingMethodMap.get(n);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),bt(this,"onSessionProposeRequest",async r=>{const{topic:n,payload:i,attestation:s,encryptedId:o}=r,{params:a,id:l}=i;try{const u=this.client.core.eventClient.getEvent({topic:n});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),u?.setError(lh.proposal_listener_not_found)),this.isValidConnect(Pn({},i.params));const c=a.expiryTimestamp||ya(Rs.wc_sessionPropose.req.ttl),h=Pn({id:l,pairingTopic:n,expiryTimestamp:c,attestation:s,encryptedId:o},a);await this.setProposal(l,h);const m=await this.getVerifyContext({attestationId:s,hash:Vf(JSON.stringify(i)),encryptedId:o,metadata:h.proposer.metadata});u?.addTrace(nd.emit_session_proposal),this.client.events.emit("session_proposal",{id:l,params:h,verifyContext:m})}catch(u){await this.sendError({id:l,topic:n,error:u,rpcOpts:Rs.wc_sessionPropose.autoReject}),this.client.logger.error(u)}}),bt(this,"onSessionProposeResponse",async(r,n,i)=>{const{id:s}=n;if(od(n)){const{result:o}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const l=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:l});const u=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:u});const c=await this.client.core.crypto.generateSharedKey(l,u);this.pendingSessions.set(s,{sessionTopic:c,pairingTopic:r,proposalId:s,publicKey:l});const h=await this.client.core.relayer.subscribe(c,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:h}),await this.client.core.pairing.activate({topic:r})}else if(Jl(n)){await this.deleteProposal(s);const o=zn("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:n.error})}}),bt(this,"onSessionSettleRequest",async(r,n)=>{const{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:l,namespaces:u,sessionProperties:c,scopedProperties:h,sessionConfig:m}=n.params,y=[...this.pendingSessions.values()].find(A=>A.sessionTopic===r);if(!y)return this.client.logger.error(`Pending session not found for topic ${r}`);const b=this.client.proposal.get(y.proposalId),E=wo(Pn(Pn(Pn({topic:r,relay:o,expiry:l,namespaces:u,acknowledged:!0,pairingTopic:y.pairingTopic,requiredNamespaces:b.requiredNamespaces,optionalNamespaces:b.optionalNamespaces,controller:a.publicKey,self:{publicKey:y.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},c&&{sessionProperties:c}),h&&{scopedProperties:h}),m&&{sessionConfig:m}),{transportType:si.relay});await this.client.session.set(E.topic,E),await this.setExpiry(E.topic,E.expiry),await this.client.core.pairing.updateMetadata({topic:y.pairingTopic,metadata:E.peer.metadata}),this.client.events.emit("session_connect",{session:E}),this.events.emit(zn("session_connect",y.proposalId),{session:E}),this.pendingSessions.delete(y.proposalId),this.deleteProposal(y.proposalId,!1),this.cleanupDuplicatePairings(E),await this.sendResult({id:n.id,topic:r,result:!0})}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),bt(this,"onSessionSettleResponse",async(r,n)=>{const{id:i}=n;od(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(zn("session_approve",i),{})):Jl(n)&&(await this.client.session.delete(r,Fs("USER_DISCONNECTED")),this.events.emit(zn("session_approve",i),{error:n.error}))}),bt(this,"onSessionUpdateRequest",async(r,n)=>{const{params:i,id:s}=n;try{const o=`${r}_session_update`,a=sv.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:r,error:Fs("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Pn({topic:r},i));try{sv.set(o,s),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:r,result:!0})}catch(l){throw sv.delete(o),l}this.client.events.emit("session_update",{id:s,topic:r,params:i})}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}}),bt(this,"isRequestOutOfSync",(r,n)=>n.toString().slice(0,-3)<r.toString().slice(0,-3)),bt(this,"onSessionUpdateResponse",(r,n)=>{const{id:i}=n,s=zn("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);od(n)?this.events.emit(zn("session_update",i),{}):Jl(n)&&this.events.emit(zn("session_update",i),{error:n.error})}),bt(this,"onSessionExtendRequest",async(r,n)=>{const{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,ya($1)),await this.sendResult({id:i,topic:r,result:!0}),this.client.events.emit("session_extend",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),bt(this,"onSessionExtendResponse",(r,n)=>{const{id:i}=n,s=zn("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);od(n)?this.events.emit(zn("session_extend",i),{}):Jl(n)&&this.events.emit(zn("session_extend",i),{error:n.error})}),bt(this,"onSessionPingRequest",async(r,n)=>{const{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),bt(this,"onSessionPingResponse",(r,n)=>{const{id:i}=n,s=zn("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);od(n)?this.events.emit(zn("session_ping",i),{}):Jl(n)&&this.events.emit(zn("session_ping",i),{error:n.error})},500)}),bt(this,"onSessionDeleteRequest",async(r,n)=>{const{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),await Promise.all([new Promise(s=>{this.client.core.relayer.once(Oi.publish,async()=>{s(await this.deleteSession({topic:r,id:i}))})}),this.sendResult({id:i,topic:r,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:Fs("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),bt(this,"onSessionRequest",async r=>{var n,i,s;const{topic:o,payload:a,attestation:l,encryptedId:u,transportType:c}=r,{id:h,params:m}=a;try{await this.isValidRequest(Pn({topic:o},m));const y=this.client.session.get(o),b=await this.getVerifyContext({attestationId:l,hash:Vf(JSON.stringify(hd("wc_sessionRequest",m,h))),encryptedId:u,metadata:y.peer.metadata,transportType:c}),E={id:h,topic:o,params:m,verifyContext:b};await this.setPendingSessionRequest(E),c===si.link_mode&&(n=y.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((i=y.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(E):(this.addSessionRequestToSessionRequestQueue(E),this.processSessionRequestQueue())}catch(y){await this.sendError({id:h,topic:o,error:y}),this.client.logger.error(y)}}),bt(this,"onSessionRequestResponse",(r,n)=>{const{id:i}=n,s=zn("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);od(n)?this.events.emit(zn("session_request",i),{result:n.result}):Jl(n)&&this.events.emit(zn("session_request",i),{error:n.error})}),bt(this,"onSessionEventRequest",async(r,n)=>{const{id:i,params:s}=n;try{const o=`${r}_session_event_${s.event.name}`,a=sv.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(Pn({topic:r},s)),this.client.events.emit("session_event",{id:i,topic:r,params:s}),sv.set(o,i)}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),bt(this,"onSessionAuthenticateResponse",(r,n)=>{const{id:i}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),od(n)?this.events.emit(zn("session_request",i),{result:n.result}):Jl(n)&&this.events.emit(zn("session_request",i),{error:n.error})}),bt(this,"onSessionAuthenticateRequest",async r=>{var n;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:l}=r;try{const{requester:u,authPayload:c,expiryTimestamp:h}=s.params,m=await this.getVerifyContext({attestationId:o,hash:Vf(JSON.stringify(s)),encryptedId:a,metadata:u.metadata,transportType:l}),y={requester:u,pairingTopic:i,id:s.id,authPayload:c,verifyContext:m,expiryTimestamp:h};await this.setAuthRequest(s.id,{request:y,pairingTopic:i,transportType:l}),l===si.link_mode&&(n=u.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(u.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:m})}catch(u){this.client.logger.error(u);const c=s.params.requester.publicKey,h=await this.client.core.crypto.generateKeyPair(),m=this.getAppLinkIfEnabled(s.params.requester.metadata,l),y={type:tI,receiverPublicKey:c,senderPublicKey:h};await this.sendError({id:s.id,topic:i,error:u,encodeOpts:y,rpcOpts:Rs.wc_sessionAuthenticate.autoReject,appLink:m})}}),bt(this,"addSessionRequestToSessionRequestQueue",r=>{this.sessionRequestQueue.queue.push(r)}),bt(this,"cleanupAfterResponse",r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Gu.idle,this.processSessionRequestQueue()},Tt.toMiliseconds(this.requestQueueDelay))}),bt(this,"cleanupPendingSentRequestsForTopic",({topic:r,error:n})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===r&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=zn("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(zn("session_request",s.request.id),{error:n})})}),bt(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Gu.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}}),bt(this,"emitSessionRequest",r=>{if(this.emittedSessionRequests.has(r.id)){this.client.logger.warn({id:r.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${r.id}`);return}this.sessionRequestQueue.state=Gu.active,this.emittedSessionRequests.add(r.id),this.client.events.emit("session_request",r)}),bt(this,"onPairingCreated",r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const n=this.client.proposal.getAll().find(i=>i.pairingTopic===r.topic);n&&this.onSessionProposeRequest({topic:r.topic,payload:hd("wc_sessionPropose",wo(Pn({},n),{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties,scopedProperties:n.scopedProperties}),n.id),attestation:n.attestation,encryptedId:n.encryptedId})}),bt(this,"isValidConnect",async r=>{if(!Rc(r)){const{message:u}=vr("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(u)}const{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:l}=r;if(Ia(n)||await this.isValidPairingTopic(n),!Qet(l)){const{message:u}=vr("MISSING_OR_INVALID",`connect() relays: ${l}`);throw new Error(u)}if(!Ia(i)&&l5(i)!==0){const u="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(u):this.client.logger.warn(u),this.validateNamespaces(i,"requiredNamespaces")}if(!Ia(s)&&l5(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),Ia(o)||this.validateSessionProps(o,"sessionProperties"),!Ia(a)){this.validateSessionProps(a,"scopedProperties");const u=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(c=>u.includes(c.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(u)}`)}}),bt(this,"validateNamespaces",(r,n)=>{const i=Zet(r,"connect()",n);if(i)throw new Error(i.message)}),bt(this,"isValidApprove",async r=>{if(!Rc(r))throw new Error(vr("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);const l=this.client.proposal.get(n),u=nI(i,"approve()");if(u)throw new Error(u.message);const c=oY(l.requiredNamespaces,i,"approve()");if(c)throw new Error(c.message);if(!Es(s,!0)){const{message:h}=vr("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(h)}if(Ia(o)||this.validateSessionProps(o,"sessionProperties"),!Ia(a)){this.validateSessionProps(a,"scopedProperties");const h=new Set(Object.keys(i));if(!Object.keys(a).every(m=>h.has(m.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(h).join(", ")}`)}}),bt(this,"isValidReject",async r=>{if(!Rc(r)){const{message:s}=vr("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}const{id:n,reason:i}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!Xet(i)){const{message:s}=vr("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),bt(this,"isValidSessionSettleRequest",r=>{if(!Rc(r)){const{message:u}=vr("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(u)}const{relay:n,controller:i,namespaces:s,expiry:o}=r;if(!tde(n)){const{message:u}=vr("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(u)}const a=qet(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const l=nI(s,"onSessionSettleRequest()");if(l)throw new Error(l.message);if(k1(o)){const{message:u}=vr("EXPIRED","onSessionSettleRequest()");throw new Error(u)}}),bt(this,"isValidUpdate",async r=>{if(!Rc(r)){const{message:l}=vr("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(l)}const{topic:n,namespaces:i}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const s=this.client.session.get(n),o=nI(i,"update()");if(o)throw new Error(o.message);const a=oY(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),bt(this,"isValidExtend",async r=>{if(!Rc(r)){const{message:i}=vr("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}const{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)}),bt(this,"isValidRequest",async r=>{if(!Rc(r)){const{message:l}=vr("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(l)}const{topic:n,request:i,chainId:s,expiry:o}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!sY(a,s)){const{message:l}=vr("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(l)}if(!ett(i)){const{message:l}=vr("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(l)}if(!ntt(a,s,i.method)){const{message:l}=vr("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(l)}if(o&&!att(o,oI)){const{message:l}=vr("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${oI.min} and ${oI.max}`);throw new Error(l)}}),bt(this,"isValidRespond",async r=>{var n;if(!Rc(r)){const{message:o}=vr("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(o)}const{topic:i,response:s}=r;try{await this.isValidSessionTopic(i)}catch(o){throw(n=r?.response)!=null&&n.id&&this.cleanupAfterResponse(r),o}if(!ttt(s)){const{message:o}=vr("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),bt(this,"isValidPing",async r=>{if(!Rc(r)){const{message:i}=vr("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),bt(this,"isValidEmit",async r=>{if(!Rc(r)){const{message:a}=vr("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}const{topic:n,event:i,chainId:s}=r;await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!sY(o,s)){const{message:a}=vr("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!rtt(i)){const{message:a}=vr("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!itt(o,s,i.name)){const{message:a}=vr("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),bt(this,"isValidDisconnect",async r=>{if(!Rc(r)){const{message:i}=vr("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),bt(this,"isValidAuthenticate",r=>{const{chains:n,uri:i,domain:s,nonce:o}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!Es(i,!1))throw new Error("uri is required parameter");if(!Es(s,!1))throw new Error("domain is required parameter");if(!Es(o,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(l=>f8(l).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=f8(n[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),bt(this,"getVerifyContext",async r=>{const{attestationId:n,hash:i,encryptedId:s,metadata:o,transportType:a}=r,l={verified:{verifyUrl:o.verifyUrl||Db,validation:"UNKNOWN",origin:o.url||""}};try{if(a===si.link_mode){const c=this.getAppLinkIfEnabled(o,a);return l.verified.validation=c&&new URL(c).origin===new URL(o.url).origin?"VALID":"INVALID",l}const u=await this.client.core.verify.resolve({attestationId:n,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});u&&(l.verified.origin=u.origin,l.verified.isScam=u.isScam,l.verified.validation=u.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(u){this.client.logger.warn(u)}return this.client.logger.debug(`Verify context: ${JSON.stringify(l)}`),l}),bt(this,"validateSessionProps",(r,n)=>{Object.values(r).forEach((i,s)=>{if(i==null){const{message:o}=vr("MISSING_OR_INVALID",`${n} must contain an existing value for each key. Received: ${i} for key ${Object.keys(r)[s]}`);throw new Error(o)}})}),bt(this,"getPendingAuthRequest",r=>{const n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0}),bt(this,"addToRecentlyDeleted",(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),bt(this,"checkRecentlyDeleted",r=>{const n=this.recentlyDeletedMap.get(r);if(n){const{message:i}=vr("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(i)}}),bt(this,"isLinkModeEnabled",(r,n)=>{var i,s,o,a,l,u,c,h,m;return!r||n!==si.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((u=(l=this.client.metadata)==null?void 0:l.redirect)==null?void 0:u.universal)!==""&&((c=r?.redirect)==null?void 0:c.universal)!==void 0&&((h=r?.redirect)==null?void 0:h.universal)!==""&&((m=r?.redirect)==null?void 0:m.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof globalThis?.Linking<"u"}),bt(this,"getAppLinkIfEnabled",(r,n)=>{var i;return this.isLinkModeEnabled(r,n)?(i=r?.redirect)==null?void 0:i.universal:void 0}),bt(this,"handleLinkModeMessage",({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;const n=CG(r,"topic")||"",i=decodeURIComponent(CG(r,"wc_ev")||""),s=this.client.session.keys.includes(n);s&&this.client.session.update(n,{transportType:si.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:i,sessionExists:s})}),bt(this,"registerLinkModeListeners",async()=>{var r;if(KQe()||fue()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){const n=globalThis?.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await n.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),bt(this,"getTVFParams",(r,n,i)=>{var s,o,a;if(!((s=n.request)!=null&&s.method))return{};const l={correlationId:r,rpcMethods:[n.request.method],chainId:n.chainId};try{const u=this.extractTxHashesFromResult(n.request,i);l.txHashes=u,l.contractAddresses=this.isValidContractData(n.request.params)?[(a=(o=n.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(u){this.client.logger.warn("Error getting TVF params",u)}return l}),bt(this,"isValidContractData",r=>{var n;if(!r)return!1;try{const i=r?.data||((n=r?.[0])==null?void 0:n.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),bt(this,"extractTxHashesFromResult",(r,n)=>{var i;try{if(!n)return[];const s=r.method,o=vtt[s];if(s==="sui_signTransaction")return[KJe(n.transactionBytes)];if(s==="near_signTransaction")return[NG(n)];if(s==="near_signTransactions")return n.map(l=>NG(l));if(s==="xrpl_signTransactionFor"||s==="xrpl_signTransaction")return[(i=n.tx_json)==null?void 0:i.hash];if(s==="polkadot_signTransaction")return[gtt({transaction:r.params.transactionPayload,signature:n.signature})];if(s==="algo_signTxn")return aw(n)?n.map(l=>RG(l)):[RG(n)];if(s==="cosmos_signDirect")return[YJe(n)];if(typeof n=="string")return[n];const a=n[o.key];if(aw(a))return s==="solana_signAllTransactions"?a.map(l=>VJe(l)):a;if(typeof a=="string")return[a]}catch(s){this.client.logger.warn("Error extracting tx hashes from result",s)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,r=this.client.core.relayer.messages.getWithoutAck(e);for(const[n,i]of Object.entries(r))for(const s of i)try{await this.onProviderMessageEvent({topic:n,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${n}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=vr("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Oi.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:r,message:n,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(g8)?this.client.auth.authKeys.get(g8):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(r,n,{receiverPublicKey:o,encoding:s===si.link_mode?iv:Rp});nL(a)?(this.client.core.history.set(r,a),await this.onRelayEventRequest({topic:r,payload:a,attestation:i,transportType:s,encryptedId:Vf(n)})):V9(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:r,payload:a,transportType:s}),this.client.core.history.delete(r,a.id)):await this.onRelayEventUnknownPayload({topic:r,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(r,n)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Zl.expired,async e=>{const{topic:r,id:n}=zQe(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,vr("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,vr("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(Zp.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Zp.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!Es(e,!1)){const{message:r}=vr("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:r}=vr("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(k1(this.client.core.pairing.pairings.get(e).expiry)){const{message:r}=vr("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!Es(e,!1)){const{message:r}=vr("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:r}=vr("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(k1(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:r}=vr("EXPIRED",`session topic: ${e}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(e)){const{message:r}=vr("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Es(e,!1)){const{message:r}=vr("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{const{message:r}=vr("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!Jet(e)){const{message:r}=vr("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){const{message:r}=vr("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(k1(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:r}=vr("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}},Ntt=class extends bm{constructor(e,r){super(e,r,mtt,gL),this.core=e,this.logger=r}},Rtt=class extends bm{constructor(e,r){super(e,r,ytt,gL),this.core=e,this.logger=r}};class Ott extends bm{constructor(e,r){super(e,r,btt,gL,n=>n.id),this.core=e,this.logger=r}}let jtt=class extends bm{constructor(e,r){super(e,r,Att,X9,()=>g8),this.core=e,this.logger=r}},Ltt=class extends bm{constructor(e,r){super(e,r,Stt,X9),this.core=e,this.logger=r}},Dtt=class extends bm{constructor(e,r){super(e,r,Ctt,X9,n=>n.id),this.core=e,this.logger=r}};var Btt=Object.defineProperty,Utt=(t,e,r)=>e in t?Btt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,aI=(t,e,r)=>Utt(t,typeof e!="symbol"?e+"":e,r);let Ftt=class{constructor(e,r){this.core=e,this.logger=r,aI(this,"authKeys"),aI(this,"pairingTopics"),aI(this,"requests"),this.authKeys=new jtt(this.core,this.logger),this.pairingTopics=new Ltt(this.core,this.logger),this.requests=new Dtt(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}};var ztt=Object.defineProperty,Wtt=(t,e,r)=>e in t?ztt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,rn=(t,e,r)=>Wtt(t,typeof e!="symbol"?e+"":e,r);let qtt=class sde extends cQe{constructor(e){super(e),rn(this,"protocol",rde),rn(this,"version",nde),rn(this,"name",sI.name),rn(this,"metadata"),rn(this,"core"),rn(this,"logger"),rn(this,"events",new Pl.EventEmitter),rn(this,"engine"),rn(this,"session"),rn(this,"proposal"),rn(this,"pendingRequest"),rn(this,"auth"),rn(this,"signConfig"),rn(this,"on",(n,i)=>this.events.on(n,i)),rn(this,"once",(n,i)=>this.events.once(n,i)),rn(this,"off",(n,i)=>this.events.off(n,i)),rn(this,"removeListener",(n,i)=>this.events.removeListener(n,i)),rn(this,"removeAllListeners",n=>this.events.removeAllListeners(n)),rn(this,"connect",async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}}),rn(this,"pair",async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}}),rn(this,"approve",async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}}),rn(this,"reject",async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}}),rn(this,"update",async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}}),rn(this,"extend",async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}}),rn(this,"request",async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}}),rn(this,"respond",async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}}),rn(this,"ping",async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}}),rn(this,"emit",async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}}),rn(this,"disconnect",async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}}),rn(this,"find",n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}}),rn(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}}),rn(this,"authenticate",async(n,i)=>{try{return await this.engine.authenticate(n,i)}catch(s){throw this.logger.error(s.message),s}}),rn(this,"formatAuthMessage",n=>{try{return this.engine.formatAuthMessage(n)}catch(i){throw this.logger.error(i.message),i}}),rn(this,"approveSessionAuthenticate",async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),rn(this,"rejectSessionAuthenticate",async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),this.name=e?.name||sI.name,this.metadata=UQe(e?.metadata),this.signConfig=e?.signConfig;const r=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:Y5(j9({level:e?.logger||sI.logger}));this.core=e?.core||new oQe(e),this.logger=oa(r,this.name),this.session=new Rtt(this.core,this.logger),this.proposal=new Ntt(this.core,this.logger),this.pendingRequest=new Ott(this.core,this.logger),this.engine=new Ptt(this),this.auth=new Ftt(this.core,this.logger)}static async init(e){const r=new sde(e);return await r.initialize(),r}get context(){return Ya(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};const Htt=":";function aN(t){const[e,r]=t.split(Htt);return{namespace:e,reference:r}}function lI(t=[],e=[]){return[...new Set([...t,...e])]}const hx=BigInt(2**32-1),dY=BigInt(32);function ode(t,e=!1){return e?{h:Number(t&hx),l:Number(t>>dY&hx)}:{h:Number(t>>dY&hx)|0,l:Number(t&hx)|0}}function ade(t,e=!1){const r=t.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:o,l:a}=ode(t[s],e);[n[s],i[s]]=[o,a]}return[n,i]}const hY=(t,e,r)=>t>>>r,fY=(t,e,r)=>t<<32-r|e>>>r,f0=(t,e,r)=>t>>>r|e<<32-r,p0=(t,e,r)=>t<<32-r|e>>>r,cb=(t,e,r)=>t<<64-r|e>>>r-32,ub=(t,e,r)=>t>>>r-32|e<<64-r,Vtt=(t,e)=>e,Ktt=(t,e)=>t,Gtt=(t,e,r)=>t<<r|e>>>32-r,Ytt=(t,e,r)=>e<<r|t>>>32-r,Ztt=(t,e,r)=>e<<r-32|t>>>64-r,Qtt=(t,e,r)=>t<<r-32|e>>>64-r;function Gc(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const mL=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),yL=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,Jtt=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),Xtt=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,ert=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),trt=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,M1=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function wL(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Q0(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function pc(t,...e){if(!wL(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function rrt(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Q0(t.outputLen),Q0(t.blockLen)}function J0(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function vL(t,e){pc(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function c5(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function xu(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function cI(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Yu(t,e){return t<<32-e|t>>>e}const lde=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function cde(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const uh=lde?t=>t:t=>cde(t);function nrt(t){for(let e=0;e<t.length;e++)t[e]=cde(t[e]);return t}const g0=lde?t=>t:nrt,ude=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",irt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function u5(t){if(pc(t),ude)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=irt[t[r]];return e}const ih={_0:48,_9:57,A:65,F:70,a:97,f:102};function pY(t){if(t>=ih._0&&t<=ih._9)return t-ih._0;if(t>=ih.A&&t<=ih.F)return t-(ih.A-10);if(t>=ih.a&&t<=ih.f)return t-(ih.a-10)}function bL(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(ude)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=pY(t.charCodeAt(s)),a=pY(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=o*16+a}return n}function srt(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Lh(t){return typeof t=="string"&&(t=srt(t)),pc(t),t}function gg(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];pc(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}let eA=class{};function r6(t){const e=n=>t().update(Lh(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function ort(t){const e=(n,i)=>t(i).update(Lh(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function dde(t=32){if(M1&&typeof M1.getRandomValues=="function")return M1.getRandomValues(new Uint8Array(t));if(M1&&typeof M1.randomBytes=="function")return Uint8Array.from(M1.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const art=BigInt(0),ov=BigInt(1),lrt=BigInt(2),crt=BigInt(7),urt=BigInt(256),drt=BigInt(113),hde=[],fde=[],pde=[];for(let t=0,e=ov,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],hde.push(2*(5*n+r)),fde.push((t+1)*(t+2)/2%64);let i=art;for(let s=0;s<7;s++)e=(e<<ov^(e>>crt)*drt)%urt,e&lrt&&(i^=ov<<(ov<<BigInt(s))-ov);pde.push(i)}const gde=ade(pde,!0),hrt=gde[0],frt=gde[1],gY=(t,e,r)=>r>32?Ztt(t,e,r):Gtt(t,e,r),mY=(t,e,r)=>r>32?Qtt(t,e,r):Ytt(t,e,r);function prt(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,u=r[l],c=r[l+1],h=gY(u,c,1)^r[a],m=mY(u,c,1)^r[a+1];for(let y=0;y<50;y+=10)t[o+y]^=h,t[o+y+1]^=m}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=fde[o],l=gY(i,s,a),u=mY(i,s,a),c=hde[o];i=t[c],s=t[c+1],t[c]=l,t[c+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=hrt[n],t[1]^=frt[n]}xu(r)}class xL extends eA{constructor(e,r,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,Q0(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=c5(this.state)}clone(){return this._cloneInto()}keccak(){g0(this.state32),prt(this.state32,this.rounds),g0(this.state32),this.posOut=0,this.pos=0}update(e){J0(this),e=Lh(e),pc(e);const{blockLen:r,state:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){J0(this,!1),pc(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Q0(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(vL(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,xu(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new xL(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const grt=(t,e,r)=>r6(()=>new xL(e,t,r));grt(1,136,256/8);function mrt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),l=n?4:0,u=n?0:4;t.setUint32(e+l,o,n),t.setUint32(e+u,a,n)}function yrt(t,e,r){return t&e^~t&r}function wrt(t,e,r){return t&e^t&r^e&r}class mde extends eA{constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=cI(this.buffer)}update(e){J0(this),e=Lh(e),pc(e);const{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=cI(e);for(;i<=s-o;o+=i)this.process(l,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){J0(this),vL(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,xu(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(n,0),o=0);for(let h=o;h<i;h++)r[h]=0;mrt(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=cI(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,c=this.get();if(u>c.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<u;h++)a.setUint32(4*h,c[h],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}}const Kf=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),vo=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),bo=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),vrt=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Gf=new Uint32Array(64);let brt=class extends mde{constructor(e=32){super(64,e,8,!1),this.A=Kf[0]|0,this.B=Kf[1]|0,this.C=Kf[2]|0,this.D=Kf[3]|0,this.E=Kf[4]|0,this.F=Kf[5]|0,this.G=Kf[6]|0,this.H=Kf[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:l}=this;return[e,r,n,i,s,o,a,l]}set(e,r,n,i,s,o,a,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,r){for(let h=0;h<16;h++,r+=4)Gf[h]=e.getUint32(r,!1);for(let h=16;h<64;h++){const m=Gf[h-15],y=Gf[h-2],b=Yu(m,7)^Yu(m,18)^m>>>3,E=Yu(y,17)^Yu(y,19)^y>>>10;Gf[h]=E+Gf[h-7]+b+Gf[h-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:l,G:u,H:c}=this;for(let h=0;h<64;h++){const m=Yu(a,6)^Yu(a,11)^Yu(a,25),y=c+m+yrt(a,l,u)+vrt[h]+Gf[h]|0,b=(Yu(n,2)^Yu(n,13)^Yu(n,22))+wrt(n,i,s)|0;c=u,u=l,l=a,a=o+y|0,o=s,s=i,i=n,n=y+b|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(n,i,s,o,a,l,u,c)}roundClean(){xu(Gf)}destroy(){this.set(0,0,0,0,0,0,0,0),xu(this.buffer)}};const yde=ade(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),xrt=yde[0],Ert=yde[1],Yf=new Uint32Array(80),Zf=new Uint32Array(80);let EL=class extends mde{constructor(e=64){super(128,e,16,!1),this.Ah=bo[0]|0,this.Al=bo[1]|0,this.Bh=bo[2]|0,this.Bl=bo[3]|0,this.Ch=bo[4]|0,this.Cl=bo[5]|0,this.Dh=bo[6]|0,this.Dl=bo[7]|0,this.Eh=bo[8]|0,this.El=bo[9]|0,this.Fh=bo[10]|0,this.Fl=bo[11]|0,this.Gh=bo[12]|0,this.Gl=bo[13]|0,this.Hh=bo[14]|0,this.Hl=bo[15]|0}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:u,El:c,Fh:h,Fl:m,Gh:y,Gl:b,Hh:E,Hl:A}=this;return[e,r,n,i,s,o,a,l,u,c,h,m,y,b,E,A]}set(e,r,n,i,s,o,a,l,u,c,h,m,y,b,E,A){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=u|0,this.El=c|0,this.Fh=h|0,this.Fl=m|0,this.Gh=y|0,this.Gl=b|0,this.Hh=E|0,this.Hl=A|0}process(e,r){for(let P=0;P<16;P++,r+=4)Yf[P]=e.getUint32(r),Zf[P]=e.getUint32(r+=4);for(let P=16;P<80;P++){const z=Yf[P-15]|0,L=Zf[P-15]|0,W=f0(z,L,1)^f0(z,L,8)^hY(z,L,7),H=p0(z,L,1)^p0(z,L,8)^fY(z,L,7),G=Yf[P-2]|0,N=Zf[P-2]|0,F=f0(G,N,19)^cb(G,N,61)^hY(G,N,6),U=p0(G,N,19)^ub(G,N,61)^fY(G,N,6),j=Jtt(H,U,Zf[P-7],Zf[P-16]),_=Xtt(j,W,F,Yf[P-7],Yf[P-16]);Yf[P]=_|0,Zf[P]=j|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:u,Dl:c,Eh:h,El:m,Fh:y,Fl:b,Gh:E,Gl:A,Hh:M,Hl:O}=this;for(let P=0;P<80;P++){const z=f0(h,m,14)^f0(h,m,18)^cb(h,m,41),L=p0(h,m,14)^p0(h,m,18)^ub(h,m,41),W=h&y^~h&E,H=m&b^~m&A,G=ert(O,L,H,Ert[P],Zf[P]),N=trt(G,M,z,W,xrt[P],Yf[P]),F=G|0,U=f0(n,i,28)^cb(n,i,34)^cb(n,i,39),j=p0(n,i,28)^ub(n,i,34)^ub(n,i,39),_=n&s^n&a^s&a,d=i&o^i&l^o&l;M=E|0,O=A|0,E=y|0,A=b|0,y=h|0,b=m|0,{h,l:m}=Gc(u|0,c|0,N|0,F|0),u=a|0,c=l|0,a=s|0,l=o|0,s=n|0,o=i|0;const g=mL(F,j,d);n=yL(g,N,U,_),i=g|0}({h:n,l:i}=Gc(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=Gc(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=Gc(this.Ch|0,this.Cl|0,a|0,l|0),{h:u,l:c}=Gc(this.Dh|0,this.Dl|0,u|0,c|0),{h,l:m}=Gc(this.Eh|0,this.El|0,h|0,m|0),{h:y,l:b}=Gc(this.Fh|0,this.Fl|0,y|0,b|0),{h:E,l:A}=Gc(this.Gh|0,this.Gl|0,E|0,A|0),{h:M,l:O}=Gc(this.Hh|0,this.Hl|0,M|0,O|0),this.set(n,i,s,o,a,l,u,c,h,m,y,b,E,A,M,O)}roundClean(){xu(Yf,Zf)}destroy(){xu(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},_rt=class extends EL{constructor(){super(48),this.Ah=vo[0]|0,this.Al=vo[1]|0,this.Bh=vo[2]|0,this.Bl=vo[3]|0,this.Ch=vo[4]|0,this.Cl=vo[5]|0,this.Dh=vo[6]|0,this.Dl=vo[7]|0,this.Eh=vo[8]|0,this.El=vo[9]|0,this.Fh=vo[10]|0,this.Fl=vo[11]|0,this.Gh=vo[12]|0,this.Gl=vo[13]|0,this.Hh=vo[14]|0,this.Hl=vo[15]|0}};const xo=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);let Art=class extends EL{constructor(){super(32),this.Ah=xo[0]|0,this.Al=xo[1]|0,this.Bh=xo[2]|0,this.Bl=xo[3]|0,this.Ch=xo[4]|0,this.Cl=xo[5]|0,this.Dh=xo[6]|0,this.Dl=xo[7]|0,this.Eh=xo[8]|0,this.El=xo[9]|0,this.Fh=xo[10]|0,this.Fl=xo[11]|0,this.Gh=xo[12]|0,this.Gl=xo[13]|0,this.Hh=xo[14]|0,this.Hl=xo[15]|0}};const Srt=r6(()=>new brt),Crt=r6(()=>new EL),krt=r6(()=>new _rt);r6(()=>new Art);const Irt=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),rs=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Yt=new Uint32Array(32);function Qf(t,e,r,n,i,s){const o=i[s],a=i[s+1];let l=Yt[2*t],u=Yt[2*t+1],c=Yt[2*e],h=Yt[2*e+1],m=Yt[2*r],y=Yt[2*r+1],b=Yt[2*n],E=Yt[2*n+1],A=mL(l,c,o);u=yL(A,u,h,a),l=A|0,{Dh:E,Dl:b}={Dh:E^u,Dl:b^l},{Dh:E,Dl:b}={Dh:Vtt(E,b),Dl:Ktt(E)},{h:y,l:m}=Gc(y,m,E,b),{Bh:h,Bl:c}={Bh:h^y,Bl:c^m},{Bh:h,Bl:c}={Bh:f0(h,c,24),Bl:p0(h,c,24)},Yt[2*t]=l,Yt[2*t+1]=u,Yt[2*e]=c,Yt[2*e+1]=h,Yt[2*r]=m,Yt[2*r+1]=y,Yt[2*n]=b,Yt[2*n+1]=E}function Jf(t,e,r,n,i,s){const o=i[s],a=i[s+1];let l=Yt[2*t],u=Yt[2*t+1],c=Yt[2*e],h=Yt[2*e+1],m=Yt[2*r],y=Yt[2*r+1],b=Yt[2*n],E=Yt[2*n+1],A=mL(l,c,o);u=yL(A,u,h,a),l=A|0,{Dh:E,Dl:b}={Dh:E^u,Dl:b^l},{Dh:E,Dl:b}={Dh:f0(E,b,16),Dl:p0(E,b,16)},{h:y,l:m}=Gc(y,m,E,b),{Bh:h,Bl:c}={Bh:h^y,Bl:c^m},{Bh:h,Bl:c}={Bh:cb(h,c,63),Bl:ub(h,c,63)},Yt[2*t]=l,Yt[2*t+1]=u,Yt[2*e]=c,Yt[2*e+1]=h,Yt[2*r]=m,Yt[2*r+1]=y,Yt[2*n]=b,Yt[2*n+1]=E}function Trt(t,e={},r,n,i){if(Q0(r),t<0||t>r)throw new Error("outputLen bigger than keyLen");const{key:s,salt:o,personalization:a}=e;if(s!==void 0&&(s.length<1||s.length>r))throw new Error("key length must be undefined or 1.."+r);if(o!==void 0&&o.length!==n)throw new Error("salt must be undefined or "+n);if(a!==void 0&&a.length!==i)throw new Error("personalization must be undefined or "+i)}let $rt=class extends eA{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Q0(e),Q0(r),this.blockLen=e,this.outputLen=r,this.buffer=new Uint8Array(e),this.buffer32=c5(this.buffer)}update(e){J0(this),e=Lh(e),pc(e);const{blockLen:r,buffer:n,buffer32:i}=this,s=e.length,o=e.byteOffset,a=e.buffer;for(let l=0;l<s;){this.pos===r&&(g0(i),this.compress(i,0,!1),g0(i),this.pos=0);const u=Math.min(r-this.pos,s-l),c=o+l;if(u===r&&!(c%4)&&l+u<s){const h=new Uint32Array(a,c,Math.floor((s-l)/4));g0(h);for(let m=0;l+r<s;m+=i.length,l+=r)this.length+=r,this.compress(h,m,!1);g0(h);continue}n.set(e.subarray(l,l+u),this.pos),this.pos+=u,this.length+=u,l+=u}return this}digestInto(e){J0(this),vL(e,this);const{pos:r,buffer32:n}=this;this.finished=!0,xu(this.buffer.subarray(r)),g0(n),this.compress(n,0,!0),g0(n);const i=c5(e);this.get().forEach((s,o)=>i[o]=uh(s))}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){const{buffer:r,length:n,finished:i,destroyed:s,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(r),e.destroyed=s,e.finished=i,e.length=n,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}},Mrt=class extends $rt{constructor(e={}){const r=e.dkLen===void 0?64:e.dkLen;super(128,r),this.v0l=rs[0]|0,this.v0h=rs[1]|0,this.v1l=rs[2]|0,this.v1h=rs[3]|0,this.v2l=rs[4]|0,this.v2h=rs[5]|0,this.v3l=rs[6]|0,this.v3h=rs[7]|0,this.v4l=rs[8]|0,this.v4h=rs[9]|0,this.v5l=rs[10]|0,this.v5h=rs[11]|0,this.v6l=rs[12]|0,this.v6h=rs[13]|0,this.v7l=rs[14]|0,this.v7h=rs[15]|0,Trt(r,e,64,16,16);let{key:n,personalization:i,salt:s}=e,o=0;if(n!==void 0&&(n=Lh(n),o=n.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,s!==void 0){s=Lh(s);const a=c5(s);this.v4l^=uh(a[0]),this.v4h^=uh(a[1]),this.v5l^=uh(a[2]),this.v5h^=uh(a[3])}if(i!==void 0){i=Lh(i);const a=c5(i);this.v6l^=uh(a[0]),this.v6h^=uh(a[1]),this.v7l^=uh(a[2]),this.v7h^=uh(a[3])}if(n!==void 0){const a=new Uint8Array(this.blockLen);a.set(n),this.update(a)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:i,v2l:s,v2h:o,v3l:a,v3h:l,v4l:u,v4h:c,v5l:h,v5h:m,v6l:y,v6h:b,v7l:E,v7h:A}=this;return[e,r,n,i,s,o,a,l,u,c,h,m,y,b,E,A]}set(e,r,n,i,s,o,a,l,u,c,h,m,y,b,E,A){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=s|0,this.v2h=o|0,this.v3l=a|0,this.v3h=l|0,this.v4l=u|0,this.v4h=c|0,this.v5l=h|0,this.v5h=m|0,this.v6l=y|0,this.v6h=b|0,this.v7l=E|0,this.v7h=A|0}compress(e,r,n){this.get().forEach((l,u)=>Yt[u]=l),Yt.set(rs,16);let{h:i,l:s}=ode(BigInt(this.length));Yt[24]=rs[8]^s,Yt[25]=rs[9]^i,n&&(Yt[28]=~Yt[28],Yt[29]=~Yt[29]);let o=0;const a=Irt;for(let l=0;l<12;l++)Qf(0,4,8,12,e,r+2*a[o++]),Jf(0,4,8,12,e,r+2*a[o++]),Qf(1,5,9,13,e,r+2*a[o++]),Jf(1,5,9,13,e,r+2*a[o++]),Qf(2,6,10,14,e,r+2*a[o++]),Jf(2,6,10,14,e,r+2*a[o++]),Qf(3,7,11,15,e,r+2*a[o++]),Jf(3,7,11,15,e,r+2*a[o++]),Qf(0,5,10,15,e,r+2*a[o++]),Jf(0,5,10,15,e,r+2*a[o++]),Qf(1,6,11,12,e,r+2*a[o++]),Jf(1,6,11,12,e,r+2*a[o++]),Qf(2,7,8,13,e,r+2*a[o++]),Jf(2,7,8,13,e,r+2*a[o++]),Qf(3,4,9,14,e,r+2*a[o++]),Jf(3,4,9,14,e,r+2*a[o++]);this.v0l^=Yt[0]^Yt[16],this.v0h^=Yt[1]^Yt[17],this.v1l^=Yt[2]^Yt[18],this.v1h^=Yt[3]^Yt[19],this.v2l^=Yt[4]^Yt[20],this.v2h^=Yt[5]^Yt[21],this.v3l^=Yt[6]^Yt[22],this.v3h^=Yt[7]^Yt[23],this.v4l^=Yt[8]^Yt[24],this.v4h^=Yt[9]^Yt[25],this.v5l^=Yt[10]^Yt[26],this.v5h^=Yt[11]^Yt[27],this.v6l^=Yt[12]^Yt[28],this.v6h^=Yt[13]^Yt[29],this.v7l^=Yt[14]^Yt[30],this.v7h^=Yt[15]^Yt[31],xu(Yt)}destroy(){this.destroyed=!0,xu(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};ort(t=>new Mrt(t));/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function wde(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function lN(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function uI(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Ta(t,...e){if(!wde(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function yY(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Prt(t,e){Ta(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function L0(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function lw(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Nrt(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const Rrt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Ort(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function cN(t){if(typeof t=="string")t=Ort(t);else if(wde(t))t=uN(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function jrt(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function Lrt(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}const Drt=(t,e)=>{function r(n,...i){if(Ta(n),!Rrt)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const u=i[0];if(!u)throw new Error("nonce / iv required");t.varSizeNonce?Ta(u):Ta(u,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&Ta(i[1]);const o=e(n,...i),a=(u,c)=>{if(c!==void 0){if(u!==2)throw new Error("cipher output not supported");Ta(c)}};let l=!1;return{encrypt(u,c){if(l)throw new Error("cannot encrypt() twice with same key + nonce");return l=!0,Ta(u),a(o.encrypt.length,c),o.encrypt(u,c)},decrypt(u,c){if(Ta(u),s&&u.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,c),o.decrypt(u,c)}}}return Object.assign(r,t),r};function wY(t,e,r=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(r&&!Urt(e))throw new Error("invalid output, must be aligned");return e}function vY(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s);t.setUint32(e+4,o,n),t.setUint32(e+0,a,n)}function Brt(t,e,r){lN(r);const n=new Uint8Array(16),i=Nrt(n);return vY(i,0,BigInt(e),r),vY(i,8,BigInt(t),r),n}function Urt(t){return t.byteOffset%4===0}function uN(t){return Uint8Array.from(t)}const vde=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),Frt=vde("expand 16-byte k"),zrt=vde("expand 32-byte k"),Wrt=L0(Frt),qrt=L0(zrt);function xn(t,e){return t<<e|t>>>32-e}function dN(t){return t.byteOffset%4===0}const fx=64,Hrt=16,bde=2**32-1,bY=new Uint32Array;function Vrt(t,e,r,n,i,s,o,a){const l=i.length,u=new Uint8Array(fx),c=L0(u),h=dN(i)&&dN(s),m=h?L0(i):bY,y=h?L0(s):bY;for(let b=0;b<l;o++){if(t(e,r,n,c,o,a),o>=bde)throw new Error("arx: counter overflow");const E=Math.min(fx,l-b);if(h&&E===fx){const A=b/4;if(b%4!==0)throw new Error("arx: invalid block position");for(let M=0,O;M<Hrt;M++)O=A+M,y[O]=m[O]^c[M];b+=fx;continue}for(let A=0,M;A<E;A++)M=b+A,s[M]=i[M]^u[A];b+=E}}function Krt(t,e){const{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:s,rounds:o}=jrt({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return uI(i),uI(o),lN(s),lN(r),(a,l,u,c,h=0)=>{Ta(a),Ta(l),Ta(u);const m=u.length;if(c===void 0&&(c=new Uint8Array(m)),Ta(c),uI(h),h<0||h>=bde)throw new Error("arx: counter overflow");if(c.length<m)throw new Error(`arx: output (${c.length}) is shorter than data (${m})`);const y=[];let b=a.length,E,A;if(b===32)y.push(E=uN(a)),A=qrt;else if(b===16&&r)E=new Uint8Array(32),E.set(a),E.set(a,16),A=Wrt,y.push(E);else throw new Error(`arx: invalid 32-byte key, got length=${b}`);dN(l)||y.push(l=uN(l));const M=L0(E);if(n){if(l.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(A,M,L0(l.subarray(0,16)),M),l=l.subarray(16)}const O=16-i;if(O!==l.length)throw new Error(`arx: nonce must be ${O} or 16 bytes`);if(O!==12){const z=new Uint8Array(12);z.set(l,s?0:12-l.length),l=z,y.push(l)}const P=L0(l);return Vrt(t,A,M,P,u,c,h,o),lw(...y),c}}const Os=(t,e)=>t[e++]&255|(t[e++]&255)<<8;let Grt=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=cN(e),Ta(e,32);const r=Os(e,0),n=Os(e,2),i=Os(e,4),s=Os(e,6),o=Os(e,8),a=Os(e,10),l=Os(e,12),u=Os(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|l<<5)&8065,this.r[8]=(l>>>8|u<<8)&8191,this.r[9]=u>>>5&127;for(let c=0;c<8;c++)this.pad[c]=Os(e,16+2*c)}process(e,r,n=!1){const i=n?0:2048,{h:s,r:o}=this,a=o[0],l=o[1],u=o[2],c=o[3],h=o[4],m=o[5],y=o[6],b=o[7],E=o[8],A=o[9],M=Os(e,r+0),O=Os(e,r+2),P=Os(e,r+4),z=Os(e,r+6),L=Os(e,r+8),W=Os(e,r+10),H=Os(e,r+12),G=Os(e,r+14);let N=s[0]+(M&8191),F=s[1]+((M>>>13|O<<3)&8191),U=s[2]+((O>>>10|P<<6)&8191),j=s[3]+((P>>>7|z<<9)&8191),_=s[4]+((z>>>4|L<<12)&8191),d=s[5]+(L>>>1&8191),g=s[6]+((L>>>14|W<<2)&8191),x=s[7]+((W>>>11|H<<5)&8191),C=s[8]+((H>>>8|G<<8)&8191),k=s[9]+(G>>>5|i),T=0,R=T+N*a+F*(5*A)+U*(5*E)+j*(5*b)+_*(5*y);T=R>>>13,R&=8191,R+=d*(5*m)+g*(5*h)+x*(5*c)+C*(5*u)+k*(5*l),T+=R>>>13,R&=8191;let I=T+N*l+F*a+U*(5*A)+j*(5*E)+_*(5*b);T=I>>>13,I&=8191,I+=d*(5*y)+g*(5*m)+x*(5*h)+C*(5*c)+k*(5*u),T+=I>>>13,I&=8191;let f=T+N*u+F*l+U*a+j*(5*A)+_*(5*E);T=f>>>13,f&=8191,f+=d*(5*b)+g*(5*y)+x*(5*m)+C*(5*h)+k*(5*c),T+=f>>>13,f&=8191;let S=T+N*c+F*u+U*l+j*a+_*(5*A);T=S>>>13,S&=8191,S+=d*(5*E)+g*(5*b)+x*(5*y)+C*(5*m)+k*(5*h),T+=S>>>13,S&=8191;let K=T+N*h+F*c+U*u+j*l+_*a;T=K>>>13,K&=8191,K+=d*(5*A)+g*(5*E)+x*(5*b)+C*(5*y)+k*(5*m),T+=K>>>13,K&=8191;let D=T+N*m+F*h+U*c+j*u+_*l;T=D>>>13,D&=8191,D+=d*a+g*(5*A)+x*(5*E)+C*(5*b)+k*(5*y),T+=D>>>13,D&=8191;let J=T+N*y+F*m+U*h+j*c+_*u;T=J>>>13,J&=8191,J+=d*l+g*a+x*(5*A)+C*(5*E)+k*(5*b),T+=J>>>13,J&=8191;let ne=T+N*b+F*y+U*m+j*h+_*c;T=ne>>>13,ne&=8191,ne+=d*u+g*l+x*a+C*(5*A)+k*(5*E),T+=ne>>>13,ne&=8191;let ie=T+N*E+F*b+U*y+j*m+_*h;T=ie>>>13,ie&=8191,ie+=d*c+g*u+x*l+C*a+k*(5*A),T+=ie>>>13,ie&=8191;let ce=T+N*A+F*E+U*b+j*y+_*m;T=ce>>>13,ce&=8191,ce+=d*h+g*c+x*u+C*l+k*a,T+=ce>>>13,ce&=8191,T=(T<<2)+T|0,T=T+R|0,R=T&8191,T=T>>>13,I+=T,s[0]=R,s[1]=I,s[2]=f,s[3]=S,s[4]=K,s[5]=D,s[6]=J,s[7]=ne,s[8]=ie,s[9]=ce}finalize(){const{h:e,pad:r}=this,n=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,n[0]=e[0]+5,i=n[0]>>>13,n[0]&=8191;for(let a=1;a<10;a++)n[a]=e[a]+i,i=n[a]>>>13,n[a]&=8191;n[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)n[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|n[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+r[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+r[a]|0)+(o>>>16)|0,e[a]=o&65535;lw(n)}update(e){yY(this),e=cN(e),Ta(e);const{buffer:r,blockLen:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o===n){for(;n<=i-s;s+=n)this.process(e,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){lw(this.h,this.r,this.buffer,this.pad)}digestInto(e){yY(this),Prt(e,this),this.finished=!0;const{buffer:r,h:n}=this;let{pos:i}=this;if(i){for(r[i++]=1;i<16;i++)r[i]=0;this.process(r,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=n[o]>>>0,e[s++]=n[o]>>>8;return e}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}};function Yrt(t){const e=(n,i)=>t(i).update(cN(n)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}const Zrt=Yrt(t=>new Grt(t));function Qrt(t,e,r,n,i,s=20){let o=t[0],a=t[1],l=t[2],u=t[3],c=e[0],h=e[1],m=e[2],y=e[3],b=e[4],E=e[5],A=e[6],M=e[7],O=i,P=r[0],z=r[1],L=r[2],W=o,H=a,G=l,N=u,F=c,U=h,j=m,_=y,d=b,g=E,x=A,C=M,k=O,T=P,R=z,I=L;for(let S=0;S<s;S+=2)W=W+F|0,k=xn(k^W,16),d=d+k|0,F=xn(F^d,12),W=W+F|0,k=xn(k^W,8),d=d+k|0,F=xn(F^d,7),H=H+U|0,T=xn(T^H,16),g=g+T|0,U=xn(U^g,12),H=H+U|0,T=xn(T^H,8),g=g+T|0,U=xn(U^g,7),G=G+j|0,R=xn(R^G,16),x=x+R|0,j=xn(j^x,12),G=G+j|0,R=xn(R^G,8),x=x+R|0,j=xn(j^x,7),N=N+_|0,I=xn(I^N,16),C=C+I|0,_=xn(_^C,12),N=N+_|0,I=xn(I^N,8),C=C+I|0,_=xn(_^C,7),W=W+U|0,I=xn(I^W,16),x=x+I|0,U=xn(U^x,12),W=W+U|0,I=xn(I^W,8),x=x+I|0,U=xn(U^x,7),H=H+j|0,k=xn(k^H,16),C=C+k|0,j=xn(j^C,12),H=H+j|0,k=xn(k^H,8),C=C+k|0,j=xn(j^C,7),G=G+_|0,T=xn(T^G,16),d=d+T|0,_=xn(_^d,12),G=G+_|0,T=xn(T^G,8),d=d+T|0,_=xn(_^d,7),N=N+F|0,R=xn(R^N,16),g=g+R|0,F=xn(F^g,12),N=N+F|0,R=xn(R^N,8),g=g+R|0,F=xn(F^g,7);let f=0;n[f++]=o+W|0,n[f++]=a+H|0,n[f++]=l+G|0,n[f++]=u+N|0,n[f++]=c+F|0,n[f++]=h+U|0,n[f++]=m+j|0,n[f++]=y+_|0,n[f++]=b+d|0,n[f++]=E+g|0,n[f++]=A+x|0,n[f++]=M+C|0,n[f++]=O+k|0,n[f++]=P+T|0,n[f++]=z+R|0,n[f++]=L+I|0}const Jrt=Krt(Qrt,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Xrt=new Uint8Array(16),xY=(t,e)=>{t.update(e);const r=e.length%16;r&&t.update(Xrt.subarray(r))},ent=new Uint8Array(32);function EY(t,e,r,n,i){const s=t(e,r,ent),o=Zrt.create(s);i&&xY(o,i),xY(o,n);const a=Brt(n.length,i?i.length:0,!0);o.update(a);const l=o.digest();return lw(s,a),l}const tnt=t=>(e,r,n)=>({encrypt(i,s){const o=i.length;s=wY(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,r,a,a,1);const l=EY(t,e,r,a,n);return s.set(l,o),lw(l),s},decrypt(i,s){s=wY(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),l=EY(t,e,r,o,n);if(!Lrt(a,l))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,r,s,s,1),lw(l),s}});Drt({blockSize:64,nonceLength:12,tagLength:16},tnt(Jrt));let xde=class extends eA{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,rrt(e);const n=Lh(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),xu(s)}update(e){return J0(this),this.iHash.update(e),this}digestInto(e){J0(this),pc(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Ede=(t,e,r)=>new xde(t,e).update(r).digest();Ede.create=(t,e)=>new xde(t,e);Uint8Array.from([0]);const _L=BigInt(0),hN=BigInt(1);function jE(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function px(t){const e=t.toString(16);return e.length&1?"0"+e:e}function _de(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?_L:BigInt("0x"+t)}function tA(t){return _de(u5(t))}function LE(t){return pc(t),_de(u5(Uint8Array.from(t).reverse()))}function AL(t,e){return bL(t.toString(16).padStart(e*2,"0"))}function SL(t,e){return AL(t,e).reverse()}function _a(t,e,r){let n;if(typeof e=="string")try{n=bL(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(wL(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}const dI=t=>typeof t=="bigint"&&_L<=t;function rnt(t,e,r){return dI(t)&&dI(e)&&dI(r)&&e<=t&&t<r}function fN(t,e,r,n){if(!rnt(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function nnt(t){let e;for(e=0;t>_L;t>>=hN,e+=1);return e}const rA=t=>(hN<<BigInt(t))-hN;function int(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");const n=m=>new Uint8Array(m),i=m=>Uint8Array.of(m);let s=n(t),o=n(t),a=0;const l=()=>{s.fill(1),o.fill(0),a=0},u=(...m)=>r(o,s,...m),c=(m=n(0))=>{o=u(i(0),m),s=u(),m.length!==0&&(o=u(i(1),m),s=u())},h=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let m=0;const y=[];for(;m<e;){s=u();const b=s.slice();y.push(b),m+=s.length}return gg(...y)};return(m,y)=>{l(),c(m);let b;for(;!(b=y(h()));)c();return l(),b}}function nA(t,e,r={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function n(i,s,o){const a=t[i];if(o&&a===void 0)return;const l=typeof a;if(l!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${l}`)}Object.entries(e).forEach(([i,s])=>n(i,s,!1)),Object.entries(r).forEach(([i,s])=>n(i,s,!0))}function _Y(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const La=BigInt(0),ta=BigInt(1),mg=BigInt(2),snt=BigInt(3),Ade=BigInt(4),Sde=BigInt(5),Cde=BigInt(8);function nc(t,e){const r=t%e;return r>=La?r:e+r}function Wc(t,e,r){let n=t;for(;e-- >La;)n*=n,n%=r;return n}function AY(t,e){if(t===La)throw new Error("invert: expected non-zero number");if(e<=La)throw new Error("invert: expected positive modulus, got "+e);let r=nc(t,e),n=e,i=La,s=ta;for(;r!==La;){const o=n/r,a=n%r,l=i-s*o;n=r,r=a,i=s,s=l}if(n!==ta)throw new Error("invert: does not exist");return nc(i,e)}function kde(t,e){const r=(t.ORDER+ta)/Ade,n=t.pow(e,r);if(!t.eql(t.sqr(n),e))throw new Error("Cannot find square root");return n}function ont(t,e){const r=(t.ORDER-Sde)/Cde,n=t.mul(e,mg),i=t.pow(n,r),s=t.mul(e,i),o=t.mul(t.mul(s,mg),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function ant(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-ta,r=0;for(;e%mg===La;)e/=mg,r++;let n=mg;const i=Kw(t);for(;SY(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return kde;let s=i.pow(n,e);const o=(e+ta)/mg;return function(a,l){if(a.is0(l))return l;if(SY(a,l)!==1)throw new Error("Cannot find square root");let u=r,c=a.mul(a.ONE,s),h=a.pow(l,e),m=a.pow(l,o);for(;!a.eql(h,a.ONE);){if(a.is0(h))return a.ZERO;let y=1,b=a.sqr(h);for(;!a.eql(b,a.ONE);)if(y++,b=a.sqr(b),y===u)throw new Error("Cannot find square root");const E=ta<<BigInt(u-y-1),A=a.pow(c,E);u=y,c=a.sqr(A),h=a.mul(h,c),m=a.mul(m,A)}return m}}function lnt(t){return t%Ade===snt?kde:t%Cde===Sde?ont:ant(t)}const cnt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function unt(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=cnt.reduce((n,i)=>(n[i]="function",n),e);return nA(t,r),t}function dnt(t,e,r){if(r<La)throw new Error("invalid exponent, negatives unsupported");if(r===La)return t.ONE;if(r===ta)return e;let n=t.ONE,i=e;for(;r>La;)r&ta&&(n=t.mul(n,i)),i=t.sqr(i),r>>=ta;return n}function Ide(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),i=e.reduce((o,a,l)=>t.is0(a)?o:(n[l]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,l)=>t.is0(a)?o:(n[l]=t.mul(o,n[l]),t.mul(o,a)),s),n}function SY(t,e){const r=(t.ORDER-ta)/mg,n=t.pow(e,r),i=t.eql(n,t.ONE),s=t.eql(n,t.ZERO),o=t.eql(n,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function hnt(t,e){e!==void 0&&Q0(e);const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Kw(t,e,r=!1,n={}){if(t<=La)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s;if(typeof e=="object"&&e!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const c=e;c.BITS&&(i=c.BITS),c.sqrt&&(s=c.sqrt),typeof c.isLE=="boolean"&&(r=c.isLE)}else typeof e=="number"&&(i=e),n.sqrt&&(s=n.sqrt);const{nBitLength:o,nByteLength:a}=hnt(t,i);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const u=Object.freeze({ORDER:t,isLE:r,BITS:o,BYTES:a,MASK:rA(o),ZERO:La,ONE:ta,create:c=>nc(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return La<=c&&c<t},is0:c=>c===La,isValidNot0:c=>!u.is0(c)&&u.isValid(c),isOdd:c=>(c&ta)===ta,neg:c=>nc(-c,t),eql:(c,h)=>c===h,sqr:c=>nc(c*c,t),add:(c,h)=>nc(c+h,t),sub:(c,h)=>nc(c-h,t),mul:(c,h)=>nc(c*h,t),pow:(c,h)=>dnt(u,c,h),div:(c,h)=>nc(c*AY(h,t),t),sqrN:c=>c*c,addN:(c,h)=>c+h,subN:(c,h)=>c-h,mulN:(c,h)=>c*h,inv:c=>AY(c,t),sqrt:s||(c=>(l||(l=lnt(t)),l(u,c))),toBytes:c=>r?SL(c,a):AL(c,a),fromBytes:c=>{if(c.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+c.length);return r?LE(c):tA(c)},invertBatch:c=>Ide(u,c),cmov:(c,h,m)=>m?h:c});return Object.freeze(u)}function Tde(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function $de(t){const e=Tde(t);return e+Math.ceil(e/2)}function fnt(t,e,r=!1){const n=t.length,i=Tde(e),s=$de(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?LE(t):tA(t),a=nc(o,e-ta)+ta;return r?SL(a,i):AL(a,i)}const cw=BigInt(0),yg=BigInt(1);function Wb(t,e){const r=e.negate();return t?r:e}function pnt(t,e,r){const n=s=>s.pz,i=Ide(t.Fp,r.map(n));return r.map((s,o)=>s.toAffine(i[o])).map(t.fromAffine)}function Mde(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function hI(t,e){Mde(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1),i=2**t,s=rA(t),o=BigInt(t);return{windows:r,windowSize:n,mask:s,maxNumber:i,shiftBy:o}}function CY(t,e,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r;let a=Number(t&i),l=t>>o;a>n&&(a-=s,l+=yg);const u=e*n,c=u+Math.abs(a)-1,h=a===0,m=a<0,y=e%2!==0;return{nextN:l,offset:c,isZero:h,isNeg:m,isNegF:y,offsetF:u}}function gnt(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function mnt(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const fI=new WeakMap,Pde=new WeakMap;function pI(t){return Pde.get(t)||1}function kY(t){if(t!==cw)throw new Error("invalid wNAF")}function ynt(t,e){return{constTimeNegate:Wb,hasPrecomputes(r){return pI(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>cw;)n&yg&&(i=i.add(s)),s=s.double(),n>>=yg;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=hI(n,e),o=[];let a=r,l=a;for(let u=0;u<i;u++){l=a,o.push(l);for(let c=1;c<s;c++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(r,n,i){let s=t.ZERO,o=t.BASE;const a=hI(r,e);for(let l=0;l<a.windows;l++){const{nextN:u,offset:c,isZero:h,isNeg:m,isNegF:y,offsetF:b}=CY(i,l,a);i=u,h?o=o.add(Wb(y,n[b])):s=s.add(Wb(m,n[c]))}return kY(i),{p:s,f:o}},wNAFUnsafe(r,n,i,s=t.ZERO){const o=hI(r,e);for(let a=0;a<o.windows&&i!==cw;a++){const{nextN:l,offset:u,isZero:c,isNeg:h}=CY(i,a,o);if(i=l,!c){const m=n[u];s=s.add(h?m.negate():m)}}return kY(i),s},getPrecomputes(r,n,i){let s=fI.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&(typeof i=="function"&&(s=i(s)),fI.set(n,s))),s},wNAFCached(r,n,i){const s=pI(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=pI(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){Mde(n,e),Pde.set(r,n),fI.delete(r)}}}function wnt(t,e,r,n){let i=e,s=t.ZERO,o=t.ZERO;for(;r>cw||n>cw;)r&yg&&(s=s.add(i)),n&yg&&(o=o.add(i)),i=i.double(),r>>=yg,n>>=yg;return{p1:s,p2:o}}function vnt(t,e,r,n){gnt(r,t),mnt(n,e);const i=r.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=nnt(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const u=rA(l),c=new Array(Number(u)+1).fill(o),h=Math.floor((e.BITS-1)/l)*l;let m=o;for(let y=h;y>=0;y-=l){c.fill(o);for(let E=0;E<s;E++){const A=n[E],M=Number(A>>BigInt(y)&u);c[M]=c[M].add(r[E])}let b=o;for(let E=c.length-1,A=o;E>0;E--)A=A.add(c[E]),b=b.add(A);if(m=m.add(b),y!==0)for(let E=0;E<l;E++)m=m.double()}return m}function IY(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return unt(e),e}else return Kw(t)}function bnt(t,e,r={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const o of["p","n","h"]){const a=e[o];if(!(typeof a=="bigint"&&a>cw))throw new Error(`CURVE.${o} must be positive bigint`)}const n=IY(e.p,r.Fp),i=IY(e.n,r.Fn),s=["Gx","Gy","a","b"];for(const o of s)if(!n.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:n,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const av=BigInt(0),P1=BigInt(1),gx=BigInt(2);function xnt(t){return nA(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function Ent(t){const e=xnt(t),{P:r,type:n,adjustScalarBytes:i,powPminus2:s,randomBytes:o}=e,a=n==="x25519";if(!a&&n!=="x448")throw new Error("invalid type");const l=o||dde,u=a?255:448,c=a?32:56,h=BigInt(a?9:5),m=BigInt(a?121665:39081),y=a?gx**BigInt(254):gx**BigInt(447),b=a?BigInt(8)*gx**BigInt(251)-P1:BigInt(4)*gx**BigInt(445)-P1,E=y+b+P1,A=N=>nc(N,r),M=O(h);function O(N){return SL(A(N),c)}function P(N){const F=_a("u coordinate",N,c);return a&&(F[31]&=127),A(LE(F))}function z(N){return LE(i(_a("scalar",N,c)))}function L(N,F){const U=G(P(F),z(N));if(U===av)throw new Error("invalid private or public key received");return O(U)}function W(N){return L(N,M)}function H(N,F,U){const j=A(N*(F-U));return F=A(F-j),U=A(U+j),{x_2:F,x_3:U}}function G(N,F){fN("u",N,av,r),fN("scalar",F,y,E);const U=F,j=N;let _=P1,d=av,g=N,x=P1,C=av;for(let T=BigInt(u-1);T>=av;T--){const R=U>>T&P1;C^=R,{x_2:_,x_3:g}=H(C,_,g),{x_2:d,x_3:x}=H(C,d,x),C=R;const I=_+d,f=A(I*I),S=_-d,K=A(S*S),D=f-K,J=g+x,ne=g-x,ie=A(ne*I),ce=A(J*S),Se=ie+ce,ye=ie-ce;g=A(Se*Se),x=A(j*A(ye*ye)),_=A(f*K),d=A(D*(f+A(m*D)))}({x_2:_,x_3:g}=H(C,_,g)),{x_2:d,x_3:x}=H(C,d,x);const k=s(d);return A(_*k)}return{scalarMult:L,scalarMultBase:W,getSharedSecret:(N,F)=>L(N,F),getPublicKey:N=>W(N),utils:{randomPrivateKey:()=>l(c)},GuBytes:M.slice()}}BigInt(0);const _nt=BigInt(1),TY=BigInt(2),Ant=BigInt(3),Snt=BigInt(5);BigInt(8);const Nde={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Cnt(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=Nde.p,o=t*t%s*t%s,a=Wc(o,TY,s)*o%s,l=Wc(a,_nt,s)*t%s,u=Wc(l,Snt,s)*l%s,c=Wc(u,e,s)*u%s,h=Wc(c,r,s)*c%s,m=Wc(h,n,s)*h%s,y=Wc(m,i,s)*m%s,b=Wc(y,i,s)*m%s,E=Wc(b,e,s)*u%s;return{pow_p_5_8:Wc(E,TY,s)*t%s,b2:o}}function knt(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}(()=>{const t=Nde.p;return Ent({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:r,b2:n}=Cnt(e);return nc(Wc(r,Ant,t)*n,t)},adjustScalarBytes:knt})})();function $Y(t){t.lowS!==void 0&&jE("lowS",t.lowS),t.prehash!==void 0&&jE("prehash",t.prehash)}let Int=class extends Error{constructor(e=""){super(e)}};const xh={Err:Int,_tlv:{encode:(t,e)=>{const{Err:r}=xh;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=px(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?px(i.length/2|128):"";return px(t)+s+i+e},decode(t,e){const{Err:r}=xh;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const l=i&127;if(!l)throw new r("tlv.decode(long): indefinite length not supported");if(l>4)throw new r("tlv.decode(long): byte length is too big");const u=e.subarray(n,n+l);if(u.length!==l)throw new r("tlv.decode: length bytes not complete");if(u[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const c of u)o=o<<8|c;if(n+=l,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=xh;if(t<qb)throw new e("integer: negative integers are not allowed");let r=px(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=xh;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return tA(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=xh,i=_a("signature",t),{v:s,l:o}=n.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=n.decode(2,s),{v:u,l:c}=n.decode(2,l);if(c.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(u)}},hexFromSig(t){const{_tlv:e,_int:r}=xh,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),s=n+i;return e.encode(48,s)}},qb=BigInt(0),Hb=BigInt(1),Tnt=BigInt(2),mx=BigInt(3),$nt=BigInt(4);function Mnt(t,e,r){function n(i){const s=t.sqr(i),o=t.mul(s,i);return t.add(t.add(o,t.mul(i,e)),r)}return n}function Rde(t,e,r){const{BYTES:n}=t;function i(s){let o;if(typeof s=="bigint")o=s;else{let a=_a("private key",s);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const l=new Uint8Array(n);l.set(a,l.length-a.length),a=l}try{o=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof s}`)}}if(r&&(o=t.create(o)),!t.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return i}function Pnt(t,e={}){const{Fp:r,Fn:n}=bnt("weierstrass",t,e),{h:i,n:s}=t;nA(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=e;if(o&&(!r.is0(t.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function l(G,N,F){const{x:U,y:j}=N.toAffine(),_=r.toBytes(U);if(jE("isCompressed",F),F){a();const d=!r.isOdd(j);return gg(Ode(d),_)}else return gg(Uint8Array.of(4),_,r.toBytes(j))}function u(G){pc(G);const N=r.BYTES,F=N+1,U=2*N+1,j=G.length,_=G[0],d=G.subarray(1);if(j===F&&(_===2||_===3)){const g=r.fromBytes(d);if(!r.isValid(g))throw new Error("bad point: is not on curve, wrong x");const x=m(g);let C;try{C=r.sqrt(x)}catch(T){const R=T instanceof Error?": "+T.message:"";throw new Error("bad point: is not on curve, sqrt error"+R)}a();const k=r.isOdd(C);return(_&1)===1!==k&&(C=r.neg(C)),{x:g,y:C}}else if(j===U&&_===4){const g=r.fromBytes(d.subarray(N*0,N*1)),x=r.fromBytes(d.subarray(N*1,N*2));if(!y(g,x))throw new Error("bad point: is not on curve");return{x:g,y:x}}else throw new Error(`bad point: got length ${j}, expected compressed=${F} or uncompressed=${U}`)}const c=e.toBytes||l,h=e.fromBytes||u,m=Mnt(r,t.a,t.b);function y(G,N){const F=r.sqr(N),U=m(G);return r.eql(F,U)}if(!y(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const b=r.mul(r.pow(t.a,mx),$nt),E=r.mul(r.sqr(t.b),BigInt(27));if(r.is0(r.add(b,E)))throw new Error("bad curve params: a or b");function A(G,N,F=!1){if(!r.isValid(N)||F&&r.is0(N))throw new Error(`bad point coordinate ${G}`);return N}function M(G){if(!(G instanceof L))throw new Error("ProjectivePoint expected")}const O=_Y((G,N)=>{const{px:F,py:U,pz:j}=G;if(r.eql(j,r.ONE))return{x:F,y:U};const _=G.is0();N==null&&(N=_?r.ONE:r.inv(j));const d=r.mul(F,N),g=r.mul(U,N),x=r.mul(j,N);if(_)return{x:r.ZERO,y:r.ZERO};if(!r.eql(x,r.ONE))throw new Error("invZ was invalid");return{x:d,y:g}}),P=_Y(G=>{if(G.is0()){if(e.allowInfinityPoint&&!r.is0(G.py))return;throw new Error("bad point: ZERO")}const{x:N,y:F}=G.toAffine();if(!r.isValid(N)||!r.isValid(F))throw new Error("bad point: x or y not field elements");if(!y(N,F))throw new Error("bad point: equation left != right");if(!G.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function z(G,N,F,U,j){return F=new L(r.mul(F.px,G),F.py,F.pz),N=Wb(U,N),F=Wb(j,F),N.add(F)}class L{constructor(N,F,U){this.px=A("x",N),this.py=A("y",F,!0),this.pz=A("z",U),Object.freeze(this)}static fromAffine(N){const{x:F,y:U}=N||{};if(!N||!r.isValid(F)||!r.isValid(U))throw new Error("invalid affine point");if(N instanceof L)throw new Error("projective point not allowed");return r.is0(F)&&r.is0(U)?L.ZERO:new L(F,U,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(N){return pnt(L,"pz",N)}static fromBytes(N){return pc(N),L.fromHex(N)}static fromHex(N){const F=L.fromAffine(h(_a("pointHex",N)));return F.assertValidity(),F}static fromPrivateKey(N){const F=Rde(n,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return L.BASE.multiply(F(N))}static msm(N,F){return vnt(L,n,N,F)}precompute(N=8,F=!0){return H.setWindowSize(this,N),F||this.multiply(mx),this}_setWindowSize(N){this.precompute(N)}assertValidity(){P(this)}hasEvenY(){const{y:N}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(N)}equals(N){M(N);const{px:F,py:U,pz:j}=this,{px:_,py:d,pz:g}=N,x=r.eql(r.mul(F,g),r.mul(_,j)),C=r.eql(r.mul(U,g),r.mul(d,j));return x&&C}negate(){return new L(this.px,r.neg(this.py),this.pz)}double(){const{a:N,b:F}=t,U=r.mul(F,mx),{px:j,py:_,pz:d}=this;let g=r.ZERO,x=r.ZERO,C=r.ZERO,k=r.mul(j,j),T=r.mul(_,_),R=r.mul(d,d),I=r.mul(j,_);return I=r.add(I,I),C=r.mul(j,d),C=r.add(C,C),g=r.mul(N,C),x=r.mul(U,R),x=r.add(g,x),g=r.sub(T,x),x=r.add(T,x),x=r.mul(g,x),g=r.mul(I,g),C=r.mul(U,C),R=r.mul(N,R),I=r.sub(k,R),I=r.mul(N,I),I=r.add(I,C),C=r.add(k,k),k=r.add(C,k),k=r.add(k,R),k=r.mul(k,I),x=r.add(x,k),R=r.mul(_,d),R=r.add(R,R),k=r.mul(R,I),g=r.sub(g,k),C=r.mul(R,T),C=r.add(C,C),C=r.add(C,C),new L(g,x,C)}add(N){M(N);const{px:F,py:U,pz:j}=this,{px:_,py:d,pz:g}=N;let x=r.ZERO,C=r.ZERO,k=r.ZERO;const T=t.a,R=r.mul(t.b,mx);let I=r.mul(F,_),f=r.mul(U,d),S=r.mul(j,g),K=r.add(F,U),D=r.add(_,d);K=r.mul(K,D),D=r.add(I,f),K=r.sub(K,D),D=r.add(F,j);let J=r.add(_,g);return D=r.mul(D,J),J=r.add(I,S),D=r.sub(D,J),J=r.add(U,j),x=r.add(d,g),J=r.mul(J,x),x=r.add(f,S),J=r.sub(J,x),k=r.mul(T,D),x=r.mul(R,S),k=r.add(x,k),x=r.sub(f,k),k=r.add(f,k),C=r.mul(x,k),f=r.add(I,I),f=r.add(f,I),S=r.mul(T,S),D=r.mul(R,D),f=r.add(f,S),S=r.sub(I,S),S=r.mul(T,S),D=r.add(D,S),I=r.mul(f,D),C=r.add(C,I),I=r.mul(J,D),x=r.mul(K,x),x=r.sub(x,I),I=r.mul(K,f),k=r.mul(J,k),k=r.add(k,I),new L(x,C,k)}subtract(N){return this.add(N.negate())}is0(){return this.equals(L.ZERO)}multiply(N){const{endo:F}=e;if(!n.isValidNot0(N))throw new Error("invalid scalar: out of range");let U,j;const _=d=>H.wNAFCached(this,d,L.normalizeZ);if(F){const{k1neg:d,k1:g,k2neg:x,k2:C}=F.splitScalar(N),{p:k,f:T}=_(g),{p:R,f:I}=_(C);j=T.add(I),U=z(F.beta,k,R,d,x)}else{const{p:d,f:g}=_(N);U=d,j=g}return L.normalizeZ([U,j])[0]}multiplyUnsafe(N){const{endo:F}=e,U=this;if(!n.isValid(N))throw new Error("invalid scalar: out of range");if(N===qb||U.is0())return L.ZERO;if(N===Hb)return U;if(H.hasPrecomputes(this))return this.multiply(N);if(F){const{k1neg:j,k1:_,k2neg:d,k2:g}=F.splitScalar(N),{p1:x,p2:C}=wnt(L,U,_,g);return z(F.beta,x,C,j,d)}else return H.wNAFCachedUnsafe(U,N)}multiplyAndAddUnsafe(N,F,U){const j=this.multiplyUnsafe(F).add(N.multiplyUnsafe(U));return j.is0()?void 0:j}toAffine(N){return O(this,N)}isTorsionFree(){const{isTorsionFree:N}=e;return i===Hb?!0:N?N(L,this):H.wNAFCachedUnsafe(this,s).is0()}clearCofactor(){const{clearCofactor:N}=e;return i===Hb?this:N?N(L,this):this.multiplyUnsafe(i)}toBytes(N=!0){return jE("isCompressed",N),this.assertValidity(),c(L,this,N)}toRawBytes(N=!0){return this.toBytes(N)}toHex(N=!0){return u5(this.toBytes(N))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}L.BASE=new L(t.Gx,t.Gy,r.ONE),L.ZERO=new L(r.ZERO,r.ONE,r.ZERO),L.Fp=r,L.Fn=n;const W=n.BITS,H=ynt(L,e.endo?Math.ceil(W/2):W);return L}function Ode(t){return Uint8Array.of(t?2:3)}function Nnt(t,e,r={}){nA(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const n=e.randomBytes||dde,i=e.hmac||((U,...j)=>Ede(e.hash,U,gg(...j))),{Fp:s,Fn:o}=t,{ORDER:a,BITS:l}=o;function u(U){const j=a>>Hb;return U>j}function c(U){return u(U)?o.neg(U):U}function h(U,j){if(!o.isValidNot0(j))throw new Error(`invalid signature ${U}: out of range 1..CURVE.n`)}class m{constructor(j,_,d){h("r",j),h("s",_),this.r=j,this.s=_,d!=null&&(this.recovery=d),Object.freeze(this)}static fromCompact(j){const _=o.BYTES,d=_a("compactSignature",j,_*2);return new m(o.fromBytes(d.subarray(0,_)),o.fromBytes(d.subarray(_,_*2)))}static fromDER(j){const{r:_,s:d}=xh.toSig(_a("DER",j));return new m(_,d)}assertValidity(){}addRecoveryBit(j){return new m(this.r,this.s,j)}recoverPublicKey(j){const _=s.ORDER,{r:d,s:g,recovery:x}=this;if(x==null||![0,1,2,3].includes(x))throw new Error("recovery id invalid");if(a*Tnt<_&&x>1)throw new Error("recovery id is ambiguous for h>1 curve");const C=x===2||x===3?d+a:d;if(!s.isValid(C))throw new Error("recovery id 2 or 3 invalid");const k=s.toBytes(C),T=t.fromHex(gg(Ode((x&1)===0),k)),R=o.inv(C),I=P(_a("msgHash",j)),f=o.create(-I*R),S=o.create(g*R),K=t.BASE.multiplyUnsafe(f).add(T.multiplyUnsafe(S));if(K.is0())throw new Error("point at infinify");return K.assertValidity(),K}hasHighS(){return u(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,o.neg(this.s),this.recovery):this}toBytes(j){if(j==="compact")return gg(o.toBytes(this.r),o.toBytes(this.s));if(j==="der")return bL(xh.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return u5(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return u5(this.toBytes("compact"))}}const y=Rde(o,r.allowedPrivateKeyLengths,r.wrapPrivateKey),b={isValidPrivateKey(U){try{return y(U),!0}catch{return!1}},normPrivateKeyToScalar:y,randomPrivateKey:()=>{const U=a;return fnt(n($de(U)),U)},precompute(U=8,j=t.BASE){return j.precompute(U,!1)}};function E(U,j=!0){return t.fromPrivateKey(U).toBytes(j)}function A(U){if(typeof U=="bigint")return!1;if(U instanceof t)return!0;const j=_a("key",U).length,_=s.BYTES,d=_+1,g=2*_+1;if(!(r.allowedPrivateKeyLengths||o.BYTES===d))return j===d||j===g}function M(U,j,_=!0){if(A(U)===!0)throw new Error("first arg must be private key");if(A(j)===!1)throw new Error("second arg must be public key");return t.fromHex(j).multiply(y(U)).toBytes(_)}const O=e.bits2int||function(U){if(U.length>8192)throw new Error("input is too large");const j=tA(U),_=U.length*8-l;return _>0?j>>BigInt(_):j},P=e.bits2int_modN||function(U){return o.create(O(U))},z=rA(l);function L(U){return fN("num < 2^"+l,U,qb,z),o.toBytes(U)}function W(U,j,_=H){if(["recovered","canonical"].some(K=>K in _))throw new Error("sign() legacy options not supported");const{hash:d}=e;let{lowS:g,prehash:x,extraEntropy:C}=_;g==null&&(g=!0),U=_a("msgHash",U),$Y(_),x&&(U=_a("prehashed msgHash",d(U)));const k=P(U),T=y(j),R=[L(T),L(k)];if(C!=null&&C!==!1){const K=C===!0?n(s.BYTES):C;R.push(_a("extraEntropy",K))}const I=gg(...R),f=k;function S(K){const D=O(K);if(!o.isValidNot0(D))return;const J=o.inv(D),ne=t.BASE.multiply(D).toAffine(),ie=o.create(ne.x);if(ie===qb)return;const ce=o.create(J*o.create(f+ie*T));if(ce===qb)return;let Se=(ne.x===ie?0:2)|Number(ne.y&Hb),ye=ce;return g&&u(ce)&&(ye=c(ce),Se^=1),new m(ie,ye,Se)}return{seed:I,k2sig:S}}const H={lowS:e.lowS,prehash:!1},G={lowS:e.lowS,prehash:!1};function N(U,j,_=H){const{seed:d,k2sig:g}=W(U,j,_);return int(e.hash.outputLen,o.BYTES,i)(d,g)}t.BASE.precompute(8);function F(U,j,_,d=G){const g=U;j=_a("msgHash",j),_=_a("publicKey",_),$Y(d);const{lowS:x,prehash:C,format:k}=d;if("strict"in d)throw new Error("options.strict was renamed to lowS");if(k!==void 0&&!["compact","der","js"].includes(k))throw new Error('format must be "compact", "der" or "js"');const T=typeof g=="string"||wL(g),R=!T&&!k&&typeof g=="object"&&g!==null&&typeof g.r=="bigint"&&typeof g.s=="bigint";if(!T&&!R)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let I,f;try{if(R)if(k===void 0||k==="js")I=new m(g.r,g.s);else throw new Error("invalid format");if(T){try{k!=="compact"&&(I=m.fromDER(g))}catch(Se){if(!(Se instanceof xh.Err))throw Se}!I&&k!=="der"&&(I=m.fromCompact(g))}f=t.fromHex(_)}catch{return!1}if(!I||x&&I.hasHighS())return!1;C&&(j=e.hash(j));const{r:S,s:K}=I,D=P(j),J=o.inv(K),ne=o.create(D*J),ie=o.create(S*J),ce=t.BASE.multiplyUnsafe(ne).add(f.multiplyUnsafe(ie));return ce.is0()?!1:o.create(ce.x)===S}return Object.freeze({getPublicKey:E,getSharedSecret:M,sign:N,verify:F,utils:b,Point:t,Signature:m})}function Rnt(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp,n=Kw(e.n,t.nBitLength),i={Fp:r,Fn:n,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function Ont(t){const{CURVE:e,curveOpts:r}=Rnt(t),n={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:r,ecdsaOpts:n}}function jnt(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function Lnt(t){const{CURVE:e,curveOpts:r,ecdsaOpts:n}=Ont(t),i=Pnt(e,r),s=Nnt(i,n,r);return jnt(t,s)}function pN(t,e){const r=n=>Lnt({...t,hash:n});return{...r(e),create:r}}const jde={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},Lde={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},Dde={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},Dnt=Kw(jde.p),Bnt=Kw(Lde.p),Unt=Kw(Dde.p);pN({...jde,Fp:Dnt,lowS:!1},Srt);pN({...Lde,Fp:Bnt,lowS:!1},krt),pN({...Dde,Fp:Unt,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},Crt);function CL(t){return t.includes(":")}function db(t){return CL(t)?t.split(":")[0]:t}const Fnt={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}};function MY(t,e){const{message:r,code:n}=Fnt[t];return{message:e?`${r} ${e}`:r,code:n}}function gI(t,e){return!!Array.isArray(t)}function Vb(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}var yx={exports:{}},PY;function znt(){return PY||(PY=1,(function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof globalThis<"u"&&globalThis,n=(function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s})();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof s<"u"&&s||{},l={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function u(g){return g&&DataView.prototype.isPrototypeOf(g)}if(l.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(g){return g&&c.indexOf(Object.prototype.toString.call(g))>-1};function m(g){if(typeof g!="string"&&(g=String(g)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(g)||g==="")throw new TypeError('Invalid character in header field name: "'+g+'"');return g.toLowerCase()}function y(g){return typeof g!="string"&&(g=String(g)),g}function b(g){var x={next:function(){var C=g.shift();return{done:C===void 0,value:C}}};return l.iterable&&(x[Symbol.iterator]=function(){return x}),x}function E(g){this.map={},g instanceof E?g.forEach(function(x,C){this.append(C,x)},this):Array.isArray(g)?g.forEach(function(x){if(x.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+x.length);this.append(x[0],x[1])},this):g&&Object.getOwnPropertyNames(g).forEach(function(x){this.append(x,g[x])},this)}E.prototype.append=function(g,x){g=m(g),x=y(x);var C=this.map[g];this.map[g]=C?C+", "+x:x},E.prototype.delete=function(g){delete this.map[m(g)]},E.prototype.get=function(g){return g=m(g),this.has(g)?this.map[g]:null},E.prototype.has=function(g){return this.map.hasOwnProperty(m(g))},E.prototype.set=function(g,x){this.map[m(g)]=y(x)},E.prototype.forEach=function(g,x){for(var C in this.map)this.map.hasOwnProperty(C)&&g.call(x,this.map[C],C,this)},E.prototype.keys=function(){var g=[];return this.forEach(function(x,C){g.push(C)}),b(g)},E.prototype.values=function(){var g=[];return this.forEach(function(x){g.push(x)}),b(g)},E.prototype.entries=function(){var g=[];return this.forEach(function(x,C){g.push([C,x])}),b(g)},l.iterable&&(E.prototype[Symbol.iterator]=E.prototype.entries);function A(g){if(!g._noBody){if(g.bodyUsed)return Promise.reject(new TypeError("Already read"));g.bodyUsed=!0}}function M(g){return new Promise(function(x,C){g.onload=function(){x(g.result)},g.onerror=function(){C(g.error)}})}function O(g){var x=new FileReader,C=M(x);return x.readAsArrayBuffer(g),C}function P(g){var x=new FileReader,C=M(x),k=/charset=([A-Za-z0-9_-]+)/.exec(g.type),T=k?k[1]:"utf-8";return x.readAsText(g,T),C}function z(g){for(var x=new Uint8Array(g),C=new Array(x.length),k=0;k<x.length;k++)C[k]=String.fromCharCode(x[k]);return C.join("")}function L(g){if(g.slice)return g.slice(0);var x=new Uint8Array(g.byteLength);return x.set(new Uint8Array(g)),x.buffer}function W(){return this.bodyUsed=!1,this._initBody=function(g){this.bodyUsed=this.bodyUsed,this._bodyInit=g,g?typeof g=="string"?this._bodyText=g:l.blob&&Blob.prototype.isPrototypeOf(g)?this._bodyBlob=g:l.formData&&FormData.prototype.isPrototypeOf(g)?this._bodyFormData=g:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(g)?this._bodyText=g.toString():l.arrayBuffer&&l.blob&&u(g)?(this._bodyArrayBuffer=L(g.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(g)||h(g))?this._bodyArrayBuffer=L(g):this._bodyText=g=Object.prototype.toString.call(g):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof g=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(g)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var g=A(this);if(g)return g;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var g=A(this);return g||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(l.blob)return this.blob().then(O);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var g=A(this);if(g)return g;if(this._bodyBlob)return P(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(z(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(F)}),this.json=function(){return this.text().then(JSON.parse)},this}var H=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function G(g){var x=g.toUpperCase();return H.indexOf(x)>-1?x:g}function N(g,x){if(!(this instanceof N))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');x=x||{};var C=x.body;if(g instanceof N){if(g.bodyUsed)throw new TypeError("Already read");this.url=g.url,this.credentials=g.credentials,x.headers||(this.headers=new E(g.headers)),this.method=g.method,this.mode=g.mode,this.signal=g.signal,!C&&g._bodyInit!=null&&(C=g._bodyInit,g.bodyUsed=!0)}else this.url=String(g);if(this.credentials=x.credentials||this.credentials||"same-origin",(x.headers||!this.headers)&&(this.headers=new E(x.headers)),this.method=G(x.method||this.method||"GET"),this.mode=x.mode||this.mode||null,this.signal=x.signal||this.signal||(function(){if("AbortController"in a){var R=new AbortController;return R.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&C)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(C),(this.method==="GET"||this.method==="HEAD")&&(x.cache==="no-store"||x.cache==="no-cache")){var k=/([?&])_=[^&]*/;if(k.test(this.url))this.url=this.url.replace(k,"$1_="+new Date().getTime());else{var T=/\?/;this.url+=(T.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}N.prototype.clone=function(){return new N(this,{body:this._bodyInit})};function F(g){var x=new FormData;return g.trim().split("&").forEach(function(C){if(C){var k=C.split("="),T=k.shift().replace(/\+/g," "),R=k.join("=").replace(/\+/g," ");x.append(decodeURIComponent(T),decodeURIComponent(R))}}),x}function U(g){var x=new E,C=g.replace(/\r?\n[\t ]+/g," ");return C.split("\r").map(function(k){return k.indexOf(`
`)===0?k.substr(1,k.length):k}).forEach(function(k){var T=k.split(":"),R=T.shift().trim();if(R){var I=T.join(":").trim();try{x.append(R,I)}catch(f){console.warn("Response "+f.message)}}}),x}W.call(N.prototype);function j(g,x){if(!(this instanceof j))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(x||(x={}),this.type="default",this.status=x.status===void 0?200:x.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=x.statusText===void 0?"":""+x.statusText,this.headers=new E(x.headers),this.url=x.url||"",this._initBody(g)}W.call(j.prototype),j.prototype.clone=function(){return new j(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new E(this.headers),url:this.url})},j.error=function(){var g=new j(null,{status:200,statusText:""});return g.ok=!1,g.status=0,g.type="error",g};var _=[301,302,303,307,308];j.redirect=function(g,x){if(_.indexOf(x)===-1)throw new RangeError("Invalid status code");return new j(null,{status:x,headers:{location:g}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(x,C){this.message=x,this.name=C;var k=Error(x);this.stack=k.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function d(g,x){return new Promise(function(C,k){var T=new N(g,x);if(T.signal&&T.signal.aborted)return k(new o.DOMException("Aborted","AbortError"));var R=new XMLHttpRequest;function I(){R.abort()}R.onload=function(){var K={statusText:R.statusText,headers:U(R.getAllResponseHeaders()||"")};T.url.indexOf("file://")===0&&(R.status<200||R.status>599)?K.status=200:K.status=R.status,K.url="responseURL"in R?R.responseURL:K.headers.get("X-Request-URL");var D="response"in R?R.response:R.responseText;setTimeout(function(){C(new j(D,K))},0)},R.onerror=function(){setTimeout(function(){k(new TypeError("Network request failed"))},0)},R.ontimeout=function(){setTimeout(function(){k(new TypeError("Network request timed out"))},0)},R.onabort=function(){setTimeout(function(){k(new o.DOMException("Aborted","AbortError"))},0)};function f(K){try{return K===""&&a.location.href?a.location.href:K}catch{return K}}if(R.open(T.method,f(T.url),!0),T.credentials==="include"?R.withCredentials=!0:T.credentials==="omit"&&(R.withCredentials=!1),"responseType"in R&&(l.blob?R.responseType="blob":l.arrayBuffer&&(R.responseType="arraybuffer")),x&&typeof x.headers=="object"&&!(x.headers instanceof E||a.Headers&&x.headers instanceof a.Headers)){var S=[];Object.getOwnPropertyNames(x.headers).forEach(function(K){S.push(m(K)),R.setRequestHeader(K,y(x.headers[K]))}),T.headers.forEach(function(K,D){S.indexOf(D)===-1&&R.setRequestHeader(D,K)})}else T.headers.forEach(function(K,D){R.setRequestHeader(D,K)});T.signal&&(T.signal.addEventListener("abort",I),R.onreadystatechange=function(){R.readyState===4&&T.signal.removeEventListener("abort",I)}),R.send(typeof T._bodyInit>"u"?null:T._bodyInit)})}return d.polyfill=!0,a.fetch||(a.fetch=d,a.Headers=E,a.Request=N,a.Response=j),o.Headers=E,o.Request=N,o.Response=j,o.fetch=d,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=r.fetch?r:n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(yx,yx.exports)),yx.exports}var Wnt=znt();const NY=ds(Wnt);var qnt=Object.defineProperty,Hnt=Object.defineProperties,Vnt=Object.getOwnPropertyDescriptors,RY=Object.getOwnPropertySymbols,Knt=Object.prototype.hasOwnProperty,Gnt=Object.prototype.propertyIsEnumerable,OY=(t,e,r)=>e in t?qnt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,jY=(t,e)=>{for(var r in e||(e={}))Knt.call(e,r)&&OY(t,r,e[r]);if(RY)for(var r of RY(e))Gnt.call(e,r)&&OY(t,r,e[r]);return t},LY=(t,e)=>Hnt(t,Vnt(e));const Ynt={Accept:"application/json","Content-Type":"application/json"},Znt="POST",DY={headers:Ynt,method:Znt},BY=10;let Iu=class{constructor(e,r=!1){if(this.url=e,this.disableProviderPing=r,this.events=new Pl.EventEmitter,this.isAvailable=!1,this.registering=!1,!HK(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const r=Vh(e),n=await(await NY(this.url,LY(jY({},DY),{body:r}))).json();this.onPayload({data:n})}catch(r){this.onError(e.id,r)}}async register(e=this.url){if(!HK(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));n()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const r=Vh({id:1,jsonrpc:"2.0",method:"test",params:[]});await NY(e,LY(jY({},DY),{body:r}))}this.onOpen()}catch(r){const n=this.parseError(r);throw this.events.emit("register_error",n),this.onClose(),n}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Hg(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=H9(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return Mce(e,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>BY&&this.events.setMaxListeners(BY)}};const UY="error",Qnt="wss://relay.walletconnect.org",Jnt="wc",Xnt="universal_provider",wx=`${Jnt}@2:${Xnt}:`,Bde="https://rpc.walletconnect.org/v1/",Ude="generic",eit=`${Bde}bundler`,_c={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function kL(t){return t==null||typeof t!="object"&&typeof t!="function"}function Fde(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function zde(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const tit="[object RegExp]",Wde="[object String]",qde="[object Number]",Hde="[object Boolean]",Vde="[object Arguments]",rit="[object Symbol]",nit="[object Date]",iit="[object Map]",sit="[object Set]",oit="[object Array]",ait="[object ArrayBuffer]",lit="[object Object]",cit="[object DataView]",uit="[object Uint8Array]",dit="[object Uint8ClampedArray]",hit="[object Uint16Array]",fit="[object Uint32Array]",pit="[object Int8Array]",git="[object Int16Array]",mit="[object Int32Array]",yit="[object Float32Array]",wit="[object Float64Array]";function IL(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function vit(t,e){return cy(t,void 0,t,new Map,e)}function cy(t,e,r,n=new Map,i=void 0){const s=i?.(t,e,r,n);if(s!=null)return s;if(kL(t))return t;if(n.has(t))return n.get(t);if(Array.isArray(t)){const o=new Array(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=cy(t[a],a,r,n,i);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;n.set(t,o);for(const[a,l]of t)o.set(a,cy(l,a,r,n,i));return o}if(t instanceof Set){const o=new Set;n.set(t,o);for(const a of t)o.add(cy(a,void 0,r,n,i));return o}if(typeof kt<"u"&&kt.isBuffer(t))return t.subarray();if(IL(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=cy(t[a],a,r,n,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return n.set(t,o),Qp(o,t,r,n,i),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return n.set(t,o),Qp(o,t,r,n,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return n.set(t,o),Qp(o,t,r,n,i),o}if(t instanceof Error){const o=new t.constructor;return n.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,Qp(o,t,r,n,i),o}if(typeof t=="object"&&bit(t)){const o=Object.create(Object.getPrototypeOf(t));return n.set(t,o),Qp(o,t,r,n,i),o}return t}function Qp(t,e,r=t,n,i){const s=[...Object.keys(e),...Fde(e)];for(let o=0;o<s.length;o++){const a=s[o],l=Object.getOwnPropertyDescriptor(t,a);(l==null||l.writable)&&(t[a]=cy(e[a],a,r,n,i))}}function bit(t){switch(zde(t)){case Vde:case oit:case ait:case cit:case Hde:case nit:case yit:case wit:case pit:case git:case mit:case iit:case qde:case lit:case tit:case sit:case Wde:case rit:case uit:case dit:case hit:case fit:return!0;default:return!1}}function xit(t,e){return vit(t,(r,n,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case qde:case Wde:case Hde:{const o=new t.constructor(t?.valueOf());return Qp(o,t),o}case Vde:{const o={};return Qp(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function FY(t){return xit(t)}function zY(t){return t!==null&&typeof t=="object"&&zde(t)==="[object Arguments]"}function WY(t){return typeof t=="object"&&t!==null}function Eit(){}function _it(t){return IL(t)}function Ait(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Sit(t){if(kL(t))return t;if(Array.isArray(t)||IL(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),r=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new r(t);if(t instanceof RegExp){const n=new r(t);return n.lastIndex=t.lastIndex,n}if(t instanceof DataView)return new r(t.buffer.slice(0));if(t instanceof Error){const n=new r(t.message);return n.stack=t.stack,n.name=t.name,n.cause=t.cause,n}if(typeof File<"u"&&t instanceof File)return new r([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const n=Object.create(e);return Object.assign(n,t)}return t}function Cit(t,...e){const r=e.slice(0,-1),n=e[e.length-1];let i=t;for(let s=0;s<r.length;s++){const o=r[s];i=gN(i,o,n,new Map)}return i}function gN(t,e,r,n){if(kL(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(n.has(e))return Sit(n.get(e));if(n.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...Fde(e)];for(let s=0;s<i.length;s++){const o=i[s];let a=e[o],l=t[o];if(zY(a)&&(a={...a}),zY(l)&&(l={...l}),typeof kt<"u"&&kt.isBuffer(a)&&(a=FY(a)),Array.isArray(a))if(typeof l=="object"&&l!=null){const c=[],h=Reflect.ownKeys(l);for(let m=0;m<h.length;m++){const y=h[m];c[y]=l[y]}l=c}else l=[];const u=r(l,a,o,t,e,n);u!=null?t[o]=u:Array.isArray(a)||WY(l)&&WY(a)?t[o]=gN(l,a,r,n):l==null&&Ait(a)?t[o]=gN({},a,r,n):l==null&&_it(a)?t[o]=FY(a):(l===void 0||a!==void 0)&&(t[o]=a)}return t}function kit(t,...e){return Cit(t,...e,Eit)}var Iit=Object.defineProperty,Tit=Object.defineProperties,$it=Object.getOwnPropertyDescriptors,qY=Object.getOwnPropertySymbols,Mit=Object.prototype.hasOwnProperty,Pit=Object.prototype.propertyIsEnumerable,HY=(t,e,r)=>e in t?Iit(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,vx=(t,e)=>{for(var r in e||(e={}))Mit.call(e,r)&&HY(t,r,e[r]);if(qY)for(var r of qY(e))Pit.call(e,r)&&HY(t,r,e[r]);return t},Nit=(t,e)=>Tit(t,$it(e));function Il(t,e,r){var n;const i=aN(t);return((n=e.rpcMap)==null?void 0:n[i.reference])||`${Bde}?chainId=${i.namespace}:${i.reference}&projectId=${r}`}function xm(t){return t.includes(":")?t.split(":")[1]:t}function Kde(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function Rit(t,e){const r=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!r.length)return[];const n=[];return r.forEach(i=>{const s=e.namespaces[i].accounts;n.push(...s)}),n}function VY(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>{var n,i;return((n=r?.chains)==null?void 0:n.length)&&((i=r?.chains)==null?void 0:i.length)>0}))}function bx(t={},e={}){const r=VY(KY(t)),n=VY(KY(e));return kit(r,n)}function KY(t){var e,r,n,i,s;const o={};if(!Vb(t))return o;for(const[a,l]of Object.entries(t)){const u=CL(a)?[a]:l.chains,c=l.methods||[],h=l.events||[],m=l.rpcMap||{},y=db(a);o[y]=Nit(vx(vx({},o[y]),l),{chains:lI(u,(e=o[y])==null?void 0:e.chains),methods:lI(c,(r=o[y])==null?void 0:r.methods),events:lI(h,(n=o[y])==null?void 0:n.events)}),(Vb(m)||Vb(((i=o[y])==null?void 0:i.rpcMap)||{}))&&(o[y].rpcMap=vx(vx({},m),(s=o[y])==null?void 0:s.rpcMap))}return o}function GY(t){return t.includes(":")?t.split(":")[2]:t}function YY(t){const e={};for(const[r,n]of Object.entries(t)){const i=n.methods||[],s=n.events||[],o=n.accounts||[],a=CL(r)?[r]:n.chains?n.chains:Kde(n.accounts);e[r]={chains:a,methods:i,events:s,accounts:o}}return e}function mI(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const Gde={},Sn=t=>Gde[t],yI=(t,e)=>{Gde[t]=e};var Oit=Object.defineProperty,ZY=Object.getOwnPropertySymbols,jit=Object.prototype.hasOwnProperty,Lit=Object.prototype.propertyIsEnumerable,QY=(t,e,r)=>e in t?Oit(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,JY=(t,e)=>{for(var r in e||(e={}))jit.call(e,r)&&QY(t,r,e[r]);if(ZY)for(var r of ZY(e))Lit.call(e,r)&&QY(t,r,e[r]);return t};const XY="eip155",Dit=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],Bit=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,wI=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,eZ=t=>Object.keys(t).filter(e=>Dit.includes(e)).reduce((e,r)=>(e[r]=t[r],e),{}),Uit=(t,e,r)=>{const{sessionProperties:n={},scopedProperties:i={}}=t,s={};if(!Vb(i)&&!Vb(n))return;const o=eZ(n);for(const a of r){const l=Bit(a);if(!l)continue;s[wI(l)]=o;const u=i?.[`${XY}:${l}`];if(u){const c=u?.[`${XY}:${l}:${e}`];s[wI(l)]=JY(JY({},s[wI(l)]),eZ(c||u))}}for(const[a,l]of Object.entries(s))Object.keys(l).length===0&&delete s[a];return Object.keys(s).length>0?s:void 0};var Fit=Object.defineProperty,zit=(t,e,r)=>e in t?Fit(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,N1=(t,e,r)=>zit(t,typeof e!="symbol"?e+"":e,r);let Wit=class{constructor(e){N1(this,"name","polkadot"),N1(this,"client"),N1(this,"httpProviders"),N1(this,"events"),N1(this,"namespace"),N1(this,"chainId"),this.namespace=e.namespace,this.events=Sn("events"),this.client=Sn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(_c.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=xm(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Il(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ec(new Iu(n,Sn("disableProviderPing")))}};var qit=Object.defineProperty,Hit=Object.defineProperties,Vit=Object.getOwnPropertyDescriptors,tZ=Object.getOwnPropertySymbols,Kit=Object.prototype.hasOwnProperty,Git=Object.prototype.propertyIsEnumerable,mN=(t,e,r)=>e in t?qit(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,rZ=(t,e)=>{for(var r in e||(e={}))Kit.call(e,r)&&mN(t,r,e[r]);if(tZ)for(var r of tZ(e))Git.call(e,r)&&mN(t,r,e[r]);return t},nZ=(t,e)=>Hit(t,Vit(e)),R1=(t,e,r)=>mN(t,typeof e!="symbol"?e+"":e,r);class Yit{constructor(e){R1(this,"name","eip155"),R1(this,"client"),R1(this,"chainId"),R1(this,"namespace"),R1(this,"httpProviders"),R1(this,"events"),this.namespace=e.namespace,this.events=Sn("events"),this.client=Sn("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(parseInt(e),r),this.chainId=parseInt(e),this.events.emit(_c.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,r){const n=r||Il(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ec(new Iu(n,Sn("disableProviderPing")))}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=parseInt(xm(r));e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}async handleSwitchChain(e){var r,n;let i=e.request.params?(r=e.request.params[0])==null?void 0:r.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(n=this.namespace.chains)==null?void 0:n[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var r,n,i,s,o;const a=(n=(r=e.request)==null?void 0:r.params)==null?void 0:n[0],l=((s=(i=e.request)==null?void 0:i.params)==null?void 0:s[1])||[];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const u=this.client.session.get(e.topic),c=((o=u?.sessionProperties)==null?void 0:o.capabilities)||{},h=`${a}${l.join(",")}`,m=c?.[h];if(m)return m;let y;try{y=Uit(u,a,l)}catch(E){console.warn("Failed to extract capabilities from session",E)}if(y)return y;const b=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:nZ(rZ({},u.sessionProperties||{}),{capabilities:nZ(rZ({},c||{}),{[h]:b})})})}catch(E){console.warn("Failed to update session with capabilities",E)}return b}async getCallStatus(e){var r,n;const i=this.client.session.get(e.topic),s=(r=i.sessionProperties)==null?void 0:r.bundler_name;if(s){const a=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(a,e)}catch(l){console.warn("Failed to fetch call status from bundler",l,a)}}const o=(n=i.sessionProperties)==null?void 0:n.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,r){var n;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(hd("eth_getUserOperationReceipt",[(n=r.request.params)==null?void 0:n[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,r){return`${eit}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${r}`}}var Zit=Object.defineProperty,Qit=(t,e,r)=>e in t?Zit(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,O1=(t,e,r)=>Qit(t,typeof e!="symbol"?e+"":e,r);class Jit{constructor(e){O1(this,"name","solana"),O1(this,"client"),O1(this,"httpProviders"),O1(this,"events"),O1(this,"namespace"),O1(this,"chainId"),this.namespace=e.namespace,this.events=Sn("events"),this.client=Sn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(_c.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=xm(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Il(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ec(new Iu(n,Sn("disableProviderPing")))}}var Xit=Object.defineProperty,est=(t,e,r)=>e in t?Xit(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,j1=(t,e,r)=>est(t,typeof e!="symbol"?e+"":e,r);let tst=class{constructor(e){j1(this,"name","cosmos"),j1(this,"client"),j1(this,"httpProviders"),j1(this,"events"),j1(this,"namespace"),j1(this,"chainId"),this.namespace=e.namespace,this.events=Sn("events"),this.client=Sn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(_c.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=xm(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Il(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ec(new Iu(n,Sn("disableProviderPing")))}};var rst=Object.defineProperty,nst=(t,e,r)=>e in t?rst(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,L1=(t,e,r)=>nst(t,typeof e!="symbol"?e+"":e,r);class ist{constructor(e){L1(this,"name","algorand"),L1(this,"client"),L1(this,"httpProviders"),L1(this,"events"),L1(this,"namespace"),L1(this,"chainId"),this.namespace=e.namespace,this.events=Sn("events"),this.client=Sn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(!this.httpProviders[e]){const n=r||Il(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.chainId=e,this.events.emit(_c.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Il(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new Ec(new Iu(n,Sn("disableProviderPing")))}}var sst=Object.defineProperty,ost=(t,e,r)=>e in t?sst(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,D1=(t,e,r)=>ost(t,typeof e!="symbol"?e+"":e,r);let ast=class{constructor(e){D1(this,"name","cip34"),D1(this,"client"),D1(this,"httpProviders"),D1(this,"events"),D1(this,"namespace"),D1(this,"chainId"),this.namespace=e.namespace,this.events=Sn("events"),this.client=Sn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(_c.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{const n=this.getCardanoRPCUrl(r),i=xm(r);e[i]=this.createHttpProvider(i,n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}getCardanoRPCUrl(e){const r=this.namespace.rpcMap;if(r)return r[e]}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||this.getCardanoRPCUrl(e);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ec(new Iu(n,Sn("disableProviderPing")))}};var lst=Object.defineProperty,cst=(t,e,r)=>e in t?lst(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,B1=(t,e,r)=>cst(t,typeof e!="symbol"?e+"":e,r);let ust=class{constructor(e){B1(this,"name","elrond"),B1(this,"client"),B1(this,"httpProviders"),B1(this,"events"),B1(this,"namespace"),B1(this,"chainId"),this.namespace=e.namespace,this.events=Sn("events"),this.client=Sn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(_c.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=xm(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Il(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ec(new Iu(n,Sn("disableProviderPing")))}};var dst=Object.defineProperty,hst=(t,e,r)=>e in t?dst(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,U1=(t,e,r)=>hst(t,typeof e!="symbol"?e+"":e,r);let fst=class{constructor(e){U1(this,"name","multiversx"),U1(this,"client"),U1(this,"httpProviders"),U1(this,"events"),U1(this,"namespace"),U1(this,"chainId"),this.namespace=e.namespace,this.events=Sn("events"),this.client=Sn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(_c.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=xm(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Il(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ec(new Iu(n,Sn("disableProviderPing")))}};var pst=Object.defineProperty,gst=(t,e,r)=>e in t?pst(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,F1=(t,e,r)=>gst(t,typeof e!="symbol"?e+"":e,r);let mst=class{constructor(e){F1(this,"name","near"),F1(this,"client"),F1(this,"httpProviders"),F1(this,"events"),F1(this,"namespace"),F1(this,"chainId"),this.namespace=e.namespace,this.events=Sn("events"),this.client=Sn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||Il(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(_c.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Il(e,this.namespace);return typeof n>"u"?void 0:new Ec(new Iu(n,Sn("disableProviderPing")))}};var yst=Object.defineProperty,wst=(t,e,r)=>e in t?yst(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,z1=(t,e,r)=>wst(t,typeof e!="symbol"?e+"":e,r);let vst=class{constructor(e){z1(this,"name","tezos"),z1(this,"client"),z1(this,"httpProviders"),z1(this,"events"),z1(this,"namespace"),z1(this,"chainId"),this.namespace=e.namespace,this.events=Sn("events"),this.client=Sn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||Il(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(_c.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{e[r]=this.createHttpProvider(r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Il(e,this.namespace);return typeof n>"u"?void 0:new Ec(new Iu(n))}};var bst=Object.defineProperty,xst=(t,e,r)=>e in t?bst(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,W1=(t,e,r)=>xst(t,typeof e!="symbol"?e+"":e,r);let Est=class{constructor(e){W1(this,"name",Ude),W1(this,"client"),W1(this,"httpProviders"),W1(this,"events"),W1(this,"namespace"),W1(this,"chainId"),this.namespace=e.namespace,this.events=Sn("events"),this.client=Sn("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(_c.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return aN(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){var e,r;const n={};return(r=(e=this.namespace)==null?void 0:e.accounts)==null||r.forEach(i=>{const s=aN(i);n[s.reference]=this.createHttpProvider(i)}),n}getHttpProvider(e){const r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Il(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ec(new Iu(n,Sn("disableProviderPing")))}};var _st=Object.defineProperty,Ast=Object.defineProperties,Sst=Object.getOwnPropertyDescriptors,iZ=Object.getOwnPropertySymbols,Cst=Object.prototype.hasOwnProperty,kst=Object.prototype.propertyIsEnumerable,yN=(t,e,r)=>e in t?_st(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xx=(t,e)=>{for(var r in e||(e={}))Cst.call(e,r)&&yN(t,r,e[r]);if(iZ)for(var r of iZ(e))kst.call(e,r)&&yN(t,r,e[r]);return t},vI=(t,e)=>Ast(t,Sst(e)),Hl=(t,e,r)=>yN(t,typeof e!="symbol"?e+"":e,r);let Ist=class Yde{constructor(e){Hl(this,"client"),Hl(this,"namespaces"),Hl(this,"optionalNamespaces"),Hl(this,"sessionProperties"),Hl(this,"scopedProperties"),Hl(this,"events",new Aj),Hl(this,"rpcProviders",{}),Hl(this,"session"),Hl(this,"providerOpts"),Hl(this,"logger"),Hl(this,"uri"),Hl(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:Y5(j9({level:e?.logger||UY})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const r=new Yde(e);return await r.initialize(),r}async request(e,r,n){const[i,s]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:xx({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:n})}sendAsync(e,r,n,i){const s=new Date().getTime();this.request(e,n,i).then(o=>r(null,n5(s,o))).catch(o=>r(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:MY("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,r){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:n,response:i}=await this.client.authenticate(e,r);n&&(this.uri=n,this.events.emit("display_uri",n));const s=await i();if(this.session=s.session,this.session){const o=YY(this.session.namespaces);this.namespaces=bx(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}removeListener(e,r){this.events.removeListener(e,r)}off(e,r){this.events.off(e,r)}get isWalletConnect(){return!0}async pair(e){const{uri:r,approval:n}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});r&&(this.uri=r,this.events.emit("display_uri",r));const i=await n();this.session=i;const s=YY(i.namespaces);return this.namespaces=bx(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,r){try{if(!this.session)return;const[n,i]=this.validateChain(e);this.getProvider(n).setDefaultChain(i,r)}catch(n){if(!/Please call connect/.test(n.message))throw n}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const r=this.client.pairing.getAll();if(!gI(r))return;for(const n of r)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}catch(r){this.logger.warn("Failed to cleanup pending pairings",r)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,r;if(this.client=this.providerOpts.client||await qtt.init({core:this.providerOpts.core,logger:this.providerOpts.logger||UY,relayUrl:this.providerOpts.relayUrl||Qnt,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(n){throw this.logger.error("Failed to get session",n),new Error(`The provided session: ${(r=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:r.topic} doesn't exist in the Sign client`)}else{const n=this.client.session.getAll();this.session=n[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(r=>db(r)))];yI("client",this.client),yI("events",this.events),yI("disableProviderPing",this.disableProviderPing),e.forEach(r=>{if(!this.session)return;const n=Rit(r,this.session);if(n?.length===0)return;const i=Kde(n),s=bx(this.namespaces,this.optionalNamespaces),o=vI(xx({},s[r]),{accounts:n,chains:i});switch(r){case"eip155":this.rpcProviders[r]=new Yit({namespace:o});break;case"algorand":this.rpcProviders[r]=new ist({namespace:o});break;case"solana":this.rpcProviders[r]=new Jit({namespace:o});break;case"cosmos":this.rpcProviders[r]=new tst({namespace:o});break;case"polkadot":this.rpcProviders[r]=new Wit({namespace:o});break;case"cip34":this.rpcProviders[r]=new ast({namespace:o});break;case"elrond":this.rpcProviders[r]=new ust({namespace:o});break;case"multiversx":this.rpcProviders[r]=new fst({namespace:o});break;case"near":this.rpcProviders[r]=new mst({namespace:o});break;case"tezos":this.rpcProviders[r]=new vst({namespace:o});break;default:this.rpcProviders[r]=new Est({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var r;const{topic:n}=e;n===((r=this.session)==null?void 0:r.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var r;const{params:n,topic:i}=e;if(i!==((r=this.session)==null?void 0:r.topic))return;const{event:s}=n;if(s.name==="accountsChanged"){const o=s.data;o&&gI(o)&&this.events.emit("accountsChanged",o.map(GY))}else if(s.name==="chainChanged"){const o=n.chainId,a=n.event.data,l=db(o),u=mI(o)!==mI(a)?`${l}:${mI(a)}`:o;this.onChainChanged(u)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:r})=>{var n,i;if(e!==((n=this.session)==null?void 0:n.topic))return;const{namespaces:s}=r,o=(i=this.client)==null?void 0:i.session.get(e);this.session=vI(xx({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:r})}),this.client.on("session_delete",async e=>{var r;e.topic===((r=this.session)==null?void 0:r.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",vI(xx({},MY("USER_DISCONNECTED")),{data:e.topic})))}),this.on(_c.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[Ude]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var r;this.getProvider(e).updateNamespace((r=this.session)==null?void 0:r.namespaces[e])})}setNamespaces(e){const{namespaces:r={},optionalNamespaces:n={},sessionProperties:i,scopedProperties:s}=e;this.optionalNamespaces=bx(r,n),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[r,n]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,n];if(r&&!Object.keys(this.namespaces||{}).map(o=>db(o)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&n)return[r,n];const i=db(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,r=!1){if(!this.namespaces)return;const[n,i]=this.validateChain(e);if(!i)return;this.updateNamespaceChain(n,i);const s=this.getProvider(n).getDefaultChain();r?(this.events.emit("chainChanged",i),this.emitAccountsChangedOnChainChange({namespace:n,previousChainId:s,newChainId:e})):this.getProvider(n).setDefaultChain(i),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:r,newChainId:n}){var i,s;try{if(r===n)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!o)return;const a=o.filter(l=>l.includes(`${n}:`)).map(GY);if(!gI(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,r){if(!this.namespaces)return;const n=this.namespaces[e]?e:`${e}:${r}`,i={chains:[],methods:[],events:[],defaultChain:r};this.namespaces[n]?this.namespaces[n]&&(this.namespaces[n].defaultChain=r):this.namespaces[n]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,r){var n;const i=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.setItem(`${wx}/${e}${i}`,r)}async getFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";return await this.client.core.storage.getItem(`${wx}/${e}${n}`)}async deleteFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.removeItem(`${wx}/${e}${n}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const r=await this.client.core.storage.getKeys();for(const n of r)n.startsWith(wx)&&await this.client.core.storage.removeItem(n)}catch(r){this.logger.warn("Failed to cleanup storage",r)}}};const Tst=Ist,$st="wc",Mst="ethereum_provider",Pst=`${$st}@2:${Mst}:`,Nst="https://rpc.walletconnect.org/v1/",wN=["eth_sendTransaction","personal_sign"],Zde=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],vN=["chainChanged","accountsChanged"],Qde=["chainChanged","accountsChanged","message","disconnect","connect"],Rst=async()=>{const{createAppKit:t}=await Da(()=>import("./core-CLmT_xQE.js").then(e=>e.G),[]);return t};var Ost=Object.defineProperty,jst=Object.defineProperties,Lst=Object.getOwnPropertyDescriptors,sZ=Object.getOwnPropertySymbols,Dst=Object.prototype.hasOwnProperty,Bst=Object.prototype.propertyIsEnumerable,bN=(t,e,r)=>e in t?Ost(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Wp=(t,e)=>{for(var r in e||(e={}))Dst.call(e,r)&&bN(t,r,e[r]);if(sZ)for(var r of sZ(e))Bst.call(e,r)&&bN(t,r,e[r]);return t},lv=(t,e)=>jst(t,Lst(e)),rl=(t,e,r)=>bN(t,typeof e!="symbol"?e+"":e,r);function DE(t){return Number(t[0].split(":")[1])}function Ex(t){return`0x${t.toString(16)}`}function Ust(t){const{chains:e,optionalChains:r,methods:n,optionalMethods:i,events:s,optionalEvents:o,rpcMap:a}=t;if(!vP(e))throw new Error("Invalid chains");const l={chains:e,methods:n||wN,events:s||vN,rpcMap:Wp({},e.length?{[DE(e)]:a[DE(e)]}:{})},u=s?.filter(y=>!vN.includes(y)),c=n?.filter(y=>!wN.includes(y));if(!r&&!o&&!i&&!(u!=null&&u.length)&&!(c!=null&&c.length))return{required:e.length?l:void 0};const h=u?.length&&c?.length||!r,m={chains:[...new Set(h?l.chains.concat(r||[]):r)],methods:[...new Set(l.methods.concat(i!=null&&i.length?i:Zde))],events:[...new Set(l.events.concat(o!=null&&o.length?o:Qde))],rpcMap:a};return{required:e.length?l:void 0,optional:r.length?m:void 0}}class TL{constructor(){rl(this,"events",new Pl.EventEmitter),rl(this,"namespace","eip155"),rl(this,"accounts",[]),rl(this,"signer"),rl(this,"chainId",1),rl(this,"modal"),rl(this,"rpc"),rl(this,"STORAGE_KEY",Pst),rl(this,"on",(e,r)=>(this.events.on(e,r),this)),rl(this,"once",(e,r)=>(this.events.once(e,r),this)),rl(this,"removeListener",(e,r)=>(this.events.removeListener(e,r),this)),rl(this,"off",(e,r)=>(this.events.off(e,r),this)),rl(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){const r=new TL;return await r.initialize(e),r}async request(e,r){return await this.signer.request(e,this.formatChainId(this.chainId),r)}sendAsync(e,r,n){this.signer.sendAsync(e,r,this.formatChainId(this.chainId),n)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var r;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:n,optional:i}=Ust(this.rpc);try{const s=await new Promise(async(a,l)=>{var u,c;this.rpc.showQrModal&&((u=this.modal)==null||u.open(),(c=this.modal)==null||c.subscribeState(m=>{!m.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),l(new Error("Connection request reset. Please try again.")))}));const h=e!=null&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(lv(Wp({namespaces:Wp({},n&&{[this.namespace]:n})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:e?.pairingTopic,scopedProperties:h})).then(m=>{a(m)}).catch(m=>{var y;(y=this.modal)==null||y.showErrorMessage("Unable to connect"),l(new Error(m.message))})});if(!s)return;const o=PV(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:Ex(this.chainId)})}catch(s){throw this.signer.logger.error(s),s}finally{(r=this.modal)==null||r.close()}}async authenticate(e,r){var n;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e?.chains});try{const i=await new Promise(async(o,a)=>{var l,u;this.rpc.showQrModal&&((l=this.modal)==null||l.open(),(u=this.modal)==null||u.subscribeState(c=>{!c.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),a(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(lv(Wp({},e),{chains:this.rpc.chains}),r).then(c=>{o(c)}).catch(c=>{var h;(h=this.modal)==null||h.showErrorMessage("Unable to connect"),a(new Error(c.message))})}),s=i.session;if(s){const o=PV(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:Ex(this.chainId)})}return i}catch(i){throw this.signer.logger.error(i),i}finally{(n=this.modal)==null||n.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:r}=e,{event:n}=r;n.name==="accountsChanged"?(this.accounts=this.parseAccounts(n.data),this.events.emit("accountsChanged",this.accounts)):n.name==="chainChanged"?this.setChainId(this.formatChainId(n.data)):this.events.emit(n.name,n.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{const r=parseInt(e);this.chainId=r,this.events.emit("chainChanged",Ex(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",lv(Wp({},Oze("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const r=e.filter(n=>this.isCompatibleChainId(n)).map(n=>this.parseChainId(n));r.length&&(this.chainId=r[0],this.events.emit("chainChanged",Ex(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const r=this.parseChainId(e);this.chainId=r,this.switchEthereumChain(r)}}parseAccountId(e){const[r,n,i]=e.split(":");return{chainId:`${r}:${n}`,address:i}}setAccounts(e){this.accounts=e.filter(r=>this.parseChainId(this.parseAccountId(r).chainId)===this.chainId).map(r=>this.parseAccountId(r).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var r,n;const i=(r=e?.chains)!=null?r:[],s=(n=e?.optionalChains)!=null?n:[],o=i.concat(s);if(!o.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const a=i.length?e?.methods||wN:[],l=i.length?e?.events||vN:[],u=e?.optionalMethods||[],c=e?.optionalEvents||[],h=e?.rpcMap||this.buildRpcMap(o,e.projectId),m=e?.qrModalOptions||void 0;return{chains:i?.map(y=>this.formatChainId(y)),optionalChains:s.map(y=>this.formatChainId(y)),methods:a,events:l,optionalMethods:u,optionalEvents:c,rpcMap:h,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:m,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,r){const n={};return e.forEach(i=>{n[i]=this.getRpcUrl(i,r)}),n}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?DE(this.rpc.chains):DE(this.rpc.optionalChains),this.signer=await Tst.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let r;try{const n=await Rst(),{convertWCMToAppKitOptions:i}=await Promise.resolve().then(function(){return Qst}),s=i(lv(Wp({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!s.networks.length)throw new Error("No networks found for WalletConnect·");r=n(lv(Wp({},s),{universalProvider:this.signer,manualWCControl:!0}))}catch(n){throw console.warn(n),new Error("To use QR modal, please install @reown/appkit package")}if(r)try{this.modal=r}catch(n){throw this.signer.logger.error(n),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:r,optionalChains:n,rpcMap:i}=e;r&&vP(r)&&(this.rpc.chains=r.map(s=>this.formatChainId(s)),r.forEach(s=>{this.rpc.rpcMap[s]=i?.[s]||this.getRpcUrl(s)})),n&&vP(n)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=n?.map(s=>this.formatChainId(s)),n.forEach(s=>{this.rpc.rpcMap[s]=i?.[s]||this.getRpcUrl(s)}))}getRpcUrl(e,r){var n;return((n=this.rpc.rpcMap)==null?void 0:n[e])||`${Nst}?chainId=eip155:${e}&projectId=${r||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),r=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:r?.accounts),this.setAccounts(r?.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(r=>this.signer.logger.warn(r))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(r=>this.parseAccount(r))}}const Fst=TL;var zst=Object.defineProperty,Wst=Object.defineProperties,qst=Object.getOwnPropertyDescriptors,oZ=Object.getOwnPropertySymbols,Hst=Object.prototype.hasOwnProperty,Vst=Object.prototype.propertyIsEnumerable,aZ=(t,e,r)=>e in t?zst(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Jde=(t,e)=>{for(var r in e||(e={}))Hst.call(e,r)&&aZ(t,r,e[r]);if(oZ)for(var r of oZ(e))Vst.call(e,r)&&aZ(t,r,e[r]);return t},Kst=(t,e)=>Wst(t,qst(e));function Gst(t){if(t)return{"--w3m-font-family":t["--wcm-font-family"],"--w3m-accent":t["--wcm-accent-color"],"--w3m-color-mix":t["--wcm-background-color"],"--w3m-z-index":t["--wcm-z-index"]?Number(t["--wcm-z-index"]):void 0,"--w3m-qr-color":t["--wcm-accent-color"],"--w3m-font-size-master":t["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":t["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const Yst=t=>{const[e,r]=t.split(":");return Xde({id:r,caipNetworkId:t,chainNamespace:e,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function Zst(t){var e,r,n,i,s,o,a;const l=(e=t.chains)==null?void 0:e.map(Yst).filter(Boolean);if(l.length===0)throw new Error("At least one chain must be specified");const u=l.find(h=>{var m;return h.id===((m=t.defaultChain)==null?void 0:m.id)}),c={projectId:t.projectId,networks:l,themeMode:t.themeMode,themeVariables:Gst(t.themeVariables),chainImages:t.chainImages,connectorImages:t.walletImages,defaultNetwork:u,metadata:Kst(Jde({},t.metadata),{name:((r=t.metadata)==null?void 0:r.name)||"WalletConnect",description:((n=t.metadata)==null?void 0:n.description)||"Connect to WalletConnect-compatible wallets",url:((i=t.metadata)==null?void 0:i.url)||"https://walletconnect.org",icons:((s=t.metadata)==null?void 0:s.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:t.explorerRecommendedWalletIds==="NONE"?[]:Array.isArray(t.explorerRecommendedWalletIds)?t.explorerRecommendedWalletIds:[],excludeWalletIds:t.explorerExcludedWalletIds==="ALL"?[]:Array.isArray(t.explorerExcludedWalletIds)?t.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if((o=t.mobileWallets)!=null&&o.length||(a=t.desktopWallets)!=null&&a.length){const h=[...(t.mobileWallets||[]).map(b=>({id:b.id,name:b.name,links:b.links})),...(t.desktopWallets||[]).map(b=>({id:b.id,name:b.name,links:{native:b.links.native,universal:b.links.universal}}))],m=[...c.featuredWalletIds||[],...c.excludeWalletIds||[]],y=h.filter(b=>!m.includes(b.id));y.length&&(c.customWallets=y)}return c}function Xde(t){return Jde({formatters:void 0,fees:void 0,serializers:void 0},t)}var Qst=Object.freeze({__proto__:null,convertWCMToAppKitOptions:Zst,defineChain:Xde}),bI,lZ;function Jst(){if(lZ)return bI;lZ=1;var t=function(o,a){return Math.round(a*Math.log(o)/Math.LN2)},e=[{name:"lowercase",re:/[a-z]/,length:26},{name:"uppercase",re:/[A-Z]/,length:26},{name:"numbers",re:/[0-9]/,length:10},{name:"symbols",re:/[^a-zA-Z0-9]/,length:33}],r=function(o){return function(a){return o.reduce(function(l,u){return l+(u.re.test(a)?u.length:0)},0)}},n=r(e),i=function(o){return o?t(n(o),o.length):0};return bI=i,bI}var Xst=Jst();const eot=ds(Xst);function ehe(t){return crypto.getRandomValues(new Uint8Array(t))}const tot=256,Kb=65536;function rot(){const[t]=ehe(1);return t}function not(){const[t,e]=ehe(2);return(t<<8)+e}function iot(t){if(typeof t!="number"||t<2||t>Kb)throw new Error(`Invalid number: number must be at least two and at most ${Kb}`);const e=t>256,r=e?Kb:tot,n=e?not:rot,i=t*Math.floor(r/t);for(;;){const s=n();if(s<i)return s%t}}function sot(t,e,r){if(typeof r!="number"||r>Kb)throw new Error(`Invalid argument: end must be a number less than or equal to ${Kb}`);if(r-e<2)throw new Error("Invalid range: range must contain at least two values");const n=[];for(let i=0;i<t;i++)n[i]=e+iot(r-e);return n}function oot(t,e,r="-"){if(!Array.isArray(e)||e.length<2)throw new Error("Invalid argument: wordlist argument must be an array with length greater than or equal to 2");if(typeof r!="string")throw new Error("Invalid argument: sep argument must be a string");return sot(t,0,e.length).reduce((n,i,s)=>{const o=e[i];return n+(s===0?o:r+o)},"")}const aot=Object.freeze(["abacus","abdomen","abdominal","abide","abiding","ability","ablaze","able","abnormal","abrasion","abrasive","abreast","abridge","abroad","abruptly","absence","absentee","absently","absinthe","absolute","absolve","abstain","abstract","absurd","accent","acclaim","acclimate","accompany","account","accuracy","accurate","accustom","acetone","achiness","aching","acid","acorn","acquaint","acquire","acre","acrobat","acronym","acting","action","activate","activator","active","activism","activist","activity","actress","acts","acutely","acuteness","aeration","aerobics","aerosol","aerospace","afar","affair","affected","affecting","affection","affidavit","affiliate","affirm","affix","afflicted","affluent","afford","affront","aflame","afloat","aflutter","afoot","afraid","afterglow","afterlife","aftermath","aftermost","afternoon","aged","ageless","agency","agenda","agent","aggregate","aghast","agile","agility","aging","agnostic","agonize","agonizing","agony","agreeable","agreeably","agreed","agreeing","agreement","aground","ahead","ahoy","aide","aids","aim","ajar","alabaster","alarm","albatross","album","alfalfa","algebra","algorithm","alias","alibi","alienable","alienate","aliens","alike","alive","alkaline","alkalize","almanac","almighty","almost","aloe","aloft","aloha","alone","alongside","aloof","alphabet","alright","although","altitude","alto","aluminum","alumni","always","amaretto","amaze","amazingly","amber","ambiance","ambiguity","ambiguous","ambition","ambitious","ambulance","ambush","amendable","amendment","amends","amenity","amiable","amicably","amid","amigo","amino","amiss","ammonia","ammonium","amnesty","amniotic","among","amount","amperage","ample","amplifier","amplify","amply","amuck","amulet","amusable","amused","amusement","amuser","amusing","anaconda","anaerobic","anagram","anatomist","anatomy","anchor","anchovy","ancient","android","anemia","anemic","aneurism","anew","angelfish","angelic","anger","angled","angler","angles","angling","angrily","angriness","anguished","angular","animal","animate","animating","animation","animator","anime","animosity","ankle","annex","annotate","announcer","annoying","annually","annuity","anointer","another","answering","antacid","antarctic","anteater","antelope","antennae","anthem","anthill","anthology","antibody","antics","antidote","antihero","antiquely","antiques","antiquity","antirust","antitoxic","antitrust","antiviral","antivirus","antler","antonym","antsy","anvil","anybody","anyhow","anymore","anyone","anyplace","anything","anytime","anyway","anywhere","aorta","apache","apostle","appealing","appear","appease","appeasing","appendage","appendix","appetite","appetizer","applaud","applause","apple","appliance","applicant","applied","apply","appointee","appraisal","appraiser","apprehend","approach","approval","approve","apricot","april","apron","aptitude","aptly","aqua","aqueduct","arbitrary","arbitrate","ardently","area","arena","arguable","arguably","argue","arise","armadillo","armband","armchair","armed","armful","armhole","arming","armless","armoire","armored","armory","armrest","army","aroma","arose","around","arousal","arrange","array","arrest","arrival","arrive","arrogance","arrogant","arson","art","ascend","ascension","ascent","ascertain","ashamed","ashen","ashes","ashy","aside","askew","asleep","asparagus","aspect","aspirate","aspire","aspirin","astonish","astound","astride","astrology","astronaut","astronomy","astute","atlantic","atlas","atom","atonable","atop","atrium","atrocious","atrophy","attach","attain","attempt","attendant","attendee","attention","attentive","attest","attic","attire","attitude","attractor","attribute","atypical","auction","audacious","audacity","audible","audibly","audience","audio","audition","augmented","august","authentic","author","autism","autistic","autograph","automaker","automated","automatic","autopilot","available","avalanche","avatar","avenge","avenging","avenue","average","aversion","avert","aviation","aviator","avid","avoid","await","awaken","award","aware","awhile","awkward","awning","awoke","awry","axis","babble","babbling","babied","baboon","backache","backboard","backboned","backdrop","backed","backer","backfield","backfire","backhand","backing","backlands","backlash","backless","backlight","backlit","backlog","backpack","backpedal","backrest","backroom","backshift","backside","backslid","backspace","backspin","backstab","backstage","backtalk","backtrack","backup","backward","backwash","backwater","backyard","bacon","bacteria","bacterium","badass","badge","badland","badly","badness","baffle","baffling","bagel","bagful","baggage","bagged","baggie","bagginess","bagging","baggy","bagpipe","baguette","baked","bakery","bakeshop","baking","balance","balancing","balcony","balmy","balsamic","bamboo","banana","banish","banister","banjo","bankable","bankbook","banked","banker","banking","banknote","bankroll","banner","bannister","banshee","banter","barbecue","barbed","barbell","barber","barcode","barge","bargraph","barista","baritone","barley","barmaid","barman","barn","barometer","barrack","barracuda","barrel","barrette","barricade","barrier","barstool","bartender","barterer","bash","basically","basics","basil","basin","basis","basket","batboy","batch","bath","baton","bats","battalion","battered","battering","battery","batting","battle","bauble","bazooka","blabber","bladder","blade","blah","blame","blaming","blanching","blandness","blank","blaspheme","blasphemy","blast","blatancy","blatantly","blazer","blazing","bleach","bleak","bleep","blemish","blend","bless","blighted","blimp","bling","blinked","blinker","blinking","blinks","blip","blissful","blitz","blizzard","bloated","bloating","blob","blog","bloomers","blooming","blooper","blot","blouse","blubber","bluff","bluish","blunderer","blunt","blurb","blurred","blurry","blurt","blush","blustery","boaster","boastful","boasting","boat","bobbed","bobbing","bobble","bobcat","bobsled","bobtail","bodacious","body","bogged","boggle","bogus","boil","bok","bolster","bolt","bonanza","bonded","bonding","bondless","boned","bonehead","boneless","bonelike","boney","bonfire","bonnet","bonsai","bonus","bony","boogeyman","boogieman","book","boondocks","booted","booth","bootie","booting","bootlace","bootleg","boots","boozy","borax","boring","borough","borrower","borrowing","boss","botanical","botanist","botany","botch","both","bottle","bottling","bottom","bounce","bouncing","bouncy","bounding","boundless","bountiful","bovine","boxcar","boxer","boxing","boxlike","boxy","breach","breath","breeches","breeching","breeder","breeding","breeze","breezy","brethren","brewery","brewing","briar","bribe","brick","bride","bridged","brigade","bright","brilliant","brim","bring","brink","brisket","briskly","briskness","bristle","brittle","broadband","broadcast","broaden","broadly","broadness","broadside","broadways","broiler","broiling","broken","broker","bronchial","bronco","bronze","bronzing","brook","broom","brought","browbeat","brownnose","browse","browsing","bruising","brunch","brunette","brunt","brush","brussels","brute","brutishly","bubble","bubbling","bubbly","buccaneer","bucked","bucket","buckle","buckshot","buckskin","bucktooth","buckwheat","buddhism","buddhist","budding","buddy","budget","buffalo","buffed","buffer","buffing","buffoon","buggy","bulb","bulge","bulginess","bulgur","bulk","bulldog","bulldozer","bullfight","bullfrog","bullhorn","bullion","bullish","bullpen","bullring","bullseye","bullwhip","bully","bunch","bundle","bungee","bunion","bunkbed","bunkhouse","bunkmate","bunny","bunt","busboy","bush","busily","busload","bust","busybody","buzz","cabana","cabbage","cabbie","cabdriver","cable","caboose","cache","cackle","cacti","cactus","caddie","caddy","cadet","cadillac","cadmium","cage","cahoots","cake","calamari","calamity","calcium","calculate","calculus","caliber","calibrate","calm","caloric","calorie","calzone","camcorder","cameo","camera","camisole","camper","campfire","camping","campsite","campus","canal","canary","cancel","candied","candle","candy","cane","canine","canister","cannabis","canned","canning","cannon","cannot","canola","canon","canopener","canopy","canteen","canyon","capable","capably","capacity","cape","capillary","capital","capitol","capped","capricorn","capsize","capsule","caption","captivate","captive","captivity","capture","caramel","carat","caravan","carbon","cardboard","carded","cardiac","cardigan","cardinal","cardstock","carefully","caregiver","careless","caress","caretaker","cargo","caring","carless","carload","carmaker","carnage","carnation","carnival","carnivore","carol","carpenter","carpentry","carpool","carport","carried","carrot","carrousel","carry","cartel","cartload","carton","cartoon","cartridge","cartwheel","carve","carving","carwash","cascade","case","cash","casing","casino","casket","cassette","casually","casualty","catacomb","catalog","catalyst","catalyze","catapult","cataract","catatonic","catcall","catchable","catcher","catching","catchy","caterer","catering","catfight","catfish","cathedral","cathouse","catlike","catnap","catnip","catsup","cattail","cattishly","cattle","catty","catwalk","caucasian","caucus","causal","causation","cause","causing","cauterize","caution","cautious","cavalier","cavalry","caviar","cavity","cedar","celery","celestial","celibacy","celibate","celtic","cement","census","ceramics","ceremony","certainly","certainty","certified","certify","cesarean","cesspool","chafe","chaffing","chain","chair","chalice","challenge","chamber","chamomile","champion","chance","change","channel","chant","chaos","chaperone","chaplain","chapped","chaps","chapter","character","charbroil","charcoal","charger","charging","chariot","charity","charm","charred","charter","charting","chase","chasing","chaste","chastise","chastity","chatroom","chatter","chatting","chatty","cheating","cheddar","cheek","cheer","cheese","cheesy","chef","chemicals","chemist","chemo","cherisher","cherub","chess","chest","chevron","chevy","chewable","chewer","chewing","chewy","chief","chihuahua","childcare","childhood","childish","childless","childlike","chili","chill","chimp","chip","chirping","chirpy","chitchat","chivalry","chive","chloride","chlorine","choice","chokehold","choking","chomp","chooser","choosing","choosy","chop","chosen","chowder","chowtime","chrome","chubby","chuck","chug","chummy","chump","chunk","churn","chute","cider","cilantro","cinch","cinema","cinnamon","circle","circling","circular","circulate","circus","citable","citadel","citation","citizen","citric","citrus","city","civic","civil","clad","claim","clambake","clammy","clamor","clamp","clamshell","clang","clanking","clapped","clapper","clapping","clarify","clarinet","clarity","clash","clasp","class","clatter","clause","clavicle","claw","clay","clean","clear","cleat","cleaver","cleft","clench","clergyman","clerical","clerk","clever","clicker","client","climate","climatic","cling","clinic","clinking","clip","clique","cloak","clobber","clock","clone","cloning","closable","closure","clothes","clothing","cloud","clover","clubbed","clubbing","clubhouse","clump","clumsily","clumsy","clunky","clustered","clutch","clutter","coach","coagulant","coastal","coaster","coasting","coastland","coastline","coat","coauthor","cobalt","cobbler","cobweb","cocoa","coconut","cod","coeditor","coerce","coexist","coffee","cofounder","cognition","cognitive","cogwheel","coherence","coherent","cohesive","coil","coke","cola","cold","coleslaw","coliseum","collage","collapse","collar","collected","collector","collide","collie","collision","colonial","colonist","colonize","colony","colossal","colt","coma","come","comfort","comfy","comic","coming","comma","commence","commend","comment","commerce","commode","commodity","commodore","common","commotion","commute","commuting","compacted","compacter","compactly","compactor","companion","company","compare","compel","compile","comply","component","composed","composer","composite","compost","composure","compound","compress","comprised","computer","computing","comrade","concave","conceal","conceded","concept","concerned","concert","conch","concierge","concise","conclude","concrete","concur","condense","condiment","condition","condone","conducive","conductor","conduit","cone","confess","confetti","confidant","confident","confider","confiding","configure","confined","confining","confirm","conflict","conform","confound","confront","confused","confusing","confusion","congenial","congested","congrats","congress","conical","conjoined","conjure","conjuror","connected","connector","consensus","consent","console","consoling","consonant","constable","constant","constrain","constrict","construct","consult","consumer","consuming","contact","container","contempt","contend","contented","contently","contents","contest","context","contort","contour","contrite","control","contusion","convene","convent","copartner","cope","copied","copier","copilot","coping","copious","copper","copy","coral","cork","cornball","cornbread","corncob","cornea","corned","corner","cornfield","cornflake","cornhusk","cornmeal","cornstalk","corny","coronary","coroner","corporal","corporate","corral","correct","corridor","corrode","corroding","corrosive","corsage","corset","cortex","cosigner","cosmetics","cosmic","cosmos","cosponsor","cost","cottage","cotton","couch","cough","could","countable","countdown","counting","countless","country","county","courier","covenant","cover","coveted","coveting","coyness","cozily","coziness","cozy","crabbing","crabgrass","crablike","crabmeat","cradle","cradling","crafter","craftily","craftsman","craftwork","crafty","cramp","cranberry","crane","cranial","cranium","crank","crate","crave","craving","crawfish","crawlers","crawling","crayfish","crayon","crazed","crazily","craziness","crazy","creamed","creamer","creamlike","crease","creasing","creatable","create","creation","creative","creature","credible","credibly","credit","creed","creme","creole","crepe","crept","crescent","crested","cresting","crestless","crevice","crewless","crewman","crewmate","crib","cricket","cried","crier","crimp","crimson","cringe","cringing","crinkle","crinkly","crisped","crisping","crisply","crispness","crispy","criteria","critter","croak","crock","crook","croon","crop","cross","crouch","crouton","crowbar","crowd","crown","crucial","crudely","crudeness","cruelly","cruelness","cruelty","crumb","crummiest","crummy","crumpet","crumpled","cruncher","crunching","crunchy","crusader","crushable","crushed","crusher","crushing","crust","crux","crying","cryptic","crystal","cubbyhole","cube","cubical","cubicle","cucumber","cuddle","cuddly","cufflink","culinary","culminate","culpable","culprit","cultivate","cultural","culture","cupbearer","cupcake","cupid","cupped","cupping","curable","curator","curdle","cure","curfew","curing","curled","curler","curliness","curling","curly","curry","curse","cursive","cursor","curtain","curtly","curtsy","curvature","curve","curvy","cushy","cusp","cussed","custard","custodian","custody","customary","customer","customize","customs","cut","cycle","cyclic","cycling","cyclist","cylinder","cymbal","cytoplasm","cytoplast","dab","dad","daffodil","dagger","daily","daintily","dainty","dairy","daisy","dallying","dance","dancing","dandelion","dander","dandruff","dandy","danger","dangle","dangling","daredevil","dares","daringly","darkened","darkening","darkish","darkness","darkroom","darling","darn","dart","darwinism","dash","dastardly","data","datebook","dating","daughter","daunting","dawdler","dawn","daybed","daybreak","daycare","daydream","daylight","daylong","dayroom","daytime","dazzler","dazzling","deacon","deafening","deafness","dealer","dealing","dealmaker","dealt","dean","debatable","debate","debating","debit","debrief","debtless","debtor","debug","debunk","decade","decaf","decal","decathlon","decay","deceased","deceit","deceiver","deceiving","december","decency","decent","deception","deceptive","decibel","decidable","decimal","decimeter","decipher","deck","declared","decline","decode","decompose","decorated","decorator","decoy","decrease","decree","dedicate","dedicator","deduce","deduct","deed","deem","deepen","deeply","deepness","deface","defacing","defame","default","defeat","defection","defective","defendant","defender","defense","defensive","deferral","deferred","defiance","defiant","defile","defiling","define","definite","deflate","deflation","deflator","deflected","deflector","defog","deforest","defraud","defrost","deftly","defuse","defy","degraded","degrading","degrease","degree","dehydrate","deity","dejected","delay","delegate","delegator","delete","deletion","delicacy","delicate","delicious","delighted","delirious","delirium","deliverer","delivery","delouse","delta","deluge","delusion","deluxe","demanding","demeaning","demeanor","demise","democracy","democrat","demote","demotion","demystify","denatured","deniable","denial","denim","denote","dense","density","dental","dentist","denture","deny","deodorant","deodorize","departed","departure","depict","deplete","depletion","deplored","deploy","deport","depose","depraved","depravity","deprecate","depress","deprive","depth","deputize","deputy","derail","deranged","derby","derived","desecrate","deserve","deserving","designate","designed","designer","designing","deskbound","desktop","deskwork","desolate","despair","despise","despite","destiny","destitute","destruct","detached","detail","detection","detective","detector","detention","detergent","detest","detonate","detonator","detoxify","detract","deuce","devalue","deviancy","deviant","deviate","deviation","deviator","device","devious","devotedly","devotee","devotion","devourer","devouring","devoutly","dexterity","dexterous","diabetes","diabetic","diabolic","diagnoses","diagnosis","diagram","dial","diameter","diaper","diaphragm","diary","dice","dicing","dictate","dictation","dictator","difficult","diffused","diffuser","diffusion","diffusive","dig","dilation","diligence","diligent","dill","dilute","dime","diminish","dimly","dimmed","dimmer","dimness","dimple","diner","dingbat","dinghy","dinginess","dingo","dingy","dining","dinner","diocese","dioxide","diploma","dipped","dipper","dipping","directed","direction","directive","directly","directory","direness","dirtiness","disabled","disagree","disallow","disarm","disarray","disaster","disband","disbelief","disburse","discard","discern","discharge","disclose","discolor","discount","discourse","discover","discuss","disdain","disengage","disfigure","disgrace","dish","disinfect","disjoin","disk","dislike","disliking","dislocate","dislodge","disloyal","dismantle","dismay","dismiss","dismount","disobey","disorder","disown","disparate","disparity","dispatch","dispense","dispersal","dispersed","disperser","displace","display","displease","disposal","dispose","disprove","dispute","disregard","disrupt","dissuade","distance","distant","distaste","distill","distinct","distort","distract","distress","district","distrust","ditch","ditto","ditzy","dividable","divided","dividend","dividers","dividing","divinely","diving","divinity","divisible","divisibly","division","divisive","divorcee","dizziness","dizzy","doable","docile","dock","doctrine","document","dodge","dodgy","doily","doing","dole","dollar","dollhouse","dollop","dolly","dolphin","domain","domelike","domestic","dominion","dominoes","donated","donation","donator","donor","donut","doodle","doorbell","doorframe","doorknob","doorman","doormat","doornail","doorpost","doorstep","doorstop","doorway","doozy","dork","dormitory","dorsal","dosage","dose","dotted","doubling","douche","dove","down","dowry","doze","drab","dragging","dragonfly","dragonish","dragster","drainable","drainage","drained","drainer","drainpipe","dramatic","dramatize","drank","drapery","drastic","draw","dreaded","dreadful","dreadlock","dreamboat","dreamily","dreamland","dreamless","dreamlike","dreamt","dreamy","drearily","dreary","drench","dress","drew","dribble","dried","drier","drift","driller","drilling","drinkable","drinking","dripping","drippy","drivable","driven","driver","driveway","driving","drizzle","drizzly","drone","drool","droop","drop-down","dropbox","dropkick","droplet","dropout","dropper","drove","drown","drowsily","drudge","drum","dry","dubbed","dubiously","duchess","duckbill","ducking","duckling","ducktail","ducky","duct","dude","duffel","dugout","duh","duke","duller","dullness","duly","dumping","dumpling","dumpster","duo","dupe","duplex","duplicate","duplicity","durable","durably","duration","duress","during","dusk","dust","dutiful","duty","duvet","dwarf","dweeb","dwelled","dweller","dwelling","dwindle","dwindling","dynamic","dynamite","dynasty","dyslexia","dyslexic","each","eagle","earache","eardrum","earflap","earful","earlobe","early","earmark","earmuff","earphone","earpiece","earplugs","earring","earshot","earthen","earthlike","earthling","earthly","earthworm","earthy","earwig","easeful","easel","easiest","easily","easiness","easing","eastbound","eastcoast","easter","eastward","eatable","eaten","eatery","eating","eats","ebay","ebony","ebook","ecard","eccentric","echo","eclair","eclipse","ecologist","ecology","economic","economist","economy","ecosphere","ecosystem","edge","edginess","edging","edgy","edition","editor","educated","education","educator","eel","effective","effects","efficient","effort","eggbeater","egging","eggnog","eggplant","eggshell","egomaniac","egotism","egotistic","either","eject","elaborate","elastic","elated","elbow","eldercare","elderly","eldest","electable","election","elective","elephant","elevate","elevating","elevation","elevator","eleven","elf","eligible","eligibly","eliminate","elite","elitism","elixir","elk","ellipse","elliptic","elm","elongated","elope","eloquence","eloquent","elsewhere","elude","elusive","elves","email","embargo","embark","embassy","embattled","embellish","ember","embezzle","emblaze","emblem","embody","embolism","emboss","embroider","emcee","emerald","emergency","emission","emit","emote","emoticon","emotion","empathic","empathy","emperor","emphases","emphasis","emphasize","emphatic","empirical","employed","employee","employer","emporium","empower","emptier","emptiness","empty","emu","enable","enactment","enamel","enchanted","enchilada","encircle","enclose","enclosure","encode","encore","encounter","encourage","encroach","encrust","encrypt","endanger","endeared","endearing","ended","ending","endless","endnote","endocrine","endorphin","endorse","endowment","endpoint","endurable","endurance","enduring","energetic","energize","energy","enforced","enforcer","engaged","engaging","engine","engorge","engraved","engraver","engraving","engross","engulf","enhance","enigmatic","enjoyable","enjoyably","enjoyer","enjoying","enjoyment","enlarged","enlarging","enlighten","enlisted","enquirer","enrage","enrich","enroll","enslave","ensnare","ensure","entail","entangled","entering","entertain","enticing","entire","entitle","entity","entomb","entourage","entrap","entree","entrench","entrust","entryway","entwine","enunciate","envelope","enviable","enviably","envious","envision","envoy","envy","enzyme","epic","epidemic","epidermal","epidermis","epidural","epilepsy","epileptic","epilogue","epiphany","episode","equal","equate","equation","equator","equinox","equipment","equity","equivocal","eradicate","erasable","erased","eraser","erasure","ergonomic","errand","errant","erratic","error","erupt","escalate","escalator","escapable","escapade","escapist","escargot","eskimo","esophagus","espionage","espresso","esquire","essay","essence","essential","establish","estate","esteemed","estimate","estimator","estranged","estrogen","etching","eternal","eternity","ethanol","ether","ethically","ethics","euphemism","evacuate","evacuee","evade","evaluate","evaluator","evaporate","evasion","evasive","even","everglade","evergreen","everybody","everyday","everyone","evict","evidence","evident","evil","evoke","evolution","evolve","exact","exalted","example","excavate","excavator","exceeding","exception","excess","exchange","excitable","exciting","exclaim","exclude","excluding","exclusion","exclusive","excretion","excretory","excursion","excusable","excusably","excuse","exemplary","exemplify","exemption","exerciser","exert","exes","exfoliate","exhale","exhaust","exhume","exile","existing","exit","exodus","exonerate","exorcism","exorcist","expand","expanse","expansion","expansive","expectant","expedited","expediter","expel","expend","expenses","expensive","expert","expire","expiring","explain","expletive","explicit","explode","exploit","explore","exploring","exponent","exporter","exposable","expose","exposure","express","expulsion","exquisite","extended","extending","extent","extenuate","exterior","external","extinct","extortion","extradite","extras","extrovert","extrude","extruding","exuberant","fable","fabric","fabulous","facebook","facecloth","facedown","faceless","facelift","faceplate","faceted","facial","facility","facing","facsimile","faction","factoid","factor","factsheet","factual","faculty","fade","fading","failing","falcon","fall","false","falsify","fame","familiar","family","famine","famished","fanatic","fancied","fanciness","fancy","fanfare","fang","fanning","fantasize","fantastic","fantasy","fascism","fastball","faster","fasting","fastness","faucet","favorable","favorably","favored","favoring","favorite","fax","feast","federal","fedora","feeble","feed","feel","feisty","feline","felt-tip","feminine","feminism","feminist","feminize","femur","fence","fencing","fender","ferment","fernlike","ferocious","ferocity","ferret","ferris","ferry","fervor","fester","festival","festive","festivity","fetal","fetch","fever","fiber","fiction","fiddle","fiddling","fidelity","fidgeting","fidgety","fifteen","fifth","fiftieth","fifty","figment","figure","figurine","filing","filled","filler","filling","film","filter","filth","filtrate","finale","finalist","finalize","finally","finance","financial","finch","fineness","finer","finicky","finished","finisher","finishing","finite","finless","finlike","fiscally","fit","five","flaccid","flagman","flagpole","flagship","flagstick","flagstone","flail","flakily","flaky","flame","flammable","flanked","flanking","flannels","flap","flaring","flashback","flashbulb","flashcard","flashily","flashing","flashy","flask","flatbed","flatfoot","flatly","flatness","flatten","flattered","flatterer","flattery","flattop","flatware","flatworm","flavored","flavorful","flavoring","flaxseed","fled","fleshed","fleshy","flick","flier","flight","flinch","fling","flint","flip","flirt","float","flock","flogging","flop","floral","florist","floss","flounder","flyable","flyaway","flyer","flying","flyover","flypaper","foam","foe","fog","foil","folic","folk","follicle","follow","fondling","fondly","fondness","fondue","font","food","fool","footage","football","footbath","footboard","footer","footgear","foothill","foothold","footing","footless","footman","footnote","footpad","footpath","footprint","footrest","footsie","footsore","footwear","footwork","fossil","foster","founder","founding","fountain","fox","foyer","fraction","fracture","fragile","fragility","fragment","fragrance","fragrant","frail","frame","framing","frantic","fraternal","frayed","fraying","frays","freckled","freckles","freebase","freebee","freebie","freedom","freefall","freehand","freeing","freeload","freely","freemason","freeness","freestyle","freeware","freeway","freewill","freezable","freezing","freight","french","frenzied","frenzy","frequency","frequent","fresh","fretful","fretted","friction","friday","fridge","fried","friend","frighten","frightful","frigidity","frigidly","frill","fringe","frisbee","frisk","fritter","frivolous","frolic","from","front","frostbite","frosted","frostily","frosting","frostlike","frosty","froth","frown","frozen","fructose","frugality","frugally","fruit","frustrate","frying","gab","gaffe","gag","gainfully","gaining","gains","gala","gallantly","galleria","gallery","galley","gallon","gallows","gallstone","galore","galvanize","gambling","game","gaming","gamma","gander","gangly","gangrene","gangway","gap","garage","garbage","garden","gargle","garland","garlic","garment","garnet","garnish","garter","gas","gatherer","gathering","gating","gauging","gauntlet","gauze","gave","gawk","gazing","gear","gecko","geek","geiger","gem","gender","generic","generous","genetics","genre","gentile","gentleman","gently","gents","geography","geologic","geologist","geology","geometric","geometry","geranium","gerbil","geriatric","germicide","germinate","germless","germproof","gestate","gestation","gesture","getaway","getting","getup","giant","gibberish","giblet","giddily","giddiness","giddy","gift","gigabyte","gigahertz","gigantic","giggle","giggling","giggly","gigolo","gilled","gills","gimmick","girdle","giveaway","given","giver","giving","gizmo","gizzard","glacial","glacier","glade","gladiator","gladly","glamorous","glamour","glance","glancing","glandular","glare","glaring","glass","glaucoma","glazing","gleaming","gleeful","glider","gliding","glimmer","glimpse","glisten","glitch","glitter","glitzy","gloater","gloating","gloomily","gloomy","glorified","glorifier","glorify","glorious","glory","gloss","glove","glowing","glowworm","glucose","glue","gluten","glutinous","glutton","gnarly","gnat","goal","goatskin","goes","goggles","going","goldfish","goldmine","goldsmith","golf","goliath","gonad","gondola","gone","gong","good","gooey","goofball","goofiness","goofy","google","goon","gopher","gore","gorged","gorgeous","gory","gosling","gossip","gothic","gotten","gout","gown","grab","graceful","graceless","gracious","gradation","graded","grader","gradient","grading","gradually","graduate","graffiti","grafted","grafting","grain","granddad","grandkid","grandly","grandma","grandpa","grandson","granite","granny","granola","grant","granular","grape","graph","grapple","grappling","grasp","grass","gratified","gratify","grating","gratitude","gratuity","gravel","graveness","graves","graveyard","gravitate","gravity","gravy","gray","grazing","greasily","greedily","greedless","greedy","green","greeter","greeting","grew","greyhound","grid","grief","grievance","grieving","grievous","grill","grimace","grimacing","grime","griminess","grimy","grinch","grinning","grip","gristle","grit","groggily","groggy","groin","groom","groove","grooving","groovy","grope","ground","grouped","grout","grove","grower","growing","growl","grub","grudge","grudging","grueling","gruffly","grumble","grumbling","grumbly","grumpily","grunge","grunt","guacamole","guidable","guidance","guide","guiding","guileless","guise","gulf","gullible","gully","gulp","gumball","gumdrop","gumminess","gumming","gummy","gurgle","gurgling","guru","gush","gusto","gusty","gutless","guts","gutter","guy","guzzler","gyration","habitable","habitant","habitat","habitual","hacked","hacker","hacking","hacksaw","had","haggler","haiku","half","halogen","halt","halved","halves","hamburger","hamlet","hammock","hamper","hamster","hamstring","handbag","handball","handbook","handbrake","handcart","handclap","handclasp","handcraft","handcuff","handed","handful","handgrip","handgun","handheld","handiness","handiwork","handlebar","handled","handler","handling","handmade","handoff","handpick","handprint","handrail","handsaw","handset","handsfree","handshake","handstand","handwash","handwork","handwoven","handwrite","handyman","hangnail","hangout","hangover","hangup","hankering","hankie","hanky","haphazard","happening","happier","happiest","happily","happiness","happy","harbor","hardcopy","hardcore","hardcover","harddisk","hardened","hardener","hardening","hardhat","hardhead","hardiness","hardly","hardness","hardship","hardware","hardwired","hardwood","hardy","harmful","harmless","harmonica","harmonics","harmonize","harmony","harness","harpist","harsh","harvest","hash","hassle","haste","hastily","hastiness","hasty","hatbox","hatchback","hatchery","hatchet","hatching","hatchling","hate","hatless","hatred","haunt","haven","hazard","hazelnut","hazily","haziness","hazing","hazy","headache","headband","headboard","headcount","headdress","headed","header","headfirst","headgear","heading","headlamp","headless","headlock","headphone","headpiece","headrest","headroom","headscarf","headset","headsman","headstand","headstone","headway","headwear","heap","heat","heave","heavily","heaviness","heaving","hedge","hedging","heftiness","hefty","helium","helmet","helper","helpful","helping","helpless","helpline","hemlock","hemstitch","hence","henchman","henna","herald","herbal","herbicide","herbs","heritage","hermit","heroics","heroism","herring","herself","hertz","hesitancy","hesitant","hesitate","hexagon","hexagram","hubcap","huddle","huddling","huff","hug","hula","hulk","hull","human","humble","humbling","humbly","humid","humiliate","humility","humming","hummus","humongous","humorist","humorless","humorous","humpback","humped","humvee","hunchback","hundredth","hunger","hungrily","hungry","hunk","hunter","hunting","huntress","huntsman","hurdle","hurled","hurler","hurling","hurray","hurricane","hurried","hurry","hurt","husband","hush","husked","huskiness","hut","hybrid","hydrant","hydrated","hydration","hydrogen","hydroxide","hyperlink","hypertext","hyphen","hypnoses","hypnosis","hypnotic","hypnotism","hypnotist","hypnotize","hypocrisy","hypocrite","ibuprofen","ice","iciness","icing","icky","icon","icy","idealism","idealist","idealize","ideally","idealness","identical","identify","identity","ideology","idiocy","idiom","idly","igloo","ignition","ignore","iguana","illicitly","illusion","illusive","image","imaginary","imagines","imaging","imbecile","imitate","imitation","immature","immerse","immersion","imminent","immobile","immodest","immorally","immortal","immovable","immovably","immunity","immunize","impaired","impale","impart","impatient","impeach","impeding","impending","imperfect","imperial","impish","implant","implement","implicate","implicit","implode","implosion","implosive","imply","impolite","important","importer","impose","imposing","impotence","impotency","impotent","impound","imprecise","imprint","imprison","impromptu","improper","improve","improving","improvise","imprudent","impulse","impulsive","impure","impurity","iodine","iodize","ion","ipad","iphone","ipod","irate","irk","iron","irregular","irrigate","irritable","irritably","irritant","irritate","islamic","islamist","isolated","isolating","isolation","isotope","issue","issuing","italicize","italics","item","itinerary","itunes","ivory","ivy","jab","jackal","jacket","jackknife","jackpot","jailbird","jailbreak","jailer","jailhouse","jalapeno","jam","janitor","january","jargon","jarring","jasmine","jaundice","jaunt","java","jawed","jawless","jawline","jaws","jaybird","jaywalker","jazz","jeep","jeeringly","jellied","jelly","jersey","jester","jet","jiffy","jigsaw","jimmy","jingle","jingling","jinx","jitters","jittery","job","jockey","jockstrap","jogger","jogging","john","joining","jokester","jokingly","jolliness","jolly","jolt","jot","jovial","joyfully","joylessly","joyous","joyride","joystick","jubilance","jubilant","judge","judgingly","judicial","judiciary","judo","juggle","juggling","jugular","juice","juiciness","juicy","jujitsu","jukebox","july","jumble","jumbo","jump","junction","juncture","june","junior","juniper","junkie","junkman","junkyard","jurist","juror","jury","justice","justifier","justify","justly","justness","juvenile","kabob","kangaroo","karaoke","karate","karma","kebab","keenly","keenness","keep","keg","kelp","kennel","kept","kerchief","kerosene","kettle","kick","kiln","kilobyte","kilogram","kilometer","kilowatt","kilt","kimono","kindle","kindling","kindly","kindness","kindred","kinetic","kinfolk","king","kinship","kinsman","kinswoman","kissable","kisser","kissing","kitchen","kite","kitten","kitty","kiwi","kleenex","knapsack","knee","knelt","knickers","knoll","koala","kooky","kosher","krypton","kudos","kung","labored","laborer","laboring","laborious","labrador","ladder","ladies","ladle","ladybug","ladylike","lagged","lagging","lagoon","lair","lake","lance","landed","landfall","landfill","landing","landlady","landless","landline","landlord","landmark","landmass","landmine","landowner","landscape","landside","landslide","language","lankiness","lanky","lantern","lapdog","lapel","lapped","lapping","laptop","lard","large","lark","lash","lasso","last","latch","late","lather","latitude","latrine","latter","latticed","launch","launder","laundry","laurel","lavender","lavish","laxative","lazily","laziness","lazy","lecturer","left","legacy","legal","legend","legged","leggings","legible","legibly","legislate","lego","legroom","legume","legwarmer","legwork","lemon","lend","length","lens","lent","leotard","lesser","letdown","lethargic","lethargy","letter","lettuce","level","leverage","levers","levitate","levitator","liability","liable","liberty","librarian","library","licking","licorice","lid","life","lifter","lifting","liftoff","ligament","likely","likeness","likewise","liking","lilac","lilly","lily","limb","limeade","limelight","limes","limit","limping","limpness","line","lingo","linguini","linguist","lining","linked","linoleum","linseed","lint","lion","lip","liquefy","liqueur","liquid","lisp","list","litigate","litigator","litmus","litter","little","livable","lived","lively","liver","livestock","lividly","living","lizard","lubricant","lubricate","lucid","luckily","luckiness","luckless","lucrative","ludicrous","lugged","lukewarm","lullaby","lumber","luminance","luminous","lumpiness","lumping","lumpish","lunacy","lunar","lunchbox","luncheon","lunchroom","lunchtime","lung","lurch","lure","luridness","lurk","lushly","lushness","luster","lustfully","lustily","lustiness","lustrous","lusty","luxurious","luxury","lying","lyrically","lyricism","lyricist","lyrics","macarena","macaroni","macaw","mace","machine","machinist","magazine","magenta","maggot","magical","magician","magma","magnesium","magnetic","magnetism","magnetize","magnifier","magnify","magnitude","magnolia","mahogany","maimed","majestic","majesty","majorette","majority","makeover","maker","makeshift","making","malformed","malt","mama","mammal","mammary","mammogram","manager","managing","manatee","mandarin","mandate","mandatory","mandolin","manger","mangle","mango","mangy","manhandle","manhole","manhood","manhunt","manicotti","manicure","manifesto","manila","mankind","manlike","manliness","manly","manmade","manned","mannish","manor","manpower","mantis","mantra","manual","many","map","marathon","marauding","marbled","marbles","marbling","march","mardi","margarine","margarita","margin","marigold","marina","marine","marital","maritime","marlin","marmalade","maroon","married","marrow","marry","marshland","marshy","marsupial","marvelous","marxism","mascot","masculine","mashed","mashing","massager","masses","massive","mastiff","matador","matchbook","matchbox","matcher","matching","matchless","material","maternal","maternity","math","mating","matriarch","matrimony","matrix","matron","matted","matter","maturely","maturing","maturity","mauve","maverick","maximize","maximum","maybe","mayday","mayflower","moaner","moaning","mobile","mobility","mobilize","mobster","mocha","mocker","mockup","modified","modify","modular","modulator","module","moisten","moistness","moisture","molar","molasses","mold","molecular","molecule","molehill","mollusk","mom","monastery","monday","monetary","monetize","moneybags","moneyless","moneywise","mongoose","mongrel","monitor","monkhood","monogamy","monogram","monologue","monopoly","monorail","monotone","monotype","monoxide","monsieur","monsoon","monstrous","monthly","monument","moocher","moodiness","moody","mooing","moonbeam","mooned","moonlight","moonlike","moonlit","moonrise","moonscape","moonshine","moonstone","moonwalk","mop","morale","morality","morally","morbidity","morbidly","morphine","morphing","morse","mortality","mortally","mortician","mortified","mortify","mortuary","mosaic","mossy","most","mothball","mothproof","motion","motivate","motivator","motive","motocross","motor","motto","mountable","mountain","mounted","mounting","mourner","mournful","mouse","mousiness","moustache","mousy","mouth","movable","move","movie","moving","mower","mowing","much","muck","mud","mug","mulberry","mulch","mule","mulled","mullets","multiple","multiply","multitask","multitude","mumble","mumbling","mumbo","mummified","mummify","mummy","mumps","munchkin","mundane","municipal","muppet","mural","murkiness","murky","murmuring","muscular","museum","mushily","mushiness","mushroom","mushy","music","musket","muskiness","musky","mustang","mustard","muster","mustiness","musty","mutable","mutate","mutation","mute","mutilated","mutilator","mutiny","mutt","mutual","muzzle","myself","myspace","mystified","mystify","myth","nacho","nag","nail","name","naming","nanny","nanometer","nape","napkin","napped","napping","nappy","narrow","nastily","nastiness","national","native","nativity","natural","nature","naturist","nautical","navigate","navigator","navy","nearby","nearest","nearly","nearness","neatly","neatness","nebula","nebulizer","nectar","negate","negation","negative","neglector","negligee","negligent","negotiate","nemeses","nemesis","neon","nephew","nerd","nervous","nervy","nest","net","neurology","neuron","neurosis","neurotic","neuter","neutron","never","next","nibble","nickname","nicotine","niece","nifty","nimble","nimbly","nineteen","ninetieth","ninja","nintendo","ninth","nuclear","nuclei","nucleus","nugget","nullify","number","numbing","numbly","numbness","numeral","numerate","numerator","numeric","numerous","nuptials","nursery","nursing","nurture","nutcase","nutlike","nutmeg","nutrient","nutshell","nuttiness","nutty","nuzzle","nylon","oaf","oak","oasis","oat","obedience","obedient","obituary","object","obligate","obliged","oblivion","oblivious","oblong","obnoxious","oboe","obscure","obscurity","observant","observer","observing","obsessed","obsession","obsessive","obsolete","obstacle","obstinate","obstruct","obtain","obtrusive","obtuse","obvious","occultist","occupancy","occupant","occupier","occupy","ocean","ocelot","octagon","octane","october","octopus","ogle","oil","oink","ointment","okay","old","olive","olympics","omega","omen","ominous","omission","omit","omnivore","onboard","oncoming","ongoing","onion","online","onlooker","only","onscreen","onset","onshore","onslaught","onstage","onto","onward","onyx","oops","ooze","oozy","opacity","opal","open","operable","operate","operating","operation","operative","operator","opium","opossum","opponent","oppose","opposing","opposite","oppressed","oppressor","opt","opulently","osmosis","other","otter","ouch","ought","ounce","outage","outback","outbid","outboard","outbound","outbreak","outburst","outcast","outclass","outcome","outdated","outdoors","outer","outfield","outfit","outflank","outgoing","outgrow","outhouse","outing","outlast","outlet","outline","outlook","outlying","outmatch","outmost","outnumber","outplayed","outpost","outpour","output","outrage","outrank","outreach","outright","outscore","outsell","outshine","outshoot","outsider","outskirts","outsmart","outsource","outspoken","outtakes","outthink","outward","outweigh","outwit","oval","ovary","oven","overact","overall","overarch","overbid","overbill","overbite","overblown","overboard","overbook","overbuilt","overcast","overcoat","overcome","overcook","overcrowd","overdraft","overdrawn","overdress","overdrive","overdue","overeager","overeater","overexert","overfed","overfeed","overfill","overflow","overfull","overgrown","overhand","overhang","overhaul","overhead","overhear","overheat","overhung","overjoyed","overkill","overlabor","overlaid","overlap","overlay","overload","overlook","overlord","overlying","overnight","overpass","overpay","overplant","overplay","overpower","overprice","overrate","overreach","overreact","override","overripe","overrule","overrun","overshoot","overshot","oversight","oversized","oversleep","oversold","overspend","overstate","overstay","overstep","overstock","overstuff","oversweet","overtake","overthrow","overtime","overtly","overtone","overture","overturn","overuse","overvalue","overview","overwrite","owl","oxford","oxidant","oxidation","oxidize","oxidizing","oxygen","oxymoron","oyster","ozone","paced","pacemaker","pacific","pacifier","pacifism","pacifist","pacify","padded","padding","paddle","paddling","padlock","pagan","pager","paging","pajamas","palace","palatable","palm","palpable","palpitate","paltry","pampered","pamperer","pampers","pamphlet","panama","pancake","pancreas","panda","pandemic","pang","panhandle","panic","panning","panorama","panoramic","panther","pantomime","pantry","pants","pantyhose","paparazzi","papaya","paper","paprika","papyrus","parabola","parachute","parade","paradox","paragraph","parakeet","paralegal","paralyses","paralysis","paralyze","paramedic","parameter","paramount","parasail","parasite","parasitic","parcel","parched","parchment","pardon","parish","parka","parking","parkway","parlor","parmesan","parole","parrot","parsley","parsnip","partake","parted","parting","partition","partly","partner","partridge","party","passable","passably","passage","passcode","passenger","passerby","passing","passion","passive","passivism","passover","passport","password","pasta","pasted","pastel","pastime","pastor","pastrami","pasture","pasty","patchwork","patchy","paternal","paternity","path","patience","patient","patio","patriarch","patriot","patrol","patronage","patronize","pauper","pavement","paver","pavestone","pavilion","paving","pawing","payable","payback","paycheck","payday","payee","payer","paying","payment","payphone","payroll","pebble","pebbly","pecan","pectin","peculiar","peddling","pediatric","pedicure","pedigree","pedometer","pegboard","pelican","pellet","pelt","pelvis","penalize","penalty","pencil","pendant","pending","penholder","penknife","pennant","penniless","penny","penpal","pension","pentagon","pentagram","pep","perceive","percent","perch","percolate","perennial","perfected","perfectly","perfume","periscope","perish","perjurer","perjury","perkiness","perky","perm","peroxide","perpetual","perplexed","persecute","persevere","persuaded","persuader","pesky","peso","pessimism","pessimist","pester","pesticide","petal","petite","petition","petri","petroleum","petted","petticoat","pettiness","petty","petunia","phantom","phobia","phoenix","phonebook","phoney","phonics","phoniness","phony","phosphate","photo","phrase","phrasing","placard","placate","placidly","plank","planner","plant","plasma","plaster","plastic","plated","platform","plating","platinum","platonic","platter","platypus","plausible","plausibly","playable","playback","player","playful","playgroup","playhouse","playing","playlist","playmaker","playmate","playoff","playpen","playroom","playset","plaything","playtime","plaza","pleading","pleat","pledge","plentiful","plenty","plethora","plexiglas","pliable","plod","plop","plot","plow","ploy","pluck","plug","plunder","plunging","plural","plus","plutonium","plywood","poach","pod","poem","poet","pogo","pointed","pointer","pointing","pointless","pointy","poise","poison","poker","poking","polar","police","policy","polio","polish","politely","polka","polo","polyester","polygon","polygraph","polymer","poncho","pond","pony","popcorn","pope","poplar","popper","poppy","popsicle","populace","popular","populate","porcupine","pork","porous","porridge","portable","portal","portfolio","porthole","portion","portly","portside","poser","posh","posing","possible","possibly","possum","postage","postal","postbox","postcard","posted","poster","posting","postnasal","posture","postwar","pouch","pounce","pouncing","pound","pouring","pout","powdered","powdering","powdery","power","powwow","pox","praising","prance","prancing","pranker","prankish","prankster","prayer","praying","preacher","preaching","preachy","preamble","precinct","precise","precision","precook","precut","predator","predefine","predict","preface","prefix","preflight","preformed","pregame","pregnancy","pregnant","preheated","prelaunch","prelaw","prelude","premiere","premises","premium","prenatal","preoccupy","preorder","prepaid","prepay","preplan","preppy","preschool","prescribe","preseason","preset","preshow","president","presoak","press","presume","presuming","preteen","pretended","pretender","pretense","pretext","pretty","pretzel","prevail","prevalent","prevent","preview","previous","prewar","prewashed","prideful","pried","primal","primarily","primary","primate","primer","primp","princess","print","prior","prism","prison","prissy","pristine","privacy","private","privatize","prize","proactive","probable","probably","probation","probe","probing","probiotic","problem","procedure","process","proclaim","procreate","procurer","prodigal","prodigy","produce","product","profane","profanity","professed","professor","profile","profound","profusely","progeny","prognosis","program","progress","projector","prologue","prolonged","promenade","prominent","promoter","promotion","prompter","promptly","prone","prong","pronounce","pronto","proofing","proofread","proofs","propeller","properly","property","proponent","proposal","propose","props","prorate","protector","protegee","proton","prototype","protozoan","protract","protrude","proud","provable","proved","proven","provided","provider","providing","province","proving","provoke","provoking","provolone","prowess","prowler","prowling","proximity","proxy","prozac","prude","prudishly","prune","pruning","pry","psychic","public","publisher","pucker","pueblo","pug","pull","pulmonary","pulp","pulsate","pulse","pulverize","puma","pumice","pummel","punch","punctual","punctuate","punctured","pungent","punisher","punk","pupil","puppet","puppy","purchase","pureblood","purebred","purely","pureness","purgatory","purge","purging","purifier","purify","purist","puritan","purity","purple","purplish","purposely","purr","purse","pursuable","pursuant","pursuit","purveyor","pushcart","pushchair","pusher","pushiness","pushing","pushover","pushpin","pushup","pushy","putdown","putt","puzzle","puzzling","pyramid","pyromania","python","quack","quadrant","quail","quaintly","quake","quaking","qualified","qualifier","qualify","quality","qualm","quantum","quarrel","quarry","quartered","quarterly","quarters","quartet","quench","query","quicken","quickly","quickness","quicksand","quickstep","quiet","quill","quilt","quintet","quintuple","quirk","quit","quiver","quizzical","quotable","quotation","quote","rabid","race","racing","racism","rack","racoon","radar","radial","radiance","radiantly","radiated","radiation","radiator","radio","radish","raffle","raft","rage","ragged","raging","ragweed","raider","railcar","railing","railroad","railway","raisin","rake","raking","rally","ramble","rambling","ramp","ramrod","ranch","rancidity","random","ranged","ranger","ranging","ranked","ranking","ransack","ranting","rants","rare","rarity","rascal","rash","rasping","ravage","raven","ravine","raving","ravioli","ravishing","reabsorb","reach","reacquire","reaction","reactive","reactor","reaffirm","ream","reanalyze","reappear","reapply","reappoint","reapprove","rearrange","rearview","reason","reassign","reassure","reattach","reawake","rebalance","rebate","rebel","rebirth","reboot","reborn","rebound","rebuff","rebuild","rebuilt","reburial","rebuttal","recall","recant","recapture","recast","recede","recent","recess","recharger","recipient","recital","recite","reckless","reclaim","recliner","reclining","recluse","reclusive","recognize","recoil","recollect","recolor","reconcile","reconfirm","reconvene","recopy","record","recount","recoup","recovery","recreate","rectal","rectangle","rectified","rectify","recycled","recycler","recycling","reemerge","reenact","reenter","reentry","reexamine","referable","referee","reference","refill","refinance","refined","refinery","refining","refinish","reflected","reflector","reflex","reflux","refocus","refold","reforest","reformat","reformed","reformer","reformist","refract","refrain","refreeze","refresh","refried","refueling","refund","refurbish","refurnish","refusal","refuse","refusing","refutable","refute","regain","regalia","regally","reggae","regime","region","register","registrar","registry","regress","regretful","regroup","regular","regulate","regulator","rehab","reheat","rehire","rehydrate","reimburse","reissue","reiterate","rejoice","rejoicing","rejoin","rekindle","relapse","relapsing","relatable","related","relation","relative","relax","relay","relearn","release","relenting","reliable","reliably","reliance","reliant","relic","relieve","relieving","relight","relish","relive","reload","relocate","relock","reluctant","rely","remake","remark","remarry","rematch","remedial","remedy","remember","reminder","remindful","remission","remix","remnant","remodeler","remold","remorse","remote","removable","removal","removed","remover","removing","rename","renderer","rendering","rendition","renegade","renewable","renewably","renewal","renewed","renounce","renovate","renovator","rentable","rental","rented","renter","reoccupy","reoccur","reopen","reorder","repackage","repacking","repaint","repair","repave","repaying","repayment","repeal","repeated","repeater","repent","rephrase","replace","replay","replica","reply","reporter","repose","repossess","repost","repressed","reprimand","reprint","reprise","reproach","reprocess","reproduce","reprogram","reps","reptile","reptilian","repugnant","repulsion","repulsive","repurpose","reputable","reputably","request","require","requisite","reroute","rerun","resale","resample","rescuer","reseal","research","reselect","reseller","resemble","resend","resent","reset","reshape","reshoot","reshuffle","residence","residency","resident","residual","residue","resigned","resilient","resistant","resisting","resize","resolute","resolved","resonant","resonate","resort","resource","respect","resubmit","result","resume","resupply","resurface","resurrect","retail","retainer","retaining","retake","retaliate","retention","rethink","retinal","retired","retiree","retiring","retold","retool","retorted","retouch","retrace","retract","retrain","retread","retreat","retrial","retrieval","retriever","retry","return","retying","retype","reunion","reunite","reusable","reuse","reveal","reveler","revenge","revenue","reverb","revered","reverence","reverend","reversal","reverse","reversing","reversion","revert","revisable","revise","revision","revisit","revivable","revival","reviver","reviving","revocable","revoke","revolt","revolver","revolving","reward","rewash","rewind","rewire","reword","rework","rewrap","rewrite","rhyme","ribbon","ribcage","rice","riches","richly","richness","rickety","ricotta","riddance","ridden","ride","riding","rifling","rift","rigging","rigid","rigor","rimless","rimmed","rind","rink","rinse","rinsing","riot","ripcord","ripeness","ripening","ripping","ripple","rippling","riptide","rise","rising","risk","risotto","ritalin","ritzy","rival","riverbank","riverbed","riverboat","riverside","riveter","riveting","roamer","roaming","roast","robbing","robe","robin","robotics","robust","rockband","rocker","rocket","rockfish","rockiness","rocking","rocklike","rockslide","rockstar","rocky","rogue","roman","romp","rope","roping","roster","rosy","rotten","rotting","rotunda","roulette","rounding","roundish","roundness","roundup","roundworm","routine","routing","rover","roving","royal","rubbed","rubber","rubbing","rubble","rubdown","ruby","ruckus","rudder","rug","ruined","rule","rumble","rumbling","rummage","rumor","runaround","rundown","runner","running","runny","runt","runway","rupture","rural","ruse","rush","rust","rut","sabbath","sabotage","sacrament","sacred","sacrifice","sadden","saddlebag","saddled","saddling","sadly","sadness","safari","safeguard","safehouse","safely","safeness","saffron","saga","sage","sagging","saggy","said","saint","sake","salad","salami","salaried","salary","saline","salon","saloon","salsa","salt","salutary","salute","salvage","salvaging","salvation","same","sample","sampling","sanction","sanctity","sanctuary","sandal","sandbag","sandbank","sandbar","sandblast","sandbox","sanded","sandfish","sanding","sandlot","sandpaper","sandpit","sandstone","sandstorm","sandworm","sandy","sanitary","sanitizer","sank","santa","sapling","sappiness","sappy","sarcasm","sarcastic","sardine","sash","sasquatch","sassy","satchel","satiable","satin","satirical","satisfied","satisfy","saturate","saturday","sauciness","saucy","sauna","savage","savanna","saved","savings","savior","savor","saxophone","say","scabbed","scabby","scalded","scalding","scale","scaling","scallion","scallop","scalping","scam","scandal","scanner","scanning","scant","scapegoat","scarce","scarcity","scarecrow","scared","scarf","scarily","scariness","scarring","scary","scavenger","scenic","schedule","schematic","scheme","scheming","schilling","schnapps","scholar","science","scientist","scion","scoff","scolding","scone","scoop","scooter","scope","scorch","scorebook","scorecard","scored","scoreless","scorer","scoring","scorn","scorpion","scotch","scoundrel","scoured","scouring","scouting","scouts","scowling","scrabble","scraggly","scrambled","scrambler","scrap","scratch","scrawny","screen","scribble","scribe","scribing","scrimmage","script","scroll","scrooge","scrounger","scrubbed","scrubber","scruffy","scrunch","scrutiny","scuba","scuff","sculptor","sculpture","scurvy","scuttle","secluded","secluding","seclusion","second","secrecy","secret","sectional","sector","secular","securely","security","sedan","sedate","sedation","sedative","sediment","seduce","seducing","segment","seismic","seizing","seldom","selected","selection","selective","selector","self","seltzer","semantic","semester","semicolon","semifinal","seminar","semisoft","semisweet","senate","senator","send","senior","senorita","sensation","sensitive","sensitize","sensually","sensuous","sepia","september","septic","septum","sequel","sequence","sequester","series","sermon","serotonin","serpent","serrated","serve","service","serving","sesame","sessions","setback","setting","settle","settling","setup","sevenfold","seventeen","seventh","seventy","severity","shabby","shack","shaded","shadily","shadiness","shading","shadow","shady","shaft","shakable","shakily","shakiness","shaking","shaky","shale","shallot","shallow","shame","shampoo","shamrock","shank","shanty","shape","shaping","share","sharpener","sharper","sharpie","sharply","sharpness","shawl","sheath","shed","sheep","sheet","shelf","shell","shelter","shelve","shelving","sherry","shield","shifter","shifting","shiftless","shifty","shimmer","shimmy","shindig","shine","shingle","shininess","shining","shiny","ship","shirt","shivering","shock","shone","shoplift","shopper","shopping","shoptalk","shore","shortage","shortcake","shortcut","shorten","shorter","shorthand","shortlist","shortly","shortness","shorts","shortwave","shorty","shout","shove","showbiz","showcase","showdown","shower","showgirl","showing","showman","shown","showoff","showpiece","showplace","showroom","showy","shrank","shrapnel","shredder","shredding","shrewdly","shriek","shrill","shrimp","shrine","shrink","shrivel","shrouded","shrubbery","shrubs","shrug","shrunk","shucking","shudder","shuffle","shuffling","shun","shush","shut","shy","siamese","siberian","sibling","siding","sierra","siesta","sift","sighing","silenced","silencer","silent","silica","silicon","silk","silliness","silly","silo","silt","silver","similarly","simile","simmering","simple","simplify","simply","sincere","sincerity","singer","singing","single","singular","sinister","sinless","sinner","sinuous","sip","siren","sister","sitcom","sitter","sitting","situated","situation","sixfold","sixteen","sixth","sixties","sixtieth","sixtyfold","sizable","sizably","size","sizing","sizzle","sizzling","skater","skating","skedaddle","skeletal","skeleton","skeptic","sketch","skewed","skewer","skid","skied","skier","skies","skiing","skilled","skillet","skillful","skimmed","skimmer","skimming","skimpily","skincare","skinhead","skinless","skinning","skinny","skintight","skipper","skipping","skirmish","skirt","skittle","skydiver","skylight","skyline","skype","skyrocket","skyward","slab","slacked","slacker","slacking","slackness","slacks","slain","slam","slander","slang","slapping","slapstick","slashed","slashing","slate","slather","slaw","sled","sleek","sleep","sleet","sleeve","slept","sliceable","sliced","slicer","slicing","slick","slider","slideshow","sliding","slighted","slighting","slightly","slimness","slimy","slinging","slingshot","slinky","slip","slit","sliver","slobbery","slogan","sloped","sloping","sloppily","sloppy","slot","slouching","slouchy","sludge","slug","slum","slurp","slush","sly","small","smartly","smartness","smasher","smashing","smashup","smell","smelting","smile","smilingly","smirk","smite","smith","smitten","smock","smog","smoked","smokeless","smokiness","smoking","smoky","smolder","smooth","smother","smudge","smudgy","smuggler","smuggling","smugly","smugness","snack","snagged","snaking","snap","snare","snarl","snazzy","sneak","sneer","sneeze","sneezing","snide","sniff","snippet","snipping","snitch","snooper","snooze","snore","snoring","snorkel","snort","snout","snowbird","snowboard","snowbound","snowcap","snowdrift","snowdrop","snowfall","snowfield","snowflake","snowiness","snowless","snowman","snowplow","snowshoe","snowstorm","snowsuit","snowy","snub","snuff","snuggle","snugly","snugness","speak","spearfish","spearhead","spearman","spearmint","species","specimen","specked","speckled","specks","spectacle","spectator","spectrum","speculate","speech","speed","spellbind","speller","spelling","spendable","spender","spending","spent","spew","sphere","spherical","sphinx","spider","spied","spiffy","spill","spilt","spinach","spinal","spindle","spinner","spinning","spinout","spinster","spiny","spiral","spirited","spiritism","spirits","spiritual","splashed","splashing","splashy","splatter","spleen","splendid","splendor","splice","splicing","splinter","splotchy","splurge","spoilage","spoiled","spoiler","spoiling","spoils","spoken","spokesman","sponge","spongy","sponsor","spoof","spookily","spooky","spool","spoon","spore","sporting","sports","sporty","spotless","spotlight","spotted","spotter","spotting","spotty","spousal","spouse","spout","sprain","sprang","sprawl","spray","spree","sprig","spring","sprinkled","sprinkler","sprint","sprite","sprout","spruce","sprung","spry","spud","spur","sputter","spyglass","squabble","squad","squall","squander","squash","squatted","squatter","squatting","squeak","squealer","squealing","squeamish","squeegee","squeeze","squeezing","squid","squiggle","squiggly","squint","squire","squirt","squishier","squishy","stability","stabilize","stable","stack","stadium","staff","stage","staging","stagnant","stagnate","stainable","stained","staining","stainless","stalemate","staleness","stalling","stallion","stamina","stammer","stamp","stand","stank","staple","stapling","starboard","starch","stardom","stardust","starfish","stargazer","staring","stark","starless","starlet","starlight","starlit","starring","starry","starship","starter","starting","startle","startling","startup","starved","starving","stash","state","static","statistic","statue","stature","status","statute","statutory","staunch","stays","steadfast","steadier","steadily","steadying","steam","steed","steep","steerable","steering","steersman","stegosaur","stellar","stem","stench","stencil","step","stereo","sterile","sterility","sterilize","sterling","sternness","sternum","stew","stick","stiffen","stiffly","stiffness","stifle","stifling","stillness","stilt","stimulant","stimulate","stimuli","stimulus","stinger","stingily","stinging","stingray","stingy","stinking","stinky","stipend","stipulate","stir","stitch","stock","stoic","stoke","stole","stomp","stonewall","stoneware","stonework","stoning","stony","stood","stooge","stool","stoop","stoplight","stoppable","stoppage","stopped","stopper","stopping","stopwatch","storable","storage","storeroom","storewide","storm","stout","stove","stowaway","stowing","straddle","straggler","strained","strainer","straining","strangely","stranger","strangle","strategic","strategy","stratus","straw","stray","streak","stream","street","strength","strenuous","strep","stress","stretch","strewn","stricken","strict","stride","strife","strike","striking","strive","striving","strobe","strode","stroller","strongbox","strongly","strongman","struck","structure","strudel","struggle","strum","strung","strut","stubbed","stubble","stubbly","stubborn","stucco","stuck","student","studied","studio","study","stuffed","stuffing","stuffy","stumble","stumbling","stump","stung","stunned","stunner","stunning","stunt","stupor","sturdily","sturdy","styling","stylishly","stylist","stylized","stylus","suave","subarctic","subatomic","subdivide","subdued","subduing","subfloor","subgroup","subheader","subject","sublease","sublet","sublevel","sublime","submarine","submerge","submersed","submitter","subpanel","subpar","subplot","subprime","subscribe","subscript","subsector","subside","subsiding","subsidize","subsidy","subsoil","subsonic","substance","subsystem","subtext","subtitle","subtly","subtotal","subtract","subtype","suburb","subway","subwoofer","subzero","succulent","such","suction","sudden","sudoku","suds","sufferer","suffering","suffice","suffix","suffocate","suffrage","sugar","suggest","suing","suitable","suitably","suitcase","suitor","sulfate","sulfide","sulfite","sulfur","sulk","sullen","sulphate","sulphuric","sultry","superbowl","superglue","superhero","superior","superjet","superman","supermom","supernova","supervise","supper","supplier","supply","support","supremacy","supreme","surcharge","surely","sureness","surface","surfacing","surfboard","surfer","surgery","surgical","surging","surname","surpass","surplus","surprise","surreal","surrender","surrogate","surround","survey","survival","survive","surviving","survivor","sushi","suspect","suspend","suspense","sustained","sustainer","swab","swaddling","swagger","swampland","swan","swapping","swarm","sway","swear","sweat","sweep","swell","swept","swerve","swifter","swiftly","swiftness","swimmable","swimmer","swimming","swimsuit","swimwear","swinger","swinging","swipe","swirl","switch","swivel","swizzle","swooned","swoop","swoosh","swore","sworn","swung","sycamore","sympathy","symphonic","symphony","symptom","synapse","syndrome","synergy","synopses","synopsis","synthesis","synthetic","syrup","system","t-shirt","tabasco","tabby","tableful","tables","tablet","tableware","tabloid","tackiness","tacking","tackle","tackling","tacky","taco","tactful","tactical","tactics","tactile","tactless","tadpole","taekwondo","tag","tainted","take","taking","talcum","talisman","tall","talon","tamale","tameness","tamer","tamper","tank","tanned","tannery","tanning","tantrum","tapeless","tapered","tapering","tapestry","tapioca","tapping","taps","tarantula","target","tarmac","tarnish","tarot","tartar","tartly","tartness","task","tassel","taste","tastiness","tasting","tasty","tattered","tattle","tattling","tattoo","taunt","tavern","thank","that","thaw","theater","theatrics","thee","theft","theme","theology","theorize","thermal","thermos","thesaurus","these","thesis","thespian","thicken","thicket","thickness","thieving","thievish","thigh","thimble","thing","think","thinly","thinner","thinness","thinning","thirstily","thirsting","thirsty","thirteen","thirty","thong","thorn","those","thousand","thrash","thread","threaten","threefold","thrift","thrill","thrive","thriving","throat","throbbing","throng","throttle","throwaway","throwback","thrower","throwing","thud","thumb","thumping","thursday","thus","thwarting","thyself","tiara","tibia","tidal","tidbit","tidiness","tidings","tidy","tiger","tighten","tightly","tightness","tightrope","tightwad","tigress","tile","tiling","till","tilt","timid","timing","timothy","tinderbox","tinfoil","tingle","tingling","tingly","tinker","tinkling","tinsel","tinsmith","tint","tinwork","tiny","tipoff","tipped","tipper","tipping","tiptoeing","tiptop","tiring","tissue","trace","tracing","track","traction","tractor","trade","trading","tradition","traffic","tragedy","trailing","trailside","train","traitor","trance","tranquil","transfer","transform","translate","transpire","transport","transpose","trapdoor","trapeze","trapezoid","trapped","trapper","trapping","traps","trash","travel","traverse","travesty","tray","treachery","treading","treadmill","treason","treat","treble","tree","trekker","tremble","trembling","tremor","trench","trend","trespass","triage","trial","triangle","tribesman","tribunal","tribune","tributary","tribute","triceps","trickery","trickily","tricking","trickle","trickster","tricky","tricolor","tricycle","trident","tried","trifle","trifocals","trillion","trilogy","trimester","trimmer","trimming","trimness","trinity","trio","tripod","tripping","triumph","trivial","trodden","trolling","trombone","trophy","tropical","tropics","trouble","troubling","trough","trousers","trout","trowel","truce","truck","truffle","trump","trunks","trustable","trustee","trustful","trusting","trustless","truth","try","tubby","tubeless","tubular","tucking","tuesday","tug","tuition","tulip","tumble","tumbling","tummy","turban","turbine","turbofan","turbojet","turbulent","turf","turkey","turmoil","turret","turtle","tusk","tutor","tutu","tux","tweak","tweed","tweet","tweezers","twelve","twentieth","twenty","twerp","twice","twiddle","twiddling","twig","twilight","twine","twins","twirl","twistable","twisted","twister","twisting","twisty","twitch","twitter","tycoon","tying","tyke","udder","ultimate","ultimatum","ultra","umbilical","umbrella","umpire","unabashed","unable","unadorned","unadvised","unafraid","unaired","unaligned","unaltered","unarmored","unashamed","unaudited","unawake","unaware","unbaked","unbalance","unbeaten","unbend","unbent","unbiased","unbitten","unblended","unblessed","unblock","unbolted","unbounded","unboxed","unbraided","unbridle","unbroken","unbuckled","unbundle","unburned","unbutton","uncanny","uncapped","uncaring","uncertain","unchain","unchanged","uncharted","uncheck","uncivil","unclad","unclaimed","unclamped","unclasp","uncle","unclip","uncloak","unclog","unclothed","uncoated","uncoiled","uncolored","uncombed","uncommon","uncooked","uncork","uncorrupt","uncounted","uncouple","uncouth","uncover","uncross","uncrown","uncrushed","uncured","uncurious","uncurled","uncut","undamaged","undated","undaunted","undead","undecided","undefined","underage","underarm","undercoat","undercook","undercut","underdog","underdone","underfed","underfeed","underfoot","undergo","undergrad","underhand","underline","underling","undermine","undermost","underpaid","underpass","underpay","underrate","undertake","undertone","undertook","undertow","underuse","underwear","underwent","underwire","undesired","undiluted","undivided","undocked","undoing","undone","undrafted","undress","undrilled","undusted","undying","unearned","unearth","unease","uneasily","uneasy","uneatable","uneaten","unedited","unelected","unending","unengaged","unenvied","unequal","unethical","uneven","unexpired","unexposed","unfailing","unfair","unfasten","unfazed","unfeeling","unfiled","unfilled","unfitted","unfitting","unfixable","unfixed","unflawed","unfocused","unfold","unfounded","unframed","unfreeze","unfrosted","unfrozen","unfunded","unglazed","ungloved","unglue","ungodly","ungraded","ungreased","unguarded","unguided","unhappily","unhappy","unharmed","unhealthy","unheard","unhearing","unheated","unhelpful","unhidden","unhinge","unhitched","unholy","unhook","unicorn","unicycle","unified","unifier","uniformed","uniformly","unify","unimpeded","uninjured","uninstall","uninsured","uninvited","union","uniquely","unisexual","unison","unissued","unit","universal","universe","unjustly","unkempt","unkind","unknotted","unknowing","unknown","unlaced","unlatch","unlawful","unleaded","unlearned","unleash","unless","unleveled","unlighted","unlikable","unlimited","unlined","unlinked","unlisted","unlit","unlivable","unloaded","unloader","unlocked","unlocking","unlovable","unloved","unlovely","unloving","unluckily","unlucky","unmade","unmanaged","unmanned","unmapped","unmarked","unmasked","unmasking","unmatched","unmindful","unmixable","unmixed","unmolded","unmoral","unmovable","unmoved","unmoving","unnamable","unnamed","unnatural","unneeded","unnerve","unnerving","unnoticed","unopened","unopposed","unpack","unpadded","unpaid","unpainted","unpaired","unpaved","unpeeled","unpicked","unpiloted","unpinned","unplanned","unplanted","unpleased","unpledged","unplowed","unplug","unpopular","unproven","unquote","unranked","unrated","unraveled","unreached","unread","unreal","unreeling","unrefined","unrelated","unrented","unrest","unretired","unrevised","unrigged","unripe","unrivaled","unroasted","unrobed","unroll","unruffled","unruly","unrushed","unsaddle","unsafe","unsaid","unsalted","unsaved","unsavory","unscathed","unscented","unscrew","unsealed","unseated","unsecured","unseeing","unseemly","unseen","unselect","unselfish","unsent","unsettled","unshackle","unshaken","unshaved","unshaven","unsheathe","unshipped","unsightly","unsigned","unskilled","unsliced","unsmooth","unsnap","unsocial","unsoiled","unsold","unsolved","unsorted","unspoiled","unspoken","unstable","unstaffed","unstamped","unsteady","unsterile","unstirred","unstitch","unstopped","unstuck","unstuffed","unstylish","unsubtle","unsubtly","unsuited","unsure","unsworn","untagged","untainted","untaken","untamed","untangled","untapped","untaxed","unthawed","unthread","untidy","untie","until","untimed","untimely","untitled","untoasted","untold","untouched","untracked","untrained","untreated","untried","untrimmed","untrue","untruth","unturned","untwist","untying","unusable","unused","unusual","unvalued","unvaried","unvarying","unveiled","unveiling","unvented","unviable","unvisited","unvocal","unwanted","unwarlike","unwary","unwashed","unwatched","unweave","unwed","unwelcome","unwell","unwieldy","unwilling","unwind","unwired","unwitting","unwomanly","unworldly","unworn","unworried","unworthy","unwound","unwoven","unwrapped","unwritten","unzip","upbeat","upchuck","upcoming","upcountry","update","upfront","upgrade","upheaval","upheld","uphill","uphold","uplifted","uplifting","upload","upon","upper","upright","uprising","upriver","uproar","uproot","upscale","upside","upstage","upstairs","upstart","upstate","upstream","upstroke","upswing","uptake","uptight","uptown","upturned","upward","upwind","uranium","urban","urchin","urethane","urgency","urgent","urging","urologist","urology","usable","usage","useable","used","uselessly","user","usher","usual","utensil","utility","utilize","utmost","utopia","utter","vacancy","vacant","vacate","vacation","vagabond","vagrancy","vagrantly","vaguely","vagueness","valiant","valid","valium","valley","valuables","value","vanilla","vanish","vanity","vanquish","vantage","vaporizer","variable","variably","varied","variety","various","varmint","varnish","varsity","varying","vascular","vaseline","vastly","vastness","veal","vegan","veggie","vehicular","velcro","velocity","velvet","vendetta","vending","vendor","veneering","vengeful","venomous","ventricle","venture","venue","venus","verbalize","verbally","verbose","verdict","verify","verse","version","versus","vertebrae","vertical","vertigo","very","vessel","vest","veteran","veto","vexingly","viability","viable","vibes","vice","vicinity","victory","video","viewable","viewer","viewing","viewless","viewpoint","vigorous","village","villain","vindicate","vineyard","vintage","violate","violation","violator","violet","violin","viper","viral","virtual","virtuous","virus","visa","viscosity","viscous","viselike","visible","visibly","vision","visiting","visitor","visor","vista","vitality","vitalize","vitally","vitamins","vivacious","vividly","vividness","vixen","vocalist","vocalize","vocally","vocation","voice","voicing","void","volatile","volley","voltage","volumes","voter","voting","voucher","vowed","vowel","voyage","wackiness","wad","wafer","waffle","waged","wager","wages","waggle","wagon","wake","waking","walk","walmart","walnut","walrus","waltz","wand","wannabe","wanted","wanting","wasabi","washable","washbasin","washboard","washbowl","washcloth","washday","washed","washer","washhouse","washing","washout","washroom","washstand","washtub","wasp","wasting","watch","water","waviness","waving","wavy","whacking","whacky","wham","wharf","wheat","whenever","whiff","whimsical","whinny","whiny","whisking","whoever","whole","whomever","whoopee","whooping","whoops","why","wick","widely","widen","widget","widow","width","wieldable","wielder","wife","wifi","wikipedia","wildcard","wildcat","wilder","wildfire","wildfowl","wildland","wildlife","wildly","wildness","willed","willfully","willing","willow","willpower","wilt","wimp","wince","wincing","wind","wing","winking","winner","winnings","winter","wipe","wired","wireless","wiring","wiry","wisdom","wise","wish","wisplike","wispy","wistful","wizard","wobble","wobbling","wobbly","wok","wolf","wolverine","womanhood","womankind","womanless","womanlike","womanly","womb","woof","wooing","wool","woozy","word","work","worried","worrier","worrisome","worry","worsening","worshiper","worst","wound","woven","wow","wrangle","wrath","wreath","wreckage","wrecker","wrecking","wrench","wriggle","wriggly","wrinkle","wrinkly","wrist","writing","written","wrongdoer","wronged","wrongful","wrongly","wrongness","wrought","xbox","xerox","yahoo","yam","yanking","yapping","yard","yarn","yeah","yearbook","yearling","yearly","yearning","yeast","yelling","yelp","yen","yesterday","yiddish","yield","yin","yippee","yo-yo","yodel","yoga","yogurt","yonder","yoyo","yummy","zap","zealous","zebra","zen","zeppelin","zero","zestfully","zesty","zigzagged","zipfile","zipping","zippy","zips","zit","zodiac","zombie","zone","zoning","zookeeper","zoologist","zoology","zoom"]),lot=Object.freeze(aot.filter(t=>!t.includes("-")));function cot({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const uot=B.forwardRef(cot);function dot({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const hot=B.forwardRef(dot);function fot({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const iA=B.forwardRef(fot);function pot({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3"}))}const sA=B.forwardRef(pot);function got({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const $L=B.forwardRef(got);function mot({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 8.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v8.25A2.25 2.25 0 0 0 6 16.5h2.25m8.25-8.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-7.5A2.25 2.25 0 0 1 8.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 0 0-2.25 2.25v6"}))}const yot=B.forwardRef(mot);function wot({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const vot=B.forwardRef(wot);function bot({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const xot=B.forwardRef(bot);function Eot({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15M12 9l3 3m0 0-3 3m3-3H2.25"}))}const _ot=B.forwardRef(Eot);function Aot({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Gw=B.forwardRef(Aot);function Sot({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const Cot=B.forwardRef(Sot);function kot({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const Iot=B.forwardRef(kot);function Tot({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const the=B.forwardRef(Tot);function $ot({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const Mot=B.forwardRef($ot);function Pot({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Not=B.forwardRef(Pot);function Rot({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const Oot=B.forwardRef(Rot);function jot({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const Lot=B.forwardRef(jot);function Dot({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const Bot=B.forwardRef(Dot);function Uot({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Fot=B.forwardRef(Uot);function zot({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const rhe=B.forwardRef(zot);function Wot({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const qot=B.forwardRef(Wot);function Hot({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const Vot=B.forwardRef(Hot);function Kot({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const nhe=B.forwardRef(Kot);function Got({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Yot=B.forwardRef(Got);function Zot({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const xI=B.forwardRef(Zot);function Qot({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const Jot=B.forwardRef(Qot);function Xot({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))}const eat=B.forwardRef(Xot);var q1={},EI,cZ;function tat(){return cZ||(cZ=1,EI=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),EI}var _I={},Xf={},uZ;function Em(){if(uZ)return Xf;uZ=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Xf.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17},Xf.getSymbolTotalCodewords=function(n){return e[n]},Xf.getBCHDigit=function(r){let n=0;for(;r!==0;)n++,r>>>=1;return n},Xf.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');t=n},Xf.isKanjiModeEnabled=function(){return typeof t<"u"},Xf.toSJIS=function(n){return t(n)},Xf}var AI={},dZ;function ML(){return dZ||(dZ=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,i){if(t.isValid(n))return n;try{return e(n)}catch{return i}}})(AI)),AI}var SI,hZ;function rat(){if(hZ)return SI;hZ=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const r=Math.floor(e/8);return(this.buffer[r]>>>7-e%8&1)===1},put:function(e,r){for(let n=0;n<r;n++)this.putBit((e>>>r-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),e&&(this.buffer[r]|=128>>>this.length%8),this.length++}},SI=t,SI}var CI,fZ;function nat(){if(fZ)return CI;fZ=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,r,n,i){const s=e*this.size+r;this.data[s]=n,i&&(this.reservedBit[s]=!0)},t.prototype.get=function(e,r){return this.data[e*this.size+r]},t.prototype.xor=function(e,r,n){this.data[e*this.size+r]^=n},t.prototype.isReserved=function(e,r){return this.reservedBit[e*this.size+r]},CI=t,CI}var kI={},pZ;function iat(){return pZ||(pZ=1,(function(t){const e=Em().getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,s=e(n),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},t.getPositions=function(n){const i=[],s=t.getRowColCoords(n),o=s.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||i.push([s[a],s[l]]);return i}})(kI)),kI}var II={},gZ;function sat(){if(gZ)return II;gZ=1;const t=Em().getSymbolSize,e=7;return II.getPositions=function(n){const i=t(n);return[[0,0],[i-e,0],[0,i-e]]},II}var TI={},mZ;function oat(){return mZ||(mZ=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,l=0,u=null,c=null;for(let h=0;h<s;h++){a=l=0,u=c=null;for(let m=0;m<s;m++){let y=i.get(h,m);y===u?a++:(a>=5&&(o+=e.N1+(a-5)),u=y,a=1),y=i.get(m,h),y===c?l++:(l>=5&&(o+=e.N1+(l-5)),c=y,l=1)}a>=5&&(o+=e.N1+(a-5)),l>=5&&(o+=e.N1+(l-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let l=0;l<s-1;l++){const u=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(u===4||u===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,l=0;for(let u=0;u<s;u++){a=l=0;for(let c=0;c<s;c++)a=a<<1&2047|i.get(u,c),c>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|i.get(c,u),c>=10&&(l===1488||l===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let l=0;l<o;l++)s+=i.data[l];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function r(n,i,s){switch(n){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)s.isReserved(l,a)||s.xor(l,a,r(i,l,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let u=0;u<o;u++){s(u),t.applyMask(u,i);const c=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(u,i),c<l&&(l=c,a=u)}return a}})(TI)),TI}var _x={},yZ;function ihe(){if(yZ)return _x;yZ=1;const t=ML(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],r=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return _x.getBlocksCount=function(i,s){switch(s){case t.L:return e[(i-1)*4+0];case t.M:return e[(i-1)*4+1];case t.Q:return e[(i-1)*4+2];case t.H:return e[(i-1)*4+3];default:return}},_x.getTotalCodewordsCount=function(i,s){switch(s){case t.L:return r[(i-1)*4+0];case t.M:return r[(i-1)*4+1];case t.Q:return r[(i-1)*4+2];case t.H:return r[(i-1)*4+3];default:return}},_x}var $I={},cv={},wZ;function aat(){if(wZ)return cv;wZ=1;const t=new Uint8Array(512),e=new Uint8Array(256);return(function(){let n=1;for(let i=0;i<255;i++)t[i]=n,e[n]=i,n<<=1,n&256&&(n^=285);for(let i=255;i<512;i++)t[i]=t[i-255]})(),cv.log=function(n){if(n<1)throw new Error("log("+n+")");return e[n]},cv.exp=function(n){return t[n]},cv.mul=function(n,i){return n===0||i===0?0:t[e[n]+e[i]]},cv}var vZ;function lat(){return vZ||(vZ=1,(function(t){const e=aat();t.mul=function(n,i){const s=new Uint8Array(n.length+i.length-1);for(let o=0;o<n.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(n[o],i[a]);return s},t.mod=function(n,i){let s=new Uint8Array(n);for(;s.length-i.length>=0;){const o=s[0];for(let l=0;l<i.length;l++)s[l]^=e.mul(i[l],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let s=0;s<n;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})($I)),$I}var MI,bZ;function cat(){if(bZ)return MI;bZ=1;const t=lat();function e(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(n){this.degree=n,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(n.length+this.degree);i.set(n);const s=t.mod(i,this.genPoly),o=this.degree-s.length;if(o>0){const a=new Uint8Array(this.degree);return a.set(s,o),a}return s},MI=e,MI}var PI={},NI={},RI={},xZ;function she(){return xZ||(xZ=1,RI.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),RI}var Zu={},EZ;function ohe(){if(EZ)return Zu;EZ=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";r=r.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+r+`)(?:.|[\r
]))+`;Zu.KANJI=new RegExp(r,"g"),Zu.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Zu.BYTE=new RegExp(n,"g"),Zu.NUMERIC=new RegExp(t,"g"),Zu.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+r+"$"),s=new RegExp("^"+t+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Zu.testKanji=function(l){return i.test(l)},Zu.testNumeric=function(l){return s.test(l)},Zu.testAlphanumeric=function(l){return o.test(l)},Zu}var _Z;function _m(){return _Z||(_Z=1,(function(t){const e=she(),r=ohe();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return r.testNumeric(s)?t.NUMERIC:r.testAlphanumeric(s)?t.ALPHANUMERIC:r.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return n(s)}catch{return o}}})(NI)),NI}var AZ;function uat(){return AZ||(AZ=1,(function(t){const e=Em(),r=ihe(),n=ML(),i=_m(),s=she(),o=7973,a=e.getBCHDigit(o);function l(m,y,b){for(let E=1;E<=40;E++)if(y<=t.getCapacity(E,b,m))return E}function u(m,y){return i.getCharCountIndicator(m,y)+4}function c(m,y){let b=0;return m.forEach(function(E){const A=u(E.mode,y);b+=A+E.getBitsLength()}),b}function h(m,y){for(let b=1;b<=40;b++)if(c(m,b)<=t.getCapacity(b,y,i.MIXED))return b}t.from=function(y,b){return s.isValid(y)?parseInt(y,10):b},t.getCapacity=function(y,b,E){if(!s.isValid(y))throw new Error("Invalid QR Code version");typeof E>"u"&&(E=i.BYTE);const A=e.getSymbolTotalCodewords(y),M=r.getTotalCodewordsCount(y,b),O=(A-M)*8;if(E===i.MIXED)return O;const P=O-u(E,y);switch(E){case i.NUMERIC:return Math.floor(P/10*3);case i.ALPHANUMERIC:return Math.floor(P/11*2);case i.KANJI:return Math.floor(P/13);case i.BYTE:default:return Math.floor(P/8)}},t.getBestVersionForData=function(y,b){let E;const A=n.from(b,n.M);if(Array.isArray(y)){if(y.length>1)return h(y,A);if(y.length===0)return 1;E=y[0]}else E=y;return l(E.mode,E.getLength(),A)},t.getEncodedBits=function(y){if(!s.isValid(y)||y<7)throw new Error("Invalid QR Code version");let b=y<<12;for(;e.getBCHDigit(b)-a>=0;)b^=o<<e.getBCHDigit(b)-a;return y<<12|b}})(PI)),PI}var OI={},SZ;function dat(){if(SZ)return OI;SZ=1;const t=Em(),e=1335,r=21522,n=t.getBCHDigit(e);return OI.getEncodedBits=function(s,o){const a=s.bit<<3|o;let l=a<<10;for(;t.getBCHDigit(l)-n>=0;)l^=e<<t.getBCHDigit(l)-n;return(a<<10|l)^r},OI}var jI={},LI,CZ;function hat(){if(CZ)return LI;CZ=1;const t=_m();function e(r){this.mode=t.NUMERIC,this.data=r.toString()}return e.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){let i,s,o;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),o=parseInt(s,10),n.put(o,10);const a=this.data.length-i;a>0&&(s=this.data.substr(i),o=parseInt(s,10),n.put(o,a*3+1))},LI=e,LI}var DI,kZ;function fat(){if(kZ)return DI;kZ=1;const t=_m(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function r(n){this.mode=t.ALPHANUMERIC,this.data=n}return r.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let o=e.indexOf(this.data[s])*45;o+=e.indexOf(this.data[s+1]),i.put(o,11)}this.data.length%2&&i.put(e.indexOf(this.data[s]),6)},DI=r,DI}var BI,IZ;function pat(){if(IZ)return BI;IZ=1;const t=_m();function e(r){this.mode=t.BYTE,typeof r=="string"?this.data=new TextEncoder().encode(r):this.data=new Uint8Array(r)}return e.getBitsLength=function(n){return n*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){for(let n=0,i=this.data.length;n<i;n++)r.put(this.data[n],8)},BI=e,BI}var UI,TZ;function gat(){if(TZ)return UI;TZ=1;const t=_m(),e=Em();function r(n){this.mode=t.KANJI,this.data=n}return r.getBitsLength=function(i){return i*13},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(n){let i;for(i=0;i<this.data.length;i++){let s=e.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),n.put(s,13)}},UI=r,UI}var FI={exports:{}},$Z;function ahe(){return $Z||($Z=1,(function(t){var e={single_source_shortest_paths:function(r,n,i){var s={},o={};o[n]=0;var a=e.PriorityQueue.make();a.push(n,0);for(var l,u,c,h,m,y,b,E,A;!a.empty();){l=a.pop(),u=l.value,h=l.cost,m=r[u]||{};for(c in m)m.hasOwnProperty(c)&&(y=m[c],b=h+y,E=o[c],A=typeof o[c]>"u",(A||E>b)&&(o[c]=b,a.push(c,b),s[c]=u))}if(typeof i<"u"&&typeof o[i]>"u"){var M=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(M)}return s},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],s=n;s;)i.push(s),r[s],s=r[s];return i.reverse(),i},find_path:function(r,n,i){var s=e.single_source_shortest_paths(r,n,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(r){var n=e.PriorityQueue,i={},s;r=r||{};for(s in n)n.hasOwnProperty(s)&&(i[s]=n[s]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(FI)),FI.exports}var MZ;function mat(){return MZ||(MZ=1,(function(t){const e=_m(),r=hat(),n=fat(),i=pat(),s=gat(),o=ohe(),a=Em(),l=ahe();function u(M){return unescape(encodeURIComponent(M)).length}function c(M,O,P){const z=[];let L;for(;(L=M.exec(P))!==null;)z.push({data:L[0],index:L.index,mode:O,length:L[0].length});return z}function h(M){const O=c(o.NUMERIC,e.NUMERIC,M),P=c(o.ALPHANUMERIC,e.ALPHANUMERIC,M);let z,L;return a.isKanjiModeEnabled()?(z=c(o.BYTE,e.BYTE,M),L=c(o.KANJI,e.KANJI,M)):(z=c(o.BYTE_KANJI,e.BYTE,M),L=[]),O.concat(P,z,L).sort(function(H,G){return H.index-G.index}).map(function(H){return{data:H.data,mode:H.mode,length:H.length}})}function m(M,O){switch(O){case e.NUMERIC:return r.getBitsLength(M);case e.ALPHANUMERIC:return n.getBitsLength(M);case e.KANJI:return s.getBitsLength(M);case e.BYTE:return i.getBitsLength(M)}}function y(M){return M.reduce(function(O,P){const z=O.length-1>=0?O[O.length-1]:null;return z&&z.mode===P.mode?(O[O.length-1].data+=P.data,O):(O.push(P),O)},[])}function b(M){const O=[];for(let P=0;P<M.length;P++){const z=M[P];switch(z.mode){case e.NUMERIC:O.push([z,{data:z.data,mode:e.ALPHANUMERIC,length:z.length},{data:z.data,mode:e.BYTE,length:z.length}]);break;case e.ALPHANUMERIC:O.push([z,{data:z.data,mode:e.BYTE,length:z.length}]);break;case e.KANJI:O.push([z,{data:z.data,mode:e.BYTE,length:u(z.data)}]);break;case e.BYTE:O.push([{data:z.data,mode:e.BYTE,length:u(z.data)}])}}return O}function E(M,O){const P={},z={start:{}};let L=["start"];for(let W=0;W<M.length;W++){const H=M[W],G=[];for(let N=0;N<H.length;N++){const F=H[N],U=""+W+N;G.push(U),P[U]={node:F,lastCount:0},z[U]={};for(let j=0;j<L.length;j++){const _=L[j];P[_]&&P[_].node.mode===F.mode?(z[_][U]=m(P[_].lastCount+F.length,F.mode)-m(P[_].lastCount,F.mode),P[_].lastCount+=F.length):(P[_]&&(P[_].lastCount=F.length),z[_][U]=m(F.length,F.mode)+4+e.getCharCountIndicator(F.mode,O))}}L=G}for(let W=0;W<L.length;W++)z[L[W]].end=0;return{map:z,table:P}}function A(M,O){let P;const z=e.getBestModeForData(M);if(P=e.from(O,z),P!==e.BYTE&&P.bit<z.bit)throw new Error('"'+M+'" cannot be encoded with mode '+e.toString(P)+`.
 Suggested mode is: `+e.toString(z));switch(P===e.KANJI&&!a.isKanjiModeEnabled()&&(P=e.BYTE),P){case e.NUMERIC:return new r(M);case e.ALPHANUMERIC:return new n(M);case e.KANJI:return new s(M);case e.BYTE:return new i(M)}}t.fromArray=function(O){return O.reduce(function(P,z){return typeof z=="string"?P.push(A(z,null)):z.data&&P.push(A(z.data,z.mode)),P},[])},t.fromString=function(O,P){const z=h(O,a.isKanjiModeEnabled()),L=b(z),W=E(L,P),H=l.find_path(W.map,"start","end"),G=[];for(let N=1;N<H.length-1;N++)G.push(W.table[H[N]].node);return t.fromArray(y(G))},t.rawSplit=function(O){return t.fromArray(h(O,a.isKanjiModeEnabled()))}})(jI)),jI}var PZ;function yat(){if(PZ)return _I;PZ=1;const t=Em(),e=ML(),r=rat(),n=nat(),i=iat(),s=sat(),o=oat(),a=ihe(),l=cat(),u=uat(),c=dat(),h=_m(),m=mat();function y(W,H){const G=W.size,N=s.getPositions(H);for(let F=0;F<N.length;F++){const U=N[F][0],j=N[F][1];for(let _=-1;_<=7;_++)if(!(U+_<=-1||G<=U+_))for(let d=-1;d<=7;d++)j+d<=-1||G<=j+d||(_>=0&&_<=6&&(d===0||d===6)||d>=0&&d<=6&&(_===0||_===6)||_>=2&&_<=4&&d>=2&&d<=4?W.set(U+_,j+d,!0,!0):W.set(U+_,j+d,!1,!0))}}function b(W){const H=W.size;for(let G=8;G<H-8;G++){const N=G%2===0;W.set(G,6,N,!0),W.set(6,G,N,!0)}}function E(W,H){const G=i.getPositions(H);for(let N=0;N<G.length;N++){const F=G[N][0],U=G[N][1];for(let j=-2;j<=2;j++)for(let _=-2;_<=2;_++)j===-2||j===2||_===-2||_===2||j===0&&_===0?W.set(F+j,U+_,!0,!0):W.set(F+j,U+_,!1,!0)}}function A(W,H){const G=W.size,N=u.getEncodedBits(H);let F,U,j;for(let _=0;_<18;_++)F=Math.floor(_/3),U=_%3+G-8-3,j=(N>>_&1)===1,W.set(F,U,j,!0),W.set(U,F,j,!0)}function M(W,H,G){const N=W.size,F=c.getEncodedBits(H,G);let U,j;for(U=0;U<15;U++)j=(F>>U&1)===1,U<6?W.set(U,8,j,!0):U<8?W.set(U+1,8,j,!0):W.set(N-15+U,8,j,!0),U<8?W.set(8,N-U-1,j,!0):U<9?W.set(8,15-U-1+1,j,!0):W.set(8,15-U-1,j,!0);W.set(N-8,8,1,!0)}function O(W,H){const G=W.size;let N=-1,F=G-1,U=7,j=0;for(let _=G-1;_>0;_-=2)for(_===6&&_--;;){for(let d=0;d<2;d++)if(!W.isReserved(F,_-d)){let g=!1;j<H.length&&(g=(H[j]>>>U&1)===1),W.set(F,_-d,g),U--,U===-1&&(j++,U=7)}if(F+=N,F<0||G<=F){F-=N,N=-N;break}}}function P(W,H,G){const N=new r;G.forEach(function(d){N.put(d.mode.bit,4),N.put(d.getLength(),h.getCharCountIndicator(d.mode,W)),d.write(N)});const F=t.getSymbolTotalCodewords(W),U=a.getTotalCodewordsCount(W,H),j=(F-U)*8;for(N.getLengthInBits()+4<=j&&N.put(0,4);N.getLengthInBits()%8!==0;)N.putBit(0);const _=(j-N.getLengthInBits())/8;for(let d=0;d<_;d++)N.put(d%2?17:236,8);return z(N,W,H)}function z(W,H,G){const N=t.getSymbolTotalCodewords(H),F=a.getTotalCodewordsCount(H,G),U=N-F,j=a.getBlocksCount(H,G),_=N%j,d=j-_,g=Math.floor(N/j),x=Math.floor(U/j),C=x+1,k=g-x,T=new l(k);let R=0;const I=new Array(j),f=new Array(j);let S=0;const K=new Uint8Array(W.buffer);for(let ce=0;ce<j;ce++){const Se=ce<d?x:C;I[ce]=K.slice(R,R+Se),f[ce]=T.encode(I[ce]),R+=Se,S=Math.max(S,Se)}const D=new Uint8Array(N);let J=0,ne,ie;for(ne=0;ne<S;ne++)for(ie=0;ie<j;ie++)ne<I[ie].length&&(D[J++]=I[ie][ne]);for(ne=0;ne<k;ne++)for(ie=0;ie<j;ie++)D[J++]=f[ie][ne];return D}function L(W,H,G,N){let F;if(Array.isArray(W))F=m.fromArray(W);else if(typeof W=="string"){let g=H;if(!g){const x=m.rawSplit(W);g=u.getBestVersionForData(x,G)}F=m.fromString(W,g||40)}else throw new Error("Invalid data");const U=u.getBestVersionForData(F,G);if(!U)throw new Error("The amount of data is too big to be stored in a QR Code");if(!H)H=U;else if(H<U)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+U+`.
`);const j=P(H,G,F),_=t.getSymbolSize(H),d=new n(_);return y(d,H),b(d),E(d,H),M(d,G,0),H>=7&&A(d,H),O(d,j),isNaN(N)&&(N=o.getBestMask(d,M.bind(null,d,G))),o.applyMask(N,d),M(d,G,N),{modules:d,version:H,errorCorrectionLevel:G,maskPattern:N,segments:F}}return _I.create=function(H,G){if(typeof H>"u"||H==="")throw new Error("No input text");let N=e.M,F,U;return typeof G<"u"&&(N=e.from(G.errorCorrectionLevel,e.M),F=u.from(G.version),U=o.from(G.maskPattern),G.toSJISFunc&&t.setToSJISFunction(G.toSJISFunc)),L(H,F,N,U)},_I}var zI={},WI={},NZ;function lhe(){return NZ||(NZ=1,(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(s){return[s,s]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,s=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},t.getImageWidth=function(n,i){const s=t.getScale(n,i);return Math.floor((n+i.margin*2)*s)},t.qrToImageData=function(n,i,s){const o=i.modules.size,a=i.modules.data,l=t.getScale(o,s),u=Math.floor((o+s.margin*2)*l),c=s.margin*l,h=[s.color.light,s.color.dark];for(let m=0;m<u;m++)for(let y=0;y<u;y++){let b=(m*u+y)*4,E=s.color.light;if(m>=c&&y>=c&&m<u-c&&y<u-c){const A=Math.floor((m-c)/l),M=Math.floor((y-c)/l);E=h[a[A*o+M]?1:0]}n[b++]=E.r,n[b++]=E.g,n[b++]=E.b,n[b]=E.a}}})(WI)),WI}var RZ;function wat(){return RZ||(RZ=1,(function(t){const e=lhe();function r(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let l=a,u=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(u=n()),l=e.getOptions(l);const c=e.getImageWidth(s.modules.size,l),h=u.getContext("2d"),m=h.createImageData(c,c);return e.qrToImageData(m.data,s,l),r(h,u,c),h.putImageData(m,0,0),u},t.renderToDataURL=function(s,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const u=t.render(s,o,l),c=l.type||"image/png",h=l.rendererOpts||{};return u.toDataURL(c,h.quality)}})(zI)),zI}var qI={},OZ;function vat(){if(OZ)return qI;OZ=1;const t=lhe();function e(i,s){const o=i.a/255,a=s+'="'+i.hex+'"';return o<1?a+" "+s+'-opacity="'+o.toFixed(2).slice(1)+'"':a}function r(i,s,o){let a=i+s;return typeof o<"u"&&(a+=" "+o),a}function n(i,s,o){let a="",l=0,u=!1,c=0;for(let h=0;h<i.length;h++){const m=Math.floor(h%s),y=Math.floor(h/s);!m&&!u&&(u=!0),i[h]?(c++,h>0&&m>0&&i[h-1]||(a+=u?r("M",m+o,.5+y+o):r("m",l,0),l=0,u=!1),m+1<s&&i[h+1]||(a+=r("h",c),c=0)):l++}return a}return qI.render=function(s,o,a){const l=t.getOptions(o),u=s.modules.size,c=s.modules.data,h=u+l.margin*2,m=l.color.light.a?"<path "+e(l.color.light,"fill")+' d="M0 0h'+h+"v"+h+'H0z"/>':"",y="<path "+e(l.color.dark,"stroke")+' d="'+n(c,u,l.margin)+'"/>',b='viewBox="0 0 '+h+" "+h+'"',A='<svg xmlns="http://www.w3.org/2000/svg" '+(l.width?'width="'+l.width+'" height="'+l.width+'" ':"")+b+' shape-rendering="crispEdges">'+m+y+`</svg>
`;return typeof a=="function"&&a(null,A),A},qI}var jZ;function bat(){if(jZ)return q1;jZ=1;const t=tat(),e=yat(),r=wat(),n=vat();function i(s,o,a,l,u){const c=[].slice.call(arguments,1),h=c.length,m=typeof c[h-1]=="function";if(!m&&!t())throw new Error("Callback required as last argument");if(m){if(h<2)throw new Error("Too few arguments provided");h===2?(u=a,a=o,o=l=void 0):h===3&&(o.getContext&&typeof u>"u"?(u=l,l=void 0):(u=l,l=a,a=o,o=void 0))}else{if(h<1)throw new Error("Too few arguments provided");return h===1?(a=o,o=l=void 0):h===2&&!o.getContext&&(l=a,a=o,o=void 0),new Promise(function(y,b){try{const E=e.create(a,l);y(s(E,o,l))}catch(E){b(E)}})}try{const y=e.create(a,l);u(null,s(y,o,l))}catch(y){u(y)}}return q1.create=e.create,q1.toCanvas=i.bind(null,r.render),q1.toDataURL=i.bind(null,r.renderToDataURL),q1.toString=i.bind(null,function(s,o,a){return n.render(s,a)}),q1}var xat=bat();const Eat=ds(xat);function _at({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const d5=B.forwardRef(_at);function Aat({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const Sat=B.forwardRef(Aat);function Cat({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{fillRule:"evenodd",d:"M15.97 2.47a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1 0 1.06l-4.5 4.5a.75.75 0 1 1-1.06-1.06l3.22-3.22H7.5a.75.75 0 0 1 0-1.5h11.69l-3.22-3.22a.75.75 0 0 1 0-1.06Zm-7.94 9a.75.75 0 0 1 0 1.06l-3.22 3.22H16.5a.75.75 0 0 1 0 1.5H4.81l3.22 3.22a.75.75 0 1 1-1.06 1.06l-4.5-4.5a.75.75 0 0 1 0-1.06l4.5-4.5a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const PL=B.forwardRef(Cat);function kat({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{fillRule:"evenodd",d:"M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const Iat=B.forwardRef(kat);function Tat({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{fillRule:"evenodd",d:"M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z",clipRule:"evenodd"}))}const $at=B.forwardRef(Tat);function Mat({title:t,titleId:e,...r},n){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?B.createElement("title",{id:e},t):null,B.createElement("path",{fillRule:"evenodd",d:"M12.516 2.17a.75.75 0 0 0-1.032 0 11.209 11.209 0 0 1-7.877 3.08.75.75 0 0 0-.722.515A12.74 12.74 0 0 0 2.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 0 0 .374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 0 0-.722-.516l-.143.001c-2.996 0-5.717-1.17-7.734-3.08Zm3.094 8.016a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const Pat=B.forwardRef(Mat);function h5(t){return t?{"privy-ui":"t"}:void 0}class uy{async authenticate(){if(!this.api)throw new be("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new be("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(VSe,{email:this.meta.email,code:this.meta.emailCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw en(e)}}async link(){if(!this.api)throw new be("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new be("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(KSe,{email:this.meta.email,code:this.meta.emailCode})}catch(e){throw en(e)}}async sendCodeEmail({email:e,captchaToken:r,withPrivyUi:n}){if(!this.api)throw new be("Auth flow has no API instance");if(e&&(this.meta.email=e),r&&(this.meta.captchaToken=r),!this.meta.email)throw new be("Email must be set when initialzing authentication.");let i=h5(n);try{return await this.api.post(HSe,{email:this.meta.email,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw en(s)}}constructor({email:e,captchaToken:r,disableSignup:n}){this.meta={email:e,captchaToken:r,disableSignup:n??!1}}}class Nat extends uy{async link(){if(!this.api)throw new be("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode||!this.meta.oldAddress)throw new be("Email, email code, and an old email address must be set prior to calling update.");try{return await this.api.post(YSe,{oldAddress:this.meta.oldAddress,newAddress:this.meta.email,code:this.meta.emailCode})}catch(e){throw en(e)}}constructor(e,r,n){super({email:r,captchaToken:n}),this.meta={email:r,captchaToken:n,oldAddress:e,disableSignup:!1}}}class che{get(e){let r=localStorage.getItem(e);return r===null?void 0:JSON.parse(r)}put(e,r){r!==void 0?localStorage.setItem(e,JSON.stringify(r)):this.del(e)}del(e){localStorage.removeItem(e)}getKeys(){return Object.entries(localStorage).map((([e])=>e))}}function xN(){try{let t="privy:__session_storage__test",e=new che;return e.put(t,"blobby"),e.del(t),!0}catch{return!1}}var or=typeof window<"u"&&window.localStorage?new che:new class{get(t){return this._cache[t]}put(t,e){e!==void 0?this._cache[t]=e:this.del(t)}del(t){delete this._cache[t]}getKeys(){return Object.keys(this._cache)}constructor(){this._cache={}}};function uhe(t){return{name:t.metadata?.shortName||t.name||"",universalLink:t.mobile.universal,deepLink:t.mobile.native}}function LZ(t,e){let r=uhe(e);if(r.universalLink)return NL(r.universalLink,t)}let HI="WALLETCONNECT_DEEPLINK_CHOICE";function dhe(t){return t.startsWith("http://")||t.startsWith("https://")}function hhe(t,e){if(dhe(t))return NL(t,e);let r=t;return r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),{redirect:`${r}wc?uri=${encodeURIComponent(e)}`,href:r}}function NL(t,e){if(!dhe(t))return hhe(t,e);let r=t;return r.endsWith("/")||(r=`${r}/`),{redirect:`${r}wc?uri=${encodeURIComponent(e)}`,href:r}}function fhe(t,e){window.open(t,e,"noreferrer noopener")}class Yo{execute(e){return this.promise===null&&(this.promise=(async()=>{try{return await this.fn(e)}finally{this.promise=null}})()),this.promise}constructor(e){this.promise=null,this.fn=e}}class DZ{get meta(){return this._meta}async authenticate(){if(!this.api)throw new be("Auth flow has no API instance");if(!this.meta.channelToken)throw new be("Auth flow must be initialized first");try{let e=await this.api.post(USe,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});if(!e)throw new be("No response from authentication");return e}catch(e){throw en(e)}}async link(){if(!this.api)throw new be("Auth flow has no API instance");try{return await this.api.post(FSe,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid})}catch(e){throw en(e)}}async _startChannelOnce(){if(!this.api)throw new be("Auth flow has no API instance");let e=await this.api.post(BSe,{token:this.captchaToken});hn.isMobile&&!hn.isIOS&&e.connect_uri&&fhe(e.connect_uri,"_blank"),this._meta={...this._meta,connectUri:e.connect_uri,channelToken:e.channel_token}}async initializeFarcasterConnect(){if(!this.api)throw new be("Auth flow has no API instance");await this.startChannelOnce.execute()}async _pollForReady(){if(!this.api)throw new be("Auth flow has no API instance");if(!this.meta.channelToken)throw new be("Auth flow must be initialized first");let e=await this.api.get(zSe,{headers:{"farcaster-channel-token":this.meta.channelToken}});return e.state==="completed"&&(this.message=e.message,this.signature=e.signature,this.fid=e.fid,!0)}constructor(e,r=!1){this._meta={disableSignup:!1},this.captchaToken=e,this.startChannelOnce=new Yo(this._startChannelOnce.bind(this)),this.pollForReady=new Yo(this._pollForReady.bind(this)),this._meta.disableSignup=r}}const EN="https://auth.privy.io",li=1400,RL=2500,oA=4e3,Rat="2.24.0",hb="privy:token",BZ="privy-token",VI="privy:refresh_token",m8="privy:pat",UZ="privy:id_token",FZ="privy-id-token",KI="privy-session",_N="privy:caid",phe=t=>`privy:guest:${t}`,Ax=t=>`privy:cross-app:${t}`,BE="privy:state_code",uv="privy:code_verifier",UE="privy:headless_oauth",Gb="privy:oauth_disable_signup",GI=t=>`privy:wallet:${t}`,zZ="privy:connectors",ghe="privy:connections",aA=12e4,mhe=3e4,Oat="https://api.moonpay.com/v1",jat="https://api.moonpay.com/v1",Lat="pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL",Dat="pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI";function OL(){return typeof window<"u"&&window.location.protocol==="chrome-extension:"&&"chrome"in window}function yhe(){return OL()?window.chrome?.runtime?.id:void 0}function AN(){return OL()?typeof window.chrome?.identity?.launchWebAuthFlow=="function":!1}async function WZ(t){return new Promise(((e,r)=>{AN()?window.chrome.identity.launchWebAuthFlow({url:t,interactive:!0},(async n=>{try{let i=(function(){return OL()?window.chrome?.runtime?.lastError?.message:void 0})();if(i||!n){let u=`WebAuthFlow failed: ${i||"Response URI missing"}`;throw Error(u)}let s=new URL(n),o=yhe();if(!o)throw Error("Invalid extension context");if(s.protocol==="chrome-extension:"){if(s.hostname!==o)throw Error("Invalid responseUri origin")}else{if(s.protocol!=="https:")throw Error("Invalid responseUri protocol");{let u=s.hostname.split(".");if(u.length!==3||u[1]!=="chromiumapp"||u[2]!=="org"||u[0]!==o)throw Error("Invalid responseUri origin")}}let a=s.searchParams.get("privy_oauth_state"),l=s.searchParams.get("privy_oauth_code");if(!a||!l)throw Error("Invalid responseUri - missing required parameters");e({privyOAuthState:a,privyOAuthCode:l})}catch(i){r(i)}})):r(Error("Chrome identity API not available"))}))}function SN(t){return crypto.getRandomValues(new Uint8Array(t))}function lA(){return Bg(SN(36))}function jL(){return lA()}async function LL(t,e="S256"){if(e!="S256")return t;{let r=await(async function(n){let i=new TextEncoder().encode(n);return new Uint8Array(await crypto.subtle.digest("SHA-256",i))})(t);return Bg(r)}}class J1{addCaptchaToken(e){this.meta.captchaToken=e}isActive(){return!!(this.meta.authorizationCode&&this.meta.stateCode&&this.meta.provider)}async authenticate(){if(!this.api)throw new be("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new be("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenticate.");if(this.meta.authorizationCode==="undefined")throw new be("User denied confirmation during OAuth flow");let e=(function(){let r=or.get(uv);if(!r)throw new be("Authentication error.");return r})();try{let r=await this.api.post(sie,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});return or.del(uv),or.del(UE),or.del(Gb),r}catch(r){let n=en(r);throw n.privyErrorCode?new be(n.message||"Invalid code during OAuth flow.",void 0,n.privyErrorCode):n.message==="User denied confirmation during OAuth flow"?new be("Invalid code during oauth flow.",void 0,Ee.OAUTH_USER_DENIED):new be("Invalid code during OAuth flow.",void 0,Ee.UNKNOWN_AUTH_ERROR)}}async link(){if(!this.api)throw new be("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new be("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling link.");if(this.meta.authorizationCode==="undefined")throw new be("User denied confirmation during OAuth flow");let e=or.get(uv);if(!e)throw new be("Authentication error.");try{let r=await this.api.post(oie,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e});return or.del(uv),r}catch(r){throw en(r)}}async getAuthorizationUrl(){if(!this.api)throw new be("Auth flow has no API instance");if(!this.meta.provider)throw new be("Provider must be set when initializing OAuth authentication.");let e=lA();or.put(uv,e);let r=jL();or.put(BE,r);let n=await LL(e);this.meta.withPrivyUi||or.put(UE,!0),this.meta.disableSignup?or.put(Gb,!0):or.del(Gb);let i=h5(this.meta.withPrivyUi),s=window.location.href,o=(function(){let a=yhe();if(a)return`https://${a}.chromiumapp.org`})();o&&(s=o);try{return await this.api.post(iie,{provider:this.meta.provider,redirect_to:s,token:this.meta.captchaToken,code_challenge:n,state_code:r},{headers:{...i}})}catch(a){throw en(a)}}constructor(e){this.meta=e}}function whe(t){return t.charAt(0).toUpperCase()+t.slice(1)}const vhe=({style:t,...e})=>w.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[w.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#040507"}),w.jsx("path",{d:"M17.2949 6.37537C18.0156 5.44684 19.4671 4.57877 20.4927 4.46512C20.8178 4.42885 20.8581 4.43127 20.9312 4.50139L20.9967 4.56426L20.9816 4.99225C20.9564 5.65963 20.8682 6.12873 20.6716 6.6341C20.4751 7.13705 20.1198 7.71738 19.8426 7.97852C19.7594 8.06074 19.6007 8.22516 19.4948 8.34848C19.0563 8.84901 18.439 9.20205 17.5973 9.4366C17.2823 9.52606 17.2596 9.52848 16.8917 9.52606C16.4482 9.52365 16.3852 9.51156 16.3524 9.43176C16.3398 9.39791 16.3272 9.18996 16.3222 8.9675L16.3171 8.56127L16.423 8.17922C16.6347 7.41512 16.8791 6.90733 17.2949 6.37537Z",fill:"white"}),w.jsx("path",{d:"M17.4512 10.2081C18.4163 9.84541 19.7595 9.48754 20.2584 9.46336C20.6616 9.4416 21.2966 9.49238 21.7225 9.57943C22.1383 9.66164 22.4357 9.76078 22.8666 9.96148C23.5571 10.2831 24.1442 10.7135 24.6104 11.2382C24.9582 11.6299 24.9783 11.6807 24.8397 11.8113C24.7944 11.8548 24.6885 11.9249 24.6054 11.9709C24.4542 12.0507 23.8368 12.5464 23.8368 12.5875C23.8368 12.5971 23.736 12.7108 23.6125 12.8341C23.2068 13.25 23.0279 13.5861 22.7683 14.4252C22.7078 14.6186 22.6448 14.8725 22.6272 14.9934C22.5566 15.4577 22.5919 16.125 22.7154 16.7344C22.7885 17.1044 23.0808 17.7306 23.3706 18.1489C23.7763 18.7317 24.3786 19.2491 24.9909 19.5514C25.316 19.7086 25.5 19.8464 25.5 19.9334C25.5 19.96 25.4773 20.0205 25.4521 20.064C25.4244 20.1075 25.3866 20.2164 25.3639 20.3034C25.311 20.521 25.001 21.244 24.807 21.5971C24.0862 22.9052 23.3731 23.8748 22.6095 24.5833C21.8611 25.2725 21.1606 25.582 20.4348 25.5385C19.9359 25.5094 19.4596 25.3934 18.7842 25.1322C18.2248 24.917 18.0081 24.8493 17.7939 24.8203C17.688 24.8058 17.4915 24.7768 17.3604 24.7574C16.9774 24.697 16.7254 24.6921 16.4533 24.7478C15.5461 24.9267 15.5133 24.9364 15.0144 25.1371C14.2231 25.4562 13.8073 25.5578 13.2907 25.5578C12.8875 25.5602 12.696 25.5143 12.2575 25.3087C11.8694 25.125 11.5948 24.9315 11.2546 24.5978C10.9295 24.2811 10.7052 24.0151 10.2642 23.4323C9.18818 22.0081 9.02187 21.7276 8.49519 20.4582C8.28612 19.9546 8.19971 19.7502 8.13026 19.5402C8.07498 19.373 8.03043 19.2023 7.94332 18.8744C7.73164 18.074 7.70896 17.9869 7.70896 17.8709C7.70896 17.8153 7.68628 17.675 7.66108 17.5565C7.44184 16.5917 7.44688 15.0007 7.67116 14.1713C7.82236 13.6127 8.02648 13.088 8.30367 12.5512C8.92863 11.3325 9.71738 10.5539 10.874 10.0123C11.2571 9.8309 11.5444 9.74627 12.0534 9.65922C12.2903 9.62054 12.5523 9.56976 12.6355 9.54799C12.8421 9.49238 13.3184 9.49963 13.6057 9.56008C14.2911 9.71 14.7548 9.84058 15.2059 10.0123C16.0551 10.3411 16.549 10.4789 16.7506 10.4475C16.7692 10.4444 16.7848 10.4418 16.8002 10.4387C16.8815 10.4225 16.9601 10.3929 17.4512 10.2081Z",fill:"white"})]}),bhe=({style:t,...e})=>w.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[w.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#5462EB"}),w.jsx("path",{d:"M23.5433 8.87438C22.2479 8.26174 20.8587 7.81038 19.4063 7.55187C19.3799 7.54688 19.3534 7.55934 19.3398 7.58428C19.1612 7.91179 18.9633 8.33905 18.8247 8.67487C17.2625 8.43382 15.7084 8.43382 14.1782 8.67487C14.0396 8.33158 13.8345 7.91179 13.6551 7.58428C13.6414 7.56018 13.615 7.54771 13.5886 7.55187C12.1369 7.80955 10.7478 8.26092 9.45159 8.87438C9.44037 8.87937 9.43075 8.88769 9.42437 8.89849C6.78947 12.9558 6.06766 16.9134 6.42176 20.8219C6.42336 20.841 6.43378 20.8593 6.4482 20.871C8.18663 22.1868 9.87059 22.9857 11.5233 23.5152C11.5497 23.5235 11.5778 23.5135 11.5946 23.491C11.9855 22.9408 12.334 22.3606 12.6328 21.7504C12.6505 21.7147 12.6336 21.6723 12.5976 21.6581C12.0448 21.442 11.5185 21.1785 11.0122 20.8793C10.9721 20.8552 10.9689 20.7961 11.0058 20.7679C11.1123 20.6856 11.2189 20.6 11.3206 20.5135C11.339 20.4977 11.3647 20.4944 11.3863 20.5044C14.7125 22.0696 18.3136 22.0696 21.6006 20.5044C21.6222 20.4936 21.6479 20.4969 21.6671 20.5127C21.7688 20.5991 21.8754 20.6856 21.9827 20.7679C22.0196 20.7961 22.0172 20.8552 21.9771 20.8793C21.4708 21.1843 20.9445 21.442 20.3909 21.6573C20.3548 21.6715 20.3388 21.7147 20.3564 21.7504C20.6617 22.3597 21.0101 22.9399 21.3939 23.4902C21.4099 23.5135 21.4387 23.5235 21.4652 23.5152C23.1259 22.9857 24.8099 22.1868 26.5483 20.871C26.5635 20.8593 26.5731 20.8419 26.5747 20.8228C26.9985 16.3041 25.8649 12.3789 23.5697 8.89931C23.5641 8.88769 23.5545 8.87937 23.5433 8.87438ZM13.1295 18.442C12.1281 18.442 11.303 17.4944 11.303 16.3307C11.303 15.1669 12.1121 14.2193 13.1295 14.2193C14.155 14.2193 14.9721 15.1752 14.9561 16.3307C14.9561 17.4944 14.1469 18.442 13.1295 18.442ZM19.883 18.442C18.8816 18.442 18.0564 17.4944 18.0564 16.3307C18.0564 15.1669 18.8655 14.2193 19.883 14.2193C20.9084 14.2193 21.7255 15.1752 21.7095 16.3307C21.7095 17.4944 20.9084 18.442 19.883 18.442Z",fill:"#F7F7F7"})]}),xhe=({style:t,...e})=>w.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[w.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),w.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.5083 5.62451C10.8896 5.62451 6.34741 10.2078 6.34741 15.878C6.34741 20.4104 9.25774 24.2471 13.2951 25.605C13.7999 25.7071 13.9848 25.3844 13.9848 25.1129C13.9848 24.8752 13.9682 24.0604 13.9682 23.2115C11.1417 23.8227 10.5531 21.9892 10.5531 21.9892C10.0988 20.8009 9.42579 20.4954 9.42579 20.4954C8.50068 19.8673 9.49318 19.8673 9.49318 19.8673C10.5194 19.9352 11.0578 20.9198 11.0578 20.9198C11.9661 22.4815 13.4297 22.0402 14.0185 21.7686C14.1025 21.1065 14.3719 20.6482 14.6579 20.3936C12.4035 20.1559 10.0317 19.2732 10.0317 15.3347C10.0317 14.2142 10.4351 13.2976 11.0745 12.5847C10.9736 12.3301 10.6202 11.2774 11.1756 9.86844C11.1756 9.86844 12.0335 9.59678 13.968 10.9209C14.7962 10.6965 15.6503 10.5823 16.5083 10.5814C17.3662 10.5814 18.2408 10.7003 19.0484 10.9209C20.9831 9.59678 21.841 9.86844 21.841 9.86844C22.3963 11.2774 22.0428 12.3301 21.9419 12.5847C22.5981 13.2976 22.9849 14.2142 22.9849 15.3347C22.9849 19.2732 20.6131 20.1388 18.3419 20.3936C18.7121 20.7161 19.0316 21.3271 19.0316 22.2948C19.0316 23.6698 19.0149 24.7733 19.0149 25.1127C19.0149 25.3844 19.2 25.7071 19.7046 25.6052C23.742 24.2469 26.6523 20.4104 26.6523 15.878C26.669 10.2078 22.1102 5.62451 16.5083 5.62451Z",fill:"white"})]}),Bat=({style:t})=>w.jsx(rhe,{style:{color:"var(--privy-color-error)",...t}}),Ehe=t=>w.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[w.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#F1F2F9"}),w.jsx("path",{d:"M26.1001 16.2273C26.1001 15.5182 26.0365 14.8364 25.9183 14.1818H16.5001V18.05H21.8819C21.6501 19.3 20.9456 20.3591 19.8865 21.0682V23.5773H23.1183C25.0092 21.8364 26.1001 19.2727 26.1001 16.2273Z",fill:"#4285F4"}),w.jsx("path",{d:"M16.5001 26C19.2001 26 21.4637 25.1046 23.1182 23.5773L19.8864 21.0682C18.991 21.6682 17.8455 22.0227 16.5001 22.0227C13.8955 22.0227 11.691 20.2637 10.9046 17.9H7.56372V20.4909C9.20917 23.7591 12.591 26 16.5001 26Z",fill:"#34A853"}),w.jsx("path",{d:"M10.9047 17.8999C10.7047 17.2999 10.591 16.659 10.591 15.9999C10.591 15.3408 10.7047 14.6999 10.9047 14.0999V11.509H7.56376C6.86376 12.9025 6.49951 14.4405 6.50012 15.9999C6.50012 17.6136 6.88649 19.1408 7.56376 20.4908L10.9047 17.8999Z",fill:"#FBBC05"}),w.jsx("path",{d:"M16.5001 9.97726C17.9682 9.97726 19.2864 10.4818 20.3228 11.4727L23.191 8.60454C21.4591 6.99091 19.1955 6 16.5001 6C12.591 6 9.20917 8.2409 7.56372 11.5091L10.9046 14.1C11.691 11.7364 13.8955 9.97726 16.5001 9.97726Z",fill:"#EA4335"})]});function _he(t){return w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:26,height:26,viewBox:"0 0 140 140",x:"0px",y:"0px",fill:"none",...t,children:[w.jsxs("defs",{children:[w.jsxs("linearGradient",{id:"b",children:[w.jsx("stop",{offset:"0",stopColor:"#3771c8"}),w.jsx("stop",{stopColor:"#3771c8",offset:".128"}),w.jsx("stop",{offset:"1",stopColor:"#60f",stopOpacity:"0"})]}),w.jsxs("linearGradient",{id:"a",children:[w.jsx("stop",{offset:"0",stopColor:"#fd5"}),w.jsx("stop",{offset:".1",stopColor:"#fd5"}),w.jsx("stop",{offset:".5",stopColor:"#ff543e"}),w.jsx("stop",{offset:"1",stopColor:"#c837ab"})]}),w.jsx("radialGradient",{id:"c",cx:"158.429",cy:"578.088",r:"65",xlinkHref:"#a",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 -1.98198 1.8439 0 -1031.402 454.004)",fx:"158.429",fy:"578.088"}),w.jsx("radialGradient",{id:"d",cx:"147.694",cy:"473.455",r:"65",xlinkHref:"#b",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(.17394 .86872 -3.5818 .71718 1648.348 -458.493)",fx:"147.694",fy:"473.455"})]}),w.jsx("path",{fill:"url(#c)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),w.jsx("path",{fill:"url(#d)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),w.jsx("path",{fill:"#fff",d:"M66.004 18c-13.036 0-14.672.057-19.792.29-5.11.234-8.598 1.043-11.65 2.23-3.157 1.226-5.835 2.866-8.503 5.535-2.67 2.668-4.31 5.346-5.54 8.502-1.19 3.053-2 6.542-2.23 11.65C18.06 51.327 18 52.964 18 66s.058 14.667.29 19.787c.235 5.11 1.044 8.598 2.23 11.65 1.227 3.157 2.867 5.835 5.536 8.503 2.667 2.67 5.345 4.314 8.5 5.54 3.054 1.187 6.543 1.996 11.652 2.23 5.12.233 6.755.29 19.79.29 13.037 0 14.668-.057 19.788-.29 5.11-.234 8.602-1.043 11.656-2.23 3.156-1.226 5.83-2.87 8.497-5.54 2.67-2.668 4.31-5.346 5.54-8.502 1.18-3.053 1.99-6.542 2.23-11.65.23-5.12.29-6.752.29-19.788 0-13.036-.06-14.672-.29-19.792-.24-5.11-1.05-8.598-2.23-11.65-1.23-3.157-2.87-5.835-5.54-8.503-2.67-2.67-5.34-4.31-8.5-5.535-3.06-1.187-6.55-1.996-11.66-2.23-5.12-.233-6.75-.29-19.79-.29zm-4.306 8.65c1.278-.002 2.704 0 4.306 0 12.816 0 14.335.046 19.396.276 4.68.214 7.22.996 8.912 1.653 2.24.87 3.837 1.91 5.516 3.59 1.68 1.68 2.72 3.28 3.592 5.52.657 1.69 1.44 4.23 1.653 8.91.23 5.06.28 6.58.28 19.39s-.05 14.33-.28 19.39c-.214 4.68-.996 7.22-1.653 8.91-.87 2.24-1.912 3.835-3.592 5.514-1.68 1.68-3.275 2.72-5.516 3.59-1.69.66-4.232 1.44-8.912 1.654-5.06.23-6.58.28-19.396.28-12.817 0-14.336-.05-19.396-.28-4.68-.216-7.22-.998-8.913-1.655-2.24-.87-3.84-1.91-5.52-3.59-1.68-1.68-2.72-3.276-3.592-5.517-.657-1.69-1.44-4.23-1.653-8.91-.23-5.06-.276-6.58-.276-19.398s.046-14.33.276-19.39c.214-4.68.996-7.22 1.653-8.912.87-2.24 1.912-3.84 3.592-5.52 1.68-1.68 3.28-2.72 5.52-3.592 1.692-.66 4.233-1.44 8.913-1.655 4.428-.2 6.144-.26 15.09-.27zm29.928 7.97c-3.18 0-5.76 2.577-5.76 5.758 0 3.18 2.58 5.76 5.76 5.76 3.18 0 5.76-2.58 5.76-5.76 0-3.18-2.58-5.76-5.76-5.76zm-25.622 6.73c-13.613 0-24.65 11.037-24.65 24.65 0 13.613 11.037 24.645 24.65 24.645C79.617 90.645 90.65 79.613 90.65 66S79.616 41.35 66.003 41.35zm0 8.65c8.836 0 16 7.163 16 16 0 8.836-7.164 16-16 16-8.837 0-16-7.164-16-16 0-8.837 7.163-16 16-16z"})]})}function Ahe(t){return w.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",...t,children:[w.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),w.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#06C755"}),w.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"url(#pattern0_1769_69)"}),w.jsxs("defs",{children:[w.jsx("pattern",{id:"pattern0_1769_69",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:w.jsx("use",{xlinkHref:"#image0_1769_69",transform:"scale(0.003125)"})}),w.jsx("image",{id:"image0_1769_69",width:"320",height:"320",preserveAspectRatio:"none",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAFACAYAAADNkKWqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABpkSURBVHgB7d1fbFTXtcfxdWZs45h7g6lClajoetJIRKIqGKmhTSvF5qEvqUqIitM+XEIikYf+QWlVaF+IACVPBamN0ps8NFL5cx+qmioOVXsf+oCJ1Pg2VMKkKlKRSMZVqlalCiaSHf9hZvesMx5jm/k/58w5Z+/vR3KM8cSAPf55rbX32ccTx/Rf3tO/uNiXWygsDnri5UTMgOd5/UZMTozXX3qU/2vAOl4++K+Y4LUR8V97U5KRyUwxM93bOzc5vWNsWhziicU07GYXeoY9I0P+mzljZJBwA6rzv0emM55MGvEuajD29SyM2xyKVgWgBt7cXO+g8YpP+BXdsASBB6AtfiD63dK4ZzJvzj36i3GxSOoDUENvZq57T0Zkf9EPPM+TfgEQGX9kNFY05s31vYtjaa8OUxuAvRPfGDZSOEroAfHRMDSenF74/C/HJIVSFYDBTG+u53ljzHcJPSBR8hqGfpv8st8m5yUlUhGAWu0VTfF58cweAZB0pzKSPZ6GIEx0AJbbXH+5flgApE3igzCRAdj9+5HBTEZ+TPABVkhsECYqAIMV3fmeo54/4xMAtklcECYmANf9/9efLxaLx1jcAKyW9zu744uPjp6SBIg9AP05X86f8/2cdhdwSt6vBnfFXQ1mJEZa9RVM4TLhBzgnV5TC+z0TTx2VGMVSAVL1AVjmyWTGZJ+MoxrseAXY84ev7aHqA7DMyKBfDV7onhh5RjqsowHY8we/3C1m3mChA8AaOb8d/XmnW+KOtMC6veXjue43qPoA1KOX1N2zbuHZThy0EHkA6ryvKMULnMMHoAkdWSWOtAXWKzoIPwAt0FXiC1pASYQiqwA1/PyPfoF5H4CWeTLdnZFdMztHJyUCkQQg4QcgNBGGYOgBSPgBCF1EIRhqABJ+ACITQQiGFoA6rNQNzoQfgMiEHIKhrAKXt7oQfgAiZaR/sSBvhLU63HYA6iZntroA6KBgi4xmj7Sp7QCc/bjn54QfgA7L6dVl0qa2AjC4tpcbFQGIgV5a2+61wy0vgujJDXrxsgBAnDLFJxc+/6uW7kvcUgByfS+AxPBXhjMmu6OV64ZbaoGLXuENwg9AIvgrw3rAsrSg6QAM5n5GBgUAEkLngeve/nrTd5NsqgUutb6F9wUAkqaFVripCrA09wOABGqhFW44AEvn9TP3A5BczbbCDbXArPoCSA2/Fe5bt/hgI0fqN1QB+nO/o4QfgFTwW+GZj3sa2iBdtwJk4QNAGnVnZUe9U2PqVoCl6g8A0uV2QX5c7zE1K0CqPwBplhGza+7Rc+PV318D1R+ANDPi1cywqhUg1R8AG9SqAqtWgFR/AGxgvMzz1d5XsQKk+gNgk77exY2V9gVWrAAL3u2qiQkAaTM721Px6pCKAeiZDKc8A7BH1lQs6u4KwJ63v7aHqz4AWMVIf+/E3uG1v31XAHqZ7H4BAMtU2hKzehHkwp7+nt7umwIAtqlwSMKqCrC7t5vZHwA76SEJc6szblUAZjzvCQEAS/mBt3/N23cYwz1+AdjLeDLYf3lPf/nt5QDsnfjGsACAzfw2eG6ua/mmbssBWDAFqj8A1jPGW8665QD0l4OHBAAsZ1ZkXWkbDNtfADikfG1wUAH2rMsOCwA4YvbjnmF9XWqBveygAIAjPDHD+rpr6Y0hI0B7+rvWy4bsehlYtyl4CX4v2ycb/N9XuXWfbOjj5Of/Gby+dXtGpguzcqvgv749G7w9tXDD//WMAG3K6X+CADRGBhu7QzBcpgE30LNJtq3PBQGngVYOu3Lgdcq7s/kgFKfmbwSBWX679JqARG3Gk+362mMBBJUM+OH22L1bZbuGnR9625dCLw3KQXjFf3nroz/L1NyN4NfASroQ4ukG6KIULgicpZWdht1j935GtvflZJv/0t/VJzYph+JFPxDf+ugqlSKkO9u9o6toFvvFq3t7YFhEA09DbvcnHpEhP/j017bTQC+F/Nbl3ysF4lU5/+GloFKEWxYKi4NdpRVglkBspy3t7o2f80Nvp5UVXiu2LVW7B+9/PHhbK8OzN8aDUJxaWoiBvTzxcroIkhNYSVtarfD2bRpOzfwuTisrRK0O3/Qrw1/7L8wPLeWZAW/dxMgFv/4bFlhBK72nNw0ReiHSleZX/v4bOX/zj1SGFvGMvEkAWkBnevvuGwra25UzLoSv3Caf8V+QckYmvZ6Jp97nJkjppC2uLmTsu2+YmV6HaVWoCycvfnCOqjC98gRgCmmlp4N7qr1koCpMLQ3AEZaAU0DbXA2979z/Faq9hNKq8KUPRgnCFCEAE47gSx8WTdKDAEwogi/9NAhLrfFFgjChCMCEIfjsQ2ucXARggujevZMDzxB8liIIk4cATADdzvLC5hFWdR1xZSYvI9dO0hYnAAEYI213Twzsl6f9yg/u0fkg+wjjRQDGROd8RzY/RbvrONrieBGAHabX6r7+0Ldod7EK1WA8CMAOoupDLXpA6+Gp01SDHUQAdgBVH5pBNdg5BGDE9LCCn33621R9aIrOBg9cf5WTqiPGWfgROpl7Rka3HCb80DQ9y/F3W48G26MQHSrACGjLe+7hQ07cawPR0yrwwPXXaIkjQAUYMt3UrD+5CT+EpfycGmjwxvJoHAEYIl3lLT1ROYoe4dLn1LUdP12+gRPCQQCGRGc1OvMDoqTPMeaC4ekStEUvZzs5sD84yADohCN+AG7I9smhqdOC9hCAbdDwY96HOBx84CtBW/zce68FG6jRGlrgFulAmvBDnPTeMPoc1B/EaA0B2ALCD0mhz8F3PvsjVohbRAA2qRx+rPQiKcqbpgnB5hGATSD8kFTlEKQdbg4B2CDCD0lHCDaPAGyAPqH00jbCD0mnM8HRLYcEjSEAG/CzT3+LBQ+khl46p8evoT4CsA7dda9HWgFpohvzuWKkPgKwBn0CHeFJhJTS5y7XDtdGAFahbQThh7TTa4e3M76pigCsoHyEPWCD0YcPs0ewCgKwAra7wCb6XH79oW8K7kYArqEtA+EH2+hIR08twmoE4Aq6csbQGLbSE2Q0CHEHAbhEZyRsG4DtdLbNlSJ3EIBLjmzeS+sL6+lz/Min9gpKCEAptb5Pc6IzHEErfIfzAUjrCxfRCpc4H4C0vnARrXCJ0wGoBxzQ+sJV2gq7fpWI0wF47uHDArjsZM7tvYHOBqAufND6wnW6GOLygoizAcjCB1Di8nXvTgYg1R9wh34vuDoLdzIAqf6A1Vw9+s25AKT6A+7mahXoXABS/QGVuVgFOhWAVH9Adfq94dqKsFMBSPUH1PbCZreuDnEmAPUnG9UfUJtr+wKdCcB9m4YEQH0u3QbWiQDUE1+45hdozL77hpw5KcaJAHzs3q0CoDEafo/9pxvfM13igCRUf1PzN2q+P+75ZL2/n0rLDHX69ozcKszWfMyGbB/n4dVw8IHH5fzNS2I76wNQ2984K8Cp+X/Kl68ebygAdR9WHGF94PqrcvbGeN3H6fFhl7b9qOZjzvgf55W//7ZuAOnXJIprUPXzvfNPPwxCsJ7RLYdrzrvenc0HX7tGPlZU9DkRx+4F/VrrD4g4/+2dYH0LHHf7q2HQSHWlj3npg1HptLc+utpQ+CkNhDM1Hqvh85wfpvo4/XWtF/0zD02dlrAdyp9u+Jv2lX/8tub7v9/Ex4qKPiemb89Kp2n4fXWj/Ysh1gdg3O3vdKHzT964TM3/q6nHv/L33/gB/GcJUzOfbw3iWv5a5/2dMl2IJ4SHHJidWx2AwTCXBZBEG7l2sm4QIR5UgCm3zfHjvtNAW8wD118TJE+pgLB7U7TVAejShs400zb4xRjmn6jP9g7K6gB0/YYvaaLD/rDngWif7XNAawOQ+V/66HacOFY8UZ3tYyRrA5D5X/roVqCRaycEyaGFhM2dlMUBOCBIH22D6+3PQ2dtW58TW1kbgEMb3L3VX9odyp9iHrhEr2TKxXwJ4naLA9DaS+H6s1znmWY6D3znsyf8FqxP0kCDKuwj17T93HffsMRtoOc+sZW1AcgMMN10Hvjce6/K6JZDkgZ6LbetJ45vX/+g2MrKFlh/cqalckB15z98h3lgAmi423pyjpUBSPVnD90fqIcrIF79WTsLCmsrQNhBL5Xb+5cT7A+Mma1FhZUB+F8WD21dpPPAQ1OnBPHZQAucHlSA9tHzA5kHxocWOEW4/aWddB7I0VnxsLUCdOKeILCDzgP1iPok7g/UhRrduxgmrbr03hy6xzBucW/GjoqVAUgLbK/g1gF/G5WTA/slSTScG721QDP0xkRp2hCeNnbOALkKJBUOPvCVln5Y6VH6ZyIImyTSwI/rSHwXOHFfYCSTHlhx5FN7pRWHp04zD0TbCEDESqvAVm5cVdofeFKAdhCAiN0Jf57XyqBfFx6iuLUm3GFlAOZpjVJF54DnHm7t0AOdB57/8JIAraACRCLopVatruzqqTHMA6Nl6/2tCUAkhs4DW7kNI7fWjJ5+jm1kZQDq1gGkk57/18o8UE+QZh4YnVsEYHoQgOml88DXH/qmtELngTYenZWEfa20wECHaBvc6jzQplZNfxiczD2TiKtAbC0qrLwU7t3ZKUG66Tzw/M0/pubmSBrav9t6VGxFC5wirAja4fWHvpWIgwAgcsXSU7mtDEBtgzhBOP30WLNW54EIz5WZvNjK2hngXxeoAm2greXB+x8XxOeWpQsgytoAnLT4p5ZrdCGglf2BCIet7a+yNgBtLttdpPNAznmMx1u30rEQ1QprA5CVYLvoPPBnn2YeGAeb99VaeyR+WjfEhv1k25Dts6Zy2v2JncE8MIk3R9I5mY1fO91RYXMLbG0A6kqw7iFL0+xIv4G2XP62hE331CXtCPlW6TzwrY+uJu6b8srM+5F87Y5sHpEX/Je42D5KsvpKkCu0wQHbLhEbffiwM/NAvRNePsYW9Nc3/yg2szoAOSfuDpv2Reo80JaKNumoAFNMqx42RNtp36Zh9gdGzPb5n7I6AHUO+O7s+wI76Xxse19OEA2dtdrO+tNg3qQNtpbOAV2aB3bamRsXxXbWB+D//sv+L6LLdB7Y6q01UZ22v2k5iacd1gdgeTsM7KXbfJgHhsuF9lc5cSAqbbD9dB7I0VnhefGDUXGBEwGobTCrweFI6rytfGvNZv5+/V3/Ibibbn1x5bYSTgSgtsFn/zUucRi6d6vETSsjnZVVsq1voOHKScOl1qqrfqxmAmgo5Kt09NaazcwDd2/8XM33//emYYmbfm1yVb52UflpAi81jIrXMzFixAFxHlmu85SLMc0hNZB2b3ykagAq/Wl/5sZ42x9Hnf/wHXnlH/9X52P1yVf9j/V0RAGjn2/9oVfrHDv9dzzWwA+ns/7nJa4rMfRzvu++4Y7eE0QXP7Zc/o64wpkAVBqAnCsHVKeXTbp0e1Gn7grnwr4moB1JPGknSk4F4K9vXmIxBKhC233X7qntVADqXOiVf/xGANzNla0vKzl3Y3Rd4aIKBFZzsfpTzgUgVSCwmn5PuFj9KecCUFEFAnfowoeL1Z9yMgD1J96hqVMCuE73/b3kaPWnnAxApTMPDkmA61764Jy4zNkAVC86/sWH2/SWEfWuALKd0wGoFaDrTwC4izGQ4wGoDk+dZkEEztFVX1cXPlZyPgB1QeSlv7k7BIZ7XF/4WMn5AFR6ATgLInDFl68eF5QQgEsOXH+VVhjWo/VdjQBcok+K5957VQBb6aovre9qBOAKpcM83ToOCG7QuR+rvncjANd4KWgR/imATfb+5SStbwUE4Bq6KqxDYuaBsIXO/d6dzQvuRgBWwDwQttBLPpn7VUcAVqHzQFePCIIdSnM/d+7v0QoCsAb9ycmiCNJIw680ypkRVEcA1nEof4pN0kgVDT0WPRpDADZg5NpJhshIDZ1f83xtDAHYgNJP1BNsj0Hi6dxaNzyjMQRgg7Sd0JkKIYik0vBjxbc5BGATCEEklS7WEX7NIwCbRAgiabTl1cU6NI8AbAEhiKTQxQ427beOAGxROQRZbUNc9LnHXr/2EIBtKIcgq27oNDY6h4MAbJM+AUeuneCyOXQM4RceAjAkugJHCCJq5fDjKo9wEIAh0hBkcQRR0Znfzj/9kPALEQEYMr1umBBE2FjwiAYBGAH9Cb3l8nc4SQaheOujq4RfRAjACOnmVL3bHNUgWnXmxrgffscIv4gQgBE7GzyBj3OkFpqmi2rPXWeTc5QIwA4o7xdklRiN4mCDzvB6JkaMoGMG1m2Scw8flm19OQEq0dEJ8+POIABjsm/TsLywea8fiJ8UQJU21Z9kXNJBBGCMtBo8snlEnvbDEG5jg3M8CMAE2L4+J6NbDlENOkr3+JVOHCf8Oo1FkAS4MpMP9g2yZcY9Z5Z2CRB+8aACTCDmg25gpTd+BGBC6XxQg/DpTUMEoWV0sUNvWK57RBEvAjDhNAgfu/czVISW0BGH3rOXg3STgQBMEVrjdGOxI3kIwBTa/YmdcvD+x/3KcKsgHXRjMzcuSh4CMMXK+wiH/CCkKkwuruxILgLQEtoe7974iF8dPiJIBuZ9yUcAWqa8aKJXl9Aix0fP8Dtw/X+Y9yUcAWgxwjAe7O9LDwLQEf1d6+WrfousQcjMMBocZpA+BKCj9DguDUKtEDUUNSDROra4pBMBiIAGoh7KoGE46L/mvMLGscUlvQhAVKQVYRCKfQMy0PtJ/7WG4gCV4gra8j733qty/sNLgnQiANGUcjDq6/I80cVqkVVeOxCAaJuuNusexIMPPO7E4gotrz0IQITK5uuVdWPzgeuvscprEQIQodOK8OTAM1ZdlaJzPp33cX9eu3AiNEKnc7GRayesqJSCs/v8dlf/PYSffQhAREYP/Uwz3du3808/4CADixGAiIze6yStBwFo6D3y7g9Y5bVclwARmvRDME3bZFjocAsBiEilqYLSqk8PMWDW5w4CEJFKQwBS9bmLAITTqPrcRgDCSVzHC0UAIlK6KTpp2NSMMgIQkUrS6TFUfViLAESkklIBMutDJQQgItWfjbcCZIUXtRCAiFScm6Cp+lAPAYjIbF//oD8D7JNOo+pDowhARGZDtrPhp5VeueoDGkEAIjJ6D5FO4Yh6tIIARGSGNnxGoqZV3+Gp03LmxrgAzfID0MuLmJwAIYt6BZhFDrQpTwWIyES1Aqzt7ot+8LHIgXZ1iTHT4gkQqihWgLXS04qPE5oRBk8rQC/j5Y0xgwKEKOwVYNpdRKHLGLklQMjCWgFmdRdRMV5pBpgXIGS53vbuC6z3Evl+/jRzPkTHeFNdRkyeESDC1moLzLYWdIyRya6erEwuFgQI1a3CbFOPL1/F8VP/hTkfOiHjFae7ZmYW8z293QKESWd3B+9/vO7jCD7Epbf39mTQ/fZMPPU+m6ERtkvbflR1LyB7+RArT6YXvjC6MdgI7Xky6a8G5wQIkd5YfN+mYRm6t3RJ3HRhJgg+DT2qPcTJ8+d/+joIwGLRTHmshCACZ/3FjLMsaCBhjHgX9XVG/+NJcVwAwBVLFWAQgAvzhXEBAEf03bMwrq+DAJRdY9PlRAQAq/lZN73DzzwpB2Dwe3JRAMBy3oqsWw7ArGfGBAAs563IuuUAnJu7PemXgdMCABabe/TcePnXywGoc0DdDygAYCnPyJsr386sfKMocloAwFJ+kbdq1LcqABfnFsdogwHYqrd3sXoA0gYDsJW2v+XtL2WZux4k5rgAgGWMeKfW/l7FK4B73h656b+nXwDAAnoDpPlHRx9c+/uZyo/2XhYAsETR8yruc64YgAtzCz8RALBE1mQqFnWVK8BgMcTjyhAA6efJqblHf5Gv9K5M1f/HFGmDAaRexmSrLuxWDUC9XMQfHI4LAKRVjepPZWr/v2yJAZBetaq/4P213kkVCCC16lR/qmYAqmJRvicAkDL1qr/gMfUesPil0UnDggiANGmg+lN1A1AtzheOcUgCgDTQqz4aqf5UQwEY7AvMsCACIPn8ADzeSPW39NjGrZsYuWBEhgUAEqjaNb/VNFYBLn/w7LO0wgCSys+oXc08vqkA1LKSVhhAIhVNw61vWVMtcBmtMIAk0YOc578wukOa1FQFuPyH0QoDSAid+3km+6S0oKUALJWZxWcFAGLWzKrvWi0FoFr44q/GhGuFAcQpmPuNnpIWtTQDXIl5IIBYeN7Ywhd+2VLrW9ZyBVg2P7f4pCdeXgCgQ3Tu17duoe0xXNsBGFwlIpldhCCATggWPSS7a+0tLlv8WOHo/v3IoL8UfYG7yQGIjJHpjJfd0eqix1rtV4BLSqfGyC62xwCIhJ8tmjFhhZ8KrQIsoxIEELql8NNCS0IUegAqQhBAaCIKPxVJACpCEEDbIgw/FdoMcC39C+uwktVhAK3Q1d4ow2/pz4hW78Q3ckaKF4yYnABAA8pbXcJc8KgksgqwTP8B83MLO8R4YwIAdeidKO/pXdwRdfgt/Vmd0zOx95j/Rx4VAKikaI4vfOncMemQjgag6p0Yecb4IUhLDGCZv9jRlS0+O/v5X3W0U+x4ACqdCxZN4Q3/Tx8UAE7TllfPGO1Ey7tWLAFYRksMOMyv+jwxx+e/eO4nEpNYA1CxSgy4J86qb83fIxmYDQIOSEDVt1JiAlAFs0G5fcz/a+0XAFbxTPHle+4pHAvjGKuwJCoAywhCwB7a7haL8r0or+hoVSIDsIwgBNKrNOfTe3acG5eESnQAlhGEQHp4njem7W6Sg68sFQFYpkFYMIvfzXjZJ1gsARJED0L2zMt9vbd/kqQZXz2pCsCVet7+2h6R7H7/k75HAHSeruh6Mpn0NreW1AZgWf/lPf1zc917isZ7gjAEIrYUekWR0+t7F8fSVO1VkvoAXKt3Yu+w8bw9pihDXGoHhMD4VV5GLnrGjPX23p5Me+itZF0ArqTV4ezH2WHxsoN+mT5kjB+InFAN1ODlS4FnpkyxON53T2HcpsBby+oArKTUMncNFo3p12D0f7wN+J+EnL7PiJcrPYoFFtho6XR2Y6aDX3vB6yl/QTEvRZlc37eYtznsKvk3kqxyUwkTXfIAAAAASUVORK5CYII="})]})]})}function She(t){return w.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[w.jsxs("g",{"clip-path":"url(#clip0_1715_1956)",children:[w.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#0977B6"}),w.jsx("path",{d:"M9.46878 6.82104C10.6699 6.82104 11.6461 7.79742 11.6461 8.999C11.6461 10.2017 10.6699 11.1782 9.46878 11.1782C8.26447 11.1782 7.28967 10.2017 7.28967 8.999C7.28967 7.79742 8.26447 6.82104 9.46878 6.82104ZM7.58908 12.8309H11.3467V24.9207H7.58908V12.8309Z",fill:"white"}),w.jsx("path",{d:"M13.7032 12.8309H17.3076V14.4827H17.3576C17.8589 13.5322 19.0846 12.53 20.9127 12.53C24.7175 12.53 25.42 15.0341 25.42 18.2891V24.9207H21.6651V19.0415C21.6651 17.6388 21.6394 15.8355 19.7126 15.8355C17.7573 15.8355 17.4579 17.363 17.4579 18.9399V24.9207H13.7032L13.7032 12.8309Z",fill:"white"})]}),w.jsx("defs",{children:w.jsx("clipPath",{id:"clip0_1715_1956",children:w.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"white"})})})]})}function Che(t){return w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",...t,children:[w.jsx("path",{fill:"#1ed760",d:"M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8Z"}),w.jsx("path",{d:"M406.6 231.1c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3zm-31 76.2c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm-26.9 65.6c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4z"})]})}function khe(t){return w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg","shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd",viewBox:"0 0 1000 1000",...t,children:w.jsx("path",{d:"M906.25 0H93.75C42.19 0 0 42.19 0 93.75v812.49c0 51.57 42.19 93.75 93.75 93.75l812.5.01c51.56 0 93.75-42.19 93.75-93.75V93.75C1000 42.19 957.81 0 906.25 0zM684.02 319.72c-32.42-21.13-55.81-54.96-63.11-94.38-1.57-8.51-2.45-17.28-2.45-26.25H515l-.17 414.65c-1.74 46.43-39.96 83.7-86.8 83.7-14.57 0-28.27-3.63-40.35-9.99-27.68-14.57-46.63-43.58-46.63-76.97 0-47.96 39.02-86.98 86.97-86.98 8.95 0 17.54 1.48 25.66 4.01V421.89c-8.41-1.15-16.95-1.86-25.66-1.86-105.01 0-190.43 85.43-190.43 190.45 0 64.42 32.18 121.44 81.3 155.92 30.93 21.72 68.57 34.51 109.14 34.51 105.01 0 190.43-85.43 190.43-190.43V400.21c40.58 29.12 90.3 46.28 143.95 46.28V343.03c-28.89 0-55.8-8.59-78.39-23.31z"})})}const Ihe=t=>w.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[w.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),w.jsx("path",{d:"M8.53901 8L14.7164 16.2153L8.5 22.8947H9.89907L15.3415 17.0468L19.7389 22.8947H24.5L17.975 14.2173L23.7612 8H22.3621L17.3499 13.3858L13.3001 8H8.53901ZM10.5964 9.02501H12.7837L22.4422 21.8695H20.255L10.5964 9.02501Z",fill:"#F7F7F7"})]});let qZ={google:{name:"Google",component:Ehe},discord:{name:"Discord",component:bhe},github:{name:"Github",component:xhe},linkedin:{name:"LinkedIn",component:She},twitter:{name:"Twitter",component:Ihe},spotify:{name:"Spotify",component:Che},instagram:{name:"Instagram",component:_he},tiktok:{name:"Tiktok",component:khe},line:{name:"LINE",component:Ahe},apple:{name:"Apple",component:vhe}};const YI=t=>t in qZ?qZ[t]:{name:"Unknown",component:Bat};function CN(){let t=new URLSearchParams(window.location.search),e=t.get("privy_oauth_code"),r=t.get("privy_oauth_state"),n=t.get("privy_oauth_provider");if(!e||!r||!n)return{inProgress:!1};let i=!1;try{i=!!window.opener.location.origin}catch{}return{inProgress:!0,authorizationCode:e,stateCode:r,provider:n,withPrivyUi:!or.get(UE),popupFlow:window.opener!==null&&i,disableSignup:!!or.get(Gb)}}function FE(){let t=new URL(window.location.href);t.searchParams.delete("privy_oauth_code"),t.searchParams.delete("privy_oauth_provider"),t.searchParams.delete("privy_oauth_state"),or.del(BE),window.history.replaceState({},"",t)}class H1{async initRegisterFlow(e){if(!this.api)throw new be("Auth flow has no API instance");this.authenticateForRegistration=!0,this.meta.initRegisterResponse=await this.initRegisterOnce.execute(e)}async initAuthenticationFlow(e){if(!this.api)throw new be("Auth flow has no API instance");this.authenticateForRegistration=!1,this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute(e)}async initLinkFlow(){if(!this.api)throw new be("Auth flow has no API instance");this.meta.initLinkResponse=await this.initLinkOnce.execute()}async register(){let e=await Da(()=>import("./index-RgRXXzcQ.js"),[]);if(!this.api)throw new be("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new be("WebAuthn is not supported in this browser");this.meta.initRegisterResponse||(this.meta.initRegisterResponse=await this.initRegisterOnce.execute());try{let r=this.meta.initRegisterResponse.options,n=await e.startRegistration(this._transformInitLinkOptionsToCamelCase(r));return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post(fCe,{relying_party:this.meta.initRegisterResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(n)})}catch(r){throw r.name==="NotAllowedError"?new be("Passkey request timed out or rejected by user.",void 0,Ee.PASSKEY_NOT_ALLOWED):en(r)}}async authenticate(){if(this.authenticateForRegistration)return this.register();let e=await Da(()=>import("./index-RgRXXzcQ.js"),[]);if(!this.api)throw new be("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new be("WebAuthn is not supported in this browser");this.meta.initAuthenticateResponse||(this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute());let r=this.meta.allowedCredentialsIds?.map((n=>({type:"public-key",id:n})))??this.meta.initAuthenticateResponse.options.allow_credentials;try{let n=await e.startAuthentication(this._transformInitAuthenticateOptionsToCamelCase({...this.meta.initAuthenticateResponse.options,allow_credentials:r}));return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post(hCe,{relying_party:this.meta.initAuthenticateResponse.relying_party,challenge:this.meta.initAuthenticateResponse.options.challenge,authenticator_response:this._transformAuthenticationResponseToSnakeCase(n)})}catch(n){throw n.name==="NotAllowedError"?new be("Passkey request timed out or rejected by user.",void 0,Ee.PASSKEY_NOT_ALLOWED):en(n)}}async link(){let e=await Da(()=>import("./index-RgRXXzcQ.js"),[]);if(!this.api)throw new be("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new be("WebAuthn is not supported in this browser");this.meta.initLinkResponse||(this.meta.initLinkResponse=await this.initLinkOnce.execute());try{let r=this.meta.initLinkResponse.options,n=await e.startRegistration(this._transformInitLinkOptionsToCamelCase(r));return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post(dCe,{relying_party:this.meta.initLinkResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(n)})}catch(r){throw r.name==="NotAllowedError"?new be("Passkey request timed out or rejected by user.",void 0,Ee.PASSKEY_NOT_ALLOWED):en(r)}}async _initRegisterOnce(e){if(!this.api)throw new be("Auth flow has no API instance");let r=h5(e);return await this.api.post(uCe,{token:this.meta.captchaToken},{headers:{...r}})}async _initAuthenticateOnce(e){if(!this.api)throw new be("Auth flow has no API instance");let r=h5(e);return await this.api.post(cCe,{token:this.meta.captchaToken},{headers:{...r}})}async _initLinkOnce(){if(!this.api)throw new be("Auth flow has no API instance");return await this.api.post(lCe,{})}_transformInitLinkOptionsToCamelCase(e){return{rp:e.rp,user:{id:e.user.id,name:e.user.name,displayName:e.user.display_name},challenge:e.challenge,pubKeyCredParams:e.pub_key_cred_params.map((r=>({type:r.type,alg:r.alg}))),timeout:e.timeout,excludeCredentials:e.exclude_credentials?.map((r=>({id:r.id,type:r.type,transports:r.transports}))),authenticatorSelection:{authenticatorAttachment:e.authenticator_selection?.authenticator_attachment,requireResidentKey:e.authenticator_selection?.require_resident_key,residentKey:e.authenticator_selection?.resident_key,userVerification:e.authenticator_selection?.user_verification},attestation:e.attestation,extensions:{appid:e.extensions?.app_id,credProps:e.extensions?.cred_props?.rk,hmacCreateSecret:e.extensions?.hmac_create_secret}}}_transformRegistrationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}_transformInitAuthenticateOptionsToCamelCase(e){return{rpId:e.rp_id,challenge:e.challenge,allowCredentials:e.allow_credentials?.map((r=>({id:r.id,type:r.type,transports:r.transports})))||[],timeout:e.timeout,extensions:{appid:e.extensions?.app_id,credProps:e.extensions?.cred_props,hmacCreateSecret:e.extensions?.hmac_create_secret},userVerification:e.user_verification}}_transformAuthenticationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,signature:e.response.signature,user_handle:e.response.userHandle},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}constructor({captchaToken:e,setPasskeyAuthState:r}){this.authenticateForRegistration=!1,this.initRegisterOnce=new Yo(this._initRegisterOnce.bind(this)),this.initAuthenticateOnce=new Yo(this._initAuthenticateOnce.bind(this)),this.initLinkOnce=new Yo(this._initLinkOnce.bind(this)),this.meta={captchaToken:e,setPasskeyAuthState:r}}}const kN=({address:t,chainId:e,nonce:r})=>`${window.location.host} wants you to sign in with your Ethereum account:
${t}

By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.

URI: ${window.location.origin}
Version: 1
Chain ID: ${e}
Nonce: ${r}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;class Iy{get meta(){return{connectorType:this.wallet?.connectorType,walletClientType:this.wallet?.walletClientType,chainId:this.wallet?.chainId,address:this.wallet?.address,disableSignup:this._meta.disableSignup}}async authenticate(){if(!this.client)throw new be("SiweFlow has no client instance");try{if(this.preparedMessage&&this.signature)return await this.client.authenticateWithSiweInternal({message:this.preparedMessage,signature:this.signature,chainId:this.wallet?.chainId,walletClientType:this.wallet?.walletClientType,connectorType:this.wallet?.connectorType,mode:this._meta.disableSignup?"no-signup":"login-or-sign-up"});if(!this.wallet)throw new be("SiweFlow has no wallet instance");let{message:e,signature:r}=await this.sign();return await this.client.authenticateWithSiweInternal({message:e,signature:r,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw en(e)}}async link(){if(!this.client)throw new be("SiweFlow has no client instance");try{if(!this.wallet)throw new be("SiweFlow has no wallet instance");let{message:e,signature:r}=await this.sign();return await this.client.linkWithSiweInternal({message:e,signature:r,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType})}catch(e){throw en(e)}}async sign(){if(!this.client)throw new be("SiweFlow has no client instance");if(await this.buildMessage(),!this.preparedMessage)throw new be("Could not prepare SIWE message");if(!this.wallet)throw new be("SiweFlow has no wallet instance");let e=await this.wallet.sign(this.preparedMessage);return{message:this.preparedMessage,signature:e}}async _getNonceOnce(){if(!this.client)throw new be("SiweFlow has no client instance");if(!this.wallet)throw new be("UI SiweFlow has no wallet instance");return await this.client.generateSiweNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new be("SiweFlow has no client instance");if(!this.wallet)throw new be("SiweFlow has no wallet instance");let e=this.wallet.address,r=this.wallet.chainId.replace("eip155:","");return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.preparedMessage=kN({address:e,chainId:r,nonce:this.nonce}),this.preparedMessage}constructor(e,r,n,i=!1,s){this._meta={disableSignup:!1},this.getNonceOnce=new Yo(this._getNonceOnce.bind(this)),this.wallet=r,this.captchaToken=n,this.client=e,this._meta.disableSignup=i,this.preparedMessage=s?.message,this.signature=s?.signature}}const Zs=(...t)=>{if(typeof kt>"u")throw new be("Buffer is not defined.",void 0,Ee.BUFFER_NOT_DEFINED);return kt.from(...t)},Uat=({address:t,nonce:e})=>`${window.location.host} wants you to sign in with your Solana account:
${t}

${`You are proving you own ${t}.`}

URI: ${window.location.origin}
Version: 1
Chain ID: mainnet
Nonce: ${e}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;class zE{get meta(){return{connectorType:this.wallet.connectorType,walletClientType:this.wallet.walletClientType,disableSignup:this._meta.disableSignup,messageType:this._meta.messageType,address:this.wallet?.address}}set messageType(e){this._meta.messageType=e}async authenticate(){if(!this.client)throw new be("SiwsFlow has no client instance");try{let{message:e,signature:r}=await this.sign();return await this.client.authenticateWithSiwsInternal({message:e,signature:r,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up",messageType:this.meta.messageType})}catch(e){throw en(e)}}async link(){if(!this.client)throw new be("SiwsFlow has no client instance");try{let{message:e,signature:r}=await this.sign();return await this.client.linkWithSiwsInternal({message:e,signature:r,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,messageType:this.meta.messageType})}catch(e){throw en(e)}}async sign(){let e,r;if(!this.client)throw new be("SiwsFlow has no client instance");await this.buildMessage();let n=this.meta.messageType==="transaction";if(!this.preparedMessage)throw new be("Could not prepare SIWS message");if(!n&&!this.wallet.signMessage||n&&!this.wallet.signTransaction)throw new be("Wallet does not support the necessary signing methods");if(n&&this._siwsTransactionMethods){let i=await this.wallet.signTransaction(this._siwsTransactionMethods.deserializeTransactionFromB64String(this.preparedMessage));e=i.serialize().toString("base64"),r=Zs(i.signatures[0]?.signature??kt.from("missing signature")).toString("base64")}else e=this.preparedMessage,r=Zs(await this.wallet.signMessage(Zs(this.preparedMessage))).toString("base64");return{message:e,signature:r}}async _getNonceOnce(){if(!this.client)throw new be("SiwsFlow has no client instance");return await this.client.generateSiwsNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new be("SiwsFlow has no client instance");let e=this.wallet.address;return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.meta.messageType==="transaction"&&this._siwsTransactionMethods?this.preparedMessage=this._siwsTransactionMethods.prepareSiwsTransactionWithMemo({address:e,nonce:this.nonce}):this.preparedMessage=Uat({address:e,nonce:this.nonce}),this.preparedMessage}constructor(e,r,n,i=!1,s="plain",o){this._meta={disableSignup:!1,messageType:"plain"},this.getNonceOnce=new Yo(this._getNonceOnce.bind(this)),this.wallet=e,this.captchaToken=n,this.client=r,this._meta.disableSignup=i,this._meta.messageType=s,this._siwsTransactionMethods=o}}class dy{async authenticate(){if(!this.api)throw new be("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new be("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(eCe,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw en(e)}}async link(){if(!this.api)throw new be("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new be("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(JSe,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw en(e)}}async sendSmsCode({phoneNumber:e,captchaToken:r,withPrivyUi:n}){if(!this.api)throw new be("Auth flow has no API instance");if(e&&(this.meta.phoneNumber=e),r&&(this.meta.captchaToken=r),!this.meta.phoneNumber)throw new be("phone nNumber must be set when initialzing authentication.");let i=h5(n);try{return await this.api.post(QSe,{phoneNumber:this.meta.phoneNumber,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw en(s)}}constructor({phoneNumber:e,captchaToken:r,disableSignup:n}){this.meta={phoneNumber:e,captchaToken:r,disableSignup:n??!1}}}class Fat extends dy{async link(){if(!this.api)throw new be("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode||!this.meta.oldPhoneNumber)throw new be("Phone number, sms code, and an old phone number must be set prior to calling update.");try{return await this.api.post(tCe,{old_phone_number:this.meta.oldPhoneNumber,new_phone_number:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw en(e)}}constructor(e,r,n){super({phoneNumber:r,captchaToken:n}),this.meta={phoneNumber:r,captchaToken:n,oldPhoneNumber:e,disableSignup:!1}}}const The=t=>t.isApexWallet?"Apex Wallet":t.isAvalanche?"Core Wallet":t.isBackpack?"Backpack":t.isBifrost?"Bifrost Wallet":t.isBitKeep?"BitKeep":t.isBitski?"Bitski":t.isBlockWallet?"BlockWallet":t.isBraveWallet?"Brave Wallet":t.isClover?"Clover":t.isCoin98?"Coin98 Wallet":t.isCoinbaseWallet?"Coinbase Wallet":t.isDawn?"Dawn Wallet":t.isDefiant?"Defiant":t.isDesig?"Desig Wallet":t.isEnkrypt?"Enkrypt":t.isExodus?"Exodus":t.isFordefi?"Fordefi":t.isFrame?"Frame":t.isFrontier?"Frontier Wallet":t.isGamestop?"GameStop Wallet":t.isHaqqWallet?"HAQQ Wallet":t.isHyperPay?"HyperPay Wallet":t.isImToken?"ImToken":t.isHaloWallet?"Halo Wallet":t.isKuCoinWallet?"KuCoin Wallet":t.isMathWallet?"MathWallet":t.isNovaWallet?"Nova Wallet":t.isOkxWallet||t.isOKExWallet?"OKX Wallet":t.isOneInchIOSWallet||t.isOneInchAndroidWallet?"1inch Wallet":t.isOneKey?"OneKey Wallet":t.isOpera?"Opera":t.isPhantom||"isPhantom"in t?"Phantom":t.isPortal?"Ripio Portal":t.isRabby?"Rabby Wallet":t.isRainbow?"Rainbow":t.isSafePal?"SafePal Wallet":t.isStatus?"Status":t.isSubWallet?"SubWallet":t.isTalisman?"Talisman":t.isTally||t.isTaho?"Taho":t.isTokenPocket?"TokenPocket":t.isTokenary?"Tokenary":t.isTrust||t.isTrustWallet?"Trust Wallet":t.isTTWallet?"TTWallet":t.isXDEFI?"XDEFI Wallet":t.isZeal?"Zeal":t.isZerion?"Zerion":t.isMetaMask?"MetaMask":void 0,$he=(t,e)=>{if(!t.isMetaMask)return!1;if(t.isMetaMask&&!e)return!0;if(t.isBraveWallet&&!t._events&&!t._state||The(t)!=="MetaMask")return!1;if(t.providers){for(let r of t.providers)if(!$he(r))return!1}return!0},Mhe=()=>{let t=window;if(!t.ethereum)return!1;if(t.ethereum.isCoinbaseWallet)return!0;if(t.ethereum.providers){for(let e of t.ethereum.providers)if(e&&e.isCoinbaseWallet)return!0}return!1},uw=(t,e,r,n)=>{let i=Number(t),s=e.find((o=>o.id===i));if(!s)throw new Vn(`Unsupported chainId ${t}`,4901);return Wh({transport:qh(Gh(s,r,n.appId)),chain:s})},Gh=(t,e,r)=>{let n,i=t.id,s=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])n=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[s])n=e.rpcUrls[s];else if(t.rpcUrls.privy?.http[0]){let o=new URL(t.rpcUrls.privy.http[0]);o.searchParams.append("privyAppId",r),n=o.toString()}else n=t.rpcUrls.public?.http[0]?t.rpcUrls.public.http[0]:t.rpcUrls.default?.http[0];if(!n)throw new Vn(`No RPC url found for ${i}`);return n},Phe=t=>!!String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),Zo=(t,e=3,r=4,n="ethereum")=>{if(!t)return"";let i=n==="ethereum"?2:0;return e+r+i+3>=t.length?t:`${t.slice(0,i+e)}...${t.slice(t.length-r,t.length)}`},ZI=(t,e=3,r=4)=>Zo(t,e,r,"solana"),WE=t=>new Promise((e=>setTimeout(e,t))),IN=(t,e={})=>{let r=e.delayMs||150,n=e.maxAttempts||270;return new Promise((async(i,s)=>{let o=!1,a=0;for(;!o&&a<n;){if(e.abortSignal?.aborted)return;t().then((l=>{o=!0,i(l)}),((...l)=>{o=!0,s(...l)})),a+=1,await WE(r)}o||s(Error("Exceeded max attempts before resolving function"))}))},Nhe=(t,e,r={},n={})=>{let i=new URL(e,t);for(let[o,a]of Object.entries(r))a!==void 0&&i.searchParams.set(o,a);let s=Object.entries(n);if(s.length>0){let o=new URLSearchParams;for(let[a,l]of s)o.append(a,l);i.hash=o.toString()}return i.href},zat=t=>t.replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,""),TN=t=>typeof t=="string"?t:"0x"+t.toString(16);async function Wat({store:t,walletList:e,externalWalletConfig:r,walletChainType:n,timeout:i=3e3}){let s=!1,o=window;return new Promise((a=>{function l(){if(s)return;s=!0,window.removeEventListener("ethereum#initialized",l);let u=t.getProviders();console.debug("Detected injected providers:",u.map((h=>h.info)));let c=[];for(let h of u)e.includes("coinbase_wallet")&&h.info.rdns==="com.coinbase.wallet"||n==="solana-only"&&h.info.rdns==="app.phantom"||c.push({type:h.info.name.toLowerCase().replace(/\s/g,"_"),eip6963InjectedProvider:h});if(n!=="solana-only")for(let h of(function(){let m=window,y=m.ethereum;if(!y)return[];let b=[];if(y.providers?.length)for(let E of y.providers)E&&b.push(E);return b.push(m.ethereum),b})()){let m=The(h);if(!u.some((y=>y.info.name===m))){if($he(h,!0)&&!c.find((y=>y.type==="metamask"))){c.push({type:"metamask",legacyInjectedProvider:h});continue}if(m==="Phantom"&&!c.find((y=>y.type==="phantom"))){c.push({type:"phantom",legacyInjectedProvider:h});continue}if(m==="Coinbase Wallet"&&!c.find((y=>y.type==="coinbase_wallet"&&r.coinbaseWallet?.config?.preference?.options!=="smartWalletOnly"))){c.push({type:"coinbase_wallet",legacyInjectedProvider:h});continue}c.find((y=>y.type==="unknown_browser_extension"))||c.push({type:"unknown_browser_extension",legacyInjectedProvider:h})}}a(c)}o.ethereum?l():(window.addEventListener("ethereum#initialized",l,{once:!0}),setTimeout((()=>{l()}),i))}))}function y8(t){return`eip155:${String(Number(t))}`}const qat=(t,e,r,n)=>{let i=Number(t),s=e.find((o=>o.id===i));if(!s)throw new Vn(`Unsupported chainId ${t}`,4901);return Gh(s,r,n)},w8=t=>{let e={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},r=t.types.EIP712Domain??Object.entries(t.domain).map((([n,i])=>{if(i!=null&&typeof n=="string"&&n in e)return{name:n,type:e[n]}})).filter((n=>n!==void 0));return{...t,types:{...t.types,EIP712Domain:r}}},Rhe=B.createContext({siteKey:"",enabled:!1,appId:void 0,token:void 0,error:void 0,status:"disabled",setToken:Ke,setError:Ke,setExecuting:Ke,waitForResult:()=>Promise.resolve(""),ref:{current:null},remove:Ke,reset:Ke,execute:Ke});class Yg extends Po{constructor(e,r,n){super(e||"Captcha failed"),this.type="Captcha",r instanceof Error&&(this.cause=r),this.privyErrorCode=n}}const Hat=({children:t,id:e,captchaSiteKey:r,captchaEnabled:n})=>{let i=B.useRef(null),[s,o]=B.useState(),[a,l]=B.useState(),[u,c]=B.useState(!1),h=B.useMemo((()=>n?u||s||a?!u||s||a?s&&!a?{status:"success",token:s}:a?{status:"error",error:a}:{status:"ready"}:{status:"loading"}:{status:"ready"}:{status:"disabled"}),[n,s,a,u]);return w.jsx(Rhe.Provider,{value:{...h,ref:i,enabled:n,siteKey:r,appId:e,setToken:o,setError:l,setExecuting:c,remove(){n&&(i.current?.remove(),c(!1),l(void 0),o(void 0))},reset(){n&&(i.current?.reset(),c(!1),l(void 0),o(void 0))},execute(){n&&(c(!0),i.current?.execute())},async waitForResult(){if(!n)return"";try{return await(function(m,{interval:y=100,timeout:b=5e3}={}){return new Promise(((E,A)=>{let M,O=0,P=()=>{O>=b?A("Max attempts reached without result"):(M=m(),O+=y,M==null?setTimeout(P,y):E(M))};P()}))})((()=>i.current?.getResponse()),{interval:200,timeout:2e4})}catch{throw new Yg("Captcha failed",null,Ee.CAPTCHA_TIMEOUT)}}},children:t})},No=()=>B.useContext(Rhe);class dv{async authenticate(){if(!this.api)throw new be("Auth flow has no API instance");try{return await this.api.post(pCe,{captcha_token:this.meta.captchaToken,telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw en(e)}}async link(){if(!this.api)throw new be("Auth flow has no API instance");try{return await this.api.post(gCe,{telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData})}catch(e){throw en(e)}}constructor(e,r=!1){this.meta={disableSignup:!1},this.meta={captchaToken:e,disableSignup:!1},this.meta.disableSignup=r}}function HZ(t){let e={detail:"",retryable:!1};return t?.privyErrorCode===Ee.LINKED_TO_ANOTHER_USER&&(e.detail="This account has already been linked to another user."),t?.privyErrorCode===Ee.DISALLOWED_LOGIN_METHOD&&(e.detail="Login with Telegram not allowed."),t?.privyErrorCode===Ee.INVALID_DATA&&(e.retryable=!0,e.detail="Something went wrong. Try again."),t?.privyErrorCode===Ee.CANNOT_LINK_MORE_OF_TYPE&&(e.retryable=!0,e.detail="Something went wrong. Try again."),t?.privyErrorCode===Ee.INVALID_CREDENTIALS&&(e.retryable=!0,e.detail="Something went wrong. Try again."),t?.privyErrorCode===Ee.TOO_MANY_REQUESTS&&(e.detail="Too many requests. Please wait before trying again."),t?.privyErrorCode===Ee.TOO_MANY_REQUESTS&&t.message.includes("rate limit")&&(e.detail="Request limit reached for Telegram. Please wait a moment and try again."),t instanceof Yg&&(e.retryable=!0,e.detail="Something went wrong. Try again."),e}function VZ(t){return Object.fromEntries(decodeURIComponent(t).split("&").map((e=>e.split("=").map(decodeURIComponent))))}function KZ(){let t=new URL(window.location.href);t.searchParams.delete("id"),t.searchParams.delete("hash"),t.searchParams.delete("auth_date"),t.searchParams.delete("first_name"),t.searchParams.delete("last_name"),t.searchParams.delete("username"),t.searchParams.delete("photo_url"),t.hash="",window.history.replaceState({},"",t)}class _0{static parse(e){try{return new _0(e)}catch{return null}}static throwIfNotWellFormedJwt(e){return sM(e),e}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=sM(e)}}class DL extends _0{static parse(e){try{return new DL(e)}catch{return null}}get appId(){return this._decoded.aid?this._decoded.aid:this.audience}}let GZ=t=>{if(t.chainType==="ethereum")return{entropyId:t.address,entropyIdVerifier:"ethereum-address-verifier"};if(t.chainType==="solana")return{entropyId:t.address,entropyIdVerifier:"solana-address-verifier"};throw Error("Failed to get account entropy details")};const Hs=(t,e)=>{if(e?.imported)return GZ(e);let r=lc(t);if(!r)throw Error("Failed to find primary wallet");return GZ(r)},Vat=({style:t,...e})=>w.jsxs("svg",{viewBox:"0 0 1024 1024",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[w.jsx("rect",{width:"1024",height:"1024",fill:"#0052FF",rx:100,ry:100}),w.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z",fill:"white"})]}),Ohe="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PScwIDAgMTAyNCAxMDI0JyBmaWxsPSdub25lJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHN0eWxlPSdoZWlnaHQ6MjhweDt3aWR0aDoyOHB4Jz48cmVjdCB3aWR0aD0nMTAyNCcgaGVpZ2h0PScxMDI0JyBmaWxsPScjMDA1MkZGJyByeD0nMTAwJyByeT0nMTAwJz48L3JlY3Q+PHBhdGggZmlsbC1ydWxlPSdldmVub2RkJyBjbGlwLXJ1bGU9J2V2ZW5vZGQnIGQ9J00xNTIgNTEyQzE1MiA3MTAuODIzIDMxMy4xNzcgODcyIDUxMiA4NzJDNzEwLjgyMyA4NzIgODcyIDcxMC44MjMgODcyIDUxMkM4NzIgMzEzLjE3NyA3MTAuODIzIDE1MiA1MTIgMTUyQzMxMy4xNzcgMTUyIDE1MiAzMTMuMTc3IDE1MiA1MTJaTTQyMCAzOTZDNDA2Ljc0NSAzOTYgMzk2IDQwNi43NDUgMzk2IDQyMFY2MDRDMzk2IDYxNy4yNTUgNDA2Ljc0NSA2MjggNDIwIDYyOEg2MDRDNjE3LjI1NSA2MjggNjI4IDYxNy4yNTUgNjI4IDYwNFY0MjBDNjI4IDQwNi43NDUgNjE3LjI1NSAzOTYgNjA0IDM5Nkg0MjBaJyBmaWxsPSd3aGl0ZSc+PC9wYXRoPjwvc3ZnPg==",jhe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAALZJREFUaEPtmjEOhDAMBNc/O14GvOzys3CAKK6eAlmaVGl2Zc+kTOU685vkc9/bnD2prZK5/TZY24z9P+g4F5hNh7/GdoG37WlAA5CATwgCxHENYISwQAMQII5rACOEBRqAAHFcAxghLNAABIjjGsAIYYEGIEAc1wBGCAs0AAHiuAYwQligAQgQxzWAEcICDUCAOK4BjBAWaAACxHENYISwQAMQII6fBjr+VHkW3+u+tfyxMpJaDgYzYxb/ALZVAAAAAElFTkSuQmCC";class Lhe extends Vn{constructor(){super("Wallet timeout"),this.type="wallet_error"}}class Dhe extends Vn{constructor(){super("User rejected connection"),this.type="wallet_error"}}const ip=t=>t instanceof Vn?t:t?.code?new Fo(t):new Vn("Unknown connector error",t);class Ty extends Po{constructor(e,r,n){super(e),this.type="provider_error",this.code=r,this.data=n}}class Fo extends Ty{constructor(e){super(e.message,e.code,e.data);let r=Object.values(Xc).find((n=>n.eipCode===e.code));this.details=r||Xc.UNKNOWN_ERROR,e.code===-32002&&(e.message?.includes("already pending for origin")?e.message?.includes("wallet_requestPermissions")?this.details=Xc.E32002_CONNECTION_ALREADY_PENDING:this.details=Xc.E32002_REQUEST_ALREADY_PENDING:e.message?.includes("Already processing")&&e.message.includes("eth_requestAccounts")&&(this.details=Xc.E32002_WALLET_LOCKED))}}const A0={ERROR_USER_EXISTS:{message:"User already exists for this address",detail:"Try another address!",retryable:!1},ERROR_TIMED_OUT:{message:"Wallet request timed out",detail:"Please try connecting again.",retryable:!0},ERROR_WALLET_CONNECTION:{message:"Could not log in with wallet",detail:"Please try connecting again.",retryable:!0},ERROR_USER_REJECTED_CONNECTION:{message:"You rejected the request",detail:"Please try connecting again.",retryable:!0},ERROR_USER_LIMIT_REACHED:{message:"Unable to link",detail:"You've reached the maximum number of linked wallets.",retryable:!1},...Xc};function Eh(t){return t.type==="ethereum"}function $N(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let n=t[r],i=e[r];if(n?.address!==i?.address||n&&i&&Eh(n)&&Eh(i)&&n?.chainId!==i?.chainId||n?.connectorType!==i?.connectorType||n?.connectedAt!==i?.connectedAt||n?.walletClientType!==i?.walletClientType||n?.isConnected!==i?.isConnected||n?.linked!==i?.linked)return!1}return!0}class Bhe extends ku{constructor(e){super(),this.walletClientType=e,this.connected=!1,this.initialized=!1}}const BL=(t,e)=>t.rpcTimeouts&&t.rpcTimeouts[e]||aA;let V1,hv;function fv(t){return t.chainType==="ethereum"}class Am extends Bhe{buildConnectedWallet(e,r,n,i){let s=async()=>!!this.wallets.find((o=>Ni(o.address)===Ni(e)));return{type:"ethereum",address:Ni(e),chainId:r,meta:n,imported:i,switchChain:async o=>{let a,l;if(!s)throw new Vn("Wallet is not currently connected.");let u=this.wallets.find((m=>Ni(m.address)===Ni(e)))?.chainId;if(!u)throw new Vn("Unable to determine current chainId.");if(typeof o=="number"?(a=`0x${o.toString(16)}`,l=o):(a=o,l=Number(o)),u===y8(a))return;let c=this.chains.find((m=>m.id===l));if(!c)throw new Vn(`Unsupported chainId: ${o}`);let h=async()=>{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:a}]})};try{return await h()}catch(m){if(((y,b)=>{switch(b){case"coinbase_wallet":case"base_account":return y.message.includes("addEthereumChain");case"rabby_wallet":return y.message.includes("Unrecognized chain ID");default:return y.code===4902||y.message?.includes("4902")}})(m,this.walletClientType))return this.walletClientType==="rabby_wallet"&&await WE(300),await this.proxyProvider.request({method:"wallet_addEthereumChain",params:[{chainId:a,chainName:c.name,nativeCurrency:c.nativeCurrency,rpcUrls:[c.rpcUrls.default?.http[0]??""],blockExplorerUrls:[c.blockExplorers?.default.url??""]}]}),h();throw this.walletClientType==="rainbow"&&m.message?.includes("wallet_switchEthereumChain")?new Vn(`Rainbow does not support the chainId ${r}`):m}},connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:s,getEthereumProvider:async()=>{if(!await s())throw new Vn("Wallet is not currently connected.");return this.proxyProvider},sign:async o=>{if(!await s())throw new Vn("Wallet is not currently connected.");return await this.sign(o)},disconnect:()=>{this.disconnect()}}}async syncAccounts(e){let r,n=e;try{if(n===void 0){let l=await IN((()=>this.proxyProvider.request({method:"eth_accounts"})),{maxAttempts:10,delayMs:500});console.debug(`eth_accounts for ${this.walletClientType}:`,l),Array.isArray(l)&&(n=l)}}catch(l){console.debug("Wallet did not respond to eth_accounts. Defaulting to prefetched accounts.",l)}if(!n||!Array.isArray(n)||n.length<=0||!n[0])return;let i=n[0],s=Ni(i),o=[];if(this.walletClientType==="privy"){let l=or.get(GI(s));this.chains.find((u=>u.id===Number(l)))||(or.del(GI(s)),l=null),r=l||`0x${this.defaultChain.id.toString(16)}`;try{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:r}]})}catch{console.warn(`Unable to switch embedded wallet to chain ID ${r} on initialization`)}}else try{let l=await IN((()=>this.proxyProvider.request({method:"eth_chainId"})),{maxAttempts:10,delayMs:500});if(console.debug(`eth_chainId for ${this.walletClientType}:`,l),typeof l=="string")r=l;else{if(typeof l!="number")throw Error("Invalid chainId returned from provider");r=`0x${l.toString(16)}`}}catch(l){console.warn("Failed to get chainId from provider, defaulting to 0x1",l),r="0x1"}let a=y8(r);if(!o.find((l=>Ni(l.address)===s))){let l={name:this.walletBranding.name,icon:typeof this.walletBranding.icon=="string"?this.walletBranding.icon:void 0,id:this.walletBranding.id};o.push(this.buildConnectedWallet(Ni(i),a,l,this.connectorType==="embedded_imported"))}$N(o,this.wallets)||(this.wallets=o,this.emit("walletsUpdated"))}async getConnectedWallet(){let e=await this.proxyProvider.request({method:"eth_accounts"});return this.wallets.sort(((r,n)=>n.connectedAt-r.connectedAt)).find((r=>e.find((n=>Ni(n)===Ni(r.address)))))||null}async isConnected(){let e=await this.proxyProvider.request({method:"eth_accounts"});return Array.isArray(e)&&e.length>0}async sign(e){return await this.connect({showPrompt:!1}),this.proxyProvider.request({method:"personal_sign",params:[_s(e),this.wallets[0]?.address]})}subscribeListeners(){this.proxyProvider.on("accountsChanged",this.onAccountsChanged),this.proxyProvider.on("chainChanged",this.onChainChanged),this.proxyProvider.on("disconnect",this.onDisconnect),this.proxyProvider.on("connect",this.onConnect)}unsubscribeListeners(){this.proxyProvider.removeListener("accountsChanged",this.onAccountsChanged),this.proxyProvider.removeListener("chainChanged",this.onChainChanged),this.proxyProvider.removeListener("disconnect",this.onDisconnect),this.proxyProvider.removeListener("connect",this.onConnect)}constructor(e,r,n,i){super(e),this.chainType="ethereum",this.onAccountsChanged=s=>{s.length===0?this.onDisconnect():this.syncAccounts(s)},this.onChainChanged=s=>{this.wallets.forEach((o=>{o.chainId=y8(s),this.walletClientType==="privy"&&or.put(GI(o.address),s)})),this.emit("walletsUpdated")},this.onDisconnect=()=>{this.connected=!1,this.wallets=[],this.emit("walletsUpdated")},this.onConnect=async()=>{this.connectorType==="base_account"&&this.connected||(this.connected=!0,this.connectorType==="coinbase_wallet"&&await WE(500),this.syncAccounts())},this.wallets=[],this.walletClientType=e,this.chains=r,this.defaultChain=n,this.rpcConfig=i,this.rpcTimeoutDuration=BL(i,e),this.connected=!1,this.initialized=!1}}class sp{on(e,r){if(this.walletProvider)return this.walletProvider.on(e,r);this._subscriptions.push({eventName:e,listener:r})}async request(e){if(!this.walletProvider)throw new Vn(`A wallet request of type ${e.method} was made before setting a wallet provider.`);return Promise.race([this.walletProvider.request(e),this.walletTimeout()]).catch((r=>{throw ip(r)}))}constructor(e,r){this.removeListener=(n,i)=>{if(this.walletProvider)try{return this.walletProvider.removeListener(n,i)}catch{console.warn("Unable to remove wallet provider listener")}},this.walletTimeout=(n=new Lhe,i=this.rpcTimeoutDuration)=>new Promise(((s,o)=>setTimeout((()=>{o(n)}),i))),this.setWalletProvider=n=>{this.walletProvider&&this._subscriptions.forEach((i=>{this.removeListener(i.eventName,i.listener)})),this.walletProvider=n,this._subscriptions.forEach((i=>{this.walletProvider?.on(i.eventName,i.listener)}))},this.walletProvider=e,this.rpcTimeoutDuration=r||aA,this._subscriptions=[]}}class Kat extends Am{async initialize(){await this.importPromise,await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:jhe,id:"com.coinbase.wallet"}}async promptConnection(){try{await this.importPromise;let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Vn("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw ip(e)}}constructor(e,r,n,i,s){super("base_account",e,r,n),this.connectorType="base_account",this.walletClientType="base_account",this.displayName="Base",this.setBaseAccountSdk=s,this.proxyProvider=new sp(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.baseAccountConfig={...i,appChainIds:[r.id].concat(e.map((o=>o.id)))},V1?(this.proxyProvider.setWalletProvider(V1.getProvider()),this.setBaseAccountSdk(V1),console.log("Base Account SDK Initialized")):this.importPromise=Da(()=>import("./index-X-HeMded.js"),[]).then((({createBaseAccountSDK:o})=>{V1=o(this.baseAccountConfig),this.proxyProvider.setWalletProvider(V1.getProvider()),this.setBaseAccountSdk(V1),console.log("Base Account SDK Initialized")})).catch(console.error)}}let Gat=[1,11155111,137,10,8453,84532,42161,7777777,43114,56];class Yat extends Am{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:Ohe,id:"com.coinbase.wallet"}}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Vn("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw ip(e)}}updateConnectionPreference(e){this.coinbaseWalletConfig={...this.coinbaseWalletConfig,preference:{...this.coinbaseWalletConfig.preference,options:e}},this.walletClientType=e==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",hv=Mq({...this.coinbaseWalletConfig}),this.proxyProvider.setWalletProvider(hv.getProvider())}constructor(e,r,n,i){if(super("coinbase_wallet",e,r,n),this.connectorType="coinbase_wallet",this.displayName="Coinbase Wallet",this.proxyProvider=new sp(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.coinbaseWalletConfig={...i,appChainIds:[r.id].concat(e.map((s=>s.id)))},this.walletClientType=this.coinbaseWalletConfig.preference?.options==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",this.walletClientType==="coinbase_smart_wallet"&&(this.displayName="Coinbase Smart Wallet"),!hv){let s=this.coinbaseWalletConfig.preference?.options!=="eoaOnly"?(this.coinbaseWalletConfig.appChainIds??[]).filter((o=>!Gat.includes(o))):[];s.length>0&&!s.every((o=>qre.has(o)))&&console.info(`The configured chains are not supported by Coinbase Smart Wallet: ${s.join(", ")}`),hv=Mq(this.coinbaseWalletConfig)}this.proxyProvider.setWalletProvider(hv.getProvider())}}const Uhe=({...t})=>w.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:w.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.37126 11.0323C2.37126 12.696 3.90598 13.4421 5.40654 13.4468C8.91753 13.4468 12.8021 11.2897 12.7819 7.67984C12.7673 5.07728 10.3748 2.86167 7.54357 2.88296C4.8495 2.88296 2.21821 4.6411 2.21803 7.03628C2.21803 7.67951 2.58722 8.30178 3.55231 8.37184C2.74763 9.16826 2.37126 10.1225 2.37126 11.0323ZM7.55283 8.68012C8.11562 8.68012 8.57186 8.13217 8.57186 7.45624C8.57186 6.78032 8.11562 6.23237 7.55283 6.23237C6.99003 6.23237 6.53379 6.78032 6.53379 7.45624C6.53379 8.13217 6.99003 8.68012 7.55283 8.68012ZM10.4747 8.68012C11.0375 8.68012 11.4937 8.13217 11.4937 7.45625C11.4937 6.78032 11.0375 6.23237 10.4747 6.23237C9.91186 6.23237 9.45562 6.78032 9.45562 7.45625C9.45562 8.13217 9.91186 8.68012 10.4747 8.68012Z",fill:t.color||"var(--privy-color-foreground-3)"})});class YZ extends Am{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return await this.isConnected()?(await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[TN(e?.chainId||"0x1")]}),this.getConnectedWallet()):null}get walletBranding(){return{name:"Privy Wallet",icon:Uhe,id:"io.privy.wallet"}}disconnect(){this.connected=!1}async promptConnection(){}constructor({provider:e,chains:r,defaultChain:n,rpcConfig:i,imported:s,walletIndex:o}){super("privy",r,n,i),this.connectorType="embedded",this.proxyProvider=e,this.walletIndex=o,s&&(this.connectorType="embedded_imported"),this.subscribeListeners()}}const Zat=["eth_sign","eth_populateTransactionRequest","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"];class Oc extends Error{constructor(e,r,n){super(e),this.code=r,this.data=n}}class ZZ extends ku{async handleSendTransaction(e){if(!e.params||!Array.isArray(e.params))throw new Oc(`Invalid params for ${e.method}`,4200);let r=e.params[0];if(!await On()||!this.address)throw new Oc("Disconnected",4900);let{hash:n}=await imt(r,{address:this.address});return n}async handleSignTransaction(e){if(!e.params||!Array.isArray(e.params))throw new Oc(`Invalid params for ${e.method}`,4200);let r=e.params[0];if(!await On()||!this.address)throw new Oc("Disconnected",4900);let{signature:n}=await nmt(r,{address:this.address});return n}handleSwitchEthereumChain(e){let r;if(!e.params||!Array.isArray(e.params))throw new Oc(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")r=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new Oc(`Invalid params for ${e.method}`,4200);r=e.params[0].chainId}this.chainId=Number(r),this.publicClient=uw(this.chainId,this.chains,this.rpcConfig,{appId:this.appId}),this.emit("chainChanged",r)}async handlePersonalSign(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for personal_sign");let r=e.params[0],n=e.params[1],{signature:i}=await tmt({message:r},{address:n});return i}async handleSignedTypedData(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_signTypedData_v4");let r=e.params[0],n=typeof e.params[1]=="string"?JSON.parse(e.params[1]):e.params[1],{signature:i}=await rmt(w8(n),{address:r});return i}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let r={...e.params[0],chainId:TN(this.chainId)};return await this.publicClient.estimateGas({account:r.from??this.address,...Gie(r)})}async request(e){switch(console.debug("Embedded1193Provider.request() called with args",e),e.method){case"eth_accounts":case"eth_requestAccounts":return this.address?[this.address]:[];case"eth_chainId":return TN(this.chainId);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":return this.handleSendTransaction(e);case"eth_signTransaction":return this.handleSignTransaction(e);case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"personal_sign":return this.handlePersonalSign(e);case"eth_signTypedData_v4":return this.handleSignedTypedData(e)}if(!(r=>Zat.includes(r))(e.method))return this.publicClient.request({method:e.method,params:e.params});{let r=await On();if(await smt({address:this.address}),!r||!this.address)throw new Oc("Disconnected",4900);try{let n={method:e.method,params:e.params},i=this.walletAccount;return i&&ws(i)?this.handleWalletApiRequest(n,i,r):(await this.walletProxy.rpc({accessToken:r,entropyId:this.entropyId,entropyIdVerifier:this.entropyIdVerifier,chainType:"ethereum",hdWalletIndex:this.walletIndex,request:n})).response.data}catch(n){throw console.error(n),new Oc("Disconnected",4900)}}}async handleWalletApiRequest(e,r,n){let i=this.privyClient;if(!i)throw new Oc("Disconnected",4900);if(e.method==="secp256k1_sign"){let s=await Pa(i,(async({message:o})=>this.walletProxy.signWithUserSigner({accessToken:n,message:o})),{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:r.id,params:{hash:e.params[0]}});if(s.method!=="secp256k1_sign")throw new Oc(`Invalid params for ${e.method}`,4200);return s.data.signature}throw new Oc(`Method not supported: ${e.method}`,4200)}constructor({walletProxy:e,address:r,entropyId:n,entropyIdVerifier:i,rpcConfig:s,chains:o,appId:a,chainId:l=1,walletIndex:u,privyClient:c,walletAccount:h}){super(),this.walletProxy=e,this.address=r,this.entropyId=n,this.entropyIdVerifier=i,this.chainId=l,this.rpcConfig=s,this.chains=o,this.publicClient=uw(l,this.chains,s,{appId:a}),this.rpcTimeoutDuration=BL(s,"privy"),this.appId=a,this.walletIndex=u,this.privyClient=c,this.walletAccount=h}}class UL extends Am{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the EthereumNullConnector")}disconnect(){throw Error("disconnect called for an uninstalled wallet via the EthereumNullConnector")}promptConnection(e){throw Error(`promptConnection called for an uninstalled wallet via the EthereumNullConnector for ${e}`)}constructor({id:e,name:r,icon:n,walletClientType:i,defaultChain:s}){super(i,[],s,{}),this.connectorType="null",this.proxyProvider=new sp(void 0,aA),this.id=e,this.name=r,this.icon=n,this.connectorType=i}}const FL=({style:t,...e})=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeWidth:1.5,viewBox:"0 0 24 24",style:{...t},...e,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"})}),MN=({...t})=>w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",...t,children:[w.jsx("rect",{width:"32",height:"32",rx:"6",fill:"#121314"}),w.jsx("g",{transform:"translate(4, 4)",children:w.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 318.6 318.6",children:[w.jsx("style",{children:".s1{stroke-linecap:round;stroke-linejoin:round}.s2{fill:#e4761b;stroke:#e4761b}.s3{fill:#f6851b;stroke:#f6851b}"}),w.jsx("path",{fill:"#e2761b",stroke:"#e2761b",className:"s1",d:"m274.1 35.5-99.5 73.9L193 65.8z"}),w.jsx("path",{d:"m44.4 35.5 98.7 74.6-17.5-44.3zm193.9 171.3-26.5 40.6 56.7 15.6 16.3-55.3zm-204.4.9L50.1 263l56.7-15.6-26.5-40.6z",className:"s1 s2"}),w.jsx("path",{d:"m103.6 138.2-15.8 23.9 56.3 2.5-2-60.5zm111.3 0-39-34.8-1.3 61.2 56.2-2.5zM106.8 247.4l33.8-16.5-29.2-22.8zm71.1-16.5 33.9 16.5-4.7-39.3z",className:"s1 s2"}),w.jsx("path",{fill:"#d7c1b3",stroke:"#d7c1b3",className:"s1",d:"m211.8 247.4-33.9-16.5 2.7 22.1-.3 9.3zm-105 0 31.5 14.9-.2-9.3 2.5-22.1z"}),w.jsx("path",{fill:"#233447",stroke:"#233447",className:"s1",d:"m138.8 193.5-28.2-8.3 19.9-9.1zm40.9 0 8.3-17.4 20 9.1z"}),w.jsx("path",{fill:"#cd6116",stroke:"#cd6116",className:"s1",d:"m106.8 247.4 4.8-40.6-31.3.9zM207 206.8l4.8 40.6 26.5-39.7zm23.8-44.7-56.2 2.5 5.2 28.9 8.3-17.4 20 9.1zm-120.2 23.1 20-9.1 8.2 17.4 5.3-28.9-56.3-2.5z"}),w.jsx("path",{fill:"#e4751f",stroke:"#e4751f",className:"s1",d:"m87.8 162.1 23.6 46-.8-22.9zm120.3 23.1-1 22.9 23.7-46zm-64-20.6-5.3 28.9 6.6 34.1 1.5-44.9zm30.5 0-2.7 18 1.2 45 6.7-34.1z"}),w.jsx("path",{d:"m179.8 193.5-6.7 34.1 4.8 3.3 29.2-22.8 1-22.9zm-69.2-8.3.8 22.9 29.2 22.8 4.8-3.3-6.6-34.1z",className:"s3"}),w.jsx("path",{fill:"#c0ad9e",stroke:"#c0ad9e",className:"s1",d:"m180.3 262.3.3-9.3-2.5-2.2h-37.7l-2.3 2.2.2 9.3-31.5-14.9 11 9 22.3 15.5h38.3l22.4-15.5 11-9z"}),w.jsx("path",{fill:"#161616",stroke:"#161616",className:"s1",d:"m177.9 230.9-4.8-3.3h-27.7l-4.8 3.3-2.5 22.1 2.3-2.2h37.7l2.5 2.2z"}),w.jsx("path",{fill:"#763d16",stroke:"#763d16",className:"s1",d:"m278.3 114.2 8.5-40.8-12.7-37.9-96.2 71.4 37 31.3 52.3 15.3 11.6-13.5-5-3.6 8-7.3-6.2-4.8 8-6.1zM31.8 73.4l8.5 40.8-5.4 4 8 6.1-6.1 4.8 8 7.3-5 3.6 11.5 13.5 52.3-15.3 37-31.3-96.2-71.4z"}),w.jsx("path",{d:"m267.2 153.5-52.3-15.3 15.9 23.9-23.7 46 31.2-.4h46.5zm-163.6-15.3-52.3 15.3-17.4 54.2h46.4l31.1.4-23.6-46zm71 26.4 3.3-57.7 15.2-41.1h-67.5l15 41.1 3.5 57.7 1.2 18.2.1 44.8h27.7l.2-44.8z",className:"s3"})]})})]}),Fhe=({style:t,...e})=>w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"108",height:"108",viewBox:"0 0 108 108",fill:"none",style:{height:"28px",width:"28px",...t},...e,children:[w.jsx("rect",{width:"108",height:"108",rx:"23",fill:"#AB9FF2"}),w.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46.5267 69.9229C42.0054 76.8509 34.4292 85.6182 24.348 85.6182C19.5824 85.6182 15 83.6563 15 75.1342C15 53.4305 44.6326 19.8327 72.1268 19.8327C87.768 19.8327 94 30.6846 94 43.0079C94 58.8258 83.7355 76.9122 73.5321 76.9122C70.2939 76.9122 68.7053 75.1342 68.7053 72.314C68.7053 71.5783 68.8275 70.7812 69.0719 69.9229C65.5893 75.8699 58.8685 81.3878 52.5754 81.3878C47.993 81.3878 45.6713 78.5063 45.6713 74.4598C45.6713 72.9884 45.9768 71.4556 46.5267 69.9229ZM83.6761 42.5794C83.6761 46.1704 81.5575 47.9658 79.1875 47.9658C76.7816 47.9658 74.6989 46.1704 74.6989 42.5794C74.6989 38.9885 76.7816 37.1931 79.1875 37.1931C81.5575 37.1931 83.6761 38.9885 83.6761 42.5794ZM70.2103 42.5795C70.2103 46.1704 68.0916 47.9658 65.7216 47.9658C63.3157 47.9658 61.233 46.1704 61.233 42.5795C61.233 38.9885 63.3157 37.1931 65.7216 37.1931C68.0916 37.1931 70.2103 38.9885 70.2103 42.5795Z",fill:"#FFFDF8"})]});function QI(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var Qat=0;class zhe extends Am{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return{name:this.providerDetail.info.name,icon:this.providerDetail.info.icon,id:this.providerDetail.info.rdns}}disconnect(){console.warn(`Programmatic disconnect with ${this.providerDetail.info.name} is not yet supported.`)}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Vn("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw ip(e)}}constructor(e,r,n,i,s){super(s||"unknown",e,r,n),this.connectorType="injected",this.proxyProvider=new sp(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.providerDetail=i;let o=i.provider;this.proxyProvider.setWalletProvider(o)}}var Op="__private_"+Qat+++"__walletBranding";class JI extends Am{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return QI(this,Op)[Op]??{name:"Browser Extension",icon:FL,id:"extension"}}disconnect(){console.warn("Programmatic disconnect with browser wallets is not yet supported.")}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Vn("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw ip(e)}}constructor(e,r,n,i,s){super(s??"unknown",e,r,n),Object.defineProperty(this,Op,{writable:!0,value:void 0}),this.connectorType="injected",this.proxyProvider=new sp(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.proxyProvider.setWalletProvider(i),s==="metamask"?QI(this,Op)[Op]={name:"MetaMask",icon:MN,id:"io.metamask"}:s==="phantom"&&(QI(this,Op)[Op]={name:"Phantom",icon:Fhe,id:"phantom"})}}class Jat extends zhe{disconnect(){console.warn("MetaMask does not support programmatic disconnect.")}async promptConnection(){try{hn.isMobile||await this.proxyProvider.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Vn("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw ip(e)}}}const Xat=["metamask","phantom","brave_wallet","rainbow","uniswap_wallet_extension","uniswap_extension","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","crypto.com_wallet_extension","crypto.com_onchain","binance","coinbase_wallet","coinbase_smart_wallet","base_account","metamask","trust","safe","rainbow","uniswap","zerion","argent","spot","omni","cryptocom","blockchain","safepal","bitkeep","zengo","1inch","binance","exodus","mew_wallet","alphawallet","keyring_pro","mathwallet","unstoppable","obvious","ambire","internet_money_wallet","coin98","abc_wallet","arculus_wallet","haha","cling_wallet","broearn","copiosa","burrito_wallet","enjin_wallet","plasma_wallet","avacus","bee","pitaka","pltwallet","minerva","kryptogo","prema","slingshot","kriptonio","timeless","secux","bitizen","blocto","okx_wallet","safemoon","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","privy","unknown","phantom","solflare","glow","backpack","mobile_wallet_adapter"],zL=Object.freeze({phantom:{client:"phantom",name:"Phantom",installLink:hn.isFirefox?"https://addons.mozilla.org/en-US/firefox/addon/phantom-app/":"https://chrome.google.com/webstore/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa?hl=en",chainTypes:["ethereum","solana"],get isInstalled(){if("phantom"in window){let t=window;if(t?.phantom?.ethereum?.isPhantom&&t?.phantom?.ethereum?.chainId||t?.phantom?.solana?.isPhantom)return!0}return!1},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:r}){let n=Sx({client:this.client,isSolana:e,connectOnly:r});return`${t?"phantom://":"https://phantom.app/ul/"}browse/${n}?ref=${n}`}},solflare:{client:"solflare",name:"Solflare",installLink:hn.isFirefox?"https://addons.mozilla.org/es/firefox/addon/solflare-wallet/":"https://chromewebstore.google.com/detail/solflare-wallet/bhhhlbepdkbapadjdnnojkbgioiodbic",chainTypes:["solana"],get isInstalled(){return"solflare"in window&&!!window?.solflare?.isSolflare},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:r}){let n=Sx({client:this.client,isSolana:e,connectOnly:r});return`${t?"solflare://ul/v1/":"https://solflare.com/ul/v1/"}browse/${n}?ref=${n}`}},backpack:{client:"backpack",name:"Backpack",installLink:"https://chromewebstore.google.com/detail/backpack/aflkmfhebedbjioipglgcbcmnbpgliof",chainTypes:["ethereum","solana"],get isInstalled(){return!(!("backpack"in window)||!window?.backpack?.ethereum?.isBackpack&&!window?.backpack?.solana?.isBackpack)},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:r}){let n=Sx({client:this.client,isSolana:e,connectOnly:r});return`${t?"backpack://ul/v1/":"https://backpack.com/ul/v1/"}browse/${n}?ref=${n}`}},okx_wallet:{client:"okx_wallet",name:"OKX Wallet",installLink:"https://chromewebstore.google.com/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",chainTypes:["solana"],get isInstalled(){return"okxwallet"in window&&!!window?.okxwallet?.isOkxWallet},getMobileRedirect({isSolana:t,connectOnly:e}){return"https://www.okx.com/download?deeplink="+encodeURIComponent("okx://wallet/dapp/url?dappUrl="+Sx({client:this.client,isSolana:t,connectOnly:e}))}}});function Whe({connectorType:t,walletClientType:e}){for(let r of Xat)if(t===r||e===r)return zL[r]}function Sx({client:t,isSolana:e,connectOnly:r}){let n=new URL(window.location.href);return n.searchParams.set("privy_connector",e?"solana_adapter":"injected"),n.searchParams.set("privy_wallet_client",t),n.searchParams.set("privy_connect_only",String(r)),encodeURIComponent(n.href.replace(/\/$/g,""))}const v8=()=>{let t=or.get(ghe);return t&&Array.isArray(t)&&t.map((e=>(r=>r&&typeof r.address=="string"&&typeof r.connectorType=="string"&&typeof r.walletClientType=="string"&&typeof r.connectedAt=="number")(e))).every(Boolean)?t:[]};let elt=["phantom","glow","solflare","backpack","okx_wallet","walletconnect"];class b8 extends Bhe{get isInstalled(){return this.adapter.readyState==="Installed"}get wallet(){return this.adapter.wallet}buildConnectedWallet(e,r){let n,i,s,o;if(e.readyState!=="Installed"||!e.publicKey)throw Error("Wallet is not connected.");return"signMessage"in e&&(n=async(...a)=>{if(!e.connected)throw Error("Wallet is not connected.");return await e.signMessage(a[0])}),"sendTransaction"in e&&(i=async(...a)=>await e.sendTransaction(a[0],a[1],a[2])),"signTransaction"in e&&(s=async a=>await e.signTransaction(a)),"signAllTransactions"in e&&(o=async a=>await e.signAllTransactions(a)),{type:"solana",address:e.publicKey.toBase58(),meta:r,imported:!1,connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:async()=>e.connected,disconnect:()=>{try{e.disconnect()}catch{console.error("Wallet does not support programmatic disconnect")}},getProvider:x0(`${this.walletClientType||""} wallet does not support 'getProvider'`),signMessage:n??x0(`${this.walletClientType||""} wallet does not support 'signMessage'`),sendTransaction:i??x0(`${this.walletClientType||""} wallet does not support 'sendTransaction'`),signTransaction:s??x0(`${this.walletClientType||""} wallet does not support 'signTransaction'`),signAllTransactions:o??x0(`${this.walletClientType||""} wallet does not support 'signAllTransactions'`)}}async syncAccounts(){if(this.adapter.readyState==="Installed"&&this.adapter.publicKey){let e={name:this.walletBranding.name,icon:typeof this.walletBranding.icon=="string"?this.walletBranding.icon:void 0,id:this.walletBranding.id};this.wallets.find((r=>this.adapter.publicKey&&r.address===this.adapter.publicKey.toBase58()))||(this.wallets=[this.buildConnectedWallet(this.adapter,e)],this.emit("walletsUpdated"))}else this.wallets.length>0&&(this.wallets=[],this.emit("walletsUpdated"))}get walletBranding(){return{id:this.adapter.name,name:this.adapter.name,icon:this.adapter.icon}}async initialize(){this.subscribeListeners(),await this.syncAccounts(),this.shouldAttemptAutoConnect()&&await this.adapter.autoConnect().catch((()=>{})),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}async getConnectedWallet(){return this.wallets.sort(((e,r)=>r.connectedAt-e.connectedAt))[0]||null}async isConnected(){return this.adapter.connected&&["Installed"].includes(this.adapter.readyState)}subscribeListeners(){this.adapter.addListener("disconnect",this.onDisconnect),this.adapter.addListener("connect",this.onConnect),this.adapter.addListener("error",this.onError),this.adapter.addListener("readyStateChange",this.onReadyStateChange)}unsubscribeListeners(){this.adapter.removeAllListeners()}shouldAttemptAutoConnect(){return!(!this.autoConnectEnabled||!elt.includes(this.walletClientType))&&(this.walletClientType!=="phantom"||v8().some((({walletClientType:e})=>e==="phantom")))}constructor(e,r){super((function(n){return n.name.toLowerCase().split(" ").join("_")})(e)),this.chainType="solana",this.connectorType="solana_adapter",this.disconnect=()=>{this.adapter.disconnect().then((()=>this.onDisconnect())).catch((n=>console.error("Error disconnecting",n)))},this.promptConnection=async()=>{try{await this.adapter.connect()}catch(n){throw ip(n)}},this.onDisconnect=()=>{this.syncAccounts()},this.onConnect=n=>{this.syncAccounts()},this.onError=n=>{this.syncAccounts()},this.onReadyStateChange=n=>{n!=="Installed"&&(this.connected=!1),this.syncAccounts()},this.adapter=e,this.autoConnectEnabled=r,this.wallets=[]}}class WL extends b8{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the SolanaNullConnector")}constructor({id:e,name:r,icon:n}){super({name:r},!1),this.connectorType="null",this.proxyProvider=new sp(void 0,aA),this.disconnect=async()=>{throw Error("disconnect called for an uninstalled wallet via the SolanaNullConnector")},this.promptConnection=async()=>{throw Error("promptConnection called for an uninstalled wallet via the SolanaNullConnector")},this.id=e,this.name=r,this.icon=n}}function tlt(t){return t.chainType==="solana"}function QZ(t){return t.type==="solana"}const n6=Nw((()=>({listings:[]}))),rlt=n6.setState,XI=t=>{let e;try{e=new URL(t).hostname}catch{return}return n6.getState().listings.find((({homepage:r})=>{let n;try{n=new URL(r).hostname}catch{return!1}return e.includes(n)}))},tf=t=>n6((({listings:e})=>e.find((({slug:r})=>qE(r)===qE(t)))));function qE(t){return t==="cryptocom"?"cryptocom-defi":t==="binance"?"binance-defi":t.replace(/[-_]wallet$/,"")}function nlt({src:t,...e}){return w.jsx("img",{src:t,...e,style:{display:"none"}})}const Qu={appearance:{landingHeader:"Log in or sign up",theme:"light",walletList:["detected_wallets","metamask","coinbase_wallet","rainbow","wallet_connect"]},walletConnectCloudProjectId:"34357d3c125c2bcf2ce2bc3309d98715",externalWallets:{coinbaseWallet:{connectionOptions:"all"}},captchaEnabled:!1,_render:{standalone:!1},fundingMethodConfig:{moonpay:{useSandbox:!1}}};let ilt=new Set(["coinbase_wallet","base_account","cryptocom","metamask","okx_wallet","phantom","rainbow","uniswap","zerion","universal_profile","bybit_wallet","ronin_wallet","haha_wallet","wallet_connect","wallet_connect_qr","detected_wallets","detected_solana_wallets","detected_ethereum_wallets","rabby_wallet","safe","solflare","backpack","binance","binanceus"]),JZ=t=>ilt.has(t),XZ=(t,e,r)=>r.indexOf(t)===e;const PN=792703809,NN="11111111111111111111111111111111";function Yw(t){return t.includes("testnet")?"testnet":t.includes("devnet")?"devnet":"mainnet-beta"}function slt(t,e){return`https://explorer.solana.com/account/${t}?cluster=${e}`}function Cx(t,e){let r=Math.max(0,Math.min(1,t.toHsl().l+e));return Jt({...t.toHsl(),l:r})}function eT(t,e){let r=t.getLuminance(),n=e.getLuminance();return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function olt({backgroundTheme:t,accentHex:e}){let r,n;t==="light"?r=!1:t==="dark"?r=!0:(r=.5>=Jt(t).getLuminance(),n=Jt(t).toHslString());let i=r?"dark":"light",s=r?pv:kx,{accent:o,accentLight:a,accentHover:l,accentDark:u,accentDarkest:c}=(function(b,E){if(!b){let M=E?pv:kx;return{accent:Jt(M.background.interactive),accentLight:Jt(M.background.interactive),accentHover:Jt(M.background["interactive-hover"]),accentDark:Jt(M.background["interactive-clicked"]),accentDarkest:Jt(M.background["interactive-disabled"])}}let A=Jt(b);return{accent:A,accentLight:Cx(A,.15),accentHover:Cx(A,.3),accentDark:Cx(A,-.06),accentDarkest:Cx(A,-.6)}})(e,r),h=(function(b){let E=Jt(kx.text.default),A=Jt(pv.text.default),M=eT(b,E),O=eT(b,A),P=b.toHsl();return P.h>=220&&P.h<=300&&O>=3?pv.text.default:M>O?kx.text.default:pv.text.default})(o),m=Jt(h),y=eT(o,Jt(s.background.default))>=3;return{colorScheme:i,background:n||s.background.default,background2:s.background.elevated,background3:s.background.interactive,foreground:s.text.default,foreground2:s.text.muted,foreground3:s.text.placeholder,foreground4:s.border.default,accent:o.toHslString(),accentLight:a.toHslString(),accentHover:l.toHslString(),accentDark:u.toHslString(),accentDarkest:c.toHslString(),foregroundAccent:m.toHslString(),success:s.background.success,successDark:s.text.success,successLight:s.background.success,error:s.text.error,errorLight:s.background.error,warn:s.background.warning,warnLight:s.background.warning,warningDark:s.text.warning,errorDark:s.text.error,successBg:s.background.success,errorBg:s.background.error,errorBgHover:s.background["error-hover"],warnBg:s.background.warning,infoBg:s.background.info,infoBgHover:s.background["info-hover"],borderDefault:s.border.default,borderHover:s.border["default-hover"],borderFocus:s.border.focused,borderError:s.border.error,borderSuccess:s.border.success,borderWarning:s.border.warning,borderInfo:s.border.info,borderInteractive:s.border.interactive,borderInteractiveHover:s.border["interactive-hover"],backgroundHover:s.background["default-hover"],backgroundClicked:s.background["default-clicked"],backgroundDisabled:s.background["default-disabled"],backgroundInteractive:s.background.interactive,backgroundInteractiveHover:s.background["interactive-hover"],backgroundInteractiveClicked:s.background["interactive-clicked"],backgroundInteractiveDisabled:s.background["interactive-disabled"],foregroundHover:s.text.default,foregroundClicked:s.text.default,foregroundDisabled:s.text["default-disabled"],foregroundInteractive:s.text.interactive,foregroundInteractiveHover:s.text["interactive-hover"],accentHasGoodContrast:y?"1":"0",linkNavigationColor:y?o.toHslString():s.text.default,linkNavigationDecoration:y?"none":"underline",iconDefault:s.icon.default,iconMuted:s.icon.muted,iconSubtle:s.icon.subtle,iconInverse:s.icon.inverse,iconSuccess:s.icon.success,iconWarning:s.icon.warning,iconError:s.icon.error,iconInteractive:s.icon.interactive,iconDefaultHover:s.icon["default-hover"],iconMutedHover:s.icon["muted-hover"],iconSubtleHover:s.icon["subtle-hover"],iconDefaultClicked:s.icon["default-clicked"],iconMutedClicked:s.icon["muted-clicked"],iconSubtleClicked:s.icon["subtle-clicked"],iconDefaultDisabled:s.icon["default-disabled"],iconMutedDisabled:s.icon["muted-disabled"],iconSubtleDisabled:s.icon["subtle-disabled"],iconErrorHover:s.icon["error-hover"],iconInteractiveHover:s.icon["interactive-hover"],iconErrorClicked:s.icon["error-clicked"],iconInteractiveClicked:s.icon["interactive-clicked"],iconMutedDisabledAlt:s.icon["muted-disabled"],iconSubtleDisabledAlt:s.icon["subtle-disabled"]}}const pv={background:{default:"#020713",elevated:"#1A2230","default-hover":"#101724","default-clicked":"#1A2230","default-disabled":"#020713",success:"#0E3E2D",warning:"#373827",error:"#2E0C18",interactive:"#8B86FF","error-hover":"#441821","interactive-hover":"#7B73E5","interactive-clicked":"#6560CC","interactive-disabled":"#141824",info:"#1F2937","info-hover":"#141824"},icon:{default:"#F8F8F8",muted:"#9BA2AE",subtle:"#7B8491",inverse:"#020713",success:"#88E3B5",warning:"#FDF27B",error:"#EF4444",interactive:"#88B6FF","default-hover":"#F8F8F8","muted-hover":"#AEB3BD","subtle-hover":"#8B939E","default-clicked":"#F8F8F8","muted-clicked":"#9097A5","subtle-clicked":"#78818E","default-disabled":"#404452","muted-disabled":"#404452","subtle-disabled":"#404452","error-hover":"#F05555","interactive-hover":"#7B73E5","error-clicked":"#EF4444","interactive-clicked":"#6560CC"},text:{default:"#F8F8F8",muted:"#9BA2AE",placeholder:"#7B8491",success:"#ACEECB",warning:"#FEF9A0",error:"#FCA5A5",interactive:"#A29EFF","default-disabled":"#404452","interactive-hover":"#8C88E5"},border:{default:"#1F2937",interactive:"#88B0FF",focused:"#F8F8FC",info:"#5B83D3",success:"#317056",warning:"#FBBF24",error:"#F87171","default-hover":"#34304A","interactive-hover":"#88B0FF"}},kx={background:{default:"#FFFFFF",elevated:"#F1F2F9","default-hover":"#F8F9FC","default-clicked":"#F1F2F9","default-disabled":"#FFFFFF",success:"#DCFCE7",warning:"#FEF3C7",error:"#FEE2E2",interactive:"#5B4FFF","error-hover":"#FECACA","interactive-hover":"#4F46E5","interactive-clicked":"#4338CA","interactive-disabled":"#F1F2F9",info:"#E0E7FF","info-hover":"#EEF2FF"},icon:{default:"#110F2A",muted:"#64668B",subtle:"#9498B8",inverse:"#FFFFFF",success:"#33B287",warning:"#F59E0B",error:"#EF4444",interactive:"#564FFF","default-hover":"#1D1B35","muted-hover":"#64668B","subtle-hover":"#888AAE","default-clicked":"#060C23","muted-clicked":"#64668B","subtle-clicked":"#788804","default-disabled":"#CBCDE1","muted-disabled":"#CBCDE1","subtle-disabled":"#CBCDE1","error-hover":"#F06060","interactive-hover":"#4F46E5","error-clicked":"#DC3838","interactive-clicked":"#2BA482"},text:{default:"#040217",muted:"#64668B",placeholder:"#9498B8",success:"#135638",warning:"#906218",error:"#991B1B",interactive:"#5B4FFF","default-disabled":"#CBCDE1","interactive-hover":"#5B4FFF"},border:{default:"#E2E3F0",interactive:"#5B4FFF",focused:"#949DF9",info:"#F1F2F9",success:"#87D7B7",warning:"#FACD63",error:"#F69393","default-hover":"#E2E3F0","interactive-hover":"#5B4FFF"}};function qhe(t,e,r,n){let i,s,o,a,l,u,c,h,m,y,b,E,A,M,O,P,z=r?console.warn:()=>{};e?.loginMethods?(i=e.loginMethods.includes("email"),s=e.loginMethods.includes("sms"),a=e.loginMethods.includes("wallet"),l=e.loginMethods.includes("google"),u=e.loginMethods.includes("twitter"),c=e.loginMethods.includes("discord"),y=e.loginMethods.includes("spotify"),b=e.loginMethods.includes("instagram"),h=e.loginMethods.includes("tiktok"),m=e.loginMethods.includes("line"),A=e.loginMethods.includes("github"),E=e.loginMethods.includes("linkedin"),M=e.loginMethods.includes("apple"),O=e.loginMethods.includes("farcaster"),P=e.loginMethods.includes("telegram"),o=e.loginMethods.includes("passkey")):(i=t.email_auth,s=t.sms_auth,a=t.wallet_auth||t.solana_wallet_auth,l=t.google_oauth,u=t.twitter_oauth,c=t.discord_oauth,A=t.github_oauth,y=t.spotify_oauth,b=t.instagram_oauth,h=t.tiktok_oauth,m=t.line_oauth,E=t.linkedin_oauth,M=t.apple_oauth,O=t.farcaster_auth,P=t.telegram_auth,o=t.passkey_auth),t.passkey_auth&&(o=!0),typeof window<"u"&&typeof window.PublicKeyCredential!="function"&&(o=!1);let L=[i,s].filter(Boolean),W=[l,u,c,A,y,b,h,m,E,M,O,P].filter(Boolean),H=[a].filter(Boolean),G=e?.loginMethods?.includes("passkey")??!1,N=t.passkeys_for_signup_enabled??!1,F=[o&&(N||G)].filter(Boolean);if(L.length+W.length+H.length+F.length===0)throw Error("You must enable at least one login method");let U=e?.appearance?.showWalletLoginFirst!==void 0?e?.appearance?.showWalletLoginFirst:t.show_wallet_login_first;U&&H.length===0?(z("You should only enable `showWalletLoginFirst` when `wallet` logins are also enabled. `showWalletLoginFirst` has been set to false"),U=!1):U||W.length+L.length!==0||(z("You should only disable `showWalletLoginFirst` when `email`, `sms`, or social logins are also enabled. `showWalletLoginFirst` has been set to true"),U=!0);let j=e?.externalWallets?.walletConnect?.enabled??!0;e?.loginMethods&&e.loginMethodsAndOrder&&z("You should only configure one of `loginMethods` or `loginMethodsAndOrder`");let _=(({input:ne,overrides:ie})=>ie?ie.primary.concat(ie.overflow??[]).filter(JZ).filter(XZ):ne?ne.filter(JZ).filter(XZ):Qu.appearance.walletList)({input:e?.appearance?.walletList,overrides:e?.loginMethodsAndOrder}),d=(({input:ne})=>{if(!ne||!ne.primary[0])return;let ie=[ne.primary[0]],ce=[];for(let Se of(ne.primary.length>4&&console.warn("You should not specify greater than 4 login methods in `loginMethodsAndOrder.primary`"),ne.primary.slice(1)))ie.includes(Se)?console.warn(`Duplicated login method: ${Se}`):ie.push(Se);for(let Se of ne.overflow??[])ie.includes(Se)||ce.includes(Se)?console.warn(`Duplicated login method: ${Se}`):ce.push(Se);return{primary:ie,overflow:ce}})({input:e?.loginMethodsAndOrder}),g=e?.intl?.defaultCountry??"US",{chains:x,defaultChain:C}=(function({supportedChains:ne,defaultChainFromConfig:ie}){let ce;if(ne){if(ne.length===0)throw Error("`supportedChains` must contain at least one chain");ce=Hre(ne)}else ce=[...M5];let Se=ne?ce[0]:vc,ye=ie??Se;if(!ce.find((Ae=>Ae.id===ye.id)))throw Error("`defaultChain` must be included in `supportedChains`");return{chains:ce,defaultChain:ye}})({supportedChains:e?.supportedChains,defaultChainFromConfig:e?.defaultChain}),k=!!e?.defaultChain,T=e?.customAuth?.getCustomAccessToken&&e?.customAuth?.enabled!==!1,R=e?.embeddedWallets?.requireUserPasswordOnCreate,I=e?.embeddedWallets?.createOnLogin,f=T?"all-users":t.embedded_wallet_config.ethereum.create_on_login,S=t.embedded_wallet_config.solana.create_on_login,K={"mainnet-beta":{rpcUrl:"https://api.mainnet-beta.solana.com",blockExplorerUrl:"https://explorer.solana.com"},testnet:{rpcUrl:"https://api.testnet.solana.com",blockExplorerUrl:"https://explorer.solana.com/?cluster=testnet"},devnet:{rpcUrl:"https://api.devnet.solana.com",blockExplorerUrl:"https://explorer.solana.com/?cluster=devnet"}};if(e?.solanaClusters)for(let ne of e.solanaClusters){let{name:ie,rpcUrl:ce,blockExplorerUrl:Se}=ne;K[ie]={rpcUrl:ce??K[ie].rpcUrl,blockExplorerUrl:Se??K[ie].blockExplorerUrl}}t.solana_wallet_auth&&!e?.externalWallets?.solana?.connectors&&console.warn("App configuration has Solana wallet login enabled, but no Solana wallet connectors have been passed to Privy. Make sure to pass Solana connectors to the `config.externalWallets.solana.connectors` field of the `PrivyProvider`");let D=t.telegram_auth_config?{botId:t.telegram_auth_config.bot_id,botName:t.telegram_auth_config.bot_name,linkEnabled:t.telegram_auth_config.link_enabled,seamlessAuthEnabled:t.telegram_auth_config.seamless_auth_enabled}:void 0,J=t.funding_config?{methods:t.funding_config.methods,options:t.funding_config.options,defaultRecommendedAmount:t.funding_config.default_recommended_amount,defaultRecommendedCurrency:t.funding_config.default_recommended_currency,promptFundingOnWalletCreation:t.funding_config.prompt_funding_on_wallet_creation,crossChainBridgingEnabled:t.funding_config.cross_chain_bridging_enabled}:void 0;return{id:t.id,name:t.name,allowlistConfig:{errorTitle:t.allowlist_config.error_title,errorDetail:t.allowlist_config.error_detail,errorCtaText:t.allowlist_config.cta_text,errorCtaLink:t.allowlist_config.cta_link},legacyWalletUiConfig:t.legacy_wallet_ui_config,appearance:{logo:e?.appearance?.logo??t.logo_url??void 0,landingHeader:e?.appearance?.landingHeader??Qu.appearance.landingHeader,loginMessage:typeof e?.appearance?.loginMessage=="string"?e?.appearance?.loginMessage.slice(0,100):e?.appearance?.loginMessage,footerLogo:e?.appearance?.footerLogo,palette:olt({backgroundTheme:e?.appearance?.theme??Qu.appearance.theme,accentHex:e?.appearance?.accentColor??t.accent_color}),loginGroupPriority:U?"web3-first":"web2-first",hideDirectWeb2Inputs:!!e?.appearance?.hideDirectWeb2Inputs,walletList:_,walletChainType:e?.appearance?.walletChainType??(({evmWalletAuth:ne,solanaWalletAuth:ie})=>ne&&ie?"ethereum-and-solana":ne?"ethereum-only":ie?"solana-only":"ethereum-only")({evmWalletAuth:t.wallet_auth??!1,solanaWalletAuth:t.solana_wallet_auth??!1})},loginMethods:{wallet:a,email:i,sms:s,passkey:o,google:l,twitter:u,discord:c,github:A,spotify:y,instagram:b,tiktok:h,line:m,linkedin:E,apple:M,farcaster:O,telegram:P},disablePlusEmails:t.disable_plus_emails,loginMethodsAndOrder:d,legal:{termsAndConditionsUrl:e?.legal?.termsAndConditionsUrl??t.terms_and_conditions_url,privacyPolicyUrl:e?.legal?.privacyPolicyUrl??t.privacy_policy_url,requireUsersAcceptTerms:t.require_users_accept_terms??!1},walletConnectCloudProjectId:e?.walletConnectCloudProjectId??t.wallet_connect_cloud_project_id??Qu.walletConnectCloudProjectId,rpcConfig:{rpcUrls:{},rpcTimeouts:e?.externalWallets?.signatureRequestTimeouts??{}},chains:x,solanaClusters:K,defaultChain:C,intl:{defaultCountry:g},shouldEnforceDefaultChainOnConnect:k,captchaEnabled:t.captcha_enabled??Qu.captchaEnabled,captchaSiteKey:t.captcha_site_key,externalWallets:{coinbaseWallet:{config:{appName:t.name,appLogoUrl:t.logo_url,preference:{options:e?.externalWallets?.coinbaseWallet?.connectionOptions??Qu.externalWallets.coinbaseWallet.connectionOptions,...e?.externalWallets?.coinbaseWallet?.config?.preference},...e?.externalWallets?.coinbaseWallet?.config}},baseAccount:{config:{appName:t.name,appLogoUrl:t.logo_url,...e?.externalWallets?.baseAccount?.config,preference:{...e?.externalWallets?.baseAccount?.config?.preference,telemetry:!1}}},walletConnect:{enabled:j,appKit:e?.externalWallets?.walletConnect?.appKit},solana:{connectors:e?.externalWallets?.solana?.connectors},disableAllExternalWallets:e?.externalWallets?.disableAllExternalWallets??!1},embeddedWallets:{requireUserOwnedRecoveryOnCreate:R??(!T&&(t.embedded_wallet_config.require_user_owned_recovery_on_create??!1)),userOwnedRecoveryOptions:T?["user-passcode"]:t.embedded_wallet_config.user_owned_recovery_options,priceDisplay:e?.embeddedWallets?.priceDisplay??{primary:"fiat-currency",secondary:"native-token"},ethereum:{createOnLogin:I??e?.embeddedWallets?.ethereum?.createOnLogin??f},solana:{createOnLogin:e?.embeddedWallets?.solana?.createOnLogin??S},disableAutomaticMigration:e?.embeddedWallets?.disableAutomaticMigration??!1,mode:t.embedded_wallet_config.mode,showWalletUIs:e?.embeddedWallets?.showWalletUIs??t.enforce_wallet_uis??!0,extendedCalldataDecoding:e?.embeddedWallets?.extendedCalldataDecoding??!1,transactionScanning:{enabled:e?.embeddedWallets?.transactionScanning?.enabled??!1,domain:e?.embeddedWallets?.transactionScanning?.domain??n??"https://auth.privy.io"}},mfa:{methods:t.mfa_methods??[],noPromptOnMfaRequired:e?.mfa?.noPromptOnMfaRequired??!1},passkeys:{shouldUnlinkOnUnenrollMfa:e?.passkeys?.shouldUnlinkOnUnenrollMfa,shouldUnenrollMfaOnUnlink:e?.passkeys?.shouldUnenrollMfaOnUnlink},customAuth:T?{enabled:!0,...e.customAuth}:void 0,loginConfig:{telegramAuthConfiguration:D,passkeysForSignupEnabled:t.passkeys_for_signup_enabled},headless:!!e?.headless,render:{standalone:e?._render?.standalone??Qu._render.standalone},fundingConfig:J,fundingMethodConfig:{...e?.fundingMethodConfig??Qu.fundingMethodConfig,moonpay:{...e?.fundingMethodConfig?.moonpay??Qu.fundingMethodConfig.moonpay,useSandbox:e?.fundingMethodConfig?.moonpay.useSandbox??e?.fiatOnRamp?.useSandbox??Qu.fundingMethodConfig.moonpay.useSandbox}},whatsAppEnabled:!!t.whatsapp_enabled,solanaRpcs:{"solana:mainnet":e?.solana?.rpcs?.["solana:mainnet"]??null,"solana:devnet":e?.solana?.rpcs?.["solana:devnet"]??null,"solana:testnet":e?.solana?.rpcs?.["solana:testnet"]??null}}}const Hhe={show_wallet_login_first:!0,allowlist_config:{error_title:null,error_detail:null,cta_text:null,cta_link:null},wallet_auth:!0,email_auth:!0,sms_auth:!1,google_oauth:!1,twitter_oauth:!1,discord_oauth:!1,github_oauth:!1,linkedin_oauth:!1,apple_oauth:!1,disable_plus_emails:!1,terms_and_conditions_url:null,privacy_policy_url:null,embedded_wallet_config:{create_on_login:"off",ethereum:{create_on_login:"off"},solana:{create_on_login:"off"},require_user_owned_recovery_on_create:!1,user_owned_recovery_options:["user-passcode"],mode:"user-controlled-server-wallets-only"},captcha_enabled:!1,captcha_site_key:"",enforce_wallet_uis:!1,legacy_wallet_ui_config:!1,id:"",name:"",passkeys_for_signup_enabled:!1,whatsapp_enabled:!1},Vhe=qhe(Hhe,void 0,!1);let qL=B.createContext({appConfig:Vhe,isServerConfigLoaded:!1});const alt=({children:t,client:e,legacyClient:r,clientConfig:n})=>{let[i,s]=B.useState(null),o=B.useMemo((()=>qhe(i??Hhe,n,!!i,typeof window<"u"?window.location.origin:void 0)),[i,n]);return B.useEffect((()=>{if(!i)return;let a=(function(c){if(!c)return{};let{appearance:h,supportedChains:m,defaultChain:y,externalWallets:b,...E}=c;return{...E,...m?{supportedChains:m.map((A=>A.id))}:void 0,...y?{defaultChain:y.id}:void 0,...b?{walletConnect:b.walletConnect?{enabled:b.walletConnect.enabled}:void 0,coinbaseWallet:b.coinbaseWallet,solana:{connectors:b.solana?.connectors?.get().map((A=>A.walletClientType))}}:void 0}})(n),l=(function(c,h=0){let m=3735928559^h,y=1103547991^h;for(let b,E=0;E<c.length;E++)m=Math.imul(m^(b=c.charCodeAt(E)),2654435761),y=Math.imul(y^b,1597334677);return m=Math.imul(m^m>>>16,2246822507)^Math.imul(y^y>>>13,3266489909),4294967296*(2097151&(y=Math.imul(y^y>>>16,2246822507)^Math.imul(m^m>>>13,3266489909)))+(m>>>0)})(JSON.stringify(a)).toString(),u=`privy:sent:${i.id}:${l}`;localStorage.getItem(u)||(r.createAnalyticsEvent({eventName:"sdk_initialize",payload:a}),localStorage.setItem(u,"t"))}),[n,i]),B.useEffect((()=>{i||(async()=>{try{await e.initialize();let a=e.app.getConfig();a.custom_api_url&&r.updateApiUrl(a.custom_api_url),s(a)}catch(a){console.warn("Error generating app config: ",a)}})()}),[]),w.jsx(qL.Provider,{value:{appConfig:o,isServerConfigLoaded:!!i},children:t})},fn=()=>{let{appConfig:t}=B.useContext(qL);return t},HL=()=>{let{isServerConfigLoaded:t}=B.useContext(qL);return t},Khe=B.createContext({app:Vhe,currentScreen:null,lastScreen:null,navigate:Ke,navigateBack:Ke,resetNavigation:Ke,setModalData:Ke,onUserCloseViaDialogOrKeybindRef:void 0}),llt=t=>{let e=fn(),r=t.authenticated,[n,i]=B.useState(t.initialScreen);B.useEffect((()=>{r||!t.initialScreen||t.initialScreen.isUnauthenticatedScreem||t.setInitialScreen(null)}),[r]);let s=B.useRef(null);B.useEffect((()=>{t.open||(s.current=null)}),[t.open]),B.useEffect((()=>{s.current=null}),[t.initialScreen]);let o={app:e,data:t.data,setModalData:t.setModalData,currentScreen:t.initialScreen,lastScreen:n,navigate:(a,l=!0)=>{t.setInitialScreen(a),l&&i(t.initialScreen)},navigateBack:()=>{t.setInitialScreen(n)},resetNavigation:()=>{t.setInitialScreen(null),i(null)},onUserCloseViaDialogOrKeybindRef:s};return w.jsxs(Khe.Provider,{value:o,children:[(typeof e.appearance.logo=="string"||e.appearance.logo?.type==="img")&&w.jsx(nlt,{src:typeof e.appearance.logo=="string"?e.appearance.logo:e.appearance.logo.props.src}),t.children]})},jt=()=>B.useContext(Khe),clt=({style:t,...e})=>{let{app:r}=jt();return w.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[w.jsx("rect",{width:"28",height:"28",rx:"3",fill:r?.appearance.palette.colorScheme==="dark"?"#3396ff":"#141414"}),w.jsx("g",{clipPath:"url(#clip0_1765_9946)",children:w.jsx("path",{d:"M8.09448 10.3941C11.3558 7.20196 16.6442 7.20196 19.9055 10.3941L20.2982 10.7782C20.3369 10.8157 20.3677 10.8606 20.3887 10.9102C20.4097 10.9599 20.4206 11.0132 20.4206 11.0671C20.4206 11.121 20.4097 11.1744 20.3887 11.224C20.3677 11.2737 20.3369 11.3186 20.2982 11.3561L18.9554 12.6702C18.9158 12.7086 18.8628 12.7301 18.8077 12.7301C18.7526 12.7301 18.6996 12.7086 18.66 12.6702L18.1198 12.1415C15.8448 9.91503 12.1557 9.91503 9.88015 12.1415L9.30167 12.7075C9.26207 12.7459 9.20909 12.7673 9.15395 12.7673C9.0988 12.7673 9.04582 12.7459 9.00622 12.7075L7.66346 11.3934C7.62475 11.3559 7.59397 11.3109 7.57295 11.2613C7.55193 11.2117 7.5411 11.1583 7.5411 11.1044C7.5411 11.0505 7.55193 10.9971 7.57295 10.9475C7.59397 10.8979 7.62475 10.8529 7.66346 10.8154L8.09448 10.3941ZM22.6829 13.1115L23.8776 14.2814C23.9163 14.319 23.9471 14.3639 23.9681 14.4135C23.9892 14.4632 24 14.5165 24 14.5704C24 14.6243 23.9892 14.6777 23.9681 14.7273C23.9471 14.777 23.9163 14.8219 23.8776 14.8594L18.4893 20.1332C18.4102 20.2101 18.3042 20.2531 18.1938 20.2531C18.0835 20.2531 17.9775 20.2101 17.8984 20.1332L14.0743 16.3901C14.0545 16.3708 14.0279 16.36 14.0003 16.36C13.9726 16.36 13.9461 16.3708 13.9263 16.3901L10.1021 20.1332C10.023 20.2101 9.91703 20.2531 9.8067 20.2531C9.69636 20.2531 9.59038 20.2101 9.51124 20.1332L4.12236 14.8594C4.08365 14.8219 4.05287 14.777 4.03185 14.7273C4.01083 14.6777 4 14.6243 4 14.5704C4 14.5165 4.01083 14.4632 4.03185 14.4135C4.05287 14.3639 4.08365 14.319 4.12236 14.2814L5.31767 13.1115C5.39678 13.0348 5.50265 12.9919 5.61285 12.9919C5.72305 12.9919 5.82892 13.0348 5.90803 13.1115L9.73216 16.8546C9.75194 16.874 9.7785 16.8848 9.80616 16.8848C9.83381 16.8848 9.86037 16.874 9.88015 16.8546L13.7043 13.1115C13.7834 13.0346 13.8894 12.9916 13.9997 12.9916C14.1101 12.9916 14.216 13.0346 14.2952 13.1115L18.1198 16.8546C18.1396 16.874 18.1662 16.8848 18.1938 16.8848C18.2215 16.8848 18.2481 16.874 18.2678 16.8546L22.092 13.1115C22.1711 13.0346 22.2771 12.9916 22.3874 12.9916C22.4977 12.9916 22.6037 13.0346 22.6829 13.1115Z",fill:"white"})}),w.jsx("defs",{children:w.jsx("clipPath",{id:"clip0_1765_9946",children:w.jsx("rect",{width:"20",height:"12.2531",fill:"white",transform:"translate(4 8)"})})})]})},Ghe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAHdElNRQfoDAIVODUC+w+GAAAGsUlEQVRYw6WXbYwWVxXHf+fOLAtCXYS2QJdIaClipGCTknXXNqBQMVHbfmhItH4Aral+IAEaG03UxJgYKQJGTUxtDWjaxDSNtcZqIGDwpRuW1oYiVqpdpZSlpC3qysu+PHPP3w/3mXnmeXZbPzjJZO7cefn/z/mfe865xlscq3dGDIguGiHLaMQVLja4s87FShcLo5jtApdddnHexUmHIy475JmdUkPRAQMu7gzT4ljnxJpdk0QPmMFkyAKN2OfOFpc2uuh1J3MZDrjAvXmVEQUuoosRxw642FcEG7IoDxiFxNiu8NYE+vcUYIFYRKKs113bXWx2Z34CoQZsVHOiCZ7mopdzdsFhv8NexEgRDHMxUSNREbh1bwNZwBsFblmfu/a4a6AEENYO5i3AOoEWeEUCF4MOOxBDMQAOk99OJALA2u80sBCwWGBZWG/yRwMaCAbBIAsQTJT3gea1OWfNeaPzvjoHEI85rA8ObtB1v7cIdJkIHgkh9AXpocy0LJjIKvB2wPpZB0v3wkrw5jdNEjeYeMhFX3BAyfn2ke9NUrgB9LrrcZcGJFCld4fWNddXbvbWfWzGR6xJFZsBGh0cBh3bBIxIEGTQ3W0h4NuDaSAzyAxCmGq11Vzf5uaa1aG8p+WFtrEYQGwvjICJkAEqvC+YNmcmMlMNvEaCdrcbyUvQAWDTjVuESHObM6cPGWHmzDwLaEtmzG9Z3qF1zUpXmuuZBb1z4bqeNC6f0WE1NtUTwHzEloiy3BvFisy0sYoLlQtT6XW15md2Qf9SY+2Ngfdca/TMSm/9ewz+/Boc/It45h/i4kSTsKw90SQJsPTvjSZbkWemDW7qTRZ0JEYJWSKxZJ7xmf6M224MzMzbX1s8F1YugjtvMg6eErt/4/z1jUrz1rXUKxnZC2zIg2mdBTK1mFUOKC1fOt/48kdzVixIz86Nij+eEacvpJWyZJ5xy7th8VzjjpuMJfMCW58QL73ekXPVlhsyE+vyzFiplJyauEIyrGIquruMq7qTxk+dcB495rzyTzFepCUWLIFv/kBg081Gd55WUk1IDGFTS89K++TDYxddzKnWcbluHd450xgdh7EGrOo1rr868PMTzqWJRGZ2d8oB/xpL33Xnxl2rjeNn4blXRXduzJ4B5y+28kWscAwXl+yeR654FFZPHoUb710YuPeDOUdPO48di1xptKpeEeHqOcYXNwQKGd88EDk3mqxtxPSfGRlsXRtYt8z4ytPOH/7eqpg1Aso7fYKgK4NPrMpYvsC4/poMA34yVJIQC3sCD9yecdsNyaV5yPj6ryJnR1PAvSNP4J+/1cgDfLbfePaMGGtM7Qdyl12WmKOmXgKKAp54vmBRTxfLrjE+tSYjBPjRM5FrrzIeuD2jf2lLzw8vN4JlfPVp581LsO1DgXv7jSzAiXPw/d+JiYLpjsu26Yfjf5O0rF5WoxsNT9G/bX0XKxakmPjlSee6HlizJJXSX7/oRDc+vjKR+f2wODcKd78/gR8/C9uedF44myJxmhh4OY/ipMQyqaWxmjn95TfEroMFOzbkvG+RceeqViPx1Aln1yEnOow1AnffHCpJAJ5/Vex4UvzptZRdY/O/1dJIS/NkcNmR6MTYah6qzseA4TfFtw4UvHBW1bc/O+7sPhwZHYf/jMODh5yfPudVbXj2TAJ/8XxrOZagNamj4Ei2/GNfuyRxh8t6BG2l15up+MIVODEiFr8rcPS0+O6RBF6mrrEGHHtFzOo2Lo7Dl37hvPQ6mNV6R9JYKgnYWcE37K5HlE2OT/5A0udaPUBHH+BQOMzuNsYLuDyZflTW+fTcmJFDHhJhaZqewMuewXDxcDR9IYyPN6Jj+6K4MF2vV8qBtZJScqVRNi6lpGONVJis5mpKi1WbgwsY+zIsBpcR8mzIZfuTRVZrtdu9odrptR/Xx5XONXJqBmCN0P6YMUQq9WJiwt0Je102WHdbpxSqydMObBWYdwDWLVcqcIMYe3NPjg0Ht84od0Ajju1w2XCr9e6QoqM9V23ZtnmI6cfAMMb9AY0YEHdb6oobEh4y3H3Ize6LsmGvN5IdUnhttdQ9UVrfLk/ljWEZ9wXsqAdQk1EA+O22GcgdZTke/bAs3OPY4HSdcB20HhvVtTMu0jmI8ekAhz2IICj2hKpNqI60NcuIRUHEej1quzubXa2tmZhenrfZmv3YYQ9ipDAIgvHptmblccuDjdRcmjFpWbDi/9ycZjZkRbk5jYztai/AUwiUx+qdEQB/m+25i9lxyvbcjrg45Lmd0uT/3p7/Fw6ODf+WO019AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI0LTEyLTAyVDIxOjU2OjQ4KzAwOjAwMVpslgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNC0xMi0wMlQyMTo1Njo0OCswMDowMEAH1CoAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjQtMTItMDJUMjE6NTY6NTMrMDA6MDDZv6GRAAAAAElFTkSuQmCC";class $y extends Am{async initialize(){let e=await this.createProvider();this.provider=e,this.proxyProvider.setWalletProvider(e),this.subscribeListeners(),e.session&&(this.walletProvider?.session?.peer.metadata.url&&(this.walletEntry=XI(this.walletProvider?.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown"),this.connected=!0,await this.syncAccounts()),this.initialized=!0,this.emit("initialized"),this.modal?.subscribeState((r=>{r.open||this.walletProvider?.session||!this.onQrModalClosed||this.onQrModalClosed()}))}async connect(e){return e.showPrompt&&await this.promptConnection(),this.getConnectedWallet()}async isConnected(){return!!this.walletProvider?.connected}get walletBranding(){let e=this.walletProvider?.session?.peer.metadata.icons?.[0];return{name:zat(this.walletProvider?.session?.peer.metadata.name||"")||"WalletConnect",icon:typeof e=="string"?e:Ghe,id:this.walletProvider?.session?.peer.metadata.name.toLowerCase()||"wallet_connect_v2"}}async resetConnection(e){this.walletProvider&&this.walletProvider.connected&&(await this.walletProvider.disconnect(),this.walletProvider.signer.session=void 0,this.walletClientType=e,this.redirectUri=void 0,this.fallbackUniversalRedirectUri=void 0,(function(){try{localStorage.removeItem(HI)}catch{}})(),this.onDisconnect())}async promptConnection(){if(this.provider)return new Promise(((e,r)=>{this.onQrModalClosed=()=>{r(new Dhe)},(async()=>{let n="",i=await Promise.race([this.walletProvider?.enable(),this.proxyProvider.walletTimeout()]);if(i?.length&&(n=i[0]),!n||n==="")throw new Vn("Unable to retrieve address");this.walletProvider?.session?.peer.metadata.url&&(this.walletEntry=XI(this.walletProvider?.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown",this.proxyProvider.rpcTimeoutDuration=BL(this.rpcConfig,this.walletClientType)),this.connected=!0,await this.syncAccounts(i),e()})().catch((n=>{r(n?ip(n):new Vn("Unknown error during connection"))})).finally((()=>this.modal?.close()))}))}disconnect(){this.walletProvider?.disconnect().then((()=>this.onDisconnect())).catch((()=>console.warn("Unable to disconnect WalletConnect provider")))}get walletProvider(){return this.proxyProvider.walletProvider}setWalletProvider(e){this.proxyProvider.setWalletProvider(e)}async createProvider(){let e={};for(let s of this.chains){let o=qat(s.id,this.chains,this.rpcConfig,this.privyAppId);o&&(e[s.id]=o)}let r=this.shouldEnforceDefaultChainOnConnect?[this.defaultChain.id]:[],n=this.chains.map((s=>s.id)),i=await Fst.init({projectId:this.walletConnectCloudProjectId,chains:r,optionalChains:n,optionalEvents:Qde,optionalMethods:Zde,rpcMap:e,showQrModal:!1,metadata:{description:this.privyAppName,name:this.privyAppName,url:window.location.origin,icons:[]}});return i.on("display_uri",(s=>{if(i.signer.abortPairingAttempt(),(function(){try{localStorage.removeItem(HI)}catch{}})(),!this.showPrivyQrModal){if(!this.modal)throw new Vn("Unable to open connect modal");return this.modal?.open({uri:s})}if(hn.isMobile&&this.walletEntry){let{redirect:o,href:a}=(function(u,c){let h=uhe(c);if(h.deepLink)return hhe(h.deepLink,u);if(h.universalLink)return NL(h.universalLink,u);throw new be(`Unsupported wallet ${c.id}`)})(s,this.walletEntry);fhe(o,"_self"),(function({href:u,name:c}){try{localStorage.setItem(HI,JSON.stringify({href:u,name:c}))}catch{}})({href:a,name:this.walletEntry.metadata?.shortName||this.walletEntry.name});let l=LZ(s,this.walletEntry);return this.redirectUri=o,this.fallbackUniversalRedirectUri=l?.redirect,this.showPrivyQrModal({native:o,universal:o})}if(this.redirectUri=void 0,this.walletEntry){let o=LZ(s,this.walletEntry);this.fallbackUniversalRedirectUri=o?.redirect}this.showPrivyQrModal({native:s,universal:void 0})})),i.on("connect",(()=>{this.modal?.close(),i.session?.peer.metadata.url&&(this.walletEntry=XI(i.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown")})),i}async enableProvider(){return this.walletProvider?.connected?Promise.resolve(this.walletProvider.accounts):await this.walletProvider?.enable()}setWalletEntry(e,r){this.walletEntry=e,this.showPrivyQrModal=r}constructor({walletConnectCloudProjectId:e,rpcConfig:r,chains:n,defaultChain:i,shouldEnforceDefaultChainOnConnect:s,privyAppId:o,privyAppName:a,walletClientType:l,appKit:u}){super(l||"unknown",n,i,r),this.connectorType="wallet_connect_v2",this.privyAppId=o,this.privyAppName=a,this.walletConnectCloudProjectId=e,this.rpcConfig=r,this.shouldEnforceDefaultChainOnConnect=s,this.proxyProvider=new sp(void 0,this.rpcTimeoutDuration),this.modal=u,l&&(this.walletEntry=(c=>n6.getState().listings.find((({slug:h})=>qE(h)===qE(c))))(l),this.walletClientType=l)}}class ult extends ku{get wallets(){let e=new Set,r=this.walletConnectors.flatMap((i=>i.wallets)).sort(((i,s)=>i.connectedAt&&s.connectedAt?s.connectedAt-i.connectedAt:0)).filter((i=>{let s=`${i.address}${i.walletClientType}${i.connectorType}${i.meta.id}`;return!e.has(s)&&(e.add(s),!0)})),n=r.findIndex((i=>i.address===(this.activeWallet?this.activeWallet:"unknown")));return n>=0&&r.unshift(r.splice(n,1)[0]),r}async initialize(e){if(this.initialized&&!e||(e&&this.removeAllConnectors(),or.get(zZ)&&(or.getKeys().forEach((n=>{n.startsWith("walletconnect")&&or.del(n)})),or.del(zZ)),this.externalWalletConfig.disableAllExternalWallets))return;let r=Wat({store:this.store,walletList:this.walletList,externalWalletConfig:this.externalWalletConfig,walletChainType:this.walletChainType}).then((n=>{n.forEach((({type:i,eip6963InjectedProvider:s,legacyInjectedProvider:o})=>{this.createEthereumWalletConnector({connectorType:"injected",walletClientType:i,providers:{eip6963InjectedProvider:s,legacyInjectedProvider:o}})}))}));for(let n of(this.walletList.includes("coinbase_wallet")&&this.createEthereumWalletConnector({connectorType:"coinbase_wallet",walletClientType:"coinbase_wallet"}),this.walletList.includes("base_account")&&this.createEthereumWalletConnector({connectorType:"base_account",walletClientType:"base_account"}),Object.values(zL)))!n.isInstalled&&this.walletList.includes(n.client)&&(["ethereum-only","ethereum-and-solana"].includes(this.walletChainType)&&n.chainTypes.includes("ethereum")&&this.createEthereumWalletConnector({connectorType:"null",walletClientType:n.client,walletConfig:n}),["ethereum-and-solana","solana-only"].includes(this.walletChainType)&&n.chainTypes.includes("solana")&&this.addSolanaWalletConnector(new WL({id:n.client,name:n.name})));this.externalWalletConfig.walletConnect.enabled&&this.createEthereumWalletConnector({connectorType:"wallet_connect_v2",walletClientType:"unknown"}),this.externalWalletConfig.solana.connectors?.get().forEach(this.addSolanaWalletConnector),this.externalWalletConfig.solana.connectors?._setOnConnectorsUpdated?.((n=>{n?.forEach(this.addSolanaWalletConnector)})),await r,this.initialized=!0}findWalletConnector(e,r){return e==="wallet_connect_v2"?this.walletConnectors.filter(fv).find((n=>n.connectorType===e))??null:this.walletConnectors.filter(fv).find((n=>n.connectorType===e&&n.walletClientType===r))??null}findSolanaWalletConnector(e){return this.walletConnectors.filter(tlt).find((r=>r.walletClientType==="unknown"?r.walletBranding.id===e:r.walletClientType===e))??null}findEmbeddedWalletConnectors(){return this.walletConnectors.filter((e=>e.connectorType==="embedded"))}onInitialized(e){e.wallets.forEach((r=>{let n=this.storedConnections.find((i=>i.address===r.address&&i.connectorType===r.connectorType&&(r.type==="solana"&&i.walletClientType==="unknown"&&r.walletClientType==="unknown"?r.meta.id===i.id:i.walletClientType===r.walletClientType)));n&&(r.connectedAt=n.connectedAt)})),this.emit("walletsUpdated"),this.emit("connectorInitialized")}onWalletsUpdated(e){e.initialized&&this.emit("walletsUpdated")}addEmbeddedWalletConnectors({walletProxy:e,user:r,embeddedWallets:n,defaultChain:i,appId:s,privyClient:o}){let{entropyId:a,entropyIdVerifier:l}=Hs(r);for(let u of n){let c=this.findEmbeddedWalletConnectors().find((h=>h.walletIndex===u.walletIndex));if(c&&fv(c))c.proxyProvider.walletProxy=e;else{let h=new YZ({provider:new ZZ({walletProxy:e,address:u.address,entropyId:a,entropyIdVerifier:l,rpcConfig:this.rpcConfig,chains:this.chains,appId:s,chainId:i.id,walletIndex:u.walletIndex,privyClient:o,walletAccount:u}),chains:this.chains,defaultChain:i,rpcConfig:this.rpcConfig,imported:!1,walletIndex:u.walletIndex});this.addWalletConnector(h)}}}addImportedWalletConnector(e,r,n,i){let s=this.findWalletConnector("embedded_imported","privy");if(s&&fv(s))s.proxyProvider.walletProxy=e;else{let o=new YZ({provider:new ZZ({walletProxy:e,address:r,entropyId:r,entropyIdVerifier:"ethereum-address-verifier",walletIndex:0,rpcConfig:this.rpcConfig,chains:this.chains,appId:i,chainId:n.id}),chains:this.chains,walletIndex:0,defaultChain:n,rpcConfig:this.rpcConfig,imported:!0});this.addWalletConnector(o)}}removeEmbeddedWalletConnectors(){this.walletConnectors=this.walletConnectors.filter((e=>e.connectorType!=="embedded")),this.storedConnections=v8(),this.emit("walletsUpdated")}removeImportedWalletConnector(){let e=this.findWalletConnector("embedded_imported","privy");if(e){let r=this.walletConnectors.indexOf(e);this.walletConnectors.splice(r,1),this.storedConnections=v8(),this.emit("walletsUpdated")}}async createEthereumWalletConnector({connectorType:e,walletClientType:r,providers:n,walletConfig:i}){let s=this.findWalletConnector(e,r);if(s&&fv(s))return s instanceof $y&&s.resetConnection(r),s;let o=e!=="injected"?e==="coinbase_wallet"?new Yat(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.coinbaseWallet.config):e==="base_account"?new Kat(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.baseAccount.config,this.setBaseAccountSdk):e!=="null"?new $y({walletConnectCloudProjectId:this.walletConnectCloudProjectId,rpcConfig:this.rpcConfig,chains:this.chains,defaultChain:this.defaultChain,shouldEnforceDefaultChainOnConnect:this.shouldEnforceDefaultChainOnConnect,privyAppId:this.privyAppId,privyAppName:this.privyAppName,walletClientType:r,appKit:this.appKit}):i?new UL({id:i.client,name:i.name,defaultChain:this.defaultChain,walletClientType:i.client}):null:r==="metamask"&&n?.eip6963InjectedProvider?new Jat(this.chains,this.defaultChain,this.rpcConfig,n?.eip6963InjectedProvider,"metamask"):r==="metamask"&&n?.legacyInjectedProvider?new JI(this.chains,this.defaultChain,this.rpcConfig,n?.legacyInjectedProvider,"metamask"):r==="phantom"&&n?.legacyInjectedProvider?new JI(this.chains,this.defaultChain,this.rpcConfig,n?.legacyInjectedProvider,"phantom"):n?.legacyInjectedProvider&&r==="unknown_browser_extension"?new JI(this.chains,this.defaultChain,this.rpcConfig,n?.legacyInjectedProvider):n?.eip6963InjectedProvider?new zhe(this.chains,this.defaultChain,this.rpcConfig,n?.eip6963InjectedProvider,r):void 0;return o&&this.addWalletConnector(o),o||null}addWalletConnector(e){this.walletConnectors.push(e),e.on("initialized",(()=>this.onInitialized(e))),e.on("walletsUpdated",(()=>this.onWalletsUpdated(e))),e.initialize().catch((r=>{console.debug("Failed to initialize connector",r)}))}async activeWalletSign(e){let r=this.wallets,n=r.length>0?r[0]:null;return n&&Eh(n)?n.sign(e):null}setActiveWallet(e){this.activeWallet=Ni(e),this.emit("walletsUpdated")}setWalletList(e){this.walletList=e,this.initialized&&this.initialize(!0).catch(console.error)}removeAllConnectors(){for(let e of this.walletConnectors)e.removeAllListeners();this.walletConnectors=[]}constructor(e,r,n,i,s,o,a,l,u,c,h,m,y){super(),this.addSolanaWalletConnector=async b=>{let E=this.findSolanaWalletConnector(b.walletClientType);if(!E||E.connectorType==="null"){if(E?.connectorType==="null"){let A=this.walletConnectors.indexOf(E);this.walletConnectors.splice(A,1)}this.addWalletConnector(b)}},this.getEthereumProvider=()=>{let b=this.wallets[0],E=this.walletConnectors.find((A=>A.wallets.find((M=>M.address===b?.address))));return b&&E?E.proxyProvider:new sp},this.privyAppId=e,this.walletConnectCloudProjectId=r,this.rpcConfig=n,this.chains=i,this.defaultChain=s,this.walletConnectors=[],this.initialized=!1,this.store=o,this.walletList=a,this.shouldEnforceDefaultChainOnConnect=l,this.externalWalletConfig=u,this.privyAppName=c,this.walletChainType=m||"ethereum-only",this.appKit=y,this.setBaseAccountSdk=h,this.storedConnections=v8()}}let dlt=[rie,nie,aie];class hlt{async get(e,r){try{return await this.baseFetch(e,r)}catch(n){throw en(n)}}async post(e,r,n){try{return await this.baseFetch(e,{method:"POST",...r?{body:r}:{},...n})}catch(i){throw en(i)}}async delete(e,r){try{return await this.baseFetch(e,{method:"DELETE",...r})}catch(n){throw en(n)}}constructor({appId:e,appClientId:r,client:n,defaults:i}){this.appId=e,this.appClientId=r,this.clientAnalyticsId=n.clientAnalyticsId,this.sdkVersion=Rat,this.client=n,this.defaults=i,this.fallbackApiUrl=n.fallbackApiUrl,this.baseFetch=tie.create({baseURL:this.defaults.baseURL,timeout:this.defaults.timeout,retry:3,retryDelay:500,retryStatusCodes:[408,409,425,500,502,503,504],credentials:"include",onRequest:async({request:s,options:o})=>{let a=new Headers(o.headers);a.set("privy-app-id",this.appId),this.appClientId&&a.set("privy-client-id",this.appClientId),a.set("privy-ca-id",this.clientAnalyticsId||""),a.set("privy-client",`react-auth:${this.sdkVersion}`);let l=dlt.includes(s.toString());if(!a.has("authorization")){let u=await this.client.getAccessToken({disableAutoRefresh:l});u!==null&&a.set("authorization",`Bearer ${u}`)}o.headers=a,o.retryDelay&&typeof o.retryDelay=="number"&&(o.retryDelay=3*o.retryDelay)},onRequestError:({error:s})=>{if(s instanceof DOMException&&s.name==="AbortError")throw new CSe}})}}let flt=/paymaster\.biconomy\.io\/api/i,plt={mode:"SPONSORED",calculateGasLimits:!0,expiryDuration:300,sponsorshipInfo:{webhookData:{},smartAccountInfo:{name:"BICONOMY",version:"2.0.0"}}};const glt=(t,e)=>t&&flt.test(t)?plt:e&&e.policy_id?{policyId:e.policy_id}:void 0,mlt=t=>({rpId:t.rp_id,challenge:t.challenge,allowCredentials:t.allow_credentials?.map((e=>({id:e.id,type:e.type,transports:e.transports})))||[],timeout:t.timeout,extensions:{appid:t.extensions?.app_id,credProps:t.extensions?.cred_props,hmacCreateSecret:t.extensions?.hmac_create_secret},userVerification:t.user_verification});class Yhe{async authenticate(){if(!this.api)throw new be("Auth flow has no API instance");try{return await this.api.post(xCe,{token:this.meta.token})}catch(e){throw en(e)}}async link(){if(!this.api)throw new be("Auth flow has no API instance");try{return await this.api.post(ECe,{token:this.meta.token})}catch(e){throw en(e)}}constructor(e){this.meta={token:e}}}class ylt{getOrCreateGuestCredential(e){let r=phe(e);if(xN()){if(or.get(r))return or.get(r);{let n=Bg(SN(32));return or.put(r,n),n}}return Bg(SN(32))}async authenticate(){if(!this.api)throw new be("Auth flow has no API instance");try{return await this.api.post(_Ce,{guest_credential:this.meta.guestCredential})}catch(e){throw en(e)}}async link(){throw Error("Linking is not supported for the guest flow")}constructor(e){this.meta={guestCredential:this.getOrCreateGuestCredential(e)}}}function tT(){return!(hn.isSafari&&window.location.origin.startsWith("http://localhost"))}const eQ=Nw((()=>({identityToken:null})));var rT,tQ=((rT={}).PRIVY="privy_access_token",rT.CUSTOMER="customer_access_token",rT);class wlt{get token(){return this.privyAccessToken||this.customerAccessToken}getToken(e){return e==="privy_access_token"?this.privyAccessToken:this.customerAccessToken}get customerAccessToken(){return this._getToken(hb)}get privyAccessToken(){return this._getToken(m8)}_getToken(e){try{let r=or.get(e);return typeof r=="string"?_0.throwIfNotWellFormedJwt(r):null}catch(r){return console.error(r),this.destroyLocalState(),null}}get refreshToken(){try{let e=or.get(VI);return typeof e=="string"?e:null}catch(e){return console.error(e),this.destroyLocalState(),null}}getProviderAccessToken(e){try{let r=or.get(Ax(e));if(typeof r!="string")return null;{let n=new _0(r);return n.isExpired()?(or.del(Ax(e)),null):n.value}}catch(r){return console.error(r),null}}get mightHaveServerCookies(){try{let e=Pi.get(KI);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e="privy_access_token"){let r=typeof this.getToken(e)=="string",n=typeof this.refreshToken=="string"&&this.refreshToken!=="deprecated";return this.mightHaveServerCookies||r&&n}hasActiveAccessToken(e){let r=_0.parse(this.getToken(e));return r!==null&&!r.isExpired(30)}authenticate(e){return this.authenticateOnce.execute(e)}link(e){return this.linkOnce.execute(e)}refresh(){return this.refreshOnce.execute()}destroy(){return this.destroyOnce.execute()}storeProviderAccessToken(e,r){typeof r=="string"?or.put(Ax(e),r):or.del(Ax(e))}updateIdentityToken(e){typeof e=="string"?this.storeIdentityToken(e):this.clearIdentityToken()}async _authenticate(e){try{let r=await e.authenticate(),{user:n,is_new_user:i,oauth_tokens:s}=r;this.handleTokenResponse(r);let o=s?{provider:s.provider,accessToken:s.access_token,accessTokenExpiresInSeconds:s.access_token_expires_in_seconds,refreshToken:s.refresh_token,refreshTokenExpiresInSeconds:s.refresh_token_expires_in_seconds,scopes:s.scopes}:void 0;return this._trackAuthenticateEvents(e,i),{user:Us(n),isNewUser:i,oAuthTokens:o}}catch(r){throw console.warn("Error authenticating session"),ii(r)}}_trackAuthenticateEvents(e,r){let n=(function(i){return i instanceof uy?"email":i instanceof dy?"sms":i instanceof Iy?"siwe":i instanceof ylt?"guest":i instanceof Yhe?"custom_auth":i instanceof J1?i.meta.provider:null})(e);n&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate",payload:{method:n,isNewUser:r}}),n==="siwe"&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate_siwe",payload:{connectorType:e.meta.connectorType,walletClientType:e.meta.walletClientType}})}async _link(e){try{let r=await e.link(),n=r.oauth_tokens,i=n?{provider:n.provider,accessToken:n.access_token,accessTokenExpiresInSeconds:n.access_token_expires_in_seconds,refreshToken:n.refresh_token,refreshTokenExpiresInSeconds:n.refresh_token_expires_in_seconds,scopes:n.scopes}:void 0;return{user:Us(r),oAuthTokens:i}}catch(r){throw console.warn("Error linking account"),ii(r)}}async _refresh(){if(!this.api)throw new be("Session has no API instance");if(!this.client)throw new be("Session has no PrivyClient instance");await this.client.getAccessToken({disableAutoRefresh:!0});let e=this.token,r=this.refreshToken;if(this.client.useServerCookies&&!this.mightHaveServerCookies&&this.token&&window.location.origin===this.client.apiUrl)return this.destroyLocalState(),null;try{let n;if(!(e&&r||this.mightHaveServerCookies))return null;{let i={};e&&(i.authorization=`Bearer ${e}`),n=await this.api.post(rie,r?{refresh_token:r}:{},{headers:i})}return this.handleTokenResponse(n),Us(n.user)}catch(n){if(n instanceof hl&&n.privyErrorCode===Ee.MISSING_OR_INVALID_TOKEN)return console.warn("Unable to refresh tokens - token is missing or no longer valid"),this.destroyLocalState(),null;throw ii(n)}}handleTokenResponse(e){e.session_update_action&&e.session_update_action!=="set"?e.session_update_action==="clear"?this.destroyLocalState():e.session_update_action==="ignore"&&(e.token&&(this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token)),e.identity_token&&this.storeIdentityToken(e.identity_token)):this._storeAllTokens(e)}_storeAllTokens(e){this.storeRefreshToken(e.refresh_token),this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token),e.identity_token&&this.storeIdentityToken(e.identity_token)}async _destroy(){try{await this.api?.post(nie,{refresh_token:this.refreshToken})}catch{console.warn("Error destroying session")}this.destroyLocalState()}destroyLocalState(){this.storeRefreshToken(null),this.storeCustomerAccessToken(null),this.storePrivyAccessToken(null),this.clearIdentityToken()}storeCustomerAccessToken(e){if(typeof e=="string"){let r=or.get(hb);if(or.put(hb,e),!this.client?.useServerCookies){let n=_0.parse(e)?.expiration;Pi.set(BZ,e,{sameSite:"Strict",secure:tT(),expires:n?new Date(1e3*n):void 0})}r!==e&&this.client?.onStoreCustomerAccessToken?.(e)}else or.del(hb),Pi.remove(BZ),this.client?.onDeleteCustomerAccessToken?.()}storeRefreshToken(e){typeof e=="string"?(or.put(VI,e),this.client?.useServerCookies||Pi.set(KI,"t",{sameSite:"Strict",secure:tT(),expires:30})):(or.del(VI),Pi.remove("privy-refresh-token"),Pi.remove(KI))}storePrivyAccessToken(e){typeof e=="string"?or.put(m8,e):or.del(m8)}storeIdentityToken(e){if(eQ.setState({identityToken:e}),this.client?.useServerCookies)return;or.put(UZ,e);let r=_0.parse(e)?.expiration;Pi.set(FZ,e,{sameSite:"Strict",secure:tT(),expires:r?new Date(1e3*r):void 0})}clearIdentityToken(){or.del(UZ),eQ.setState({identityToken:null}),Pi.remove(FZ)}constructor(){this.authenticateOnce=new Yo((async e=>this._authenticate(e))),this.linkOnce=new Yo((async e=>this._link(e))),this.refreshOnce=new Yo(this._refresh.bind(this)),this.destroyOnce=new Yo(this._destroy.bind(this))}}let nT;var vlt=0,iT="__private_"+vlt+++"__getOrGenerateClientAnalyticsId";class blt{getAppId(){return this.appId}initializeConnectorManager({walletConnectCloudProjectId:e,rpcConfig:r,chains:n,defaultChain:i,store:s,walletList:o,shouldEnforceDefaultChainOnConnect:a,externalWalletConfig:l,appName:u,walletChainType:c,setBaseAccountSdk:h,appKit:m}){this.connectors||(this.connectors=new ult(this.appId,e,r,n,i,s,o,a,l,u,h,c,m))}generateApi(){let e=new hlt({appId:this.appId,appClientId:this.appClientId,client:this,defaults:{baseURL:this.apiUrl,timeout:this.timeout}});return this.session.api=e,e}updateApiUrl(e){this.apiUrl=e||this.fallbackApiUrl,this.api=this.generateApi(),e&&(this.useServerCookies=!0)}authenticate(){if(!this.authFlow)throw new be("No auth flow in progress.");return this.session.authenticate(this.authFlow)}async link(){if(!this.authFlow)throw new be("No auth flow in progress.");let{oAuthTokens:e}=await this.session.link(this.authFlow);return{user:await this.getAuthenticatedUser(),oAuthTokens:e}}storeProviderAccessToken(e,r){this.session.storeProviderAccessToken(e,r)}getProviderAccessToken(e){return this.session.getProviderAccessToken(e)}async logout(){await this.session.destroy(),this.authFlow=void 0}clearProviderAcccessTokens(e){e.linkedAccounts.filter((r=>r.type==="cross_app")).forEach((r=>{this.storeProviderAccessToken(r.providerApp.id,null)}))}startAuthFlow(e){return e.api=this.api,this.authFlow=e,this.authFlow}async initMfaSmsVerification(){try{await this.api.post(wCe,{action:"verify"})}catch(e){throw en(e)}}async initMfaPasskeyVerification(){try{let e=await this.api.post(vCe,{});return mlt(e.options)}catch(e){throw en(e)}}async getCrossAppProviderDetails(e){try{return this._cachedProviderAppDetails[e]||(this._cachedProviderAppDetails[e]=await this.api.get(`/api/v1/apps/${e}/cross-app/details`)),this._cachedProviderAppDetails[e]}catch(r){console.error("Error fetching cross app provider details",r)}}async acceptTerms(){try{let e=await this.api.post(bCe,{});return Us(e)}catch(e){throw ii(e)}}async unlinkEmail(e){try{let r=await this.api.post(GSe,{address:e});return await this.getAuthenticatedUser()??Us(r)}catch(r){throw ii(r)}}async unlinkPhone(e){try{let r=await this.api.post(XSe,{phoneNumber:e});return await this.getAuthenticatedUser()??Us(r)}catch(r){throw ii(r)}}async unlinkEthereumWallet(e){try{let r=await this.api.post(PSe,{address:e});return await this.getAuthenticatedUser()??Us(r)}catch(r){throw ii(r)}}async unlinkSolanaWallet(e){try{let r=await this.api.post(LSe,{address:e});return await this.getAuthenticatedUser()??Us(r)}catch(r){throw ii(r)}}async unlinkOAuth(e,r){try{let n=await this.api.post(nCe,{provider:e,subject:r});return await this.getAuthenticatedUser()??Us(n)}catch(n){throw ii(n)}}async unlinkFarcaster(e){try{let r=await this.api.post(WSe,{fid:e});return await this.getAuthenticatedUser()??Us(r)}catch(r){throw ii(r)}}async unlinkTelegram(e){try{let r=await this.api.post(mCe,{telegram_user_id:e});return await this.getAuthenticatedUser()??Us(r)}catch(r){throw ii(r)}}async revokeDelegatedWallet(){try{await this.api.post(kCe,{})}catch(e){throw ii(e)}}async createAnalyticsEvent({eventName:e,payload:r,timestamp:n,options:i}){if(typeof window<"u")try{this.clientAnalyticsId||console.warn("No client analytics id set, refusing to send analytics event"),await this.api.post(aie,{event_name:e,client_id:this.clientAnalyticsId,payload:{...r||{},clientTimestamp:n?n.toISOString():new Date().toISOString()}},{retry:-1,keepalive:i?.keepAlive??!1})}catch{console.log("Unable to submit event. This is not an issue.")}}async signMoonpayOnRampUrl(e){try{return this.api.post(ACe,e)}catch(r){throw ii(r)}}async initCoinbaseOnRamp(e){try{return this.api.post(SCe,e)}catch(r){throw ii(r)}}async getCoinbaseOnRampStatus({partnerUserId:e}){try{return this.api.get(`${CCe}?partnerUserId=${e}`)}catch(r){throw ii(r)}}async getAuthenticatedUser(){return this.session.hasRefreshCredentials()?this.session.refresh():null}async getAccessToken(e){return await this.getPrivyAccessToken(e)||await this.getCustomerAccessToken(e)}async getCustomerAccessToken(e){return await this._getToken(tQ.CUSTOMER,e)}async getPrivyAccessToken(e){return await this._getToken(tQ.PRIVY,e)}async _getToken(e,r){return this.session.getToken(e)?this.session.hasActiveAccessToken(e)?this.session.hasRefreshCredentials(e)?DL.parse(this.session.getToken(e))?.appId!==this.appId?(await this.logout(),null):this.session.getToken(e):(this.session.destroyLocalState(),null):!r?.disableAutoRefresh&&this.session.hasRefreshCredentials(e)?(await this.session.refresh(),this.session.getToken(e)):null:null}async getSmartWalletsConfig(){try{let e={},r=this.session.token;r&&(e.authorization=`Bearer ${r}`);let n=await this.api.get(`/api/v1/apps/${this.appId}/smart_wallets`,{baseURL:this.fallbackApiUrl,headers:e});return n.enabled?{enabled:n.enabled,smartWalletVersion:n.smart_wallet_version,smartWalletType:n.smart_wallet_type,configuredNetworks:n.configured_networks.map((i=>({chainId:i.chain_id,bundlerUrl:i.bundler_url,paymasterUrl:i.paymaster_url,paymasterContext:glt(i.paymaster_url,i.paymaster_context)})))}:{enabled:n.enabled}}catch(e){throw ii(e)}}async getUsdTokenPrice(e){try{return(await this.api.get(`/api/v1/token_price?chainId=${e.id}&tokenSymbol=${e.nativeCurrency.symbol}`)).usd}catch{return void console.error(`Unable to fetch token price for chain with id ${e.id}`)}}async getUsdPriceForSol(){try{return(await this.api.get("/api/v1/token_price?chainId=0&tokenSymbol=SOL")).usd}catch{return void console.error("Unable to fetch token price for SOL")}}async getSplTokenMetadata({mintAddress:e,cluster:r}){try{return await this.api.get(`/api/v1/spl_token_info?mint_address=${e}&cluster=${r}`)}catch{return void console.error(`Unable to fetch token metadata for ${r}:${e}`)}}async requestFarcasterSignerStatus(e){try{return await this.api.post("/api/v1/farcaster/signer/status",{ed25519_public_key:e})}catch(r){throw console.error("Unable to fetch Farcaster signer status"),r}}async generateSiweNonce({address:e,captchaToken:r}){try{return(await this.api.post(ISe,{address:e,token:r})).nonce}catch(n){throw ii(n)}}async authenticateWithSiweInternal({message:e,signature:r,chainId:n,walletClientType:i,connectorType:s,mode:o}){return await this.api.post(TSe,{message:e,signature:r,chainId:n,walletClientType:i,connectorType:s,mode:o})}async linkWithSiweInternal({message:e,signature:r,chainId:n,walletClientType:i,connectorType:s}){return await this.api.post($Se,{message:e,signature:r,chainId:n,walletClientType:i,connectorType:s})}async linkSmartWallet({message:e,signature:r,smartWalletType:n,smartWalletVersion:i}){try{let s=await this.api.post(MSe,{message:e,signature:r,smart_wallet_type:n,smart_wallet_version:i});return Us(s)}catch(s){throw ii(s)}}async linkWithSiwe({message:e,signature:r,chainId:n,walletClientType:i,connectorType:s}){try{let o=await this.linkWithSiweInternal({message:e,signature:r,chainId:n,walletClientType:i,connectorType:s});return Us(o)}catch(o){throw ii(o)}}async generateSiwsNonce({address:e,captchaToken:r}){try{return(await this.api.post(RSe,{address:e,token:r})).nonce}catch(n){throw ii(n)}}async authenticateWithSiwsInternal({message:e,signature:r,walletClientType:n,connectorType:i,mode:s,messageType:o="plain"}){return await this.api.post(OSe,{message:e,signature:r,walletClientType:n,connectorType:i,mode:s,message_type:o})}async authenticateWithSiws({message:e,signature:r,walletClientType:n,connectorType:i,mode:s,messageType:o="plain"}){let a=await this.authenticateWithSiwsInternal({message:e,signature:r,walletClientType:n,connectorType:i,mode:s,messageType:o}),l=Us(a.user);if(!l)throw Error("Authentication failed - no user returned");return{user:l,isNewUser:a.is_new_user||!1}}async sendAccountTransferRequest({nonce:e,account:r,accountType:n,externalWalletMetadata:i,telegramAuthResult:s,telegramWebAppData:o,farcasterEmbeddedAddress:a,oAuthUserInfo:l}){try{let u,c;switch(n){case"email":u=ZSe,c={nonce:e,email:r};break;case"sms":u=rCe,c={nonce:e,phoneNumber:r};break;case"siwe":if(u=NSe,!i)throw Error("Wallet parameters must be defined");c={nonce:e,address:r,...i};break;case"farcaster":u=qSe,c={nonce:e,farcaster_id:r,farcaster_embedded_address:a};break;case"telegram":u=yCe,c={nonce:e,telegram_auth_result:s,telegram_web_app_data:o};break;case"siws":u=DSe,c={nonce:e,address:r,...i};break;case"custom":case"guest":case"passkey":throw Error("Invalid transfer account type");default:u=iCe,c={nonce:e,userInfo:l}}let h=await this.api.post(u,c);return await this.getAuthenticatedUser()??Us(h)}catch(u){throw ii(u)}}async linkWithSiwsInternal({message:e,signature:r,walletClientType:n,connectorType:i,messageType:s="plain"}){return await this.api.post(jSe,{message:e,signature:r,walletClientType:n,connectorType:i,message_type:s})}async linkWithSiws({message:e,signature:r,walletClientType:n,connectorType:i,messageType:s="plain"}){try{let o=await this.linkWithSiwsInternal({message:e,signature:r,walletClientType:n,connectorType:i,messageType:s});return Us(o)}catch(o){throw ii(o)}}async updateUserAndIdToken(){try{let e=await this.api.get(ICe);return this.session.updateIdentityToken(e.identity_token),Us(e.user)}catch(e){throw ii(e)}}async scanTransaction(e){try{return await this.api.post(TCe,e)}catch(r){throw ii(r)}}constructor({apiUrl:e=EN,appId:r,appClientId:n,timeout:i=2e4}){Object.defineProperty(this,iT,{value:xlt}),this._cachedProviderAppDetails={},this.apiUrl=e,this.fallbackApiUrl=this.apiUrl,this.useServerCookies=e!==EN&&e.startsWith("https://privy."),this.timeout=i,this.appId=r,this.appClientId=n,this.clientAnalyticsId=(function(s,o){if(!Object.prototype.hasOwnProperty.call(s,o))throw TypeError("attempted to use private field on non-instance");return s})(this,iT)[iT](),nT||(nT=new wlt),this.session=nT,this.api=this.generateApi(),this.session.client=this}}function xlt(){if(typeof window>"u")return null;try{let e=or.get(_N);if(typeof e=="string"&&e.length>0)return e}catch{}let t=RCe();try{return or.put(_N,t),t}catch{return t}}const Elt=({delayedExecution:t,...e})=>{let{enabled:r,siteKey:n,appId:i,setError:s,setToken:o,setExecuting:a,ref:l}=No(),[,u]=B.useMemo((()=>n?.split("t:")||[]),[n]);if(B.useEffect((()=>l.current?.remove),[]),!r)return null;if(!u)throw Error("Unsupported captcha site key");return w.jsx("div",{className:"hidden h-0 w-0",children:w.jsx(Zie,{...e,ref:l,siteKey:u,options:{action:i,size:"invisible",...t?{appearance:"execute",execution:"execute"}:{appearance:"always",execution:"render"}},onUnsupported:()=>{e.onUnsupported?.(),console.warn("Browser does not support Turnstile.")},onError:()=>{e.onError?.(),s("Captcha failed"),a(!1)},onSuccess:c=>{e.onSuccess?.(c),o(c),a(!1)},onExpire:()=>{e.onExpire?.();try{l.current?.reset(),s(void 0),o(void 0)}catch{s("expired_and_failed_reset")}}})})},_lt=t=>{let[e,r]=B.useState("auto");return B.useEffect((()=>{let n=new ResizeObserver((i=>{r(i[0]?.contentRect.height??"auto")}));return t.current&&n.observe(t.current),()=>{t.current&&n.unobserve(t.current)}}),[t.current]),e},Alt={login:{onComplete:[],onError:[]},logout:{onSuccess:[]},connectWallet:{onSuccess:[],onError:[]},connectOrCreateWallet:{onSuccess:[],onError:[]},createWallet:{onSuccess:[],onError:[]},linkAccount:{onSuccess:[],onError:[]},update:{onSuccess:[],onError:[]},configureMfa:{onMfaRequired:[]},setWalletPassword:{onSuccess:[],onError:[]},setWalletRecovery:{onSuccess:[],onError:[]},signMessage:{onSuccess:[],onError:[]},signTypedData:{onSuccess:[],onError:[]},sendTransaction:{onSuccess:[],onError:[]},signTransaction:{onSuccess:[],onError:[]},signSolanaTransaction:{onSuccess:[],onError:[]},signSolanaMessage:{onSuccess:[],onError:[]},sendSolanaTransaction:{onSuccess:[],onError:[]},accessToken:{onAccessTokenGranted:[],onAccessTokenRemoved:[]},oAuthAuthorization:{onOAuthTokenGrant:[]},fundWallet:{onUserExited:[]},fundSolanaWallet:{onUserExited:[]},customAuth:{onAuthenticated:[],onUnauthenticated:[]}},Zhe=B.createContext(void 0);let Qhe=()=>B.useContext(Zhe);function op(t,e){if(!e)return;let r=Qhe().current[t];return B.useEffect((()=>{for(let[n,i]of Object.entries(e))Object.prototype.hasOwnProperty.call(r,n)||console.warn(`Invalid event type "${n}" for action "${t}"`),r[n]?.push(i);return()=>{for(let[n,i]of Object.entries(e))Object.prototype.hasOwnProperty.call(r,n)||console.warn(`Invalid event type "${n}" for action "${t}"`),r[n]=r[n]?.filter((s=>s!==i))}}),[e])}function Et(t,e,r,...n){for(let i of t.current[e][r])i(...n)}function rf(){let t=Qhe();return(e,r,...n)=>Et(t,e,r,...n)}function Slt(t){op("configureMfa",t)}const X0=he.div.withConfig({displayName:"Grow",componentId:"sc-681ff332-0"})(["text-align:left;flex-grow:1;"]),Clt=he.div.withConfig({displayName:"AlignBottom",componentId:"sc-681ff332-1"})(["display:flex;flex-direction:column;justify-content:flex-end;flex-grow:1;"]),RN=he.div.withConfig({displayName:"LoginMethodContainer",componentId:"sc-681ff332-2"})(["display:flex;flex-direction:column;gap:8px;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]),Jhe=he(RN).withConfig({displayName:"LoginMethodContainerWithScrollShadows",componentId:"sc-681ff332-3"})([""," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;max-height:400px;overflow-y:auto;scrollbar-width:none;padding:3px;"],(t=>t.$colorScheme==="light"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":t.$colorScheme==="dark"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0));let klt=us(["&&{width:100%;font-size:16px;line-height:24px;min-height:56px;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;align-items:center;color:var(--privy-color-foreground);padding:10px 12px;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);transition:background-color 200ms ease;cursor:pointer;&:hover{background-color:var(--privy-color-background-2);}&:disabled{cursor:pointer;background-color:var(--privy-color-background-2);}}"]);const Ilt=he.div.withConfig({displayName:"Subtitle",componentId:"sc-681ff332-4"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),fi=he.button.attrs({className:"login-method-button"}).withConfig({displayName:"LoginMethodButton",componentId:"sc-681ff332-5"})(["",""],klt),Sm=he.div.withConfig({displayName:"LoginMethodIconWrapper",componentId:"sc-681ff332-7"})(["width:32px;height:32px;border-radius:",";background:",";display:flex;align-items:center;justify-content:center;flex-shrink:0;svg{width:",";height:",";color:",";}"],(t=>t.$fullSize?"0":"4px"),(t=>t.$fullSize?"transparent":"var(--privy-color-background-2)"),(t=>t.$fullSize?"32px":"18px"),(t=>t.$fullSize?"32px":"18px"),(t=>t.$fullSize?"inherit":"var(--privy-color-icon-muted)")),dw=he.div.withConfig({displayName:"Hide",componentId:"sc-681ff332-8"})(["width:100%;height:100%;min-height:inherit;display:flex;flex-direction:column;",""],(t=>t.$if?"display: none;":"")),Tlt=he.div.withConfig({displayName:"EmptyWalletState",componentId:"sc-681ff332-9"})(["width:100%;height:100%;padding:",";"],(t=>t.$withPadding?"64px 0px":"0px")),$lt=he.div.withConfig({displayName:"Header",componentId:"sc-681ff332-10"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:32px;gap:12px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]);function Mlt(t){return w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 460 40",...t,children:w.jsx("g",{fill:t.color||"var(--privy-color-foreground)",children:w.jsx("path",{d:"M0 15.4v15.38h4.64V19.96h3.58c2.47 0 3.63-.01 3.77-.02 1-.08 1.49-.15 2.18-.3a9.45 9.45 0 0 0 4.6-2.37c1.66-1.57 2.64-3.87 2.81-6.56.02-.3.02-1.19 0-1.49-.1-1.77-.56-3.35-1.36-4.72A8.84 8.84 0 0 0 15.14.57c-.93-.3-1.75-.43-3.09-.54C11.9.02 10.2 0 5.93 0H0ZM10.85 4c1.85.05 3.1.45 4.16 1.3.22.17.54.49.69.68a5.97 5.97 0 0 1 1.19 3.13c.04.35.04 1.36 0 1.71-.08.68-.23 1.3-.44 1.85a4.8 4.8 0 0 1-1.09 1.68A5.63 5.63 0 0 1 12 15.92c-.6.08-.4.08-4.01.09H4.64V3.98h2.9c1.6 0 3.08 0 3.31.02ZM187.65 5.71v5.72h-.27l-.09-.14a15.9 15.9 0 0 0-1.21-1.73c-.43-.5-1-.95-1.7-1.36-.54-.3-1.05-.5-1.73-.63a8.98 8.98 0 0 0-1.7-.17 8.84 8.84 0 0 0-7.8 4.03 12.95 12.95 0 0 0-2.03 6.39c-.07.98-.06 2.15.02 3.13.2 2.47.87 4.53 2.02 6.25a8.98 8.98 0 0 0 10.22 3.65 6.5 6.5 0 0 0 2.8-1.93c.41-.51.84-1.1 1.1-1.55l.1-.17h.37v3.58h4.38V0h-4.48Zm-5.24 5.54c1.3.14 2.3.6 3.17 1.48.9.9 1.5 2.09 1.85 3.64.36 1.6.39 3.72.06 5.43a8.13 8.13 0 0 1-1.54 3.62 5.1 5.1 0 0 1-3.93 1.96 6.13 6.13 0 0 1-2.32-.31 5.87 5.87 0 0 1-3.33-3.5c-.39-1-.62-2.05-.72-3.32-.03-.32-.04-1.35-.02-1.73.08-1.56.4-2.91.96-4.05a6.2 6.2 0 0 1 1.06-1.58 5.08 5.08 0 0 1 3.6-1.66c.25-.02.9 0 1.16.02ZM210.07 15.39l.01 15.38h4.38l.01-3.57h.37l.09.15c.24.44.84 1.26 1.21 1.7a6.79 6.79 0 0 0 2.57 1.75 9.3 9.3 0 0 0 6.86-.49 9.28 9.28 0 0 0 4.05-4.07A13.05 13.05 0 0 0 231 21.6c.21-1.73.18-3.7-.09-5.32a13.03 13.03 0 0 0-1.5-4.3 9.1 9.1 0 0 0-3.75-3.63 9.15 9.15 0 0 0-4.43-.96 7.46 7.46 0 0 0-2.8.5A7.07 7.07 0 0 0 216 9.7c-.4.52-.82 1.12-1.1 1.59l-.07.14h-.27V0h-4.5Zm11.13-4.14c1.07.1 1.94.44 2.7 1.04a6.1 6.1 0 0 1 1.64 1.98c.43.84.78 2 .94 3.11.15 1.16.16 2.4.02 3.54a9.34 9.34 0 0 1-1.39 4.03 5.33 5.33 0 0 1-2.69 2.15c-.9.3-2.04.38-3.06.2a5.14 5.14 0 0 1-3.45-2.37 6.03 6.03 0 0 1-.45-.8c-.5-1.03-.8-2.2-.92-3.58-.04-.49-.06-.89-.05-1.53.01-.76.05-1.23.13-1.85.38-2.53 1.47-4.38 3.15-5.31a5.46 5.46 0 0 1 2.3-.63 10 10 0 0 1 1.13.02ZM69.05 2.17l-.01 2.77V7.7h-3.36v3.6h3.36v6.8l.01 7.15c.06 1.4.4 2.44 1.1 3.37a5.8 5.8 0 0 0 2.97 2.07c.91.3 1.83.42 2.9.38a8.71 8.71 0 0 0 2.66-.48l-.8-3.7-.38.06a4.96 4.96 0 0 1-2.43-.06c-.33-.1-.56-.25-.8-.49-.4-.41-.6-.88-.7-1.67-.02-.2-.02-.62-.03-6.82v-6.6h4.73V7.7h-4.73V2.16h-4.49ZM133.34 2.17V7.7h-3.39v3.6h3.38v6.9l.01 7.17a5.66 5.66 0 0 0 2.36 4.49c.85.6 2.03 1.03 3.26 1.17.85.1 2.03.05 2.81-.1.3-.06.75-.18 1-.26l.2-.06v-.05l-.81-3.67-.37.06a4.99 4.99 0 0 1-1.8.09c-.85-.13-1.32-.4-1.7-.97a2.63 2.63 0 0 1-.39-1.04c-.06-.4-.06 0-.06-7.1V11.3h4.7V7.7h-4.7l-.01-2.77V2.16h-4.49ZM293.41 2.36a14.56 14.56 0 0 0-13.7 16.07 14.59 14.59 0 0 0 21.86 11.08 14.5 14.5 0 0 0 7.11-14.07 14.61 14.61 0 0 0-6.53-10.73 14.49 14.49 0 0 0-8.74-2.35ZM350.8 2.36a10.17 10.17 0 0 0-7.56 4.2c-.16.2-.45.63-.58.83l-.05.1h-.47l-.01-4.36h-7.36v36.4h7.82V27.27h.49l.05.07a11.3 11.3 0 0 0 7.49 4.15 10.52 10.52 0 0 0 9.38-4.1c1.66-2.1 2.73-4.9 3.07-8.06.1-.87.13-1.4.13-2.37 0-.8 0-1.1-.07-1.76a15.95 15.95 0 0 0-3.23-8.72 12.8 12.8 0 0 0-1.85-1.84 10.49 10.49 0 0 0-7.26-2.28Zm-.94 6.05c1.27.15 2.33.65 3.2 1.5.98.96 1.67 2.31 2.03 4 .34 1.57.38 3.68.12 5.39a9.78 9.78 0 0 1-1.04 3.25c-.14.25-.44.69-.6.89a5.35 5.35 0 0 1-4.31 2.07 5.25 5.25 0 0 1-4.41-1.9 7.35 7.35 0 0 1-1.26-2.32 14.09 14.09 0 0 1-.62-4.83c.05-1.98.38-3.53 1.02-4.85a5.63 5.63 0 0 1 2.5-2.65c.66-.34 1.3-.5 2.14-.58.18-.02 1.04 0 1.23.03ZM363.63 3.1l-.01 3.2v3.16h1.43c1.26.01 1.44.02 1.54.04.42.09.66.28.79.62.08.23.08.08.08 2.96a911.57 911.57 0 0 1 .03 10.18v7.54h7.82v-7.4l.01-7.83c.03-.94.11-1.63.27-2.28.46-1.9 1.54-2.93 3.35-3.23.52-.08.2-.08 5-.08h4.4V3.08h-3.1c-3.48 0-3.91.01-4.67.1-1.83.2-3.04.79-3.96 1.88-.5.6-.9 1.32-1.26 2.26l-.06.17h-.46V3.09h-5.6c-4.46 0-5.6 0-5.6.02ZM390.8 16.95V30.8h3.87l3.86-.01V3.09h-7.73ZM400.6 3.1l-.01.4v.38l4.66 13.4 4.69 13.47.02.05h10.3l.03-.05 4.67-13.45 4.67-13.4V3.1h-7.43l-6.7 19.26h-.5l-3.28-9.5-3.31-9.64-.05-.12h-3.88l-3.88.01ZM430.98 3.1c-.01 0-.02.19-.02.4v.39l5.08 14.59c2.8 8.02 5.08 14.6 5.08 14.61.01.02-.22.02-4.8.02h-4.82v6.42h4.95c5.09 0 5.23 0 5.87-.06 3.15-.28 5.29-1.63 6.63-4.15.28-.55.44-.95.87-2.16L459 6.78l1-2.89v-.8h-7.43l-6.69 19.26h-.5l-3.27-9.46-3.31-9.64-.06-.16h-3.88l-3.88.01ZM36.57 7.36c-1.36.1-2.6.6-3.62 1.45a5.65 5.65 0 0 0-1.67 2.42l-.05.13H31V7.7h-4.35v23.08h4.5v-7.3c0-8 0-7.34.08-7.82a4.89 4.89 0 0 1 2.06-3.18c.83-.58 1.74-.89 2.87-.98a11.87 11.87 0 0 1 2.8.25H39v-4.3l-.21-.02c-.61-.07-1.74-.1-2.22-.07ZM51.08 7.41c-2.33.12-4.3.84-5.95 2.16a9.89 9.89 0 0 0-2.03 2.2 12.5 12.5 0 0 0-2 5.78 18.04 18.04 0 0 0 0 3.65 12.13 12.13 0 0 0 2.26 6.05 9.74 9.74 0 0 0 5 3.52c2.11.64 4.7.64 6.8 0a9.78 9.78 0 0 0 4.88-3.37c1.38-1.78 2.19-4 2.4-6.58.13-1.46.06-3.06-.18-4.42a11.24 11.24 0 0 0-3.58-6.6 10 10 0 0 0-5.75-2.35c-.56-.06-1.31-.07-1.85-.04Zm1.42 3.78c.88.1 1.62.34 2.28.75a6.13 6.13 0 0 1 1.99 2.15 10.31 10.31 0 0 1 1.2 5c.02 1.23-.12 2.44-.42 3.51a7.14 7.14 0 0 1-1.81 3.32c-.61.6-1.2.98-1.95 1.24a6 6 0 0 1-2 .3 5.7 5.7 0 0 1-2.72-.6 5 5 0 0 1-1.28-.94A7.1 7.1 0 0 1 46 22.73c-.57-1.99-.6-4.46-.08-6.5a7.24 7.24 0 0 1 2.03-3.67 5.13 5.13 0 0 1 3.35-1.4 11 11 0 0 1 1.2.03ZM92.05 7.4c-.96.06-1.56.15-2.3.33a9.62 9.62 0 0 0-6.09 4.66 13.5 13.5 0 0 0-1.71 7c0 .83 0 1.04.06 1.6.16 1.77.58 3.32 1.29 4.7A9.72 9.72 0 0 0 90.28 31c1.84.37 4.08.32 5.85-.13a9.07 9.07 0 0 0 5.02-3.1A7.64 7.64 0 0 0 102.5 25l-2.11-.39-2.11-.38-.08.13a4.72 4.72 0 0 1-2.35 2.55 6.3 6.3 0 0 1-2.23.58c-.29.03-1.13.03-1.44 0a6.35 6.35 0 0 1-3.02-1.04 5.93 5.93 0 0 1-2.02-2.43 8.44 8.44 0 0 1-.72-3.18v-.26h16.38v-.81c0-1.83-.06-2.76-.25-3.87-.2-1.22-.53-2.24-1.05-3.28a8.9 8.9 0 0 0-2.66-3.26 10.1 10.1 0 0 0-5.34-1.94 18.3 18.3 0 0 0-1.46-.03Zm1.3 3.75c1.2.13 2.19.55 3.05 1.3a5.8 5.8 0 0 1 1.78 2.96c.13.51.21 1.17.21 1.66v.15H86.43v-.12c.08-.97.3-1.78.72-2.61.5-1 1.2-1.8 2.14-2.42a5.32 5.32 0 0 1 2.9-.95c.2-.01.97 0 1.17.03ZM116.79 7.41c-2 .1-3.73.65-5.22 1.65a10.7 10.7 0 0 0-4.25 6.06 16.1 16.1 0 0 0-.5 5.8c.2 2.17.84 4.13 1.88 5.76.58.9 1.32 1.73 2.15 2.4a9.37 9.37 0 0 0 3.6 1.8 12.06 12.06 0 0 0 3.92.34 10.2 10.2 0 0 0 3.84-.95 8.31 8.31 0 0 0 4.76-6.75l.01-.04h-4.37l-.05.16a4.87 4.87 0 0 1-4.24 3.75c-.59.07-1.32.06-1.93-.05a5.47 5.47 0 0 1-3.5-2.27c-.56-.75-1-1.73-1.26-2.79a13.8 13.8 0 0 1-.16-5.24 7.77 7.77 0 0 1 2.1-4.3 5.48 5.48 0 0 1 2.15-1.3 6.4 6.4 0 0 1 3.89.1c.59.21 1.03.5 1.5.96a5.32 5.32 0 0 1 1.46 2.5l.04.15h4.37v-.06a8.22 8.22 0 0 0-5.31-6.94 10.98 10.98 0 0 0-4.88-.74ZM156.2 7.41a9.87 9.87 0 0 0-6 2.29 11.02 11.02 0 0 0-3.41 5.43c-.52 1.78-.68 3.9-.48 5.97.17 1.8.63 3.38 1.37 4.8a9.68 9.68 0 0 0 5.91 4.86c1.65.48 3.63.61 5.53.36 3.72-.49 6.55-2.62 7.56-5.69.12-.39.13-.42.1-.43-.02 0-4.13-.75-4.19-.75-.03 0-.04 0-.1.16-.18.42-.45.9-.72 1.22-.16.2-.49.53-.7.7-.67.54-1.5.9-2.43 1.08-.48.08-.83.11-1.41.11-.64 0-1.07-.04-1.6-.15a5.76 5.76 0 0 1-3.93-2.83 8 8 0 0 1-.99-3.79v-.16h16.38v-1.11l-.02-1.43c-.1-2.25-.53-4-1.35-5.59a9.24 9.24 0 0 0-6.18-4.75c-1.04-.26-2.2-.36-3.33-.3Zm1.45 3.74a5.35 5.35 0 0 1 3.66 1.94 6.1 6.1 0 0 1 1.38 4.01v.12h-11.97v-.06c0-.02 0-.14.02-.25a6.6 6.6 0 0 1 2.15-4.32 5.73 5.73 0 0 1 3.5-1.46c.25-.02 1 0 1.26.02ZM233.58 7.82l8.37 23.22a49.22 49.22 0 0 1-.67 1.9 5.36 5.36 0 0 1-1.14 1.8c-.41.4-.82.58-1.48.69-.27.04-1.03.03-1.35 0a8.05 8.05 0 0 1-1.1-.23l-1.08 3.67c0 .02.32.14.66.22.83.21 1.57.29 2.56.28.56-.01.8-.03 1.24-.1 2.71-.4 4.66-2.09 5.86-5.08l9.64-26.44c0-.02-4.82-.06-4.83-.05l-2.93 8.96-2.91 8.94h-.24l-.22-.65-2.91-8.95-2.7-8.3H233.53ZM293.05 35.8c-1.18.04-1.93.09-2.8.16-2.52.24-4.53.69-5.43 1.23-.7.41-.76.86-.2 1.28.88.66 3.29 1.19 6.36 1.4a48.55 48.55 0 0 0 5.75.05c3.47-.19 6.24-.78 7.11-1.5.22-.19.3-.34.3-.53 0-.1 0-.12-.04-.22-.35-.69-2.32-1.3-5.25-1.63a41.09 41.09 0 0 0-5.8-.24Zm0 0"})})})}let rQ=he.span.withConfig({displayName:"TermsAndConditionsContainer",componentId:"sc-ff3bd734-0"})(["margin-top:16px;font-size:13px;text-align:center;color:var(--privy-color-foreground-3);display:block;&& > a{color:var(--privy-color-accent);}"]);function VL({app:{legal:{privacyPolicyUrl:t,termsAndConditionsUrl:e,requireUsersAcceptTerms:r}},alwaysShowImplicitConsent:n}){let i=!(!t||!e);return r&&!n||!e&&!t?w.jsx(rQ,{}):w.jsxs(rQ,{children:["By logging in I agree to the"," ",e&&w.jsx("a",{href:e,target:"_blank",children:i?"Terms":"Terms of Service"}),i&&" & ",t&&w.jsx("a",{href:t,target:"_blank",children:"Privacy Policy"})]})}const nn=({className:t})=>{let{appearance:e}=fn();return w.jsx(Di,{className:t,children:e.footerLogo??w.jsx(Plt,{href:"https://www.privy.io/",target:"_blank",id:"protected-by-privy",children:w.jsx(Mlt,{color:"currentColor",height:13,width:150})})})};let Plt=he.a.withConfig({displayName:"PrivyLink",componentId:"sc-ff3bd734-1"})(["&&{padding:0;color:var(--privy-color-foreground-3);}"]);const Di=he.div.withConfig({displayName:"ModalFooter",componentId:"sc-ff3bd734-2"})(["display:flex;align-items:center;justify-content:center;padding-top:8px;padding-bottom:12px;gap:8px;font-size:13px;&& a{padding:0.5rem 0;&:hover{text-decoration:none;}}@media all and (display-mode:standalone){padding-bottom:30px;}"]),Nlt=({backFn:t})=>w.jsx("div",{children:w.jsx(KL,{onClick:t,children:w.jsx(HTe,{height:"16px",width:"16px",strokeWidth:2})})}),Rlt=({infoFn:t})=>w.jsx("div",{children:w.jsx(jlt,{"aria-label":"info",onClick:t,children:w.jsx(Ay,{height:"22px",width:"22px",strokeWidth:2})})}),Olt=t=>w.jsx("div",{children:w.jsx(KL,{"aria-label":"close modal",onClick:t.onClose,children:w.jsx(ZTe,{height:"16px",width:"16px",strokeWidth:2})})}),Or=({backFn:t,infoFn:e,onClose:r,title:n,closeable:i=!0,className:s})=>{let{closePrivyModal:o}=$t(),a=fn();return w.jsxs(Llt,{className:s,children:[w.jsxs(Dlt,{children:[t&&w.jsx(Nlt,{backFn:t}),e&&w.jsx(Rlt,{infoFn:e})]}),n&&w.jsx(Ult,{id:"privy-dialog-title",children:n}),w.jsx(Blt,{children:!a.render.standalone&&i&&w.jsx(Olt,{onClose:r||(()=>o())})})]})};let KL=he.button.withConfig({displayName:"StyledButton",componentId:"sc-e033e17a-0"})(["&&{cursor:pointer;display:flex;opacity:0.6;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-full);padding:4px;> svg{margin:auto;color:var(--privy-color-foreground);}:hover{opacity:1;}}"]),jlt=he(KL).withConfig({displayName:"TransparentStyledButton",componentId:"sc-e033e17a-1"})(["&&{background-color:transparent;}"]),Llt=he.div.withConfig({displayName:"StyledHeader",componentId:"sc-e033e17a-2"})(["padding:16px 0;display:flex;align-items:center;justify-content:space-between;h2{font-size:16px;line-height:24px;font-weight:600;color:var(--privy-color-foreground);}"]),Dlt=he.div.withConfig({displayName:"LeftActionContainer",componentId:"sc-e033e17a-3"})(["flex:1;align-items:center;display:flex;gap:8px;"]),Blt=he.div.withConfig({displayName:"RightActionContainer",componentId:"sc-e033e17a-4"})(["flex:1;display:flex;justify-content:flex-end;"]),Ult=he.div.withConfig({displayName:"TitleContainer",componentId:"sc-e033e17a-5"})(["overflow:hidden;white-space:nowrap;max-width:100%;text-overflow:ellipsis;text-align:center;color:var(--privy-color-foreground-2);"]);const GL=he.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-ba98f772-0"})(["display:flex;flex-direction:column;align-items:center;padding:0px 0px 30px;@media (max-width:440px){padding:10px 10px 20px;}"]),Vo=he.div.withConfig({displayName:"Title",componentId:"sc-ba98f772-1"})(["font-size:18px;line-height:30px;text-align:center;font-weight:600;margin-bottom:10px;"]),wl=he.div.withConfig({displayName:"SubTitle",componentId:"sc-ba98f772-2"})(["font-size:0.875rem;text-align:center;"]),Zg=he.div.withConfig({displayName:"Container",componentId:"sc-ba98f772-3"})(["display:flex;flex-direction:column;align-items:center;gap:10px;flex-grow:1;padding:20px 0;@media (max-width:440px){padding:10px 10px 20px;}"]),cA=he.div.withConfig({displayName:"List",componentId:"sc-ba98f772-4"})(["display:flex;flex-direction:column;align-items:stretch;gap:0.75rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]),Ig=he.div.withConfig({displayName:"ListItemIcon",componentId:"sc-ba98f772-5"})(["width:25px;display:flex;align-items:center;justify-content:flex-start;> svg{z-index:2;height:25px !important;width:25px !important;color:var(--privy-color-accent);}"]),Tg=he.div.withConfig({displayName:"ListItem",componentId:"sc-ba98f772-6"})(["display:flex;align-items:center;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;"]),X1=he.div.withConfig({displayName:"BottomSection",componentId:"sc-ba98f772-7"})(["display:flex;flex-direction:column;gap:10px;padding-top:20px;"]),Xhe=he.div.withConfig({displayName:"MethodList",componentId:"sc-ba98f772-8"})(["display:flex;flex-direction:column;align-items:stretch;gap:1rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]),sT=he.div.withConfig({displayName:"MethodListItem",componentId:"sc-ba98f772-9"})(["display:flex;gap:5px;width:100%;position:relative;"]),oT=he.button.withConfig({displayName:"RemoveMethodButton",componentId:"sc-ba98f772-10"})(["&&{background-color:transparent;color:var(--privy-color-foreground-3);padding:0 0.75rem;display:flex;align-items:center;height:100%;> svg{z-index:2;height:20px !important;width:20px !important;}}&&:hover{color:var(--privy-color-error);}"]),aT=he.div.withConfig({displayName:"MethodText",componentId:"sc-ba98f772-11"})(["display:flex;align-items:center;gap:0.5rem;> svg{z-index:2;height:20px !important;width:20px !important;}"]),nQ=he.div.withConfig({displayName:"ExtraText",componentId:"sc-ba98f772-12"})(["display:flex;align-items:center;gap:6px;font-weight:400 !important;color:",";> svg{z-index:2;height:18px !important;width:18px !important;display:flex !important;align-items:flex-end;}"],(t=>t.$isAccent?"var(--privy-color-accent)":"var(--privy-color-foreground-3)")),lT=he.div.withConfig({displayName:"SmsInsecureText",componentId:"sc-ba98f772-13"})(["width:100%;display:flex;justify-content:space-between;"]),efe=he.p.withConfig({displayName:"TermsText",componentId:"sc-ba98f772-14"})(["text-align:left;width:100%;color:var(--privy-color-foreground-3) !important;"]),ON=he.button.withConfig({displayName:"PrimaryTextButton",componentId:"sc-ba98f772-15"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:100%;cursor:pointer;border-radius:var(--privy-border-radius-md);font-size:0.875rem;line-height:1rem;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{color:",";background-color:transparent;padding:0.5rem 0px;}&:hover{text-decoration:underline;}"],(t=>t.theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-accent)")),vl=he.div.withConfig({displayName:"IconWrapper",componentId:"sc-ba98f772-16"})(["display:flex;align-items:center;justify-content:center;color:var(--privy-color-accent);width:100%;> svg{z-index:2;width:3rem;height:3rem;}"]),tfe=he.div.withConfig({displayName:"ErrorMessage",componentId:"sc-ba98f772-17"})(["color:var(--privy-color-error);"]),rfe=({handleClose:t,user:e,onSelect:r})=>w.jsxs(w.Fragment,{children:[w.jsx(Or,{onClose:t},"header"),w.jsx(vl,{style:{marginBottom:"1.5rem"},children:w.jsx(Fg,{})}),w.jsx(Vo,{children:"Verify your identity"}),w.jsx(wl,{children:"Choose a verification method"}),w.jsxs(Xhe,{children:[e.mfaMethods.includes("totp")&&w.jsxs(fi,{onClick:()=>r("totp"),children:[w.jsx(u9,{}),"Authenticator app"]},"totp"),e.mfaMethods.includes("sms")&&w.jsxs(fi,{onClick:()=>r("sms"),children:[w.jsx(W0,{}),"SMS"]},"sms"),e.mfaMethods.includes("passkey")&&w.jsxs(fi,{onClick:()=>r("passkey"),children:[w.jsx(oj,{}),"Passkey"]},"passkey")]}),w.jsx(Di,{})]}),nfe=({success:t,fail:e})=>w.jsxs(Flt,{children:[w.jsx(iQ,{children:w.jsx(YL,{className:t?"success":e?"fail":""})}),w.jsx(iQ,{children:w.jsx(gc,{className:t?"success":e?"fail":""})})]});let iQ=he.span.withConfig({displayName:"PositionedAbsoluteLoader",componentId:"sc-aba6339d-0"})(["&&{position:absolute;top:0;left:0;z-index:2;}"]),Flt=he.span.withConfig({displayName:"ConnectionLoaderContainer",componentId:"sc-aba6339d-1"})(["position:relative;width:82px;height:82px;display:inline-block;"]);const gc=he.span.withConfig({displayName:"Loader",componentId:"sc-aba6339d-2"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;}@keyframes rotation{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}&&&.success{border-color:var(--privy-color-icon-success);border-bottom-color:var(--privy-color-icon-success);}&&&.fail{border-color:var(--privy-color-icon-error);border-bottom-color:var(--privy-color-icon-error);}"],(t=>t.color??"var(--privy-color-icon-subtle)")),YL=he(gc).withConfig({displayName:"LoaderFaint",componentId:"sc-aba6339d-3"})(["&&{border-bottom-color:",";border-color:",";animation:none;opacity:0.5;}"],(t=>t.color??"var(--privy-color-border-default)"),(t=>t.color??"var(--privy-color-border-default)")),ap=t=>w.jsx(zlt,{color:t.color||"var(--privy-color-foreground-3)"});let zlt=he(gc).withConfig({displayName:"StyledButtonLoader",componentId:"sc-aba6339d-4"})(["&&{height:1rem;width:1rem;margin:2px 0;border-width:1.5px;transition:border-color 200ms ease;}"]);const Qg=({variant:t="primary",size:e="lg",children:r,success:n,...i})=>{switch(t){case"secondary":return w.jsx(Eu,{size:e,...i,children:r});case"error":return w.jsx(Eu,{$warn:!0,size:e,...i,children:r});case"muted":return w.jsx(Hlt,{size:e,...i,children:r});default:return w.jsx(Mn,{size:e,success:n,...i,children:r})}},uA=he.button.withConfig({displayName:"BaseButton",componentId:"sc-e537b447-0"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:auto;cursor:pointer;border-radius:",";font-size:14px;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{height:",";padding:0 ",";}"],(({$size:t})=>t==="sm"?"6px":"var(--privy-border-radius-sm)"),(({$size:t})=>t==="sm"?"28px":"48px"),(({$size:t})=>t==="sm"?"10px":"16px")),Mn=({children:t,loading:e,disabled:r,success:n,size:i="lg",loadingText:s="Loading...",as:o,onClick:a,...l})=>{let u=o==="a",c=!(!e&&!r);return w.jsx(qlt,{as:o,disabled:u?void 0:c,"aria-disabled":u?c:void 0,$success:n,$size:i,onClick:h=>{u&&c?h.preventDefault():a?.(h)},...l,children:e?w.jsxs(w.Fragment,{children:[w.jsx(ap,{}),s?w.jsx("span",{style:{marginLeft:"8px"},children:s}):null]}):t})},HE=({children:t,loading:e,disabled:r,...n})=>w.jsx(Wlt,{disabled:r,...n,children:e?w.jsx(ap,{color:"var(--privy-color-foreground-accent)"}):t});let Wlt=he(uA).withConfig({displayName:"StyledPrimaryButtonWithoutGray",componentId:"sc-e537b447-1"})(["position:relative;&&{background-color:var(--privy-color-accent);color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:var(--privy-color-accent-dark);}&:active{background-color:var(--privy-color-accent-dark);}&:disabled,&:hover:disabled,&:active:disabled{cursor:not-allowed;color:var(--privy-color-foreground-disabled);background-color:var(--privy-color-accent-dark);}"]),qlt=he(uA).withConfig({displayName:"StyledPrimaryButton",componentId:"sc-e537b447-2"})(["position:relative;&&{background-color:",";color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:",";}&:active{background-color:",";}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;}&:disabled{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],(t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)"),(t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent-dark)"),(t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent-dark)"),(t=>t.disabled&&us(["&&&,&&&:hover,&&&:active{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"])));const Eu=({children:t,loading:e,disabled:r,size:n="lg",loadingText:i="Loading...",as:s,onClick:o,...a})=>{let l=s==="a",u=!(!e&&!r);return w.jsx(Vlt,{as:s,disabled:l?void 0:u,"aria-disabled":l?u:void 0,$size:n,onClick:c=>{l&&u?c.preventDefault():o?.(c)},...a,children:e?w.jsxs(w.Fragment,{children:[w.jsx(ap,{}),i?w.jsx("span",{style:{marginLeft:"8px"},children:i}):null]}):t})},Hlt=({children:t,loading:e,disabled:r,size:n="lg",loadingText:i="Loading...",as:s,onClick:o,...a})=>{let l=s==="a",u=!(!e&&!r);return w.jsx(Klt,{as:s,disabled:l?void 0:u,"aria-disabled":l?u:void 0,$size:n,onClick:c=>{l&&u?c.preventDefault():o?.(c)},...a,children:e?w.jsxs(w.Fragment,{children:[w.jsx(ap,{}),i?w.jsx("span",{style:{marginLeft:"8px"},children:i}):null]}):t})};let Vlt=he(uA).withConfig({displayName:"StyledSecondaryButton",componentId:"sc-e537b447-3"})(["&&{border-width:1px;border-style:solid;border-color:",";background-color:var(--privy-color-background);color:",";transition:border-color 200ms ease,color 200ms ease,background-color 200ms ease;}&:hover{border-color:",";background-color:",";color:",";}&:active{border-color:",";background-color:",";color:",";}&:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],(t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-accent)"),(t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)"),(t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-border-interactive-hover)"),(t=>t.$warn?"var(--privy-color-error-light)":"var(--privy-color-info-bg-hover)"),(t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)"),(t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-border-interactive)"),(t=>t.$warn?"var(--privy-color-error-bg-hover)":"var(--privy-color-info-bg)"),(t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)"),(t=>t.disabled&&us(["&&&,&&&:hover,&&&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"]))),Klt=he(uA).withConfig({displayName:"StyledMutedButton",componentId:"sc-e537b447-4"})(["&&{border-width:1px;border-style:solid;border-color:var(--privy-color-border-default);background-color:transparent;color:var(--privy-color-text-muted);transition:border-color 200ms ease,color 200ms ease,background-color 200ms ease;}&:hover{border-color:var(--privy-color-border-default);background-color:var(--privy-color-info-bg-hover);color:var(--privy-color-foreground-2);}&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-info-bg);color:var(--privy-color-foreground-2);}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;}&:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],(t=>t.disabled&&us(["&&&,&&&:hover,&&&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"])));const dA=({children:t,onClick:e,disabled:r,isSubmitting:n,...i})=>w.jsxs(Glt,{$isSubmitting:n,onClick:e,disabled:r,...i,children:[w.jsx("span",{children:t}),w.jsx("span",{children:w.jsx(ap,{})})]});let Glt=he.button.withConfig({displayName:"StyledEmbeddedButton",componentId:"sc-e537b447-7"})(["&&{color:var(--privy-color-accent);font-size:16px;font-style:normal;font-weight:500;line-height:24px;cursor:pointer;border-radius:0px var(--privy-border-radius-mdlg) var(--privy-border-radius-mdlg) 0px;border:none;transition:color 200ms ease;@media (min-width:441px){font-size:14px;}:hover{color:var(--privy-color-accent-dark);}&& > :first-child{opacity:",";}&& > :last-child{position:absolute;display:flex;top:50%;left:50%;transform:translate3d(-50%,-50%,0);opacity:",";}:disabled,:hover:disabled{color:var(--privy-color-foreground-disabled);cursor:not-allowed;}}"],(t=>t.$isSubmitting?0:1),(t=>t.$isSubmitting?1:0));const cT=({label:t,children:e,valueStyles:r})=>w.jsxs(Ylt,{children:[w.jsx("div",{children:t}),w.jsx(Zlt,{style:{...r},children:e})]});let Ylt=he.div.withConfig({displayName:"StyledDetailsRow",componentId:"sc-4ebfdd45-0"})(["display:flex;align-items:center;justify-content:space-between;width:100%;> :first-child{color:var(--privy-color-foreground-3);text-align:left;}> :last-child{color:var(--privy-color-foreground-2);text-align:right;}"]),Zlt=he.div.withConfig({displayName:"ValueWrapper",componentId:"sc-4ebfdd45-1"})(["font-size:14px;line-height:100%;display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-full);background-color:var(--privy-color-background-2);padding:4px 8px;"]),Qlt=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2}),ife=t=>Qlt.format(t);const sfe=(t,e)=>{let r=ife(e*parseFloat(t));return r!=="$0.00"?r:"<$0.01"},$g=(t,e)=>{let r=ife(e*parseFloat(om(t)));return r==="$0.00"?"<$0.01":r},lu=(t,e,r=6,n=!1)=>`${ofe(t,r,n)} ${e}`,ofe=(t,e=6,r=!1)=>{let n=parseFloat(om(t)).toFixed(e).replace(/0+$/,"").replace(/\.$/,"");return r?n:`${n==="0"?"<0.001":n}`},ZL=t=>t.reduce(((e,r)=>e+r),0n),Jlt=(t,e)=>{let{chains:r}=$t(),n=`https://etherscan.io/address/${e}`,i=`${((s,o)=>{let a=Number(s),l=o.find((u=>u.id===a));if(!l)throw new Vn(`Unsupported chainId ${s}`,4901);return l.blockExplorers?.default.url})(t,r)}/address/${e}`;if(!i)return n;try{new URL(i)}catch{return n}return i},Xlt=(t,e=0)=>{let r=t[e],n=t[e+7];if(!r||!n)throw Error(`Buffer offset out of range: first: ${r}, last: ${n}.`);return(BigInt(t[e+4]+256*t[e+5]+65536*t[e+6]+(n<<24))<<32n)+BigInt(r+256*t[++e]+65536*t[++e]+16777216*t[++e])};function ect(t,e=0){let r=0n;for(let n=0;n<8;n++)r|=BigInt(t[e+n])<<BigInt(8*n);return r}async function K1(t,e){try{return await t}catch{return e}}const fb="11111111111111111111111111111111",tct=["CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C","CPMDWBwJDtYax9qW7AyRuVC19Cc4L4Vcy4n2BHAbHkCW"],rct=["JUP6LkbZbjS1jKKwapdHNy74zcZ3tLUZoi5QNyVTaV4"];let nct=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2});function D0(t,e=6,r=!1,n=!1){let i=(parseFloat(t.toString())/1e9).toFixed(e).replace(/0+$/,"").replace(/\.$/,""),s=n?"":" SOL";return r?`${i}${s}`:`${i==="0"?"<0.001":i}${s}`}function Yb(t,e){let r=parseFloat(t.toString())/1e9,n=nct.format(e*r);return n==="$0.00"?"<$0.01":n}function afe({amount:t,fee:e,tokenPrice:r,isUsdc:n}){let i=BigInt(Math.floor(parseFloat(t)*10**(n?6:9))),s=n?i:i+e;return{fundingAmountInBaseUnit:i,fundingAmountInUsd:r?Yb(i,r):void 0,totalPriceInUsd:r?Yb(s,r):void 0,totalPriceInNativeCurrency:D0(s),feePriceInNativeCurrency:D0(e),feePriceInUsd:r?Yb(e,r):void 0}}let ict={"mainnet-beta":{EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v:{symbol:"USDC",decimals:6,address:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB:{symbol:"USDT",decimals:6,address:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},devnet:{"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU":{symbol:"USDC",decimals:6,address:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU"},EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS:{symbol:"USDT",decimals:6,address:"EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},testnet:{}};async function Jc(t,e,r){let n=ict[t];if(!n[r]){let i=await e.getSplTokenMetadata({mintAddress:r,cluster:t});i&&(n[r]={address:r,symbol:i.symbol,decimals:i.decimals})}return n[r]}function ep(t){return"version"in t}function VE(t,e){let r=(ep(t)?t.message:t.compileMessage()).staticAccountKeys.find((n=>n.toBase58()===e));if(!r)throw Error(`Transaction does not contain public key ${e}`);return r}function sQ(t,e,r){return{signature:t,parsedTransaction:r??null,signedTransaction:e,fees:BigInt(r?.meta?.fee||0)}}async function lfe(t,e){let{value:r}=await e.simulateTransaction(t);if(r.err==="BlockhashNotFound")throw Error("Simulation failed: Blockhash not found");return r.err==null&&r.logs?.every((n=>!/insufficient funds/gi.test(n)))}async function sct({tx:t,connection:e,client:r,checkFunds:n}){let i=ep(t)?t.message:t.compileMessage(),s=i.staticAccountKeys[0]?.toBase58()??"",o=await(async function(h,m){return BigInt((ep(h)?(await m.getFeeForMessage(h.message)).value:await h.getEstimatedFee(m))??0)})(t,e),a=!n||await K1(lfe(t,e),!0),l={},u=[],c=await(async function(h,m){return[...h.staticAccountKeys.map((y=>y)),...(await Promise.all(h.addressTableLookups.map((async y=>m.getAddressLookupTable(y.accountKey).then((({value:b})=>b)))))).map(((y,b)=>[...h.addressTableLookups[b]?.writableIndexes.map((E=>{let A=y?.state.addresses[E];if(A)return{key:A,isWritable:!0,altIdx:b}}))??[],...h.addressTableLookups[b]?.readonlyIndexes.map((E=>{let A=y?.state.addresses[E];if(A)return{key:A,isWritable:!1,altIdx:b}}))??[]])).flat().filter((y=>!!y)).sort(((y,b)=>y.isWritable!==b.isWritable?y.isWritable?-1:1:y.altIdx-b.altIdx)).map((({key:y})=>y))]})(i,e);for(let h of i.compiledInstructions){let m=i.staticAccountKeys[h.programIdIndex]?.toBase58()||"";if(m!=="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"&&m!=="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb")if(m!==fb){if(m==="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"){let y=await K1((function(b,E,A){let[M,O,P,z]=b.accountKeyIndexes.map((L=>E[L]));return{type:"ata-creation",program:A,payer:M?.toBase58(),ata:O?.toBase58(),owner:P?.toBase58(),mint:z?.toBase58()}})(h,c,m));if(!y){u.push({type:"unknown",program:m,discriminator:h.data[0]});continue}if(u.push(y),y.ata&&y.owner&&y.mint){l[y.ata]={owner:y.owner,mint:y.mint};continue}}if(tct.includes(m)){let y=await K1(lct(h,c,e,r,m));if(!y){u.push({type:"unknown",program:m,discriminator:h.data[0]});continue}u.push(y)}else if(rct.includes(m)){let y=await K1(cct(h,c,e,r,m));if(!y){u.push({type:"unknown",program:m,discriminator:h.data[0]});continue}u.push(y)}else u.push({type:"unknown",program:m,discriminator:h.data[0]})}else{let y=await K1(act(h,c));if(!y){u.push({type:"unknown",program:m,discriminator:h.data[0]});continue}u.push(y)}else{let y=await K1(oct(h,c,e,r,l,m));if(!y){u.push({type:"unknown",program:m,discriminator:h.data[0]});continue}u.push(y),y.type==="spl-transfer"&&(y.fromAta&&y.fromAccount&&y.token.address&&(l[y.fromAta]??={owner:y.fromAccount,mint:y.token.address}),y.toAta&&y.toAccount&&y.token.address&&(l[y.toAta]??={owner:y.toAccount,mint:y.token.address}))}}return{spender:s,fee:o,instructions:u,hasFunds:!!a}}function qo(t,e=0){try{return ect(t,e)}catch{}try{return t.readBigInt64LE(e)}catch{}let r=Zs(t);try{return Xlt(r)}catch{}try{return r.subarray(e).readBigInt64LE()}catch{}try{return r.readBigInt64LE(e)}catch{}return 0n}async function oct(t,e,r,n,i,s){let o=t.data[0],a=t.accountKeyIndexes.map((l=>e[l]));if(o===1){let[l,u,c]=a;return{type:"spl-init-account",program:s,account:l?.toBase58(),mint:u?.toBase58(),owner:c?.toBase58()}}if(o===3){let l,u,[c,h,m]=a,y="",b=h?i[h.toBase58()]:void 0;if(b)l=b.owner,y=b.mint;else if(h){let O=await r.getParsedAccountInfo(h,"confirmed"),P=O.value?.data;l=P?.parsed?.info?.owner,y=P?.parsed?.info?.mint??"",u=P?.parsed?.info?.tokenAmount?.decimals}!y&&c&&(y=(await r.getParsedAccountInfo(c,"confirmed")).value?.data?.parsed?.info?.mint??"");let E=Yw(r.rpcEndpoint),A=await Jc(E,n,y),M=A?.symbol??"";return u??=A?.decimals??9,{type:"spl-transfer",program:s,fromAta:c?.toBase58(),fromAccount:m?.toBase58(),toAta:h?.toBase58(),toAccount:l,value:qo(t.data,1),token:{symbol:M,decimals:u,address:y}}}if(o===9){let[l,u,c]=a;return{type:"spl-close-account",program:s,source:l?.toBase58(),destination:u?.toBase58(),owner:c?.toBase58()}}if(o===17)return{type:"spl-sync-native",program:s};throw Error(`Token program instruction type ${o} not supported`)}async function act(t,e){let r=t.data[0],n=t.accountKeyIndexes.map((i=>e[i]));if(r===0){let[,i]=n;return{type:"create-account",program:fb,account:i?.toBase58(),value:qo(t.data,4),withSeed:!1}}if(r===2){let[i,s]=n;return{type:"sol-transfer",program:fb,fromAccount:i?.toBase58(),toAccount:s?.toBase58(),token:{symbol:"SOL",decimals:9},value:qo(t.data,4),withSeed:!1}}if(r===3){let[,i]=n,s=qo(t.data.slice(t.data.length-32-8-8));return{type:"create-account",program:fb,account:i?.toBase58(),withSeed:!0,value:s}}if(r===11){let[i,s]=n;return{type:"sol-transfer",program:fb,fromAccount:i?.toBase58(),toAccount:s?.toBase58(),value:qo(t.data,4),token:{symbol:"SOL",decimals:9},withSeed:!0}}throw Error(`System program instruction type ${r} not supported`)}async function lct(t,e,r,n,i){let s=t.accountKeyIndexes.map((l=>e[l]?.toBase58())),o=t.data[0],a=Yw(r.rpcEndpoint);if(o===143){let l=s[10],u=s[11];return{type:"raydium-swap-base-input",program:i,mintIn:l,mintOut:u,tokenIn:l?await Jc(a,n,l):void 0,tokenOut:u?await Jc(a,n,u):void 0,amountIn:qo(t.data,8),minimumAmountOut:qo(t.data,16)}}if(o===55){let l=s[10],u=s[11];return{type:"raydium-swap-base-output",program:i,mintIn:l,mintOut:u,tokenIn:l?await Jc(a,n,l):void 0,tokenOut:u?await Jc(a,n,u):void 0,maxAmountIn:qo(t.data,8),amountOut:qo(t.data,16)}}throw Error(`Raydium swap program instruction type ${o} not supported`)}async function cct(t,e,r,n,i){let s=t.data[0],o=t.accountKeyIndexes.map((l=>e[l])),a=Yw(r.rpcEndpoint);if([208,51,239,151,123,43,237,92].includes(s)){let l=o[5]?.toBase58(),u=o[6]?.toBase58();return{type:"jupiter-swap-exact-out-route",program:i,mintIn:l,mintOut:u,tokenIn:l?await Jc(a,n,l):void 0,tokenOut:u?await Jc(a,n,u):void 0,outAmount:qo(t.data,t.data.length-1-2-8-8),quotedInAmount:qo(t.data,t.data.length-1-2-8)}}if([176,209,105,168,154,125,69,62].includes(s)){let l=o[7]?.toBase58(),u=o[8]?.toBase58();return{type:"jupiter-swap-exact-out-route",program:i,mintIn:l,mintOut:u,tokenIn:l?await Jc(a,n,l):void 0,tokenOut:u?await Jc(a,n,u):void 0,outAmount:qo(t.data,t.data.length-1-2-8-8),quotedInAmount:qo(t.data,t.data.length-1-2-8)}}if([193,32,155,51,65,214,156,129].includes(s)){let l=o[7]?.toBase58(),u=o[8]?.toBase58();return{type:"jupiter-swap-shared-accounts-route",program:i,mintIn:l,mintOut:u,tokenIn:l?await Jc(a,n,l):void 0,tokenOut:u?await Jc(a,n,u):void 0,inAmount:qo(t.data,t.data.length-1-2-8-8),quotedOutAmount:qo(t.data,t.data.length-1-2-8)}}throw[62,198,214,193,213,159,108,210].includes(s)&&console.warn("Jupiter swap program instruction 'claim' not implemented"),[116,206,27,191,166,19,0,73].includes(s)&&console.warn("Jupiter swap program instruction 'claim_token' not implemented"),[26,74,236,151,104,64,183,249].includes(s)&&console.warn("Jupiter swap program instruction 'close_token' not implemented"),[229,194,212,172,8,10,134,147].includes(s)&&console.warn("Jupiter swap program instruction 'create_open_orders' not implemented"),[28,226,32,148,188,136,113,171].includes(s)&&console.warn("Jupiter swap program instruction 'create_program_open_orders' not implemented"),[232,242,197,253,240,143,129,52].includes(s)&&console.warn("Jupiter swap program instruction 'create_token_ledger' not implemented"),[147,241,123,100,244,132,174,118].includes(s)&&console.warn("Jupiter swap program instruction 'create_token_account' not implemented"),[229,23,203,151,122,227,173,42].includes(s)&&console.warn("Jupiter swap program instruction 'route' not implemented"),[150,86,71,116,167,93,14,104].includes(s)&&console.warn("Jupiter swap program instruction 'route_with_token_ledger' not implemented"),[228,85,185,112,78,79,77,2].includes(s)&&console.warn("Jupiter swap program instruction 'set_token_ledger' not implemented"),[230,121,143,80,119,159,106,170].includes(s)&&console.warn("Jupiter swap program instruction 'shared_accounts_route_with_token_ledger' not implemented"),Error(`Jupiter swap program instruction type ${s} not supported`)}const uct=({weiQuantities:t,tokenPrice:e,tokenSymbol:r})=>{let n=ZL(t),i=e?$g(n,e):void 0,s=lu(n,r);return w.jsx(QL,{children:i||s})},cfe=({weiQuantities:t,tokenPrice:e,tokenSymbol:r})=>{let n=ZL(t),i=e?$g(n,e):void 0,s=lu(n,r);return w.jsx(QL,{children:i?w.jsxs(w.Fragment,{children:[w.jsx(dct,{children:"USD"}),i==="<$0.01"?w.jsxs(dfe,{children:[w.jsx(ufe,{children:"<"}),"$0.01"]}):i]}):s})},oQ=({quantities:t,tokenPrice:e,tokenSymbol:r="SOL",tokenDecimals:n=9})=>{let i=t.reduce(((a,l)=>a+l),0n),s=e&&r==="SOL"&&n===9?Yb(i,e):void 0,o=r==="SOL"&&n===9?D0(i):`${Ys(i,n)} ${r}`;return w.jsx(QL,{children:s?w.jsx(w.Fragment,{children:s==="<$0.01"?w.jsxs(dfe,{children:[w.jsx(ufe,{children:"<"}),"$0.01"]}):s}):o})};let QL=he.span.withConfig({displayName:"StyledPriceDisplay",componentId:"sc-596cd423-0"})(["font-size:14px;line-height:140%;display:flex;gap:4px;align-items:center;"]),dct=he.span.withConfig({displayName:"StyledPriceUnit",componentId:"sc-596cd423-1"})(["font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);"]),ufe=he.span.withConfig({displayName:"TinyLessThan",componentId:"sc-596cd423-2"})(["font-size:10px;"]),dfe=he.span.withConfig({displayName:"FlexCenter",componentId:"sc-596cd423-3"})(["display:flex;align-items:center;"]);const hfe=he.div.withConfig({displayName:"BottomPusherContainer",componentId:"sc-cb963810-0"})(["display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-end;margin-top:auto;gap:16px;flex-grow:100;"]),JL=he.div.withConfig({displayName:"CenteredItem",componentId:"sc-cb963810-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;flex-grow:1;width:100%;"]),hct=he.div.withConfig({displayName:"HorizontallyCenteredItem",componentId:"sc-cb963810-2"})(["display:flex;flex-direction:column;align-items:center;width:100%;"]),fct=he(JL).withConfig({displayName:"CenteredItemWithPadding",componentId:"sc-cb963810-3"})(["padding:20px 0;"]),i6=he(JL).withConfig({displayName:"CenteredItemWithGap",componentId:"sc-cb963810-4"})(["gap:16px;"]),hA=he.div.withConfig({displayName:"FlexContainer",componentId:"sc-cb963810-5"})(["display:flex;flex-direction:column;width:100%;"]),XL=he.div.withConfig({displayName:"FixedGappedContainer",componentId:"sc-cb963810-6"})(["display:flex;flex-direction:column;gap:8px;"]),pct=he.div.withConfig({displayName:"StyledCalloutSection",componentId:"sc-cb963810-8"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;padding:16px;margin-top:16px;margin-bottom:16px;width:100%;background:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);&& h4{color:var(--privy-color-foreground-3);font-size:14px;text-decoration:underline;font-weight:medium;}&& p{color:var(--privy-color-foreground-3);font-size:14px;}"]),Tu=he.div.withConfig({displayName:"RefactorSpacerTop",componentId:"sc-cb963810-9"})(["height:16px;"]),Nl=he.div.withConfig({displayName:"RefactorSpacerBottom",componentId:"sc-cb963810-10"})(["height:12px;"]),gct=he.div.withConfig({displayName:"ConfigurableSpacer",componentId:"sc-cb963810-12"})(["height:","px;"],(t=>t.height??"12")),mct=({gas:t,tokenPrice:e,tokenSymbol:r})=>w.jsxs(hA,{style:{paddingBottom:"12px"},children:[w.jsxs(ffe,{children:[w.jsx(gfe,{children:"Est. Fees"}),w.jsx("div",{children:w.jsx(cfe,{weiQuantities:[BigInt(t)],tokenPrice:e,tokenSymbol:r})})]}),e&&w.jsx(pfe,{children:`${lu(BigInt(t),r)}`})]}),yct=({value:t,gas:e,tokenPrice:r,tokenSymbol:n})=>{let i=BigInt(t??0)+BigInt(e);return w.jsxs(hA,{children:[w.jsxs(ffe,{children:[w.jsx(gfe,{children:"Total (including fees)"}),w.jsx("div",{children:w.jsx(cfe,{weiQuantities:[BigInt(t||0),BigInt(e)],tokenPrice:r,tokenSymbol:n})})]}),r&&w.jsx(pfe,{children:lu(i,n)})]})};let ffe=he.div.withConfig({displayName:"TransactionTotalRow",componentId:"sc-f8ef9b74-0"})(["display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding-top:4px;"]),pfe=he.div.withConfig({displayName:"ValueConversionRow",componentId:"sc-f8ef9b74-1"})(["display:flex;flex-direction:row;height:12px;font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);font-weight:400;"]),gfe=he.div.withConfig({displayName:"TotalText",componentId:"sc-f8ef9b74-2"})(["font-size:14px;line-height:22.4px;font-weight:400;"]);const s6=B.createContext(void 0),fA=B.createContext(void 0),wct=({defaultValue:t,children:e})=>{let[r,n]=B.useState(t||null);return w.jsx(s6.Provider,{value:{activePanel:r,togglePanel:i=>{n(r===i?null:i)}},children:w.jsx(_ct,{children:e})})},vct=({value:t,children:e})=>{let{activePanel:r,togglePanel:n}=B.useContext(s6),i=r===t;return w.jsx(fA.Provider,{value:{onToggle:()=>n(t),value:t},children:w.jsx(kct,{isActive:i?"true":"false","data-open":String(i),children:e})})},bct=({children:t})=>{let{activePanel:e}=B.useContext(s6),{onToggle:r,value:n}=B.useContext(fA),i=e===n;return w.jsxs(w.Fragment,{children:[w.jsxs(Act,{onClick:r,"data-open":String(i),children:[w.jsx(Cct,{children:t}),w.jsx(Tct,{isactive:i?"true":"false",children:w.jsx(d9,{height:"16px",width:"16px",strokeWidth:"2"})})]}),w.jsx(Sct,{})]})},xct=({children:t})=>{let{activePanel:e}=B.useContext(s6),{value:r}=B.useContext(fA);return w.jsx(Ict,{"data-open":String(e===r),children:w.jsx(mfe,{children:t})})},Ect=({children:t})=>{let{activePanel:e}=B.useContext(s6),{value:r}=B.useContext(fA);return w.jsx(mfe,{children:typeof t=="function"?t({isActive:e===r}):t})};let _ct=he.div.withConfig({displayName:"AccordionRoot",componentId:"sc-d25f9267-0"})(["display:flex;flex-direction:column;width:100%;gap:8px;"]),Act=he.div.withConfig({displayName:"AccordionTriggerContainer",componentId:"sc-d25f9267-1"})(["display:flex;justify-content:space-between;align-items:center;width:100%;cursor:pointer;padding-bottom:8px;"]),Sct=he.div.withConfig({displayName:"AccordionDivider",componentId:"sc-d25f9267-2"})(["width:100%;&&{border-top:1px solid;border-color:var(--privy-color-foreground-4);}padding-bottom:12px;"]),Cct=he.div.withConfig({displayName:"AccordionTriggerContent",componentId:"sc-d25f9267-3"})(["font-size:14px;font-weight:500;line-height:19.6px;width:100%;padding-right:8px;"]),kct=he.div.withConfig({displayName:"AccordionPanelContainer",componentId:"sc-d25f9267-4"})(["display:flex;flex-direction:column;width:100%;overflow:hidden;padding:12px;&&{border:1px solid;border-color:var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);}"]),Ict=he.div.withConfig({displayName:"AccordionContentContainer",componentId:"sc-d25f9267-5"})(["position:relative;overflow:hidden;transition:max-height 25ms ease-out;&[data-open='true']{max-height:700px;}&[data-open='false']{max-height:0;}"]),mfe=he.div.withConfig({displayName:"ContentWrapper",componentId:"sc-d25f9267-6"})(["display:flex;flex-direction:column;gap:12px;flex:1 1 auto;min-height:1px;"]),Tct=he.div.withConfig({displayName:"IconWrapper",componentId:"sc-d25f9267-7"})(["transform:",";"],(t=>t.isactive==="true"?"rotate(180deg)":"rotate(0deg)"));const jN=({walletAddress:t,chainId:e=1,network:r,rpcEndpoint:n})=>w.jsx($ct,{href:r==="ethereum"?Jlt(e,t):slt(t,Yw(n||"")),target:"_blank",children:Zo(t)});let $ct=he.a.withConfig({displayName:"StyledLink",componentId:"sc-adda23e5-0"})(["&:hover{text-decoration:underline;}"]);const yfe=({from:t,to:e,txn:r,transactionInfo:n,tokenPrice:i,gas:s,tokenSymbol:o})=>{let a=BigInt(r?.value||0);return w.jsx(wct,{...fn().render.standalone?{defaultValue:"details"}:{},children:w.jsxs(vct,{value:"details",children:[w.jsx(bct,{children:w.jsxs(Mct,{children:[w.jsx("div",{children:n?.title||"Details"}),w.jsx(Pct,{children:w.jsx(uct,{weiQuantities:[a],tokenPrice:i,tokenSymbol:o})})]})}),w.jsxs(xct,{children:[w.jsx(cT,{label:"From",children:w.jsx(jN,{walletAddress:t,chainId:r.chainId||1,network:"ethereum"})}),w.jsx(cT,{label:"To",children:w.jsx(jN,{walletAddress:e,chainId:r.chainId||1,network:"ethereum"})}),n&&n.action&&w.jsx(cT,{label:"Action",children:n.action}),s&&w.jsx(mct,{value:r.value,gas:s,tokenPrice:i,tokenSymbol:o})]}),w.jsx(Ect,{children:({isActive:l})=>w.jsx(yct,{value:r.value,displayFee:l,gas:s||"0x0",tokenPrice:i,tokenSymbol:o})})]})})};let Mct=he.div.withConfig({displayName:"AccordionTriggerContent",componentId:"sc-e1259f7b-0"})(["display:flex;flex-direction:row;justify-content:space-between;"]),Pct=he.div.withConfig({displayName:"TotalText",componentId:"sc-e1259f7b-1"})(["flex-shrink:0;padding-left:8px;"]);const wfe=({enabled:t=!0}={})=>{let{showFiatPrices:e,getUsdPriceForSol:r}=$t(),[n,i]=B.useState(!0),[s,o]=B.useState(void 0),[a,l]=B.useState(void 0);return B.useEffect((()=>{(async()=>{if(e&&t)try{i(!0);let u=await r();u?l(u):o(Error("Unable to fetch SOL price"))}catch(u){o(u)}finally{i(!1)}else i(!1)})()}),[]),{solPrice:a,isSolPriceLoading:n,solPriceError:s}};function Zw(t){let{tokenPrice:e,isTokenPriceLoading:r,tokenPriceError:n}=(a=>{let{showFiatPrices:l,getUsdTokenPrice:u,chains:c}=$t(),[h,m]=B.useState(!0),[y,b]=B.useState(void 0),[E,A]=B.useState(void 0);return B.useEffect((()=>{a||=1;let M=_O(c).find((O=>O.id===Number(a)));(async()=>{if(l){if(!M)return m(!1),void b(Error(`Unable to fetch token price on chain id ${a}`));try{m(!0);let O=await u(M);O?A(O):b(Error(`Unable to fetch token price on chain id ${M.id}`))}catch(O){b(O)}finally{m(!1)}}else m(!1)})()}),[a]),{tokenPrice:E,isTokenPriceLoading:h,tokenPriceError:y}})(t==="solana"?-1:t),{solPrice:i,isSolPriceLoading:s,solPriceError:o}=wfe({enabled:t==="solana"});return t==="solana"?{tokenPrice:i,isTokenPriceLoading:s,tokenPriceError:o}:{tokenPrice:e,isTokenPriceLoading:r,tokenPriceError:n}}const vfe=B.createContext(null);function Ld(){let t=B.useContext(vfe);return t===null?(console.warn("`useWallets` was called outside the PrivyProvider component"),{wallets:[],ready:!1}):t}async function KE(t,e,r,n){let i=Gie(t),s=await(async()=>n?await n():await e.prepareTransactionRequest({...i,account:{address:r,type:"json-rpc"}}))();return{...s,type:lIe[s.type]}}const LN=({pendingTransaction:t})=>{let{wallets:e}=Ld(),{walletProxy:r,rpcConfig:n,chains:i,appId:s,nativeTokenSymbolForChainId:o}=$t(),[a,l]=B.useState(null),[u,c]=B.useState(t),{tokenPrice:h}=Zw(u.chainId),m=o(t.chainId)||"ETH",y=B.useMemo((()=>e.find((b=>b.walletClientType==="privy"))),[e]);return B.useEffect((()=>{(async function(){if(!r||!y)return u;let b=uw(u.chainId,i,n,{appId:s}),E=await KE(u,b,y.address);return l(_s(BigInt(E.gas??0))),E})().then(c).catch(console.error)}),[r]),y?w.jsx(Nct,{children:w.jsx(yfe,{from:y.address,to:u.to,txn:u,gas:a??void 0,tokenPrice:h,tokenSymbol:m})}):null};let Nct=he.div.withConfig({displayName:"TransactionInfoWrapper",componentId:"sc-8d9a2f57-0"})(["width:100%;padding:1rem 0;"]),eD=he.div.withConfig({displayName:"StackedContainer",componentId:"sc-f7e7d474-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > span{position:absolute;left:-41px;top:-41px;}> div > :last-child{position:absolute;left:-19px;top:-19px;}"]);const tD=({style:t,...e})=>w.jsx("svg",{x:0,y:0,width:"65",height:"64",viewBox:"0 0 65 64",style:{height:"64px",width:"65px",...t},fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:w.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.71369 17.5625V10.375C3.71369 6.44625 6.85845 3.25 10.7238 3.25H17.7953C18.6783 3.25 19.3941 2.52244 19.3941 1.625C19.3941 0.727562 18.6783 0 17.7953 0H10.7238C5.09529 0 0.516113 4.65419 0.516113 10.375V17.5625C0.516113 18.4599 1.23194 19.1875 2.1149 19.1875C2.99787 19.1875 3.71369 18.4599 3.71369 17.5625ZM17.7953 60.7501C18.6783 60.7501 19.3941 61.4777 19.3941 62.3751C19.3941 63.2726 18.6783 64.0001 17.7953 64.0001H10.7238C5.09529 64.0001 0.516113 59.3459 0.516113 53.6251V46.4376C0.516113 45.5402 1.23194 44.8126 2.1149 44.8126C2.99787 44.8126 3.71369 45.5402 3.71369 46.4376V53.6251C3.71369 57.5538 6.85845 60.7501 10.7238 60.7501H17.7953ZM63.4839 46.4376V53.6251C63.4839 59.3459 58.9048 64.0001 53.2763 64.0001H46.2047C45.3217 64.0001 44.6059 63.2726 44.6059 62.3751C44.6059 61.4777 45.3217 60.7501 46.2047 60.7501H53.2763C57.1416 60.7501 60.2864 57.5538 60.2864 53.6251V46.4376C60.2864 45.5402 61.0022 44.8126 61.8851 44.8126C62.7681 44.8126 63.4839 45.5402 63.4839 46.4376ZM63.4839 10.375V17.5625C63.4839 18.4599 62.7681 19.1875 61.8851 19.1875C61.0022 19.1875 60.2864 18.4599 60.2864 17.5625V10.375C60.2864 6.44625 57.1416 3.25 53.2763 3.25H46.2047C45.3217 3.25 44.6059 2.52244 44.6059 1.625C44.6059 0.727562 45.3217 0 46.2047 0H53.2763C58.9048 0 63.4839 4.65419 63.4839 10.375ZM43.0331 47.3022C43.7067 46.6698 43.7483 45.6022 43.1262 44.9176C42.5039 44.233 41.4536 44.1906 40.78 44.823C38.3832 47.0732 35.265 48.3125 31.9997 48.3125C28.7344 48.3125 25.6162 47.0732 23.2194 44.823C22.5457 44.1906 21.4955 44.233 20.8732 44.9176C20.251 45.6022 20.2927 46.6698 20.9663 47.3022C23.9784 50.1301 27.8968 51.6875 31.9997 51.6875C36.1026 51.6875 40.021 50.1301 43.0331 47.3022ZM35.3207 24.1249V36.1249C35.3207 38.5029 33.4173 40.4374 31.0777 40.4374H29.7249C28.8079 40.4374 28.0646 39.6819 28.0646 38.7499C28.0646 37.8179 28.8079 37.0624 29.7249 37.0624H31.0777C31.5863 37.0624 32.0001 36.6419 32.0001 36.1249V24.1249C32.0001 23.1929 32.7434 22.4374 33.6604 22.4374C34.5774 22.4374 35.3207 23.1929 35.3207 24.1249ZM46.7581 28.8437V24.0312C46.7581 23.151 46.056 22.4374 45.19 22.4374C44.324 22.4374 43.622 23.151 43.622 24.0312V28.8437C43.622 29.7239 44.324 30.4374 45.19 30.4374C46.056 30.4374 46.7581 29.7239 46.7581 28.8437ZM17.6109 28.8437C17.6109 29.7239 18.313 30.4374 19.1789 30.4374C20.0449 30.4374 20.747 29.7239 20.747 28.8437V24.0312C20.747 23.151 20.0449 22.4374 19.1789 22.4374C18.313 22.4374 17.6109 23.151 17.6109 24.0312V28.8437Z"})}),bfe=({hasBlockingError:t,error:e,onClose:r,onBack:n,handleSubmit:i,account:s,submitSuccess:o})=>{let{pendingTransaction:a}=$t();return w.jsxs(w.Fragment,{children:[w.jsx(Or,{onClose:r},"header"),w.jsx(eD,{children:w.jsxs("div",{children:[w.jsx(nfe,{success:o,fail:!!e}),w.jsx(e?hm:tD,{style:{width:"38px",height:"38px"}})]})}),w.jsx(Vo,{style:{marginTop:"1rem"},children:"Verifying with passkey"}),w.jsxs(cA,{children:[w.jsxs(Tg,{children:[w.jsx(Ig,{children:w.jsx(Fg,{})}),"Approve this action using your touch, face, PIN, or hardware key."]}),w.jsxs(Tg,{children:[w.jsx(Ig,{children:w.jsx(JTe,{})}),"You last added a passkey on"," ",s?.firstVerifiedAt?.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}),"."]})]}),a&&w.jsx(Zg,{children:w.jsx(LN,{pendingTransaction:a})}),e&&w.jsxs(w.Fragment,{children:[w.jsx(tfe,{style:{marginTop:"1.25rem"},children:e.message}),w.jsx(Mn,{disabled:t,onClick:i,style:{marginTop:"1.25rem"},children:"Try again"})]}),n&&w.jsx(ON,{style:{marginTop:"1rem"},onClick:n,children:"Choose another method"}),w.jsx(Di,{})]})};let Rct=Array(6).fill("");var gv,Oct=((gv=Oct||{})[gv.RESET_AFTER_DELAY=0]="RESET_AFTER_DELAY",gv[gv.CLEAR_ON_NEXT_VALID_INPUT=1]="CLEAR_ON_NEXT_VALID_INPUT",gv);function DN(t){return/^[0-9]{1}$/.test(t)}function aQ(t){return t.length===6&&t.every(DN)}const GE=({onChange:t,disabled:e,errorReasonOverride:r,success:n})=>{let[i,s]=B.useState(Rct),[o,a]=B.useState(null),[l,u]=B.useState(null),c=async m=>{m.preventDefault();let y=m.currentTarget.value.replace(/\s+/g,"");if(y==="")return;let b=i.reduce(((H,G)=>H+Number(DN(G))),0),E=y.split(""),A=!E.every(DN),M=E.length+b>6;if(A)return a("Passcode can only be numbers"),void u(1);if(M)return a("Passcode must be exactly 6 numbers"),void u(1);a(null),u(null);let O=Number(m.currentTarget.name?.charAt(4)),P=[...y||[""]].slice(0,6-O),z=[...i.slice(0,O),...P,...i.slice(O+P.length)];s(z);let L=Math.min(Math.max(O+P.length,0),5);if(document.querySelector(`input[name=pin-${L}]`)?.focus(),aQ(z))try{await t(z.join("")),document.querySelector(`input[name=pin-${L}]`)?.blur()}catch(H){u(1),a(H.message)}else try{await t(null)}catch(H){u(1),a(H.message)}},h=n?"success":!r&&!o?"":"fail";return w.jsx(w.Fragment,{children:w.jsxs(jct,{children:[w.jsx("div",{children:i.map(((m,y)=>w.jsx("input",{name:`pin-${y}`,type:"text",value:i[y],onChange:c,onKeyUp:b=>{b.key==="Backspace"&&(E=>{l===1&&(a(null),u(null));let A=[...i.slice(0,E),"",...i.slice(E+1)];s(A),E>0&&document.querySelector(`input[name=pin-${E-1}]`)?.focus(),aQ(A)?t(A.join("")):t(null)})(y)},inputMode:"numeric",autoFocus:y===0,pattern:"[0-9]",className:h,autoComplete:hn.isMobile?"one-time-code":"off",disabled:e},y)))}),w.jsx("div",{children:w.jsx(Lct,{$fail:!!r||!!o,children:r||o})})]})})};let jct=he.div.withConfig({displayName:"PinInputContainer",componentId:"sc-7a171f6-0"})(["display:flex;flex-direction:column;width:100%;gap:8px;@media (max-width:440px){margin-top:8px;margin-bottom:8px;}> div:nth-child(1){display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-md);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);padding:8px 10px;height:58px;width:46px;text-align:center;font-size:18px;}> input:disabled{background:var(--privy-color-background-2);}> input:focus{border:1px solid var(--privy-color-accent);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-success);}> input.fail{border:1px solid var(--privy-color-error);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]),Lct=he.div.withConfig({displayName:"InputHelp",componentId:"sc-7a171f6-1"})(["line-height:20px;font-size:13px;display:flex;justify-content:flex-start;width:100%;color:",";"],(t=>t.$fail?"var(--privy-color-error)":"var(--privy-color-foreground-3)"));const xfe=({selectedMethod:t,submitSuccess:e,hasBlockingError:r,onClose:n,onBack:i,handleSubmitCode:s})=>{let{app:o}=jt(),{pendingTransaction:a}=$t();switch(t){case"sms":return w.jsxs(w.Fragment,{children:[w.jsx(Or,{onClose:n},"header"),w.jsx(vl,{style:{marginBottom:"1.5rem"},children:w.jsx(W0,{})}),w.jsx(Vo,{children:"Enter verification code"}),w.jsxs(Zg,{children:[w.jsx(GE,{success:e,disabled:r,onChange:s}),w.jsxs(wl,{children:["To continue, please enter the 6-digit code sent to your ",w.jsx("strong",{children:"mobile device"})]}),a&&w.jsx(LN,{pendingTransaction:a})]}),i&&w.jsx(ON,{theme:o?.appearance.palette.colorScheme,onClick:i,children:"Choose another method"}),w.jsx(Eu,{onClick:n,children:"Cancel"}),w.jsx(Di,{})]});case"totp":return w.jsxs(w.Fragment,{children:[w.jsx(Or,{onClose:n},"header"),w.jsx(vl,{style:{marginBottom:"1.5rem"},children:w.jsx(u9,{})}),w.jsx(Vo,{children:"Enter verification code"}),w.jsxs(Zg,{children:[w.jsx(GE,{success:e,disabled:r,onChange:s}),w.jsxs(wl,{children:["To continue, please enter the 6-digit code generated from your"," ",w.jsx("strong",{children:"authenticator app"})]}),a&&w.jsx(LN,{pendingTransaction:a})]}),i&&w.jsx(ON,{theme:o?.appearance.palette.colorScheme,onClick:i,children:"Choose another method"}),w.jsx(Eu,{onClick:n,children:"Cancel"}),w.jsx(Di,{})]});default:return null}},Dct=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","missing_or_invalid_mfa","mfa_verification_max_attempts_reached","mfa_timeout","twilio_verification_failed"];class wi extends Error{constructor(e,r){super(r),this.type=e}}function Qw(t){let e=t.type;return typeof e=="string"&&Dct.includes(e)}function f5(t){return Qw(t)&&t.type==="wallet_not_on_device"}function rD(t){return!!Qw(t)&&t.type==="mfa_timeout"}function nD(t){return!!Qw(t)&&t.type==="missing_or_invalid_mfa"}function Bct(t){return!!Qw(t)&&t.type==="mfa_verification_max_attempts_reached"}function Efe(t){return!(!Qw(t)||!t.message.includes("code 429"))}function _fe(t){return!!(function(e){let r=e.type;return typeof r=="string"&&r==="client_error"})(t)&&t.message==="MFA canceled"}const YE=t=>Bct(t)?{isBlocking:!0,error:Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds.")}:nD(t)?{isBlocking:!1,error:Error("The code you entered is not valid")}:rD(t)?{isBlocking:!0,error:Error("You have exceeded the time limit for code entry. Please try again in 30 seconds.")}:(console.error(t),{isBlocking:!1,error:Error("Something went wrong.")}),Uct={component:()=>{let{user:t}=Kr(),{data:e}=jt(),[r,n]=B.useState(t?.mfaMethods[0]),[i,s]=B.useState(!1),[o,a]=B.useState(),[l,u]=B.useState();if(B.useEffect((()=>{n(t?.mfaMethods[0])}),[t?.mfaMethods]),!e?.mfaVerify)throw Error("Missing modal data for MFA verification screen.");let{onFailure:c,onSuccess:h,generateOptions:m,verifyTotpCode:y,verifyPasskey:b,verifySmsCode:E,sendSmsCode:A}=e.mfaVerify,M=async L=>{if(L!=="passkey")try{n(L),L==="sms"&&(n(L),await A()),L==="totp"&&n(L)}catch(W){console.error(W)}else try{n(L);let W=await m();if(!W)throw Error("something went wrong");a(W),await b(W),s(!0),u(void 0),h()}catch(W){u(YE(W))}},O=async L=>{u(void 0);try{if(!L||!r)return;if(r==="passkey"){if(!o)throw Error("Missing passkey challenge");await b(o)}else r==="sms"?await E(L):r==="totp"&&await y(L);u(void 0),s(!0),h()}catch(W){throw YE(W).error}},P=()=>{l||!i?c(l?.error??Error("Canceled MFA verification.")):h()},z=B.useRef(!1);return B.useEffect((()=>{!z.current&&r&&(z.current=!0,M(r).finally((()=>{z.current=!1})))}),[open]),t?r==="passkey"?w.jsx(bfe,{account:t.linkedAccounts.filter((L=>L.type==="passkey"&&L.enrolledInMfa)).sort(((L,W)=>W.firstVerifiedAt.valueOf()-L.firstVerifiedAt.valueOf()))[0],submitSuccess:i,hasBlockingError:l?.isBlocking??!1,error:l?.error,onClose:P,onBack:()=>{n(void 0),u(void 0)},handleSubmit:()=>O(o).catch(u)}):r==="sms"||r==="totp"?w.jsx(xfe,{selectedMethod:r,submitSuccess:i,hasBlockingError:l?.isBlocking??!1,handleSubmitCode:O,onClose:P,onBack:t.mfaMethods.length>1?()=>n(void 0):void 0}):w.jsx(rfe,{user:t,onSelect:M,handleClose:P}):null}};function Afe(){let{promptMfa:t,init:e,submit:r,cancel:n,mfaMethods:i}=B.useContext(dm);return{promptMfa:t,init:e,submit:r,cancel:n,mfaMethods:i}}const lQ=({onClose:t})=>{let{user:e}=Kr(),[r,n]=B.useState(e?.mfaMethods[0]??null),{init:i,cancel:s,submit:o}=Afe(),[a,l]=B.useState(!1),[u,c]=B.useState(null),[h,m]=B.useState();B.useEffect((()=>{n(e?.mfaMethods[0]??null)}),[e?.mfaMethods]);let y=B.useRef(!1);async function b(M){m(void 0);try{if(!M||!r)return;await o(r,M),l(!0),m(void 0),t()}catch(O){throw YE(O).error}}async function E(M){if(M!=="passkey")try{n(M),await i(M)}catch(O){console.error(O)}else try{n(M);let O=await i(M);if(!O)throw Error("something went wrong");c(O),await o(M,O),l(!0),m(void 0),t()}catch(O){m(YE(O))}}B.useEffect((()=>{!y.current&&r&&(y.current=!0,E(r).finally((()=>{y.current=!1})))}),[]);let A=()=>{n(null),m(void 0),s(),t()};return e?r==="passkey"?w.jsx(bfe,{account:e.linkedAccounts.filter((M=>M.type==="passkey"&&M.enrolledInMfa)).sort(((M,O)=>O.firstVerifiedAt.valueOf()-M.firstVerifiedAt.valueOf()))[0],submitSuccess:a,hasBlockingError:h?.isBlocking??!1,error:h?.error,onClose:A,onBack:()=>{n(null),m(void 0)},handleSubmit:()=>b(u).catch(m)}):r?w.jsx(xfe,{submitSuccess:a,hasBlockingError:h?.isBlocking??!1,handleSubmitCode:b,selectedMethod:r,onClose:A,onBack:e.mfaMethods.length>1?()=>n(null):void 0}):w.jsx(rfe,{user:e,onSelect:E,handleClose:A}):null},ZE=Nw((()=>({inProgressMfaFlow:void 0}))),Fct=gTe([":root{","};"],(t=>zct(t.palette))),zct=t=>us(["",""],Object.entries((function(e){return{"--privy-color-background":e.background,"--privy-color-background-2":e.background2,"--privy-color-background-3":e.background3,"--privy-color-foreground":e.foreground,"--privy-color-foreground-2":e.foreground2,"--privy-color-foreground-3":e.foreground3,"--privy-color-foreground-4":e.foreground4,"--privy-color-foreground-accent":e.foregroundAccent,"--privy-color-accent":e.accent,"--privy-color-accent-light":e.accentLight,"--privy-color-accent-hover":e.accentHover,"--privy-color-accent-dark":e.accentDark,"--privy-color-accent-darkest":e.accentDarkest,"--privy-color-success":e.success,"--privy-color-success-dark":e.successDark,"--privy-color-success-light":e.successLight,"--privy-color-success-bg":e.successBg,"--privy-color-error":e.error,"--privy-color-error-light":e.errorLight,"--privy-color-error-bg":e.errorBg,"--privy-color-error-bg-hover":e.errorBgHover,"--privy-color-warn":e.warn,"--privy-color-warn-light":e.warnLight,"--privy-color-warn-bg":e.warnBg,"--privy-color-warning-dark":e.warningDark,"--privy-color-error-dark":e.errorDark,"--privy-color-info-bg":e.infoBg,"--privy-color-info-bg-hover":e.infoBgHover,"--privy-color-border-default":e.borderDefault,"--privy-color-border-hover":e.borderHover,"--privy-color-border-focus":e.borderFocus,"--privy-color-border-error":e.borderError,"--privy-color-border-success":e.borderSuccess,"--privy-color-border-warning":e.borderWarning,"--privy-color-border-info":e.borderInfo,"--privy-color-border-interactive":e.borderInteractive,"--privy-color-border-interactive-hover":e.borderInteractiveHover,"--privy-color-background-hover":e.backgroundHover,"--privy-color-background-clicked":e.backgroundClicked,"--privy-color-background-disabled":e.backgroundDisabled,"--privy-color-background-interactive":e.backgroundInteractive,"--privy-color-background-interactive-hover":e.backgroundInteractiveHover,"--privy-color-background-interactive-clicked":e.backgroundInteractiveClicked,"--privy-color-background-interactive-disabled":e.backgroundInteractiveDisabled,"--privy-color-foreground-hover":e.foregroundHover,"--privy-color-foreground-clicked":e.foregroundClicked,"--privy-color-foreground-disabled":e.foregroundDisabled,"--privy-color-foreground-interactive":e.foregroundInteractive,"--privy-color-foreground-interactive-hover":e.foregroundInteractiveHover,"--privy-link-navigation-color":e.linkNavigationColor,"--privy-link-navigation-decoration":e.linkNavigationDecoration,"--privy-accent-has-good-contrast":e.accentHasGoodContrast,"--privy-color-icon-default":e.iconDefault,"--privy-color-icon-muted":e.iconMuted,"--privy-color-icon-subtle":e.iconSubtle,"--privy-color-icon-inverse":e.iconInverse,"--privy-color-icon-success":e.iconSuccess,"--privy-color-icon-warning":e.iconWarning,"--privy-color-icon-error":e.iconError,"--privy-color-icon-interactive":e.iconInteractive,"--privy-color-icon-default-hover":e.iconDefaultHover,"--privy-color-icon-muted-hover":e.iconMutedHover,"--privy-color-icon-subtle-hover":e.iconSubtleHover,"--privy-color-icon-default-clicked":e.iconDefaultClicked,"--privy-color-icon-muted-clicked":e.iconMutedClicked,"--privy-color-icon-subtle-clicked":e.iconSubtleClicked,"--privy-color-icon-default-disabled":e.iconDefaultDisabled,"--privy-color-icon-muted-disabled":e.iconMutedDisabled,"--privy-color-icon-subtle-disabled":e.iconSubtleDisabled,"--privy-color-icon-error-hover":e.iconErrorHover,"--privy-color-icon-interactive-hover":e.iconInteractiveHover,"--privy-color-icon-error-clicked":e.iconErrorClicked,"--privy-color-icon-interactive-clicked":e.iconInteractiveClicked,"--privy-color-icon-muted-disabled-alt":e.iconMutedDisabledAlt,"--privy-color-icon-subtle-disabled-alt":e.iconSubtleDisabledAlt,"--privy-border-radius-xs":"6px","--privy-border-radius-sm":"8px","--privy-border-radius-md":"12px","--privy-border-radius-mdlg":"16px","--privy-border-radius-lg":"24px","--privy-border-radius-full":"9999px","--privy-height-modal-full":"620px","--privy-height-modal-compact":"480px"}})(t)).map((([e,r])=>`${e}: ${r};`)).join(`
`)),cQ=he.div.withConfig({displayName:"StylesWrapper",componentId:"sc-188229e4-0"})([""," color:var(--privy-color-foreground-2);h3{font-size:16px;line-height:24px;font-weight:500;color:var(--privy-color-foreground-2);}h4{font-size:14px;line-height:20px;font-weight:500;color:var(--privy-color-foreground);}p{font-size:13px;line-height:20px;color:var(--privy-color-foreground-2);}button:focus,input:focus,optgroup:focus,select:focus,textarea:focus{outline:none;border-color:var(--privy-color-accent-light);box-shadow:0 0 0 3px var(--privy-color-border-focus);}.mobile-only{@media (min-width:441px){display:none;}}@keyframes fadein{0%{opacity:0;}100%{opacity:1;}}"],`
  *,
  ::before,
  ::after {
    box-sizing: border-box;
    border-width: 0;
    border-style: solid;
  }

  line-height: 1.15;
  -webkit-text-size-adjust: 100%;
  -moz-tab-size: 4;
  tab-size: 4;
  font-feature-settings: normal;

  margin: 0;
  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';

  hr {
    height: 0;
    color: inherit;
    border-top-width: 1px;
  }

  abbr:where([title]) {
    text-decoration: underline dotted;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-size: inherit;
    font-weight: inherit;
    font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';
    display: inline;
  }

  a {
    color: inherit;
    text-decoration: inherit;
  }

  b,
  strong {
    font-weight: bolder;
  }

  code,
  kbd,
  samp,
  pre {
    font-family: ui-monospace, SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace;
    font-size: 1em;
  }

  small {
    font-size: 80%;
  }

  sub,
  sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
  }

  sub {
    bottom: -0.25em;
  }

  sup {
    top: -0.5em;
  }

  table {
    text-indent: 0;
    border-color: inherit;
    border-collapse: collapse;
  }

  button,
  input,
  optgroup,
  select,
  textarea {
    font-family: inherit;
    font-size: 100%;
    font-weight: inherit;
    line-height: inherit;
    color: inherit;
    margin: 0;
    padding: 0;
  }

  button,
  select {
    text-transform: none;
  }

  button,
  [type='button'],
  [type='reset'],
  [type='submit'] {
    -webkit-appearance: button;
    background-color: transparent;
    background-image: none;
  }

  ::-moz-focus-inner {
    border-style: none;
    padding: 0;
  }

  :-moz-focusring {
    outline: 1px dotted ButtonText;
  }

  :-moz-ui-invalid {
    box-shadow: none;
  }

  legend {
    padding: 0;
  }

  progress {
    vertical-align: baseline;
  }

  ::-webkit-inner-spin-button,
  ::-webkit-outer-spin-button {
    height: auto;
  }

  [type='search'] {
    -webkit-appearance: textfield;
    outline-offset: -2px;
  }

  ::-webkit-search-decoration {
    -webkit-appearance: none;
  }

  ::-webkit-file-upload-button {
    -webkit-appearance: button;
    font: inherit;
  }

  summary {
    display: list-item;
  }

  blockquote,
  dl,
  dd,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  hr,
  figure,
  p,
  pre {
    margin: 0;
  }

  fieldset {
    margin: 0;
    padding: 0;
  }

  legend {
    padding: 0;
  }

  ol,
  ul,
  menu {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  textarea {
    resize: vertical;
  }

  input::placeholder,
  textarea::placeholder {
    opacity: 1;
    color: #9ca3af;
  }

  button,
  [role='button'] {
    cursor: pointer;
  }

  :disabled {
    cursor: default;
  }

  img,
  svg,
  video,
  canvas,
  audio,
  iframe,
  embed,
  object {
    display: block;
  }

  img,
  video {
    max-width: 100%;
    height: auto;
  }

  [hidden] {
    display: none;
  }
`),Wct=({children:t,open:e,onClick:r,...n})=>w.jsx(Hoe,{show:e,as:Re.Fragment,children:w.jsxs(_Re,{onClose:r,...n,as:Hct,children:[w.jsx(G3,{as:Re.Fragment,enterFrom:"entering",leaveTo:"leaving",children:w.jsx(qct,{id:"privy-dialog-backdrop","aria-hidden":"true"})}),w.jsx(Vct,{children:w.jsx(G3,{as:Re.Fragment,enterFrom:"entering",leaveTo:"leaving",children:w.jsx(Voe,{as:Kct,children:t})})})]})});let qct=he.div.withConfig({displayName:"Backdrop",componentId:"sc-3cfde0b5-0"})(["position:fixed;inset:0;transition:backdrop-filter 100ms ease;backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px);&.entering,&.leaving{backdrop-filter:unset;-webkit-backdrop-filter:unset;}"]),Hct=he.div.withConfig({displayName:"DialogWrapper",componentId:"sc-3cfde0b5-1"})(["position:relative;z-index:999999;"]),Vct=he.div.withConfig({displayName:"DialogContainer",componentId:"sc-3cfde0b5-2"})(["position:fixed;inset:0;display:flex;align-items:center;justify-content:center;width:100vw;min-height:100vh;"]);const Kct=he.div.withConfig({displayName:"Panel",componentId:"sc-3cfde0b5-3"})(["padding:0;background:transparent;border:none;width:100%;pointer-events:auto;outline:none;display:block;@media (max-width:440px){opacity:1;transform:translate3d(0,0,0);transition:transform 200ms ease-in;position:fixed;bottom:0;&.entering,&.leaving{opacity:0;transform:translate3d(0,100%,0);transition:transform 150ms ease-in 0ms,opacity 0ms ease 150ms;}}@media (min-width:441px){opacity:1;transition:opacity 100ms ease-in;&.entering,&.leaving{opacity:0;transition-delay:5ms;}margin:auto;width:360px;box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]),Gct=he.div.withConfig({displayName:"CenterItem",componentId:"sc-3cfde0b5-4"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;"]);let Sfe=()=>{let{ready:t,isModalOpen:e}=Kr(),{headless:r}=fn(),{currentScreen:n}=jt(),{status:i,execute:s,reset:o,enabled:a}=No(),l=ZE((h=>h.inProgressMfaFlow)),u=()=>ZE.setState({inProgressMfaFlow:void 0}),c=e&&n&&n.isCaptchaRequired&&!r&&i==="ready";return B.useEffect((()=>{c&&s()}),[c]),B.useEffect((()=>{!e&&a&&o()}),[e,a]),n&&!t&&n.isShownBeforeReady?w.jsxs(w.Fragment,{children:[w.jsx(Or,{}),w.jsx(Tu,{}),w.jsx(Gct,{children:w.jsx(gc,{})}),w.jsx(Nl,{}),w.jsx(Di,{})]}):n||l!=="txn"?n?w.jsxs(w.Fragment,{children:[w.jsx(dw,{$if:!!l,children:w.jsx(n.component,{})}),l==="txn"&&w.jsx(lQ,{onClose:u}),l==="auth"&&w.jsx(Uct.component,{})]}):null:w.jsx(lQ,{onClose:u})},Yct=()=>{let t=B.useRef(null);return w.jsx(Qct,{style:{height:_lt(t)},id:"privy-modal-content",children:w.jsx("div",{ref:t,children:w.jsx(Sfe,{})})})};const Zct=({open:t})=>{let e=fn(),{gracefulClosePrivyModal:r}=(()=>{let{closePrivyModal:i}=$t(),{onUserCloseViaDialogOrKeybindRef:s}=jt();return{gracefulClosePrivyModal:B.useCallback((()=>{if(!s?.current)return i({shouldCallAuthOnSuccess:!1});s.current()}),[i])}})(),n=ZE((i=>i.inProgressMfaFlow));return Slt({onMfaRequired:()=>{e.mfa.noPromptOnMfaRequired||ZE.setState({inProgressMfaFlow:"txn"})}}),e.render.standalone?w.jsx(cQ,{children:w.jsx(Cfe,{id:"privy-modal-content",children:w.jsx(Sfe,{})})}):w.jsx(Wct,{open:!(!t&&!n),id:"privy-dialog","aria-label":"log in or sign up","aria-labelledby":"privy-dialog-title",onClick:()=>r(),children:w.jsx(cQ,{children:w.jsx(Yct,{})})})};let Cfe=he.div.withConfig({displayName:"ContentWrapper",componentId:"sc-b220e1ee-0"})(["display:flex;flex-direction:column;text-align:center;font-size:14px;line-height:20px;width:100%;background:var(--privy-color-background);padding:0 16px;"]),Qct=he(Cfe).withConfig({displayName:"BaseModal",componentId:"sc-b220e1ee-1"})(["transition:height 150ms ease-out;overflow-x:hidden;overflow-y:auto;scrollbar-width:none;max-height:calc(100svh - 32px);border-radius:var(--privy-border-radius-lg) var(--privy-border-radius-lg) 0 0;box-shadow:0px 0px 36px rgba(55,65,81,0.15);@media (min-width:441px){box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]);function Jct(t){let e=B.useRef(null),r=B.useRef();return B.useEffect((()=>{r.current?.remove(),r.current=(function({botUsername:n,scriptHost:i}){let s=document.createElement("script"),{origin:o}=new URL(i);return s.async=!0,s.src=`${o}/js/telegram-login.js`,s.setAttribute("data-telegram-login",n),s.setAttribute("data-request-access","write"),s.setAttribute("data-lang","en"),s})(t),e.current?.after(r.current)}),[t]),w.jsx("div",{ref:e,hidden:!0})}const Vr=({address:t,showCopyIcon:e,url:r,className:n})=>{let[i,s]=B.useState(!1);function o(a){a.stopPropagation(),navigator.clipboard.writeText(t).then((()=>s(!0))).catch(console.error)}return B.useEffect((()=>{if(i){let a=setTimeout((()=>s(!1)),3e3);return()=>clearTimeout(a)}}),[i]),w.jsxs(Xct,r?{children:[w.jsx(tut,{title:t,className:n,href:`${r}/address/${t}`,target:"_blank",children:Zo(t)}),e&&w.jsx(Eu,{onClick:o,size:"sm",style:{gap:"0.375rem"},children:w.jsxs(w.Fragment,i?{children:["Copied",w.jsx(Y3,{size:16})]}:{children:["Copy",w.jsx(pE,{size:16})]})})]}:{children:[w.jsx(eut,{title:t,className:n,children:Zo(t)}),e&&w.jsx(Eu,{onClick:o,size:"sm",style:{gap:"0.375rem",fontSize:"14px"},children:w.jsxs(w.Fragment,i?{children:["Copied",w.jsx(Y3,{size:14})]}:{children:["Copy",w.jsx(pE,{size:14})]})})]})};let Xct=he.span.withConfig({displayName:"AddressContainer",componentId:"sc-3a987cc8-0"})(["display:inline-flex;align-items:center;gap:0.5rem;"]),eut=he.span.withConfig({displayName:"AddressText",componentId:"sc-3a987cc8-1"})(["font-size:14px;font-weight:500;color:var(--privy-color-foreground);"]),tut=he.a.withConfig({displayName:"AddressLink",componentId:"sc-3a987cc8-2"})(["font-size:14px;color:var(--privy-color-foreground);text-decoration:none;&:hover{text-decoration:underline;}"]);const rut=()=>{let{solanaWallets:t}=$t(),{ready:e,wallets:r}=Ld();return B.useEffect((()=>{if(e){let n=[...r,...t].map((i=>({address:i.address,connectorType:i.connectorType,walletClientType:i.walletClientType,connectedAt:i.connectedAt,id:i.meta.id})));or.put(ghe,n)}}),[e,r,t]),null};async function Vl(t,e,r,n,i,s=!1){let o=s,a=async u=>{if(o&&e&&e.length>0){u===(s?0:1)?i("configureMfa","onMfaRequired",{mfaMethods:e}):n.current?.reject(new wi("missing_or_invalid_mfa","MFA verification failed, retry."));let c=await new Promise(((h,m)=>{r.current={resolve:h,reject:m},setTimeout((()=>{let y=new wi("mfa_timeout","Timed out waiting for MFA code");n.current?.reject(y),m(y)}),3e5)}));return await t(c)}return await t()},l=null;for(let u=0;u<4;u++)try{l=await a(u),n.current?.resolve(void 0);break}catch(c){if(c.type!=="missing_or_invalid_mfa")throw n.current?.resolve(void 0),c;o=!0}if(l===null){let u=new wi("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw n.current?.reject(u),u}return l}var uQ;let nut=(uQ=0,()=>"id-"+uQ++);function ns(t){return t.error!==void 0}let Wi=new class{enqueue(t,e){this.callbacks[t]=e}dequeue(t,e){let r=this.callbacks[e];if(!r)throw Error(`cannot dequeue ${t} event: no event found for id ${e}`);switch(delete this.callbacks[e],t){case"privy:iframe:ready":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:import":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":case"privy:auth:unlink-passkey":case"privy:farcaster:init-signer":case"privy:farcaster:sign":case"privy:solana-wallet:create":case"privy:delegated-actions:consent":return r;default:throw Error(`invalid wallet event type ${t}`)}}constructor(){this.callbacks={}}},uT=new Map,iut=(t,e)=>typeof e=="bigint"?e.toString():e;function is(t,e,r,n){let i=r.contentWindow;if(!i)throw Error("iframe not initialized");let s=((a,l)=>`${a}${JSON.stringify(l,iut)}`)(t,e);if(t==="privy:wallet:create"){let a=uT.get(s);if(a)return a}let o=new Promise(((a,l)=>{let u=nut();Wi.enqueue(u,{resolve:a,reject:l}),i.postMessage({id:u,event:t,data:e},n)})).finally((()=>{uT.delete(s)}));return uT.set(s,o),o}function sut(t){let e=HL(),r=B.useRef(null),n=B.useRef(t.mfaMethods),i=rf(),[s,o]=B.useState(!1);return B.useEffect((()=>{n.current=t.mfaMethods}),[t.mfaMethods]),B.useEffect((()=>{if(!s)return;let a=r.current;if(!a)return;function l(h){var m;h&&h.origin===t.origin&&typeof(m=h.data).event=="string"&&/^privy:.+/.test(m.event)&&(function(y){switch(y.event){case"privy:iframe:ready":let b=Wi.dequeue(y.event,y.id);return ns(y)?b.reject(new wi(y.error.type,y.error.message)):b.resolve(y.data);case"privy:user-signer:sign":{let P=Wi.dequeue(y.event,y.id);return ns(y)?P.reject(new wi(y.error.type,y.error.message)):P.resolve(y.data)}case"privy:wallets:add":{let P=Wi.dequeue(y.event,y.id);return ns(y)?P.reject(new wi(y.error.type,y.error.message)):P.resolve(y.data)}case"privy:wallets:set-recovery":{let P=Wi.dequeue(y.event,y.id);return ns(y)?P.reject(new wi(y.error.type,y.error.message)):P.resolve(y.data)}case"privy:wallets:connect":{let P=Wi.dequeue(y.event,y.id);return ns(y)?P.reject(new wi(y.error.type,y.error.message)):P.resolve(y.data)}case"privy:wallets:recover":{let P=Wi.dequeue(y.event,y.id);return ns(y)?P.reject(new wi(y.error.type,y.error.message)):P.resolve(y.data)}case"privy:wallets:rpc":{let P=Wi.dequeue(y.event,y.id);return ns(y)?P.reject(new wi(y.error.type,y.error.message)):P.resolve(y.data)}case"privy:wallet:create":let E=Wi.dequeue(y.event,y.id);return ns(y)?E.reject(new wi(y.error.type,y.error.message)):E.resolve(y.data);case"privy:wallets:import":let A=Wi.dequeue(y.event,y.id);return ns(y)?A.reject(new wi(y.error.type,y.error.message)):A.resolve(y.data);case"privy:mfa:verify":let M=Wi.dequeue(y.event,y.id);return ns(y)?M.reject(new wi(y.error.type,y.error.message)):M.resolve(y.data);case"privy:mfa:init-enrollment":{let P=Wi.dequeue(y.event,y.id);return ns(y)?P.reject(new wi(y.error.type,y.error.message)):P.resolve(y.data)}case"privy:mfa:submit-enrollment":{let P=Wi.dequeue(y.event,y.id);return ns(y)?P.reject(new wi(y.error.type,y.error.message)):P.resolve(y.data)}case"privy:mfa:unenroll":{let P=Wi.dequeue(y.event,y.id);return ns(y)?P.reject(new wi(y.error.type,y.error.message)):P.resolve(y.data)}case"privy:mfa:clear":{let P=Wi.dequeue(y.event,y.id);return ns(y)?P.reject(new wi(y.error.type,y.error.message)):P.resolve(y.data)}case"privy:auth:unlink-passkey":{let P=Wi.dequeue(y.event,y.id);return ns(y)?P.reject(new wi(y.error.type,y.error.message)):P.resolve(y.data)}case"privy:solana-wallet:create":let O=Wi.dequeue(y.event,y.id);return ns(y)?O.reject(new wi(y.error.type,y.error.message)):O.resolve(y.data);case"privy:farcaster:init-signer":{let P=Wi.dequeue(y.event,y.id);return ns(y)?P.reject(new wi(y.error.type,y.error.message)):P.resolve(y.data)}case"privy:farcaster:sign":{let P=Wi.dequeue(y.event,y.id);return ns(y)?P.reject(new wi(y.error.type,y.error.message)):P.resolve(y.data)}case"privy:delegated-actions:consent":{let P=Wi.dequeue(y.event,y.id);return ns(y)?P.reject(new wi(y.error.type,y.error.message)):P.resolve(y.data)}default:console.warn("Unsupported wallet proxy method:",y)}})(h.data)}let u={signWithUserSigner:h=>Vl((m=>is("privy:user-signer:sign",{...h,...m},a,t.origin)),n.current,t.mfaPromise,t.mfaSubmitPromise,i),addWallet:h=>Vl((m=>is("privy:wallets:add",{...h,...m},a,t.origin)),n.current,t.mfaPromise,t.mfaSubmitPromise,i),setRecovery:h=>Vl((m=>is("privy:wallets:set-recovery",{...h,...m},a,t.origin)),n.current,t.mfaPromise,t.mfaSubmitPromise,i),connect:h=>Vl((m=>is("privy:wallets:connect",{...h,...m},a,t.origin)),n.current,t.mfaPromise,t.mfaSubmitPromise,i),recover:h=>Vl((m=>is("privy:wallets:recover",{...h,...m},a,t.origin)),n.current,t.mfaPromise,t.mfaSubmitPromise,i,!h.recoveryAccessToken&&!h.recoveryPassword&&!h.recoverySecretOverride),rpc:h=>Vl((m=>is("privy:wallets:rpc",{...h,...m},a,t.origin)),n.current,t.mfaPromise,t.mfaSubmitPromise,i),create:h=>is("privy:wallet:create",h,a,t.origin),importWallet:h=>is("privy:wallets:import",h,a,t.origin),createSolana:h=>Vl((m=>is("privy:solana-wallet:create",{...h,...m},a,t.origin)),n.current,t.mfaPromise,t.mfaSubmitPromise,i),createDelegatedAction:h=>is("privy:delegated-actions:consent",h,a,t.origin),verifyMfa:h=>Vl((m=>is("privy:mfa:verify",{...h,...m},a,t.origin)),n.current,t.mfaPromise,t.mfaSubmitPromise,i,!0),initEnrollMfa:h=>Vl((m=>is("privy:mfa:init-enrollment",{...h,...m},a,t.origin)),n.current,t.mfaPromise,t.mfaSubmitPromise,i),submitEnrollMfa:h=>Vl((m=>is("privy:mfa:submit-enrollment",{...h,...m},a,t.origin)),n.current,t.mfaPromise,t.mfaSubmitPromise,i),unenrollMfa:h=>Vl((m=>is("privy:mfa:unenroll",{...h,...m},a,t.origin)),n.current,t.mfaPromise,t.mfaSubmitPromise,i),clearMfa:h=>is("privy:mfa:clear",h,a,t.origin),unlinkPasskeyAccount:h=>Vl((m=>is("privy:auth:unlink-passkey",{...h,...m},a,t.origin)),n.current,t.mfaPromise,t.mfaSubmitPromise,i),initFarcasterSigner:h=>is("privy:farcaster:init-signer",h,a,t.origin),signFarcasterMessage:h=>is("privy:farcaster:sign",h,a,t.origin)};window.addEventListener("message",l);let c=new AbortController;return IN((()=>is("privy:iframe:ready",{},a,t.origin)),{abortSignal:c.signal}).then((()=>t.onLoad(u)),((...h)=>{console.warn("Privy iframe failed to load: ",...h),t.onLoadFailed()})),()=>{window.removeEventListener("message",l),c.abort()}}),[s]),e?w.jsx("iframe",{ref:r,width:"0",height:"0",style:{display:"none",height:"0px",width:"0px"},onLoad:()=>o(!0),src:Nhe(t.origin,`/apps/${t.appId}/embedded-wallets`,{caid:t.clientAnalyticsId,client_id:t.appClientId})}):null}function hw(t){return["ethereum","solana"].includes(t.chainType)}const out=({address:t,user:e})=>{let r=e.linkedAccounts.find((n=>n.type==="wallet"&&n.walletClientType==="privy"&&n.address===t));if(!r)throw new be("Address to delegate is not associated with current user.");if(!hw(r))throw new be(`useDelegatedActions is not supported for ${r.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:r.address,chainType:r.chainType,walletIndex:r.walletIndex??0}},aut=({address:t,user:e})=>{let r=e.linkedAccounts.find((i=>i.type==="wallet"&&i.walletClientType==="privy"&&i.address===t));if(!r)throw new be("Address to delegate is not associated with current user.");let n=r.imported?r:lc(e);if(!n)throw new be("Unable to determine root address for delegated address.");if(!hw(n))throw new be(`useDelegatedActions is not supported for ${n.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:n.address,chainType:n.chainType,imported:n.imported}},dQ=t=>t.linkedAccounts.filter((e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.delegated)),lut=()=>{let t=fn();B.useEffect((()=>{(async e=>{let r=new URL("v3/wallets","https://explorer-api.walletconnect.com");r.searchParams.append("projectId",e);let n=await fetch(r);return n.ok?Object.values((await n.json()).listings).sort((({slug:i},{slug:s})=>i==="rainbow"&&s==="metamask"?1:i==="metamask"||i==="rainbow"?-1:1)):(console.debug(`Failed to fetch WalletConnect listings: ${await n.text().catch((()=>"No response."))}`),[])})(t.walletConnectCloudProjectId).then((e=>rlt({listings:e}))).catch(console.error)}),[t.walletConnectCloudProjectId])};function kfe(t){let e=t.replace("eip155:","");if(e)return parseInt(e);throw Error("Chain ID not compatible with CAIP-2 format.")}const hQ="popup-privy-oauth",fQ="PRIVY_OAUTH_USE_BROADCAST_CHANNEL";class cut{async authenticate(){if(!this.api)throw new be("Auth flow has no API instance");try{return await this.api.post(sie,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw en(e)}}async link(){if(!this.api)throw new be("Auth flow has no API instance");try{return await this.api.post(oie,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw en(e)}}constructor({authorizationCode:e,stateCode:r,codeVerifier:n,provider:i}){this.meta={authorizationCode:e,stateCode:r,codeVerifier:n,provider:i}}}async function Ife({api:t,requesterAppId:e,providerAppId:r}){let n=(await t.get(`/api/v1/apps/${e}/cross-app/connections`)).connections.find((i=>i.provider_app_id===r));if(!n)throw new be("Invalid connected app");return{name:n.provider_app_name,logoUrl:n.provider_app_icon_url||void 0,apiUrl:n.provider_app_custom_api_url,readOnly:n.read_only,customAuthAuthorizeUrl:n.provider_app_custom_auth_authorize_url,customAuthTransactUrl:n.provider_app_custom_auth_transact_url}}const pA=()=>window.open(void 0,void 0,uut({w:440,h:680}));let uut=({w:t,h:e})=>{let r=window.screenLeft!==void 0?window.screenLeft:window.screenX,n=window.screenTop!==void 0?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,s=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;return`toolbar=0,location=0,menubar=0,height=${e},width=${t},popup=1,left=${(i-t)/2/(i/window.screen.availWidth)+r},top=${(s-e)/2/(s/window.screen.availHeight)+n}`};const Ix=async({user:t,address:e,client:r,request:n,requesterAppId:i,reconnect:s})=>{r.createAnalyticsEvent({eventName:"cross_app_request_started",payload:{address:e,method:n.method}});let o=t?.linkedAccounts.find((h=>h.type==="cross_app"&&(h.embeddedWallets.some((m=>m.address===e))||h.smartWallets.some((m=>m.address===e)))));if(!t||!o)throw r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Cannot request a signature with this wallet address",address:e}}),new be("Cannot request a signature with this wallet address");let a=r.getProviderAccessToken(o.providerApp.id),l=await Ife({api:r.api,requesterAppId:i,providerAppId:o.providerApp.id});if(!a){if(l.readOnly)throw console.error("cannot transact against a read-only provider app"),new be("Cannot transact against a read-only provider app");await s({appId:o.providerApp.id,action:"link"})&&(a=r.getProviderAccessToken(o.providerApp.id))}if(!a)throw r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Transactions require a valid token",address:e}}),new be("Transactions require a valid token");let u=pA();if(!u)throw r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Missing token",address:e}}),new be("Failed to initialize signature request");let c=new URL(l.customAuthTransactUrl||`${l.apiUrl}/oauth/transact`);return c.searchParams.set("token",a||""),c.searchParams.set("request",dut(n)),u.location=c.href,new Promise(((h,m)=>{let y=setTimeout((()=>{A(),m(new be("Request timeout")),r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Request timeout",address:e}})}),12e4),b=setInterval((()=>{u.closed&&(A(),m(new be("User rejected request")),r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"User rejected request",address:e}}))}),300),E=M=>{M.data&&(M.data.token?.action==="set"&&M.data.token?.value!==void 0?r.storeProviderAccessToken(o.providerApp.id,M.data.token.value):M.data.token?.action==="clear"&&r.storeProviderAccessToken(o.providerApp.id,null),M.data.type==="PRIVY_CROSS_APP_ACTION_RESPONSE"&&M.data.result&&(A(),h(M.data.result),r.createAnalyticsEvent({eventName:"cross_app_request_success",payload:{address:e,method:n.method}})),M.data.type==="PRIVY_CROSS_APP_ACTION_ERROR"&&M.data.error&&(A(),m(M.data.error),r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:M.data.error,address:e}})))};window.addEventListener("message",E);let A=()=>{u.close(),clearInterval(b),clearTimeout(y),window.removeEventListener("message",E)}}))};let dut=t=>JSON.stringify({content:{request:{request:BN(t,_s)}},timestamp:Date.now(),callbackUrl:window.origin});const BN=(t,e)=>typeof t=="bigint"?e(t):Array.isArray(t)?t.map((r=>BN(r,e))):t&&typeof t=="object"?Object.fromEntries(Object.entries(t).map((([r,n])=>[r,BN(n,e)]))):t,hut=({title:t,description:e,children:r,...n})=>w.jsx(Tfe,{...n,children:w.jsxs(w.Fragment,{children:[w.jsx("h3",{children:t}),typeof e=="string"?w.jsx("p",{children:e}):e,r]})}),Tl=({title:t,description:e,icon:r,children:n,...i})=>w.jsxs(fut,{...i,children:[r||null,w.jsx("h3",{children:t}),e&&typeof e=="string"?w.jsx("p",{children:e}):e,n]});let Tfe=he.div.withConfig({displayName:"StyledSection",componentId:"sc-523a75d6-1"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;width:100%;margin-bottom:24px;&& h3{font-size:17px;color:var(--privy-color-foreground);}&& p{color:var(--privy-color-foreground-2);font-size:14px;}"]),fut=he(Tfe).withConfig({displayName:"CenteredStyledSection",componentId:"sc-523a75d6-2"})(["align-items:center;text-align:center;gap:16px;h3{margin-bottom:24px;}"]);const $fe=t=>w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 21 20",...t,children:[w.jsx("path",{fill:"url(#icloud-gradient)",d:"M12.34 7.315a4.26 4.26 0 0 0-3.707 2.18 2.336 2.336 0 0 0-1.02-.236 2.336 2.336 0 0 0-2.3 1.963 3.217 3.217 0 0 0 1.244 6.181c.135-.001.27-.01.404-.029h8.943c.047.004.094.006.141.007.045-.001.09-.004.135-.007h.214v-.016a2.99 2.99 0 0 0 1.887-.988c.487-.55.757-1.261.757-1.998v-.006a3.017 3.017 0 0 0-.69-1.915 2.992 2.992 0 0 0-1.748-1.034 4.26 4.26 0 0 0-4.26-4.102Z"}),w.jsx("defs",{children:w.jsxs("linearGradient",{id:"icloud-gradient",x1:19.086,x2:3.333,y1:14.38,y2:14.163,gradientUnits:"userSpaceOnUse",children:[w.jsx("stop",{stopColor:"#3E82F4"}),w.jsx("stop",{offset:1,stopColor:"#93DCF7"})]})})]}),Mfe=({style:t,...e})=>w.jsxs("svg",{width:"16",height:"14",style:t,viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[w.jsxs("g",{clipPath:"url(#clip0_2115_829)",children:[w.jsx("path",{d:"M2.34709 12.9404L2.3471 12.9404L2.34565 12.938L1.64031 11.7448L1.64004 11.7444L0.651257 10.0677C0.640723 10.0496 0.630746 10.0314 0.621325 10.0129H4.16461L2.39424 13.0139C2.3775 12.9901 2.36178 12.9656 2.34709 12.9404Z",fill:"#0066DA",stroke:"#6366F1"}),w.jsx("path",{d:"M8 4.48713L5.47995 0.215332C5.23253 0.358922 5.02176 0.556358 4.87514 0.80764L0.219931 8.70508C0.076007 8.95094 0.000191627 9.22937 0 9.51277H5.04009L8 4.48713Z",fill:"#00AC47"}),w.jsx("path",{d:"M13.48 13.7847C13.7274 13.6411 13.9382 13.4437 14.0848 13.1924L14.3781 12.6988L15.7801 10.3206C15.9267 10.0693 16.0001 9.79114 16.0001 9.51294H10.9596L12.0321 11.577L13.48 13.7847Z",fill:"#EA4335"}),w.jsx("path",{d:"M8.00003 4.48718L10.5201 0.215385C10.2726 0.0717949 9.98857 0 9.69533 0H6.30472C6.01148 0 5.7274 0.0807692 5.47998 0.215385L8.00003 4.48718Z",fill:"#00832D"}),w.jsx("path",{d:"M10.9599 9.51294H5.04007L2.52002 13.7847C2.76744 13.9283 3.05152 14.0001 3.34476 14.0001H12.6552C12.9484 14.0001 13.2325 13.9194 13.4799 13.7847L10.9599 9.51294Z",fill:"#2684FC"}),w.jsx("path",{d:"M13.4525 4.75636L11.1249 0.80764C10.9782 0.556358 10.7675 0.358922 10.52 0.215332L8 4.48713L10.9599 9.51277H15.9908C15.9908 9.23456 15.9175 8.95636 15.7709 8.70508L13.4525 4.75636Z",fill:"#FFBA00"})]}),w.jsx("defs",{children:w.jsx("clipPath",{id:"clip0_2115_829",children:w.jsx("rect",{width:"16",height:"14",fill:"white"})})})]});async function pQ({url:t,popup:e,provider:r}){return e.location=t,new Promise(((n,i)=>{function s(){e?.close(),window.removeEventListener("message",o)}function o(a){a.data&&(a.data.type==="PRIVY_OAUTH_RESPONSE"&&a.data.stateCode&&a.data.authorizationCode&&(n(a.data),s()),a.origin==="https://cdn.apple-cloudkit.com"&&a.data.ckSession&&(n({type:"PRIVY_OAUTH_RESPONSE",ckWebAuthToken:a.data.ckSession}),s()),a.data.type==="PRIVY_OAUTH_ERROR"&&(i(a.data.error),s()))}window.addEventListener("message",o)}))}async function put({api:t,provider:e,stateCode:r,codeVerifier:n,authorizationCode:i}){if(!i||!r)throw new be("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if(i==="undefined")throw new be("User denied confirmation during OAuth flow");try{return(await t.post(aCe,{authorization_code:i,state_code:r,code_verifier:n,provider:e})).access_token}catch(s){let o=en(s);throw o.privyErrorCode?new be(o.message||"Invalid code during OAuth flow.",void 0,o.privyErrorCode):o.message==="User denied confirmation during OAuth flow"?new be("Invalid code during oauth flow.",void 0,Ee.OAUTH_USER_DENIED):new be("Invalid code during OAuth flow.",void 0,Ee.UNKNOWN_AUTH_ERROR)}}async function gQ({api:t,provider:e}){let r=lA(),n=jL(),i=await LL(r);try{return e==="icloud"?{url:(await t.post(oCe,{client_type:"web"})).url}:{url:(await t.post(sCe,{redirect_to:window.location.href,code_challenge:i,state_code:n})).url,codeVerifier:r,stateCode:n,provider:e}}catch(s){throw en(s)}}const iD=(t,{chainType:e,walletIndex:r}={})=>t?.linkedAccounts.filter((n=>!(n.type!=="wallet"||n.walletClientType!=="privy"||r!==void 0&&n.walletIndex!==r||e!==void 0&&n.chainType!==e)))??[],Pfe=async({user:t,accessToken:e,proxy:r,refreshSessionAndUser:n,privy:i,appConfig:s,recoverEmbeddedWallet:o,setUser:a,walletIndex:l,chainType:u,recoveryMethod:c,recoveryPassword:h,recoveryAccessToken:m})=>{if(l===0)if(s.embeddedWallets.mode==="user-controlled-server-wallets-only")await aM(i,{request:{chain_type:u}});else if(u==="ethereum"){let E=um(t);E&&await o({address:E.address}),await r.create({accessToken:e,solanaAddress:E?.address,recoveryMethod:c,recoveryPassword:h,recoveryAccessToken:m})}else{if(u!=="solana")throw Error("Invalid input to create wallet");{let E=ud(t);E&&await o({address:E.address}),await r.createSolana({accessToken:e,ethereumAddress:E?.address,recoveryMethod:c,recoveryPassword:h,recoveryAccessToken:m})}}else if(s.embeddedWallets.mode==="user-controlled-server-wallets-only")await aM(i,{request:{chain_type:u}});else{let{entropyId:E,entropyIdVerifier:A}=Hs(t);await o(),await r.addWallet({accessToken:e,entropyId:E,entropyIdVerifier:A,chainType:u,hdWalletIndex:l})}let y=await n(),b=iD(y,{chainType:u,walletIndex:l})[0];return a(y),{user:y,account:b}},sD=()=>{let{walletProxy:t,recoverEmbeddedWallet:e,setUser:r,refreshSessionAndUser:n,privy:i,client:s}=$t(),o=fn();return{create:async({walletIndex:a,chainType:l,latestUser:u,recoveryMethod:c,recoveryPassword:h,recoveryAccessToken:m})=>{let y=u;y||(y=await n());let b=await s.getAccessToken();if(!y||!b||!t)throw Error("User must be authenticated before creating a Privy wallet");return await Pfe({appConfig:o,user:y,refreshSessionAndUser:n,privy:i,accessToken:b,proxy:t,recoverEmbeddedWallet:e,setUser:r,walletIndex:a,chainType:l,recoveryMethod:c,recoveryPassword:h,recoveryAccessToken:m})}}},Cm=({size:t})=>w.jsx(gut,{$size:t,children:w.jsxs(mut,{children:[w.jsx(yut,{}),w.jsx(wut,{})]})});let gut=he.div.withConfig({displayName:"LoadingContainer",componentId:"sc-5be8451e-0"})(["--spinner-size:",";display:inline-flex;justify-content:center;align-items:center;@media all and (display-mode:standalone){margin-bottom:30px;}"],(t=>t.$size?t.$size:"96px")),mut=he.div.withConfig({displayName:"SpinnerContainer",componentId:"sc-5be8451e-1"})(["position:relative;height:var(--spinner-size);width:var(--spinner-size);opacity:1;animation:fadein 200ms ease;"]),yut=he.div.withConfig({displayName:"CircleFixed",componentId:"sc-5be8451e-2"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);&&{border:4px solid var(--privy-color-border-default);border-radius:50%;}"]),wut=he.div.withConfig({displayName:"CircleRotate",componentId:"sc-5be8451e-3"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);animation:spin 1200ms linear infinite;&&{border:4px solid;border-color:var(--privy-color-icon-subtle) transparent transparent transparent;border-radius:50%;}@keyframes spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}"]);const vut=he.div.withConfig({displayName:"ScreenRoot",componentId:"sc-cc9e9a32-0"})(["--screen-space:16px;--screen-space-lg:calc(var(--screen-space) * 1.5);position:relative;overflow:hidden;margin:0 calc(-1 * var(--screen-space));height:100%;border-radius:var(--privy-border-radius-lg);"]),but=he.div.withConfig({displayName:"ScreenRootInner",componentId:"sc-cc9e9a32-1"})(["display:flex;flex-direction:column;gap:calc(var(--screen-space) * 1.5);width:100%;background:var(--privy-color-background);padding:0 var(--screen-space-lg) var(--screen-space);height:100%;border-radius:var(--privy-border-radius-lg);"]),xut=he.div.withConfig({displayName:"HeaderContainer",componentId:"sc-cc9e9a32-2"})(["position:relative;display:flex;flex-direction:column;"]),Eut=he(Or).withConfig({displayName:"StyledModalHeader",componentId:"sc-cc9e9a32-3"})(["margin:0 -8px;"]),_ut=he.div.withConfig({displayName:"BodyContainer",componentId:"sc-cc9e9a32-4"})(["flex:1 1 auto;display:flex;flex-direction:column;overflow-y:auto;padding:3px;margin:-3px;&::-webkit-scrollbar{display:none;}scrollbar-gutter:stable both-edges;scrollbar-width:none;-ms-overflow-style:none;"," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;"],(({$colorScheme:t})=>t==="light"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":t==="dark"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0)),Aut=he.div.withConfig({displayName:"FooterContainer",componentId:"sc-cc9e9a32-5"})(["display:flex;flex-direction:column;gap:var(--screen-space-lg);"]);let Sut=he.div.withConfig({displayName:"CenteredHeader",componentId:"sc-cc9e9a32-6"})(["text-align:center;display:flex;flex-direction:column;align-items:center;gap:var(--screen-space);"]),Cut=he.div.withConfig({displayName:"TitleContainer",componentId:"sc-cc9e9a32-7"})(["display:flex;flex-direction:column;gap:4px;"]),kut=he.h3.withConfig({displayName:"HeaderTitle",componentId:"sc-cc9e9a32-8"})(["&&{font-size:20px;line-height:32px;font-weight:500;color:var(--privy-color-foreground);margin:0;}"]),Iut=he.p.withConfig({displayName:"HeaderSubtitle",componentId:"sc-cc9e9a32-9"})(["&&{margin:0;font-size:16px;font-weight:300;line-height:24px;color:var(--privy-color-foreground);}"]),mQ=he.div.withConfig({displayName:"IconContainer",componentId:"sc-cc9e9a32-10"})(["background:",";border-radius:50%;width:64px;height:64px;display:flex;align-items:center;justify-content:center;"],(({$variant:t})=>{switch(t){case"success":return"var(--privy-color-success-bg, #EAFCEF)";case"warning":return"var(--privy-color-warn, #FEF3C7)";case"error":return"var(--privy-color-error-bg, #FEE2E2)";case"loading":case"logo":return"transparent";default:return"var(--privy-color-background-2)"}})),Tut=he.div.withConfig({displayName:"LogoContainer",componentId:"sc-cc9e9a32-11"})(["display:flex;align-items:center;justify-content:center;margin-bottom:var(--screen-space);img,svg{max-height:90px;max-width:180px;}"]),$ut=he.div.withConfig({displayName:"LoadingWithIconContainer",componentId:"sc-cc9e9a32-12"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > :first-child{position:relative;}> div > :last-child{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);}"]);const jn=({children:t,...e})=>w.jsx(vut,{children:w.jsx(but,{...e,children:t})});let Mut=he.div.withConfig({displayName:"ProgressBarContainer",componentId:"sc-cc9e9a32-13"})(["position:absolute;top:0;left:calc(-1 * var(--screen-space-lg));width:calc(100% + calc(var(--screen-space-lg) * 2));height:4px;background:var(--privy-color-background-2);border-top-left-radius:inherit;border-top-right-radius:inherit;overflow:hidden;"]),Put=he(nn).withConfig({displayName:"StyledBlobbyFooter",componentId:"sc-cc9e9a32-14"})(["padding:0;&& a{padding:0;color:var(--privy-color-foreground-3);}"]),Nut=he.div.withConfig({displayName:"ProgressBarFill",componentId:"sc-cc9e9a32-15"})(["height:100%;width:","%;background:var(--privy-color-foreground-3);border-radius:2px;transition:width 300ms ease-in-out;"],(({pct:t})=>t)),Rut=({step:t})=>t?w.jsx(Mut,{children:w.jsx(Nut,{pct:Math.min(100,t.current/t.total*100)})}):null;jn.Header=({title:t,subtitle:e,icon:r,iconVariant:n,iconLoadingStatus:i,showBack:s,onBack:o,showInfo:a,onInfo:l,showClose:u,onClose:c,step:h,...m})=>w.jsxs(xut,{...m,children:[w.jsx(Eut,{backFn:s?o:void 0,infoFn:a?l:void 0,onClose:u?c:void 0,closeable:u}),(r||n||t||e)&&w.jsxs(Sut,{children:[r||n?w.jsx(jn.Icon,{icon:r,variant:n,loadingStatus:i}):null,w.jsxs(Cut,{children:[t&&w.jsx(kut,{children:t}),e&&w.jsx(Iut,{children:e})]})]}),h&&w.jsx(Rut,{step:h})]}),jn.Body=Re.forwardRef((({children:t,...e},r)=>w.jsx(_ut,{ref:r,...e,children:t}))),jn.Body.displayName="Screen.Body",jn.Footer=({children:t,...e})=>w.jsx(Aut,{...e,children:t}),jn.Actions=({children:t,...e})=>w.jsx(Out,{...e,children:t}),jn.HelpText=({children:t,...e})=>w.jsx(jut,{...e,children:t}),jn.Watermark=()=>w.jsx(Put,{}),jn.Icon=({icon:t,variant:e="subtle",loadingStatus:r})=>e==="logo"&&t?w.jsx(Tut,typeof t=="string"?{children:w.jsx("img",{src:t,alt:""})}:Re.isValidElement(t)?{children:t}:{children:Re.createElement(t)}):e==="loading"?t?w.jsx($ut,{children:w.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[w.jsx(nfe,{success:r?.success,fail:r?.fail}),typeof t=="string"?w.jsx("span",{style:{background:`url('${t}') 0 0 / contain`,height:"38px",width:"38px",borderRadius:"6px",margin:"auto",backgroundSize:"contain"}}):Re.isValidElement(t)?Re.cloneElement(t,{style:{width:"38px",height:"38px"}}):Re.createElement(t,{style:{width:"38px",height:"38px"}})]})}):w.jsx(mQ,{$variant:e,children:w.jsx(Cm,{size:"64px"})}):w.jsx(mQ,{$variant:e,children:t&&(typeof t=="string"?w.jsx("img",{src:t,alt:"",style:{width:"32px",height:"32px",borderRadius:"6px"}}):Re.isValidElement(t)?t:Re.createElement(t,{width:32,height:32,stroke:(()=>{switch(e){case"success":return"var(--privy-color-icon-success)";case"warning":return"var(--privy-color-icon-warning)";case"error":return"var(--privy-color-icon-error)";default:return"var(--privy-color-icon-muted)"}})(),strokeWidth:2}))});let Out=he.div.withConfig({displayName:"ActionsContainer",componentId:"sc-cc9e9a32-16"})(["width:100%;display:flex;flex-direction:column;gap:calc(var(--screen-space) / 2);"]),jut=he.p.withConfig({displayName:"HelpTextContainer",componentId:"sc-cc9e9a32-17"})(["&&{margin:0;width:100%;text-align:center;color:var(--privy-color-foreground-3);font-size:14px;line-height:22px;& a{color:var(--privy-color-accent);}}"]);const on=({primaryCta:t,secondaryCta:e,helpText:r,watermark:n=!0,children:i,...s})=>{let o=t||e?w.jsxs(w.Fragment,{children:[t&&(()=>{let{label:a,...l}=t,u=l.variant||"primary";return w.jsx(Qg,{...l,variant:u,style:{width:"100%",...l.style},children:a})})(),e&&(()=>{let{label:a,...l}=e,u=l.variant||"secondary";return w.jsx(Qg,{...l,variant:u,style:{width:"100%",...l.style},children:a})})()]}):null;return w.jsxs(jn,{id:s.id,className:s.className,children:[w.jsx(jn.Header,{...s}),i?w.jsx(jn.Body,{children:i}):null,r||o||n?w.jsxs(jn.Footer,{children:[r?w.jsx(jn.HelpText,{children:r}):null,o?w.jsx(jn.Actions,{children:o}):null,n?w.jsx(jn.Watermark,{}):null]}):null]})},Lut=({title:t,description:e,onClose:r})=>w.jsx(on,{title:t,subtitle:e,icon:W5,iconVariant:"success",watermark:!0,onBack:r}),oD={component:()=>{let{user:t}=Kr(),{closePrivyModal:e,isNewUserThisSession:r,updateWallets:n}=$t(),{app:i,data:s,onUserCloseViaDialogOrKeybindRef:o}=jt(),{onSuccess:a,onFailure:l,callAuthOnSuccessOnClose:u}=s.createWallet,c=()=>{let h=ud(t)??um(t);t&&h?(n(),a({user:t,account:h})):l(Error("Failed to create wallet")),e({shouldCallAuthOnSuccess:u})};return B.useEffect((()=>{let h=setTimeout(c,RL);return()=>clearTimeout(h)}),[]),o.current=c,w.jsx(Lut,{title:r?"Welcome"+(i?.name?` to ${i?.name}`:""):"All set!",description:r?"You've successfully created an account.":"Your account is secured.",onClose:c})}},UN=he.div.withConfig({displayName:"RecoveryContainer",componentId:"sc-12b46968-0"})(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]),Dut=he.div.withConfig({displayName:"RecoveryExplainerContainer",componentId:"sc-12b46968-1"})(["padding-bottom:24px;"]);let yQ={"google-drive":{name:"Google Drive",component:Mfe},icloud:{name:"iCloud",component:$fe}};const Nfe={component:()=>{let{logout:t}=Kr(),{navigate:e,setModalData:r,data:n}=jt(),{closePrivyModal:i,createAnalyticsEvent:s}=$t(),{execute:o}=(()=>{let{client:F,walletProxy:U,refreshSessionAndUser:j}=$t(),{data:_}=jt(),{user:d}=Kr(),g=rf(),{create:x}=sD();return{execute:async({provider:C,action:k,popup:T,shouldCreateEth:R,shouldCreateSol:I})=>{let f,S;if(!F)throw new be("Missing client");function K(D){if(!D&&F)throw F.createAnalyticsEvent({eventName:"recovery_oauth_error",payload:{error:"Unable to open recovery OAuth popup",provider:C}}),new be("Recovery OAuth failed")}switch(C){case"google-drive":{let D,J,{url:ne,codeVerifier:ie,stateCode:ce}=await gQ({api:F.api,provider:C});K(ne);try{let Se=await pQ({url:ne,popup:T,provider:C});if(D=Se.stateCode,J=Se.authorizationCode,D!==ce)throw F.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:C,storedStateCode:ce??"",returnedStateCode:D??""}}),new be("Unexpected auth flow. This may be a phishing attempt.",void 0,Ee.OAUTH_UNEXPECTED)}catch(Se){throw F.createAnalyticsEvent({eventName:"recovery_oauth_error",payload:{error:Se.toString(),provider:C}}),new be("Recovery OAuth failed")}[f,S]=await Promise.all([F.getAccessToken(),put({api:F.api,provider:C,codeVerifier:ie,stateCode:D,authorizationCode:J})]);break}case"icloud":{let{url:D}=await gQ({api:F.api,provider:C});K(D);let{ckWebAuthToken:J}=await pQ({url:D,popup:T,provider:C});S=J,f=await F.getAccessToken()}}if(!U)throw new be("Cannot connect to wallet proxy");if(!f)throw new be("Unable to authorize user");switch(k){case"recover":{let D=_?.recoverWallet?.entropyId,J=_?.recoverWallet?.entropyIdVerifier;if(!D||!J)throw new be("Recovery OAuth failed");F.createAnalyticsEvent({eventName:"embedded_wallet_recovery_started",payload:{walletAddress:D,recoveryMethod:C}}),await U.recover({accessToken:f,entropyId:D,entropyIdVerifier:J,recoveryAccessToken:S}),F.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:D,recoveryMethod:C}});break}case"create-wallet":{let D;if(F.createAnalyticsEvent({eventName:"embedded_wallet_creation_started"}),R&&I)D=await x({recoveryMethod:C,recoveryAccessToken:S,chainType:"ethereum",walletIndex:0,latestUser:d}),D=await x({chainType:"solana",walletIndex:0,latestUser:D.user});else if(I)D=await x({recoveryMethod:C,recoveryAccessToken:S,chainType:"solana",walletIndex:0,latestUser:d});else{if(!R)throw Error("Invalid args to create wallet");D=await x({recoveryMethod:C,recoveryAccessToken:S,chainType:"ethereum",walletIndex:0,latestUser:d})}if(!D)throw g("createWallet","onError",Ee.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to create wallet");F.createAnalyticsEvent({eventName:"embedded_wallet_creation_completed",payload:{walletAddress:D.account.address}}),g("createWallet","onSuccess",{wallet:D.account});break}case"set-recovery":{let D=lc(d);if(!D)throw g("setWalletRecovery","onError",Ee.EMBEDDED_WALLET_NOT_FOUND),Error("Embedded wallet not found");F.createAnalyticsEvent({eventName:"embedded_wallet_set_recovery_started",payload:{walletAddress:D.address,existingRecoveryMethod:D.recoveryMethod,targetRecoveryMethod:C}});let{entropyId:J,entropyIdVerifier:ne}=Hs(d);await U.setRecovery({accessToken:f,entropyId:J,entropyIdVerifier:ne,recoveryMethod:C,recoveryAccessToken:S});let ie=lc(await j());if(!ie)throw g("createWallet","onError",Ee.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to set recovery on wallet");F.createAnalyticsEvent({eventName:"embedded_wallet_set_recovery_completed",payload:{walletAddress:D.address,existingRecoveryMethod:D.recoveryMethod,targetRecoveryMethod:C}}),g("setWalletRecovery","onSuccess",{method:C,wallet:ie});break}default:throw new be("Unsupported recovery action")}}}})(),[a,l]=B.useState(!1),{provider:u,action:c,isInAccountCreateFlow:h,shouldCreateEth:m,shouldCreateSol:y}=n?.recoveryOAuthStatus,[b,E]=B.useState(void 0),[A,M]=B.useState(c==="create-wallet");if(u==="user-passcode")throw Error("RecoveryOAuthScreen should never be called with a wallet that specifies recoveryMethod: `user-passcode`");let O=yQ[u].name,P=yQ[u].component,z=n?.recoverWallet?.onCompleteNavigateTo,L=new Yo((async(F="create-wallet")=>(M(!0),new Promise(((U,j)=>{setTimeout((async()=>{try{let _=window.open();await o({provider:u,action:F,popup:_,shouldCreateEth:m,shouldCreateSol:y}),l(!0),U()}catch{E({message:`${F==="recover"?"Recovery":"Back up"} with ${O} unsuccessful`,detail:c==="recover"?`Please verify that you are selecting the ${O} account associated with your backup.`:"",retryable:!0}),j()}}),0)})))));B.useEffect((()=>{c!=="recover"&&L.execute(h?"create-wallet":"set-recovery")}),[]),B.useEffect((()=>{if(!a)return;let F=setTimeout((()=>{h?(r({createWallet:{onSuccess:()=>{},onFailure:U=>{s({eventName:"embedded_wallet_creation_failure_logout",payload:{error:U,screen:"RecoveryOAuthScreen"}}),t()},callAuthOnSuccessOnClose:!0,shouldCreateEth:!1,shouldCreateSol:!1}}),e(oD)):i({shouldCallAuthOnSuccess:!1})}),li);return()=>clearTimeout(F)}),[a]);let W=B.useCallback((async()=>{await L.execute("recover"),z?e(z):l(!0)}),[]),H=u==="google-drive"?"Google Drive":"Apple iCloud",G=a&&`Successfully ${c==="recover"?"recovered":"backed up"} with ${H}.`||b&&b.message||`${c==="recover"?"Recovering":"Backing up"} with ${H}...`,N=b?b.detail:"";return w.jsxs(w.Fragment,{children:[w.jsx(Or,{}),A?w.jsx(w.Fragment,{children:w.jsxs(UN,{children:[w.jsx(Tl,{title:G,icon:w.jsx(P,{style:{width:"38px",height:"38px"}}),description:N}),b&&b?.retryable?w.jsx(Mn,{onClick:()=>{FE(),E(void 0),c==="create-wallet"?L.execute("create-wallet"):W()},disabled:!a&&!b?.retryable,children:"Try again"}):null]})}):w.jsxs(UN,{children:[w.jsx(Tl,{title:"Confirm it's really you",icon:w.jsx(P,{style:{height:42,width:48}}),description:`To confirm your identity, please log in to ${H} where your account is backed up.`}),w.jsxs(Mn,{onClick:W,children:["Confirm with ",H]})]}),w.jsx(nn,{})]})}};let dT=he.div.withConfig({displayName:"IconContainer",componentId:"sc-ccfae04f-0"})(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;"]),But={"google-drive":"Google Drive",icloud:"iCloud","user-passcode":"password",privy:"Privy","privy-v2":"Privy"},Uut=({onClose:t})=>w.jsxs(Dut,{children:[w.jsx(Tl,{title:"Why do I need to secure my account?",icon:w.jsx(Ay,{width:48}),description:w.jsxs(w.Fragment,{children:[w.jsx("p",{children:"Your app uses cryptography to secure your account. App secrets are split and encrypted so only you can access them."}),w.jsx("p",{children:"To use this app on new devices, secure account secrets using a password, your Google or your Apple account. It’s important you don’t lose access to the method you choose."})]})}),w.jsx(Mn,{onClick:t,children:"Select backup method"})]});const FN={component:()=>{let[t,e]=B.useState(!1),{navigate:r,lastScreen:n,navigateBack:i,setModalData:s,data:o,onUserCloseViaDialogOrKeybindRef:a}=jt(),{user:l}=Kr(),{embeddedWallets:u}=fn(),{closePrivyModal:c}=$t(),h=lc(l),m=h===null,{isInAccountCreateFlow:y,isResettingPassword:b,shouldCreateEth:E,shouldCreateSol:A}=o.recoverySelection,M=h&&h.recoveryMethod!=="privy",O=M?w.jsxs("span",{children:["Your account is currently secured using"," ",w.jsx("strong",{children:But[h?.recoveryMethod||"user-passcode"]}),"."]}):"Select a method for logging in on new devices and recovering your account.";function P(L){s({recoveryOAuthStatus:{provider:L,action:m?"create-wallet":"set-recovery",isInAccountCreateFlow:y,shouldCreateEth:E,shouldCreateSol:A}}),r(Nfe)}function z(){o?.setWalletPassword?.onFailure(Error("User exited set recovery flow")),c({shouldCallAuthOnSuccess:o?.setWalletPassword?.callAuthOnSuccessOnClose??!1})}return a.current=z,w.jsxs(w.Fragment,{children:[w.jsx(Or,{onClose:z,backFn:t?()=>e(!1):n?i:void 0,infoFn:n||t?void 0:()=>e(!0)},"header"),t?w.jsx(Uut,{onClose:()=>e(!1)}):w.jsxs(w.Fragment,{children:[w.jsx(Tl,{title:M?"Update backup method":"Secure your account",icon:w.jsx(nhe,{width:48}),description:O}),w.jsx(UN,{children:u.userOwnedRecoveryOptions.filter((L=>!["icloud","google-drive"].includes(h?.recoveryMethod||"")||L!==h?.recoveryMethod)).sort().map((L=>{switch(L){case"google-drive":return w.jsxs(fi,{onClick:()=>P("google-drive"),children:[w.jsx(dT,{children:w.jsx(Mfe,{style:{width:18}})}),"Back up to Google Drive"]},L);case"icloud":return w.jsxs(fi,{onClick:()=>P("icloud"),children:[w.jsx(dT,{children:w.jsx($fe,{style:{width:24}})}),"Back up to Apple iCloud"]},L);case"user-passcode":return w.jsxs(fi,{onClick:()=>{r(C0e({isCreatingWallet:m,skipSplashScreen:!0}))},children:[w.jsx(dT,{children:w.jsx(Jot,{style:{width:18}})}),b?"Reset your":"Set a"," password"]},L);default:return null}}))})]}),w.jsx(nn,{})]})}};let Fut=us(["font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;text-align:left;transition:color 0.1s ease-in;"]);const Rfe=he.span.withConfig({displayName:"StatusText",componentId:"sc-acac4b9-0"})([""," transition:color 0.1s ease-in;color:",";text-transform:",";&[aria-hidden='true']{visibility:hidden;}"],Fut,(({error:t})=>t?"var(--privy-color-error)":"var(--privy-color-foreground-3)"),(({error:t})=>t?"":"capitalize")),gA=he.div.withConfig({displayName:"EmbeddedWalletScreenContainer",componentId:"sc-acac4b9-1"})(["display:flex;flex-direction:column;justify-content:center;flex-grow:1;"]),mA=he(Mn).withConfig({displayName:"NoAnimationPrimaryButton",componentId:"sc-acac4b9-2"})(["",""],(({$hideAnimations:t})=>t&&us(["&&{transition:none;}"])));let Ofe=us(["&&{width:100%;border-width:1px;border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);background:var(--privy-color-background);color:var(--privy-color-foreground);padding:12px;font-size:16px;font-style:normal;font-weight:300;line-height:22px;}"]);const aD=he.input.withConfig({displayName:"PasswordInput",componentId:"sc-acac4b9-3"})([""," &::placeholder{color:var(--privy-color-foreground-3);font-style:italic;font-size:14px;}overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"],Ofe),zut=he.div.withConfig({displayName:"PasswordDisplay",componentId:"sc-acac4b9-4"})(["",""],Ofe),yA=he.div.withConfig({displayName:"PasswordContainer",componentId:"sc-acac4b9-5"})(["position:relative;width:100%;display:flex;align-items:center;justify-content:",";"],(({centered:t})=>t?"center":"space-between")),wA=he.div.withConfig({displayName:"Header",componentId:"sc-acac4b9-6"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:32px 0;gap:4px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]),lD=he.div.withConfig({displayName:"Details",componentId:"sc-acac4b9-7"})(["display:flex;flex-direction:column;gap:10px;padding-bottom:1rem;"]),zN=he.div.withConfig({displayName:"DetailItem",componentId:"sc-acac4b9-8"})(["display:flex;text-align:left;align-items:center;gap:8px;max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;margin:0 8px;color:var(--privy-color-foreground-2);> :first-child{min-width:24px;}"]),wQ=he(Qg).withConfig({displayName:"ExportButton",componentId:"sc-acac4b9-10"})(["display:flex;flex:1;gap:4px;justify-content:center;&&{background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);border-width:1px;}"]),vA=he.div.withConfig({displayName:"InputRightIcons",componentId:"sc-acac4b9-11"})(["position:absolute;right:0.5rem;display:flex;flex-direction:row;justify-content:space-around;align-items:center;"]),Wut=he(xot).withConfig({displayName:"RegenerateIcon",componentId:"sc-acac4b9-12"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),bA=he(Bot).withConfig({displayName:"HiddenIcon",componentId:"sc-acac4b9-13"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),xA=he(Fot).withConfig({displayName:"ShownIcon",componentId:"sc-acac4b9-14"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),qut=he.progress.withConfig({displayName:"StrengthMeter",componentId:"sc-acac4b9-15"})(["height:4px;width:100%;margin:8px 0;::-webkit-progress-bar{border-radius:8px;background:var(--privy-color-foreground-4);}::-webkit-progress-value{border-radius:8px;transition:all 0.1s ease-out;background:",";}"],(({label:t})=>(t==="Strong"?"#78dca6":t==="Medium"&&"var(--privy-color-warn)")||"var(--privy-color-error)")),Hut=({buttonHideAnimations:t,buttonLoading:e,password:r,onSubmit:n,onBack:i})=>{let[s,o]=B.useState(!0),[a,l]=B.useState(!1),[u,c]=B.useState(""),h=r===u;return B.useEffect((()=>{u&&!a&&l(!0)}),[u]),w.jsxs(w.Fragment,{children:[w.jsx(Or,{closeable:!1,backFn:i}),w.jsx(Tu,{}),w.jsxs(gA,{children:[w.jsxs(wA,{children:[w.jsx(hm,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-accent)"}),w.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Confirm your password"}),w.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Please re-enter your password below to continue."})]}),w.jsxs(yA,{children:[w.jsx(aD,{value:u,onChange:m=>c(m.target.value),onKeyUp:m=>{m.key==="Enter"&&n()},onBlur:()=>l(!0),placeholder:"confirm your password",type:s?"password":"text",style:{paddingRight:"2.3rem"}}),w.jsx(vA,{style:{right:"0.75rem"},children:s?w.jsx(bA,{onClick:()=>o(!1)}):w.jsx(xA,{onClick:()=>o(!0)})})]}),w.jsx(Rfe,{"aria-hidden":!a||h,error:!0,children:"Passwords do not match"})]}),w.jsx(mA,{onClick:n,loading:e,disabled:!h,$hideAnimations:t,children:"Continue"}),w.jsx(Nl,{}),w.jsx(nn,{})]})},jfe=({className:t,checked:e,color:r="var(--privy-color-accent)",...n})=>w.jsx("label",{children:w.jsxs(Vut,{className:t,children:[w.jsx(Dfe,{checked:e,...n}),w.jsx(Kut,{color:r,checked:e,children:w.jsx(Lfe,{viewBox:"0 0 24 24",children:w.jsx("polyline",{points:"20 6 9 17 4 12"})})})]})});let Vut=he.div.withConfig({displayName:"CheckboxContainer",componentId:"sc-db51b935-1"})(["display:inline-block;vertical-align:middle;"]),Lfe=he.svg.withConfig({displayName:"Icon",componentId:"sc-db51b935-2"})(["fill:none;stroke:white;stroke-width:3px;"]),Dfe=he.input.attrs({type:"checkbox"}).withConfig({displayName:"HiddenCheckbox",componentId:"sc-db51b935-3"})(["border:0;clip:rect(0 0 0 0);clippath:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;"]),Kut=he.div.withConfig({displayName:"StyledCheckbox",componentId:"sc-db51b935-4"})(["display:inline-block;width:18px;height:18px;transition:all 150ms;cursor:pointer;border-color:",";border-radius:3px;background:",";&&{border-width:1px;}",":focus + &{box-shadow:0 0 0 1px ",";}","{visibility:",";}"],(t=>t.color),(t=>t.checked?t.color:"var(--privy-color-background)"),Dfe,(t=>t.color),Lfe,(t=>t.checked?"visible":"hidden"));const Gut=({buttonHideAnimations:t,buttonLoading:e,onSubmit:r,onBack:n,config:i})=>{let[s,o]=B.useState(!1);return w.jsxs(w.Fragment,{children:[w.jsx(Or,{closeable:!1,backFn:n}),w.jsx(Tu,{}),w.jsxs(gA,{children:[w.jsxs(wA,{children:[w.jsx(hm,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-error)"}),w.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Confirm you have saved"}),w.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Losing access to your password means you will lose access to your account."})]}),w.jsx(lD,{children:w.jsxs(zN,{style:{color:"var(--privy-color-error)",cursor:"pointer"},onClick:a=>{a.preventDefault(),o((l=>!l))},children:[w.jsx(jfe,{color:"var(--privy-color-error)",readOnly:!0,checked:s}),w.jsx(w.Fragment,{children:"I understand that if I lose my password and device, I will lose access to my account and my assets."})]})})]}),w.jsxs(Yut,{children:[i.initiatedBy==="user"&&w.jsx(Eu,{onClick:i.onCancel,disabled:e,children:"Cancel"}),w.jsx(mA,{onClick:r,loading:e,$hideAnimations:t,disabled:!s,children:"Set Password"})]}),w.jsx(Nl,{}),w.jsx(nn,{})]})};let Yut=he.div.withConfig({displayName:"ButtonsContainer",componentId:"sc-d1659c5f-0"})(["display:flex;gap:10px;"]),Zut=/[a-z]/,Qut=/[A-Z]/,Jut=/[0-9]/,Bfe="!@#$%^&*()\\-_+.",Ufe=`a-zA-Z0-9${Bfe}`,Xut=RegExp(`[${Bfe}]`),edt=RegExp(`[${Ufe}]`);const tdt=RegExp(`^[${Ufe}]{6,}$`),Ffe=()=>oot(4,lot);function rdt(t){return t>.9?"Strong":t>.5?"Medium":"Weak"}function ndt(t=""){return(.3*(function(e){if(e.length<8)return 0;let r=0;return Zut.test(e)&&(r+=1),Qut.test(e)&&(r+=1),Jut.test(e)&&(r+=1),Xut.test(e)&&(r+=1),Math.max(0,Math.min(1,r/3))})(t)+eot(t)/95)/2}const idt=({buttonHideAnimations:t,buttonLoading:e,password:r="",config:n,isResettingPassword:i,onSubmit:s,onClose:o,onBack:a,onPasswordChange:l,onPasswordGenerate:u})=>{let[c,h]=B.useState(!1),[m,y]=B.useState(!1);B.useEffect((()=>{r&&!m&&y(!0)}),[r]);let b=B.useMemo((()=>m?6>(r?.length||0)?"Password must be at least 6 characters":tdt.test(r||"")?null:`Invalid characters used ( ${((M="")=>[...new Set(M.split("").filter((O=>!edt.test(O))).map((O=>O.replace(" ","SPACE"))))])(r).join(" ")} )`:null),[r,m]),E=B.useMemo((()=>b?{value:0,label:"Weak"}:(function(M=""){let O=ndt(M);return{value:O,label:rdt(O)}})(r)),[r,b]),A=B.useMemo((()=>!r?.length||!!b),[b,r]);return w.jsxs(w.Fragment,{children:[w.jsx(Or,{onClose:o,closeable:n.initiatedBy==="user",backFn:a}),w.jsx(Tu,{}),w.jsxs(gA,{children:[w.jsxs(wA,{children:[w.jsx(Vot,{height:48,width:48,stroke:"var(--privy-color-accent)"}),w.jsxs("h3",{style:{color:"var(--privy-color-foreground)"},children:[i?"Reset":"Set"," your password"]}),w.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Select a strong, memorable password to secure your account."})]}),w.jsxs(yA,{children:[w.jsx(aD,{value:r,onChange:M=>l(M.target.value),onKeyUp:M=>{M.key==="Enter"&&s()},placeholder:"enter or generate a strong password",type:c?"password":"text",style:{paddingRight:"3.8rem"}}),w.jsxs(vA,{style:{width:"3.5rem"},children:[c?w.jsx(bA,{onClick:()=>h(!1)}):w.jsx(xA,{onClick:()=>h(!0)}),w.jsx(Wut,{onClick:u})]})]}),w.jsx(qut,{value:E.value===0?.01:E.value,label:E.label}),w.jsx(Rfe,{error:!!b,children:b||`Password Strength: ${m?E.label:"--"}`}),w.jsxs(odt,{children:[w.jsx(sdt,{children:w.jsxs(lD,{children:[w.jsxs(zN,{children:[w.jsx(d5,{width:24,height:24,fill:"var(--privy-color-accent)"}),"This password is used to secure your account."]}),w.jsxs(zN,{children:[w.jsx(d5,{width:24,height:24,fill:"var(--privy-color-accent)"}),"Use it to log in on a new environment, like another browser or device."]})]})}),w.jsx(mA,{onClick:s,loading:e,disabled:A,$hideAnimations:t,children:"Continue"})]})]}),w.jsx(Nl,{}),w.jsx(nn,{})]})};let sdt=he(lD).withConfig({displayName:"DetailsContainer",componentId:"sc-2da5fe90-0"})(["flex:1;padding-top:1rem;"]),odt=he.div.withConfig({displayName:"LowerContainer",componentId:"sc-2da5fe90-1"})(["display:flex;flex-direction:column;height:100%;"]);const adt=({buttonHideAnimations:t,buttonLoading:e,appName:r,password:n,onSubmit:i,onBack:s})=>{let[o,a]=B.useState(!1),[l,u]=B.useState(!0),c=B.useCallback((()=>{a(!0),n&&navigator.clipboard.writeText(n)}),[n]),h=B.useCallback((()=>{let m=document.createElement("a"),y=r.toLowerCase().replace(/[^a-z\s]/g,"").replace(/\s/g,"-"),b=new Blob([ldt(r,n)],{type:"text/plain"}),E=URL.createObjectURL(b);m.href=E,m.target="_blank",m.download=`${y}-privy-wallet-recovery.txt`,document.body.appendChild(m),m.click(),setTimeout((()=>{m.remove(),URL.revokeObjectURL(E)}),5e3)}),[n]);return w.jsxs(w.Fragment,{children:[w.jsx(Or,{backFn:s,closeable:!1}),w.jsx(Tu,{}),w.jsxs(gA,{children:[w.jsxs(wA,{children:[w.jsx(hm,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-accent)"}),w.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Save your password"}),w.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"For your security, this password cannot be reset, so keep it somewhere safe."})]}),w.jsxs(yA,{centered:!0,children:[w.jsx(zut,{children:l?"•".repeat(n.length):n}),w.jsx(vA,{style:{right:"0.75rem"},children:l?w.jsx(bA,{onClick:()=>u(!1)}):w.jsx(xA,{onClick:()=>u(!0)})})]}),w.jsxs("div",{style:{display:"flex",margin:"12px 0",gap:"12px"},children:[w.jsx(wQ,{onClick:c,children:w.jsxs(w.Fragment,o?{children:[w.jsx(the,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Copied"]}:{children:[w.jsx(Lot,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Copy"]})}),w.jsxs(wQ,{onClick:h,children:[w.jsx(vot,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Download"]})]})]}),w.jsx(mA,{onClick:i,loading:e,$hideAnimations:t,children:"Continue"}),w.jsx(Nl,{}),w.jsx(nn,{})]})};let ldt=(t,e)=>`Your wallet recovery password for ${t} is

${e}

You will need this password to access your ${t} wallet on a new device. Please keep it somewhere safe.`;const cdt=({error:t,onClose:e})=>w.jsxs(w.Fragment,{children:[w.jsx(Or,{closeable:!1}),w.jsx(Tu,{}),w.jsxs(i6,t?{children:[w.jsx(Sat,{fill:"var(--privy-color-error)",width:"64px",height:"64px"}),w.jsx(Tl,{title:"Something went wrong",description:t})]}:{children:[w.jsx(d5,{fill:"var(--privy-color-success)",width:"64px",height:"64px"}),w.jsx(Tl,{title:"Success"})]}),w.jsx(Mn,{onClick:e,children:"Close"}),w.jsx(Nl,{}),w.jsx(nn,{})]});let udt=(t,e)=>{switch(t){case"creating":return e==="back"?t:"saving";case"saving":return e==="back"?"creating":"confirming";case"confirming":return e==="back"?"saving":"finalizing";case"finalizing":return e==="back"?"confirming":"done";default:return t}};const zfe=({onSubmit:t,...e})=>{let{lastScreen:r,navigate:n}=jt(),{send:i,state:s}=(()=>{let[u,c]=B.useReducer(udt,"creating");return{send:c,state:u}})(),o=B.useCallback((async()=>{s==="finalizing"&&await t(),i("next")}),[s,i,t]);B.useEffect((()=>{let u;return s==="done"&&e.config.initiatedBy==="automatic"&&(u=setTimeout((()=>e.onClose?.()),li)),()=>{u&&clearTimeout(u)}}),[s,e.config.initiatedBy,e.onClose]);let a=B.useCallback((()=>{i("back")}),[i]),l=B.useCallback((()=>{n(FN)}),[r,n]);return s==="creating"?w.jsx(idt,{...e,onSubmit:o,onBack:r===FN?l:void 0}):s==="saving"?w.jsx(adt,{...e,onSubmit:o,onBack:a}):s==="confirming"?w.jsx(Hut,{...e,onSubmit:o,onBack:a}):s==="finalizing"?w.jsx(Gut,{...e,onSubmit:o,onBack:a}):s==="done"?w.jsx(cdt,{...e,onSubmit:o}):null};let ddt={apple_oauth:"apple",custom_auth:"custom",discord_oauth:"discord",email:"email",farcaster:"farcaster",github_oauth:"github",google_oauth:"google",instagram_oauth:"instagram",linkedin_oauth:"linkedin",passkey:"passkey",phone:"sms",spotify_oauth:"spotify",telegram:"telegram",tiktok_oauth:"tiktok",line_oauth:"line",twitter_oauth:"twitter",wallet:"siwe",smart_wallet:"siwe",cross_app:"privy:"};const EA=t=>{let e=ddt[t];return t==="wallet"||t==="phone"?{displayName:t,loginMethod:e}:{displayName:e,loginMethod:e}};let Wfe=B.createContext({});const hdt=({children:t})=>{let e=fn(),[r,n]=B.useState({});return op("login",{onComplete:({loginAccount:i})=>{i&&i.type!=="passkey"&&i.type!=="cross_app"&&(i.type!=="wallet"||i.walletClientType!=="privy")&&(or.put(vQ(e.id),i.type),i.type==="wallet"?(or.put(hT(e.id),i.walletClientType),or.put(fT(e.id),i.chainType),n({accountType:i.type,walletClientType:i.walletClientType,chainType:i.chainType})):(or.del(hT(e.id)),or.del(fT(e.id)),n({accountType:i.type})))}}),B.useEffect((()=>{if(!e.id)return;let i=or.get(vQ(e.id)),s=or.get(hT(e.id)),o=or.get(fT(e.id));i&&n(i==="wallet"?{accountType:i,walletClientType:s,chainType:o}:{accountType:i})}),[e.id]),w.jsx(Wfe.Provider,{value:r,children:t})};let vQ=t=>`privy:${t}:recent-login-method`,hT=t=>`privy:${t}:recent-login-wallet-client`,fT=t=>`privy:${t}:recent-login-chain-type`;const lp=()=>B.useContext(Wfe),qfe=()=>{let{app:t}=jt(),e=t?.appearance?.logo,r=`${t?.name} logo`,n={maxHeight:"90px",maxWidth:"180px"};return e?typeof e=="string"?w.jsx("img",{src:e,alt:r,style:n}):e.type==="svg"||e.type==="img"?Re.cloneElement(e,{alt:r,style:n}):(console.warn("`config.appearance.logo` must be a string, or an SVG / IMG element. Nothing will be rendered."),null):null},fdt=t=>{let{app:e}=jt();return e?.appearance.logo?w.jsx(pdt,{...t,children:w.jsx(qfe,{})}):null},pdt=he.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-a206bd44-0"})(["display:flex;flex-direction:column;align-items:center;padding:24px 0;flex-grow:1;justify-content:center;"]),gdt=({name:t,logoUrl:e,size:r="38px"})=>typeof e=="string"?w.jsx("img",{src:e,alt:`${t??"Provider app"} logo`,style:{width:r,height:r,maxHeight:"90px",maxWidth:"180px",borderRadius:"8px"}}):w.jsx("span",{}),mdt=({appId:t})=>{let[e,r]=B.useState(void 0),{startCrossAppAuthFlow:n,authenticated:i}=Kr(),{client:s}=$t();return B.useEffect((()=>{(async()=>s&&r(await s.getCrossAppProviderDetails(t)))()}),[s]),w.jsx(fi,{onClick:()=>n({appId:t,action:i?"link":"login"}),disabled:!e,children:e?w.jsxs(w.Fragment,{children:[w.jsx(gdt,{name:e.name,logoUrl:e.icon_url||void 0,size:"24px"})," ",e.name]}):w.jsx(ap,{})})};let ydt=he.a.withConfig({displayName:"StyledLink",componentId:"sc-c8577138-0"})(["&&{color:",";font-weight:400;text-decoration:",";text-underline-offset:4px;text-decoration-thickness:1px;cursor:",";opacity:",";font-size:",";line-height:",";transition:color 200ms ease,text-decoration-color 200ms ease,opacity 200ms ease;&:hover{color:",";text-decoration:",";text-underline-offset:4px;}&:active{color:",";}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;border-radius:2px;}}"],(({$variant:t})=>t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))"),(({$variant:t})=>t==="underlined"?"underline":"var(--privy-link-navigation-decoration, none)"),(({$disabled:t})=>t?"not-allowed":"pointer"),(({$disabled:t})=>t?.5:1),(({$size:t})=>{switch(t){case"xs":return"12px";case"sm":return"14px";default:return"16px"}}),(({$size:t})=>{switch(t){case"xs":return"18px";case"sm":return"22px";default:return"24px"}}),(({$variant:t,$disabled:e})=>t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))"),(({$disabled:t})=>t?"none":"underline"),(({$variant:t,$disabled:e})=>e?t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))":"var(--privy-color-foreground)"));const fw=({size:t="md",variant:e="navigation",disabled:r=!1,as:n,children:i,onClick:s,...o})=>w.jsx(ydt,{as:n,$size:t,$variant:e,$disabled:r,onClick:a=>{r?a.preventDefault():s?.(a)},...o,children:i}),cD=(t,e)=>!ud(t)&&(e==="all-users"||e==="users-without-wallets"&&!wdt(t).length);let wdt=t=>t.linkedAccounts.filter((e=>e.type==="wallet"&&e.chainType==="ethereum"));const uD=(t,e)=>!um(t)&&(e==="all-users"||e==="users-without-wallets"&&!vdt(t).length);let vdt=t=>t.linkedAccounts.filter((e=>e.type==="wallet"&&e.chainType==="solana"));const cp=(t,e)=>cD(t,e.ethereum.createOnLogin)||uD(t,e.solana.createOnLogin),bdt=({title:t="Account not found",subtitle:e,appName:r="this app",ctaText:n="Try logging in again",onRetry:i})=>w.jsx(on,{title:t,subtitle:e||`Please try logging in again or go to ${r} to create an account.`,icon:tOe,iconVariant:"warning",primaryCta:{label:n,onClick:i},watermark:!0}),o6={component:()=>{let{navigate:t,app:e,setModalData:r,data:n}=jt(),{getAuthMeta:i,client:s}=$t();return w.jsx(bdt,{appName:e?.name,onRetry:()=>{let o=i();r({...n,login:{...n?.login,...o?.disableSignup?{disableSignup:!0}:{}}}),s?.authFlow&&(s.authFlow=void 0),t(Ro)}})}},xdt=he.span.withConfig({displayName:"CircleBorder",componentId:"sc-9056b8b8-0"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;border-bottom-color:",";}"],(t=>t.color??"var(--privy-color-accent)"),(t=>t.color??"var(--privy-color-accent)"));function Edt(t){return w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",...t,children:[w.jsx("circle",{cx:"12",cy:"12",r:"10"}),w.jsx("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),w.jsx("line",{x1:"12",x2:"12.01",y1:"16",y2:"16"})]})}let bQ="0x0000000000000000000000000000000000000000";const My=({originCurrency:t,destinationCurrency:e,...r})=>({tradeType:"EXPECTED_OUTPUT",originCurrency:t??bQ,destinationCurrency:e??bQ,...r});let Hfe="https://api.relay.link",Vfe="https://api.testnets.relay.link";const p5=async({input:t,isTestnet:e})=>{let r=await fetch((e?Vfe:Hfe)+"/quote",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await r.json();if(!(r.ok||typeof n.message=="string"&&n.message.startsWith("Invalid address")))throw console.error("Relay error:",n),Error(n.message??"Error fetching quote from relay");return n},QE=t=>{let e=t.steps[0]?.items?.[0];if(e)return{from:e.data.from,to:e.data.to,value:Number(e.data.value),chainId:Number(e.data.chainId),data:e.data.data}};function dD({transactionHash:t,wallet:e,isTestnet:r,bridgingStatus:n,setBridgingStatus:i,onSuccess:s,onFailure:o}){B.useEffect((()=>{if(t&&e&&n){if(["delayed","waiting","pending"].includes(n)){let a=setInterval((async()=>{try{let l=await(async function({transactionHash:u,isTestnet:c}){let h=await fetch((c?Vfe:Hfe)+"/requests/v2?hash="+u),m=await h.json();if(!h.ok)throw"message"in m&&typeof m.message=="string"?Error(m.message):Error("Error fetching request from relay");return m.requests.at(0)?.status??"pending"})({transactionHash:t,isTestnet:r});i(l)}catch(l){console.error(l)}}),1e3);return()=>clearInterval(a)}n==="success"?s({transactionHash:t,wallet:e}):["refund","failure"].includes(n)&&o({error:new Kfe(t,r)})}}),[n,t,r,e])}class Kfe extends be{constructor(e,r){super("We were unable to complete the bridging transaction. Funds will be refunded on your wallet.",void 0,Ee.TRANSACTION_FAILURE),this.relayLink=r?`https://testnets.relay.link/transaction/${e}`:`https://relay.link/transaction/${e}`}}const a6=({error:t,allowlistConfig:e,onRetry:r,onCaptchaReset:n,onBack:i})=>{let s=((o,a)=>{if(o instanceof Kfe)return{title:"Transaction failed",detail:w.jsxs(w.Fragment,{children:[w.jsx("span",{children:o.message}),w.jsxs("span",{children:[" ","Check the"," ",w.jsx(_dt,{href:o.relayLink,target:"_blank",children:"refund status"}),"."]})]}),ctaText:"Try again",icon:el};if(o instanceof be)switch(o.privyErrorCode){case Ee.CLIENT_REQUEST_TIMEOUT:return{title:"Timed out",detail:o.message,ctaText:"Try again",icon:el};case Ee.INSUFFICIENT_BALANCE:return{title:"Insufficient balance",detail:o.message,ctaText:"Try again",icon:el};case Ee.TRANSACTION_FAILURE:return{title:"Transaction failure",detail:o.message,ctaText:"Try again",icon:el};default:return{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:el}}else{if(o instanceof wi&&o.type==="twilio_verification_failed")return{title:"Something went wrong",detail:o.message,ctaText:"Try again",icon:sOe};if(!(o instanceof Po))return o instanceof hl&&o.status&&[400,422].includes(o.status)?{title:"Something went wrong",detail:o.message,ctaText:"Try again",icon:el}:{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:el};switch(o.privyErrorCode){case Ee.INVALID_CAPTCHA:return{title:"Something went wrong",detail:"Please try again.",ctaText:"Try again",icon:el};case Ee.DISALLOWED_LOGIN_METHOD:return{title:"Not allowed",detail:o.message,ctaText:"Try another method",icon:el};case Ee.ALLOWLIST_REJECTED:return{title:a.errorTitle||"You don't have access to this app",detail:a.errorDetail||"Have you been invited?",ctaText:a.errorCtaText||"Try another account",icon:Ej};case Ee.CAPTCHA_FAILURE:return{title:"Something went wrong",detail:"You did not pass CAPTCHA. Please try again.",ctaText:"Try again",icon:null};case Ee.CAPTCHA_TIMEOUT:return{title:"Something went wrong",detail:"Something went wrong! Please try again later.",ctaText:"Try again",icon:null};case Ee.LINKED_TO_ANOTHER_USER:return{title:"Authentication failed",detail:"This account has already been linked to another user.",ctaText:"Try again",icon:el};case Ee.NOT_SUPPORTED:return{title:"This region is not supported",detail:"SMS authentication from this region is not available",ctaText:"Try another method",icon:el};case Ee.TOO_MANY_REQUESTS:return{title:"Request failed",detail:"Too many attempts.",ctaText:"Try again later",icon:el};default:return{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:el}}}})(t,e);return w.jsx(on,{title:s.title,subtitle:s.detail,icon:s.icon,onBack:i,iconVariant:"error",primaryCta:{label:s.ctaText,onClick:()=>{t instanceof Po&&(t.privyErrorCode===Ee.INVALID_CAPTCHA&&n?.(),t.privyErrorCode===Ee.ALLOWLIST_REJECTED&&e.errorCtaLink)?window.location.href=e.errorCtaLink:r?.()},variant:"error"},watermark:!0})},ci={component:()=>{let{navigate:t,data:e,lastScreen:r,currentScreen:n,app:i}=jt(),{reset:s}=No(),o=e?.errorModalData?.previousScreen||(r===n?void 0:r);return w.jsx(a6,{error:e?.errorModalData?.error||Error(),allowlistConfig:i.allowlistConfig,onRetry:()=>{t(o||Ro,!1)},onCaptchaReset:s})}};let _dt=he.a.withConfig({displayName:"Link",componentId:"sc-89a5a605-0"})(["color:var(--privy-color-accent) !important;font-weight:600;"]);const Gfe=({onTransfer:t,isTransferring:e,transferSuccess:r})=>w.jsx(Mn,{...r?{success:!0,children:"Success!"}:{warn:!0,loading:e,onClick:t,children:"Transfer and delete account"}}),Yfe=he.div.withConfig({displayName:"ConnectContainer",componentId:"sc-3505eb4c-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;width:100%;padding-bottom:16px;"]),WN=he.div.withConfig({displayName:"GappedContainer",componentId:"sc-3505eb4c-1"})(["display:flex;flex-direction:column;&& p{font-size:14px;}width:100%;gap:16px;"]),Zfe=he.div.withConfig({displayName:"DisclosedAccountContainer",componentId:"sc-3505eb4c-2"})(["display:flex;cursor:pointer;align-items:center;width:100%;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);padding:8px 10px;font-size:14px;font-weight:500;gap:8px;"]),Adt=he($L).withConfig({displayName:"StyledExclamationCircleIcon",componentId:"sc-3505eb4c-3"})(["position:relative;width:",";height:",";color:var(--privy-color-foreground-3);margin-left:auto;"],(({$iconSize:t})=>`${t}px`),(({$iconSize:t})=>`${t}px`)),Sdt=he(yot).withConfig({displayName:"StyledCopyIcon",componentId:"sc-3505eb4c-4"})(["position:relative;width:15px;height:15px;color:var(--privy-color-foreground-3);margin-left:auto;"]),Cdt=he.ol.withConfig({displayName:"ListContainer",componentId:"sc-3505eb4c-5"})(["display:flex;flex-direction:column;font-size:14px;width:100%;text-align:left;"]),xQ=he.li.withConfig({displayName:"ListItem",componentId:"sc-3505eb4c-6"})(["font-size:14px;list-style-type:auto;list-style-position:outside;margin-left:1rem;margin-bottom:0.5rem;&:last-child{margin-bottom:0;}"]),kdt=he.div.withConfig({displayName:"CircleContainer",componentId:"sc-3505eb4c-7"})(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]);let Idt=()=>w.jsx(kdt,{children:w.jsx(Adt,{$iconSize:60})});const Tdt=({address:t,onClose:e,onRetry:r,onTransfer:n,isTransferring:i,transferSuccess:s})=>{let{defaultChain:o}=fn(),a=o.blockExplorers?.default.url??"https://etherscan.io";return w.jsxs(w.Fragment,{children:[w.jsx(Or,{onClose:e,backFn:r}),w.jsxs(Yfe,{children:[w.jsx(Idt,{}),w.jsxs(WN,{children:[w.jsx("h3",{children:"Check account assets before transferring"}),w.jsx("p",{children:"Before transferring, ensure there are no assets in the other account. Assets in that account will not transfer automatically and may be lost."}),w.jsxs(Cdt,{children:[w.jsx("p",{children:" To check your balance, you can:"}),w.jsx(xQ,{children:"Log out and log back into the other account, or "}),w.jsxs(xQ,{children:["Copy your wallet address and use a"," ",w.jsx("u",{children:w.jsx("a",{target:"_blank",href:a,children:"block explorer"})})," ","to see if the account holds any assets."]})]}),w.jsxs(Zfe,{onClick:()=>navigator.clipboard.writeText(t).catch(console.error),children:[w.jsx(sA,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),w.jsx(Vr,{address:t,showCopyIcon:!1}),w.jsx(Sdt,{})]}),w.jsx(Gfe,{onTransfer:n,isTransferring:i,transferSuccess:s})]})]}),w.jsx(nn,{})]})},km={component:()=>{let{initiateAccountTransfer:t,closePrivyModal:e}=$t(),{data:r,navigate:n,lastScreen:i,setModalData:s}=jt(),[o,a]=B.useState(void 0),[l,u]=B.useState(!1),[c,h]=B.useState(!1),m=async()=>{try{if(!r?.accountTransfer?.nonce||!r?.accountTransfer?.account)throw Error("missing account transfer inputs");h(!0),await t({nonce:r?.accountTransfer?.nonce,account:r?.accountTransfer?.account,accountType:r?.accountTransfer?.linkMethod,externalWalletMetadata:r?.accountTransfer?.externalWalletMetadata,telegramWebAppData:r?.accountTransfer?.telegramWebAppData,telegramAuthResult:r?.accountTransfer?.telegramAuthResult,farcasterEmbeddedAddress:r?.accountTransfer?.farcasterEmbeddedAddress,oAuthUserInfo:r?.accountTransfer?.oAuthUserInfo}),u(!0),h(!1),setTimeout(e,1e3)}catch(y){s({errorModalData:{error:y,previousScreen:i||km}}),n(ci,!0)}};return o?w.jsx(Tdt,{address:o,onClose:e,onRetry:()=>a(void 0),onTransfer:m,isTransferring:c,transferSuccess:l}):w.jsx($dt,{onClose:e,onInfo:()=>a(r?.accountTransfer?.embeddedWalletAddress),onContinue:()=>a(r?.accountTransfer?.embeddedWalletAddress),onTransfer:m,isTransferring:c,transferSuccess:l,data:r})}},$dt=({onClose:t,onContinue:e,onInfo:r,onTransfer:n,transferSuccess:i,isTransferring:s,data:o})=>{if(!o?.accountTransfer?.linkMethod||!o?.accountTransfer?.displayName)return;let a={method:o?.accountTransfer?.linkMethod,handle:o?.accountTransfer?.displayName,disclosedAccount:o?.accountTransfer?.embeddedWalletAddress?{type:"wallet",handle:o?.accountTransfer?.embeddedWalletAddress}:void 0};return w.jsxs(w.Fragment,{children:[w.jsx(Or,{closeable:!0}),w.jsxs(Yfe,{children:[w.jsx(eD,{children:w.jsxs("div",{children:[w.jsx(xdt,{color:"var(--privy-color-error)"}),w.jsx(hm,{height:38,width:38,stroke:"var(--privy-color-error)"})]})}),w.jsxs(WN,{children:[w.jsxs("h3",{children:[(function(l){switch(l){case"sms":return"Phone number";case"email":return"Email address";case"siwe":return"Wallet address";case"siws":return"Solana wallet address";case"linkedin":return"LinkedIn profile";case"google":case"apple":case"discord":case"github":case"instagram":case"spotify":case"tiktok":case"line":case"twitter":case"telegram":case"farcaster":return`${whe(l.replace("_oauth",""))} profile`;default:return l.startsWith("privy:")?"Cross-app account":l}})(a.method)," is associated with another account"]}),w.jsxs("p",{children:["Do you want to transfer",w.jsx("b",{children:a.handle?` ${a.handle}`:""})," to this account instead? This will delete your other account."]}),w.jsx(Mdt,{onClick:r,disclosedAccount:a.disclosedAccount})]}),w.jsxs(WN,{style:{gap:12,marginTop:12},children:[o?.accountTransfer?.embeddedWalletAddress?w.jsx(Mn,{onClick:e,children:"Continue"}):w.jsx(Gfe,{onTransfer:n,transferSuccess:i,isTransferring:s}),w.jsx(Eu,{onClick:t,children:"No thanks"})]})]}),w.jsx(nn,{})]})};function Mdt({disclosedAccount:t,onClick:e}){return t?w.jsxs(Zfe,{onClick:e,children:[w.jsx(sA,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),w.jsx(Vr,{address:t.handle,showCopyIcon:!1}),w.jsx(Edt,{width:15,height:15,color:"var(--privy-color-foreground-3)",style:{marginLeft:"auto"}})]}):null}const Pdt=({errorMessage:t,onClose:e})=>w.jsx(on,t?{title:"Something went wrong",subtitle:t,icon:C9,iconVariant:"error",primaryCta:{label:"Close",onClick:e},watermark:!0}:{title:"Creating your wallet",subtitle:"Please wait...",iconVariant:"loading",watermark:!1}),nf={component:()=>{let{app:t,setModalData:e,navigate:r,data:n,onUserCloseViaDialogOrKeybindRef:i}=jt(),[s,o]=B.useState(""),{embeddedWallets:a}=fn(),{authenticated:l,user:u}=Kr(),{closePrivyModal:c,walletProxy:h,client:m}=$t(),{onSuccess:y,onFailure:b,callAuthOnSuccessOnClose:E,shouldCreateEth:A,shouldCreateSol:M}=n.createWallet,O=t.embeddedWallets.mode==="legacy-embedded-wallets-only"&&t?.embeddedWallets.requireUserOwnedRecoveryOnCreate===!0,[P,z]=B.useState(null),{create:L}=sD(),W=A??(!!u&&cD(u,t.embeddedWallets.ethereum.createOnLogin)),H=M??(!!u&&uD(u,t.embeddedWallets.solana.createOnLogin)),G=new Yo((async()=>{let N=await m.getAccessToken();if(u&&N&&h)try{let F;if(W&&H)F=await L({chainType:"ethereum",walletIndex:0,latestUser:u}),F=await L({chainType:"solana",walletIndex:0,latestUser:F.user});else if(H)F=await L({chainType:"solana",walletIndex:0,latestUser:u});else{if(!W)return void c({shouldCallAuthOnSuccess:E});F=await L({chainType:"ethereum",walletIndex:0,latestUser:u})}z(F),r(oD)}catch(F){o(F.message)}}));return B.useEffect((()=>l&&u?O?(e({...n,createWallet:{...n.createWallet,shouldCreateEth:W,shouldCreateSol:H},recoverySelection:{...n?.recoverySelection,isInAccountCreateFlow:!0,shouldCreateEth:W,shouldCreateSol:H}}),r(k0e({walletAction:"create",showAutomaticRecovery:!1,availableRecoveryMethods:a.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:!1,isResettingPassword:!1}))):void G.execute():(r(Ro),void b(Error("User must be authenticated before creating a Privy wallet")))),[O,l]),i.current=()=>null,w.jsx(Pdt,{errorMessage:s||void 0,onClose:()=>{P?(y(P),c({shouldCallAuthOnSuccess:E})):(b(new P0("User wallet creation failed")),c({shouldCallAuthOnSuccess:!1}))}})}},Im={component:()=>{let{user:t,logout:e}=Kr(),{app:r,onUserCloseViaDialogOrKeybindRef:n,setModalData:i,navigate:s}=jt(),{acceptTerms:o,closePrivyModal:a,createAnalyticsEvent:l}=$t(),u=c=>{c?.preventDefault(),a({shouldCallAuthOnSuccess:!1}),e()};return n.current=u,w.jsx(Ndt,{termsAndConditionsUrl:r?.legal.termsAndConditionsUrl,privacyPolicyUrl:r?.legal.privacyPolicyUrl,onAccept:async c=>{c?.preventDefault(),await o(),t&&cp(t,r.embeddedWallets)?(i({createWallet:{onSuccess:()=>{},onFailure:h=>{console.error(h),l({eventName:"embedded_wallet_creation_failure_logout",payload:{error:h,screen:"AffirmativeConsentScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),s(nf)):a()},onDecline:u})}},Ndt=({termsAndConditionsUrl:t,privacyPolicyUrl:e,onAccept:r,onDecline:n,title:i="One last step",subtitle:s="By signing up, you agree to our terms and privacy policy."})=>w.jsx(on,{title:i,subtitle:s,icon:iOe,primaryCta:{label:"Accept",onClick:r},secondaryCta:{label:"No thanks",onClick:n},watermark:!0,children:(t||e)&&w.jsxs(Rdt,{children:[t&&w.jsxs(Qg,{variant:"muted",href:t,target:"_blank",size:"lg",style:{justifyContent:"space-between"},as:"a",children:["View Terms",w.jsx(eP,{width:16,height:16,strokeWidth:2.25})]}),e&&w.jsxs(Qg,{variant:"muted",href:e,target:"_blank",size:"lg",style:{justifyContent:"space-between"},as:"a",children:["View Privacy Policy",w.jsx(eP,{width:16,height:16,strokeWidth:2.25})]})]})});let Rdt=he.div.withConfig({displayName:"LinksContainer",componentId:"sc-b9d25a6d-0"})(["display:flex;flex-direction:column;gap:12px;margin-top:var(--screen-space);"]);const Qfe=({color:t,...e})=>w.jsx("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 115.77 122.88",xmlSpace:"preserve",...e,children:w.jsx("g",{children:w.jsx("path",{fill:t||"currentColor",className:"st0",d:"M89.62,13.96v7.73h12.19h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02v0.02 v73.27v0.01h-0.02c-0.01,3.84-1.57,7.33-4.1,9.86c-2.51,2.5-5.98,4.06-9.82,4.07v0.02h-0.02h-61.7H40.1v-0.02 c-3.84-0.01-7.34-1.57-9.86-4.1c-2.5-2.51-4.06-5.98-4.07-9.82h-0.02v-0.02V92.51H13.96h-0.01v-0.02c-3.84-0.01-7.34-1.57-9.86-4.1 c-2.5-2.51-4.06-5.98-4.07-9.82H0v-0.02V13.96v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07V0h0.02h61.7 h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02V13.96L89.62,13.96z M79.04,21.69v-7.73v-0.02h0.02 c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v64.59v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h12.19V35.65 v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07v-0.02h0.02H79.04L79.04,21.69z M105.18,108.92V35.65v-0.02 h0.02c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v73.27v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h61.7h0.02 v0.02c0.91,0,1.75-0.39,2.37-1.01c0.61-0.61,1-1.46,1-2.37h-0.02V108.92L105.18,108.92z"})})});let Odt=he.button.withConfig({displayName:"CopyTextButton",componentId:"sc-4b0620dc-0"})(["display:flex;align-items:center;gap:0.5rem;&:hover{text-decoration:underline;}svg{width:0.875rem;height:0.875rem;}"]),jdt=he.span.withConfig({displayName:"CopiedText",componentId:"sc-4b0620dc-1"})(["display:flex;align-items:center;gap:0.25rem;font-size:0.875rem;color:var(--privy-color-foreground-2);"]),Ldt=he(Cot).withConfig({displayName:"GreenCheck",componentId:"sc-4b0620dc-2"})(["color:var(--privy-color-success);"]),Ddt=he(Qfe).withConfig({displayName:"StyledCopy",componentId:"sc-4b0620dc-3"})(["color:var(--privy-color-foreground-3);opactiy:0.5;"]);function Bdt({children:t,iconOnly:e,value:r,hideCopyIcon:n,...i}){let[s,o]=B.useState(!1);return w.jsxs(Odt,{...i,onClick:()=>{navigator.clipboard.writeText(r||t).catch(console.error),o(!0),setTimeout((()=>o(!1)),1500)},children:[t," ",s?w.jsxs(jdt,{children:[w.jsx(Ldt,{})," ",!e&&"Copied"]}):!n&&w.jsx(Ddt,{})]})}const Udt=()=>w.jsx("svg",{width:"200",height:"200",viewBox:"-77 -77 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px"},children:w.jsx("rect",{width:"50",height:"50",fill:"black",rx:10,ry:10})});let pT=(t,e,r,n,i)=>{for(let s=e;s<e+n;s++)for(let o=r;o<r+i;o++){let a=t?.[o];a&&a[s]&&(a[s]=0)}return t},Fdt=({x:t,y:e,cellSize:r,bgColor:n,fgColor:i})=>w.jsx(w.Fragment,{children:[0,1,2].map((s=>w.jsx("circle",{r:r*(7-2*s)/2,cx:t+7*r/2,cy:e+7*r/2,fill:s%2!=0?n:i},`finder-${t}-${e}-${s}`)))}),zdt=({cellSize:t,matrixSize:e,bgColor:r,fgColor:n})=>w.jsx(w.Fragment,{children:[[0,0],[(e-7)*t,0],[0,(e-7)*t]].map((([i,s])=>w.jsx(Fdt,{x:i,y:s,cellSize:t,bgColor:r,fgColor:n},`finder-${i}-${s}`)))}),Wdt=({matrix:t,cellSize:e,color:r})=>w.jsx(w.Fragment,{children:t.map(((n,i)=>n.map(((s,o)=>s?w.jsx("rect",{height:e-.4,width:e-.4,x:i*e+.1*e,y:o*e+.1*e,rx:.5*e,ry:.5*e,fill:r},`cell-${i}-${o}`):w.jsx(Re.Fragment,{},`circle-${i}-${o}`)))))}),qdt=({cellSize:t,matrixSize:e,element:r,sizePercentage:n,bgColor:i})=>{if(!r)return w.jsx(w.Fragment,{});let s=e*(n||.14),o=Math.floor(e/2-s/2),a=Math.floor(e/2+s/2);(a-o)%2!=e%2&&(a+=1);let l=(a-o)*t,u=l-.2*l,c=o*t;return w.jsxs(w.Fragment,{children:[w.jsx("rect",{x:o*t,y:o*t,width:l,height:l,fill:i}),w.jsx(r,{x:c+.1*l,y:c+.1*l,height:u,width:u})]})},Hdt=t=>{let e=t.outputSize,r=((s,o)=>{let a=Eat.create(s,{errorCorrectionLevel:o}).modules,l=((u,c)=>{let h=u.slice(0),m=[];for(;h.length;)m.push(h.splice(0,c));return m})(Array.from(a.data),a.size);return l=pT(l,0,0,7,7),l=pT(l,l.length-7,0,7,7),pT(l,0,l.length-7,7,7)})(t.url,t.errorCorrectionLevel),n=e/r.length,i=(function(s,{min:o,max:a}){return Math.min(Math.max(s,o),a)})(2*n,{min:.025*e,max:.036*e});return w.jsxs("svg",{height:t.outputSize,width:t.outputSize,viewBox:`0 0 ${t.outputSize} ${t.outputSize}`,style:{height:"100%",width:"100%",padding:`${i}px`},children:[w.jsx(Wdt,{matrix:r,cellSize:n,color:t.fgColor}),w.jsx(zdt,{cellSize:n,matrixSize:r.length,fgColor:t.fgColor,bgColor:t.bgColor}),w.jsx(qdt,{cellSize:n,element:t.logo?.element,bgColor:t.bgColor,matrixSize:r.length})]})},Vdt=he.div.attrs({className:"ph-no-capture"}).withConfig({displayName:"QrContainer",componentId:"sc-597e27f3-0"})(["display:flex;justify-content:center;align-items:center;height:",";width:",";margin:auto;background-color:",";&&{border-width:2px;border-color:",";border-radius:var(--privy-border-radius-md);}"],(t=>`${t.$size}px`),(t=>`${t.$size}px`),(t=>t.$bgColor),(t=>t.$borderColor));const l6=t=>{let{appearance:e}=fn(),r=t.bgColor||"#FFFFFF",n=t.fgColor||"#000000",i=t.size||160,s=e.palette.colorScheme==="dark"?r:n;return w.jsx(Vdt,{$size:i,$bgColor:r,$fgColor:n,$borderColor:s,children:w.jsx(Hdt,{url:t.url,logo:{element:t.squareLogoElement??Udt},outputSize:i,bgColor:r,fgColor:n,errorCorrectionLevel:t.errorCorrectionLevel||"Q"})})},Yh=he.span.withConfig({displayName:"ErrorMessage",componentId:"sc-fcb8cd50-0"})(["text-align:left;font-size:0.75rem;font-weight:500;line-height:1.125rem;color:var(--privy-color-error);"]);let Jfe=he.label.withConfig({displayName:"BaseEmailForm",componentId:"sc-f34af797-0"})(["display:block;position:relative;width:100%;height:56px;&& > :first-child{position:absolute;left:0.75em;top:50%;transform:translate(0,-50%);}&& > input{font-size:16px;line-height:24px;color:var(--privy-color-foreground);padding:12px 88px 12px 52px;flex-grow:1;background:var(--privy-color-background);border:1px solid ",";border-radius:var(--privy-border-radius-md);width:100%;height:100%;@media (min-width:441px){font-size:14px;padding-right:78px;}:focus{outline:none;border-color:",";box-shadow:",";}:autofill,:-webkit-autofill{background:var(--privy-color-background);}&& > input::placeholder{color:var(--privy-color-foreground-3);}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}"],(({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-foreground-4)"),(({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-accent-light)"),(({$error:t})=>t?"none":"0 0 0 1px var(--privy-color-accent-light)"));const Xfe=he(Jfe).withConfig({displayName:"EmailUpdateForm",componentId:"sc-f34af797-1"})(["background-color:var(--privy-color-background);transition:background-color 200ms ease;&& > button{right:0;line-height:24px;position:absolute;padding:13px 17px;background-color:#090;:focus{outline:none;border-color:var(--privy-color-accent);}}"]),Kdt=he(Jfe).withConfig({displayName:"EmailInputForm",componentId:"sc-f34af797-2"})(["&& > input{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding-right:",";border:1px solid ",";&& > input::placeholder{color:var(--privy-color-foreground-3);}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}}"],(t=>t.$stacked?"16px":"88px"),(({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-foreground-4)")),e0e=he.div.withConfig({displayName:"InputContainerForm",componentId:"sc-f34af797-3"})(["width:100%;&& > ","{display:block;text-align:left;padding-left:var(--privy-border-radius-md);padding-bottom:5px;}"],Yh),t0e=({...t})=>w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[w.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),w.jsx("path",{d:"M3 9a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2"}),w.jsx("path",{d:"M3 11h3c.8 0 1.6.3 2.1.9l1.1.9c1.6 1.6 4.1 1.6 5.7 0l1.1-.9c.5-.5 1.3-.9 2.1-.9H21"})]}),hy={phantom:{mobile:{native:"phantom://",universal:"https://phantom.app/ul/"}},solflare:{mobile:{native:void 0,universal:"https://solflare.com/ul/v1/"}},metamask:{image_url:{sm:MN,md:MN}}};class fl{static normalize(e){return e.replace(/[-_]wallet$/,"").replace(/[-_]extension$/,"").toLowerCase()}isEth(e){return e.chains.some((r=>r.startsWith("eip155:")))}isSol(e){return e.chains.some((r=>r.startsWith("solana:")))}inAllowList(e,r){if(!this.normalizedAllowList||this.normalizedAllowList.length===0||r==="listing"&&this.includeWalletConnect)return!0;let n=fl.normalize(e);return this.normalizedAllowList.some((i=>n===fl.normalize(i)))}chainMatches(e){return this.chainFilter==="ethereum-only"?e==="ethereum":this.chainFilter!=="solana-only"||e==="solana"}connectorOk(e){return!!(e.connectorType!=="null"&&this.chainMatches(e.chainType)&&(this.inAllowList(e.walletClientType,"connector")||(e.connectorType==="injected"||e.connectorType==="solana_adapter")&&(this.detectedGeneric||e.chainType==="ethereum"&&this.detectedEth||e.chainType==="solana"&&this.detectedSol)))}listingOk(e){if(e.slug.includes("coinbase"))return!1;if(this.chainFilter==="ethereum-only"){if(!this.isEth(e))return!1}else if(this.chainFilter==="solana-only"&&!this.isSol(e))return!1;return!!this.inAllowList(e.slug,"listing")}getWallets(e,r){let n=new Map,i=l=>{let u=n.get(l.id);if(u){u.chainType!==l.chainType&&(u.chainType="multi");let c=new Set(u.chains);l.chains.forEach((h=>c.add(h))),u.chains=Array.from(c),!u.icon&&l.icon&&(u.icon=l.icon),!u.url&&l.url&&(u.url=l.url),!u.listing&&l.listing&&(u.listing=l.listing)}else n.set(l.id,l)};e.filter((l=>this.connectorOk(l))).forEach((l=>{let u=fl.normalize(l.walletClientType);i({id:u,label:l.walletBranding?.name??u,source:"connector",connector:l,chainType:l.chainType,icon:l.walletBranding?.icon,url:void 0,chains:[l.chainType==="ethereum"?"eip155":"solana"]})})),r.filter((l=>this.listingOk(l))).forEach((l=>{let u=this.isEth(l),c=this.isSol(l),h=fl.normalize(l.slug),m=hy[l.slug],y=m?.image_url?.sm||l.image_url?.sm;i({id:h,label:l.name||h,source:"listing",listing:l,chainType:u&&c?"multi":u?"ethereum":"solana",icon:y,url:l.homepage,chains:l.chains})}));let s=e.find((l=>l.connectorType==="wallet_connect_v2"));this.includeWalletConnectQr&&s&&i({id:"wallet_connect_qr",label:"WalletConnect",source:"connector",connector:s,chainType:"ethereum",icon:Ghe,url:void 0,chains:[s.chainType==="ethereum"?"eip155":"solana"]});let o=Array.from(n.values());o.forEach((l=>{let u=hy[l.listing?.slug||l.id];u?.image_url?.sm&&(l.icon=u.image_url.sm)}));let a=new Map;return this.normalizedAllowList?.forEach(((l,u)=>{a.set(fl.normalize(l),u)})),{wallets:o.slice().sort(((l,u)=>{let c=fl.normalize(l.id),h=fl.normalize(u.id);c==="binance-defi"?c="binance":c==="universalprofiles"?c="universal_profile":c==="cryptocom-defi"&&(c="cryptocom"),h==="binance-defi"?h="binance":h==="universalprofiles"?h="universal_profile":h==="cryptocom-defi"&&(h="cryptocom");let m=a.has(c),y=a.has(h);return m&&y?a.get(c)-a.get(h):m?-1:y?1:l.source==="connector"&&u.source==="listing"?-1:l.source==="listing"&&u.source==="connector"?1:l.label.toLowerCase().localeCompare(u.label.toLowerCase())})),walletCount:o.length}}constructor(e,r){this.chainFilter=e,r&&r.length>0&&(this.normalizedAllowList=r.map(String),this.normalizedAllowList.includes("binance")&&this.normalizedAllowList.push("binance-defi-wallet")),this.detectedGeneric=this.normalizedAllowList?.includes("detected_wallets")??!1,this.detectedEth=this.normalizedAllowList?.includes("detected_ethereum_wallets")??!1,this.detectedSol=this.normalizedAllowList?.includes("detected_solana_wallets")??!1,this.includeWalletConnect=this.normalizedAllowList?.includes("wallet_connect")??!1,this.includeWalletConnectQr=this.normalizedAllowList?.includes("wallet_connect_qr")??!1}}var qN=t=>w.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...t,children:[w.jsx("path",{d:"m0 0h32v32h-32z",fill:"#5469d4"}),w.jsx("path",{d:"m15.997 5.333-.143.486v14.106l.143.143 6.548-3.87z",fill:"#c2ccf4"}),w.jsx("path",{d:"m15.996 5.333-6.548 10.865 6.548 3.87z",fill:"#fff"}),w.jsx("path",{d:"m15.997 21.306-.08.098v5.025l.08.236 6.552-9.227z",fill:"#c2ccf4"}),w.jsx("path",{d:"m15.996 26.665v-5.36l-6.548-3.867z",fill:"#fff"}),w.jsx("path",{d:"m15.995 20.07 6.548-3.87-6.548-2.976v6.847z",fill:"#8698e8"}),w.jsx("path",{d:"m9.448 16.2 6.548 3.87v-6.846z",fill:"#c2ccf4"})]}),HN=t=>w.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...t,children:[w.jsxs("linearGradient",{id:"a",gradientUnits:"userSpaceOnUse",x1:"7.233",x2:"24.766",y1:"24.766",y2:"7.234",children:[w.jsx("stop",{offset:"0",stopColor:"#9945ff"}),w.jsx("stop",{offset:".2",stopColor:"#7962e7"}),w.jsx("stop",{offset:"1",stopColor:"#00d18c"})]}),w.jsx("path",{d:"m0 0h32v32h-32z",fill:"#10111a"}),w.jsx("path",{clipRule:"evenodd",d:"m9.873 20.41a.645.645 0 0 1 .476-.21l14.662.012a.323.323 0 0 1 .238.54l-3.123 3.438a.643.643 0 0 1 -.475.21l-14.662-.012a.323.323 0 0 1 -.238-.54zm15.376-2.862a.322.322 0 0 1 -.238.54l-14.662.012a.642.642 0 0 1 -.476-.21l-3.122-3.44a.323.323 0 0 1 .238-.54l14.662-.012a.644.644 0 0 1 .475.21zm-15.376-9.738a.644.644 0 0 1 .476-.21l14.662.012a.322.322 0 0 1 .238.54l-3.123 3.438a.643.643 0 0 1 -.475.21l-14.662-.012a.323.323 0 0 1 -.238-.54z",fill:"url(#a)",fillRule:"evenodd"})]});const Gdt=he.div.withConfig({displayName:"WalletIconWithActiveIndicator",componentId:"sc-9b65f2b6-2"})(["position:relative;display:inline-flex;align-items:center;&::after{content:' ';border-radius:var(--privy-border-radius-full);height:6px;width:6px;background-color:var(--privy-color-icon-success);position:absolute;right:-3px;top:-3px;}"]),Zb=he.img.withConfig({displayName:"WalletIcon",componentId:"sc-9b65f2b6-3"})(["width:32px;height:32px;border-radius:0.25rem;object-fit:contain;"]),Ydt=he.span.withConfig({displayName:"Chip",componentId:"sc-9b65f2b6-4"})(["display:flex;gap:0.25rem;align-items:center;padding:0.25rem 0.5rem;font-size:0.75rem;font-weight:500;line-height:1.125rem;border-radius:var(--privy-border-radius-sm);background-color:var(--privy-color-background-2);svg{width:100%;max-width:1rem;max-height:1rem;stroke-width:2;}"]),Zdt=Nw((()=>({isModalOpen:!1,resolvers:null})));Nw((()=>({})));const Qdt=({address:t,client:e,appId:r})=>{let n=`${e}:${t}`;r&&or.put(Jdt(r),n),Zdt.setState({wallet:n})},Jdt=t=>`privy:${t}:active-wallet-connection`;function r0e({walletList:t,walletChainType:e}){let r=fn(),{connectors:n}=$t(),i=n6((E=>E.listings)),s=e??r.appearance.walletChainType,o=t??r.appearance?.walletList,a=B.useMemo((()=>new fl(s,o)),[s,o]),{wallets:l,walletCount:u}=B.useMemo((()=>a.getWallets(n,i)),[a,n,i]),[c,h]=B.useState(""),m=B.useMemo((()=>c?l.filter((E=>E.label.toLowerCase().includes(c.toLowerCase()))):l),[c,l]),[y,b]=B.useState();return{selected:y,setSelected:b,search:c,setSearch:h,wallets:m,walletCount:u}}let n0e=t=>!t||typeof t!="string"&&(t instanceof UL||t instanceof WL);const VN=({index:t,style:e,data:r,recent:n})=>{let i=r.wallets[t],{walletChainType:s,handleWalletClick:o}=r,a={...e,boxSizing:"border-box"};return i?w.jsxs(x8,{style:a,onClick:()=>o(i),children:[i.icon&&(i.connector&&!n0e(i.connector)?w.jsx(Gdt,{children:typeof i.icon=="string"?w.jsx(Zb,{src:i.icon}):w.jsx(i.icon,{style:{width:"32px",height:"32px"}})}):typeof i.icon=="string"?w.jsx(Zb,{src:i.icon}):w.jsx(i.icon,{style:{width:"32px",height:"32px"}})),w.jsx(E8,{children:i.label}),n?w.jsxs(w.Fragment,{children:[w.jsx(Ydt,{children:"Last used"}),w.jsx(JE,{children:w.jsxs(w.Fragment,{children:[s==="ethereum-only"&&w.jsx(qN,{}),s==="solana-only"&&w.jsx(HN,{})]})})]}):w.jsx(JE,{children:!(s==="ethereum-only"||s==="solana-only")&&w.jsxs(w.Fragment,{children:[i.chains?.some((l=>l.startsWith("eip155")))&&w.jsx(qN,{}),i.chains?.some((l=>l.startsWith("solana")))&&w.jsx(HN,{})]})})]}):null};var i0e=({className:t,suggestedAddress:e,customDescription:r,connectOnly:n,preSelectedWalletId:i,...s})=>{let o=fn(),{connectors:a}=$t(),l=s.walletChainType||o.appearance.walletChainType,u=s.walletList||o.appearance?.walletList,{onBack:c,onClose:h,app:m}=s,{selected:y,setSelected:b,qrUrl:E,setQrUrl:A,connecting:M,uiState:O,wallets:P,walletCount:z,handleConnect:L,handleBack:W,showSearchBar:H,isInitialConnectView:G,title:N,search:F,setSearch:U}=(function({onConnect:k,onBack:T,onClose:R,onConnectError:I,walletList:f,walletChainType:S,app:K}){let D=fn(),{connectors:J}=$t(),{wallets:ne,walletCount:ie,search:ce,setSearch:Se,selected:ye,setSelected:Ae}=r0e({walletList:f,walletChainType:S}),[tt,Ce]=B.useState(),[je,mt]=B.useState(),[pe,Le]=B.useState(),Mt=!ye&&!je&&!pe,Ie=Mt&&(ie>6||ce.length>0),Me=J.find((At=>At.connectorType==="wallet_connect_v2")),ht=B.useCallback((async(At,it)=>{if(At){if(pe?.connector===At)return void console.log("Already connecting to this wallet, skipping duplicate attempt");if(Ce("loading"),typeof At=="string")return Le({connector:At,name:it?.name??"Wallet",icon:it?.icon}),void window.open(At,"_blank");Le({connector:At,name:it?.name??At.walletBranding.name??"Wallet",icon:it?.icon??At.walletBranding.icon});try{let et=await At.connect({showPrompt:!0});if(!et)return Ce("error"),void I?.(new Vn("Unable to connect wallet"));Ce("success"),Qdt({address:et.address,client:et.walletClientType,appId:D.id}),setTimeout((()=>{k({connector:At,wallet:et})}),li)}catch(et){if(console.error("ERROR: ",{e:et}),et?.message?.includes("already pending for origin")||et?.message?.includes("wallet_requestPermissions"))return void console.log("Connection request already pending, maintaining loading state");Ce("error"),I?.(new Vn("Unable to connect wallet"))}}}),[D.id,k,pe]),Je=B.useCallback((()=>je?(Ce(void 0),Le(void 0),void mt(void 0)):pe?(Ce(void 0),void Le(void 0)):ye?(Ce(void 0),Le(void 0),void Ae(void 0)):tt==="error"||tt==="loading"?(Ce(void 0),void Le(void 0)):void T?.()),[je,pe,ye,tt,T]),De=B.useMemo((()=>pe?.connector===Me&&je&&hn.isMobile?`Go to ${pe.name} to continue`:pe?.connector===Me&&je?`Scan code to connect to ${pe.name}`:typeof pe?.connector=="string"?`Open or install ${pe.name}`:ye&&!pe?"Select network":pe?null:"Select your wallet"),[pe,je,ye,Me]);return{selected:ye,setSelected:Ae,qrUrl:je,setQrUrl:mt,connecting:pe,uiState:tt,search:ce,setSearch:Se,wallets:ne,walletCount:ie,wc:Me,isInitialConnectView:Mt,showSearchBar:Ie,title:De,handleConnect:ht,handleBack:Je,onClose:R,onConnect:k,app:K}})({...s,walletList:u,walletChainType:l}),j=a.find((k=>k.connectorType==="wallet_connect_v2")),_=B.useRef(null),d=wMe({count:P.length,getScrollElement:()=>_.current,estimateSize:()=>56,overscan:6,gap:5}),g=B.useCallback((async k=>{let T,R=l!=="solana-only"&&k.chains?.some((S=>S.startsWith("eip155"))),I=l!=="ethereum-only"&&k.chains?.some((S=>S.startsWith("solana"))),f=zL[k.id];if(I&&f)T=f.getMobileRedirect({isSolana:!0,connectOnly:!!n,useUniversalLink:!1});else{let S=k.listing?.mobile?.native;T=k.listing?.mobile?.universal||S||k.url}if(R&&I){let S=fl.normalize(k.id),K=a.filter((ne=>fl.normalize(ne.walletClientType)===S&&!(ne.chainType==="ethereum"&&ne instanceof UL||ne.chainType==="solana"&&ne instanceof WL))),D=K.find((ne=>ne.chainType==="ethereum")),J=K.find((ne=>ne.chainType==="solana"));if(!D&&k.listing){let ne=hy[k.listing.slug]?{...k.listing,...hy[k.listing.slug]}:k.listing;j.setWalletEntry(ne,A),await j.resetConnection(k.id),D=j}if(!J&&T&&(J=T),D||J)return void b({eth:D,sol:J,name:k.label,icon:k.icon})}if(!n0e(k.connector))return k.connector?.connectorType==="wallet_connect_v2"&&(await j.resetConnection(k.id),j.setWalletEntry({id:"wallet_connect_qr",name:"WalletConnect",rdns:"",slug:"wallet-connect",homepage:"",chains:["eip155"],mobile:{native:"",universal:void 0}},A)),void await L(k.connector,{name:k.label,icon:k.icon});if(R||I||k.url||k.listing){if(R&&k.listing){let S=hy[k.listing.slug]?{...k.listing,...hy[k.listing.slug]}:k.listing;j.setWalletEntry(S,A),await j.resetConnection(k.id)}if(R&&I)return void b({eth:j,sol:T,name:k.label,icon:k.icon});if(I)return void await L(T,{name:k.label,icon:k.icon});if(R)return void(k.listing?await L(j,{name:k.label,icon:k.icon}):k.url?await L(k.url,{name:k.label,icon:k.icon}):console.warn("Cannot connect to EVM wallet without connector or listing details:",k.label));if(k.url)return void await L(k.url,{name:k.label,icon:k.icon})}}),[j,L,b,A,W,h,m,G,N,r,e,o,a]),x=c||W,C=!!c||!G;return B.useEffect((()=>{if(!i)return;let k=P.find((({id:T})=>T===i));k&&g(k).catch(console.error)}),[i]),w.jsxs(jn,{className:t,children:[w.jsx(jn.Header,{icon:M&&!E||E&&hn.isMobile&&M?.icon?M.icon:M?void 0:t0e,iconVariant:M&&!E||E&&hn.isMobile?"loading":void 0,iconLoadingStatus:M&&!E||E&&hn.isMobile?{success:O==="success",fail:O==="error"}:void 0,title:M&&!E?`Waiting for ${M.name}`:E&&hn.isMobile?`Waiting for ${M?.name??"connection"}`:N,subtitle:M&&!E&&typeof M.connector=="string"?`To connect to ${M.name}, install and open the app. Then confirm the connection when prompted.`:M&&!E&&typeof M.connector!="string"?O==="error"?"Please try connecting again.":"For the best experience, connect only one wallet at a time.":G?r??(e?w.jsxs("span",{children:["Connect the wallet with address ",w.jsx(Vr,{address:e})," ",m?.name?`to ${m.name}.`:"."]}):m?`Connect a wallet to your ${m.name} account`:null):null,showBack:C,showClose:!0,onBack:x,onClose:h}),w.jsxs(jn.Body,{ref:_,$colorScheme:o.appearance.palette.colorScheme,style:{marginBottom:E?"0.5rem":void 0},children:[H&&w.jsx(Xdt,{children:w.jsxs(Xfe,{style:{background:"transparent"},children:[w.jsx(Sm,{children:w.jsx(Yot,{})}),w.jsx("input",{className:"login-method-button",type:"text",placeholder:"Search wallets",onChange:k=>U(k.target.value),value:F})]})}),E&&hn.isMobile&&O==="loading"&&w.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:w.jsx(Qg,{variant:"primary",onClick:()=>window.open(E.universal??E.native,"_blank"),style:{width:"100%"},children:"Open in app"})}),E&&!hn.isMobile&&O==="loading"&&w.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:w.jsx(rht,{value:E.universal??E.native,iconOnly:!0,children:"Copy link"})}),E&&!hn.isMobile&&w.jsx(l6,{size:280,url:E.universal??E.native,squareLogoElement:M?.icon?typeof M.icon=="string"?k=>w.jsx("svg",{...k,children:w.jsx("image",{href:M.icon,height:k.height,width:k.width})}):M.icon:clt}),w.jsxs(eht,{children:[M&&!E&&typeof M.connector=="string"&&w.jsxs(x8,{onClick:()=>window.open(M.connector,"_blank"),children:[M.icon&&(typeof M.icon=="string"?w.jsx(Zb,{src:M.icon}):w.jsx(M.icon,{})),w.jsx(E8,{children:M.name})]}),y?.eth&&!M&&w.jsxs(x8,{onClick:()=>L(y.eth,{name:y.name,icon:y.icon}),children:[y.icon&&(typeof y.icon=="string"?w.jsx(Zb,{src:y.icon}):w.jsx(y.icon,{})),w.jsx(E8,{children:y.name}),w.jsx(JE,{children:w.jsx(qN,{})})]}),y?.sol&&!M&&w.jsxs(x8,{onClick:()=>L(y.sol,{name:y.name,icon:y.icon}),children:[y.icon&&(typeof y.icon=="string"?w.jsx(Zb,{src:y.icon}):w.jsx(y.icon,{})),w.jsx(E8,{children:y.name}),w.jsx(JE,{children:w.jsx(HN,{})})]}),G&&w.jsxs(w.Fragment,{children:[!(z>0)&&w.jsx(tht,{children:"No wallets found. Try another search."}),z>0&&!E&&w.jsx("div",{style:{maxHeight:56*Math.min(P.length,5)+5,width:"100%"},children:w.jsx("div",{style:{height:`${d.getTotalSize()}px`,width:"100%",position:"relative"},children:d.getVirtualItems().map((k=>w.jsx(VN,{index:k.index,style:{position:"absolute",top:0,left:0,height:`${k.size}px`,transform:`translateY(${k.start}px)`},data:{wallets:P,walletChainType:l,handleWalletClick:g}},k.key)))})})]})]})]}),w.jsxs(jn.Footer,{children:[M&&!E&&typeof M.connector!="string"&&O==="error"&&w.jsx(jn.Actions,{children:w.jsx(Qg,{style:{width:"100%",alignItems:"center"},variant:"error",onClick:()=>L(M.connector,{name:M.name,icon:M.icon}),children:"Retry"})}),!!(m&&m.legal.privacyPolicyUrl&&m.legal.termsAndConditionsUrl)&&w.jsx(VL,{app:m,alwaysShowImplicitConsent:!0}),w.jsx(jn.Watermark,{})]})]})};let Xdt=he.div.withConfig({displayName:"StickySearchContainer",componentId:"sc-ee081e08-0"})(["position:sticky;margin-top:-3px;padding-top:3px;top:-3px;z-index:1;background:var(--privy-color-background);padding-bottom:calc(var(--screen-space) / 2);"]),eht=he.div.withConfig({displayName:"WalletListContainer",componentId:"sc-ee081e08-1"})(["display:flex;flex-direction:column;gap:","px;"],5),x8=he.button.withConfig({displayName:"Button",componentId:"sc-ee081e08-2"})(["button&{gap:0.5rem;align-items:center;display:flex;position:relative;text-align:left;font-weight:500;transition:background 200ms ease-in;width:calc(100% - 4px);border-radius:var(--privy-border-radius-md);padding:0.75em;border:1px solid var(--privy-color-foreground-4);justify-content:space-between;}&:hover{background:var(--privy-color-background-2);}"]),JE=he.span.withConfig({displayName:"ButtonBadge",componentId:"sc-ee081e08-3"})(["display:flex;align-items:center;justify-content:end;position:relative;& > svg{border-radius:var(--privy-border-radius-full);stroke-width:2.5;width:100%;max-height:1rem;max-width:1rem;flex-shrink:0;}& > svg:not(:last-child){border-radius:var(--privy-border-radius-full);margin-right:-0.375rem;}"]),tht=he.div.withConfig({displayName:"EmptyContainer",componentId:"sc-ee081e08-4"})(["height:60px;display:flex;align-items:center;justify-content:center;text-align:center;"]),E8=he.span.withConfig({displayName:"WalletName",componentId:"sc-ee081e08-5"})(["text-overflow:ellipsis;white-space:nowrap;color:var(--privy-color-foreground);font-weight:400;flex:1;"]),rht=he(Bdt).withConfig({displayName:"StyledCopyableText",componentId:"sc-ee081e08-6"})(["&&{margin:0.5rem auto 0 auto;}"]);const nht=({...t})=>w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",...t,children:[w.jsxs("g",{clipPath:"url(#clip0_2856_1743)",children:[w.jsx("path",{d:"M22.1673 8.24075V16.3642C22.1673 17.3256 21.3421 18.105 20.3241 18.105H17.0028M22.1673 8.24075C22.1673 7.27936 21.3421 6.5 20.3241 6.5H11.5302M22.1673 8.24075V8.42852C22.1673 9.03302 21.8352 9.59423 21.2901 9.91105L15.1463 13.4818C14.5539 13.8261 13.8067 13.8261 13.2143 13.4818L10.1621 11.5401",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),w.jsx("path",{d:"M3.12913 6.64816C0.508085 12.9507 3.49251 20.1847 9.79504 22.8057L11.5068 23.5176C12.4522 23.9108 13.7783 23.2222 14.1714 22.2768L14.6054 21.2333C14.7687 20.8406 14.6438 20.3871 14.3024 20.1334L11.2872 17.8927C10.9878 17.6702 10.5843 17.6488 10.2632 17.8384L9.11575 18.5156C8.78274 18.7121 8.3597 18.6844 8.07552 18.4221C5.94293 16.4542 4.77629 13.6264 4.90096 10.7273C4.91757 10.3409 5.19796 10.023 5.57269 9.92753L6.86381 9.59869C7.22522 9.50664 7.49627 9.20696 7.55169 8.83815L8.10986 5.12321C8.17306 4.70259 7.94188 4.29293 7.54915 4.1296L6.50564 3.69564C5.56026 3.30248 4.23416 3.99103 3.84101 4.9364L3.12913 6.64816Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),w.jsx("defs",{children:w.jsx("clipPath",{id:"clip0_2856_1743",children:w.jsx("rect",{x:"0.5",y:"0.5",width:"24",height:"24",rx:"6",fill:"white"})})})]}),EQ=t=>{let e=localStorage.getItem("-walletlink:https://www.walletlink.org:Addresses")?.split(" ").filter((r=>ra(r,{strict:!0}))).map((r=>Ni(r)));return!!e?.length&&!!t?.linkedAccounts.filter((r=>r.type=="wallet"&&e.includes(r.address))).length};let s0e=B.createContext({plugins:{current:{}}});const iht=({children:t})=>{let e=B.useRef({});return w.jsx(s0e.Provider,{value:{plugins:e},children:t})},Jw=()=>{let{plugins:t}=B.useContext(s0e);return B.useCallback((e=>t.current[e]),[t])},o0e=Symbol("solana-ledger-plugin"),sht=({title:t="You don't have access to this app",subtitle:e="Have you been invited?",ctaText:r="Try another account",ctaLink:n,onCtaClick:i})=>w.jsx(on,{title:t,subtitle:e,icon:Ej,iconVariant:"warning",primaryCta:{label:r,onClick:()=>{n?window.open(n,"_blank"):i?.()}},watermark:!0}),_A={component:()=>{let{navigate:t,app:e}=jt(),r=e?.allowlistConfig.errorTitle||"You don't have access to this app",n=e?.allowlistConfig.errorDetail||"Have you been invited?",i=e?.allowlistConfig.errorCtaText||"Try another account",s=e?.allowlistConfig.errorCtaLink;return w.jsx(sht,{title:r,subtitle:n,ctaText:i,ctaLink:s??void 0,onCtaClick:()=>{t(Ro)}})}},oht=({status:t,title:e,description:r,userIntentRequired:n,retriesRemaining:i,hasSelectedCta:s,onContinue:o,onRetry:a})=>{let l=B.useMemo((()=>{switch(t){case"loading":default:return;case"success":return n?{label:s?"Continuing...":"Continue",onClick:o,disabled:s,loading:s}:void 0;case"error":return i>0?{label:"Retry",onClick:a}:void 0}}),[t,s,o,a]),u=B.useMemo((()=>({loading:"loading",ready:"subtle",disabled:"subtle",success:"success",error:"error"})[t]||"loading"),[t]);return w.jsx(on,{icon:t==="loading"||t==="ready"?void 0:t==="success"?W5:C9,iconVariant:u,title:e,subtitle:r,primaryCta:l,watermark:!0})},_u={component:()=>{let{lastScreen:t,data:e,navigate:r,setModalData:n}=jt(),{status:i,token:s,waitForResult:o,reset:a,execute:l}=No(),u=B.useRef([]),c=H=>{u.current=[H,...u.current]},[h,m]=B.useState(!0);B.useEffect((()=>(c(setTimeout(m,1e3,!1)),()=>{u.current.forEach((H=>clearTimeout(H))),u.current=[]})),[]);let[y,b]=B.useState(""),[E,A]=B.useState("Checking that you are a human..."),[M,O]=B.useState(!1),[P,z]=B.useState(3),L=e?.captchaModalData,W=async H=>{try{await L?.callback(H),L?.onSuccessNavigateTo&&r(L?.onSuccessNavigateTo,!1)}catch(G){if(G instanceof Yg)return;n({errorModalData:{error:G,previousScreen:t||Ro}}),r(L?.onErrorNavigateTo||ci,!1)}};return B.useEffect((()=>{i==="success"?c(setTimeout((async()=>{let H=await o();!H||L?.userIntentRequired||W(H)}),1e3)):i==="ready"&&c(setTimeout((()=>{i==="ready"&&l()}),500))}),[i]),B.useEffect((()=>{if(!h)switch(i){case"success":b("Success!"),A("CAPTCHA passed successfully."),L?.userIntentRequired||setTimeout((()=>{O(!0),W(s)}),2e3);break;case"loading":b(""),A("Checking that you are a human...");break;case"error":b("Something went wrong"),A(P<=0?"If you use an adblocker or VPN, try disabling and re-attempting.":"You did not pass CAPTCHA. Please try again.")}}),[i,h,M]),w.jsx(oht,{status:i,title:y,description:E,userIntentRequired:L?.userIntentRequired,retriesRemaining:P,hasSelectedCta:M,onContinue:()=>{O(!0),W(s)},onRetry:async()=>{if(P<=0)return;z((G=>G-1)),a(),l();let H=await o();!H||L?.userIntentRequired||W(H)}})}},aht=t=>w.jsx("svg",{id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"-0.625 12.48 397.647 399.546",width:"2500",height:"674",preserveAspectRatio:"none",...t,children:w.jsx("g",{children:w.jsx("path",{fill:"#333745",d:"M 333.9 12.8 L 150.9 12.8 L 150.9 258.4 L 396.5 258.4 L 396.5 76.7 C 396.6 42.2 368.4 12.8 333.9 12.8 Z M 94.7 12.8 L 64 12.8 C 29.5 12.8 0 40.9 0 76.8 L 0 107.5 L 94.7 107.5 L 94.7 12.8 Z M 0 165 L 94.7 165 L 94.7 259.7 L 0 259.7 L 0 165 Z M 301.9 410.6 L 332.6 410.6 C 367.1 410.6 396.6 382.5 396.6 346.6 L 396.6 316 L 301.9 316 L 301.9 410.6 Z M 150.9 316 L 245.6 316 L 245.6 410.7 L 150.9 410.7 L 150.9 316 Z M 0 316 L 0 346.7 C 0 381.2 28.1 410.7 64 410.7 L 94.7 410.7 L 94.7 316 L 0 316 Z"})})}),lht=({onContinueWithLedger:t,onContinueWithoutLedger:e,title:r="Phantom supports Ledger",subtitle:n=`Are you using a Ledger hardware wallet?
Continue to sign with Ledger`})=>w.jsx(on,{title:r,subtitle:w.jsx(dht,{children:n}),primaryCta:{label:"Continue with Ledger",onClick:t},secondaryCta:{label:"Continue without Ledger",onClick:e},watermark:!0,children:w.jsxs(uht,{children:[w.jsx(Fhe,{style:{width:"48px",height:"48px"}}),w.jsx(XRe,{strokeWidth:2,color:"var(--privy-color-icon-subtle)",width:22,height:22}),w.jsx(aht,{style:{width:"48px",height:"48px"}})]})}),cht={component:function(){let{data:t,setModalData:e,navigate:r}=jt();return w.jsx(lht,{onContinueWithLedger:function(){e({...t,login:{...t?.login,isSigningInWithLedgerSolana:!0}}),r(Dh)},onContinueWithoutLedger:function(){e({...t,login:{...t?.login,isSigningInWithLedgerSolana:!1}}),r(Dh)}})}};let uht=he.div.withConfig({displayName:"IconContainer",componentId:"sc-218811f1-0"})(["display:flex;align-items:center;justify-content:center;gap:8px;margin-bottom:var(--screen-space);"]),dht=he.span.withConfig({displayName:"SubtitleText",componentId:"sc-218811f1-1"})(["white-space:pre-wrap;"]);const hht=({style:t,...e})=>w.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"38px",width:"38px",...t},...e,children:w.jsx("path",{d:"M20 13.6V20M20 26.4H20.016M36 20C36 28.8365 28.8366 36 20 36C11.1635 36 4.00001 28.8365 4.00001 20C4.00001 11.1634 11.1635 3.99999 20 3.99999C28.8366 3.99999 36 11.1634 36 20Z",stroke:"currentColor",strokeWidth:"3.2",strokeLinecap:"round",strokeLinejoin:"round"})}),fht=({title:t="Unable to sign in",subtitle:e="This is a test application that has reached its user limit. To allow more users, this app needs to be upgraded to production.",onGoBack:r})=>w.jsx(on,{title:t,subtitle:e,icon:hht,iconVariant:"subtle",primaryCta:{label:"Go back",onClick:r},showBack:!0,onBack:r,watermark:!0}),c6={component:()=>{let{navigate:t}=jt();return w.jsx(fht,{onGoBack:()=>{t(Ro)}})}},a0e=t=>t?.privyErrorCode===Ee.LINKED_TO_ANOTHER_USER?A0.ERROR_USER_EXISTS:t instanceof Fo&&!t.details.default?t.details:t instanceof Lhe?A0.ERROR_TIMED_OUT:t instanceof Dhe?A0.ERROR_USER_REJECTED_CONNECTION:t?.privyErrorCode===Ee.CANNOT_LINK_MORE_OF_TYPE?A0.ERROR_USER_LIMIT_REACHED:A0.ERROR_WALLET_CONNECTION,pht=({walletLogo:t,title:e,subtitle:r,signSuccess:n,errorMessage:i,connectSuccess:s,separateConnectAndSign:o,signing:a,walletConnectRedirectUri:l,walletConnectFallbackUniversalUri:u,hasTabbedAway:c,showCoinbaseWalletResetCta:h,numRetries:m,onBack:y,onSign:b,onRetry:E,onCoinbaseReset:A,onDifferentWallet:M})=>{let O=h?{label:"Use a different wallet",onClick:A,disabled:n}:i===A0.ERROR_USER_EXISTS&&y?{label:"Use a different wallet",onClick:M}:s&&!n&&o?{label:a?"Signing":"Sign with your wallet",onClick:b,disabled:a}:!n&&i?.retryable&&m<2?{label:"Retry",onClick:E,disabled:!1}:n||i?void 0:{label:"Connecting",onClick:()=>{},disabled:!0};return w.jsx(on,{title:e,subtitle:r,icon:t,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!i},primaryCta:O,onBack:y,watermark:!0,children:!s&&l&&!c&&w.jsxs(ght,{children:["Still here?"," ",w.jsx(fw,{href:l,target:"_blank",variant:"underlined",size:"sm",children:"Try connecting again"}),u&&w.jsxs(w.Fragment,{children:[" ","or"," ",w.jsx(fw,{href:u,target:"_blank",variant:"underlined",size:"sm",children:"use this different link"})]})]})})},Dh={component:()=>{let t,[e,r]=B.useState(!1),[n,i]=B.useState(!1),[s,o]=B.useState(void 0),{authenticated:a,logout:l}=Kr(),{app:u,navigate:c,navigateBack:h,lastScreen:m,currentScreen:y,setModalData:b,data:E}=jt(),{getAuthFlow:A,walletConnectionStatus:M,closePrivyModal:O,initLoginWithWallet:P,loginWithWallet:z,updateWallets:L,createAnalyticsEvent:W}=$t(),{walletConnectors:H}=Kr(),[G,N]=B.useState(0),{user:F}=Kr(),U=Jw(),[j]=B.useState(F?.linkedAccounts.length||0),[_,d]=B.useState(""),[g,x]=B.useState(""),[C,k]=B.useState(!1),{hasTabbedAway:T}=(function(){let[mt,pe]=B.useState(!1),Le=B.useCallback((()=>{document.hidden&&pe(!0)}),[]);return B.useEffect((()=>(document.addEventListener("visibilitychange",Le),()=>document.removeEventListener("visibilitychange",Le))),[Le]),{hasTabbedAway:mt,reset:()=>pe(!1)}})(),{enabled:R,token:I}=No(),f=tf(M?.connector?.walletClientType||"unknown"),S=hn.isMobile&&M?.connector?.connectorType==="wallet_connect_v2"||hn.isMobile&&M?.connector?.connectorType==="coinbase_wallet"||hn.isMobile&&M?.connector?.connectorType==="base_account"||hn.isMobile&&M?.connector?.connectorType==="injected"&&M?.connector?.walletClientType==="phantom"||hn.isMobile&&M?.connector?.connectorType==="solana_adapter"&&M.connector.walletClientType==="mobile_wallet_adapter",K=M?.status==="connected",D=M?.status==="switching_to_supported_chain";B.useEffect((()=>{let mt=A(),pe=mt instanceof Iy||mt instanceof zE?mt:void 0;K&&M.connector?.chainType==="solana"&&M.connector?.walletClientType==="phantom"&&U(o0e)&&E?.login?.isSigningInWithLedgerSolana===void 0?c(cht,!1):(K&&!pe&&(!R||I||a?P(M.connectedWallet,I,E?.login?.disableSignup,E?.login?.isSigningInWithLedgerSolana?"transaction":"plain").then((()=>{k(!0)})):(b({captchaModalData:{callback:Le=>P(M.connectedWallet,Le,E?.login?.disableSignup,E?.login?.isSigningInWithLedgerSolana?"transaction":"plain").then((()=>{k(!0)})),userIntentRequired:!1,onSuccessNavigateTo:Dh,onErrorNavigateTo:ci}}),c(_u,!1))),pe instanceof zE&&E?.login?.isSigningInWithLedgerSolana&&(pe.messageType="transaction"),pe&&S&&K&&!pe.preparedMessage?pe.buildMessage():pe&&!S&&K&&(n||(async()=>{i(!0),o(void 0);try{M?.connector?.connectorType==="wallet_connect_v2"&&M?.connector?.walletClientType==="metamask"&&await WE(2500),await ne()}catch(Le){console.warn("Auto-prompted signature failed",Le)}finally{i(!1)}})()))}),[G,K,C]),B.useEffect((()=>{if(F&&e){let mt=900;if(u?.legal.requireUsersAcceptTerms&&!F.hasAcceptedTerms){let Le=setTimeout((()=>{c(Im)}),mt);return()=>clearTimeout(Le)}if(cp(F,u.embeddedWallets)){let Le=setTimeout((()=>{b({createWallet:{onSuccess:()=>{},onFailure:Mt=>{console.error(Mt),W({eventName:"embedded_wallet_creation_failure_logout",payload:{error:Mt,screen:"ConnectionStatusScreen"}}),l()},callAuthOnSuccessOnClose:!0}}),c(nf)}),mt);return()=>clearTimeout(Le)}L();let pe=setTimeout((()=>O({shouldCallAuthOnSuccess:!0,isSuccess:!0})),li);return()=>clearTimeout(pe)}}),[F,e]);let J=mt=>{if(mt?.privyErrorCode!==Ee.ALLOWLIST_REJECTED){if(mt?.privyErrorCode===Ee.USER_LIMIT_REACHED)return console.error(new O5(mt).toString()),void c(c6);if(mt?.privyErrorCode!==Ee.USER_DOES_NOT_EXIST)return mt?.privyErrorCode===Ee.ACCOUNT_TRANSFER_REQUIRED&&mt.data?.data?.nonce?(b({accountTransfer:{nonce:mt.data?.data?.nonce,account:A()?.meta.address,displayName:mt.data?.data?.account?.displayName,externalWalletMetadata:{walletClientType:A()?.meta.walletClientType,chainId:A()?.meta.chainId,connectorType:A()?.meta.connectorType},linkMethod:A()instanceof Iy?"siwe":"siws",embeddedWalletAddress:mt.data?.data?.otherUser?.embeddedWalletAddress}}),void c(km)):void o(a0e(mt));c(o6)}else c(_A)};async function ne(){try{await z(),r(!0)}catch(mt){J(mt)}finally{i(!1)}}B.useEffect((()=>{M?.connectError&&J(M?.connectError)}),[M]),((mt,pe)=>{let Le=B.useRef((()=>{}));B.useEffect((()=>{Le.current=mt})),B.useEffect((()=>{if(pe!==null){let Mt=setInterval((()=>Le.current()),pe||0);return()=>clearInterval(Mt)}}),[pe])})((()=>{let mt=ie==="wallet_connect_v2"&&M?.connector instanceof $y?M.connector.redirectUri:void 0;mt&&d(mt);let pe=ie==="wallet_connect_v2"&&M?.connector instanceof $y?M.connector.fallbackUniversalRedirectUri:void 0;pe&&x(pe)}),M?.connector instanceof $y&&!_?500:null);let ie=M?.connector?.connectorType||"injected",ce=M?.connector?.walletClientType||"unknown",Se=f?.metadata?.shortName||f?.name||M?.connector?.walletBranding.name||"Browser Extension",ye=f?.image_url?.md||M?.connector?.walletBranding.icon||(mt=>w.jsx(FL,{...mt})),Ae=Se==="Browser Extension"?Se.toLowerCase():Se;t=e?`Successfully connected with ${Ae}`:s?s.message:D?"Switching networks":K?n&&S?"Signing":"Sign to verify":`Waiting for ${Ae}`;let tt="Don’t see your wallet? Check your other browser windows.";e?tt=j===(F?.linkedAccounts.length||0)?"Wallet was already linked.":"You’re good to go!":G>=2&&s?tt="Unable to connect wallet":s?tt=s.detail:D?tt="Switch your wallet to the requested network.":K&&S?tt="Sign the message in your wallet to verify it belongs to you.":ce==="metamask"&&hn.isMobile?tt="Click continue to open and connect MetaMask.":ce==="metamask"?tt="For the best experience, connect only one wallet at a time.":ie==="wallet_connect"?tt="Open your mobile wallet app to continue":ie==="coinbase_wallet"?Mhe()||(tt=EQ(F)?"Continue with the Coinbase app. Not the right wallet? Reset your connection below.":"Open the Coinbase app on your phone to continue."):E?.login?.isSigningInWithLedgerSolana&&(tt="Ledger requires a transaction to verify your identity. You’ll sign a transaction that performs no onchain action.");let Ce=H?.walletConnectors?.find((mt=>mt.walletClientType==="coinbase_wallet")),je=ce==="coinbase_wallet"&&(EQ(F)||s===A0.ERROR_USER_EXISTS);return w.jsx(pht,{walletLogo:ye,title:t,subtitle:tt,signSuccess:e,errorMessage:s,connectSuccess:K,separateConnectAndSign:S,signing:n,walletConnectRedirectUri:_,walletConnectFallbackUniversalUri:g,hasTabbedAway:T,showCoinbaseWalletResetCta:je,numRetries:G,onBack:m&&y!==m?h:void 0,onSign:()=>{i(!0),ne()},onRetry:()=>{N(G+1),o(void 0),K?(i(!0),ne()):M?.connectRetry()},onCoinbaseReset:()=>{Ce&&Ce?.disconnect()},onDifferentWallet:h})}};let ght=he.p.withConfig({displayName:"RedirectLinksContainer",componentId:"sc-a5253f07-0"})(["text-align:center;color:var(--privy-color-foreground-2);font-size:14px;line-height:22px;margin:16px 0;"]);const _8={component:()=>{let{setWalletConnectionStatus:t,closePrivyModal:e,inProgressAuthFlowRef:r}=$t(),{app:n,data:i,navigate:s}=jt(),o=rf(),a=i?.externalConnectWallet?.description,l=B.useRef(i?.externalConnectWallet?.suggestedAddress).current,u=B.useRef(i?.externalConnectWallet?.walletList??n.appearance.walletList),c=B.useRef(i?.externalConnectWallet?.walletChainType??n.appearance.walletChainType),h=u.current,m=c.current,y=r.current==="link"?void 0:()=>s(Ro);return w.jsx(i0e,{walletList:h,walletChainType:m,onClose:e,onConnect:B.useCallback((({connector:b,wallet:E})=>{o("connectWallet","onSuccess",{wallet:E}),t({status:"connected",connectedWallet:E,connector:b,connectError:null,connectRetry:()=>null}),s(Dh,!i?.externalConnectWallet?.preSelectedWalletId)}),[t,s,i?.login?.disableSignup,i?.externalConnectWallet?.preSelectedWalletId]),onConnectError:b=>{b instanceof Po?(console.warn(b.cause?b.cause:b.message),o("connectWallet","onError",b.privyErrorCode||Ee.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(b),o("connectWallet","onError",Ee.UNKNOWN_CONNECT_WALLET_ERROR))},onBack:y,suggestedAddress:l,customDescription:a||"",preSelectedWalletId:i?.externalConnectWallet?.preSelectedWalletId,app:n})},isUnauthenticatedScreem:!0},KN={component:()=>{let{closePrivyModal:t}=$t(),{app:e,data:r}=jt(),n=rf(),i=r?.externalConnectWallet?.description,s=B.useRef(r?.externalConnectWallet?.suggestedAddress).current,o=B.useRef(r?.externalConnectWallet?.walletList??e.appearance.walletList),a=B.useRef(r?.externalConnectWallet?.walletChainType??e.appearance.walletChainType);return w.jsx(i0e,{walletList:o.current,walletChainType:a.current,onClose:()=>{n("connectWallet","onError",Ee.GENERIC_CONNECT_WALLET_ERROR),t()},onConnect:({wallet:l})=>{n("connectWallet","onSuccess",{wallet:l}),t()},onConnectError:l=>{l instanceof Po?(console.warn(l.cause?l.cause:l.message),n("connectWallet","onError",l.privyErrorCode||Ee.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(l),n("connectWallet","onError",Ee.UNKNOWN_CONNECT_WALLET_ERROR))},suggestedAddress:s,customDescription:i,app:e})},isUnauthenticatedScreem:!0},_Q=({chainType:t,withPadding:e})=>{let r="";return r=t==="ethereum-only"||t==="ethereum-and-solana"?"Rainbow, Phantom, or Coinbase Wallet":"Phantom or Solflare",w.jsx(Tlt,{$withPadding:e,children:w.jsxs($lt,{children:[w.jsx(Ay,{style:{color:"var(--privy-color-warn)",height:48,width:48}}),w.jsx("h3",{children:"No wallets available"}),w.jsxs("p",{children:["Please download an external wallet provider, like ",r,"."]})]})},"empty-wallet-state")};let mht=Ese(["from,to{background:var(--privy-color-foreground-4);color:var(--privy-color-foreground-4);}50%{background:var(--privy-color-foreground-accent);color:var(--privy-color-foreground-accent);}"]);const AA=us(["",""],(t=>t.$isLoading?us(["width:35%;animation:"," 2s linear infinite;border-radius:var(--privy-border-radius-sm);"],mht):"")),Md=({children:t,color:e,isLoading:r,isPulsing:n,...i})=>w.jsx(yht,{$color:e,$isLoading:r,$isPulsing:n,...i,children:t});let yht=he.span.withConfig({displayName:"StyledSpan",componentId:"sc-80725f4-0"})(["padding:0.25rem;font-size:0.75rem;font-weight:500;line-height:1rem;border-radius:var(--privy-border-radius-xs);display:flex;align-items:center;"," ",""],(t=>{let e,r;t.$color==="green"&&(e="var(--privy-color-success-dark)",r="var(--privy-color-success-light)"),t.$color==="red"&&(e="var(--privy-color-error)",r="var(--privy-color-error-light)"),t.$color==="gray"&&(e="var(--privy-color-foreground-2)",r="var(--privy-color-background-2)");let n=Ese(["from,to{background-color:",";}50%{background-color:rgba(",",0.8);}"],r,r);return us(["color:",";background-color:",";",";"],e,r,t.$isPulsing&&us(["animation:"," 3s linear infinite;"],n))}),AA);const Mg=t=>w.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[w.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#855DCD"}),w.jsxs("g",{"clip-path":"url(#clip0_1715_1960)",children:[w.jsx("path",{d:"M4.5 4H28.5V28H4.5V4Z",fill:"#855DCD"}),w.jsx("path",{d:"M11.1072 8.42105H21.6983V23.5789H20.1437V16.6357H20.1284C19.9566 14.7167 18.3542 13.2129 16.4028 13.2129C14.4514 13.2129 12.849 14.7167 12.6771 16.6357H12.6619V23.5789H11.1072V8.42105Z",fill:"white"}),w.jsx("path",{d:"M8.28943 10.5725L8.92101 12.7239H9.45542V21.4275C9.1871 21.4275 8.96959 21.6464 8.96959 21.9165V22.5032H8.87242C8.60411 22.5032 8.38659 22.7221 8.38659 22.9922V23.5789H13.8279V22.9922C13.8279 22.7221 13.6104 22.5032 13.3421 22.5032H13.2449V21.9165C13.2449 21.6464 13.0274 21.4275 12.7591 21.4275H12.1761V10.5725H8.28943Z",fill:"white"}),w.jsx("path",{d:"M20.2408 21.4275C19.9725 21.4275 19.755 21.6464 19.755 21.9165V22.5032H19.6579C19.3895 22.5032 19.172 22.7221 19.172 22.9922V23.5789H24.6133V22.9922C24.6133 22.7221 24.3958 22.5032 24.1275 22.5032H24.0303V21.9165C24.0303 21.6464 23.8128 21.4275 23.5445 21.4275V12.7239H24.0789L24.7105 10.5725H20.8238V21.4275H20.2408Z",fill:"white"})]}),w.jsx("defs",{children:w.jsx("clipPath",{id:"clip0_1715_1960",children:w.jsx("rect",{width:"24",height:"24",fill:"white",transform:"translate(4.5 4)"})})})]}),l0e=t=>{let[e,r]=B.useState(!1);return w.jsx(wht,{color:t.color,href:t.url,target:"_blank",rel:"noreferrer noopener",onClick:()=>{r(!0),setTimeout((()=>r(!1)),1500)},justOpened:e,children:t.text})};let wht=he.a.withConfig({displayName:"StyledOpenLinkButton",componentId:"sc-4e695c83-0"})(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:",";font-weight:",";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:",";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"],(t=>t.justOpened?"var(--privy-color-foreground)":t.color||"var(--privy-color-foreground-3)"),(t=>t.justOpened?"medium":"normal"),(t=>t.justOpened?"var(--privy-color-foreground)":"var(--privy-color-foreground-2)"));const va=he.span.withConfig({displayName:"LabelXs",componentId:"sc-4c43f9fd-0"})(["color:var(--privy-color-foreground-3);font-size:0.75rem;font-weight:500;line-height:1.125rem;"]);let vht=he.div.withConfig({displayName:"Container",componentId:"sc-913deead-0"})(["width:100%;"]),bht=he.div.withConfig({displayName:"InputContainer",componentId:"sc-913deead-1"})(["display:flex;align-items:center;justify-content:space-between;gap:0.75rem;padding:0.75rem;height:56px;background:",";border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);&:hover{border-color:",";}"],(t=>t.$disabled?"var(--privy-color-background-2)":"var(--privy-color-background)"),(t=>t.$disabled?"var(--privy-color-foreground-4)":"var(--privy-color-foreground-3)")),xht=he.div.withConfig({displayName:"TextContainer",componentId:"sc-913deead-2"})(["flex:1;min-width:0;display:flex;align-items:center;"]),c0e=he.span.withConfig({displayName:"Text",componentId:"sc-913deead-3"})(["display:block;font-size:16px;line-height:24px;color:",";overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;word-break:break-all;@media (min-width:441px){font-size:14px;line-height:20px;}"],(t=>t.$disabled?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)")),Eht=he(c0e).withConfig({displayName:"PlaceholderText",componentId:"sc-913deead-4"})(["color:var(--privy-color-foreground-3);font-style:italic;"]),_ht=he(va).withConfig({displayName:"TitleLabel",componentId:"sc-913deead-5"})(["margin-bottom:0.5rem;"]),Aht=he(Eu).withConfig({displayName:"CopyButton",componentId:"sc-913deead-6"})(["&&{gap:0.375rem;font-size:14px;flex-shrink:0;}"]);const Sht=({value:t,title:e,placeholder:r,className:n,showCopyButton:i=!0,truncate:s,maxLength:o=40,disabled:a=!1})=>{let[l,u]=B.useState(!1),c=s&&t?((h,m,y)=>{if((h=h.startsWith("https://")?h.slice(8):h).length<=y)return h;if(m==="middle"){let b=Math.ceil(y/2)-2,E=Math.floor(y/2)-1;return`${h.slice(0,b)}...${h.slice(-E)}`}return`${h.slice(0,y-3)}...`})(t,s,o):t;return B.useEffect((()=>{if(l){let h=setTimeout((()=>u(!1)),3e3);return()=>clearTimeout(h)}}),[l]),w.jsxs(vht,{className:n,children:[e&&w.jsx(_ht,{children:e}),w.jsxs(bht,{$disabled:a,children:[w.jsx(xht,{children:t?w.jsx(c0e,{$disabled:a,title:t,children:c}):w.jsx(Eht,{$disabled:a,children:r||"No value"})}),i&&t&&w.jsx(Aht,{onClick:function(h){h.stopPropagation(),navigator.clipboard.writeText(t).then((()=>u(!0))).catch(console.error)},size:"sm",children:w.jsxs(w.Fragment,l?{children:["Copied",w.jsx(Y3,{size:14})]}:{children:["Copy",w.jsx(pE,{size:14})]})})]})]})},Cht=({connectUri:t,loading:e,success:r,errorMessage:n,onBack:i,onClose:s,onOpenFarcaster:o})=>w.jsx(on,hn.isMobile||e?hn.isIOS?{title:n?n.message:"Sign in with Farcaster",subtitle:n?n.detail:"To sign in with Farcaster, please open the Farcaster app.",icon:Mg,iconVariant:"loading",iconLoadingStatus:{success:r,fail:!!n},primaryCta:t&&o?{label:"Open Farcaster app",onClick:o}:void 0,onBack:i,onClose:s,watermark:!0}:{title:n?n.message:"Signing in with Farcaster",subtitle:n?n.detail:"This should only take a moment",icon:Mg,iconVariant:"loading",iconLoadingStatus:{success:r,fail:!!n},onBack:i,onClose:s,watermark:!0,children:t&&hn.isMobile&&w.jsx(kht,{children:w.jsx(l0e,{text:"Take me to Farcaster",url:t,color:"#8a63d2"})})}:{title:"Sign in with Farcaster",subtitle:"Scan with your phone's camera to continue.",onBack:i,onClose:s,watermark:!0,children:w.jsxs(Iht,{children:[w.jsx(Tht,{children:t?w.jsx(l6,{url:t,size:275,squareLogoElement:Mg}):w.jsx(Pht,{children:w.jsx(gc,{})})}),w.jsxs($ht,{children:[w.jsx(Mht,{children:"Or copy this link and paste it into a phone browser to open the Farcaster app."}),t&&w.jsx(Sht,{value:t,truncate:"end",maxLength:30,showCopyButton:!0,disabled:!0})]})]})}),GN={component:()=>{let{authenticated:t,logout:e,ready:r,user:n}=Kr(),{lastScreen:i,navigate:s,navigateBack:o,setModalData:a,app:l}=jt(),{getAuthFlow:u,loginWithFarcaster:c,closePrivyModal:h,createAnalyticsEvent:m}=$t(),[y,b]=B.useState(void 0),[E,A]=B.useState(!1),[M,O]=B.useState(!1),P=B.useRef([]),z=u(),L=z?.meta.connectUri;return B.useEffect((()=>{let W=Date.now(),H=setInterval((async()=>{let G=await z.pollForReady.execute(),N=Date.now()-W;if(G){clearInterval(H),A(!0);try{await c(),O(!0)}catch(F){let U={retryable:!1,message:"Authentication failed"};if(F?.privyErrorCode===Ee.ALLOWLIST_REJECTED)return void s(_A);if(F?.privyErrorCode===Ee.USER_LIMIT_REACHED)return console.error(new O5(F).toString()),void s(c6);if(F?.privyErrorCode===Ee.USER_DOES_NOT_EXIST)return void s(o6);if(F?.privyErrorCode===Ee.LINKED_TO_ANOTHER_USER)U.detail=F.message??"This account has already been linked to another user.";else{if(F?.privyErrorCode===Ee.ACCOUNT_TRANSFER_REQUIRED&&F.data?.data?.nonce)return a({accountTransfer:{nonce:F.data?.data?.nonce,account:F.data?.data?.subject,displayName:F.data?.data?.account?.displayName,linkMethod:"farcaster",embeddedWalletAddress:F.data?.data?.otherUser?.embeddedWalletAddress,farcasterEmbeddedAddress:F.data?.data?.otherUser?.farcasterEmbeddedAddress}}),void s(km);F?.privyErrorCode===Ee.INVALID_CREDENTIALS?(U.retryable=!0,U.detail="Something went wrong. Try again."):F?.privyErrorCode===Ee.TOO_MANY_REQUESTS&&(U.detail="Too many requests. Please wait before trying again.")}b(U)}}else N>12e4&&(clearInterval(H),b({retryable:!0,message:"Authentication failed",detail:"The request timed out. Try again."}))}),2e3);return()=>{clearInterval(H),P.current.forEach((G=>clearTimeout(G)))}}),[]),B.useEffect((()=>{if(r&&t&&M&&n){if(l?.legal.requireUsersAcceptTerms&&!n.hasAcceptedTerms){let W=setTimeout((()=>{s(Im)}),li);return()=>clearTimeout(W)}M&&(cp(n,l.embeddedWallets)?P.current.push(setTimeout((()=>{a({createWallet:{onSuccess:()=>{},onFailure:W=>{console.error(W),m({eventName:"embedded_wallet_creation_failure_logout",payload:{error:W,screen:"FarcasterConnectStatusScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),s(nf)}),li)):P.current.push(setTimeout((()=>h({shouldCallAuthOnSuccess:!0,isSuccess:!0})),li)))}}),[M,r,t,n]),w.jsx(Cht,{connectUri:L,loading:E,success:M,errorMessage:y,onBack:i?o:void 0,onClose:h,onOpenFarcaster:()=>{L&&(window.location.href=L)}})}};let kht=he.div.withConfig({displayName:"MobileLinkContainer",componentId:"sc-8d74ecf6-0"})(["margin-top:24px;"]),Iht=he.div.withConfig({displayName:"ContentContainer",componentId:"sc-8d74ecf6-1"})(["display:flex;flex-direction:column;align-items:center;gap:24px;"]),Tht=he.div.withConfig({displayName:"QrContainer",componentId:"sc-8d74ecf6-2"})(["display:flex;align-items:center;justify-content:center;min-height:275px;"]),$ht=he.div.withConfig({displayName:"InstructionsContainer",componentId:"sc-8d74ecf6-3"})(["display:flex;flex-direction:column;align-items:center;gap:16px;"]),Mht=he.div.withConfig({displayName:"InstructionText",componentId:"sc-8d74ecf6-4"})(["font-size:0.875rem;text-align:center;color:var(--privy-color-foreground-2);"]),Pht=he.div.withConfig({displayName:"LoaderWrapper",componentId:"sc-8d74ecf6-5"})(["position:relative;width:82px;height:82px;"]);const u0e=()=>{let[t,e]=B.useState(!1),{currentScreen:r,navigate:n,setModalData:i,data:s}=jt(),{enabled:o,token:a}=No(),{initLoginWithFarcaster:l}=$t(),{accountType:u}=lp();return w.jsxs(fi,{onClick:async()=>{e(!0);try{o&&!a?(i({captchaModalData:{callback:c=>l(c,s?.login?.disableSignup),userIntentRequired:!0,onSuccessNavigateTo:GN,onErrorNavigateTo:ci}}),n(_u)):(await l(a,s?.login?.disableSignup),n(GN))}catch(c){i({errorModalData:{error:c,previousScreen:r||Ro}}),n(ci)}finally{e(!1)}},disabled:!1,children:[w.jsx(Mg,{width:32,height:32})," Farcaster",t&&w.jsx(ap,{}),u==="farcaster"&&w.jsx(Nht,{color:"gray",children:"Recent"})]})};let Nht=he(Md).withConfig({displayName:"StyledChip",componentId:"sc-c6317ff9-0"})(["margin-left:auto;"]);const Rht=({status:t,passkeySignupFlow:e=!1,error:r,onRetry:n})=>w.jsx(on,{title:(()=>{switch(t){case"loading":return"Waiting for passkey";case"success":return"Success";case"error":return"Something went wrong"}})(),subtitle:w.jsx(Oht,{children:(()=>{switch(t){case"loading":return e?"Please follow prompts to register your passkey.":`Please follow prompts to verify your passkey.
You will have to sign up with another method first to register a passkey for your account.`;case"success":return"You've successfully logged in with your passkey.";case"error":if(r instanceof Po){if(r.privyErrorCode===Ee.CANNOT_LINK_MORE_OF_TYPE)return"Cannot link more passkeys to account.";if(r.privyErrorCode===Ee.PASSKEY_NOT_ALLOWED)return`Passkey request timed out or rejected by user.
You will have to sign up with another method first to register a passkey for your account.`}return`An unknown error occurred.
You will have to sign up with another method first to register a passkey for your account.`}})()}),icon:gE,iconVariant:"loading",iconLoadingStatus:{success:t==="success",fail:t==="error"},primaryCta:t==="error"&&n?{label:"Retry",onClick:n}:t==="success"?{label:"Continue",disabled:!0}:void 0,watermark:!0}),fy={component:()=>{let{app:t,data:e,setModalData:r,navigate:n}=jt(),{loginWithPasskey:i,signupWithPasskey:s,closePrivyModal:o,createAnalyticsEvent:a}=$t(),{user:l,logout:u}=Kr(),{passkeySignupFlow:c}=e?.passkeyAuthModalData??{},[h,m]=B.useState("loading"),[y,b]=B.useState(null),E=B.useRef([]),A=O=>{E.current=[O,...E.current]};B.useEffect((()=>()=>{E.current.forEach((O=>clearTimeout(O))),E.current=[]}),[]);let M=async()=>{m("loading");try{c?await s():await i(),m("success")}catch(O){b(O),m("error")}};return B.useEffect((()=>{if(h==="success"&&l){if(t?.legal.requireUsersAcceptTerms&&!l.hasAcceptedTerms)return void A(setTimeout((()=>{n(Im)}),900));if(!cp(l,t?.embeddedWallets))return void A(setTimeout((()=>{o({shouldCallAuthOnSuccess:!0,isSuccess:!0})}),li));A(setTimeout((()=>{r({createWallet:{onSuccess:()=>{},onFailure:O=>{console.error(O),a({eventName:"embedded_wallet_creation_failure_logout",payload:{error:O,screen:"PasskeyStatusScreen"}}),u()},callAuthOnSuccessOnClose:!0}}),n(nf)}),900))}}),[l,h]),B.useEffect((()=>{M()}),[]),w.jsx(Rht,{status:h,passkeySignupFlow:c,error:y,onRetry:M})}};let Oht=he.span.withConfig({displayName:"SubtitleText",componentId:"sc-ad4f7fb3-0"})(["white-space:pre-wrap;"]);const jht=({title:t="Log in or create a new account?",subtitle:e="Create a new account with a passkey or use a passkey to log in to an existing account.",onSignup:r,onLogin:n})=>w.jsx(on,{title:t,subtitle:e,icon:gE,primaryCta:{label:"Create new account",onClick:r},secondaryCta:{label:"Log in with a passkey",onClick:n},watermark:!0}),Lht={component:()=>{let{enabled:t,token:e}=No(),{navigate:r,setModalData:n}=jt(),{initSignupWithPasskey:i,initLoginWithPasskey:s}=$t();return w.jsx(jht,{onSignup:async()=>{t&&!e?(n({passkeyAuthModalData:{passkeySignupFlow:!0},captchaModalData:{callback:o=>i({captchaToken:o,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:fy,onErrorNavigateTo:ci}}),r(_u)):(await i({withPrivyUi:!0}),n({passkeyAuthModalData:{passkeySignupFlow:!0}}),r(fy))},onLogin:async()=>{t&&!e?(n({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:o=>s({captchaToken:o,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:fy,onErrorNavigateTo:ci}}),r(_u)):(await s({withPrivyUi:!0}),n({passkeyAuthModalData:{passkeySignupFlow:!1}}),r(fy))}})}},d0e=()=>{let{enabled:t,token:e}=No(),{navigate:r,setModalData:n,app:i,data:s}=jt(),{initLoginWithPasskey:o}=$t(),a=()=>{i.loginConfig.passkeysForSignupEnabled?r(Lht):(async()=>t&&!e?(n({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:l=>o({captchaToken:l,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:fy,onErrorNavigateTo:ci}}),r(_u)):(await o({withPrivyUi:!0}),n({passkeyAuthModalData:{passkeySignupFlow:!1}}),r(fy)))()};return B.useMemo((()=>{let l=s?.login?.loginMethods;return l?l.filter((u=>u!=="passkey")).length:Object.entries(i.loginMethods).filter((([u,c])=>c)).filter((([u])=>u!=="passkey")).length}),[i.loginMethods,s?.login])===0?w.jsxs(fi,{onClick:a,children:[w.jsx(oj,{})," Continue with passkey"]}):w.jsx(fw,{as:"button",onClick:a,size:"sm",variant:"navigation",style:{width:"100%",justifyContent:"center"},children:"I have a passkey"})},Dht=({value:t,onChange:e})=>w.jsx("select",{value:t,onChange:e,children:b7e.map((r=>w.jsxs("option",{value:r.code,children:[r.code," +",r.callCode]},r.code)))}),SA=B.forwardRef(((t,e)=>{let{app:r}=jt(),[n,i]=B.useState(!1),{accountType:s}=lp(),[o,a]=B.useState(""),[l,u]=B.useState(r?.intl.defaultCountry??"US"),c=M4(o,l),h=v7e(l),m=x7e(l),y=BO(l),b=!c,[E,A]=B.useState(!1),M=y.length,O=L=>{let W=L.target.value;u(W),a(""),t.onChange&&t.onChange({rawPhoneNumber:o,qualifiedPhoneNumber:IC(o,W),countryCode:W,isValid:M4(o,l)})},P=(L,W)=>{try{let H=L.replace(/\D/g,"")===o.replace(/\D/g,"")?L:h.input(L);a(H),t.onChange&&t.onChange({rawPhoneNumber:H,qualifiedPhoneNumber:IC(L,W),countryCode:W,isValid:M4(L,W)})}catch(H){console.error("Error processing phone number:",H)}},z=()=>{A(!0);let L=IC(o,l);t.onSubmit({rawPhoneNumber:o,qualifiedPhoneNumber:L,countryCode:l,isValid:M4(o,l)}).finally((()=>A(!1)))};return B.useEffect((()=>{if(t.defaultValue){let L=E7e(t.defaultValue);h.reset(),O({target:{value:L.countryCode}}),P(L.phone,L.countryCode)}}),[t.defaultValue]),w.jsxs(w.Fragment,{children:[w.jsx(Bht,{children:w.jsxs(Uht,{$callingCodeLength:M,$stacked:t.stacked,children:[w.jsx(Dht,{value:l,onChange:O}),w.jsx("input",{ref:e,id:"phone-number-input",className:"login-method-button",type:"tel",placeholder:m,onFocus:()=>i(!0),onChange:L=>{P(L.target.value,l)},onKeyUp:L=>{L.key==="Enter"&&z()},value:o,autoComplete:"tel"}),s!=="phone"||n||t.hideRecent?t.stacked||t.noIncludeSubmitButton?w.jsx("span",{}):w.jsx(dA,{isSubmitting:E,onClick:z,disabled:b,children:"Submit"}):w.jsx(Md,{color:"gray",children:"Recent"})]})}),t.stacked&&!t.noIncludeSubmitButton?w.jsx(Mn,{loading:E,loadingText:null,onClick:z,disabled:b,children:"Submit"}):null]})}));let Bht=he.div.withConfig({displayName:"InputContainer",componentId:"sc-f29a1304-0"})(["width:100%;"]),Uht=he.label.withConfig({displayName:"PhoneNumberInput",componentId:"sc-f29a1304-1"})(["--country-code-dropdown-width:calc(54px + calc(12 * ","px));--phone-input-extra-padding-left:calc(12px + calc(3 * ","px));display:block;position:relative;width:100%;@media (min-width:441px){--country-code-dropdown-width:calc(52px + calc(10 * ","px));}&& > select{font-size:16px;height:24px;position:absolute;margin:13px calc(var(--country-code-dropdown-width) / 4);line-height:24px;width:var(--country-code-dropdown-width);background-color:var(--privy-color-background);background-size:auto;background-position-x:right;cursor:pointer;@media (min-width:441px){font-size:14px;width:var(--country-code-dropdown-width);}:focus{outline:none;box-shadow:none;}}&& > input{font-size:16px;line-height:24px;color:var(--privy-color-foreground);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:calc(100% - var(--country-code-dropdown-width));padding:12px 88px 12px calc(var(--country-code-dropdown-width) + var(--phone-input-extra-padding-left));padding-right:",";flex-grow:1;background:var(--privy-color-background);border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);width:100%;:focus{outline:none;border-color:var(--privy-color-accent);}:autofill,:-webkit-autofill{background:var(--privy-color-background);}@media (min-width:441px){font-size:14px;padding-right:78px;}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;border-color:var(--privy-color-accent);}}&& > input::placeholder{color:var(--privy-color-foreground-3);}"],(t=>t.$callingCodeLength),(t=>t.$callingCodeLength),(t=>t.$callingCodeLength),(t=>t.$stacked?"16px":"88px"));const h0e=({isEditable:t,setIsEditable:e,defaultValue:r})=>{let n=B.useRef(null),{authenticated:i}=Kr(),{navigate:s,setModalData:o,currentScreen:a,data:l}=jt(),{initLoginWithSms:u}=$t(),{enabled:c,token:h}=No(),{whatsAppEnabled:m}=fn();return w.jsxs(w.Fragment,{children:[w.jsx(dw,{$if:!t,children:w.jsx(SA,{ref:n,onSubmit:async function({qualifiedPhoneNumber:y}){if(!c||h||i)try{await u({phoneNumber:y,captchaToken:h,withPrivyUi:!0,disableSignup:l?.login?.disableSignup}),s(Zh)}catch(b){o({errorModalData:{error:b,previousScreen:a||Ro}}),s(ci)}else o({captchaModalData:{callback:b=>u({phoneNumber:y,captchaToken:b,withPrivyUi:!0,disableSignup:l?.login?.disableSignup}),userIntentRequired:!1,onSuccessNavigateTo:Zh,onErrorNavigateTo:ci}}),s(_u)},defaultValue:r})}),w.jsx(dw,{$if:t,children:w.jsxs(fi,{onClick:()=>{e(),setTimeout((()=>{n.current?.focus()}),0)},children:[w.jsx(Sm,{children:w.jsx(tae,{})}),"Continue with ",m?"WhatsApp":"SMS"]})})]})};let Fht={apple:{logo:vhe,displayName:"Apple"},discord:{logo:bhe,displayName:"Discord"},github:{logo:xhe,displayName:"GitHub"},google:{logo:Ehe,displayName:"Google"},linkedin:{logo:She,displayName:"LinkedIn"},spotify:{logo:Che,displayName:"Spotify"},instagram:{logo:_he,displayName:"Instagram"},twitter:{logo:Ihe,displayName:"Twitter"},tiktok:{logo:khe,displayName:"TikTok"},line:{logo:Ahe,displayName:"LINE"}};const Ki=({provider:t})=>{let{enabled:e,token:r}=No(),{navigate:n,setModalData:i,data:s}=jt(),[o,a]=B.useState(!1),{initLoginWithOAuth:l}=$t(),{accountType:u}=lp(),c=B.useMemo((()=>u&&u!=="guest"&&u!=="authorization_key"&&u!=="cross_app"?EA(u):null),[u]),{displayName:h,logo:m}=Fht[t];return w.jsxs(fi,{onClick:()=>{a(!0),setTimeout((()=>{a(!1)}),2e3),e&&!r?(i({captchaModalData:{callback:y=>l(t,y,s?.login?.disableSignup),userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:ci}}),n(_u)):l(t,void 0,s?.login?.disableSignup)},disabled:o,children:[w.jsx(Sm,{$fullSize:!0,children:w.jsx(m,{style:{width:"32px",height:"32px"}})}),h,c?.loginMethod===t&&w.jsx(zht,{color:"gray",children:"Recent"})]})};let zht=he(Md).withConfig({displayName:"StyledChip",componentId:"sc-afd4ca87-0"})(["margin-left:auto;"]);function f0e(t){return w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",...t,children:[w.jsx("rect",{width:"512",height:"512",rx:"15%",fill:"#37aee2"}),w.jsx("path",{fill:"#c8daea",d:"M199 404c-11 0-10-4-13-14l-32-105 245-144"}),w.jsx("path",{fill:"#a9c9dd",d:"M199 404c7 0 11-4 16-8l45-43-56-34"}),w.jsx("path",{fill:"#f6fbfe",d:"M204 319l135 99c14 9 26 4 30-14l55-258c5-22-9-32-24-25L79 245c-21 8-21 21-4 26l83 26 190-121c9-5 17-3 11 4"})]})}const Wht=({success:t,errorMessage:e,onRetry:r})=>{let n=t?"Successfully connected with Telegram":e?e.message:"Verifying connection to Telegram";return w.jsx(on,{title:n,subtitle:t?"You're good to go!":e?e.detail:"Just a few moments more",icon:f0e,iconVariant:"loading",iconLoadingStatus:{success:t,fail:!!e},secondaryCta:e?.retryable&&r?{label:"Retry",onClick:r}:void 0,watermark:!0})},A8={component:()=>{let{authenticated:t,logout:e,ready:r,user:n}=Kr(),{app:i,setModalData:s,navigate:o,resetNavigation:a,data:l}=jt(),{initLoginWithTelegram:u,loginWithTelegram:c,updateWallets:h,setReadyToTrue:m,closePrivyModal:y,createAnalyticsEvent:b,getAuthMeta:E}=$t(),[A,M]=B.useState(!1),[O,P]=B.useState(void 0),z=No();async function L(){try{let W=await(async function(){let H;if(!t){if(z.enabled&&z.status==="error")throw new Yg(z.error,null,Ee.CAPTCHA_FAILURE);return z.enabled&&z.status!=="success"&&(z.execute(),H=await z.waitForResult()),H}})();await c({captchaToken:W}),M(!0),m(!0)}catch(W){if(W?.privyErrorCode===Ee.ALLOWLIST_REJECTED)return P(void 0),a(),void o(_A);if(W?.privyErrorCode===Ee.USER_LIMIT_REACHED)return console.error(new O5(W).toString()),P(void 0),a(),void o(c6);if(W?.privyErrorCode===Ee.USER_DOES_NOT_EXIST)return P(void 0),a(),void o(o6);if(W?.privyErrorCode===Ee.ACCOUNT_TRANSFER_REQUIRED&&W.data?.data?.nonce)return P(void 0),a(),s({accountTransfer:{nonce:W.data?.data?.nonce,account:W.data?.data?.subject,telegramAuthResult:E()?.telegramAuthResult,telegramWebAppData:E()?.telegramWebAppData,displayName:W.data?.data?.account?.displayName,linkMethod:"telegram",embeddedWalletAddress:W.data?.data?.otherUser?.embeddedWalletAddress}}),void o(km);let{retryable:H,detail:G}=HZ(W);P({retryable:H,detail:G,message:"Authentication failed"})}}return B.useEffect((()=>{L()}),[]),B.useEffect((()=>{if(!(r&&t&&A&&n))return;if(i?.legal.requireUsersAcceptTerms&&!n.hasAcceptedTerms){let H=setTimeout((()=>{o(Im)}),li);return()=>clearTimeout(H)}if(cp(n,i.embeddedWallets)){let H=setTimeout((()=>{s({createWallet:{onSuccess:()=>{},onFailure:G=>{console.error(G),b({eventName:"embedded_wallet_creation_failure_logout",payload:{error:G,provider:"telegram",screen:"TelegramAuthScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),o(nf)}),li);return()=>clearTimeout(H)}h();let W=setTimeout((()=>y({shouldCallAuthOnSuccess:!0,isSuccess:!0})),li);return()=>clearTimeout(W)}),[r,t,A,n]),w.jsx(Wht,{success:A,errorMessage:O,onRetry:O?.retryable?async()=>{try{P(void 0),l?.telegramAuthModalData?.seamlessAuth||await u(void 0,l?.login?.disableSignup),await L()}catch(W){let{retryable:H,detail:G}=HZ(W);P({retryable:H,detail:G,message:"Authentication failed"})}}:void 0})},isCaptchaRequired:!0},p0e=()=>{let{enabled:t,token:e}=No(),{navigate:r,setModalData:n,data:i}=jt(),[s,o]=B.useState(!1),{initLoginWithTelegram:a}=$t(),{accountType:l}=lp();async function u(c){try{await a(c,i?.login?.disableSignup),n({telegramAuthModalData:{seamlessAuth:!1}}),r(A8)}catch(h){console.error(h),o(!1)}}return w.jsxs(fi,{onClick:async function(){if(o(!0),t&&!e)return n({captchaModalData:{callback:u,userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:ci}}),void r(_u);await u(e)},disabled:s,children:[w.jsx(f0e,{width:32,height:32}),"Telegram",l==="telegram"&&w.jsx(qht,{color:"gray",children:"Recent"})]})};let qht=he(Md).withConfig({displayName:"StyledChip",componentId:"sc-4b233cf1-0"})(["margin-left:auto;"]);const g0e=({onClick:t,text:e})=>w.jsxs(fi,{onClick:t,children:[w.jsx(Sm,{children:w.jsx(lOe,{})}),w.jsx(X0,{children:e})]}),m0e=({onClick:t,text:e,icon:r})=>w.jsxs(fi,{onClick:t,children:[w.jsx(Sm,{children:r}),w.jsx(X0,{children:e})]}),y0e=({connectOnly:t})=>{let{closePrivyModal:e}=$t(),{data:r,setModalData:n,onUserCloseViaDialogOrKeybindRef:i,navigate:s}=jt(),o=fn(),a=r?.login,l=o.appearance.walletList,u=a?.walletChainType??o.appearance.walletChainType,{accountType:c,walletClientType:h,chainType:m}=lp(),{wallets:y}=r0e({walletList:l,walletChainType:u}),b=B.useMemo((()=>c&&c!=="guest"&&c!=="authorization_key"&&c!=="cross_app"?EA(c):null),[c]),{email:E,sms:A,google:M,twitter:O,discord:P,github:z,spotify:L,instagram:W,tiktok:H,line:G,linkedin:N,apple:F,wallet:U,farcaster:j,telegram:_}=B.useMemo((()=>a?.loginMethods?_7e(a.loginMethods,!0):null),[a])??o.loginMethods,{passkey:d}=o.loginMethods,g=[E&&"email",A&&"sms",M&&"google",O&&"twitter",P&&"discord",z&&"github",L&&"spotify",W&&"instagram",H&&"tiktok",G&&"line",N&&"linkedin",F&&"apple",j&&"farcaster",_&&"telegram"].filter((ht=>!!ht)),x=g.length>0,C=B.useMemo((()=>U&&!x?"web3-first":U&&o?.appearance.loginGroupPriority||"web2-first"),[U,x,o?.appearance.loginGroupPriority]),k=o?.appearance.hideDirectWeb2Inputs,[T,R]=B.useState("default"),[I,f]=B.useState(XE({mostRecentlyUsedAccountType:c,smsAvailable:A,emailAvailable:E,prefilledType:a?.prefill?.type}));B.useEffect((()=>{f(XE({mostRecentlyUsedAccountType:c,smsAvailable:A,emailAvailable:E,prefilledType:a?.prefill?.type}))}),[E,A,c]);let S=()=>{e({shouldCallAuthOnSuccess:!0}),setTimeout((()=>{R("default")}),150)};i.current=S;let K=[];h&&U?K.push(h):b?.loginMethod&&g.includes(b.loginMethod)&&K.push(b.loginMethod);let D=ht=>{if(ht==="email")return w.jsx(b0e,{isEditable:I==="email",setIsEditable:()=>{f("email")},defaultValue:a?.prefill?.type==="email"?a.prefill.value:void 0},ht);if(ht==="sms")return w.jsx(h0e,{isEditable:I==="sms",setIsEditable:()=>{f("sms")},defaultValue:a?.prefill?.type==="phone"?a.prefill.value:void 0},ht);if(ht==="apple")return w.jsx(Ki,{provider:"apple"},ht);if(ht==="discord")return w.jsx(Ki,{provider:"discord"},ht);if(ht==="farcaster")return w.jsx(u0e,{},ht);if(ht==="github")return w.jsx(Ki,{provider:"github"},ht);if(ht==="google")return w.jsx(Ki,{provider:"google"},ht);if(ht==="linkedin")return w.jsx(Ki,{provider:"linkedin"},ht);if(ht==="tiktok")return w.jsx(Ki,{provider:"tiktok"},ht);if(ht==="line")return w.jsx(Ki,{provider:"line"},ht);if(ht==="spotify")return w.jsx(Ki,{provider:"spotify"},ht);if(ht==="instagram")return w.jsx(Ki,{provider:"instagram"},ht);if(ht==="twitter")return w.jsx(Ki,{provider:"twitter"},ht);if(ht==="telegram")return w.jsx(p0e,{},ht);let Je=y.findIndex((({id:At})=>At===fl.normalize(ht))),De=m==="solana"?"solana-only":"ethereum-only";return w.jsx(VN,{recent:!0,index:Je,data:{wallets:y,walletChainType:De,handleWalletClick(At){n((it=>({...it,externalConnectWallet:{walletList:l,walletChainType:De,preSelectedWalletId:At.id}}))),s(t?KN:_8)}}})},J=y.filter((ht=>ht.id!==fl.normalize(h||""))),ne=J.map(((ht,Je)=>w.jsx(VN,{index:Je,data:{walletChainType:u,wallets:J,handleWalletClick(De){n((At=>({...At,externalConnectWallet:{walletList:l,walletChainType:u,preSelectedWalletId:De.id}}))),s(t?KN:_8)}}},ht.id))),ie=g.filter((ht=>ht!==b?.loginMethod)).flatMap(D),ce=K.flatMap(D);C==="web3-first"&&T==="default"?ne.unshift(...ce):C==="web2-first"&&ie.unshift(...ce);let Se=T==="web2-overflow"?()=>R("default"):void 0,ye=g.filter((ht=>ht!=="email"&&ht!=="sms")),Ae=Kht({priority:C,email:E,sms:A,social:ye}),tt=Ght({priority:C,email:E,sms:A,social:ye}),Ce=w.jsx(g0e,{text:Yht({priority:C}),onClick:()=>{n({...r,externalConnectWallet:{walletChainType:a?.walletChainType??o.appearance.walletChainType}}),s(_8)}}),je=w.jsx(m0e,{text:Ae,icon:tt,onClick:()=>R("web2-overflow")}),mt=k?0:1,pe=U&&ne.length>0,Le=ie.length===0&&U&&ne.length===0,Mt=5-(pe?1:0),Ie=T==="default"&&o?.appearance.logo,Me=T==="default"&&o.appearance.loginMessage;return w.jsxs(on,{title:o.appearance.landingHeader,icon:Ie?w.jsx(qfe,{}):void 0,iconVariant:Ie?"logo":void 0,onClose:S,showClose:!0,onBack:Se,showBack:!!Se,helpText:o||d&&T==="default"?w.jsxs(w.Fragment,{children:[d&&T==="default"&&w.jsx(d0e,{}),o&&w.jsx(VL,{app:o})]}):void 0,watermark:!0,children:[Me&&(typeof o.appearance.loginMessage=="string"?w.jsx(Hht,{children:o.appearance.loginMessage}):w.jsx(Vht,{children:o.appearance.loginMessage})),w.jsx(Jhe,{$colorScheme:o.appearance.palette.colorScheme,children:T==="default"&&C==="web2-first"?w.jsxs(w.Fragment,{children:[ie.length>Mt?ie.slice(0,Mt-1):ie,ie.length>Mt&&je,pe&&Ce,Le&&w.jsx(_Q,{chainType:o.appearance.walletChainType})]}):T==="default"&&C==="web3-first"?w.jsxs(w.Fragment,{children:[U&&w.jsxs(w.Fragment,{children:[ne.length>Mt?ne.slice(0,Mt-1):ne,ne.length>Mt&&Ce]}),ie.length>mt&&je,ie.length===mt&&ie[0],Le&&w.jsx(_Q,{chainType:o.appearance.walletChainType})]}):T==="web2-overflow"?w.jsx(w.Fragment,{children:C==="web3-first"?ie:ie.slice(3)}):null})]})};let Hht=he.div.withConfig({displayName:"StyledSubtitle",componentId:"sc-a0c826dc-0"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),Vht=he.div.withConfig({displayName:"MessageContainer",componentId:"sc-a0c826dc-1"})(["margin-bottom:24px;"]),Kht=({priority:t,email:e,sms:r,social:n})=>t==="web2-first"?"Other socials":e&&r&&n.length>0||e&&n.length>0?"Log in with email or socials":r&&n.length>0?"Log in with sms or socials":e&&r?"Continue with email or sms":e?"Continue with email":r?"Continue with sms":"Log in with a social account",Ght=({priority:t,email:e,sms:r,social:n})=>t==="web2-first"||n.length>0?w.jsx(rOe,{}):e&&r?w.jsx(nht,{}):e?w.jsx(_j,{}):r?w.jsx(tae,{}):null,Yht=({priority:t})=>t==="web2-first"?"Continue with a wallet":"Other wallets";const XE=({mostRecentlyUsedAccountType:t,smsAvailable:e,emailAvailable:r,prefilledType:n})=>r&&(t==="email"&&n!=="phone"||n==="email")||!e||t!=="phone"&&n!=="phone"?"email":"sms",w0e={component:()=>{let{app:t}=jt();return t.loginMethodsAndOrder&&t.loginMethodsAndOrder.primary.length>0?w.jsx(A0e,{connectOnly:!0}):w.jsx(y0e,{connectOnly:!0})}},Zht=({contactMethod:t,authFlow:e,appName:r="Privy",whatsAppEnabled:n=!1,onBack:i,onCodeSubmit:s,onResend:o,errorMessage:a,success:l=!1,resendCountdown:u=0,onInvalidInput:c,onClearError:h})=>{let[m,y]=B.useState(SQ);B.useEffect((()=>{a||y(SQ)}),[a]);let b=async E=>{E.preventDefault();let A=E.currentTarget.value.replace(" ","");if(A==="")return;if(isNaN(Number(A)))return void c?.("Code should be numeric");h?.();let M=Number(E.currentTarget.name?.charAt(5)),O=[...A||[""]].slice(0,AQ-M),P=[...m.slice(0,M),...O,...m.slice(M+O.length)];y(P);let z=Math.min(Math.max(M+O.length,0),AQ-1);isNaN(Number(E.currentTarget.value))||document.querySelector(`input[name=code-${z}]`)?.focus(),P.every((L=>L&&!isNaN(+L)))&&(document.querySelector(`input[name=code-${z}]`)?.blur(),await s?.(P.join("")))};return w.jsx(on,{title:"Enter confirmation code",subtitle:w.jsxs("span",e==="email"?{children:["Please check ",w.jsx(CQ,{children:t})," for an email from privy.io and enter your code below."]}:{children:["Please check ",w.jsx(CQ,{children:t})," for a",n?" WhatsApp":""," message from ",r," and enter your code below."]}),icon:e==="email"?iA:W0,onBack:i,showBack:!0,helpText:w.jsxs(rft,{children:[w.jsxs("span",{children:["Didn't get ",e==="email"?"an email":"a message","?"]}),u?w.jsxs(nft,{children:[w.jsx(hot,{color:"var(--privy-color-foreground)",strokeWidth:1.33,height:"12px",width:"12px"}),w.jsx("span",{children:"Code sent"})]}):w.jsx(fw,{as:"button",size:"sm",onClick:o,children:"Resend code"})]}),children:w.jsx(Xht,{children:w.jsx(hct,{children:w.jsxs(eft,{children:[w.jsx("div",{children:m.map(((E,A)=>w.jsx("input",{name:`code-${A}`,type:"text",value:m[A],onChange:b,onKeyUp:M=>{M.key==="Backspace"&&(O=>{h?.(),y([...m.slice(0,O),"",...m.slice(O+1)]),O>0&&document.querySelector(`input[name=code-${O-1}]`)?.focus()})(A)},inputMode:"numeric",autoFocus:A===0,pattern:"[0-9]",className:`${l?"success":""} ${a?"fail":""}`,autoComplete:hn.isMobile?"one-time-code":"off"},A)))}),w.jsx(tft,{$fail:!!a,$success:l,children:w.jsx("span",{children:a==="Invalid or expired verification code"?"Incorrect code":a||(l?"Success!":"")})})]})})})})};let AQ=6,SQ=Array(6).fill("");var mv,yv,Qht=((mv=Qht||{})[mv.RESET_AFTER_DELAY=0]="RESET_AFTER_DELAY",mv[mv.CLEAR_ON_NEXT_VALID_INPUT=1]="CLEAR_ON_NEXT_VALID_INPUT",mv),Jht=((yv=Jht||{})[yv.EMAIL=0]="EMAIL",yv[yv.SMS=1]="SMS",yv);const Zh={component:()=>{let{app:t,navigate:e,lastScreen:r,navigateBack:n,setModalData:i,onUserCloseViaDialogOrKeybindRef:s}=jt(),{closePrivyModal:o,resendEmailCode:a,resendSmsCode:l,getAuthMeta:u,loginWithCode:c,updateWallets:h,createAnalyticsEvent:m}=$t(),{authenticated:y,logout:b,user:E}=Kr(),{whatsAppEnabled:A}=fn(),[M,O]=B.useState(!1),[P,z]=B.useState(null),[L,W]=B.useState(null),[H,G]=B.useState(0);s.current=()=>null;let N=u()?.email?0:1,F=N===0?u()?.email||"":u()?.phoneNumber||"";return B.useEffect((()=>{if(H){let U=setTimeout((()=>{G(H-1)}),1e3);return()=>clearTimeout(U)}}),[H]),B.useEffect((()=>{if(y&&M&&E){if(t?.legal.requireUsersAcceptTerms&&!E.hasAcceptedTerms){let U=setTimeout((()=>{e(Im)}),900);return()=>clearTimeout(U)}if(cp(E,t.embeddedWallets)){let U=setTimeout((()=>{i({createWallet:{onSuccess:()=>{},onFailure:j=>{console.error(j),m({eventName:"embedded_wallet_creation_failure_logout",payload:{error:j,screen:"AwaitingPasswordlessCodeScreen"}}),b()},callAuthOnSuccessOnClose:!0}}),e(nf)}),900);return()=>clearTimeout(U)}{h();let U=setTimeout((()=>o({shouldCallAuthOnSuccess:!0,isSuccess:!0})),li);return()=>clearTimeout(U)}}}),[y,M,E]),B.useEffect((()=>{if(P&&L===0){let U=setTimeout((()=>{z(null),W(null),document.querySelector("input[name=code-0]")?.focus()}),1400);return()=>clearTimeout(U)}}),[P,L]),w.jsx(Zht,{contactMethod:F,authFlow:N===0?"email":"sms",appName:t?.name,whatsAppEnabled:A,onBack:()=>n(),onCodeSubmit:async U=>{try{await c(U),O(!0)}catch(j){if(j instanceof hl&&j.privyErrorCode===Ee.INVALID_CREDENTIALS)z("Invalid or expired verification code"),W(0);else if(j instanceof hl&&j.privyErrorCode===Ee.CANNOT_LINK_MORE_OF_TYPE)z(j.message);else{if(j instanceof hl&&j.privyErrorCode===Ee.USER_LIMIT_REACHED)return console.error(new O5(j).toString()),void e(c6);if(j instanceof hl&&j.privyErrorCode===Ee.USER_DOES_NOT_EXIST)return void e(o6);if(j instanceof hl&&j.privyErrorCode===Ee.LINKED_TO_ANOTHER_USER)return i({errorModalData:{error:j,previousScreen:r??Zh}}),void e(ci,!1);if(j instanceof hl&&j.privyErrorCode===Ee.DISALLOWED_PLUS_EMAIL)return i({inlineError:{error:j}}),void e(w0e,!1);if(j instanceof hl&&j.privyErrorCode===Ee.ACCOUNT_TRANSFER_REQUIRED&&j.data?.data?.nonce)return i({accountTransfer:{nonce:j.data?.data?.nonce,account:F,displayName:j.data?.data?.account?.displayName,linkMethod:N===0?"email":"sms",embeddedWalletAddress:j.data?.data?.otherUser?.embeddedWalletAddress}}),void e(km);z("Issue verifying code"),W(0)}}},onResend:async()=>{G(30),N===0?await a():await l()},errorMessage:P||void 0,success:M,resendCountdown:H,onInvalidInput:U=>{z(U),W(1)},onClearError:()=>{L===1&&(z(null),W(null))}})}};let Xht=he.div.withConfig({displayName:"PasswordlessCodeContainer",componentId:"sc-5dd8bc26-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:auto;gap:16px;flex-grow:1;width:100%;"]),eft=he.div.withConfig({displayName:"CodeInput",componentId:"sc-5dd8bc26-1"})(["display:flex;flex-direction:column;width:100%;gap:12px;> div:first-child{display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-sm);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-sm);padding:8px 10px;height:48px;width:40px;text-align:center;font-size:18px;font-weight:600;color:var(--privy-color-foreground);transition:all 0.2s ease;}> input:focus{border:1px solid var(--privy-color-foreground);box-shadow:0 0 0 1px var(--privy-color-foreground);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-border-success);background:var(--privy-color-success-bg);}> input.fail{border:1px solid var(--privy-color-border-error);background:var(--privy-color-error-bg);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]),tft=he.div.withConfig({displayName:"InputHelp",componentId:"sc-5dd8bc26-2"})(["line-height:20px;min-height:20px;font-size:14px;font-weight:400;color:",";display:flex;justify-content:center;width:100%;text-align:center;"],(t=>t.$success?"var(--privy-color-success-dark)":t.$fail?"var(--privy-color-error-dark)":"transparent")),rft=he.div.withConfig({displayName:"HelpTextContainer",componentId:"sc-5dd8bc26-3"})(["display:flex;gap:8px;align-items:center;justify-content:center;width:100%;color:var(--privy-color-foreground-2);"]),nft=he.div.withConfig({displayName:"Badge",componentId:"sc-5dd8bc26-4"})(["display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-sm);padding:2px 8px;gap:4px;background:var(--privy-color-background-2);color:var(--privy-color-foreground-2);"]),CQ=he.span.withConfig({displayName:"BoldWrappingSpan",componentId:"sc-5dd8bc26-5"})(["font-weight:500;word-break:break-all;color:var(--privy-color-foreground);"]);const v0e=B.forwardRef(((t,e)=>{let[r,n]=B.useState(t.defaultValue||""),[i,s]=B.useState(""),[o,a]=B.useState(!1),{authenticated:l}=Kr(),{initLoginWithEmail:u}=$t(),{navigate:c,setModalData:h,currentScreen:m,data:y}=jt(),{enabled:b,token:E}=No(),[A,M]=B.useState(!1),{accountType:O}=lp(),P=fn();B.useEffect((()=>{!r&&P.disablePlusEmails&&y?.inlineError?.error instanceof Po&&y?.inlineError?.error.privyErrorCode===Ee.DISALLOWED_PLUS_EMAIL&&!i&&s("Please enter a valid email address without a '+'."),i&&s("")}),[r]);let z=Phe(r),L=o||!z,W=()=>{h({login:y?.login,inlineError:void 0}),!b||E||l?(H=>{a(!0),u({email:r,captchaToken:H,disableSignup:y?.login?.disableSignup,withPrivyUi:!0}).then((()=>{c(Zh)})).catch((G=>{h({errorModalData:{error:G,previousScreen:m||Ro}}),c(ci)})).finally((()=>{a(!1)}))})(E):(h({captchaModalData:{callback:H=>u({email:r,captchaToken:H,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:Zh,onErrorNavigateTo:ci}}),c(_u))};return w.jsxs(w.Fragment,{children:[w.jsxs(ift,{children:[i&&w.jsx(Yh,{style:{display:"block",marginTop:"0.25rem",textAlign:"left"},children:i}),w.jsxs(sft,{stacked:t.stacked,$error:!!i,children:[w.jsx(oft,{children:w.jsx(_j,{})}),w.jsx("input",{ref:e,id:"email-input",className:"login-method-button",type:"email",placeholder:"your@email.com",onFocus:()=>M(!0),onChange:H=>n(H.target.value),onKeyUp:H=>{H.key==="Enter"&&W()},value:r,autoComplete:"email"}),O!=="email"||A?t.stacked?w.jsx("span",{}):w.jsx(dA,{isSubmitting:o,onClick:W,disabled:L,children:"Submit"}):w.jsx(Md,{color:"gray",children:"Recent"})]})]}),t.stacked?w.jsx(Mn,{loadingText:null,loading:o,disabled:L,onClick:W,style:{width:"100%"},children:"Submit"}):null]})}));let ift=e0e,sft=Kdt,oft=he(Sm).withConfig({displayName:"StyledLoginMethodIconWrapper",componentId:"sc-e33d938a-0"})(["display:inline-flex;"]);const b0e=({isEditable:t,setIsEditable:e,defaultValue:r})=>{let n=B.useRef(null);return w.jsxs(w.Fragment,{children:[w.jsx(dw,{$if:!t,children:w.jsx(v0e,{ref:n,defaultValue:r})}),w.jsx(dw,{$if:t,children:w.jsxs(fi,{onClick:()=>{e(),setTimeout((()=>{n.current?.focus()}),0)},children:[w.jsx(Sm,{children:w.jsx(_j,{})}),"Continue with Email"]})})]})},x0e=({icon:t,name:e})=>typeof t=="string"?w.jsx("img",{alt:`${e||"wallet"} logo`,src:t,style:{height:24,width:24,borderRadius:4}}):t===void 0?w.jsx(sA,{}):t?w.jsx(t,{}):null;function YN(t){let e=t.toLowerCase();return!!window?.webkit?.messageHandlers?.ReactNativeWebView||!!window?.ReactNativeWebView||["fbav","fban","instagram","snapchat","linkedinapp"].some((r=>e.includes(r)))}const aft=({walletLogo:t,success:e,errorMessage:r,title:n,subtitle:i,onRetry:s,onUseDifferentWallet:o,onBack:a,numRetries:l,maxRetries:u})=>w.jsx(on,{title:n,subtitle:i,icon:t,iconVariant:"loading",iconLoadingStatus:{success:e,fail:!!r},primaryCta:r===A0.ERROR_USER_EXISTS?{label:"Use a different wallet",onClick:o}:!e&&r?.retryable&&l<u?{label:"Retry",onClick:s,disabled:!r?.retryable||l>=u}:!e&&r&&l>=u?{label:"Use a different wallet",onClick:o}:void 0,onBack:a,watermark:!0}),ZN={component:()=>{let t,{navigateBack:e,navigate:r,lastScreen:n,currentScreen:i,data:s,setModalData:o}=jt(),{walletConnectionStatus:a,closePrivyModal:l}=$t(),[u,c]=B.useState(void 0),[h,m]=B.useState(0),y=tf(a?.connector?.walletClientType||"unknown"),b=a?.status==="connected",E=a?.status==="switching_to_supported_chain";B.useEffect((()=>{if(b){let W;if(s?.externalConnectWallet?.onCompleteNavigateTo){let H=s.externalConnectWallet.onCompleteNavigateTo,G=a.connectedWallet?.address;W=setTimeout((()=>{s.funding&&o({...s,funding:{...s.funding,connectedWalletAddress:G}}),r(H({walletChainType:a.connector?.chainType}))}),li)}else W=setTimeout(l,li);return()=>clearTimeout(W)}}),[b]),B.useEffect((()=>{a?.connectError&&(W=>{c(a0e(W))})(a?.connectError)}),[a]);let A=a?.connector?.connectorType||"injected",M=a?.connector?.walletClientType||"unknown",O=y?.metadata?.shortName||y?.name||a?.connector?.walletBranding.name||"Browser Extension",P=y?.image_url?.md||a?.connector?.walletBranding.icon||(W=>w.jsx(FL,{...W})),z=O==="Browser Extension"?O.toLowerCase():O;t=b?`Successfully connected with ${z}`:u?u.message:E?"Switching networks":`Waiting for ${z}`;let L="Don’t see your wallet? Check your other browser windows.";return b?L="You’re good to go!":h>=2&&u?L="Unable to connect wallet":u?L=u.detail:E?L="Switch your wallet to the requested network.":M==="metamask"&&hn.isMobile?L="Click to continue to open and connect MetaMask.":M==="metamask"?L="For the best experience, connect only one wallet at a time.":A==="wallet_connect_v2"?L="Open your mobile wallet app to continue":A==="coinbase_wallet"&&(L="Open the Coinbase app on your phone to continue."),w.jsx(aft,{walletName:O,walletLogo:P,success:b,errorMessage:u,title:t,subtitle:L,onRetry:()=>{m(h+1),c(void 0),a?.connectRetry()},onUseDifferentWallet:e,onBack:i===n?void 0:e,numRetries:h,maxRetries:2})}},E0e=he.div.withConfig({displayName:"TodoList",componentId:"sc-bcc78743-0"})(["display:flex;flex-direction:column;justify-content:flex-start;gap:10px;padding-left:8px;"]),Py=({children:t,variant:e="default",icon:r})=>{let n=()=>{switch(e){case"success":return"var(--privy-color-icon-success)";case"error":return"var(--privy-color-icon-error)";default:return"var(--privy-color-icon-muted)"}};return w.jsxs(cft,{children:[w.jsx(lft,{$variant:e,"data-variant":e,children:(()=>{if(r)return Re.isValidElement(r)?Re.cloneElement(r,{stroke:n(),strokeWidth:2}):r;switch(e){case"success":default:return w.jsx(Y3,{size:12,stroke:n(),strokeWidth:3});case"error":return w.jsx(cOe,{size:12,stroke:n(),strokeWidth:3})}})()}),t]})};let lft=he.div.withConfig({displayName:"IconBackground",componentId:"sc-bcc78743-2"})(["display:flex;align-items:center;justify-content:center;width:20px;height:20px;border-radius:50%;background-color:",";flex-shrink:0;"],(({$variant:t})=>{switch(t){case"success":return"var(--privy-color-success-bg, #EAFCEF)";case"error":return"var(--privy-color-error-bg, #FEE2E2)";default:return"var(--privy-color-background-2)"}})),cft=he.div.withConfig({displayName:"TodoItemWrapper",componentId:"sc-bcc78743-3"})(["display:flex;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;&&{a{color:var(--privy-color-accent);}}"]);const uft=({walletName:t,installLink:e,title:r,subtitle:n="Follow the instructions below to get started.",onReload:i,onBack:s})=>{let o=r||`Create a ${t} wallet`.replace(/wallet wallet/gi,"wallet");return w.jsx(on,{title:o,subtitle:n,onBack:s,showBack:!0,primaryCta:{label:"Reload the page to use your wallet",onClick:i},helpText:w.jsxs(w.Fragment,{children:[w.jsx("span",{children:"Still not sure? "}),w.jsx(fw,{size:"sm",target:"_blank",href:"https://solana.com/docs/intro/wallets",children:"Learn more"})]}),watermark:!0,children:w.jsxs(E0e,{children:[w.jsx(Py,{children:w.jsxs("div",{children:[w.jsx("span",{children:"Install the "})," ",w.jsxs(fw,{href:e,target:"_blank",children:[t," browser extension"]})]})}),w.jsx(Py,{children:"Set up your first wallet"}),w.jsx(Py,{children:"Store your recovery phrase in a safe place!"})]})})},dft={component:()=>{let{navigateBack:t,data:e}=jt();if(!e?.installWalletModalData)throw Error("Wallet data is missing");let{walletConfig:r}=e.installWalletModalData;return w.jsx(uft,{walletName:r.name,installLink:r.installLink,onReload:()=>{window.location.reload()},onBack:t})}},hft=({title:t,subtitle:e,buttonText:r,buttonHref:n,isLoading:i=!1,helpText:s,onButtonClick:o})=>w.jsx(on,{title:t,subtitle:e,primaryCta:{label:r,onClick:()=>{n&&window.open(n,"_self"),o?.()},disabled:i},helpText:s,watermark:!0}),fft={component:()=>{let{ready:t}=Kr(),{data:e}=jt(),[r,n]=B.useState(!1);if(!e?.installWalletModalData)throw Error("Wallet data is missing");let{walletConfig:i,connectOnly:s,chainType:o}=e.installWalletModalData,a=i.getMobileRedirect({useUniversalLink:!r,isSolana:o==="solana",connectOnly:s}),l=i.name.replace(/ wallet/gi,""),u={title:`Redirecting to ${l} Mobile Wallet`,description:`We'll take you to the ${l} Mobile Wallet app to continue your login experience.`,footnote:""};return t&&(u.description=`For the best experience, we'll automatically log you into the ${l} Mobile Wallet in-app browser.`,u.footnote="You can always return here to login via other methods."),r&&(u.title="Still here?",u.description=`You may need to install the ${i.name} mobile app.`,u.footnote=`Once you're done, you can connect with ${i.name} wallet to complete the login.`),w.jsx(hft,{title:u.title,subtitle:u.description,buttonText:r?"Go to App Store":"Continue",buttonHref:a,isLoading:t&&!a,helpText:u.footnote||void 0,onButtonClick:()=>{setTimeout((()=>n(!0)),1e3)}})}},Ju=({provider:t,displayName:e,logo:r,connectOnly:n,connector:i})=>{let s,{navigate:o,setModalData:a}=jt(),{connectWallet:l}=$t(),u=lp(),c=tf(t),h=i.connectorType==="wallet_connect_v2"?t:i.walletClientType,m=window.matchMedia("(display-mode: standalone)").matches,y=Whe({connectorType:i.connectorType,walletClientType:h});s=y&&y.chainTypes.includes(i.chainType)?()=>{y.isInstalled||i.chainType==="solana"&&"isInstalled"in i&&i.isInstalled?(l(i,h),o(n?ZN:Dh)):hn.isMobile?(a({installWalletModalData:{walletConfig:y,chainType:i.chainType,connectOnly:n}}),o(fft)):(a({installWalletModalData:{walletConfig:y,chainType:i.chainType,connectOnly:n}}),o(dft))}:i.connectorType!=="coinbase_wallet"||i.coinbaseWalletConfig.preference?.options!=="eoaOnly"||!hn.isMobile||m||Mhe()?()=>{(!YN(window.navigator.userAgent)||event?.isTrusted)&&(l(i,h),o(n?ZN:Dh))}:()=>{window.location.href=`https://go.cb-w.com/dapp?cb_url=${encodeURI(window.location.href)}`};let b=e||c?.metadata?.shortName||c?.name||i.walletClientType;return w.jsxs(pft,{onClick:s,children:[w.jsx(x0e,{icon:r||c?.image_url?.md,name:b}),w.jsx("span",{children:b}),w.jsxs(gft,{id:"chip-container",children:[u?.walletClientType===h&&u?.chainType===i.chainType?w.jsx(kQ,{color:"gray",children:"Recent"}):w.jsx("span",{id:"connect-text",children:"Connect"}),i.chainType==="solana"&&w.jsx(kQ,{color:"gray",children:"Solana"})]})]})};let pft=he(fi).withConfig({displayName:"ConnectWalletButton",componentId:"sc-42d67b97-0"})(["> span{color:var(--privy-color-foreground);}> #chip-container > #connect-text{font-weight:500;color:var(--privy-color-accent);opacity:0;transition:opacity 0.1s ease-out;}:hover > #chip-container > #connect-text{opacity:1;}@media (max-width:440px){> #chip-container > #connect-text{display:none;}}"]),kQ=he(Md).withConfig({displayName:"StyledChip",componentId:"sc-42d67b97-1"})(["margin-left:auto;"]),gft=he.div.withConfig({displayName:"ChipContainer",componentId:"sc-42d67b97-2"})(["display:flex;flex-wrap:wrap;gap:8px;margin-left:auto;"]);const mft=["coinbase_wallet","base_account"];let yft=["metamask","okx_wallet","rainbow","uniswap","bybit_wallet","ronin_wallet","haha_wallet","uniswap_extension","zerion","rabby_wallet","cryptocom","binance"];const wft=["safe"],vft=["phantom","backpack","solflare","universal_profile"],_0e=({walletList:t,walletChainType:e,connectors:r,connectOnly:n,ignore:i,walletConnectEnabled:s,forceWallet:o})=>{let a=[],l=[],u=[],c=r.filter((m=>e==="ethereum-only"?m.chainType==="ethereum":e!=="solana-only"||m.chainType==="solana")),h=c.find((m=>m.connectorType==="wallet_connect_v2"));for(let[m,y]of(o?[o.wallet]:t).entries()){if(y==="detected_ethereum_wallets"||y==="detected_wallets")for(let[b,E]of c.filter((({chainType:A,connectorType:M,walletClientType:O})=>A!=="solana"&&(O==="uniswap_wallet_extension"||O==="uniswap_extension"?!i.includes("uniswap"):O==="crypto.com_wallet_extension"||O==="crypto.com_onchain"?!i.includes("cryptocom"):M==="injected"&&!i.includes(O)))).entries()){let{walletClientType:A,walletBranding:M,chainType:O}=E;(A==="unknown"?l:a).push(w.jsx(Ju,{connectOnly:n,provider:A,logo:M.icon,displayName:M.name,connector:E},`${m}-${y}-${A}-${O}-${b}`))}if(y==="detected_solana_wallets"||y==="detected_wallets")for(let[b,E]of c.filter((({chainType:A,walletClientType:M})=>{if(A==="solana")return e!=="ethereum-only"&&!i.includes(M)})).entries()){let{walletClientType:A,walletBranding:M,chainType:O}=E;(A==="unknown"?l:a).push(w.jsx(Ju,{connectOnly:n,provider:A,logo:M.icon,displayName:M.name,connector:E},`${m}-${y}-${A}-${O}-${b}`))}if(vft.includes(y)){let b=c.find((E=>E.connectorType==="injected"&&E.walletClientType===y||E.connectorType===y));if(b&&a.push(w.jsx(Ju,{connectOnly:n,provider:y,connector:b},`${m}-${y}`)),e==="solana-only"||e==="ethereum-and-solana"){let E=c.find((({chainType:A,walletClientType:M})=>A==="solana"&&M===y));E&&a.push(w.jsx(Ju,{connectOnly:n,provider:y,connector:E},`${y}-solana`))}}else if(yft.includes(y)){let b=c.find((E=>y==="uniswap"?E.walletClientType==="uniswap_wallet_extension"||E.walletClientType==="uniswap_extension":y==="cryptocom"?E.walletClientType==="crypto.com_wallet_extension"||E.walletClientType==="crypto.com_onchain":E.connectorType==="injected"&&E.walletClientType===y));if(s&&!b&&(b=h),b&&a.push(w.jsx(Ju,{connectOnly:n,provider:y,connector:b,logo:b.connectorType==="injected"?b.walletBranding.icon:void 0,displayName:b.connectorType==="injected"?b.walletBranding.name:void 0},`${m}-${y}`)),e==="solana-only"||e==="ethereum-and-solana"){let E=c.find((({chainType:A,walletClientType:M})=>A==="solana"&&M===y));E&&a.push(w.jsx(Ju,{connectOnly:n,provider:y,connector:E},`${y}-solana`))}}else if(mft.includes(y)){let b=c.find((({connectorType:E})=>E===y));b&&a.push(w.jsx(Ju,{connectOnly:n,provider:y,connector:b,displayName:b.walletClientType==="coinbase_wallet"?"Coinbase":"Base",logo:b.walletClientType==="coinbase_wallet"?Ohe:jhe},`${m}-${y}`))}else if(wft.includes(y))h&&u.push(w.jsx(Ju,{connectOnly:n,provider:y,connector:h},`${m}-${y}`));else if(y==="wallet_connect")h&&u.push(w.jsx(Ju,{connectOnly:n,provider:y,connector:h,logo:h.walletBranding.icon,displayName:"WalletConnect"},`${m}-${y}`));else if(y===o?.wallet){let b=o.chainType==="ethereum"&&t.includes("detected_ethereum_wallets"),E=o.chainType==="solana"&&t.includes("detected_solana_wallets");if(t.includes("detected_wallets")||b||E){let A=c.find((({walletClientType:M})=>M===y));A&&a.push(w.jsx(Ju,{connectOnly:n,provider:y,displayName:A.walletBranding?.name,logo:A.walletBranding?.icon,connector:A},`${m}-${y}`))}}}return[...l,...a,...u]},A0e=({connectOnly:t})=>{let{closePrivyModal:e,connectors:r}=$t(),{app:n,onUserCloseViaDialogOrKeybindRef:i,data:s}=jt(),{appearance:{palette:{colorScheme:o}}}=fn(),{accountType:a,walletClientType:l,chainType:u}=lp(),c=B.useMemo((()=>a&&a!=="guest"&&a!=="authorization_key"&&a!=="cross_app"?EA(a):null),[a]),h=n.loginMethodsAndOrder?.primary??[],m=n.loginMethodsAndOrder?.overflow??[],y=B.useMemo((()=>[...h,...m]),[h,m]),b=n.loginMethods.passkey,E=s?.login,A=[];l&&y.includes(l)?A.push(l):a&&y.includes(c?.loginMethod)&&A.push(c?.loginMethod);let[M,O]=B.useState("default"),[P,z]=B.useState(XE({mostRecentlyUsedAccountType:a,smsAvailable:y.includes("sms"),emailAvailable:y.includes("email"),prefilledType:E?.prefill?.type}));B.useEffect((()=>{z(XE({mostRecentlyUsedAccountType:a,smsAvailable:y.includes("sms"),emailAvailable:y.includes("email"),prefilledType:E?.prefill?.type}))}),[y,a]),B.useEffect((()=>{a==="phone"&&z("sms");let j=y.indexOf("sms"),_=y.indexOf("email");j>-1&&j<_&&z("sms")}),[a,h,m]);let L=()=>{e({shouldCallAuthOnSuccess:!0}),setTimeout((()=>{O("default")}),150)};i.current=L;let W=j=>j==="email"?w.jsx(b0e,{isEditable:P==="email",setIsEditable:()=>{z("email")},defaultValue:E?.prefill?.type==="email"?E.prefill.value:void 0},j):j==="sms"?w.jsx(h0e,{isEditable:P==="sms",setIsEditable:()=>{z("sms")},defaultValue:E?.prefill?.type==="phone"?E.prefill.value:void 0},j):j==="apple"?w.jsx(Ki,{provider:"apple"},j):j==="discord"?w.jsx(Ki,{provider:"discord"},j):j==="farcaster"?w.jsx(u0e,{},j):j==="github"?w.jsx(Ki,{provider:"github"},j):j==="google"?w.jsx(Ki,{provider:"google"},j):j==="linkedin"?w.jsx(Ki,{provider:"linkedin"},j):j==="spotify"?w.jsx(Ki,{provider:"spotify"},j):j==="instagram"?w.jsx(Ki,{provider:"instagram"},j):j==="tiktok"?w.jsx(Ki,{provider:"tiktok"},j):j==="line"?w.jsx(Ki,{provider:"line"},j):j==="twitter"?w.jsx(Ki,{provider:"twitter"},j):j==="telegram"?w.jsx(p0e,{},j):j.startsWith("privy:")?w.jsx(mdt,{appId:j.replace("privy:","")},j):_0e({walletList:n.appearance.walletList,walletChainType:E?.walletChainType??n.appearance.walletChainType,connectors:r,connectOnly:t,ignore:y,walletConnectEnabled:n.externalWallets.walletConnect.enabled,forceWallet:{wallet:j,chainType:u??"ethereum"}}),H=A.flatMap(W),G=h.filter((j=>j!==l&&j!==c?.loginMethod)).flatMap(W),N=m.filter((j=>j!==l&&j!==c?.loginMethod)).flatMap(W),[F,U]=((j,_)=>{let d=[],g=[];for(let[x,C]of j.entries())x<_?d.push(C):g.push(C);return[d,g]})([...H,...G,...N],bft({primary:G.length+H.length,overflow:N.length}));return w.jsxs(w.Fragment,{children:[w.jsx(Or,{title:n.appearance.landingHeader,onClose:L,backFn:M==="default"?void 0:()=>{O("default")}}),M==="default"&&w.jsx(xft,{}),M==="default"&&(typeof n.appearance.loginMessage=="string"?w.jsx(Ilt,{children:n.appearance.loginMessage}):n.appearance.loginMessage),w.jsx(Clt,{style:{overflow:"hidden"},children:w.jsxs(Jhe,{$colorScheme:o,children:[M==="default"&&w.jsxs(w.Fragment,{children:[F,U.length>0&&w.jsx(m0e,{text:"More options",icon:w.jsx(uot,{}),onClick:()=>O("overflow")})]}),M==="overflow"&&w.jsx(w.Fragment,{children:U}),b&&M==="default"&&w.jsx(d0e,{})]})}),n&&w.jsx(VL,{app:n}),w.jsx(nn,{})]})};let bft=({primary:t,overflow:e})=>t<5?t:t===5&&e===0?5:4,xft=he(fdt).withConfig({displayName:"StyledAppLogoHeader",componentId:"sc-d846420a-0"})(["margin-bottom:16px;"]);const Ro={component:()=>{let{app:t}=jt();return t.loginMethodsAndOrder&&t.loginMethodsAndOrder.primary.length>0?w.jsx(A0e,{connectOnly:!1}):w.jsx(y0e,{connectOnly:!1})},isCaptchaRequired:!0,isUnauthenticatedScreem:!0},S0e={component:()=>{let[t,e]=B.useState(null),[r,n]=B.useState(!1),[i,s]=B.useState(null),[o,a]=B.useState(""),{authenticated:l,user:u}=Kr(),{client:c,walletProxy:h,refreshSessionAndUser:m,closePrivyModal:y,createAnalyticsEvent:b}=$t(),{app:E,navigate:A,data:M,onUserCloseViaDialogOrKeybindRef:O}=jt(),{onSuccess:P,onFailure:z}=M.setWalletPassword,L=lc(u),W=t?.recoveryMethod==="user-passcode",H=L?.recoveryMethod==="user-passcode";B.useEffect((()=>{l||(A(Ro),z(new kSe("User must be authenticated before setting a password on a Privy wallet")))}),[l]);let G=()=>i?(z(i),void y({shouldCallAuthOnSuccess:!1})):W?(P(t),void y({shouldCallAuthOnSuccess:!1})):(z(new P0("Exited before password was added to wallet")),void y({shouldCallAuthOnSuccess:!1}));return O.current=G,w.jsx(zfe,{appName:E?.name||"privy",config:{initiatedBy:"user",onCancel:G},error:i?"An error has occurred, please try again.":void 0,buttonLoading:r,buttonHideAnimations:!1,password:o,isResettingPassword:H,onPasswordGenerate:()=>a(Ffe()),onPasswordChange:a,onSubmit:async()=>{W?(P(t),y({shouldCallAuthOnSuccess:!1})):(n(!0),s(null),await(async()=>{let N=await c.getAccessToken();if(N&&u&&L?.address&&o&&h)try{b({eventName:"embedded_wallet_set_recovery_started",payload:{walletAddress:L.address,existingRecoveryMethod:L.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:H}});let{entropyId:F,entropyIdVerifier:U}=Hs(u);if(!(await h.setRecovery({accessToken:N,entropyId:F,entropyIdVerifier:U,recoveryPassword:o,recoveryMethod:"user-passcode"})).entropyId)return s(new P0("Error setting password on privy wallet")),void b({eventName:"embedded_wallet_set_recovery_failed",payload:{walletAddress:L.address,existingRecoveryMethod:L.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:H,reason:"error setting password"}});let j=await m(),_=lc(j);if(!_)return s(new P0("Error setting password on privy wallet")),void b({eventName:"embedded_wallet_set_recovery_failed",payload:{walletAddress:L.address,existingRecoveryMethod:L.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:H,reason:"wallet disconnected"}});e(_),b({eventName:"embedded_wallet_set_recovery_completed",payload:{walletAddress:L.address,existingRecoveryMethod:L.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:H}})}catch(F){console.warn(F),s(F instanceof Error?F:Error("Error setting password on privy wallet")),b({eventName:"embedded_wallet_set_password_failed",payload:{walletAddress:L.address,reason:F}})}})(),n(!1))},onClose:G})}},Eft=({onClose:t,onProceed:e})=>w.jsx(on,{title:"Secure Your Account",subtitle:w.jsxs(w.Fragment,{children:["Please set a password to secure your account.",w.jsx("br",{}),"Losing access to this password and this device will make your account inaccessible."]}),icon:Ej,primaryCta:{label:"Add password",onClick:e},onClose:t,watermark:!0}),_ft={component:()=>{let{closePrivyModal:t}=$t(),{data:e,navigate:r,onUserCloseViaDialogOrKeybindRef:n}=jt(),{onFailure:i}=e.setWalletPassword,s=()=>{i(new P0("Exited before password was added to wallet")),t({shouldCallAuthOnSuccess:!1})};return n.current=s,w.jsx(Eft,{onClose:s,onProceed:()=>{r(S0e)}})}},Aft={component:()=>{let[t,e]=B.useState(!0),{authenticated:r,user:n}=Kr(),{walletProxy:i,closePrivyModal:s,createAnalyticsEvent:o,client:a}=$t(),{navigate:l,data:u,onUserCloseViaDialogOrKeybindRef:c}=jt(),[h,m]=B.useState(void 0),[y,b]=B.useState(""),[E,A]=B.useState(!1),{entropyId:M,entropyIdVerifier:O,onCompleteNavigateTo:P,onSuccess:z,onFailure:L}=u.recoverWallet,W=(H="User exited before their wallet could be recovered")=>{s({shouldCallAuthOnSuccess:!1}),L(typeof H=="string"?new P0(H):H)};return c.current=W,B.useEffect((()=>{if(!r)return W("User must be authenticated and have a Privy wallet before it can be recovered")}),[r]),w.jsxs(jn,{children:[w.jsx(jn.Header,{icon:Fg,title:"Enter your password",subtitle:"Please provision your account on this new device. To continue, enter your recovery password.",showClose:!0,onClose:W}),w.jsx(jn.Body,{children:w.jsx(Sft,{children:w.jsxs("div",{children:[w.jsxs(yA,{children:[w.jsx(aD,{type:t?"password":"text",onChange:H=>(G=>{G&&m(G)})(H.target.value),disabled:E,style:{paddingRight:"2.3rem"}}),w.jsx(vA,{style:{right:"0.75rem"},children:t?w.jsx(bA,{onClick:()=>e(!1)}):w.jsx(xA,{onClick:()=>e(!0)})})]}),!!y&&w.jsx(Cft,{children:y})]})})}),w.jsxs(jn.Footer,{children:[w.jsx(jn.HelpText,{children:w.jsxs(pct,{children:[w.jsx("h4",{children:"Why is this necessary?"}),w.jsx("p",{children:"You previously set a password for this wallet. This helps ensure only you can access it"})]})}),w.jsx(jn.Actions,{children:w.jsx(kft,{loading:E||!i,disabled:!h,onClick:async()=>{A(!0);let H=await a.getAccessToken(),G=Xl(n,M);if(!H||!G||h===null)return W("User must be authenticated and have a Privy wallet before it can be recovered");try{o({eventName:"embedded_wallet_recovery_started",payload:{walletAddress:G.address}}),await i?.recover({accessToken:H,entropyId:M,entropyIdVerifier:O,recoveryPassword:h}),b(""),P?l(P):s({shouldCallAuthOnSuccess:!1}),z?.(G),o({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:G.address}})}catch(N){(function(F){return Qw(F)&&(F.type==="invalid_recovery_pin"||F.type==="invalid_request_arguments")})(N)?b("Invalid recovery password, please try again."):b("An error has occurred, please try again.")}finally{A(!1)}},$hideAnimations:!M&&E,children:"Recover your account"})}),w.jsx(jn.Watermark,{})]})]})}};let Sft=he.div.withConfig({displayName:"Content",componentId:"sc-f366413c-0"})(["display:flex;flex-direction:column;gap:1.5rem;"]),Cft=he.div.withConfig({displayName:"ErrorMessage",componentId:"sc-f366413c-1"})(["line-height:20px;height:20px;font-size:13px;color:var(--privy-color-error);text-align:left;margin-top:0.5rem;"]),kft=he(Mn).withConfig({displayName:"NoAnimationPrimaryButton",componentId:"sc-f366413c-2"})(["",""],(({$hideAnimations:t})=>t&&us(["&&{transition:none;}"])));const Ift={component:()=>{let{app:t,navigate:e,data:r,onUserCloseViaDialogOrKeybindRef:n}=jt(),[i,s]=B.useState(""),[o,a]=B.useState(!1),[l,u]=B.useState(),[c,h]=B.useState(null),{create:m}=sD(),{authenticated:y,user:b}=Kr(),{closePrivyModal:E,isNewUserThisSession:A,initializeWalletProxy:M}=$t(),{onSuccess:O,onFailure:P,callAuthOnSuccessOnClose:z,shouldCreateEth:L,shouldCreateSol:W}=r.createWallet,[H,G]=B.useState(null),N=new Yo((async()=>{try{let F;if(L&&W)F=await m({recoveryMethod:"user-passcode",recoveryPassword:l,chainType:"ethereum",walletIndex:0,latestUser:b}),F=await m({chainType:"solana",walletIndex:0,latestUser:F.user});else if(W)F=await m({recoveryMethod:"user-passcode",recoveryPassword:l,chainType:"solana",walletIndex:0,latestUser:b});else{if(!L)throw Error("Invalid args to create wallet");F=await m({recoveryMethod:"user-passcode",recoveryPassword:l,chainType:"ethereum",walletIndex:0,latestUser:b})}G(F),A?e(oD):(O(F),E({shouldCallAuthOnSuccess:z}))}catch(F){s(F.message)}}));return B.useEffect((()=>{c||M(3e4).then((F=>h(F)))}),[c]),B.useEffect((()=>{if(!y||!b)return e(Ro),void P(Error("User must be authenticated before creating a Privy wallet"))}),[y]),n.current=()=>null,w.jsx(zfe,{config:{initiatedBy:"automatic"},appName:t?.name||"privy",loading:!c,buttonLoading:o,buttonHideAnimations:!H&&o,isResettingPassword:!1,error:i,password:l||"",onClose:()=>{H&&H.account.recoveryMethod!=="user-passcode"?(P(new P0("User created a wallet but failed to set a password for it")),E({shouldCallAuthOnSuccess:!1})):H?(O(H),E({shouldCallAuthOnSuccess:z})):(P(new P0("User wallet creation failed")),E({shouldCallAuthOnSuccess:!1}))},onPasswordChange:u,onPasswordGenerate:()=>u(Ffe()),onSubmit:async()=>(a(!0),N.execute().then((()=>new Promise((F=>setTimeout(F,250))))).finally((()=>a(!1))))})}},Tft=he.div.withConfig({displayName:"WithCircleBorder",componentId:"sc-e4fc5563-0"})(["&&{border-width:4px;}display:flex;justify-content:center;align-items:center;padding:1rem;aspect-ratio:1;border-style:solid;border-color:",";border-radius:50%;"],(t=>t.$color??"var(--privy-color-accent)")),tp=he.span.withConfig({displayName:"Subtitle",componentId:"sc-7a11f796-0"})(["margin-top:4px;color:var(--privy-color-foreground);text-align:center;font-size:0.875rem;font-weight:400;line-height:1.375rem;&& a{color:var(--privy-color-accent);}"]),Qh=he.span.withConfig({displayName:"Title",componentId:"sc-66de63c-0"})(["color:var(--privy-color-foreground);font-size:1.125rem;font-weight:600;line-height:1.875rem;text-align:center;"]),$ft={component:()=>{let{user:t}=Kr(),{client:e,walletProxy:r,refreshSessionAndUser:n,closePrivyModal:i}=$t(),s=jt(),{entropyId:o,entropyIdVerifier:a}=s.data?.recoverWallet,[l,u]=B.useState(!1),[c,h]=B.useState(null),[m,y]=B.useState(null);function b(){if(!l){if(m)return s.data?.setWalletPassword?.onFailure(m),void i();if(!c)return s.data?.setWalletPassword?.onFailure(Error("User exited set recovery flow")),void i()}}s.onUserCloseViaDialogOrKeybindRef.current=b;let E=!(!l&&!c);return w.jsxs(w.Fragment,m?{children:[w.jsx(Or,{onClose:b},"header"),w.jsx(Tft,{$color:"var(--privy-color-error)",style:{alignSelf:"center"},children:w.jsx(hm,{height:38,width:38,stroke:"var(--privy-color-error)"})}),w.jsx(Qh,{style:{marginTop:"0.5rem"},children:"Something went wrong"}),w.jsx(X0,{style:{minHeight:"2rem"}}),w.jsx(HE,{onClick:()=>y(null),children:"Try again"}),w.jsx(nn,{})]}:{children:[w.jsx(Or,{onClose:b},"header"),w.jsx(nhe,{style:{width:"3rem",height:"3rem",alignSelf:"center"}}),w.jsx(Qh,{style:{marginTop:"0.5rem"},children:"Automatically secure your account"}),w.jsx(tp,{style:{marginTop:"1rem"},children:"When you log into a new device, you’ll only need to authenticate to access your account. Never get logged out if you forget your password."}),w.jsx(X0,{style:{minHeight:"2rem"}}),w.jsx(HE,{loading:l,disabled:E,onClick:()=>(async function(){u(!0);try{let A=await e.getAccessToken(),M=Xl(t,o);if(!A||!r||!M)return;if(!(await r.setRecovery({accessToken:A,entropyId:o,entropyIdVerifier:a,existingRecoveryMethod:M.recoveryMethod,recoveryMethod:"privy"})).entropyId)throw Error("Unable to set recovery on wallet");let O=await n();if(!O)throw Error("Unable to set recovery on wallet");let P=Xl(O,M.address);if(!P)throw Error("Unabled to set recovery on wallet");h(!!O),setTimeout((()=>{s.data?.setWalletPassword?.onSuccess(P),i()}),li)}catch(A){y(A)}finally{u(!1)}})(),children:c?"Success":"Confirm"}),w.jsx(nn,{})]})}};function C0e({isCreatingWallet:t,skipSplashScreen:e}){return t?Ift:e?S0e:_ft}function k0e({walletAction:t,availableRecoveryMethods:e,legacySetWalletPasswordFlow:r,isResettingPassword:n,showAutomaticRecovery:i}){return i?$ft:r||e.length===1?C0e({isCreatingWallet:t==="create",skipSplashScreen:n}):FN}function I0e(t){switch(t){case"user-passcode":return Aft;case"google-drive":case"icloud":return Nfe;default:throw Error("Recovery method not supported")}}const T0e=({children:t,theme:e})=>w.jsxs(Mft,{$theme:e,children:[w.jsx(qot,{width:"20px",height:"20px",color:"var(--privy-color-icon-subtle)",strokeWidth:2,style:{flexShrink:0}}),w.jsx(Pft,{$theme:e,children:t})]});let Mft=he.div.withConfig({displayName:"Container",componentId:"sc-1b5ed8dd-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-background-2);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),Pft=he.div.withConfig({displayName:"Content",componentId:"sc-1b5ed8dd-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],(t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)"));const $0e=us(["&&{border-width:1px;padding:0.5rem 1rem;}width:100%;text-align:left;border:solid 1px var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);display:flex;justify-content:space-between;align-items:center;",""],(t=>t.$state==="error"?`
        border-color: var(--privy-color-error);
        background: var(--privy-color-error-bg);
      `:"")),CA=he.div.withConfig({displayName:"Box",componentId:"sc-7252360a-0"})(["",""],$0e);let Nft=he(CA).withConfig({displayName:"StyledBox",componentId:"sc-4010d8f3-0"})(["&&{padding:0.75rem;height:56px;}"]),Rft=he.div.withConfig({displayName:"WalletContent",componentId:"sc-4010d8f3-1"})(["display:flex;align-items:center;justify-content:space-between;width:100%;"]),Oft=he.div.withConfig({displayName:"AddressContainer",componentId:"sc-4010d8f3-2"})(["display:flex;flex-direction:column;gap:0;"]),jft=he.div.withConfig({displayName:"BalanceText",componentId:"sc-4010d8f3-3"})(["font-size:12px;line-height:1rem;color:var(--privy-color-foreground-3);"]),Lft=he(va).withConfig({displayName:"TitleLabel",componentId:"sc-4010d8f3-4"})(["text-align:left;margin-bottom:0.5rem;"]),Dft=he(Yh).withConfig({displayName:"StyledErrorMessage",componentId:"sc-4010d8f3-5"})(["margin-top:0.25rem;"]),Bft=he(Eu).withConfig({displayName:"CopyButton",componentId:"sc-4010d8f3-6"})(["&&{gap:0.375rem;font-size:14px;}"]);const kA=({errMsg:t,balance:e,address:r,className:n,title:i,showCopyButton:s=!1})=>{let[o,a]=B.useState(!1);return B.useEffect((()=>{if(o){let l=setTimeout((()=>a(!1)),3e3);return()=>clearTimeout(l)}}),[o]),w.jsxs("div",{children:[i&&w.jsx(Lft,{children:i}),w.jsx(Nft,{className:n,$state:t?"error":void 0,children:w.jsxs(Rft,{children:[w.jsxs(Oft,{children:[w.jsx(Vr,{address:r,showCopyIcon:!1}),e!==void 0&&w.jsx(jft,{children:e})]}),s&&w.jsx(Bft,{onClick:function(l){l.stopPropagation(),navigator.clipboard.writeText(r).then((()=>a(!0))).catch(console.error)},size:"sm",children:w.jsxs(w.Fragment,o?{children:["Copied",w.jsx(Y3,{size:14})]}:{children:["Copy",w.jsx(pE,{size:14})]})})]})}),t&&w.jsx(Dft,{children:t})]})};function M0e({rpcConfig:t,appId:e,address:r,chain:n}){let{chains:i}=$t(),[s,o]=B.useState(0n),[a,l]=B.useState(!1),u=B.useMemo((()=>{let h=n||i[0];if(h)return Wh({chain:n,transport:qh(Gh(h,t,e))})}),[n,t,e]),c=B.useCallback((async()=>{if(!r||!u)return;l(!0);let h=await u.getBalance({address:r}).catch(console.error);return h?(o(h),l(!1),h):void 0}),[u,r,o]);return B.useEffect((()=>{c().catch(console.error)}),[]),{balance:s,isLoading:a,reloadBalance:c}}const Au="sdk_fiat_on_ramp_completed_with_status",hD=async({chain:t,address:e,appId:r,rpcConfig:n,erc20Address:i})=>({balance:await Wh({chain:t,transport:qh(Gh(t,n,r))}).readContract({address:i,abi:Uft,functionName:"balanceOf",args:[e]}).catch((()=>0n)),chain:t});let Uft=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];const u6=Symbol("solana-funding-plugin"),Fft=async({emitPrivyEvent:t,getAccessToken:e,initializeWalletProxy:r,refreshSessionAndUser:n,user:i,appConfig:s},{privateKey:o,chainType:a})=>{if(!i)throw t("linkAccount","onError",Ee.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new be("User must be authenticated before linking an account.");let[l,u]=await Promise.all([e(),r(15e3)]);if(!u||!l)throw t("linkAccount","onError",Ee.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new be("User must be authenticated before linking an account.");await u.importWallet({privateKey:o,accessToken:l,chainType:a,mode:s.embeddedWallets.mode==="user-controlled-server-wallets-only"?"tee":"on-device"});let c=await n(),h=a==="solana"?X_(c):bM(c);if(!h)throw t("createWallet","onError",Ee.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to import wallet");return t("createWallet","onSuccess",{wallet:h}),h};class zft{async handleSignMessage(e){if(!e.params||typeof e.params.message!="string")throw Error("Message must be provided as a string for Solana signMessage RPC");let r=await this.signMessage(Zs(e.params.message,"base64"));return{signature:Zs(r).toString("base64")}}async request(e){if(console.debug("EmbeddedSolanaProvider.request() called with args",e),!await On())throw Error("User must be authenticated to use embedded Solana wallet");if(!await omt({address:this.address}))throw new be("Unable to connect to Solana embedded wallet");if(e.method==="signMessage")return await this.handleSignMessage(e);throw Error("Embedded Solana provider does not yet support this RPC method.")}constructor(e,r,n){this.walletProxy=e,this.address=r,this.signMessage=n}}async function QN({tx:t,accessToken:e,walletProxy:r,entropyId:n,entropyIdVerifier:i,transactingWalletAddress:s,transactingWalletIndex:o}){let a=VE(t,s),l=ep(t)?Zs(t.message.serialize()):t.serializeMessage(),{response:u}=await r.rpc({accessToken:e,entropyId:n,entropyIdVerifier:i,chainType:"solana",hdWalletIndex:o,request:{method:"signMessage",params:{message:l.toString("base64")}}}),c=Zs(u.data.signature,"base64");return t.addSignature(a,c),t}const Wft=t=>t.reduce(((e,r)=>!e||e.walletIndex<r.walletIndex?r:e),null);let IQ=async({accessToken:t,appConfig:e,privy:r,emitPrivyEvent:n,proxy:i,refreshSessionAndUser:s,recoverEmbeddedWallet:o,user:a,walletIndex:l,setModalData:u,openModal:c,chainType:h,setUser:m})=>{if(l<0)throw n("createWallet","onError",Ee.EMBEDDED_WALLET_CREATE_ERROR),Error(`A negative walletIndex (${l}) is invalid.`);let y=lc(a);if(l>0&&!y)throw n("createWallet","onError",Ee.EMBEDDED_WALLET_NOT_FOUND),Error("Must have an existing embedded wallet to create an additional wallet.");if(e.embeddedWallets.requireUserOwnedRecoveryOnCreate&&e.embeddedWallets.mode==="user-controlled-server-wallets-only")throw n("createWallet","onError",Ee.EMBEDDED_WALLET_CREATE_ERROR),Error("User owned recovery not yet supported for this app.");if(!y&&e.embeddedWallets.requireUserOwnedRecoveryOnCreate)return await TQ({emitPrivyEvent:n,setModalData:u,openModal:c,chainType:h});let b=iD(a,{chainType:h,walletIndex:l})[0];if(b)return{user:a,account:b};if(l===0&&!i)return TQ({emitPrivyEvent:n,setModalData:u,openModal:c,chainType:h});if(!i)throw n("createWallet","onError",Ee.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");return Pfe({appConfig:e,walletIndex:l,chainType:h,user:a,accessToken:t,proxy:i,refreshSessionAndUser:s,privy:r,recoverEmbeddedWallet:o,setUser:m})},TQ=async({emitPrivyEvent:t,setModalData:e,openModal:r,chainType:n})=>new Promise(((i,s)=>{e({createWallet:{onSuccess:({user:o,account:a})=>{t("createWallet","onSuccess",{wallet:a}),i({user:o,account:a})},onFailure:o=>{t("createWallet","onError",Ee.UNKNOWN_EMBEDDED_WALLET_ERROR),s(o)},callAuthOnSuccessOnClose:!1,shouldCreateEth:n==="ethereum",shouldCreateSol:n==="solana"}}),r(nf)}));const P0e=()=>{let t=fn(),e=rf(),{setModalData:r}=jt(),{initializeWalletProxy:n,recoverEmbeddedWallet:i,setUser:s,openModal:o,refreshSessionAndUser:a,privy:l,client:u}=$t();return{create:async({chainType:c,options:h,latestUser:m})=>{let y=m;if(y||(y=await a()),!y)throw e("createWallet","onError",Ee.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");return await(async({appConfig:b,getAccessToken:E,initializeWalletProxy:A,user:M,privy:O,emitPrivyEvent:P,recoverEmbeddedWallet:z,setModalData:L,openModal:W,setUser:H,options:G,timeoutDuration:N,refreshSessionAndUser:F,chainType:U})=>{let[j,_]=await Promise.all([A(N),E()]);if(!_||!M)throw P("createWallet","onError",Ee.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");if(!j&&b.customAuth?.enabled)throw P("createWallet","onError",Ee.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");if(G&&"walletIndex"in G&&typeof G.walletIndex=="number"){if(b.embeddedWallets.mode==="user-controlled-server-wallets-only")throw P("createWallet","onError",Ee.INVALID_DATA),Error("Invalid input, use `createAdditional` instead of `walletIndex` to create additional wallets.");return IQ({accessToken:_,appConfig:b,privy:O,emitPrivyEvent:P,openModal:W,proxy:j,refreshSessionAndUser:F,recoverEmbeddedWallet:z,setModalData:L,user:M,walletIndex:G.walletIndex,chainType:U,setUser:H})}let d=G&&"createAdditional"in G&&G.createAdditional,g=iD(M,{chainType:U});if(g[0]&&!d)throw P("createWallet","onError",Ee.EMBEDDED_WALLET_ALREADY_EXISTS),Error("User already has an embedded wallet.");return IQ({accessToken:_,appConfig:b,privy:O,emitPrivyEvent:P,openModal:W,proxy:j,recoverEmbeddedWallet:z,setModalData:L,user:M,walletIndex:(Wft(g)?.walletIndex??-1)+1,chainType:U,refreshSessionAndUser:F,setUser:H})})({appConfig:t,privy:l,getAccessToken:()=>u.getAccessToken(),refreshSessionAndUser:a,initializeWalletProxy:n,user:y,emitPrivyEvent:e,recoverEmbeddedWallet:i,setModalData:r,openModal:o,setUser:s,options:h,timeoutDuration:mhe,chainType:c})}}};function qft(t){let{create:e}=P0e();return op("createWallet",t),{createWallet:async r=>{r&&"target"in r&&r&&(r=void 0);let{account:n}=await e({chainType:"ethereum",options:r});return n}}}const Hft=()=>{let{user:t}=Kr(),{client:e,refreshSessionAndUser:r,initializeWalletProxy:n}=$t(),i=rf(),s=fn();return{importWallet:B.useCallback((({privateKey:o})=>Fft({getAccessToken:()=>e.getAccessToken(),user:t,initializeWalletProxy:n,refreshSessionAndUser:r,emitPrivyEvent:i,appConfig:s},{privateKey:o,chainType:"ethereum"})),[t,e,r,n,i])}},Tm=()=>{let{importWallet:t}=Hft(),{createWallet:e}=qft();return{...B.useContext(dm),importWallet:t,createWallet:e}},fD=t=>t.filter((e=>e.method==="wallets"||(e.method==="exchange"?e.provider==="coinbase":e.method==="card"||e.method==="payment-request"?e.provider==="coinbase"||e.provider==="moonpay":(e.method,!1)))),N0e=t=>!!t.fundingConfig&&fD(t.fundingConfig.options).length>=1,R0e=({children:t,theme:e})=>w.jsxs(Vft,{$theme:e,children:[w.jsx($L,{width:"20px",height:"20px",color:"var(--privy-color-icon-error)",strokeWidth:2,style:{flexShrink:0}}),w.jsx(Kft,{$theme:e,children:t})]});let Vft=he.div.withConfig({displayName:"Container",componentId:"sc-34910fd1-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-error-bg);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),Kft=he.div.withConfig({displayName:"Content",componentId:"sc-34910fd1-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],(t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)"));const Gft=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 210.2",xmlSpace:"preserve",...t,children:w.jsx("path",{d:"M93.6,27.1C87.6,34.2,78,39.8,68.4,39c-1.2-9.6,3.5-19.8,9-26.1c6-7.3,16.5-12.5,25-12.9  C103.4,10,99.5,19.8,93.6,27.1 M102.3,40.9c-13.9-0.8-25.8,7.9-32.4,7.9c-6.7,0-16.8-7.5-27.8-7.3c-14.3,0.2-27.6,8.3-34.9,21.2  c-15,25.8-3.9,64,10.6,85c7.1,10.4,15.6,21.8,26.8,21.4c10.6-0.4,14.8-6.9,27.6-6.9c12.9,0,16.6,6.9,27.8,6.7  c11.6-0.2,18.9-10.4,26-20.8c8.1-11.8,11.4-23.3,11.6-23.9c-0.2-0.2-22.4-8.7-22.6-34.3c-0.2-21.4,17.5-31.6,18.3-32.2  C123.3,42.9,107.7,41.3,102.3,40.9 M182.6,11.9v155.9h24.2v-53.3h33.5c30.6,0,52.1-21,52.1-51.4c0-30.4-21.1-51.2-51.3-51.2H182.6z   M206.8,32.3h27.9c21,0,33,11.2,33,30.9c0,19.7-12,31-33.1,31h-27.8V32.3z M336.6,169c15.2,0,29.3-7.7,35.7-19.9h0.5v18.7h22.4V90.2  c0-22.5-18-37-45.7-37c-25.7,0-44.7,14.7-45.4,34.9h21.8c1.8-9.6,10.7-15.9,22.9-15.9c14.8,0,23.1,6.9,23.1,19.6v8.6l-30.2,1.8  c-28.1,1.7-43.3,13.2-43.3,33.2C298.4,155.6,314.1,169,336.6,169z M343.1,150.5c-12.9,0-21.1-6.2-21.1-15.7c0-9.8,7.9-15.5,23-16.4  l26.9-1.7v8.8C371.9,140.1,359.5,150.5,343.1,150.5z M425.1,210.2c23.6,0,34.7-9,44.4-36.3L512,54.7h-24.6l-28.5,92.1h-0.5  l-28.5-92.1h-25.3l41,113.5l-2.2,6.9c-3.7,11.7-9.7,16.2-20.4,16.2c-1.9,0-5.6-0.2-7.1-0.4v18.7C417.3,210,423.3,210.2,425.1,210.2z"})}),Yft=t=>w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 38.1",xmlSpace:"preserve",...t,children:[w.jsx("path",{style:{fill:"#5F6368"},d:"M37.8,19.7V29h-3V6h7.8c1.9,0,3.7,0.7,5.1,2c1.4,1.2,2.1,3,2.1,4.9c0,1.9-0.7,3.6-2.1,4.9c-1.4,1.3-3.1,2-5.1,2  L37.8,19.7L37.8,19.7z M37.8,8.8v8h5c1.1,0,2.2-0.4,2.9-1.2c1.6-1.5,1.6-4,0.1-5.5c0,0-0.1-0.1-0.1-0.1c-0.8-0.8-1.8-1.3-2.9-1.2  L37.8,8.8L37.8,8.8z"}),w.jsx("path",{style:{fill:"#5F6368"},d:"M56.7,12.8c2.2,0,3.9,0.6,5.2,1.8s1.9,2.8,1.9,4.8V29H61v-2.2h-0.1c-1.2,1.8-2.9,2.7-4.9,2.7  c-1.7,0-3.2-0.5-4.4-1.5c-1.1-1-1.8-2.4-1.8-3.9c0-1.6,0.6-2.9,1.8-3.9c1.2-1,2.9-1.4,4.9-1.4c1.8,0,3.2,0.3,4.3,1v-0.7  c0-1-0.4-2-1.2-2.6c-0.8-0.7-1.8-1.1-2.9-1.1c-1.7,0-3,0.7-3.9,2.1l-2.6-1.6C51.8,13.8,53.9,12.8,56.7,12.8z M52.9,24.2  c0,0.8,0.4,1.5,1,1.9c0.7,0.5,1.5,0.8,2.3,0.8c1.2,0,2.4-0.5,3.3-1.4c1-0.9,1.5-2,1.5-3.2c-0.9-0.7-2.2-1.1-3.9-1.1  c-1.2,0-2.2,0.3-3,0.9C53.3,22.6,52.9,23.3,52.9,24.2z"}),w.jsx("path",{style:{fill:"#5F6368"},d:"M80,13.3l-9.9,22.7h-3l3.7-7.9l-6.5-14.7h3.2l4.7,11.3h0.1l4.6-11.3H80z"}),w.jsx("path",{style:{fill:"#4285F4"},d:"M25.9,17.7c0-0.9-0.1-1.8-0.2-2.7H13.2v5.1h7.1c-0.3,1.6-1.2,3.1-2.6,4v3.3H22C24.5,25.1,25.9,21.7,25.9,17.7z"}),w.jsx("path",{style:{fill:"#34A853"},d:"M13.2,30.6c3.6,0,6.6-1.2,8.8-3.2l-4.3-3.3c-1.2,0.8-2.7,1.3-4.5,1.3c-3.4,0-6.4-2.3-7.4-5.5H1.4v3.4  C3.7,27.8,8.2,30.6,13.2,30.6z"}),w.jsx("path",{style:{fill:"#FBBC04"},d:"M5.8,19.9c-0.6-1.6-0.6-3.4,0-5.1v-3.4H1.4c-1.9,3.7-1.9,8.1,0,11.9L5.8,19.9z"}),w.jsx("path",{style:{fill:"#EA4335"},d:"M13.2,9.4c1.9,0,3.7,0.7,5.1,2l0,0l3.8-3.8c-2.4-2.2-5.6-3.5-8.8-3.4c-5,0-9.6,2.8-11.8,7.3l4.4,3.4  C6.8,11.7,9.8,9.4,13.2,9.4z"})]}),$Q=t=>{let[e,r]=B.useState();return B.useEffect((()=>{t().then((n=>{r(n)})).catch((()=>{}))}),[]),e},O0e=async({address:t,chain:e,rpcConfig:r,privyAppId:n})=>{try{let i=Wh({chain:e,transport:qh(Gh(e,r,n))}),[s,o]=await Promise.all([i.readContract({abi:MQ,address:t,functionName:"symbol"}),i.readContract({abi:MQ,address:t,functionName:"decimals"})]);return{decimals:o,symbol:s}}catch(i){return console.log(i),null}};let MQ=[{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];const Xw=he.span.withConfig({displayName:"Rows",componentId:"sc-b764aab6-0"})(["display:flex;flex-direction:column;gap:0.35rem;width:100%;"]),Ot=he.span.withConfig({displayName:"Row",componentId:"sc-b764aab6-1"})(["display:flex;width:100%;justify-content:space-between;gap:0.5rem;"]),Zt=he.span.withConfig({displayName:"LabelSm",componentId:"sc-6c002d6-0"})(["color:var(--privy-color-foreground-3);font-size:0.875rem;font-weight:400;line-height:1.375rem;"]),Zft=he(Zt).withConfig({displayName:"LabelSmPrimary",componentId:"sc-6c002d6-1"})(["color:var(--privy-color-accent);"]),rr=he.span.withConfig({displayName:"Value",componentId:"sc-72aa026-0"})(["color:var(--privy-color-foreground);font-size:0.875rem;font-weight:500;line-height:1.375rem;word-break:break-all;text-align:right;",""],AA),Qft=t=>w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 397.7 311.7",enableBackground:"new 0 0 397.7 311.7",xmlSpace:"preserve",...t,children:[w.jsxs("linearGradient",{id:"SVGID_1_",gradientUnits:"userSpaceOnUse",x1:"360.8791",y1:"351.4553",x2:"141.213",y2:"-69.2936",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[w.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),w.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),w.jsx("path",{d:"M64.6,237.9c2.4-2.4,5.7-3.8,9.2-3.8h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,237.9z",fill:"url(#SVGID_1_)"}),w.jsxs("linearGradient",{id:"SVGID_2_",gradientUnits:"userSpaceOnUse",x1:"264.8291",y1:"401.6014",x2:"45.163",y2:"-19.1475",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[w.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),w.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),w.jsx("path",{d:"M64.6,3.8C67.1,1.4,70.4,0,73.8,0h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,3.8z",fill:"url(#SVGID_2_)"}),w.jsxs("linearGradient",{id:"SVGID_3_",gradientUnits:"userSpaceOnUse",x1:"312.5484",y1:"376.688",x2:"92.8822",y2:"-44.061",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[w.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),w.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),w.jsx("path",{d:"M333.1,120.1c-2.4-2.4-5.7-3.8-9.2-3.8H6.5c-5.8,0-8.7,7-4.6,11.1l62.7,62.7c2.4,2.4,5.7,3.8,9.2,3.8h317.4  c5.8,0,8.7-7,4.6-11.1L333.1,120.1z",fill:"url(#SVGID_3_)"})]});let Jft={[yc.id]:t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 2500 2500",xmlSpace:"preserve",...t,children:w.jsx("g",{id:"Layer_x0020_1",children:w.jsxs("g",{id:"_2405588477232",children:[w.jsx("rect",{fill:"none",width:"2500",height:"2500"}),w.jsx("g",{children:w.jsxs("g",{children:[w.jsx("path",{fill:"#213147",d:"M226,760v980c0,63,33,120,88,152l849,490c54,31,121,31,175,0l849-490c54-31,88-89,88-152V760      c0-63-33-120-88-152l-849-490c-54-31-121-31-175,0L314,608c-54,31-87,89-87,152H226z"}),w.jsx("g",{children:w.jsxs("g",{children:[w.jsx("g",{children:w.jsx("path",{fill:"#12AAFF",d:"M1435,1440l-121,332c-3,9-3,19,0,29l208,571l241-139l-289-793C1467,1422,1442,1422,1435,1440z"})}),w.jsx("g",{children:w.jsx("path",{fill:"#12AAFF",d:"M1678,882c-7-18-32-18-39,0l-121,332c-3,9-3,19,0,29l341,935l241-139L1678,883V882z"})})]})}),w.jsx("g",{children:w.jsx("path",{fill:"#9DCCED",d:"M1250,155c6,0,12,2,17,5l918,530c11,6,17,18,17,30v1060c0,12-7,24-17,30l-918,530c-5,3-11,5-17,5       s-12-2-17-5l-918-530c-11-6-17-18-17-30V719c0-12,7-24,17-30l918-530c5-3,11-5,17-5l0,0V155z M1250,0c-33,0-65,8-95,25L237,555       c-59,34-95,96-95,164v1060c0,68,36,130,95,164l918,530c29,17,62,25,95,25s65-8,95-25l918-530c59-34,95-96,95-164V719       c0-68-36-130-95-164L1344,25c-29-17-62-25-95-25l0,0H1250z"})}),w.jsx("polygon",{fill:"#213147",points:"642,2179 727,1947 897,2088 738,2234     "}),w.jsxs("g",{children:[w.jsx("path",{fill:"#FFFFFF",d:"M1172,644H939c-17,0-33,11-39,27L401,2039l241,139l550-1507c5-14-5-28-19-28L1172,644z"}),w.jsx("path",{fill:"#FFFFFF",d:"M1580,644h-233c-17,0-33,11-39,27L738,2233l241,139l620-1701c5-14-5-28-19-28V644z"})]})]})})]})})}),[Iw.id]:t=>w.jsxs("svg",{width:"1503",height:"1504",viewBox:"0 0 1503 1504",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[w.jsx("rect",{x:"287",y:"258",width:"928",height:"844",fill:"white"}),w.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1502.5 752C1502.5 1166.77 1166.27 1503 751.5 1503C336.734 1503 0.5 1166.77 0.5 752C0.5 337.234 336.734 1 751.5 1C1166.27 1 1502.5 337.234 1502.5 752ZM538.688 1050.86H392.94C362.314 1050.86 347.186 1050.86 337.962 1044.96C327.999 1038.5 321.911 1027.8 321.173 1015.99C320.619 1005.11 328.184 991.822 343.312 965.255L703.182 330.935C718.495 303.999 726.243 290.531 736.021 285.55C746.537 280.2 759.083 280.2 769.599 285.55C779.377 290.531 787.126 303.999 802.438 330.935L876.42 460.079L876.797 460.738C893.336 489.635 901.723 504.289 905.385 519.669C909.443 536.458 909.443 554.169 905.385 570.958C901.695 586.455 893.393 601.215 876.604 630.549L687.573 964.702L687.084 965.558C670.436 994.693 661.999 1009.46 650.306 1020.6C637.576 1032.78 622.263 1041.63 605.474 1046.62C590.161 1050.86 573.004 1050.86 538.688 1050.86ZM906.75 1050.86H1115.59C1146.4 1050.86 1161.9 1050.86 1171.13 1044.78C1181.09 1038.32 1187.36 1027.43 1187.92 1015.63C1188.45 1005.1 1181.05 992.33 1166.55 967.307C1166.05 966.455 1165.55 965.588 1165.04 964.706L1060.43 785.75L1059.24 783.735C1044.54 758.877 1037.12 746.324 1027.59 741.472C1017.08 736.121 1004.71 736.121 994.199 741.472C984.605 746.453 976.857 759.552 961.544 785.934L857.306 964.891L856.949 965.507C841.69 991.847 834.064 1005.01 834.614 1015.81C835.352 1027.62 841.44 1038.5 851.402 1044.96C860.443 1050.86 875.94 1050.86 906.75 1050.86Z",fill:"#E84142"})]}),[wc.id]:t=>w.jsxs("svg",{width:"146",height:"146",viewBox:"0 0 146 146",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[w.jsx("circle",{cx:"73",cy:"73",r:"73",fill:"#0052FF"}),w.jsx("path",{d:"M73.323 123.729C101.617 123.729 124.553 100.832 124.553 72.5875C124.553 44.343 101.617 21.4463 73.323 21.4463C46.4795 21.4463 24.4581 42.0558 22.271 68.2887H89.9859V76.8864H22.271C24.4581 103.119 46.4795 123.729 73.323 123.729Z",fill:"white"})]}),[z_.id]:t=>w.jsxs("svg",{fill:"none",height:"400",viewBox:"0 0 400 400",width:"400",xmlns:"http://www.w3.org/2000/svg",...t,children:[w.jsx("path",{d:"m0 0h400v400h-400z",fill:"#fcff52"}),w.jsx("path",{d:"m300 100h-200v200h199.996v-69.813h-33.191c-11.442 25.468-37.194 43.206-66.665 43.206-40.63 0-73.533-33.187-73.533-73.533s32.903-73.249 73.533-73.249c30.043 0 55.795 18.313 67.24 44.349h32.62z",fill:"#000"})]}),[Fre.id]:t=>w.jsxs("svg",{width:"200",height:"208",viewBox:"0 0 200 208",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[w.jsx("rect",{width:"199.4",height:"207.623",fill:"#121212"}),w.jsxs("g",{"clip-path":"url(#clip0_2303_643)",children:[w.jsx("path",{d:"M132.369 155.99H49.7001V68.8854H68.6148V139.109H132.369V155.981V155.99Z",fill:"white"}),w.jsx("path",{d:"M132.369 85.7575C141.687 85.7575 149.241 78.2036 149.241 68.8855C149.241 59.5673 141.687 52.0134 132.369 52.0134C123.05 52.0134 115.497 59.5673 115.497 68.8855C115.497 78.2036 123.05 85.7575 132.369 85.7575Z",fill:"white"})]}),w.jsx("defs",{children:w.jsx("clipPath",{id:"clip0_2303_643",children:w.jsx("rect",{width:"99.5407",height:"103.977",fill:"white",transform:"translate(49.7001 52.0134)"})})})]}),[vc.id]:t=>w.jsxs("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 327.5 533.3",enableBackground:"new 0 0 327.5 533.3;",xmlSpace:"preserve",...t,children:[w.jsx("path",{fill:"#8492B2",d:"M163.7,197.2V0L0,271.6L163.7,197.2z"}),w.jsx("path",{fill:"#62688F",d:"M163.7,368.4V197.2L0,271.6L163.7,368.4z M163.7,197.2l163.7,74.4L163.7,0V197.2z"}),w.jsx("path",{fill:"#454A75",d:"M163.7,197.2v171.2l163.7-96.8L163.7,197.2z"}),w.jsx("path",{fill:"#8492B2",d:"M163.7,399.4L0,302.7l163.7,230.7V399.4z"}),w.jsx("path",{fill:"#62688F",d:"M327.5,302.7l-163.8,96.7v134L327.5,302.7z"})]}),[Nd.id]:t=>w.jsxs("svg",{width:"500",height:"500",viewBox:"0 0 500 500",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[w.jsx("circle",{cx:"250",cy:"250",r:"250",fill:"#FF0420"}),w.jsx("path",{d:"M177.133 316.446C162.247 316.446 150.051 312.943 140.544 305.938C131.162 298.808 126.471 288.676 126.471 275.541C126.471 272.789 126.784 269.411 127.409 265.408C129.036 256.402 131.35 245.581 134.352 232.947C142.858 198.547 164.812 181.347 200.213 181.347C209.845 181.347 218.476 182.973 226.107 186.225C233.738 189.352 239.742 194.106 244.12 200.486C248.498 206.74 250.688 214.246 250.688 223.002C250.688 225.629 250.375 228.944 249.749 232.947C247.873 244.08 245.621 254.901 242.994 265.408C238.616 282.546 231.048 295.368 220.29 303.874C209.532 312.255 195.147 316.446 177.133 316.446ZM179.76 289.426C186.766 289.426 192.707 287.362 197.586 283.234C202.59 279.106 206.155 272.789 208.281 264.283C211.158 252.524 213.348 242.266 214.849 233.51C215.349 230.883 215.599 228.194 215.599 225.441C215.599 214.058 209.657 208.366 197.774 208.366C190.768 208.366 184.764 210.43 179.76 214.558C174.882 218.687 171.379 225.004 169.253 233.51C167.001 241.891 164.749 252.149 162.498 264.283C161.997 266.784 161.747 269.411 161.747 272.163C161.747 283.672 167.752 289.426 179.76 289.426Z",fill:"white"}),w.jsx("path",{d:"M259.303 314.57C257.927 314.57 256.863 314.132 256.113 313.256C255.487 312.255 255.3 311.13 255.55 309.879L281.444 187.914C281.694 186.538 282.382 185.412 283.508 184.536C284.634 183.661 285.822 183.223 287.073 183.223H336.985C350.87 183.223 362.003 186.1 370.384 191.854C378.891 197.609 383.144 205.927 383.144 216.81C383.144 219.937 382.769 223.19 382.018 226.567C378.891 240.953 372.574 251.586 363.067 258.466C353.685 265.346 340.8 268.786 324.413 268.786H299.082L290.451 309.879C290.2 311.255 289.512 312.38 288.387 313.256C287.261 314.132 286.072 314.57 284.822 314.57H259.303ZM325.727 242.892C330.98 242.892 335.546 241.453 339.424 238.576C343.427 235.699 346.054 231.571 347.305 226.192C347.68 224.065 347.868 222.189 347.868 220.563C347.868 216.935 346.805 214.183 344.678 212.307C342.551 210.305 338.924 209.305 333.795 209.305H311.278L304.148 242.892H325.727Z",fill:"white"})]}),[Ka.id]:t=>w.jsxs("svg",{width:"360",height:"360",viewBox:"0 0 360 360",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[w.jsx("rect",{width:"360",height:"360",rx:"180",fill:"#6C00F6"}),w.jsx("path",{d:"M157.743 154.241L141.052 144.58L90.9766 173.561V231.519L141.052 260.5L191.13 231.519V141.359L218.948 125.26L246.77 141.359V173.561L218.948 189.66L202.257 180.002V205.759L218.948 215.42L269.024 186.439V128.481L218.948 99.5L168.873 128.481V218.641L141.052 234.74L113.233 218.641V186.439L141.052 170.34L157.743 179.998V154.241Z",fill:"white"})]}),[EO.id]:t=>w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",...t,children:[w.jsx("g",{clipPath:"url(#clip0)",children:w.jsx("g",{clipPath:"url(#clip1)",children:w.jsx("path",{d:"M14.9188 29.8373C6.67944 29.8373 0.00012207 23.1581 0.00012207 14.9187C0.00012207 6.67931 6.67944 0 14.9188 0C23.1581 0 29.8373 6.67931 29.8373 14.9187C29.8373 23.1581 23.1581 29.8373 14.9188 29.8373Z",fill:"url(#paint0)"})})}),w.jsxs("defs",{children:[w.jsxs("radialGradient",{id:"paint0",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(21.6921 8.02215) rotate(180) scale(25.2008)",children:[w.jsx("stop",{offset:"0.00682297",stopColor:"#F2CEFE"}),w.jsx("stop",{offset:"0.1913",stopColor:"#AFBAF1"}),w.jsx("stop",{offset:"0.4982",stopColor:"#4281D3"}),w.jsx("stop",{offset:"0.666667",stopColor:"#2E427D"}),w.jsx("stop",{offset:"0.822917",stopColor:"#230101"}),w.jsx("stop",{offset:"1",stopColor:"#8F6B40"})]}),w.jsx("clipPath",{id:"clip0",children:w.jsx("rect",{width:"30",height:"30",fill:"white"})}),w.jsx("clipPath",{id:"clip1",children:w.jsx("rect",{width:"30",height:"30",fill:"white"})})]})]})};const j0e=({chainId:t,...e})=>{if(t==="solana")return w.jsx(Qft,{...e});let r=Jft[t];return w.jsx(r||rhe,{...e})},IA=({wallet:t,displayName:e,addressToFund:r,chainId:n,chainName:i,isBridging:s,isErc20Flow:o,totalPriceInNativeCurrency:a,totalPriceInUsd:l,gasPriceInNativeCurrency:u,gasPriceInUsd:c})=>{let h=tf(t.walletClientType);return w.jsxs(w.Fragment,{children:[w.jsx(Wa,{}),w.jsx(Cm,{}),w.jsx(JL,{style:{marginTop:"16px"},children:w.jsx(x0e,{icon:h?.image_url?.md,name:t.walletClientType})}),w.jsx(Tl,{style:{marginTop:"8px",marginBottom:"12px"},title:`${s?"Bridging":"Confirming"} with ${e}`}),!s&&!o&&w.jsxs(Xw,{children:[w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Total"}),w.jsx(rr,{children:l||a})]}),w.jsxs(Ot,{children:[w.jsx(Zt,{children:"To"}),w.jsx(rr,{children:w.jsx(Vr,{address:r,showCopyIcon:!1})})]}),w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Network"}),w.jsx(rr,{children:w.jsxs(Xft,{children:[w.jsx(j0e,{chainId:n,height:16,width:16})," ",i]})})]}),u&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Estimated fee"}),w.jsx(rr,{children:c||u})]})]}),w.jsx(gct,{height:24}),w.jsx(nn,{})]})};let Xft=he.div.withConfig({displayName:"NetworkColumn",componentId:"sc-ec6320ce-0"})(["display:flex;flex-direction:row;align-items:center;gap:4px;"]);const L0e={component:()=>{let{closePrivyModal:t,createAnalyticsEvent:e}=$t(),{navigate:r,setModalData:n,app:i,data:s}=jt(),{wallets:o}=d6(),a=Jw(),[l,u]=B.useState(0n),[c,h]=B.useState(null),[m,y]=B.useState(!1),[b,E]=B.useState(!1),A=B.useRef(!1);if(!s?.funding||s.funding.chainType!=="solana")throw Error("Invalid funding data");let{address:M,amount:O,cluster:P,connectedWalletAddress:z}=s.funding,L=(function({name:g,rpcUrl:x}){if(x)return x;switch(g){case"mainnet-beta":return"https://api.mainnet-beta.solana.com";case"testnet":return"https://api.testnet.solana.com";case"devnet":return"https://api.devnet.solana.com"}})(P),{tokenPrice:W}=Zw("solana"),{fundingAmountInBaseUnit:H,totalPriceInUsd:G,totalPriceInNativeCurrency:N,feePriceInNativeCurrency:F,feePriceInUsd:U}=afe({amount:O,fee:l,tokenPrice:W,isUsdc:s.funding.isUSDC}),j=z?o.find((({address:g})=>g===z)):o[0],_=tf(j?.walletClientType||"unknown"),d=_?.name||"wallet";return B.useEffect((()=>{(async()=>{if(j?.type==="solana"&&j.sendTransaction&&!m&&!A.current){A.current=!0;try{let g=a(u6);if(!g)throw new be("Unable to load solana plugin");let{connection:x,transaction:C}=s.funding?.isUSDC?await g.createSplTransferTransaction({from:j.address,to:M,amount:H,mintAddress:Zx[P.name],cluster:P}):await g.createTransferTransaction({from:j.address,to:M,amount:H,cluster:P}),k=await C.getEstimatedFee(x);k!=null&&u(BigInt(k)),y(!0);let T=await x.simulateTransaction(C);if(T.value.err)return T.value.logs?.find((S=>/insufficient (lamports|funds)/gi.test(S)))?void h(new be(`Wallet ${Zo(j.address,void 0,void 0,"solana")} does not have enough funds.`,void 0,Ee.INSUFFICIENT_BALANCE)):(console.error("Transaction failed:",T.value.err),void h(new be("Something went wrong",void 0,Ee.TRANSACTION_FAILURE)));let R=await j.sendTransaction(C,x),{value:I,token:f}=s.funding?.isUSDC?{value:Ys(H,6),token:"USDC"}:{value:Ys(H,9),token:"SOL"};e({eventName:Au,payload:{provider:"external",status:"success",txHash:R,rpcEndpoint:L,address:j.address,value:I,chainType:"solana",clusterName:P.name,token:f,destinationAddress:M,destinationValue:I,destinationChainType:"solana",destinationClusterName:P.name,destinationToken:f}}),y(!1),E(!0)}catch(g){if(console.error(g),y(!1),/user rejected the request/gi.test(g.message||""))return void h(new be("Transaction was rejected by the user",void 0,Ee.TRANSACTION_FAILURE));h(new be("Something went wrong",void 0,Ee.TRANSACTION_FAILURE))}}})().catch(console.error).finally((()=>A.current=!1))}),[]),B.useEffect((()=>{c&&(n({funding:s?.funding,sendTransaction:s?.sendTransaction,errorModalData:{error:c,previousScreen:e2}}),r(ci,!1))}),[c]),B.useEffect((()=>{if(!b)return;let g=setTimeout(t,oA);return()=>clearTimeout(g)}),[b]),b?w.jsxs(w.Fragment,{children:[w.jsx(Wa,{}),w.jsx(Tu,{}),w.jsxs(i6,{children:[w.jsx(Gw,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),w.jsx(Tl,{title:"Success!",description:`You’ve successfully added ${O} ${s.funding?.isUSDC?"USDC":"SOL"} to your ${i.name} wallet. It may take a minute before the funds are available to use.`})]}),w.jsx(Nl,{}),w.jsx(nn,{})]}):j&&m?w.jsx(IA,{wallet:j,displayName:d,addressToFund:M,isBridging:!1,isErc20Flow:!!s.funding?.isUSDC,totalPriceInUsd:G,totalPriceInNativeCurrency:N,gasPriceInUsd:U,gasPriceInNativeCurrency:F,chainId:"solana",chainName:P.name}):w.jsxs(w.Fragment,{children:[w.jsx(Wa,{}),w.jsx(Cm,{}),w.jsx("div",{style:{marginTop:"1rem"}}),w.jsx(nn,{})]})}},JN=[{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}];let e0t=2n**256n-1n;const e_=({amount:t,decimals:e})=>t===e0t?"Maximum":Intl.NumberFormat(void 0,{maximumFractionDigits:e}).format(Number(t)/10**e),D0e=({chains:t,appId:e,address:r,rpcConfig:n,includeUsdc:i})=>Promise.all(t.map((async s=>{let o=Wh({chain:s,transport:qh(Gh(s,n,e))}),a=await o.getBalance({address:r}).catch((()=>0n)),l=null,u=A7e[s.id];if(i&&u){let{balance:c}=await hD({address:r,chain:s,rpcConfig:n,appId:e,erc20Address:u});l=c}return{balance:a,erc20Balance:l,erc20Address:u,chain:s}}))),t0t=({balance:t,className:e,chain:r})=>w.jsx(CA,{className:e,$state:void 0,children:w.jsx(XN,{balance:t,chain:r})}),XN=({balance:t,chain:e})=>w.jsxs(w.Fragment,{children:[w.jsxs(r0t,{children:[w.jsx(i0t,{chainId:"id"in e?e.id:"solana"}),w.jsx(rr,{children:e.name})]}),w.jsxs(Md,{isLoading:!1,isPulsing:!1,color:"gray",children:[w.jsx(n0t,{children:w.jsx(sA,{})}),t]})]});let r0t=he.div.withConfig({displayName:"Container",componentId:"sc-d24ae982-0"})(["display:flex;align-items:center;"]),n0t=he.div.withConfig({displayName:"IconContainer",componentId:"sc-d24ae982-1"})(["height:0.75rem;width:0.75rem;margin-right:0.2rem;"]),i0t=he(j0e).withConfig({displayName:"StyledNetworkIcon",componentId:"sc-d24ae982-2"})(["height:1.25rem;width:1.25rem;display:inline-block;margin-right:0.5rem;border-radius:4px;"]);const s0t=({options:t,onSelect:e,selected:r,className:n})=>w.jsxs(YRe,{as:o0t,children:[w.jsxs(Zoe,{as:c0t,children:[w.jsx(XN,{balance:r.balance,chain:r.chain}),w.jsx(eR,{height:16})]}),w.jsx(Qoe,{as:a0t,className:n,children:t.map(((i,s)=>w.jsx(Joe,{as:l0t,onClick:()=>e(s),children:w.jsx(XN,{balance:i.balance,chain:i.chain})},s)))})]});let o0t=he.div.withConfig({displayName:"Wrapper",componentId:"sc-31c00f79-0"})(["width:100%;position:relative;"]),a0t=he.div.withConfig({displayName:"Popover",componentId:"sc-31c00f79-1"})(["width:100%;margin-top:0.5rem;position:absolute;background-color:var(--privy-color-background);border-radius:var(--privy-border-radius-md);overflow-x:hidden;overflow-y:auto;box-shadow:0px 1px 2px 0px rgba(16,24,40,0.05);max-height:11.75rem;&&{border:solid 1px var(--privy-color-foreground-4);}z-index:1;"]),l0t=he.button.withConfig({displayName:"Button",componentId:"sc-31c00f79-2"})(["width:100%;display:flex;justify-content:space-between;&&{padding:1rem;}:not(:last-child){border-bottom:solid 1px var(--privy-color-foreground-4);}:hover{background:var(--privy-color-background-2);}"]),eR=he(d9).withConfig({displayName:"StyledChevronIcon",componentId:"sc-31c00f79-3"})(["height:1rem;margin-left:0.5rem;"]),c0t=he.button.withConfig({displayName:"StyledMenuButton",componentId:"sc-31c00f79-4"})([""," span{margin-left:auto;}","{transition:rotate 100ms ease-in;}&[aria-expanded='true']{","{rotate:-180deg;}}"],$0e,eR,eR);const u0t=({passkeys:t,isLoading:e,errorReason:r,success:n,expanded:i,onLinkPasskey:s,onUnlinkPasskey:o,onExpand:a,onBack:l,onClose:u})=>w.jsx(on,n?{title:"Passkeys updated",icon:W5,iconVariant:"success",primaryCta:{label:"Done",onClick:u},onClose:u,watermark:!0}:i?{icon:gE,title:"Your passkeys",onBack:l,onClose:u,watermark:!0,children:w.jsx(PQ,{passkeys:t,expanded:i,onUnlink:o,onExpand:a})}:{icon:gE,title:"Set up passkey verification",subtitle:"Verify with passkey",primaryCta:{label:"Add new passkey",onClick:s,loading:e},onClose:u,watermark:!0,helpText:r||void 0,children:t.length===0?w.jsx(h0t,{}):w.jsx(d0t,{children:w.jsx(PQ,{passkeys:t,expanded:i,onUnlink:o,onExpand:a})})});let d0t=he.div.withConfig({displayName:"ContentContainer",componentId:"sc-e693657c-0"})(["margin-bottom:12px;"]),PQ=({passkeys:t,expanded:e,onUnlink:r,onExpand:n})=>{let[i,s]=B.useState([]),o=e?t.length:2,a=l=>l.authenticatorName?l.createdWithBrowser?`${l.authenticatorName} on ${l.createdWithBrowser}`:l.authenticatorName:l.createdWithBrowser?l.createdWithOs?`${l.createdWithBrowser} on ${l.createdWithOs}`:`${l.createdWithBrowser}`:"Unknown device";return w.jsxs("div",{children:[w.jsx(y0t,{children:"Your passkeys"}),w.jsxs(m0t,{children:[t.slice(0,o).map((l=>w.jsxs(b0t,{children:[w.jsxs("div",{children:[w.jsx(w0t,{children:a(l)}),w.jsxs(v0t,{children:["Last used: ",(l.latestVerifiedAt??l.verifiedAt).toLocaleString()]})]}),w.jsx(E0t,{disabled:i.includes(l.credentialId),onClick:()=>(async u=>{s((c=>c.concat([u]))),await r(u),s((c=>c.filter((h=>h!==u))))})(l.credentialId),children:i.includes(l.credentialId)?w.jsx(ap,{}):w.jsx(aOe,{size:16})})]},l.credentialId))),t.length>2&&!e&&w.jsx(g0t,{onClick:n,children:"View all"})]})]})},h0t=()=>w.jsxs(E0e,{style:{color:"var(--privy-color-foreground)"},children:[w.jsx(Py,{children:"Verify with Touch ID, Face ID, PIN, or hardware key"}),w.jsx(Py,{children:"Takes seconds to set up and use"}),w.jsx(Py,{children:"Use your passkey to verify transactions and login to your account"})]});const f0t={component:()=>{let{user:t,unlinkPasskey:e}=Kr(),{linkWithPasskey:r,closePrivyModal:n}=$t(),i=t?.linkedAccounts.filter((y=>y.type==="passkey")),[s,o]=B.useState(!1),[a,l]=B.useState(""),[u,c]=B.useState(!1),[h,m]=B.useState(!1);return B.useEffect((()=>{i.length===0&&m(!1)}),[i.length]),w.jsx(u0t,{passkeys:i,isLoading:s,errorReason:a,success:u,expanded:h,onLinkPasskey:()=>{o(!0),r().then((()=>c(!0))).catch((y=>{if(y instanceof Po){if(y.privyErrorCode===Ee.CANNOT_LINK_MORE_OF_TYPE)return void l("Cannot link more passkeys to account.");if(y.privyErrorCode===Ee.PASSKEY_NOT_ALLOWED)return void l("Passkey request timed out or rejected by user.")}l("Unknown error occurred.")})).finally((()=>{o(!1)}))},onUnlinkPasskey:async y=>(o(!0),await e(y).then((()=>c(!0))).catch((b=>{b instanceof Po&&b.privyErrorCode===Ee.MISSING_MFA_CREDENTIALS?l("Cannot unlink a passkey enrolled in MFA"):l("Unknown error occurred.")})).finally((()=>{o(!1)}))),onExpand:()=>m(!0),onBack:()=>m(!1),onClose:()=>n()})}},B0e=he.div.withConfig({displayName:"DoubleIconWrapper",componentId:"sc-e693657c-1"})(["display:flex;align-items:center;justify-content:center;width:180px;height:90px;border-radius:50%;svg + svg{margin-left:12px;}> svg{z-index:2;color:var(--privy-color-accent) !important;stroke:var(--privy-color-accent) !important;fill:var(--privy-color-accent) !important;}"]);let p0t=us(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:6px 8px;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent) !important;:focus{outline:none;box-shadow:none;}}"]);const g0t=he.button.withConfig({displayName:"LinkButton",componentId:"sc-e693657c-2"})(["",""],p0t);let m0t=he.div.withConfig({displayName:"List",componentId:"sc-e693657c-3"})(["display:flex;flex-direction:column;align-items:stretch;gap:0.8rem;padding:0.5rem 0rem 0rem;flex-grow:1;width:100%;"]),y0t=he.div.withConfig({displayName:"PasskeyListTitle",componentId:"sc-e693657c-4"})(["line-height:20px;height:20px;font-size:1em;font-weight:450;display:flex;justify-content:flex-beginning;width:100%;"]),w0t=he.div.withConfig({displayName:"PasskeyItemTitle",componentId:"sc-e693657c-5"})(["font-size:1em;line-height:1.3em;font-weight:500;color:var(--privy-color-foreground-2);padding:0.2em 0;"]),v0t=he.div.withConfig({displayName:"PasskeyItemSubtitle",componentId:"sc-e693657c-6"})(["font-size:0.875rem;line-height:1rem;color:#64668b;padding:0.2em 0;"]),b0t=he.div.withConfig({displayName:"PasskeyListItem",componentId:"sc-e693657c-7"})(["display:flex;align-items:center;justify-content:space-between;padding:1em;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;border-radius:8px;border:1px solid #e2e3f0 !important;width:100%;height:5em;"]),x0t=us([":focus,:hover,:active{outline:none;}display:flex;width:2em;height:2em;justify-content:center;align-items:center;svg{color:var(--privy-color-error);}svg:hover{color:var(--privy-color-foreground-3);}"]),E0t=he.button.withConfig({displayName:"PasskeyItemUnlinkButton",componentId:"sc-e693657c-8"})(["",""],x0t);const _0t=he.div.withConfig({displayName:"FundingMethodContainer",componentId:"sc-eaaa12a-0"})(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]),pb=he.div.withConfig({displayName:"IconContainer",componentId:"sc-eaaa12a-1"})(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;svg{border-radius:var(--privy-border-radius-sm);}"]),U0e=he.div.withConfig({displayName:"FundingQuantityWrapper",componentId:"sc-eaaa12a-2"})(["display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:8px;"]),F0e=he.div.withConfig({displayName:"FundingQuantity",componentId:"sc-eaaa12a-3"})(["display:flex;align-items:center;gap:4px;width:100%;padding:0 16px;border-width:1px !important;border-radius:12px;cursor:text;&:focus-within{border-color:var(--privy-color-accent);}"]),z0e=he.input.withConfig({displayName:"FundingAmountInput",componentId:"sc-eaaa12a-5"})(["background-color:var(--privy-color-background);width:100%;&:focus{outline:none !important;border:none !important;box-shadow:none !important;}&&{font-size:26px;}"]),A0t=he(z0e).withConfig({displayName:"FundingAmountInputLarge",componentId:"sc-eaaa12a-6"})(["&&{font-size:42px;}"]),W0e=he.div.withConfig({displayName:"FundingCurrency",componentId:"sc-eaaa12a-8"})(["font-size:18px;"]),q0e=he.div.withConfig({displayName:"FundingDollars",componentId:"sc-eaaa12a-9"})(["font-size:12px;color:var(--privy-color-foreground-3);height:20px;"]),S0t=he.div.withConfig({displayName:"InfoButtonText",componentId:"sc-eaaa12a-13"})([""]),C0t=he.a.withConfig({displayName:"InfoButtonLink",componentId:"sc-eaaa12a-14"})(["&&{color:var(--privy-color-accent);}cursor:pointer;"]),H0e=({displayName:t,errorMessage:e,configuredFundingChain:r,formattedBalance:n,fundingAmount:i,fundingCurrency:s,fundingAmountInUsd:o,options:a,selectedOption:l,isPreparing:u,isSubmitting:c,addressToFund:h,fundingWalletAddress:m,onSubmit:y,onSelect:b,onAmountChange:E,erc20ContractInfo:A})=>{let M=B.useRef(null);return w.jsxs(w.Fragment,{children:[w.jsx(Wa,{}),w.jsx(Tu,{}),w.jsx(Qh,{children:"Transfer from another network"}),w.jsxs(tp,{children:["You need more funds on the ",r.name," network. Bridge from another blockchain network."]}),w.jsxs(U0e,{style:{marginTop:"2rem"},children:[w.jsxs(F0e,{onClick:()=>M.current?.focus(),children:[w.jsx(z0e,{ref:M,value:i,onChange:O=>{let P=O.target.value;if(/^[0-9.]*$/.test(P)&&P.split(".").length-1<=1){let z=/\.$/.test(P)?".":"",L=Number(P.replace(/\.$/,"")||"0");if(Number.isNaN(L))return void E("0");E(L.toString()+z)}}}),w.jsx(W0e,{children:s})]}),o&&w.jsx(q0e,{children:o})]}),w.jsxs(Ot,{style:{marginTop:"1.5rem"},children:[w.jsx(Zt,{children:"From"}),w.jsx(Zt,{children:YW(m)})]}),w.jsx(s0t,{selected:{chain:l.chain,balance:l.isErc20Quote?e_({amount:l.erc20Balance??0n,decimals:A?.decimals??6})+` ${A?.symbol||""}`:lu(l.balance,l.chain.nativeCurrency.symbol,3,!0)},options:a.map((({chain:O,balance:P,isErc20Quote:z,erc20Balance:L})=>({chain:O,balance:z?e_({amount:L??0n,decimals:A?.decimals??6})+` ${A?.symbol||""}`:lu(P,O.nativeCurrency.symbol,3,!0)}))),onSelect:b}),w.jsxs(Ot,{style:{marginTop:"1.5rem"},children:[w.jsx(Zt,{children:"To"}),w.jsx(Zt,{children:YW(h)})]}),w.jsx(t0t,{chain:r,balance:n}),w.jsx(Yh,{style:{marginTop:"1rem"},children:e}),w.jsxs(HE,{style:{marginTop:"1rem"},loading:c||u,disabled:u||c,onClick:y,children:["Confirm with ",t]}),w.jsx(Nl,{}),w.jsx(nn,{})]})},V0e={component:()=>{let{rpcConfig:t,appId:e,closePrivyModal:r,createAnalyticsEvent:n}=$t(),{navigate:i,setModalData:s,app:o,data:a}=jt(),{wallets:l}=Ld(),[u,c]=B.useState(!1),[h,m]=B.useState(0n),[y,b]=B.useState(!1),[E,A]=B.useState(null),[M,O]=B.useState(null),[P,z]=B.useState([]),[L,W]=B.useState(0),[H,G]=B.useState(!1),[N,F]=B.useState(!1),[U,j]=B.useState(!1),[_,d]=B.useState(!1),[g,x]=B.useState(),[C,k]=B.useState();if(!a?.funding||a.funding.chainType!=="ethereum")throw Error("Invalid funding data");let{erc20ContractInfo:T,chain:R,connectedWalletAddress:I}=a.funding,f=a.funding.address,S=a.funding.erc20Address,[K,D]=B.useState(a.funding.amount);B.useEffect((()=>{S&&!T&&A(Error("Unable to fetch token details"))}),[]);let J=!!S&&!!T,ne=J?BigInt(parseFloat(K)*10**T.decimals):Kte(K),ie=I?l.find((({address:St})=>St===I)):l[0],ce=tf(ie?.walletClientType||"unknown"),Se=ce?.name||"wallet",[ye,Ae]=B.useState(null);B.useEffect((()=>{(async()=>{if(!ie)return;let St=await ie.getEthereumProvider();Ae(Ore({account:ie.address,transport:Lre(St)}).extend(vO))})().catch(console.error)}),[ie]);let[tt,Ce]=B.useState(0n);B.useEffect((()=>{Wh({chain:R,transport:qh(Gh(R,t,e))}).getBalance({address:f}).then(Ce).catch(console.error)}),[]);let[je,mt]=B.useState(0n);B.useEffect((()=>{J&&hD({chain:R,address:f,appId:e,rpcConfig:t,erc20Address:S}).then((St=>mt(St.balance))).catch(console.error)}),[]);let{tokenPrice:pe}=Zw(R.id),[Le,Mt]=B.useState({to:f,chain:R,value:ne,data:void 0});B.useEffect((()=>{(async()=>{let St,Xe;if(!ye||!ie||H||U)return;G(!0);let se=Wh({chain:Le.chain,transport:qh(Gh(Le.chain,t,e))});if(J&&!Le.data)return await se.simulateContract({address:S,chain:Le.chain,abi:JN,functionName:"transfer",args:[f,ne],account:ie.address}).catch((X=>{console.warn("Simulated token transfer failed with error, fetching bridge options.",X)}))?(G(!1),void Mt({to:S,chain:Le.chain,data:Ha({abi:JN,functionName:"transfer",args:[f,ne]}),value:"0x0"})):(G(!1),void b(!0));try{St=await se.prepareTransactionRequest({account:ie.address,to:Le.to,chain:Le.chain,data:Le.data,value:BigInt(Le.value??0)})}catch(X){if(console.error(X),P.length>1)O(X.shortMessage??"Something went wrong");else if(N&&P.length===0)return void A(new be(`Wallet ${Zo(ie.address)} does not have enough funds.`,void 0,Ee.INSUFFICIENT_BALANCE))}if(!St)return G(!1),void b(!0);G(!1),j(!0),c(!0),m(St.gas);try{await ye.switchChain({id:Le.chain.id})}catch{await ye.addChain({chain:Le.chain}),await ye.switchChain({id:Le.chain.id})}try{Xe=await ye.sendTransaction(St)}catch(X){if(console.error(X),X.name==="TransactionExecutionError")if(P.length<1){let ee=X.shortMessage;(X.shortMessage.includes("rejected the request")||X.details.includes("rejected the request"))&&(ee="User rejected the request."),A(new be(ee,void 0,Ee.TRANSACTION_FAILURE))}else O(X.shortMessage??"Something went wrong")}if(Xe)return await ye.waitForTransactionReceipt({hash:Xe}),j(!1),N?(x(Xe),void k("pending")):(d(!0),void n({eventName:Au,payload:{provider:"external",status:"success",txHash:Xe,address:ie.address,chainId:Le.chain.id,chainType:"ethereum",value:Le.value?Ys(BigInt(Le.value),T?.decimals??18):void 0,token:T?.symbol??S??"ETH",destinationAddress:f,destinationChainId:R.id,destinationChainType:"ethereum",destinationValue:ne?Ys(ne,T?.decimals??18):void 0,destinationToken:T?.symbol??S??R.nativeCurrency.name}}));j(!1)})().catch(console.error)}),[ye,Le]),B.useEffect((()=>{(async()=>{if(!y||!ye||!ie)return;let St=_O(o.chains).filter((fe=>fe.id!==R.id&&!!fe.testnet==!!R.testnet));J&&St.unshift(R);let Xe=await D0e({chains:St,address:ie.address,appId:e,rpcConfig:t,includeUsdc:a.funding?.isUSDC}),se=J?Xe.filter((fe=>fe.balance>0n)):Xe.filter((fe=>fe.balance>ne));if(se.length<1)return void A(new be(`Wallet ${Zo(ie.address)} does not have enough funds.`,void 0,Ee.INSUFFICIENT_BALANCE));se.sort(((fe,ve)=>Number(J?(ve.erc20Balance??0n)-(fe.erc20Balance??0n):ve.balance-fe.balance)));let X=se.flatMap((fe=>{let ve=[{...fe,isErc20Quote:!1,isTestnet:!!R.testnet,input:My({amount:ne.toString(),user:ie.address,recipient:f,destinationChainId:R.id,destinationCurrency:S,originChainId:fe.chain.id})}];return J&&S&&(fe.erc20Balance??0n)>=ne&&ve.push({...fe,isErc20Quote:!0,isTestnet:!!R.testnet,input:My({amount:ne.toString(),user:ie.address,recipient:f,destinationChainId:R.id,destinationCurrency:S,originChainId:fe.chain.id,originCurrency:fe.erc20Address})}),ve})),ee=(await Promise.allSettled(X.map((async fe=>({...fe,quote:await p5(fe)}))))).filter((fe=>fe.status==="fulfilled")).map((fe=>fe.value));if(ee.length<1)return void A(new be(`Wallet ${Zo(ie.address)} does not have enough funds.`,void 0,Ee.INSUFFICIENT_BALANCE));let oe=ee.map((fe=>({bridgeTx:QE(fe.quote),balance:fe.balance,chain:fe.chain,erc20Balance:fe.erc20Balance,isErc20Quote:fe.isErc20Quote}))).filter((fe=>!!fe.bridgeTx));if(oe.length>1)return void z(oe);let ge=oe[0];ge?(F(!0),Mt({data:ge.bridgeTx.data,to:ge.bridgeTx.to,value:ge.bridgeTx.value,chain:ge.chain})):A(new be(`Wallet ${Zo(ie.address)} does not have enough funds.`,void 0,Ee.INSUFFICIENT_BALANCE))})().catch(console.error)}),[y]),dD({transactionHash:g,wallet:ie,isTestnet:!!R.testnet,bridgingStatus:C,setBridgingStatus:k,onSuccess({transactionHash:St,wallet:Xe}){F(!1),d(!0),n({eventName:Au,payload:{provider:"external",status:"success",txHash:St,address:Xe.address,chainId:Le.chain.id,chainType:"ethereum",value:Le.value?Ys(BigInt(Le.value),T?.decimals??18):void 0,token:T?.symbol??S??"ETH",destinationAddress:f,destinationChainId:R.id,destinationChainType:"ethereum",destinationValue:ne?Ys(ne,T?.decimals??18):void 0,destinationToken:T?.symbol??S??R.nativeCurrency.name}})},onFailure({error:St}){F(!1),A(St)}}),B.useEffect((()=>{E&&(s({funding:a?.funding,sendTransaction:a?.sendTransaction,errorModalData:{error:E,previousScreen:e2}}),i(ci,!1))}),[E]);let Ie=!J&&pe?sfe(K??"0",pe):void 0,Me=J?h:ZL([h,ne]),ht=Me&&pe?$g(Me,pe):void 0,Je=Me?lu(Me,a?.funding?.erc20Address?a?.funding?.erc20ContractInfo?.symbol||"ETH":a?.funding?.chain.nativeCurrency.symbol||"ETH"):void 0,De=h&&pe?$g(h,pe):void 0,At=h?lu(h,R?.nativeCurrency?.symbol||"ETH"):void 0;if(B.useEffect((()=>{if(!_)return;let St=setTimeout(r,oA);return()=>clearTimeout(St)}),[_]),_)return w.jsxs(w.Fragment,{children:[w.jsx(Wa,{}),w.jsx(Tu,{}),w.jsxs(i6,{children:[w.jsx(Gw,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),w.jsx(Tl,{title:"Success!",description:`You’ve successfully added ${K} ${J?T.symbol:R.nativeCurrency.symbol} to your ${o.name} wallet. It may take a minute before the funds are available to use.`})]}),w.jsx(Nl,{}),w.jsx(nn,{})]});let it=J?`${e_({amount:je,decimals:T.decimals})}  ${T.symbol}`:lu(tt,R.nativeCurrency.symbol,3,!0),et=P[L];return P.length>1&&et?w.jsx(H0e,{displayName:Se,configuredFundingChain:R,erc20ContractInfo:T,formattedBalance:it,fundingAmount:K,fundingCurrency:J?T.symbol:R.nativeCurrency.symbol,fundingAmountInUsd:Ie,options:P,selectedOption:et,isPreparing:H,isSubmitting:U,addressToFund:f,fundingWalletAddress:ie?.address||"",errorMessage:M,onSubmit:()=>{a.funding?.amount!==K?(async function(){if(ie&&et)try{let St=await p5({isTestnet:!!R.testnet,input:My({amount:ne.toString(),user:ie.address,recipient:f,destinationChainId:R.id,destinationCurrency:S,originChainId:et.chain.id})}),Xe=QE(St);if(!Xe)throw Error("Invalid transaction request");F(!0),Mt({data:Xe.data,to:Xe.to,value:Xe.value,chain:et.chain})}catch(St){console.error(St),A(new be("Unable to fetch quotes for bridging",St,Ee.INSUFFICIENT_BALANCE))}})().catch(console.error):Mt({to:et.bridgeTx.to,data:et.bridgeTx.data,value:et.bridgeTx.value,chain:et.chain})},onSelect:St=>{St!==L&&(O(null),W(St))},onAmountChange:D}):u&&h&&ie&&a?.funding?w.jsx(IA,{wallet:ie,displayName:Se,addressToFund:f,isBridging:N,isErc20Flow:J,totalPriceInUsd:ht,totalPriceInNativeCurrency:Je,gasPriceInUsd:De,gasPriceInNativeCurrency:At,chainId:R.id,chainName:R.name}):w.jsxs(w.Fragment,{children:[w.jsx(Wa,{}),w.jsx(Cm,{}),w.jsx("div",{style:{marginTop:"1rem"}}),w.jsx(nn,{})]})}},K0e={component:function(){let{closePrivyModal:t,createAnalyticsEvent:e}=$t(),{navigate:r,setModalData:n,app:i,data:s}=jt(),{wallets:o}=d6(),a=B.useRef(!1),l=Jw(),[u,c]=B.useState(!1),[h,m]=B.useState(!1),[y,b]=B.useState(null),[E,A]=B.useState(),[M,O]=B.useState();if(!s?.funding||s.funding.chainType!=="ethereum")throw Error("Invalid funding data");let{amount:P,connectedWalletAddress:z,chain:L,cluster:W,isUSDC:H}=s.funding,G=s.funding.address,N=s.funding.erc20Address,F=s.funding.isUSDC?"USDC":L.nativeCurrency.symbol,U=W??{name:"mainnet-beta"},j=z?o.find((({address:g})=>g===z)):o[0],_=tf(j?.walletClientType||"unknown"),d=_?.name||"wallet";return B.useEffect((()=>{(async function(){if(!j||!L||a.current)return;let g=l(u6);if(!g)return void b(new be("Unable to solana plugin"));a.current=!0,L?.testnet&&console.warn("Solana testnets are not supported for bridging");let x=H?1e6*parseFloat(P):Kte(P),C=await p5({isTestnet:!!L.testnet,input:My({amount:x.toString(),user:j.address,recipient:G,destinationChainId:L.id,originChainId:PN,originCurrency:H?"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v":NN,destinationCurrency:H?N:void 0})}).catch(console.error);if(!C)return void b(new be(`Unable to fetch quotes for bridging. Wallet ${ZI(j.address)} does not have enough funds.`,void 0,Ee.INSUFFICIENT_BALANCE));let k=await g.createBridgeTransactionFromRelayQuote({quote:C,from:j.address,cluster:U});if(k)try{c(!0);let{connection:T,transaction:R}=k,I=await T.simulateTransaction(R);if(I.value.err)return I.value.logs?.find((K=>/insufficient (lamports|funds)/gi.test(K)))?void b(new be(`Wallet ${ZI(j?.address)} does not have enough funds. ${C.details.currencyIn.amountFormatted} ${F} are needed to complete the transaction.`,void 0,Ee.INSUFFICIENT_BALANCE)):(console.error("Transaction failed:",I.value.err),void b(new be("Something went wrong",void 0,Ee.TRANSACTION_FAILURE)));let f=await j.sendTransaction(R,T),S=await T.confirmTransaction(f);if(S.value.err)return console.error("Transaction failed:",S.value.err),void b(new be("Something went wrong",void 0,Ee.TRANSACTION_FAILURE));A(f),O("pending")}catch(T){if(console.error(T),/user rejected the request/gi.test(T.message||""))return void b(new be("Transaction was rejected by the user",void 0,Ee.TRANSACTION_FAILURE));b(new be("Something went wrong",void 0,Ee.TRANSACTION_FAILURE))}else b(new be(`Unable to select bridge option from quotes. Wallet ${ZI(j.address)} does not have enough funds.`,void 0,Ee.INSUFFICIENT_BALANCE))})().catch(console.error)}),[]),dD({transactionHash:E,wallet:j,isTestnet:!1,bridgingStatus:M,setBridgingStatus:O,onSuccess({transactionHash:g,wallet:x}){c(!1),m(!0),e({eventName:Au,payload:{provider:"external",status:"success",txHash:g,address:x.address,chainType:"solana",clusterName:U.name,token:"SOL",destinationAddress:G,destinationChainId:L.id,destinationChainType:"ethereum",destinationValue:P,destinationToken:H?"USDC":"ETH"}})},onFailure({error:g}){c(!1),b(g)}}),B.useEffect((()=>{if(!h)return;let g=setTimeout(t,oA);return()=>clearTimeout(g)}),[h]),B.useEffect((()=>{y&&(n({funding:s?.funding,sendTransaction:s?.sendTransaction,errorModalData:{error:y,previousScreen:e2}}),r(ci,!1))}),[y]),h?w.jsxs(w.Fragment,{children:[w.jsx(Wa,{}),w.jsx(Tu,{}),w.jsxs(i6,{children:[w.jsx(Gw,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),w.jsx(Tl,{title:"Success!",description:`You’ve successfully added ${P} ${F} to your ${i.name} wallet. It may take a minute before the funds are available to use.`})]}),w.jsx(Nl,{}),w.jsx(nn,{})]}):u&&j?w.jsx(IA,{wallet:j,displayName:d,addressToFund:G,isBridging:u,isErc20Flow:!1,chainId:L.id,chainName:L.name,totalPriceInUsd:void 0,totalPriceInNativeCurrency:void 0,gasPriceInUsd:void 0,gasPriceInNativeCurrency:void 0}):w.jsxs(w.Fragment,{children:[w.jsx(Wa,{}),w.jsx(Cm,{}),w.jsx("div",{style:{marginTop:"1rem"}}),w.jsx(nn,{})]})}},NQ={component:()=>{let{data:t,setModalData:e}=jt(),r=t?.funding,n=r.chainType==="solana",i=B.useRef(null),{tokenPrice:s}=Zw(n?"solana":r.chain.id),o=n?void 0:r,a=!(!o?.erc20Address||o?.erc20ContractInfo),l=n?r.isUSDC?"USDC":"SOL":r.erc20Address?r.erc20ContractInfo?.symbol:r.chain.nativeCurrency.symbol||"ETH",u=parseFloat(r.amount),c=!isNaN(u)&&u>0,h=s?sfe(r.amount,s):void 0;return w.jsxs(w.Fragment,{children:[w.jsx(Wa,{}),w.jsx(Qh,{children:"Confirm or edit amount"}),w.jsxs(hA,{style:{marginTop:"32px"},children:[w.jsx(U0e,{children:a?w.jsx(Cm,{size:"50px"}):w.jsxs(w.Fragment,{children:[w.jsxs(F0e,{onClick:()=>i.current?.focus(),children:[w.jsx(A0t,{ref:i,value:r.amount,onChange:m=>{let y=m.target.value;/^[0-9.]*$/.test(y)&&y.split(".").length-1<=1&&e({...t,funding:{...r,amount:y}})}}),w.jsx(W0e,{children:l})]}),!o?.erc20Address&&w.jsx(q0e,{children:h&&c?`${h} USD`:""})]})}),w.jsx(HE,{style:{marginTop:"1rem"},disabled:!c,onClick:r.onContinueWithExternalWallet,children:"Continue"})]}),w.jsx(nn,{})]})}},e2={component:()=>{let t,{connectors:e}=$t(),{app:r,setModalData:n,data:i,navigate:s}=jt(),{wallets:o}=Ld(),{wallets:a}=d6(),[l,u]=B.useState("default"),c=i?.funding?.chainType==="solana",h=!!i?.funding?.crossChainBridgingEnabled;t=i?.funding?.chainType==="ethereum"?i.funding.erc20Address&&!i.funding.isUSDC?"ethereum-only":h&&!i.funding.chain.testnet?"ethereum-and-solana":"ethereum-only":h&&!i.funding?.isUSDC?"ethereum-and-solana":"solana-only";let m=o.filter((L=>L.walletClientType!=="privy")),y=m.map((L=>L.walletClientType)),b=a.filter((L=>L.walletClientType!=="privy")),E=b.map((L=>L.walletClientType)),A=[],M={...i.funding};M.usingDefaultFundingMethod&&(M.usingDefaultFundingMethod=!1);let O=({address:L,walletChainType:W})=>{n({...i,funding:{...M,connectedWalletAddress:L,onContinueWithExternalWallet:()=>s(z({destChainType:c?"solana":"ethereum",sourceChainType:W}))}}),s(NQ)};t!=="solana-only"&&A.push(...m.map(((L,W)=>w.jsx(RQ,{onClick:()=>O({address:L.address,walletChainType:"ethereum"}),icon:L.meta.icon,name:L.meta.name,chainType:L.type},W)))),t!=="ethereum-only"&&A.push(...b.map(((L,W)=>w.jsx(RQ,{onClick:()=>O({address:L.address,walletChainType:"solana"}),icon:L.meta.icon,name:L.meta.name,chainType:L.type},W)))),A.push(..._0e({walletList:r.appearance.walletList.filter((L=>!m.some((W=>W.walletClientType===L))&&!b.some((W=>W.walletClientType===L)))),walletChainType:t,connectors:e,connectOnly:!0,ignore:[...r.appearance.walletList,...y,...E],walletConnectEnabled:r.externalWallets.walletConnect.enabled}));let P=w.jsx(g0e,{text:"More wallets",onClick:()=>u("overflow")}),z=({sourceChainType:L,destChainType:W})=>L==="ethereum"&&W==="solana"?ope:L==="ethereum"&&W==="ethereum"?V0e:L==="solana"&&W==="ethereum"?K0e:L0e;return B.useEffect((()=>{n({...i,externalConnectWallet:{onCompleteNavigateTo:({walletChainType:L})=>(n({...i,funding:{...M,onContinueWithExternalWallet:()=>{s(z({destChainType:c?"solana":"ethereum",sourceChainType:L??"ethereum"}))}}}),NQ)}})}),[]),w.jsxs(w.Fragment,l==="overflow"?{children:[w.jsx(Or,{backFn:()=>u("default")},"header"),w.jsxs(RN,{children:[w.jsx(tp,{style:{color:"var(--privy-color-foreground-3)",textAlign:"left"},children:"More wallets"}),A]}),w.jsx(nn,{})]}:{children:[w.jsx(Wa,{}),w.jsx(Tl,{title:"Transfer from wallet",description:"Connect a wallet to deposit funds or send funds manually to your wallet address."}),w.jsxs(RN,{children:[A.length>4?A.slice(0,3):A,A.length>4&&P]}),w.jsx(nn,{})]})}};let RQ=({onClick:t,icon:e,name:r,chainType:n})=>w.jsxs(fi,{onClick:t,children:[w.jsx(pb,{style:{width:20},children:w.jsx("img",{src:e})}),r,w.jsx(Md,{color:"gray",style:{marginLeft:"auto"},children:"Connected"}),n==="solana"&&w.jsx(Md,{color:"gray",children:"Solana"})]});const k0t={component:()=>{let{data:t,setModalData:e,navigate:r,navigateBack:n}=jt(),{closePrivyModal:i,createAnalyticsEvent:s,client:o}=$t(),[a,l]=B.useState("pending-in-flow"),u=B.useRef(0),c={...t?.funding,showAlternateFundingMethod:!0};c.usingDefaultFundingMethod&&(c.usingDefaultFundingMethod=!1);let{partnerUserId:h,popup:m}=t?.coinbaseOnrampStatus??{};return B.useEffect((()=>{if(a==="pending-in-flow"||a==="pending-after-flow"){let y=setInterval((async()=>{if(h)try{let{status:b}=await o.getCoinbaseOnRampStatus({partnerUserId:h});if(b==="success")return void l("success");if(b==="failure")throw Error("There was an error completing Coinbase Onramp flow.");if(u.current>=3)return e({funding:c}),void r(Fa);m?.closed&&(u.current=u.current+1,l("pending-after-flow"))}catch(b){console.error(b),l("error"),s({eventName:Au,payload:{status:"failure",provider:"coinbase-onramp",error:b.message}}),e({funding:{...c,errorMessage:"Something went wrong adding funds. Please try again or use another method."}}),r(Fa)}}),1500);return()=>clearInterval(y)}}),[h,m,a]),w.jsxs(w.Fragment,{children:[w.jsx(Or,{title:"Fund account",backFn:()=>{e({funding:c}),n()}},"header"),w.jsx(I0t,{status:a,onClickCta:i}),w.jsx(nn,{})]})}};let I0t=({status:t,onClickCta:e})=>{let{title:r,body:n,cta:i}=B.useMemo((()=>(s=>{switch(s){case"success":return{title:"You've funded your account!",body:"It may take a few minutes for the assets to appear.",cta:"Continue"};case"pending-after-flow":return{title:"In Progress",body:"Almost done. Retrieving transaction status from Coinbase",cta:""};case"error":case"pending-in-flow":return{title:"In Progress",body:"Go back to Coinbase Onramp to finish funding your account.",cta:""}}})(t)),[t]);return w.jsxs(w.Fragment,{children:[w.jsxs(M0t,{children:[w.jsx(T0t,{isSucccess:t==="success"}),w.jsxs(XL,{children:[w.jsx("h3",{children:r}),w.jsx($0t,{children:n})]})]}),i&&w.jsx(Mn,{onClick:e,children:i})]})},T0t=({isSucccess:t})=>{if(!t){let n="var(--privy-color-foreground-4)";return w.jsxs("div",{style:{position:"relative"},children:[w.jsx(gc,{color:n,style:{position:"absolute"}}),w.jsx(YL,{color:n}),w.jsx(Vat,{style:{position:"absolute",width:"2.8rem",height:"2.8rem",top:"1.2rem",left:"1.2rem"}})]})}let e=(n=>n?d5:()=>w.jsx(PL,{width:"3rem",height:"3rem",style:{backgroundColor:"var(--privy-color-foreground-4)",color:"var(--privy-color-background)",borderRadius:"100%",padding:"0.5rem",margin:"0.5rem"}}))(t),r=(n=>n?"var(--privy-color-success)":"var(--privy-color-foreground-4)")(t);return w.jsx("div",{style:{borderColor:r,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderWidth:2,padding:"0.5rem",marginBottom:"0.5rem"},children:e&&w.jsx(e,{width:"4rem",height:"4rem",color:r})})},$0t=he.p.withConfig({displayName:"StatusBody",componentId:"sc-ebf88779-0"})(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]),M0t=he.div.withConfig({displayName:"ConnectContainer",componentId:"sc-ebf88779-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]),P0t={[vc.id]:"ethereum",[wc.id]:"base",[Nd.id]:"optimism",[Ka.id]:"polygon",[yc.id]:"arbitrum"};const OQ=(t,e,r,n,i,s)=>new Promise((async(o,a)=>{let l=pA();if(!l)return void a(Error("Unable to initialize flow"));let u=e.chainType==="ethereum"?(function(b){let E=P0t[b];if(!E)throw new be(`Unsupported chainId: ${b} for Coinbase Onramp`);return E})(e.chain.id):"solana",c=e.isUSDC?"USDC":e.chainType==="ethereum"?M7e(e.chain.id):"SOL",h=await t.initCoinbaseOnRamp({addresses:[{address:e.address,blockchains:[u]}],assets:[c]}),{url:m}=T7e({appId:t.getAppId(),input:h,amount:e.amount,blockchain:u,asset:c,experience:s});l.location=m.toString();let y={...i?.funding,showAlternateFundingMethod:!0};e.usingDefaultFundingMethod&&(y.usingDefaultFundingMethod=!1),r({funding:y,coinbaseOnrampStatus:{popup:l}}),n(k0t),t.createAnalyticsEvent({eventName:"sdk_fiat_on_ramp_started",payload:{provider:"coinbase-onramp",value:e.amount,chainType:e.chainType,chainId:e.chainType==="ethereum"?e.chain.id:e.cluster.name}}),setTimeout((()=>{r({funding:y,coinbaseOnrampStatus:{partnerUserId:h.partner_user_id,popup:l}})}),5e3),o()})),N0t=({size:t=61,...e})=>w.jsx("svg",{width:t,height:t,viewBox:"0 0 61 61",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:w.jsxs("g",{id:"moonpay_symbol_wht 2",children:[w.jsx("rect",{x:"1.3374",y:"1",width:"59",height:"59",rx:"11.5",fill:"#7715F5"}),w.jsx("path",{id:"Vector",d:"M43.8884 23.3258C45.0203 23.3258 46.1268 22.9901 47.068 22.3613C48.0091 21.7324 48.7427 20.8386 49.1759 19.7928C49.6091 18.747 49.7224 17.5962 49.5016 16.4861C49.2807 15.3759 48.7357 14.3561 47.9353 13.5557C47.1349 12.7553 46.1151 12.2102 45.0049 11.9893C43.8947 11.7685 42.7439 11.8819 41.6982 12.3151C40.6524 12.7482 39.7585 13.4818 39.1297 14.423C38.5008 15.3641 38.1651 16.4707 38.1651 17.6026C38.165 18.3542 38.3131 19.0985 38.6007 19.7929C38.8883 20.4873 39.3098 21.1182 39.8413 21.6496C40.3728 22.1811 41.0037 22.6027 41.6981 22.8903C42.3925 23.1778 43.1367 23.3259 43.8884 23.3258ZM26.3395 49.1017C23.5804 49.1017 20.8832 48.2836 18.5891 46.7507C16.295 45.2178 14.5069 43.039 13.4511 40.49C12.3952 37.9409 12.1189 35.1359 12.6572 32.4298C13.1955 29.7237 14.5241 27.238 16.4751 25.287C18.4262 23.336 20.9118 22.0074 23.6179 21.4691C26.324 20.9308 29.129 21.2071 31.6781 22.2629C34.2272 23.3189 36.406 25.1069 37.9389 27.401C39.4717 29.6952 40.2899 32.3923 40.2899 35.1514C40.2899 36.9835 39.9291 38.7975 39.2281 40.49C38.527 42.1826 37.4994 43.7205 36.204 45.0159C34.9086 46.3113 33.3707 47.3389 31.6781 48.04C29.9856 48.741 28.1715 49.1018 26.3395 49.1017Z",fill:"white"})]})}),G0e={component:()=>{let{app:t,data:e,setModalData:r,navigateBack:n}=jt(),{closePrivyModal:i}=$t(),{externalTransactionId:s}=e?.moonpayStatus,o=(function(a,l=!1){let[u,c]=B.useState(null),{createAnalyticsEvent:h}=$t(),{data:m,navigate:y,setModalData:b}=jt(),E=m?.funding,A=B.useRef(0);return B.useEffect((()=>{let M=setInterval((async()=>{if(a)try{let[O]=await(async function(z,L){return tie(`${L?jat:Oat}/transactions/ext/${z}`,{query:{apiKey:L?Dat:Lat}})})(a,l),P=O.status==="waitingAuthorization"&&O.paymentMethod==="credit_debit_card"?"pending":O.status;if(["failed","completed","awaitingAuthorization"].includes(P)&&(h({eventName:Au,payload:{status:P,provider:jQ,paymentMethod:O.paymentMethod,cardPaymentType:O.cardPaymentType,currency:O.currency?.code,baseCurrencyAmount:O.baseCurrencyAmount,quoteCurrencyAmount:O.quoteCurrencyAmount,feeAmount:O.feeAmount,extraFeeAmount:O.extraFeeAmount,networkFeeAmount:O.networkFeeAmount,isSandbox:l}}),clearInterval(M)),P==="failed"||P==="serviceFailure")return b({funding:{...E,errorMessage:"Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet."}}),void y(Fa);c(P)}catch(O){O.response?.status!==404&&(A.current+=1),A.current>=3&&(h({eventName:Au,payload:{status:"serviceFailure",provider:jQ}}),clearInterval(M),b({funding:{...E,errorMessage:"Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet."}}),y(Fa))}}),3e3);return()=>clearInterval(M)}),[a,A]),u})(s||null,t.fundingMethodConfig.moonpay.useSandbox??!1);return w.jsxs(w.Fragment,{children:[w.jsx(Or,{title:"Fund account",backFn:()=>{let a={...e?.funding,showAlternateFundingMethod:!0};a.usingDefaultFundingMethod&&(a.usingDefaultFundingMethod=!1),r({funding:a}),n()}}),w.jsx(R0t,{status:o,onClickCta:i}),w.jsx(nn,{})]})}};let R0t=({status:t,onClickCta:e})=>{let{title:r,body:n,cta:i}=B.useMemo((()=>(s=>{switch(s){case"completed":return{title:"You've funded your account!",body:"It may take a few minutes for the assets to appear.",cta:"Continue"};case"waitingAuthorization":return{title:"Processing payment",body:"This may take up to a few hours. You will receive an email when the purchase is complete.",cta:"Continue"};default:return{title:"In Progress",body:"Go back to MoonPay to finish funding your account.",cta:""}}})(t)),[t]);return w.jsxs(w.Fragment,{children:[w.jsxs(L0t,{children:[w.jsx(O0t,{status:t}),w.jsxs(XL,{children:[w.jsx("h3",{children:r}),w.jsx(j0t,{children:n})]})]}),i&&w.jsx(Mn,{onClick:e,children:i})]})},O0t=({status:t})=>{if(!t||t==="pending"){let n="var(--privy-color-foreground-4)";return w.jsxs("div",{style:{position:"relative"},children:[w.jsx(gc,{color:n,style:{position:"absolute"}}),w.jsx(YL,{color:n}),w.jsx(N0t,{size:"3rem",style:{position:"absolute",top:"1rem",left:"1rem"}})]})}let e=(n=>{switch(n){case"completed":return d5;case"waitingAuthorization":return()=>w.jsx(PL,{width:"3rem",height:"3rem",style:{backgroundColor:"var(--privy-color-foreground-4)",color:"var(--privy-color-background)",borderRadius:"100%",padding:"0.5rem",margin:"0.5rem"}});default:return}})(t),r=(n=>n?{completed:"var(--privy-color-success)",failed:"var(--privy-color-error)",serviceFailure:"var(--privy-color-error)",waitingAuthorization:"var(--privy-color-accent)",pending:"var(--privy-color-foreground-4)"}[n]:"var(--privy-color-foreground-4)")(t);return w.jsx("div",{style:{borderColor:r,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderWidth:2,padding:"0.5rem",marginBottom:"0.5rem"},children:e&&w.jsx(e,{width:"4rem",height:"4rem",color:r})})},j0t=he.p.withConfig({displayName:"StatusBody",componentId:"sc-7f0a56e4-0"})(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]),L0t=he.div.withConfig({displayName:"ConnectContainer",componentId:"sc-7f0a56e4-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]);const D0t=async(t,e,r,n,i,s,o,a)=>{let l=pA();if(!l)throw Error("Unable to initialize flow");let u=e.chainType==="ethereum"?e.moonpayConfigOverride?.currencyCode??i7e(e.chain.id,n):e.isUSDC?"USDC_SOL":"SOL",{signedUrl:c,externalTransactionId:h}=await t.signMoonpayOnRampUrl({address:e.address,useSandbox:r.fundingMethodConfig.moonpay.useSandbox??!1,config:{uiConfig:{accentColor:r.appearance.palette.accent,theme:r.appearance.palette.colorScheme},...e.moonpayConfigOverride,paymentMethod:a,currencyCode:u,quoteCurrencyAmount:e.moonpayConfigOverride?.quoteCurrencyAmount??F0t(e.amount)}});t.createAnalyticsEvent({eventName:"sdk_fiat_on_ramp_started",payload:{provider:"moonpay",value:e.amount,chainType:e.chainType,chainId:e.chainType==="ethereum"?e.chain.id:e.cluster.name}}),l.location=c;let m={...o?.funding,showAlternateFundingMethod:!0};e.usingDefaultFundingMethod&&(m.usingDefaultFundingMethod=!1),i({moonpayStatus:{},funding:m}),s(G0e),setTimeout((()=>{i({moonpayStatus:{externalTransactionId:h},funding:m})}),8e3)};let Y0e=async t=>typeof window<"u"&&"PaymentRequest"in window&&await new window.PaymentRequest([{supportedMethods:t}],{id:"0",total:{label:"Item",amount:{currency:"USD",value:"1.00"}}}).canMakePayment();const B0t=()=>Y0e("https://apple.com/apple-pay"),U0t=()=>Y0e("https://google.com/pay"),Fa={component:()=>{let{wallets:t}=Ld(),{wallets:e}=d6(),{navigate:r,data:n,setModalData:i}=jt(),{client:s}=$t(),o=fn(),a=n?.funding,l=$Q(B0t),u=$Q(U0t),c=a.chainType==="solana",h=c?void 0:a,m=B.useMemo((()=>((P,z,L,W,H,G)=>{let N,F,U=L.chainType==="solana",j=U?void 0:L,_=L.isUSDC?"USDC":j?.erc20Address?void 0:"native-currency",d=!!U||_&&n7e(Number(L.chain.id),_),g=!!U||_&&$7e(Number(L.chain.id),_),x=[];for(let C of(L.preferredCardProvider&&L.supportedOptions.sort((k=>k.provider===L.preferredCardProvider?-1:1)),L.supportedOptions))C.method==="card"&&C.provider==="coinbase"&&g&&x.push((()=>OQ(z,L,W,H,G,"buy"))),C.method==="card"&&C.provider==="moonpay"&&d&&_&&x.push((()=>D0t(z,L,P,_,W,H,G,"credit_debit_card")));for(let C of L.supportedOptions)C.method==="exchange"&&C.provider==="coinbase"&&g&&(N=()=>OQ(z,L,W,H,G,"buy"));for(let C of G?.funding?.supportedOptions??[])C.method==="wallets"&&(F=()=>H(e2));return{onFundWithCard:x,onFundWithExchange:N,onFundWithWallet:F}})(o,s,a,i,r,n)),[o,s,a,n,i,r]),y=c?e.find((({address:P})=>P===a.address)):t.find((({address:P})=>Ni(P)===Ni(a.address))),b=tf(y?.walletClientType||"unknown"),E=b?.name||"wallet",A=y&&y.walletClientType!=="privy"?E:o.name,M=B.useMemo((()=>a.uiConfig?.landing?.title?a.uiConfig?.landing?.title:`Add funds to your ${A?.toLowerCase().endsWith("wallet")?A:A+" wallet"}`),[a.uiConfig?.landing?.title,A]);B.useEffect((()=>{if(a?.defaultFundingMethod&&a.usingDefaultFundingMethod)switch(i({funding:{...a,usingDefaultFundingMethod:!1}}),a?.defaultFundingMethod){case"card":m.onFundWithCard[0]&&m.onFundWithCard[0]();break;case"exchange":m.onFundWithExchange&&m.onFundWithExchange();break;case"wallet":m.onFundWithWallet&&m.onFundWithWallet();break;case"manual":r(t_)}}),[]),B.useEffect((()=>{h?.erc20Address&&!h.erc20ContractInfo&&O0e({address:h.erc20Address,chain:h.chain,rpcConfig:o.rpcConfig,privyAppId:o.id}).then((P=>{i({...n,funding:{...h,erc20ContractInfo:P?{symbol:P.symbol,decimals:P.decimals}:void 0}})})).catch(console.error)}),[h?.erc20Address,h?.chain]);let O=!(!h?.erc20Address||h?.erc20ContractInfo);return w.jsxs(w.Fragment,{children:[w.jsx(Wa,{}),w.jsx("h3",{children:M}),w.jsxs(_0t,{children:[a.errorMessage&&w.jsx(R0e,{theme:o.appearance.palette.colorScheme,children:a.errorMessage}),m.onFundWithCard?.[0]&&w.jsxs(fi,{disabled:O,onClick:m.onFundWithCard[0],children:[w.jsx(pb,{children:w.jsx(Oot,{style:{width:24}})}),"Pay with card",l?w.jsx(Gft,{style:{marginLeft:"auto",maxWidth:"100%",width:"auto",height:"0.875rem"}}):u?w.jsx(Yft,{style:{marginLeft:"auto",maxWidth:"100%",width:"auto",height:"0.875rem"}}):null]}),m.onFundWithExchange&&w.jsxs(fi,{disabled:O,onClick:m.onFundWithExchange,children:[w.jsx(pb,{children:w.jsx(PL,{style:{width:24}})}),"Transfer from an exchange"]}),m.onFundWithWallet&&w.jsxs(fi,{disabled:O,onClick:m.onFundWithWallet,children:[w.jsx(pb,{children:w.jsx(t0e,{style:{width:24}})}),"Transfer from wallet"]}),w.jsxs(fi,{disabled:O,onClick:()=>r(t_),children:[w.jsx(pb,{children:w.jsx(eat,{style:{width:24}})}),"Receive funds"]}),a?.showAlternateFundingMethod&&m.onFundWithCard?.[1]&&w.jsx(T0e,{theme:o.appearance.palette.colorScheme,children:w.jsxs(S0t,{children:["Having trouble or facing location restrictions?"," ",w.jsx(C0t,{onClick:m.onFundWithCard[1],children:"Try a different provider."})]})})]}),w.jsx(nn,{})]})}},jQ="moonpay";function F0t(t){return parseFloat(t)}function z0t(t){return!!t&&t.config!==void 0&&t.provider!==void 0}function gT(t){return!!t&&(t.chain!==void 0||t.amount!==void 0)}const LQ={[vc.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[xO.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[Nd.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[W_.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[Ka.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[$5.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[wc.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[F_.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[Iw.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[bO.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[yc.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[U_.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"},DQ=({address:t,appConfig:e,fundWalletConfig:r,methodScreen:n,chainIdOverride:i,comingFromSendTransactionScreen:s=!1})=>{let o,a;if(!e.fundingConfig)throw Error("Wallet funding is not enabled");let l=fD(e.fundingConfig.options);if(l.length<1)throw Error("Wallet funding is not enabled");o=i||(gT(r)&&r.chain?r.chain.id:kfe(e.fundingConfig.defaultRecommendedCurrency.chain));let u=e.chains.find((b=>b.id===o));if(!u)throw new be(`Funding chain ${o} is not in PrivyProvider chains list`);let c=gT(r)&&r.amount?r.amount:e.fundingConfig.defaultRecommendedAmount,h=!1;function m(){if(!o)return;let b=LQ[o];l.find((E=>E.method==="wallets"))&&!b&&console.warn("Attempting to fund with USDC on chain where USDC address is not known. Funding via external wallet will be disabled."),a=b,h=!0}gT(r)&&"asset"in r?r.asset==="USDC"?m():typeof r.asset!="string"&&"erc20"in r.asset&&(h=((b,E)=>b===LQ[E.id])(a=r.asset.erc20,u)):e.fundingConfig.defaultRecommendedCurrency.asset==="USDC"&&m();let y=r?.defaultFundingMethod;return{chainType:"ethereum",address:t,amount:c,chain:u,erc20Address:a,erc20ContractInfo:h?{symbol:"USDC",decimals:6}:void 0,isUSDC:h,methodScreen:n,supportedOptions:l,comingFromSendTransactionScreen:s,defaultFundingMethod:y,usingDefaultFundingMethod:!!y,preferredCardProvider:r?.card?.preferredProvider,crossChainBridgingEnabled:e.fundingConfig.crossChainBridgingEnabled??!1,cluster:{name:"mainnet-beta",rpcUrl:e.solanaClusters["mainnet-beta"].rpcUrl},...z0t(r)?{moonpayConfigOverride:r.config}:{},uiConfig:r&&"uiConfig"in r?r.uiConfig:void 0}};function W0t({address:t,fundWalletConfig:e,appConfig:r,comingFromSendTransactionScreen:n,methodScreen:i}){if(!r.fundingConfig)throw Error("Wallet funding is not enabled");let s=fD(r.fundingConfig.options);if(s.length<1)throw Error("Wallet funding is not enabled");if(e?.asset==="USDC"&&e?.cluster?.name==="testnet")throw Error("USDC funding is not supported on the Solana testnet");let o=e?.amount??r.fundingConfig.defaultRecommendedAmount,a=e?.defaultFundingMethod;return{chainType:"solana",address:t,supportedOptions:s,amount:o,isUSDC:e?.asset==="USDC",methodScreen:i,comingFromSendTransactionScreen:n,cluster:{name:e?.cluster?.name??"mainnet-beta",rpcUrl:r.solanaClusters[e?.cluster?.name??"mainnet-beta"].rpcUrl},crossChainBridgingEnabled:r.fundingConfig.crossChainBridgingEnabled??!1,defaultFundingMethod:a,preferredCardProvider:e?.card?.preferredProvider,usingDefaultFundingMethod:!!a,uiConfig:e?.uiConfig}}const Z0e=({children:t,theme:e})=>w.jsxs(q0t,{$theme:e,children:[w.jsx(hm,{width:"20px",height:"20px",color:"var(--privy-color-icon-warning)",strokeWidth:2,style:{flexShrink:0}}),w.jsx(H0t,{$theme:e,children:t})]});let q0t=he.div.withConfig({displayName:"Container",componentId:"sc-a77c2854-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-warn-bg);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),H0t=he.div.withConfig({displayName:"Content",componentId:"sc-a77c2854-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],(t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)"));const V0t=({address:t,accessToken:e,appConfigTheme:r,onClose:n,isLoading:i=!1,exportButtonProps:s})=>w.jsx(on,{title:"Export wallet",subtitle:w.jsxs(w.Fragment,{children:["Copy either your private key or seed phrase to export your wallet."," ",w.jsx("a",{href:"https://privy-io.notion.site/Transferring-your-account-9dab9e16c6034a7ab1ff7fa479b02828",target:"blank",rel:"noopener noreferrer",children:"Learn more"})]}),onClose:n,watermark:!0,children:w.jsxs(K0t,{children:[w.jsx(Z0e,{theme:r,children:"Never share your private key or seed phrase with anyone."}),w.jsx(kA,{title:"Your wallet",address:t,showCopyButton:!0}),w.jsx("div",{style:{width:"100%"},children:i?w.jsx(G0t,{}):e&&s&&w.jsx(Q0t,{accessToken:e,dimensions:{height:"44px"},...s})})]})});let K0t=he.div.withConfig({displayName:"ContentContainer",componentId:"sc-e0132ced-0"})(["display:flex;flex-direction:column;gap:1.25rem;text-align:left;"]),G0t=()=>w.jsx(Y0t,{children:w.jsx(Z0t,{children:"Loading..."})}),Y0t=he.div.withConfig({displayName:"PlaceholderContainer",componentId:"sc-e0132ced-1"})(["display:flex;gap:12px;height:44px;"]),Z0t=he.div.withConfig({displayName:"PlaceholderButton",componentId:"sc-e0132ced-2"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:16px;font-weight:500;border-radius:var(--privy-border-radius-md);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);"]);function Q0t(t){let[e,r]=B.useState(t.dimensions.width),[n,i]=B.useState(void 0),s=B.useRef(null);B.useEffect((()=>{if(s.current&&e===void 0){let{width:l}=s.current.getBoundingClientRect();r(l)}let a=getComputedStyle(document.documentElement);i({background:a.getPropertyValue("--privy-color-background"),background2:a.getPropertyValue("--privy-color-background-2"),foreground3:a.getPropertyValue("--privy-color-foreground-3"),foregroundAccent:a.getPropertyValue("--privy-color-foreground-accent"),accent:a.getPropertyValue("--privy-color-accent"),accentDark:a.getPropertyValue("--privy-color-accent-dark"),success:a.getPropertyValue("--privy-color-success"),colorScheme:a.getPropertyValue("color-scheme")})}),[]);let o=t.chainType==="ethereum"&&!t.imported&&!t.isUnifiedWallet;return w.jsx("div",{ref:s,children:e&&w.jsxs(J0t,{children:[w.jsx("iframe",{style:{position:"absolute",zIndex:1},width:e,height:t.dimensions.height,allow:"clipboard-write self *",src:Nhe(t.origin,`/apps/${t.appId}/embedded-wallets/export`,t.isUnifiedWallet?{v:"1-unified",wallet_id:t.walletId,client_id:t.appClientId,width:`${e}px`,caid:t.clientAnalyticsId,phrase_export:o,...n}:{v:"1",entropy_id:t.entropyId,entropy_id_verifier:t.entropyIdVerifier,hd_wallet_index:t.hdWalletIndex,chain_type:t.chainType,client_id:t.appClientId,width:`${e}px`,caid:t.clientAnalyticsId,phrase_export:o,...n},{token:t.accessToken})}),w.jsx(BQ,{children:"Loading..."}),o&&w.jsx(BQ,{children:"Loading..."})]})})}const tR={component:()=>{let[t,e]=B.useState(null),{authenticated:r,user:n}=Kr(),{closePrivyModal:i,createAnalyticsEvent:s,clientAnalyticsId:o,client:a}=$t(),l=fn(),{data:u,onUserCloseViaDialogOrKeybindRef:c}=jt(),{onFailure:h,onSuccess:m,origin:y,appId:b,appClientId:E,entropyId:A,entropyIdVerifier:M,walletId:O,hdWalletIndex:P,chainType:z,address:L,isUnifiedWallet:W,imported:H}=u.keyExport,G=F=>{i({shouldCallAuthOnSuccess:!1}),h(typeof F=="string"?Error(F):F)},N=()=>{i({shouldCallAuthOnSuccess:!1}),m(),s({eventName:"embedded_wallet_key_export_completed",payload:{walletAddress:L}})};return B.useEffect((()=>{if(!r)return G("User must be authenticated before exporting their wallet");a.getAccessToken().then(e).catch(G)}),[r,n]),c.current=N,w.jsx(V0t,{address:L,accessToken:t,appConfigTheme:l.appearance.palette.colorScheme,onClose:N,isLoading:!t,exportButtonProps:t?{origin:y,appId:b,appClientId:E,clientAnalyticsId:o,entropyId:A,entropyIdVerifier:M,walletId:O,hdWalletIndex:P,isUnifiedWallet:W,imported:H,chainType:z}:void 0})}};let J0t=he.div.withConfig({displayName:"ButtonContainer",componentId:"sc-e0132ced-3"})(["overflow:visible;position:relative;overflow:none;height:44px;display:flex;gap:12px;"]),BQ=he.div.withConfig({displayName:"LoadingButton",componentId:"sc-e0132ced-4"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:16px;font-weight:500;border-radius:var(--privy-border-radius-md);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);"]);const X0t=({connectionFailed:t,onClose:e})=>w.jsx(on,t?{title:"Something went wrong",subtitle:"We're on it. Please try again later.",icon:C9,iconVariant:"error",primaryCta:{label:"Close",onClick:e},watermark:!0}:{title:"Connecting to your wallet",subtitle:"Please wait...",iconVariant:"loading",showClose:!0,onClose:e,watermark:!1}),m0={component:()=>{let{authenticated:t,user:e}=Kr(),{client:r,closePrivyModal:n,createAnalyticsEvent:i,walletProxy:s}=$t(),{navigate:o,data:a,setModalData:l,onUserCloseViaDialogOrKeybindRef:u}=jt(),c=B.useMemo((()=>Date.now()),[]),[h,m]=B.useState(!1),{onCompleteNavigateTo:y,onFailure:b,shouldForceMFA:E,entropyId:A,entropyIdVerifier:M,recoveryMethod:O,connectingWalletAddress:P,isUnifiedWallet:z=!1}=a?.connectWallet,L=W=>{h||(m(!0),b(typeof W=="string"?Error(W):W))};return B.useEffect((()=>{let W;return t?s?((async()=>{let H=await r.getAccessToken();if(!H)return L("User must be authenticated and have a Privy wallet before it can be connected");try{z||await s.connect({accessToken:H,entropyId:A,entropyIdVerifier:M}),E&&await s.verifyMfa({accessToken:H});let G=(Date.now()-c)/1e3;y===tR&&G<1?W=setTimeout((()=>{o(y,!1)}),1e3*(1-G)):o(y,!1)}catch(G){if(f5(G)&&O==="privy"){let N=await r.getAccessToken();if(!N)return L("User must be authenticated and have a Privy wallet before it can be recovered");try{i({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:P}}),(await s?.recover({accessToken:N,entropyId:A,entropyIdVerifier:M}))?.entropyId||L(Error("Unable to recover wallet")),y?o(y):n({shouldCallAuthOnSuccess:!1}),i({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:P}}),o(y)}catch{L("An error has occurred, please try again.")}}else f5(G)&&O!=="privy"&&O!=="privy-v2"?(l({...a,recoverWallet:{entropyId:A,entropyIdVerifier:M,onCompleteNavigateTo:y,onFailure:b},recoveryOAuthStatus:{provider:O,action:"recover",isInAccountCreateFlow:!1,shouldCreateEth:!1,shouldCreateSol:!1}}),o(I0e(O))):L(G)}})(),()=>clearTimeout(W)):void 0:L("User must be authenticated and have a Privy wallet before it can be connected")}),[t,e,s]),u.current=()=>{L("User exited before wallet could be connected"),n({shouldCallAuthOnSuccess:!1})},w.jsx(X0t,{connectionFailed:h,onClose:()=>n({shouldCallAuthOnSuccess:!1})})}},Q0e=he(Zt).withConfig({displayName:"InteractiveLabel",componentId:"sc-b57d0824-0"})(["cursor:pointer;display:inline-flex;gap:8px;align-items:center;color:var(--privy-color-accent);svg{fill:var(--privy-color-accent);}"]);var UQ=({iconUrl:t,value:e,symbol:r,usdValue:n,nftName:i,nftCount:s,decimals:o,$isLoading:a})=>{if(a)return w.jsx(FQ,{$isLoading:a});let l=e&&n&&o?(function(u,c,h){let m=parseFloat(u),y=parseFloat(h);if(m===0||y===0||Number.isNaN(m)||Number.isNaN(y))return u;let b=Math.ceil(-Math.log10(.01/(y/m))),E=Math.pow(10,b=Math.max(b=Math.min(b,c),1)),A=+(Math.floor(m*E)/E).toFixed(b).replace(/\.?0+$/,"");return Intl.NumberFormat(void 0,{maximumFractionDigits:c}).format(A)})(e,o,n):e;return w.jsxs("div",{children:[w.jsxs(FQ,{$isLoading:a,children:[t&&w.jsx(tpt,{src:t,alt:"Token icon"}),s&&s>1?s+"x":void 0," ",i,l," ",r]}),n&&w.jsxs(ept,{$isLoading:a,children:["$",n]})]})};let FQ=he.span.withConfig({displayName:"Value",componentId:"sc-991db279-0"})(["color:var(--privy-color-foreground);font-size:0.875rem;font-weight:500;line-height:1.375rem;word-break:break-all;text-align:right;display:flex;justify-content:flex-end;",""],AA);const ept=he.span.withConfig({displayName:"Subvalue",componentId:"sc-991db279-1"})(["color:var(--privy-color-foreground-2);font-size:12px;font-weight:400;line-height:18px;word-break:break-all;text-align:right;display:flex;justify-content:flex-end;",""],AA);let tpt=he.img.withConfig({displayName:"TokenIcon",componentId:"sc-991db279-2"})(["height:14px;width:14px;margin-right:4px;object-fit:contain;"]);const rpt=t=>{let{chain:e,transactionDetails:r,isTokenContractInfoLoading:n,symbol:i}=t,{action:s,functionName:o}=r;return w.jsx(CA,{children:w.jsxs(Xw,{children:[s!=="transaction"&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Action"}),w.jsx(rr,{children:o})]}),o==="mint"&&"args"in r&&r.args.filter((a=>a)).map(((a,l)=>w.jsxs(Ot,{children:[w.jsx(Zt,{children:`Param ${l}`}),w.jsx(rr,{children:typeof a=="string"&&za(a)?w.jsx(Vr,{address:a,url:e?.blockExplorers?.default?.url,showCopyIcon:!1}):a?.toString()})]},l))),o==="setApprovalForAll"&&r.operator&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Operator"}),w.jsx(rr,{children:w.jsx(Vr,{address:r.operator,url:e?.blockExplorers?.default?.url,showCopyIcon:!1})})]}),o==="setApprovalForAll"&&r.approved!==void 0&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Set approval to"}),w.jsx(rr,{children:r.approved?"true":"false"})]}),o==="transfer"||o==="transferFrom"||o==="safeTransferFrom"||o==="approve"?w.jsxs(w.Fragment,{children:["formattedAmount"in r&&r.formattedAmount&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Amount"}),w.jsxs(rr,{$isLoading:n,children:[r.formattedAmount," ",i]})]}),"tokenId"in r&&r.tokenId&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Token ID"}),w.jsx(rr,{children:r.tokenId.toString()})]})]}):null,o==="safeBatchTransferFrom"&&w.jsxs(w.Fragment,{children:["amounts"in r&&r.amounts&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Amounts"}),w.jsx(rr,{children:r.amounts.join(", ")})]}),"tokenIds"in r&&r.tokenIds&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Token IDs"}),w.jsx(rr,{children:r.tokenIds.join(", ")})]})]}),o==="approve"&&r.spender&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Spender"}),w.jsx(rr,{children:w.jsx(Vr,{address:r.spender,url:e?.blockExplorers?.default?.url,showCopyIcon:!1})})]}),(o==="transferFrom"||o==="safeTransferFrom"||o==="safeBatchTransferFrom")&&r.transferFrom&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Transferring from"}),w.jsx(rr,{children:w.jsx(Vr,{address:r.transferFrom,url:e?.blockExplorers?.default?.url,showCopyIcon:!1})})]}),(o==="transferFrom"||o==="safeTransferFrom"||o==="safeBatchTransferFrom")&&r.transferTo&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Transferring to"}),w.jsx(rr,{children:w.jsx(Vr,{address:r.transferTo,url:e?.blockExplorers?.default?.url,showCopyIcon:!1})})]})]})})},npt=({variant:t,setPreventMaliciousTransaction:e,colorScheme:r="light",preventMaliciousTransaction:n})=>t==="warn"?w.jsx(zQ,{children:w.jsxs(Z0e,{theme:r,children:[w.jsx("span",{style:{fontWeight:"500"},children:"Warning: Suspicious transaction"}),w.jsx("br",{}),"This has been flagged as a potentially deceptive request. Approving could put your assets or funds at risk."]})}):t==="error"?w.jsx(w.Fragment,{children:w.jsxs(zQ,{children:[w.jsx(R0e,{theme:r,children:w.jsxs("div",{children:[w.jsx("strong",{children:"This is a malicious transaction"}),w.jsx("br",{}),"This transaction transfers tokens to a known malicious address. Proceeding may result in the loss of valuable assets."]})}),w.jsxs(ipt,{children:[w.jsx(jfe,{color:"var(--privy-color-error)",checked:!n,readOnly:!0,onClick:()=>e(!n)}),w.jsx("span",{children:"I understand and want to proceed anyways."})]})]})}):null;let zQ=he.div.withConfig({displayName:"BannerContainer",componentId:"sc-ab8a5a0b-0"})(["margin-top:1.5rem;"]),ipt=he.div.withConfig({displayName:"CheckboxContainer",componentId:"sc-ab8a5a0b-1"})(["display:flex;align-items:center;gap:0.5rem;margin-top:0.75rem;"]);const spt=({transactionIndex:t,maxIndex:e})=>typeof t!="number"||e===0?"":` (${t+1} / ${e+1})`,opt=({img:t,submitError:e,prepareError:r,onClose:n,action:i,title:s,subtitle:o,txValue:a,to:l,tokenAddress:u,network:c,missingFunds:h,fee:m,from:y,cta:b,disabled:E,chain:A,isSubmitting:M,isPreparing:O,isTokenPriceLoading:P,isTokenContractInfoLoading:z,isSponsored:L,symbol:W,balance:H,onClick:G,transactionDetails:N,transactionIndex:F,maxIndex:U,onBack:j,chainName:_,validation:d,hasScanDetails:g,setIsScanDetailsOpen:x,preventMaliciousTransaction:C,setPreventMaliciousTransaction:k,tokensSent:T,tokensReceived:R,isScanning:I,isCancellable:f,functionName:S})=>{let{showTransactionDetails:K,setShowTransactionDetails:D,hasMoreDetails:J,isErc20Ish:ne}=(ce=>{let[Se,ye]=B.useState(!1),Ae=!0,tt=!1;return(!ce||ce.isErc20Ish||ce.action==="transaction")&&(Ae=!1),Ae&&(tt=Object.entries(ce||{}).some((([Ce,je])=>je&&!["action","isErc20Ish","isNFTIsh"].includes(Ce)))),{showTransactionDetails:Se,setShowTransactionDetails:ye,hasMoreDetails:Ae&&tt,isErc20Ish:ce?.isErc20Ish}})(N),ie=ne&&z||O||P||I;return w.jsxs(w.Fragment,{children:[w.jsx(Or,{onClose:n,backFn:j}),t&&w.jsx(epe,{children:t}),w.jsxs(Qh,{style:{marginTop:t?"1.5rem":0},children:[s,w.jsx(spt,{maxIndex:U,transactionIndex:F})]}),w.jsx(tp,{children:o}),w.jsxs(Xw,{style:{marginTop:"2rem"},children:[(!!T[0]||ie)&&w.jsxs(Ot,{children:[R.length>0?w.jsx(Zt,{children:"Send"}):w.jsx(Zt,{children:i==="approve"?"Approval amount":"Amount"}),w.jsx("div",{className:"flex flex-col",children:T.map(((ce,Se)=>w.jsx(UQ,{iconUrl:ce.iconUrl,value:S==="setApprovalForAll"?"All":ce.value,usdValue:ce.usdValue,symbol:ce.symbol,nftName:ce.nftName,nftCount:ce.nftCount,decimals:ce.decimals},Se)))})]}),R.length>0&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Receive"}),w.jsx("div",{className:"flex flex-col",children:R.map(((ce,Se)=>w.jsx(UQ,{iconUrl:ce.iconUrl,value:ce.value,usdValue:ce.usdValue,symbol:ce.symbol,nftName:ce.nftName,nftCount:ce.nftCount,decimals:ce.decimals},Se)))})]}),N&&"spender"in N&&N?.spender?w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Spender"}),w.jsx(rr,{children:w.jsx(Vr,{address:N.spender,url:A?.blockExplorers?.default?.url})})]}):null,l&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"To"}),w.jsx(rr,{children:w.jsx(Vr,{address:l,url:A?.blockExplorers?.default?.url,showCopyIcon:!0})})]}),u&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Token address"}),w.jsx(rr,{children:w.jsx(Vr,{address:u,url:A?.blockExplorers?.default?.url})})]}),w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Network"}),w.jsx(rr,{children:c})]}),w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Estimated fee"}),w.jsx(rr,{$isLoading:O||P||L===void 0,children:L?"Sponsored":m})]}),J&&!g&&w.jsxs(w.Fragment,{children:[w.jsx(Ot,{className:"cursor-pointer",onClick:()=>D(!K),children:w.jsxs(Zft,{className:"flex items-center gap-x-1",children:["Details"," ",w.jsx(d9,{style:{width:"0.75rem",marginLeft:"0.25rem",transform:K?"rotate(180deg)":void 0}})]})}),K&&N&&w.jsx(rpt,{action:i,chain:A,transactionDetails:N,isTokenContractInfoLoading:z,symbol:W})]}),g&&w.jsx(Ot,{children:w.jsxs(Q0e,{onClick:()=>x(!0),children:[w.jsx("span",{className:"text-color-primary",children:"Details"}),w.jsx(KTe,{height:"14px",width:"14px",strokeWidth:"2"})]})})]}),w.jsx(X0,{}),e?w.jsx(Yh,{style:{marginTop:"2rem"},children:e.message}):r&&F===0?w.jsx(Yh,{style:{marginTop:"2rem"},children:r.shortMessage??X0e}):null,w.jsx(npt,{variant:d,preventMaliciousTransaction:C,setPreventMaliciousTransaction:k}),w.jsx(J0e,{$useSmallMargins:!(!r&&!e&&d!=="warn"&&d!=="error"),title:Number(a)>0?void 0:L!==!1?"Your wallet":void 0,address:y,balance:H,errMsg:O||r||e||!h?void 0:`Add funds on ${A?.name??_} to complete transaction.`}),w.jsx(Mn,{style:{marginTop:"1rem"},loading:M,disabled:E||O,onClick:G,children:b}),f&&w.jsx(dA,{style:{marginTop:"1rem"},onClick:n,isSubmitting:!1,children:"Not now"}),w.jsx(nn,{})]})},apt=({img:t,title:e,subtitle:r,cta:n,instructions:i,network:s,blockExplorerUrl:o,isMissingFunds:a,submitError:l,parseError:u,total:c,swap:h,transactingWalletAddress:m,fee:y,balance:b,disabled:E,isSubmitting:A,isPreparing:M,isTokenPriceLoading:O,onClick:P,onClose:z,onBack:L})=>{let W=M||O,[H,G]=B.useState(!1);return w.jsxs(w.Fragment,{children:[w.jsx(Or,{onClose:z,backFn:L}),t&&w.jsx(epe,{children:t}),w.jsx(Qh,{style:{marginTop:t?"1.5rem":0},children:e}),w.jsx(tp,{children:r}),w.jsxs(Xw,{style:{marginTop:"2rem",marginBottom:".5rem"},children:[(c||W)&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Amount"}),w.jsx(rr,{$isLoading:W,children:c})]}),h&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Swap"}),w.jsx(rr,{children:h})]}),s&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Network"}),w.jsx(rr,{children:s})]}),(y||W)&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Estimated fee"}),w.jsx(rr,{$isLoading:W,children:y})]})]}),w.jsx(Ot,{children:w.jsxs(Q0e,{onClick:()=>G((N=>!N)),children:[w.jsx("span",{children:"Advanced"}),w.jsx(d9,{height:"16px",width:"16px",strokeWidth:"2",style:{transition:"all 300ms",transform:H?"rotate(180deg)":void 0}})]})}),H&&w.jsx(w.Fragment,{children:i.map(((N,F)=>N.type==="sol-transfer"?w.jsxs(Kl,{children:[w.jsx(Ot,{children:w.jsxs(va,{children:["Transfer ",N.withSeed?"with seed":""]})}),w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Amount"}),w.jsxs(rr,{children:[Uo({amount:N.value,decimals:N.token.decimals})," ",N.token.symbol]})]}),!!N.toAccount&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Destination"}),w.jsx(rr,{children:w.jsx(Vr,{address:N.toAccount,url:o})})]})]},F):N.type==="spl-transfer"?w.jsxs(Kl,{children:[w.jsx(Ot,{children:w.jsxs(va,{children:["Transfer ",N.token.symbol]})}),w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Amount"}),w.jsx(rr,{children:N.value.toString()})]}),!!N.fromAta&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Source"}),w.jsx(rr,{children:w.jsx(Vr,{address:N.fromAta,url:o})})]}),!!N.toAta&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Destination"}),w.jsx(rr,{children:w.jsx(Vr,{address:N.toAta,url:o})})]}),!!N.token.address&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Token"}),w.jsx(rr,{children:w.jsx(Vr,{address:N.token.address,url:o})})]})]},F):N.type==="ata-creation"?w.jsxs(Kl,{children:[w.jsx(Ot,{children:w.jsx(va,{children:"Create token account"})}),w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Program ID"}),w.jsx(rr,{children:w.jsx(Vr,{address:N.program,url:o})})]}),!!N.owner&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Owner"}),w.jsx(rr,{children:w.jsx(Vr,{address:N.owner,url:o})})]})]},F):N.type==="create-account"?w.jsxs(Kl,{children:[w.jsx(Ot,{children:w.jsxs(va,{children:["Create account ",N.withSeed?"with seed":""]})}),!!N.account&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Account"}),w.jsx(rr,{children:w.jsx(Vr,{address:N.account,url:o})})]}),w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Amount"}),w.jsxs(rr,{children:[Uo({amount:N.value,decimals:9})," SOL"]})]})]},F):N.type==="spl-init-account"?w.jsxs(Kl,{children:[w.jsx(Ot,{children:w.jsx(va,{children:"Initialize token account"})}),!!N.account&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Account"}),w.jsx(rr,{children:w.jsx(Vr,{address:N.account,url:o})})]}),!!N.mint&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Mint"}),w.jsx(rr,{children:w.jsx(Vr,{address:N.mint,url:o})})]}),!!N.owner&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Owner"}),w.jsx(rr,{children:w.jsx(Vr,{address:N.owner,url:o})})]})]},F):N.type==="spl-close-account"?w.jsxs(Kl,{children:[w.jsx(Ot,{children:w.jsx(va,{children:"Close token account"})}),!!N.source&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Source"}),w.jsx(rr,{children:w.jsx(Vr,{address:N.source,url:o})})]}),!!N.destination&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Destination"}),w.jsx(rr,{children:w.jsx(Vr,{address:N.destination,url:o})})]}),!!N.owner&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Owner"}),w.jsx(rr,{children:w.jsx(Vr,{address:N.owner,url:o})})]})]},F):N.type==="spl-sync-native"?w.jsxs(Kl,{children:[w.jsx(Ot,{children:w.jsx(va,{children:"Sync native"})}),w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Program ID"}),w.jsx(rr,{children:w.jsx(Vr,{address:N.program,url:o})})]})]},F):N.type==="raydium-swap-base-input"?w.jsxs(Kl,{children:[w.jsx(Ot,{children:w.jsxs(va,{children:["Raydium swap"," ",N.tokenIn&&N.tokenOut?`${N.tokenIn.symbol} → ${N.tokenOut.symbol}`:""]})}),w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Amount in"}),w.jsx(rr,{children:N.amountIn.toString()})]}),w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Minimum amount out"}),w.jsx(rr,{children:N.minimumAmountOut.toString()})]}),N.mintIn&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Token in"}),w.jsx(rr,{children:w.jsx(Vr,{address:N.mintIn,url:o})})]}),N.mintOut&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Token out"}),w.jsx(rr,{children:w.jsx(Vr,{address:N.mintOut,url:o})})]})]},F):N.type==="raydium-swap-base-output"?w.jsxs(Kl,{children:[w.jsx(Ot,{children:w.jsxs(va,{children:["Raydium swap"," ",N.tokenIn&&N.tokenOut?`${N.tokenIn.symbol} → ${N.tokenOut.symbol}`:""]})}),w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Max amount in"}),w.jsx(rr,{children:N.maxAmountIn.toString()})]}),w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Amount out"}),w.jsx(rr,{children:N.amountOut.toString()})]}),N.mintIn&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Token in"}),w.jsx(rr,{children:w.jsx(Vr,{address:N.mintIn,url:o})})]}),N.mintOut&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Token out"}),w.jsx(rr,{children:w.jsx(Vr,{address:N.mintOut,url:o})})]})]},F):N.type==="jupiter-swap-shared-accounts-route"?w.jsxs(Kl,{children:[w.jsx(Ot,{children:w.jsxs(va,{children:["Jupiter swap"," ",N.tokenIn&&N.tokenOut?`${N.tokenIn.symbol} → ${N.tokenOut.symbol}`:""]})}),w.jsxs(Ot,{children:[w.jsx(Zt,{children:"In amount"}),w.jsx(rr,{children:N.inAmount.toString()})]}),w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Quoted out amount"}),w.jsx(rr,{children:N.quotedOutAmount.toString()})]}),N.mintIn&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Token in"}),w.jsx(rr,{children:w.jsx(Vr,{address:N.mintIn,url:o})})]}),N.mintOut&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Token out"}),w.jsx(rr,{children:w.jsx(Vr,{address:N.mintOut,url:o})})]})]},F):N.type==="jupiter-swap-exact-out-route"?w.jsxs(Kl,{children:[w.jsx(Ot,{children:w.jsxs(va,{children:["Jupiter swap"," ",N.tokenIn&&N.tokenOut?`${N.tokenIn.symbol} → ${N.tokenOut.symbol}`:""]})}),w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Quoted in amount"}),w.jsx(rr,{children:N.quotedInAmount.toString()})]}),w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Amount out"}),w.jsx(rr,{children:N.outAmount.toString()})]}),N.mintIn&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Token in"}),w.jsx(rr,{children:w.jsx(Vr,{address:N.mintIn,url:o})})]}),N.mintOut&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Token out"}),w.jsx(rr,{children:w.jsx(Vr,{address:N.mintOut,url:o})})]})]},F):w.jsxs(Kl,{children:[w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Program ID"}),w.jsx(rr,{children:w.jsx(Vr,{address:N.program,url:o})})]}),w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Data"}),w.jsx(rr,{children:N.discriminator})]})]},F)))}),w.jsx(X0,{}),l?w.jsx(Yh,{style:{marginTop:"2rem"},children:l.message}):u?w.jsx(Yh,{style:{marginTop:"2rem"},children:X0e}):null,w.jsx(J0e,{$useSmallMargins:!(!u&&!l),title:"Your wallet",address:m,balance:b,errMsg:M||u||l||!a?void 0:"Add funds on Solana to complete transaction."}),w.jsx(Mn,{style:{marginTop:"1rem"},loading:A,disabled:E||M,onClick:P,children:n}),w.jsx(nn,{})]})};let J0e=he(kA).withConfig({displayName:"StyledWalletInfoCard",componentId:"sc-fd202ddf-0"})(["",""],(t=>t.$useSmallMargins?"margin-top: 0.5rem;":"margin-top: 2rem;")),Kl=he(Xw).withConfig({displayName:"InstructionRows",componentId:"sc-fd202ddf-1"})(["margin-top:0.5rem;border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-sm);padding:0.5rem;"]),X0e="There was an error preparing your transaction. Your transaction request will likely fail.",epe=he.div.withConfig({displayName:"ImageContainer",componentId:"sc-fd202ddf-2"})(["display:flex;width:100%;justify-content:center;max-height:40px;> img{object-fit:contain;border-radius:var(--privy-border-radius-sm);}"]),lpt=()=>w.jsxs(hpt,{children:[w.jsx(ppt,{}),w.jsx(fpt,{})]});const tpe=({transactionError:t,chainId:e,onClose:r,onRetry:n,network:i,rpcEndpoint:s,transactionHash:o})=>{let{chains:a}=$t(),[l,u]=B.useState(!1),{errorCode:c,errorMessage:h}=((y,b)=>{if(b==="ethereum")return{errorCode:y.details??y.message,errorMessage:y.shortMessage};let E=y.txSignature,A=y?.transactionMessage||"Something went wrong.";if(Array.isArray(y.logs)){let M=y.logs.find((O=>/insufficient (lamports|funds)/gi.test(O)));M&&(A=M)}return{transactionHash:E,errorMessage:A}})(t,i),m=(({chains:y,chainId:b,network:E,rpcEndpoint:A,transactionHash:M})=>E==="ethereum"?y.find((O=>O.id===b))?.blockExplorers?.default.url??"https://etherscan.io":(function(O,P){return`https://explorer.solana.com/tx/${O}?cluster=${P}`})(M||"",Yw(A||"")))({chains:a,chainId:e,network:i,rpcEndpoint:s,transactionHash:o});return w.jsxs(w.Fragment,{children:[w.jsx(Or,{onClose:r}),w.jsxs(cpt,{children:[w.jsx(lpt,{}),w.jsx(upt,{children:c}),w.jsx(dpt,{children:"Please try again."}),w.jsxs(qQ,{children:[w.jsx(WQ,{children:"Error message"}),w.jsx(HQ,{$clickable:!1,children:h})]}),o&&w.jsxs(qQ,{children:[w.jsx(WQ,{children:"Transaction hash"}),w.jsxs(mpt,{children:["Copy this hash to view details about the transaction on a"," ",w.jsx("u",{children:w.jsx("a",{href:m,children:"block explorer"})}),"."]}),w.jsxs(HQ,{$clickable:!0,onClick:async()=>{await navigator.clipboard.writeText(o),u(!0)},children:[o,w.jsx(vpt,{clicked:l})]})]}),w.jsx(gpt,{onClick:()=>n({resetNonce:!!o}),children:"Retry transaction"})]}),w.jsx(Di,{})]})};let cpt=he.div.withConfig({displayName:"TransactionErrorScreenContainer",componentId:"sc-9ada48aa-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;"]),upt=he.span.withConfig({displayName:"ErrorCode",componentId:"sc-9ada48aa-1"})(["color:var(--privy-color-foreground);text-align:center;font-size:1.125rem;font-weight:500;line-height:1.25rem;text-align:center;margin:10px;"]),dpt=he.span.withConfig({displayName:"Subtitle",componentId:"sc-9ada48aa-2"})(["margin-top:4px;margin-bottom:10px;color:var(--privy-color-foreground-3);text-align:center;font-size:0.875rem;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;"]),hpt=he.div.withConfig({displayName:"CircleContainer",componentId:"sc-9ada48aa-3"})(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]),fpt=he($L).withConfig({displayName:"StyledExclamationCircleIcon",componentId:"sc-9ada48aa-4"})(["position:absolute;width:35px;height:35px;color:var(--privy-color-error);"]),ppt=he.div.withConfig({displayName:"StyledRedCircle",componentId:"sc-9ada48aa-5"})(["position:absolute;width:60px;height:60px;border-radius:50%;background-color:var(--privy-color-error);opacity:0.1;"]),gpt=he(Mn).withConfig({displayName:"RetryButton",componentId:"sc-9ada48aa-6"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]),WQ=he.span.withConfig({displayName:"TextBoxTitle",componentId:"sc-9ada48aa-7"})(["width:100%;text-align:left;font-size:0.825rem;color:var(--privy-color-foreground);padding:4px;"]),qQ=he.div.withConfig({displayName:"TextBoxContainer",componentId:"sc-9ada48aa-8"})(["width:100%;margin:5px;display:flex;flex-direction:column;justify-content:center;align-items:center;"]),mpt=he.text.withConfig({displayName:"HelperText",componentId:"sc-9ada48aa-9"})(["position:relative;width:100%;padding:5px;font-size:0.8rem;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;"]),HQ=he.span.withConfig({displayName:"TextBox",componentId:"sc-9ada48aa-10"})(["position:relative;width:100%;background-color:var(--privy-color-background-2);padding:8px 12px;border-radius:10px;margin-top:5px;font-size:14px;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;",""],(t=>t.$clickable&&`cursor: pointer;
  transition: background-color 0.3s;
  padding-right: 45px;

  &:hover {
    background-color: var(--privy-color-foreground-4);
  }`)),ypt=he(Mot).withConfig({displayName:"StyledClipboardIcon",componentId:"sc-9ada48aa-11"})(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]),wpt=he(the).withConfig({displayName:"StyledClipboardCheckIcon",componentId:"sc-9ada48aa-12"})(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]),vpt=({clicked:t})=>w.jsx(t?wpt:ypt,{});const bpt=he.span.withConfig({displayName:"CircleBackground",componentId:"sc-c9f33cd-0"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";background-color:",";border-radius:50%;display:inline-block;box-sizing:border-box;}"],(t=>t.color??"var(--privy-color-accent)"),(t=>t.color??"var(--privy-color-accent)")),xpt=({instruction:t,fees:e,transactionInfo:r,solPrice:n,rpcEndpoint:i})=>w.jsxs(Xw,{children:[r?.action&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Action"}),w.jsx(rr,{children:r.action})]}),t?.total!=null&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Total"}),w.jsx(rr,{children:t.total})]}),!t?.total&&t?.amount!=null&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Total"}),w.jsx(rr,{children:w.jsx(oQ,{quantities:[t.amount,e],tokenPrice:n})})]}),w.jsxs(Ot,{children:[w.jsx(Zt,{children:"Fees"}),w.jsx(rr,{children:w.jsx(oQ,{quantities:[e],tokenPrice:n})})]}),t?.to&&w.jsxs(Ot,{children:[w.jsx(Zt,{children:"To"}),w.jsx(rr,{children:w.jsx(jN,{walletAddress:t.to,rpcEndpoint:i,network:"solana"})})]})]}),Ept=({fees:t,onClose:e,receiptHeader:r,receiptDescription:n,transactionInfo:i,solPrice:s,rpcEndpoint:o,signOnly:a,instruction:l})=>w.jsxs(w.Fragment,{children:[w.jsx(Or,{onClose:e}),w.jsx(eD,{style:{marginBottom:"16px"},children:w.jsxs("div",{children:[w.jsx(bpt,{color:"var(--privy-color-success-light)"}),w.jsx(Gw,{height:38,width:38,strokeWidth:2,stroke:"var(--privy-color-success)"})]})}),w.jsx(Tl,{title:r??`Transaction ${a?"signed":"complete"}!`,description:n??"You're all set."}),w.jsx(xpt,{solPrice:s,instruction:l,fees:t,transactionInfo:i,rpcEndpoint:o}),w.jsx(X0,{}),w.jsx(_pt,{loading:!1,onClick:e,children:"Close"}),w.jsx(Nl,{}),w.jsx(nn,{})]});let _pt=he(Mn).withConfig({displayName:"SubmitButton",componentId:"sc-df6d4eec-0"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]);const Apt={component:()=>{let{data:t,onUserCloseViaDialogOrKeybindRef:e,setModalData:r,navigate:n}=jt(),{client:i,closePrivyModal:s,walletProxy:o,showFiatPrices:a}=$t(),l=fn(),{user:u}=Kr(),[c,h]=B.useState(t?.sendSolanaTransaction?.transactionRequest),[m,y]=B.useState(),[b,E]=B.useState(),[A,M]=B.useState({value:0n,isLoading:!1}),[O,P]=B.useState(!1),[z,L]=B.useState(),[W,H]=B.useState(),G=t?.sendSolanaTransaction?.connection,N=t?.sendSolanaTransaction?.transactingWallet,F=!!t?.sendSolanaTransaction?.signOnly,U=N?.imported?X_(u):lc(u),j=Yw(G?.rpcEndpoint||""),{solPrice:_,isSolPriceLoading:d}=wfe({enabled:a}),g=B.useMemo((()=>{if(!m)return;let I=m.spender,f=D0(m.fee),S=D0(A.value,3,!0),K=m.instructions.filter((J=>["sol-transfer","spl-transfer","raydium-swap-base-input","raydium-swap-base-output","jupiter-swap-shared-accounts-route","jupiter-swap-exact-out-route"].includes(J.type))),D=K.at(0);return!D||K.length>1?{fee:f,spender:I,balance:S}:D.type==="sol-transfer"?{fee:f,spender:I,balance:S,total:D0(D.value)}:D.type==="spl-transfer"?{fee:f,spender:I,balance:S,total:`${Uo({amount:D.value,decimals:D.token.decimals})} ${D.token.symbol}`}:D.type==="raydium-swap-base-input"&&D.tokenIn&&D.tokenOut?{fee:f,spender:I,balance:S,swap:`${`${Uo({amount:D.amountIn,decimals:D.tokenIn.decimals})} ${D.tokenIn.symbol}`} → ${`${Uo({amount:D.minimumAmountOut,decimals:D.tokenOut.decimals})} ${D.tokenOut.symbol}`}`}:D.type==="raydium-swap-base-output"&&D.tokenIn&&D.tokenOut?{fee:f,spender:I,balance:S,swap:`${`${Uo({amount:D.maxAmountIn,decimals:D.tokenIn.decimals})} ${D.tokenIn.symbol}`} → ${`${Uo({amount:D.amountOut,decimals:D.tokenOut.decimals})} ${D.tokenOut.symbol}`}`}:D.type==="jupiter-swap-shared-accounts-route"&&D.tokenIn&&D.tokenOut?{fee:f,spender:I,balance:S,swap:`${`${Uo({amount:D.inAmount,decimals:D.tokenIn.decimals})} ${D.tokenIn.symbol}`} → ${`${Uo({amount:D.quotedOutAmount,decimals:D.tokenOut.decimals})} ${D.tokenOut.symbol}`}`}:D.type==="jupiter-swap-exact-out-route"&&D.tokenIn&&D.tokenOut?{fee:f,spender:I,balance:S,swap:`${`${Uo({amount:D.quotedInAmount,decimals:D.tokenIn.decimals})} ${D.tokenIn.symbol}`} → ${`${Uo({amount:D.outAmount,decimals:D.tokenOut.decimals})} ${D.tokenOut.symbol}`}`}:{fee:f,spender:I,balance:S}}),[m,N?.address,A]),x=B.useMemo((()=>{let I;if(!m||!a||!_||d)return;function f(...D){return Yb(D.reduce(((J,ne)=>J+ne),0n),_??0)}N?.address===m.spender&&(I=f(m.fee));let S=f(A.value),K=m.instructions.filter((D=>D.type==="sol-transfer"||D.type==="spl-transfer")).at(0);return!K||m.instructions.length>1?{fee:I,balance:S}:K.type==="sol-transfer"?{fee:I,balance:S,total:f(K.value,N?.address===m.spender?m.fee:0n)}:K.type==="spl-transfer"?{fee:I,balance:S,total:`${Uo({amount:K.value,decimals:K.token.decimals})} ${K.token.symbol}`}:{fee:I,balance:S}}),[m,a,_,d,N?.address,A]);if(B.useEffect((()=>{(async function(){if(c&&G&&i)try{E(void 0);let I=await sct({tx:c,connection:G,client:i,checkFunds:!F});y(I)}catch(I){console.error("Failed to prepare transaction",I),E(I)}})()}),[c,G,i,F]),B.useEffect((()=>{(async function(){if(!N||!G)return;M({value:A.value,isLoading:!0});let I=new P7e({name:"mainnet-beta",rpcUrl:G.rpcEndpoint});M({value:await I.getBalance(N.address).catch((()=>0n))??0n,isLoading:!1})})().catch(console.error)}),[m,G]),!(c&&t?.sendSolanaTransaction&&N&&G)){let I=Error("Invalid transaction request");return w.jsx(a6,{error:I,allowlistConfig:l.allowlistConfig,onRetry:()=>{t?.sendSolanaTransaction?.onFailure(I),s({shouldCallAuthOnSuccess:!1})}})}let C=()=>{if(!O)return z?t?.sendSolanaTransaction?.onSuccess(z):t?.sendSolanaTransaction?.onFailure(W??b??Error("User exited the modal before submitting the transaction")),s({shouldCallAuthOnSuccess:!1})};e.current=C;let k=t.sendSolanaTransaction?.uiOptions?.transactionInfo?.contractInfo?.imgUrl?w.jsx("img",{src:t.sendSolanaTransaction.uiOptions.transactionInfo.contractInfo.imgUrl,alt:t.sendSolanaTransaction.uiOptions.transactionInfo.contractInfo.imgAltText}):null,T=!!(t.funding&&t.funding.supportedOptions.length>0),R=!m?.hasFunds&&T;if(z){let I=m?.instructions.filter((S=>S.type==="sol-transfer"||S.type==="spl-transfer")),f=I?.length===1?I?.at(0):void 0;return w.jsx(Ept,{fees:z.fees,onClose:C,transactionInfo:t.sendSolanaTransaction?.uiOptions.transactionInfo,solPrice:_,receiptHeader:t.sendSolanaTransaction?.uiOptions.successHeader,receiptDescription:t.sendSolanaTransaction?.uiOptions.successDescription,rpcEndpoint:G.rpcEndpoint,signOnly:F,instruction:f?.type==="sol-transfer"?{to:f.toAccount,amount:f.value}:{to:f?.toAccount||f?.toAta,total:g?.total}})}return W?w.jsx(tpe,{transactionError:W,rpcEndpoint:G.rpcEndpoint,onClose:C,network:"solana",onRetry:async()=>{H(void 0);let{blockhash:I}=await G.getLatestBlockhash();ep(c)?c.message.recentBlockhash=I:c.recentBlockhash=I,h(c)}}):w.jsx(apt,{img:k,title:t.sendSolanaTransaction?.uiOptions?.transactionInfo?.title||"Confirm transaction",subtitle:t.sendSolanaTransaction?.uiOptions?.description||`${l.name} wants your permission to approve the following transaction.`,cta:R?"Add funds":t.sendSolanaTransaction?.uiOptions?.buttonText||"Approve",instructions:m?.instructions??[],network:j=="mainnet-beta"?"Solana":j,blockExplorerUrl:l.solanaClusters[j].blockExplorerUrl,total:a?x?.total:g?.total,fee:a?x?.fee:g?.fee,balance:a?x?.balance:g?.balance,swap:g?.swap,transactingWalletAddress:N.address,disabled:!m?.hasFunds&&!T,isSubmitting:O,isPreparing:!m||A.isLoading,isTokenPriceLoading:a&&d,isMissingFunds:!m?.hasFunds,submitError:W??void 0,parseError:b,onClick:R?async()=>{if(N){if(!T)throw Error("Funding wallet is not enabled");r({...t,funding:{...t.funding,methodScreen:Fa}}),n(Fa)}}:async()=>{try{if(P(!0),O||!N||!o||!u||!U)return;let I=await t.sendSolanaTransaction.onConfirm();L(I)}catch(I){console.warn({transaction:c,error:I}),H(I)}finally{P(!1)}},onClose:C})}},Spt=({privy:t,appConfig:e,getAccessToken:r,isHeadlessSigning:n,emitPrivyEvent:i,setModalData:s,openModal:o,walletProxy:a,user:l,signWithUserSigner:u,recoverEmbeddedWallet:c,connectedExternalWallet:h},{transaction:m,connection:y,transactionOptions:b,fundWalletConfig:E,uiOptions:A,address:M,signOnly:O})=>new Promise((async(P,z)=>{let{requesterAppId:L}=A||{},W="sendSolanaTransaction",H=M?Xl(l,M):um(l);if(!H&&M&&h)try{{let F=await h.sendTransaction(m,y,b),U=await y.getParsedTransaction(F,{maxSupportedTransactionVersion:0}),j=sQ(F,m,U??null);return i(W,"onSuccess",{response:j}),void P(j)}}catch(F){throw i(W,"onError",Ee.TRANSACTION_FAILURE),z(F),F}if(!H)return i(W,"onError",Ee.EMBEDDED_WALLET_NOT_FOUND),void z(new be("No wallet found for address",Ee.EMBEDDED_WALLET_NOT_FOUND));if(!l)return i(W,"onError",Ee.MUST_BE_AUTHENTICATED),void z(new be("User must be authenticated before signing with a Privy wallet",Ee.MUST_BE_AUTHENTICATED));let G=ws(H);if(!await c({address:H.address}).catch((()=>!1)))throw i(W,"onError",Ee.EMBEDDED_WALLET_NOT_FOUND),new be(`Cannot sendSolanaTransaction before embedded wallet ${H.address} is connected`,Ee.EMBEDDED_WALLET_NOT_FOUND);let N=async()=>{let F=await r();if(!F||!a)throw i(W,"onError",Ee.EMBEDDED_WALLET_NOT_FOUND),z(new be("Must have valid access token and Privy wallet to send transaction",Ee.EMBEDDED_WALLET_NOT_FOUND)),new be("Must have valid access token and Privy wallet to send transaction",Ee.EMBEDDED_WALLET_NOT_FOUND);try{let U,j;if(!await c({address:H.address}))throw i(W,"onError",Ee.UNKNOWN_CONNECT_WALLET_ERROR),z(new be("Unable to connect to wallet",Ee.UNKNOWN_CONNECT_WALLET_ERROR)),new be("Unable to connect to wallet",Ee.UNKNOWN_CONNECT_WALLET_ERROR);if(n({showWalletUIs:A?.showWalletUIs})&&!O)try{if(!await lfe(m,y))throw i(W,"onError",Ee.INSUFFICIENT_BALANCE),z(new be("Solana wallet has insufficient funds for this transaction.",Ee.INSUFFICIENT_BALANCE)),new be("Solana wallet has insufficient funds for this transaction.",Ee.INSUFFICIENT_BALANCE)}catch(g){throw console.error(g),i(W,"onError",Ee.TRANSACTION_FAILURE),z(new be(g instanceof Error?g.message:"Transaction failed.",Ee.TRANSACTION_FAILURE)),new be(g instanceof Error?g.message:"Transaction failed.",Ee.TRANSACTION_FAILURE)}let{entropyId:_,entropyIdVerifier:d}=Hs(l);if(G){let g=ep(m)?Zs(m.message.serialize()):m.serializeMessage(),x=await Pa(t,u,{chain_type:"solana",method:"signMessage",params:{message:g.toString("base64"),encoding:"base64"},wallet_id:H.id});if(!x.data||!("signature"in x.data))throw Error("Failed to sign transaction");m.addSignature(VE(m,H.address),Zs(x.data.signature,"base64")),U=m}else U=await QN({accessToken:F,tx:m,walletProxy:a,entropyId:_,entropyIdVerifier:d,transactingWalletAddress:H.address,transactingWalletIndex:H.walletIndex??0});{let{signature:g,receipt:x}=await(async function({tx:C,connection:k,transactionOptions:T}){let R;try{let I=C.serialize();R=await k.sendRawTransaction(I,T);let f=await k.confirmTransaction(R);if(f.value.err||f.value.err){let S=f.value.err||f.value.err;throw typeof S=="string"?Error(S):S}return{signature:R,signedTransaction:C,receipt:await k.getParsedTransaction(R,{maxSupportedTransactionVersion:0})}}catch(I){throw I.txSignature=R,I}})({tx:U,connection:y,transactionOptions:b});j=sQ(g,m,x),i("sendSolanaTransaction","onSuccess",{response:j})}return P(j),j}catch(U){throw i(W,"onError",Ee.TRANSACTION_FAILURE),z(U),U}};if(n({showWalletUIs:A?.showWalletUIs}))N();else{let{entropyId:F,entropyIdVerifier:U}=Hs(l,H),j={recoveryMethod:H.recoveryMethod,connectingWalletAddress:H.address,entropyId:F,entropyIdVerifier:U,isUnifiedWallet:G,onCompleteNavigateTo:Apt,onFailure:d=>{i(W,"onError",Ee.UNKNOWN_CONNECT_WALLET_ERROR),z(d)}},_=N0e(e)?W0t({address:H.address,appConfig:e,methodScreen:Fa,fundWalletConfig:E,comingFromSendTransactionScreen:!0}):void 0;s({connectWallet:j,sendSolanaTransaction:{transactionRequest:m,connection:y,transactionOptions:b,transactingWallet:H,onConfirm:N,onSuccess:d=>{i("sendSolanaTransaction","onSuccess",{response:d}),P(d)},onFailure:d=>{i(W,"onError",Ee.TRANSACTION_FAILURE),z(d)},uiOptions:A||{},requesterAppId:L,signOnly:O},funding:_}),o(m0)}}));function Cpt(t){let e=fn(),{user:r}=Tm(),{setModalData:n}=jt(),{client:i,isHeadlessSigning:s,openModal:o,walletProxy:a,recoverEmbeddedWallet:l,privy:u,solanaWallets:c}=$t(),h=rf(),{signWithUserSigner:m}=FO();return op("sendSolanaTransaction",t),{sendTransaction:async({transaction:y,connection:b,uiOptions:E,transactionOptions:A,fundWalletConfig:M,address:O})=>{let P=O?c.find((z=>z.address===O&&z.walletClientType!=="privy")):void 0;return await Spt({privy:u,appConfig:e,getAccessToken:()=>i.getAccessToken(),isHeadlessSigning:s,emitPrivyEvent:h,setModalData:n,openModal:o,walletProxy:a,user:r,signWithUserSigner:m,recoverEmbeddedWallet:l,connectedExternalWallet:P},{transaction:y,connection:b,transactionOptions:A,uiOptions:E,fundWalletConfig:M,address:O,signOnly:!1})}}}const kpt=({style:t,color:e,...r})=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:e||"currentColor",style:{height:"1.5rem",width:"1.5rem",...t},...r,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),pD=t=>{let[e,r]=B.useState(!1);return w.jsxs(Ipt,{color:t.color,onClick:()=>{r(!0),navigator.clipboard.writeText(t.text),setTimeout((()=>r(!1)),1500)},$justCopied:e,children:[e?w.jsx(kpt,{style:{height:"14px",width:"14px"},strokeWidth:"2"}):w.jsx(Qfe,{style:{height:"14px",width:"14px"}}),e?"Copied":"Copy"," ",t.itemName?t.itemName:"to Clipboard"]})};let Ipt=he.button.withConfig({displayName:"StyledCopytoClipboardButton",componentId:"sc-46f4187f-0"})(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:",";font-weight:",";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:",";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"],(t=>t.$justCopied?"var(--privy-color-foreground)":t.color||"var(--privy-color-foreground-3)"),(t=>t.$justCopied?"medium":"normal"),(t=>t.$justCopied?"var(--privy-color-foreground)":"var(--privy-color-foreground-2)"));const Tpt=he.img.withConfig({displayName:"StyledLogo",componentId:"sc-68c1b1ea-0"})(["&&{height:",";width:",";border-radius:16px;margin-bottom:12px;}"],(t=>t.size==="sm"?"65px":"140px"),(t=>t.size==="sm"?"65px":"140px"));let $pt=({data:t})=>{let e=r=>typeof r=="object"&&r!==null?w.jsx(Mpt,{children:Object.entries(r).map((([n,i])=>w.jsxs("li",{children:[w.jsxs("strong",{children:[n,":"]})," ",e(i)]},n)))}):w.jsx("span",{children:String(r)});return w.jsx("div",{children:e(t)})};const rpe=he.div.withConfig({displayName:"Message",componentId:"sc-70ec2a4f-0"})(["margin-top:1.5rem;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);padding:12px;text-align:left;max-height:310px;overflow:scroll;white-space:pre-wrap;width:100%;font-size:0.875rem;font-weight:400;color:var(--privy-color-foreground);line-height:1.5;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]);let Mpt=he.ul.withConfig({displayName:"MessageList",componentId:"sc-70ec2a4f-1"})(["margin-left:12px !important;white-space:nowrap;&:first-child{margin-left:0 !important;}strong{font-weight:500 !important;}"]);const npe=({data:t,className:e})=>w.jsx(rpe,{className:e,children:w.jsx($pt,{data:t})});let Ppt=t=>{if(!ra(t))return t;try{let e=Bye(t);return e.includes("�")?t:e}catch{return t}},Npt=t=>JSON.stringify(t,null,2),Rpt=t=>{let{types:e,primaryType:r,...n}=t.typedData;return w.jsxs(w.Fragment,{children:[w.jsx(Dpt,{data:n}),w.jsx(pD,{text:Npt(t.typedData),itemName:"full payload to clipboard"})," "]})};const Opt=({method:t,messageData:e,copy:r,iconUrl:n,isLoading:i,success:s,walletProxyIsLoading:o,errorMessage:a,isCancellable:l,onSign:u,onCancel:c,onClose:h})=>w.jsx(on,{title:r.title,subtitle:r.description,showClose:!0,onClose:h,icon:oOe,iconVariant:"subtle",helpText:a?w.jsx(Lpt,{children:a}):void 0,primaryCta:{label:r.buttonText,onClick:u,disabled:i||s||o,loading:i},secondaryCta:l?{label:"Not now",onClick:c,disabled:i||s||o}:void 0,watermark:!0,children:w.jsxs(XL,{children:[n?w.jsx(Tpt,{style:{alignSelf:"center"},size:"sm",src:n,alt:"app image"}):null,w.jsxs(jpt,{children:[t==="personal_sign"&&w.jsx(VQ,{children:Ppt(e)}),t==="eth_signTypedData_v4"&&w.jsx(Rpt,{typedData:e}),t==="solana_signMessage"&&w.jsx(VQ,{children:e})]})]})}),rR={component:()=>{let{authenticated:t}=Kr(),{initializeWalletProxy:e,closePrivyModal:r}=$t(),{navigate:n,data:i,onUserCloseViaDialogOrKeybindRef:s}=jt(),[o,a]=B.useState(!0),[l,u]=B.useState(""),[c,h]=B.useState(),[m,y]=B.useState(null),[b,E]=B.useState(!1);B.useEffect((()=>{t||n(Ro)}),[t]),B.useEffect((()=>{e(mhe).then((G=>{a(!1),G||(u("An error has occurred, please try again."),h(new Fo(new Ty(l,Xc.E32603_DEFAULT_INTERNAL_ERROR.eipCode))))}))}),[]);let{method:A,data:M,confirmAndSign:O,onSuccess:P,onFailure:z,uiOptions:L}=i.signMessage,W={title:L?.title||"Sign message",description:L?.description||"Signing this message will not cost you any fees.",buttonText:L?.buttonText||"Sign and continue"},H=G=>{G?P(G):z(c||new Fo(new Ty("The user rejected the request.",Xc.E4001_USER_REJECTED_REQUEST.eipCode))),r({shouldCallAuthOnSuccess:!1}),setTimeout((()=>{y(null),u(""),h(void 0)}),200)};return s.current=()=>{H(m)},w.jsx(Opt,{method:A,messageData:M,copy:W,iconUrl:L?.iconUrl&&typeof L.iconUrl=="string"?L.iconUrl:void 0,isLoading:b,success:m!==null,walletProxyIsLoading:o,errorMessage:l,isCancellable:L?.isCancellable,onSign:async()=>{E(!0),u("");try{let G=await O();y(G),E(!1),setTimeout((()=>{H(G)}),li)}catch(G){console.error(G),u("An error has occurred, please try again."),h(new Fo(new Ty(l,Xc.E32603_DEFAULT_INTERNAL_ERROR.eipCode))),E(!1)}},onCancel:()=>H(null),onClose:()=>H(m)})}};let jpt=he.div.withConfig({displayName:"MessageContainer",componentId:"sc-21a0e112-0"})(["flex:1;display:flex;flex-direction:column;gap:16px;"]),Lpt=he.p.withConfig({displayName:"ErrorText",componentId:"sc-21a0e112-1"})(["&&{margin:0;width:100%;text-align:center;color:var(--privy-color-error-dark);font-size:14px;line-height:22px;}"]),Dpt=he(npe).withConfig({displayName:"StyledDisplayJsonTree",componentId:"sc-21a0e112-2"})(["margin-top:0;"]),VQ=he(rpe).withConfig({displayName:"StyledMessage",componentId:"sc-21a0e112-3"})(["margin-top:0;"]);function Bpt(t){let{isHeadlessSigning:e,walletProxy:r,initializeWalletProxy:n,recoverEmbeddedWallet:i,openModal:s,privy:o,solanaWallets:a,client:l}=$t(),{user:u}=Tm(),c=rf(),{setModalData:h}=jt(),{signWithUserSigner:m}=FO();return op("signSolanaMessage",t),{signMessage:({message:y,options:b})=>new Promise((async(E,A)=>{let M=b?.address?Xl(u,b.address):um(u);if(!M&&b?.address){let H=a.find((G=>G.address===b.address&&G.walletClientType!=="privy"));if(H)try{let G=await H.signMessage(y);c("signSolanaMessage","onSuccess",{signature:G}),E(G)}catch(G){c("signSolanaMessage","onError",Ee.UNABLE_TO_SIGN),A(G)}}if(!M)return c("signSolanaMessage","onError",Ee.UNABLE_TO_SIGN),void A(Error("No embedded or connected wallet found for address."));if(!u)return c("signSolanaMessage","onError",Ee.MUST_BE_AUTHENTICATED),void A(Error("User must be authenticated before signing with a Privy wallet"));let{entropyId:O,entropyIdVerifier:P}=Hs(u,M),z=ws(M),L=Zs(y).toString("base64");if(L.length<1)return c("signMessage","onError",Ee.INVALID_MESSAGE),void A(Error("Message must be a non-empty string"));let W=async()=>{let H;if(!u)throw Error("User must be authenticated before signing with a Privy wallet");let G=await l.getAccessToken();if(!G)throw Error("User must be authenticated to use their embedded wallet.");let N=r??await n(15e3);if(!N)throw Error("Failed to initialize embedded wallet proxy.");if(!await i({address:M.address}))throw Error("Unable to connect to wallet");if(z){let F=await Pa(o,m,{chain_type:"solana",method:"signMessage",params:{message:L,encoding:"base64"},wallet_id:M.id});if(!F.data||!("signature"in F.data))throw Error("Failed to sign message");H=F.data.signature}else{let{response:F}=await N.rpc({accessToken:G,entropyId:O,entropyIdVerifier:P,chainType:"solana",hdWalletIndex:M.walletIndex??0,request:{method:"signMessage",params:{message:L}}});H=F.data.signature}return H};if(e({showWalletUIs:b?.uiOptions?.showWalletUIs}))try{let H=await W(),G=new Uint8Array(Zs(H,"base64"));c("signSolanaMessage","onSuccess",{signature:G}),E(G)}catch(H){A(H)}else h({signMessage:{method:"solana_signMessage",data:L,confirmAndSign:W,onSuccess:H=>{let G=new Uint8Array(Zs(H,"base64"));c("signSolanaMessage","onSuccess",{signature:G}),E(G)},onFailure:H=>{A(H)},uiOptions:b?.uiOptions},connectWallet:{recoveryMethod:M.recoveryMethod,connectingWalletAddress:M.address,entropyId:O,entropyIdVerifier:P,isUnifiedWallet:z,onCompleteNavigateTo:rR,onFailure:H=>{c("signSolanaMessage","onError",Ee.UNKNOWN_CONNECT_WALLET_ERROR),A(H)}}}),s(m0)}))}}const d6=()=>{let{client:t,exportSolanaWallet:e,solanaWallets:r,walletProxy:n,recoverEmbeddedWallet:i,privy:s}=$t(),{sendTransaction:o}=Cpt(),{signMessage:a}=Bpt(),{create:l}=P0e(),{signWithUserSigner:u}=FO(),{user:c}=Tm(),{ready:h}=Ld(),m=B.useMemo((()=>{if(!n)return r;let y=[...die(c),X_(c)].filter((b=>!!b)).map((b=>({type:"solana",imported:b.imported,address:b.address,connectedAt:Date.now(),walletClientType:"privy",connectorType:"embedded",walletIndex:b.walletIndex??void 0,meta:{name:"Privy Wallet",icon:void 0,id:"io.privy.solana.wallet"},linked:!0,fund(){throw new be("'fund' is deprecated for Solana wallets - use 'fundWallet' instead")},unlink:()=>{throw new be("Cannot unlink an embedded Solana wallet")},async getProvider(){return new zft(n,b.address,this.signMessage)},signMessage:async E=>await a({message:E,options:{address:b.address,uiOptions:{showWalletUIs:!1}}}),async sendTransaction(E,A,M){let{signature:O}=await o({transaction:E,connection:A,transactionOptions:M,address:b.address});return O},async signTransaction(E){let A=await t.getAccessToken();if(!A||!n)throw new be("Must have valid access token and Privy wallet to send transaction",Ee.MUST_BE_AUTHENTICATED);if(!await i({address:b.address}).catch((()=>!1)))throw new be("Wallet couldn't be connected",Ee.UNKNOWN_CONNECT_WALLET_ERROR);let{entropyId:M,entropyIdVerifier:O}=Hs(c,b);if(ws(b)){let P=ep(E)?Zs(E.message.serialize()):E.serializeMessage(),z=await Pa(s,u,{chain_type:"solana",method:"signMessage",params:{message:P.toString("base64"),encoding:"base64"},wallet_id:b.id});if(z.data&&"signature"in z.data)return E.addSignature(VE(E,b.address),Zs(z.data.signature,"base64")),E;throw Error("Failed to sign transaction")}return await QN({tx:E,accessToken:A,walletProxy:n,entropyId:M,entropyIdVerifier:O,transactingWalletAddress:b.address,transactingWalletIndex:b.walletIndex??0})},async signAllTransactions(E){let A=await t.getAccessToken();if(!A||!n)throw new be("Must have valid access token and Privy wallet to send transaction",Ee.MUST_BE_AUTHENTICATED);if(!await i({address:b.address}).catch((()=>!1)))throw new be("Wallet couldn't be connected",Ee.UNKNOWN_CONNECT_WALLET_ERROR);let{entropyId:M,entropyIdVerifier:O}=Hs(c,b);if(ws(b))return await Promise.all(E.map((async P=>{let z=ep(P)?Zs(P.message.serialize()):P.serializeMessage(),L=await Pa(s,u,{chain_type:"solana",method:"signMessage",params:{message:z.toString("base64"),encoding:"base64"},wallet_id:b.id});if(L.data&&"signature"in L.data)return P.addSignature(VE(P,b.address),Zs(L.data.signature,"base64")),P;throw Error("Failed to sign transaction")})));for(let P of E)await QN({tx:P,accessToken:A,walletProxy:n,entropyId:M,entropyIdVerifier:O,transactingWalletAddress:b.address,transactingWalletIndex:b.walletIndex??0});return E},loginOrLink:async()=>{throw new be("Cannot login or link with an embedded Solana wallet")},disconnect:()=>{},isConnected:async()=>!0})));return r.concat(y)}),[c,n,t,r]);return{ready:!(!h||!n),createWallet:async y=>{y&&"target"in y&&y&&(y=void 0);let{account:b}=await l({chainType:"solana",options:y});return b},exportWallet:e,wallets:m}},t_={component:()=>{let{wallets:t}=Ld(),{wallets:e}=d6(),{data:r,setModalData:n,navigate:i,lastScreen:s}=jt(),{rpcConfig:o,appId:a,createAnalyticsEvent:l,closePrivyModal:u}=$t(),c=fn(),[h,m]=B.useState(void 0),[y,b]=B.useState(!1),E=Jw(),A=r?.funding,{reloadBalance:M}=M0e({rpcConfig:o,appId:a,address:A.chainType==="ethereum"?A.address:void 0,chain:A.chainType==="ethereum"?A.chain:void 0}),O=A.chainType==="solana",P=O?A.isUSDC?"USDC":"SOL":A.erc20Address?A.erc20ContractInfo?.symbol:A.chain.nativeCurrency.symbol,z=O?e.find((({address:F})=>F===A.address)):t.find((({address:F})=>Zo(F)===Zo(A.address)));if(!A)return n({errorModalData:{error:Error("Couldn't find funding config"),previousScreen:s||Fa},funding:r?.funding,sendTransaction:r?.sendTransaction}),i(ci),w.jsx(w.Fragment,{});B.useEffect((()=>{let F=O?async function(){if(A.chainType!=="solana")return;let j=E(u6);j?(A.isUSDC?j.getTokenBalance({address:A.address,cluster:A.cluster,mintAddress:Zx[A.cluster.name]}).then((({amount:_})=>_)):j.getBalance({address:A.address,cluster:A.cluster})).then((_=>{let d=BigInt(_);h&&d>h&&(b(!0),l({eventName:Au,payload:{provider:"manual",status:"success",chainType:"solana",address:z?.address,value:A.isUSDC?Ys(d-h,6):Ys(d-h,9),token:A.isUSDC?"USDC":"SOL"}})),m(d)})):console.warn("Unable to load solana plugin, skipping balance")}:async function(){A.chainType==="ethereum"&&(async()=>{if(!A.erc20Address)return await M()??BigInt(0);{let{balance:j}=await hD({chain:A.chain,address:A.address,erc20Address:A.erc20Address,rpcConfig:o,appId:a});return j}})().then((j=>{h&&j>h&&(b(!0),l({eventName:Au,payload:{provider:"manual",status:"success",chainType:"ethereum",address:z?.address,chainId:A.chain.id,value:Ys(j-h,A.erc20ContractInfo?.decimals??18),token:A.erc20ContractInfo?.symbol??A.erc20Address??"ETH"}})),m(j)})).catch((()=>m(void 0)))},U=setInterval(F,2e3);return F(),()=>clearInterval(U)}),[h]);let L=B.useMemo((()=>h==null?"":A.isUSDC?Uo({amount:h,decimals:6}):O?D0(h,3,!0,!0):A.erc20ContractInfo?.decimals!=null?Uo({amount:h,decimals:A.erc20ContractInfo.decimals}):N7e({wei:h})),[h,O,A]),W=A.chainType==="ethereum"?A.chain.name:Fpt[A.cluster.name],H=B.useMemo((()=>A.uiConfig?.receiveFundsTitle===""?null:w.jsx(Qh,{children:A.uiConfig?.receiveFundsTitle??`Receive ${A.amount} ${P??""}`.trim()})),[A.uiConfig?.receiveFundsTitle,A.amount,P]),G=B.useMemo((()=>A.uiConfig?.receiveFundsSubtitle===""?null:w.jsx(tp,{children:A.uiConfig?.receiveFundsSubtitle??`Scan this code or copy your wallet address to receive funds on ${W}.`})),[A.uiConfig?.receiveFundsSubtitle,W]),N=A.chainType==="solana"&&A.isUSDC&&Zx[A.cluster.name]?`?spl-token=${Zx[A.cluster.name]}`:"";return w.jsxs(w.Fragment,{children:[w.jsx(Wa,{}),H,G,w.jsxs(hA,{style:{gap:"1rem",margin:H||G?"1rem 0":"0"},children:[w.jsx(l6,{url:`${A.chainType}:${A.address}${N}`,size:200,squareLogoElement:Upt}),w.jsxs(T0e,{theme:c.appearance.palette.colorScheme,children:["Make sure to send funds on ",W,"."]}),w.jsx(kA,{title:"Your wallet",errMsg:void 0,showCopyButton:!0,balance:`${L} ${P}`,address:A.address}),y&&w.jsx(Mn,{onClick:()=>u({shouldCallAuthOnSuccess:!1,isSuccess:!0}),children:"Continue"})]}),w.jsx(nn,{})]})}};let Upt=({...t})=>w.jsx(Uhe,{color:"black",...t}),Fpt={devnet:"Devnet","mainnet-beta":"Solana",testnet:"Testnet"},zpt=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],Wpt=he.div.withConfig({displayName:"Container",componentId:"sc-b3a607dd-0"})(["display:flex;flex-direction:column;min-height:72px;"]);var qpt=({onBack:t,details:e})=>w.jsxs(Wpt,{children:[w.jsx(Or,{backFn:t}),w.jsx(npe,{data:e}),w.jsx(nn,{})]});let Hpt=({gasUsed:t,effectiveGasPrice:e})=>{if(t&&e)try{return _s(t*e)}catch{return}};const Vpt=({txn:t,receipt:e,transactionInfo:r,onClose:n,tokenPrice:i,tokenSymbol:s,receiptHeader:o,receiptDescription:a})=>w.jsxs(w.Fragment,{children:[w.jsx(Or,{onClose:n}),w.jsx(hut,{title:o??"Transaction complete!",description:a??"You're all set."}),w.jsx(yfe,{tokenPrice:i,from:e.from,to:e.to,gas:Hpt(e),txn:t,transactionInfo:r,tokenSymbol:s}),w.jsx(X0,{}),w.jsx(Kpt,{loading:!1,onClick:n,children:"All Done"}),w.jsx(Nl,{}),w.jsx(nn,{})]});let Kpt=he(Mn).withConfig({displayName:"SubmitButton",componentId:"sc-f70d0f7a-0"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]);const Gpt=[{constant:!1,inputs:[{name:"_salt",type:"bytes32"},{name:"_initializer",type:"bytes"}],name:"deployAccount",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Ypt=[{name:"from",type:"address"},{name:"param2",type:"address"},{name:"param3",type:"bytes"},{name:"param4",type:"tuple",components:[]},{type:"tuple",components:[{name:"param5",type:"address"},{name:"param6",type:"uint256"},{name:"param7",type:"uint256"},{name:"encodedInitData",type:"bytes"}]}],Zpt=[{constant:!1,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Qpt=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"payable",type:"function"}],Jpt=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Xpt=[{constant:!1,inputs:[{name:"_operator",type:"address"},{name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],egt=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],tgt=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenIds",type:"uint256[]"},{name:"_amounts",type:"uint256[]"},{name:"_data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],rgt=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"},{name:"_amount",type:"uint256"},{name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],ipe=(t,e)=>{let r=sh(Zpt,t);if(r)return{action:"approve",functionName:"approve",isErc20Ish:!0,isNFTIsh:!1,spender:r.args[0],amount:r.args[1]};let n=sh(JN,t);if(n)return{action:"transfer",functionName:"transfer",isErc20Ish:!0,isNFTIsh:!1,transferTo:n.args[0],amount:n.args[1]};if(!e)return{action:"transaction",functionName:"",isErc20Ish:!1,isNFTIsh:!1};let i=sh(Gpt,t);if(i&&typeof i.args[1]=="string"){let h=ngt(i.args[1]);if(h&&h[4].encodedInitData)return ipe(h[4].encodedInitData,e)}let s=sh(Xpt,t);if(s)return{action:"approve",functionName:"setApprovalForAll",isNFTIsh:!0,isErc20Ish:!1,operator:s.args[0],approved:s.args[1]};let o=sh(egt,t);if(o)return{action:"transfer",functionName:"transferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:o.args[0],transferTo:o.args[1],tokenId:o.args[2]};let a=sh(Jpt,t);if(a)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:a.args[0],transferTo:a.args[1],tokenId:a.args[2]};let l=sh(rgt,t);if(l)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:l.args[0],transferTo:l.args[1],tokenId:l.args[2],amount:l.args[3]};let u=sh(tgt,t);if(u)return{action:"batch transfer",functionName:"safeBatchTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:u.args[0],transferTo:u.args[1],tokenIds:u.args[2],amounts:u.args[3]};let c=sh(Qpt,t);return c?{action:"mint",functionName:c.functionName,isNFTIsh:!0,isErc20Ish:!1,args:c.args}:{action:"transaction",isErc20Ish:!1,isNFTIsh:!1}};let sh=(t,e)=>{try{let r=qee({abi:t,data:e});return{functionName:r.functionName,args:r.args||[]}}catch{return null}},ngt=t=>{try{if(typeof t=="string")return _w(Ypt,`0x${t.slice(10)}`)}catch{return null}},mT=t=>`${parseFloat(t).toFixed(2)}`;const igt=(t,e,r,n)=>{let[i,s]=B.useState(null),{walletProxy:o}=$t();return B.useEffect((()=>{i&&s(null),(async()=>{if(!o||!e)return null;let a=[],l=!0,u=await KE(t,r,e,n).catch((c=>(c.message&&c.message.includes("Insufficient balance for transaction")||c.details&&c.details.includes("insufficient funds")?l=!1:a.push(c),t)));return{tx:u,totalGasEstimate:u.gas,hasFunds:l,errors:a}})().then(s)}),[t]),i};let KQ=new Fo(new Ty("There was an issue preparing your transaction",Xc.E32603_DEFAULT_INTERNAL_ERROR.eipCode)),GQ=(t,e)=>t?.sendTransaction?"transactionRequest"in t.sendTransaction?t.sendTransaction.transactionRequest:t.sendTransaction.transactionRequests[e]:void 0;const spe={component:()=>{let{data:t,onUserCloseViaDialogOrKeybindRef:e,setModalData:r,navigate:n}=jt(),{client:i,rpcConfig:s,chains:o,closePrivyModal:a,walletProxy:l,showFiatPrices:u}=$t(),{user:c}=Kr(),h=fn(),[m,y]=B.useState(0),[b,E]=B.useState(0),[A,M]=B.useState(GQ(t,m)),[O,P]=B.useState(null),[z,L]=B.useState(),[W,H]=B.useState(!1),[G,N]=B.useState(null),[F,U]=B.useState(null),[j,_]=B.useState(null),[d,g]=B.useState(void 0),[x,C]=B.useState(void 0),[k,T]=B.useState(!1),[R,I]=B.useState(!1),[f,S]=B.useState([]),[K,D]=B.useState([]),[J,ne]=B.useState("uninitiated"),[ie,ce]=B.useState(void 0);if(!A||!t?.sendTransaction||!t?.sendTransaction)return w.jsx(a6,{error:Error("Invalid transaction request"),allowlistConfig:h.allowlistConfig,onRetry:()=>{t?.sendTransaction?.onFailure(KQ),a({shouldCallAuthOnSuccess:!1})}});let{transactingWalletAddress:Se}=t.sendTransaction,ye=B.useMemo((()=>o.find((Oe=>Number(Oe.id)===Number(A.chainId)))),[A.chainId]),Ae=ye?.nativeCurrency.symbol??"ETH",tt=B.useMemo((()=>ipe(A.data,!!h.embeddedWallets.extendedCalldataDecoding)),[A.data]),{action:Ce,isErc20Ish:je,isNFTIsh:mt,functionName:pe}=tt,{toAddress:Le,tokenAddress:Mt}=B.useMemo((()=>({toAddress:tt.isErc20Ish?tt.transferTo:A.to??void 0,tokenAddress:tt.isErc20Ish?A.to:void 0})),[tt]);B.useEffect((()=>{A.to&&ye&&je&&O0e({address:A.to,chain:ye,rpcConfig:h.rpcConfig,privyAppId:h.id}).then(P).catch(console.error)}),[A.to,ye]);let{tokenPrice:Ie,isTokenPriceLoading:Me}=Zw(A.chainId),{balance:ht}=M0e({rpcConfig:h.rpcConfig,appId:h.id,address:Se,chain:ye}),Je=(function({rpcConfig:Oe,appId:nt,address:hr,chain:Fe,tokenInfo:ct}){let{chains:Nr}=$t(),[dt,Y]=B.useState(null),[V,Z]=B.useState(!1),te=B.useMemo((()=>{let le=Fe||Nr[0];if(le)return Wh({chain:Fe,transport:qh(aAe(le,Oe,nt))})}),[Fe,Oe,nt]),ae=B.useCallback((async()=>{if(hr&&te&&ct.address)try{return Z(!0),await te.readContract({address:ct.address,abi:zpt,functionName:"balanceOf",args:[hr]})}catch(le){console.error(le)}finally{Z(!1)}}),[te,hr,ct?.address,Fe]);return B.useEffect((()=>{ae().then((le=>le!=null&&Y(le)))}),[ae]),{balance:dt,isLoading:V&&dt==null,formattedBalance:Uo({amount:dt??BigInt(0),decimals:ct.decimals})}})({rpcConfig:h.rpcConfig,appId:h.id,address:Se,tokenInfo:{address:Mt||"",decimals:O?.decimals??18},chain:ye}),De=B.useMemo((()=>uw(Number(A.chainId),o,s,{appId:h.id})),[A.chainId,s]),At=igt(A,Se,De,t?.sendTransaction?.prepareTransactionRequest);B.useEffect((()=>{M(GQ(t,m))}),[m]),B.useEffect((()=>{t.sendTransaction?.getIsSponsored?t.sendTransaction.getIsSponsored().then(L).catch(console.error):L(!1)}),[t.sendTransaction.getIsSponsored]);let it=()=>{if(!W)return G?t?.sendTransaction?.onSuccess({hash:G}):j||At?.errors[0]?t?.sendTransaction?.onFailure(j??At?.errors[0]??KQ):t?.sendTransaction?.onFailure(new Fo(new Ty("The user rejected the request",Xc.E4001_USER_REJECTED_REQUEST.eipCode))),a({shouldCallAuthOnSuccess:!1})};e.current=it;let et=!!(t.funding&&t.funding.supportedOptions.length>0),St=lu(BigInt(At?.totalGasEstimate??0n),Ae),Xe=u&&Ie?$g(BigInt(At?.totalGasEstimate??0n),Ie):void 0,se=lu(ht??0n,Ae,void 0,!0),X=u&&Ie?$g(ht??0n,Ie):void 0,ee=O&&!Je.isLoading&&je&&Ce!=="approve"?`${Je.formattedBalance} ${O.symbol}`:void 0,oe=t.sendTransaction?.uiOptions?.transactionInfo?.title;oe||(oe=Ce==="approve"?je?"Confirm address":"Confirm action":`Approve ${Ce}`);let ge=B.useMemo((()=>{if(t.sendTransaction?.uiOptions?.description)return t.sendTransaction?.uiOptions?.description;if(Ce==="approve"&&pe==="setApprovalForAll"&&tt.approved){let Oe=w.jsx(Vr,{address:tt.operator||"",url:ye?.blockExplorers?.default?.url});return w.jsxs(w.Fragment,{children:[h.name," would like your permission for ",Oe," to transfer tokens on your behalf."]})}if(Ce==="approve"&&pe==="setApprovalForAll"&&!tt.approved){let Oe=w.jsx(Vr,{address:tt.operator||"",url:ye?.blockExplorers?.default?.url});return w.jsxs(w.Fragment,{children:[h.name," would like your permission to revoke permissions of ",Oe," from transferring tokens on your behalf."]})}return je&&Ce==="approve"||je&&Ce==="approve"?`${h.name} would like your permission for ${Zo(tt.spender)} to spend tokens on your behalf.`:`${h.name} wants your permission to approve the following transaction.`}),[h.name,je,tt,t.sendSolanaTransaction?.uiOptions.description,pe]),fe=t.sendTransaction?.uiOptions?.transactionInfo?.contractInfo?.imgUrl?w.jsx("img",{src:t.sendTransaction.uiOptions.transactionInfo.contractInfo.imgUrl,alt:t.sendTransaction.uiOptions.transactionInfo.contractInfo.imgAltText}):null,ve=!(!At||At.errors[0]||At.hasFunds||z!==!1),ut=ve&&et,Pe=ut?"Add funds":t.sendTransaction?.uiOptions?.buttonText||(m<b?"Continue":"Approve"),Ye=Oe=>{if(!Oe)throw Error("Transaction scan failed");if(Oe.validation.status==="Success"&&(Oe.validation.result_type==="Benign"?C("safe"):Oe.validation.result_type==="Warning"?C("warn"):Oe.validation.result_type==="Malicious"&&(C("error"),I(!0))),Oe.simulation.status!=="Success")throw Error("Simulation failed");{g(Oe.simulation.params);let{assetsIn:nt,assetsOut:hr}=(function(Fe,ct){let Nr=[],dt=new Map;if(Fe){for(let Y of Fe)if(Y.in[0]){let V;V=Y.asset.type==="ERC721"||Y.in[0].value==="approve_for_all"?{id:`nft:${Y.asset.name}`,nftName:Y.asset.name,nftCount:Y.in.length}:{id:`token:${Y.asset.type}:${Y.asset.symbol}:${Y.asset.name}`,iconUrl:Y.asset.logo_url,value:Y.in[0].value,symbol:Y.asset.symbol,usdValue:Y.in[0].usd_price?mT(Y.in[0].usd_price):void 0,decimals:Y.asset.decimals},Nr.push(V)}else if(Y.out[0]?.value){let V;V=Y.asset.type==="ERC721"||Y.out[0].value==="approve_for_all"?{id:`nft:${Y.asset.name}`,nftName:Y.asset.name}:{id:`token:${Y.asset.type}:${Y.asset.symbol}:${Y.asset.name}`,iconUrl:Y.asset.logo_url,value:Y.out[0].value,symbol:Y.asset.symbol,usdValue:Y.out[0].usd_price?mT(Y.out[0].usd_price):void 0,decimals:Y.asset.decimals},dt.has(V.id)||dt.set(V.id,V)}}for(let Y of ct)for(let V of Object.keys(Y.spenders)){let Z;Z=Y.asset.type==="ERC721"||Y.spenders[V]?.value==="approve_for_all"?{id:`nft:${Y.asset.name}`,nftName:Y.asset.name}:{id:`token:${Y.asset.type}:${Y.asset.symbol}:${Y.asset.name}`,iconUrl:Y.asset.logo_url,value:Y.spenders[V]?.value,symbol:Y.asset.symbol,usdValue:Y.spenders[V]?.usd_price?mT(Y.spenders[V]?.usd_price):void 0,decimals:Y.asset.decimals},dt.has(Z.id)||dt.set(Z.id,Z)}return{assetsIn:Nr,assetsOut:Array.from(dt.values())}})(Oe.simulation.assets_diffs,Oe.simulation.exposures);if(hr.length===0&&nt.length===0)throw Error("No tokens found");S(hr),D(nt)}};if(B.useEffect((()=>{t.sendTransaction?.scanTransaction&&h.embeddedWallets.transactionScanning.enabled&&J==="uninitiated"&&(ne("in progress"),t.sendTransaction.scanTransaction().then((Oe=>{Ye(Oe),ne("completed")})).catch((()=>ne("failed"))))}),[!!t.sendTransaction?.scanTransaction]),B.useEffect((()=>{t.sendTransaction?.scanTransaction&&J!=="failed"||((Oe,nt,hr)=>{if(E((Fe=>Fe?.sendTransaction?"transactionRequest"in Fe.sendTransaction?0:Fe.sendTransaction.transactionRequests.length-1:0)(t)),nt.isErc20Ish&&nt.amount&&hr){let Fe=e_({amount:nt.amount,decimals:hr.decimals});ce(Fe),S([{value:Fe,symbol:hr?.symbol,decimals:hr?.decimals}])}else if(Oe.value){let Fe=BigInt(Oe.value),ct=Ie?$g(Fe,Ie):void 0;S(u&&ct?[{value:ct}]:[{value:ofe(Fe),symbol:Ae,decimals:18,usdValue:ct}])}else S(u?[{value:"$0"}]:[{value:"0",symbol:Ae,decimals:18}])})(At?.tx??A,tt,O)}),[A,At?.tx,tt,O,J]),F)return w.jsx(Vpt,{txn:At?.tx??A,onClose:it,receipt:F,transactionInfo:t.sendTransaction?.uiOptions.transactionInfo,tokenPrice:Ie,tokenSymbol:Ae,receiptHeader:t.sendTransaction?.uiOptions.successHeader,receiptDescription:t.sendTransaction?.uiOptions.successDescription});if(j)return w.jsx(tpe,{transactionError:j,transactionHash:G??void 0,network:"ethereum",chainId:At?.tx.chainId??A.chainId,onClose:it,onRetry:({resetNonce:Oe})=>{_(null);let nt={...At?.tx??A};Oe&&(nt.nonce=void 0),M(nt)}});let Ut=b!==0&&typeof m=="number"&&m!==0?()=>{y(m-1)}:void 0;return k&&d?w.jsx(qpt,{details:d,onBack:()=>T(!1)}):w.jsx(opt,{transactionIndex:m,onBack:Ut,maxIndex:b,disabled:ve&&!et||R,isSubmitting:W,submitError:j,isPreparing:!At,isTokenPriceLoading:Me,isTokenContractInfoLoading:!mt&&!O,prepareError:At?.errors[0],symbol:O?.symbol,chain:ye,img:fe,title:oe,subtitle:ge,txValue:A.value,fee:Xe??St,isSponsored:z,from:Se??"",to:Le,tokenAddress:Mt??void 0,network:h.chains.find((Oe=>Oe.id===A.chainId))?.name??"",transactionDetails:{...tt,formattedAmount:ie},cta:Pe,missingFunds:ve,action:Ce,balance:ee??X??se,onClose:it,onClick:ut?async()=>{if(Se){if(!et)throw Error("Funding wallet is not enabled");r({...t,funding:{...t.funding,methodScreen:Fa,chainType:"ethereum",amount:om(BigInt(At?.tx.value??0)+BigInt(At?.totalGasEstimate?.toString()??0)),chain:ye}}),n(Fa)}}:async()=>{if(m<b)y(m+1);else{H(!0);try{let Oe=await i.getAccessToken();if(W||!Oe||!l||!c)return;let nt=await t.sendTransaction.onConfirm({transactionRequest:At?.tx??A});if(N(nt),t.sendTransaction?.signOnly)return await new Promise((Fe=>setTimeout(Fe,li))),t?.sendTransaction?.onSuccess({hash:nt}),a({shouldCallAuthOnSuccess:!1});let hr=await De.waitForTransactionReceipt({hash:nt});if(hr.status==="reverted")throw Error("Transaction failed");U(hr)}catch(Oe){console.warn({transaction:At?.tx??A,error:Oe}),_(Oe)}finally{H(!1)}}},validation:x,hasScanDetails:!!d,setIsScanDetailsOpen:T,preventMaliciousTransaction:R,setPreventMaliciousTransaction:I,tokensSent:f,tokensReceived:K,isScanning:J==="in progress",isCancellable:t.sendTransaction?.uiOptions?.isCancellable??!1,functionName:pe})}};function Wa({title:t}){let{currentScreen:e,navigateBack:r,navigate:n,data:i,setModalData:s}=jt();return w.jsx(Or,{title:t,backFn:e===t_?r:e===i?.funding?.methodScreen?i.funding.comingFromSendTransactionScreen?()=>n(spe):void 0:i?.funding?.methodScreen?()=>{let o=i.funding;o.usingDefaultFundingMethod&&(o.usingDefaultFundingMethod=!1),s({funding:o}),n(o.methodScreen)}:void 0})}const ope={component:()=>{let{rpcConfig:t,appId:e,closePrivyModal:r,createAnalyticsEvent:n}=$t(),{navigate:i,setModalData:s,app:o,data:a}=jt(),{wallets:l}=Ld(),u=Jw(),[c,h]=B.useState(null),[m,y]=B.useState(null),[b,E]=B.useState([]),[A,M]=B.useState(0),[O,P]=B.useState(!1),[z,L]=B.useState(!1),[W,H]=B.useState(!1),[G,N]=B.useState(!1),[F,U]=B.useState(),[j,_]=B.useState();if(!a?.funding||a.funding.chainType!=="solana")throw Error("Invalid funding data");let{address:d,cluster:g,connectedWalletAddress:x}=a.funding,[C,k]=B.useState(a.funding.amount),T=x?l.find((({address:tt})=>tt===x)):l[0],R=tf(T?.walletClientType||"unknown"),I=R?.name||"wallet",[f,S]=B.useState(null);B.useEffect((()=>{(async()=>{if(!T)return;let tt=await T.getEthereumProvider();S(Ore({account:T.address,transport:Lre(tt)}).extend(vO))})().catch(console.error)}),[T]);let[K,D]=B.useState(0n),J=D0(K);B.useEffect((()=>{let tt=u(u6);tt?tt.getBalance({address:d,cluster:g}).then((Ce=>D(BigInt(Ce)))):console.warn("Unable to load solana plugin, skipping balance")}),[]);let[ne,ie]=B.useState(),{tokenPrice:ce}=Zw("solana"),{fundingAmountInBaseUnit:Se,fundingAmountInUsd:ye}=afe({amount:C,fee:0n,tokenPrice:ce,isUsdc:a.funding.isUSDC});if(B.useEffect((()=>{(async()=>{if(!f||!T)return;let tt=["testnet","devnet"].includes(g.name);tt&&console.warn("Solana testnets are not supported for bridging");let Ce=_O(o.chains).filter((({testnet:Mt})=>!!Mt===tt)),je=(await D0e({chains:Ce,address:T.address,appId:e,rpcConfig:t})).filter((Mt=>Mt.balance>0n));if(je.length<1)return void h(new be(`Wallet ${Zo(T.address)} does not have enough funds.`,void 0,Ee.INSUFFICIENT_BALANCE));je.sort(((Mt,Ie)=>Number(Ie.balance-Mt.balance)));let mt=(await Promise.allSettled(je.map((async Mt=>({...Mt,quote:await p5({isTestnet:!1,input:My({amount:Se.toString(),user:T.address,recipient:d,destinationChainId:PN,destinationCurrency:NN,originChainId:Mt.chain.id})})}))))).filter((Mt=>Mt.status==="fulfilled")).map((Mt=>Mt.value));if(mt.length<1)return void h(new be(`Unable to fetch quotes for bridging. Wallet ${Zo(T.address)} does not have enough funds.`,void 0,Ee.INSUFFICIENT_BALANCE));let pe=mt.map((({quote:Mt,balance:Ie,chain:Me})=>({bridgeTx:QE(Mt),balance:Ie,chain:Me,isErc20Quote:!1}))).filter((({bridgeTx:Mt})=>!!Mt));if(pe.length>1)return void E(pe);let Le=pe.at(0);Le?(L(!0),ie({data:Le.bridgeTx.data,to:Le.bridgeTx.to,value:Le.bridgeTx.value,chain:Le.chain})):h(new be(`Unable to select bridge option from quotes. Wallet ${Zo(T.address)} does not have enough funds.`,void 0,Ee.INSUFFICIENT_BALANCE))})().catch(console.error)}),[f]),B.useEffect((()=>{(async()=>{let tt,Ce;if(!f||!T||O||W||!ne)return;P(!0);let je=Wh({chain:ne.chain,transport:qh(Gh(ne.chain,t,e))});try{tt=await je.prepareTransactionRequest({account:T.address,to:ne.to,chain:ne.chain,data:ne.data,value:BigInt(ne.value??0)})}catch(mt){console.error(mt),b.length>1&&y(mt.shortMessage??"Something went wrong")}if(tt){P(!1),H(!0);try{await f.switchChain({id:ne.chain.id})}catch{await f.addChain({chain:ne.chain}),await f.switchChain({id:ne.chain.id})}try{Ce=await f.sendTransaction(tt)}catch(mt){console.error(mt),mt.name==="TransactionExecutionError"&&(b.length<1?h(new be(mt.shortMessage,void 0,Ee.TRANSACTION_FAILURE)):y(mt.shortMessage??"Something went wrong"))}if(Ce)return await f.waitForTransactionReceipt({hash:Ce}),z?(_("pending"),void U(Ce)):(H(!1),N(!0),void n({eventName:Au,payload:{provider:"external",status:"success",txHash:Ce,address:T.address,chainId:ne.chain.id,chainType:"ethereum",value:ne.value?Ys(BigInt(ne.value),18):void 0,token:"ETH",destination:d,destinationClusterName:"mainnet-beta",destinationChainType:"solana",destinationValue:Ys(Se,9),destinationToken:"SOL"}}));H(!1)}else P(!1)})().catch(console.error)}),[f,ne]),dD({transactionHash:F,wallet:T,isTestnet:!1,bridgingStatus:j,setBridgingStatus:_,onSuccess({transactionHash:tt,wallet:Ce}){L(!1),N(!0),n({eventName:Au,payload:{provider:"external",status:"success",txHash:tt,address:Ce.address,chainId:ne?.chain.id,chainType:"ethereum",value:ne?.value?Ys(BigInt(ne.value),18):void 0,token:"ETH",destination:d,destinationClusterName:"mainnet-beta",destinationChainType:"solana",destinationValue:Ys(Se,9),destinationToken:"SOL"}})},onFailure({error:tt}){L(!1),h(tt)}}),B.useEffect((()=>{c&&(s({funding:a?.funding,sendTransaction:a?.sendTransaction,errorModalData:{error:c,previousScreen:e2}}),i(ci,!1))}),[c]),B.useEffect((()=>{if(!G)return;let tt=setTimeout(r,oA);return()=>clearTimeout(tt)}),[G]),G)return w.jsxs(w.Fragment,{children:[w.jsx(Wa,{}),w.jsx(Tu,{}),w.jsxs(i6,{children:[w.jsx(Gw,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),w.jsx(Tl,{title:"Success!",description:`You’ve successfully added ${C} SOL to your ${o.name} wallet. It may take a minute before the funds are available to use.`})]}),w.jsx(Nl,{}),w.jsx(nn,{})]});let Ae=b[A];return b.length>1&&Ae?w.jsx(H0e,{displayName:I,configuredFundingChain:g,formattedBalance:J,fundingAmount:C,fundingCurrency:"SOL",fundingAmountInUsd:ye,options:b,selectedOption:Ae,isPreparing:O,isSubmitting:W,addressToFund:d,fundingWalletAddress:T?.address||"",errorMessage:m,onSubmit:()=>{a.funding?.amount!==C?(async function(){if(T&&Ae)try{let tt=await p5({isTestnet:!1,input:My({amount:Se.toString(),user:T.address,recipient:d,destinationChainId:PN,destinationCurrency:NN,originChainId:Ae.chain.id})}),Ce=QE(tt);if(!Ce)throw Error("Invalid transaction request");L(!0),ie({data:Ce.data,to:Ce.to,value:Ce.value,chain:Ae.chain})}catch(tt){console.error(tt),h(new be("Unable to fetch quotes for bridging",tt,Ee.INSUFFICIENT_BALANCE))}})().catch(console.error):ie({to:Ae.bridgeTx.to,data:Ae.bridgeTx.data,value:Ae.bridgeTx.value,chain:Ae.chain})},onSelect:tt=>{tt!==A&&(y(null),M(tt))},onAmountChange:k}):W&&T?w.jsx(IA,{wallet:T,displayName:I,addressToFund:d,isBridging:z,isErc20Flow:!1,chainId:"solana",chainName:g.name,totalPriceInUsd:void 0,totalPriceInNativeCurrency:void 0,gasPriceInUsd:void 0,gasPriceInNativeCurrency:void 0}):w.jsxs(w.Fragment,{children:[w.jsx(Wa,{}),w.jsx(Cm,{}),w.jsx("div",{style:{marginTop:"1rem"}}),w.jsx(nn,{})]})}},yT=new Map([[Fa,null],[e2,"external"],[V0e,"external"],[L0e,"external"],[ope,"external"],[K0e,"external"],[t_,"manual"],[G0e,"moonpay"]]),sgt=()=>{let t=fn(),{user:e}=Kr(),{client:r,refreshSessionAndUser:n,walletProxy:i}=$t();return{migrate:B.useCallback((async()=>{if(t.embeddedWallets.mode==="legacy-embedded-wallets-only")return{success:!0};if(!e)throw new be("User must be authenticated before migrating wallets",Ee.MUST_BE_AUTHENTICATED);let s=lc(e);if(!s||ws(s)||!hw(s))return{success:!0};if(!i)throw new be("Cannot connect to wallet proxy");let o=await r.getAccessToken();if(!o)throw new be("User must be authenticated before migrating wallets",Ee.MUST_BE_AUTHENTICATED);let a=s.imported?[s]:e.linkedAccounts.filter((c=>c.type==="wallet"&&c.walletClientType==="privy"&&!c.imported)).filter(hw),{entropyId:l,entropyIdVerifier:u}=Hs(e,s);try{await i.connect({accessToken:o,entropyId:l,entropyIdVerifier:u})}catch(c){if(!f5(c)||s.recoveryMethod!=="privy")throw c;await i.recover({accessToken:o,entropyId:l,entropyIdVerifier:u})}return await i.createDelegatedAction({accessToken:o,rootWallet:{address:s.address,chainType:s.chainType,imported:s.imported},delegatedWallets:a}),await n(),{success:!0}}),[t.embeddedWallets.mode,e,i,r,n])}},ogt=({disabled:t})=>{let{migrate:e}=sgt(),{user:r}=Kr(),{walletProxy:n}=$t();return B.useEffect((()=>{!t&&r&&n&&e().catch((i=>{console.debug("Unable to migrate wallets: ",i)}))}),[r,n,t,e]),null},agt=t=>({id:t.id,raw_id:t.rawId,response:{client_data_json:t.response.clientDataJSON,authenticator_data:t.response.authenticatorData,signature:t.response.signature,user_handle:t.response.userHandle},authenticator_attachment:t.authenticatorAttachment,client_extension_results:{app_id:t.clientExtensionResults.appid,cred_props:t.clientExtensionResults.credProps,hmac_create_secret:t.clientExtensionResults.hmacCreateSecret},type:t.type});function ape(t){let{logout:e}=B.useContext(dm);return op("logout",t),{logout:e}}const lgt=({providerApp:t,success:e,error:r,onClose:n})=>{let{title:i,subtitle:s}=B.useMemo((()=>e?{title:`Successfully connected with ${t.name}`,subtitle:"You're good to go!"}:r?{title:"Authentication failed",subtitle:r.message}:{title:`Connecting to ${t.name}`,subtitle:`Please check the pop-up from ${t.name} to continue`}),[e,r,t.name]);return w.jsx(on,{title:i,subtitle:s,icon:t.logoUrl,iconVariant:"loading",iconLoadingStatus:{success:e,fail:!!r},onBack:n,watermark:!0})},cgt={component:()=>{let t=fn(),{data:e,navigate:r,setModalData:n,onUserCloseViaDialogOrKeybindRef:i}=jt(),{crossAppAuthFlow:s,updateWallets:o,closePrivyModal:a,createAnalyticsEvent:l}=$t(),{logout:u}=ape(),[c,h]=B.useState({}),m=e?.crossAppAuth,y={id:m.appId,name:m.name,logoUrl:m.logoUrl},b=new be(`There was an issue connecting your ${y.name} account. Please try again.`),E=new Yo((async M=>{if(m.popup)try{let O=await s({appId:M,popup:m.popup,action:m.action});h({data:O})}catch(O){if(O instanceof be)h({error:O});else if(O instanceof hl){if(O.privyErrorCode===Ee.ACCOUNT_TRANSFER_REQUIRED&&O.data?.data?.nonce)return n({accountTransfer:{nonce:O.data?.data?.nonce,account:O.data?.data?.subject,displayName:O.data?.data?.account?.displayName,linkMethod:`privy:${y.id}`,embeddedWalletAddress:O.data?.data?.otherUser?.embeddedWalletAddress,oAuthUserInfo:O.data?.data?.otherUser?.oAuthUserInfo}}),void r(km);m.popup&&m.popup.close(),h({error:b})}else h({error:b})}else h({error:b})})),A=()=>{c.data&&(o(),m.onSuccess(c.data),a({shouldCallAuthOnSuccess:!0,isSuccess:!0})),m.onError(c.error??new be("User canceled flow")),a({shouldCallAuthOnSuccess:!1,isSuccess:!1})};return i.current=A,B.useEffect((()=>{y.id.length&&E.execute(y.id)}),[y.id]),B.useEffect((()=>{if(!c.data)return;let M=c.data;if(t.legal.requireUsersAcceptTerms&&!M.hasAcceptedTerms){let P=setTimeout((()=>{r(Im)}),li);return()=>clearTimeout(P)}if(cp(M,t.embeddedWallets)){let P=setTimeout((()=>{n({createWallet:{onSuccess:()=>{},onFailure:z=>{console.error(z),l({eventName:"embedded_wallet_creation_failure_logout",payload:{error:z,provider:`privy:${y.id}`,screen:"CrossAppAuthScreen"}}),u()},callAuthOnSuccessOnClose:!0}}),r(nf)}),li);return()=>clearTimeout(P)}let O=setTimeout(A,li);return()=>clearTimeout(O)}),[c.data]),w.jsx(lgt,{providerApp:y,success:!!c.data,error:c.error,onClose:A})}},ugt=({appName:t,address:e,success:r,error:n,onAccept:i,onDecline:s,onClose:o})=>w.jsx(on,r||n?{title:n?"Something went wrong":"Success!",subtitle:n?"Please try again.":`You've successfully granted delegated action permissions to ${t}.`,icon:n?eae:W5,iconVariant:n?"error":"success",onBack:o,watermark:!0}:{title:"Enable offline access",subtitle:`By confirming, ${t} will be able to use your wallet for you even when you're not around. You can revoke this later.`,icon:nOe,primaryCta:{label:"Accept",onClick:i},secondaryCta:{label:"Not now",onClick:s},onBack:o,watermark:!0,children:w.jsx(kA,{address:e,title:"Wallet"})}),dgt={component:()=>{let{app:t,data:e}=jt(),{closePrivyModal:r}=$t(),[n,i]=B.useState(!1),[s,o]=B.useState(),{address:a,onDelegate:l,onSuccess:u,onError:c}=e.delegatedActions.consent,h=async()=>{n?u():c(s??new be("User declined delegating actions.")),r({shouldCallAuthOnSuccess:!1})};return B.useEffect((()=>{if(!n&&!s)return;let m=setTimeout(h,RL);return()=>clearTimeout(m)}),[n,s]),w.jsx(ugt,{appName:t.name,address:a,success:n,error:s,onAccept:async()=>{try{await l(),i(!0)}catch(m){o(m)}},onDecline:()=>{h()},onClose:h})}},hgt=({appName:t,success:e,error:r,onRevoke:n,onDeny:i,onClose:s})=>w.jsx(on,e||r?{title:r?"Something went wrong":"Success!",subtitle:r?"Please try again.":"You've successfully revoked permissions.",icon:r?eae:W5,iconVariant:r?"error":"success",onBack:s,watermark:!0}:{title:"Revoke offline access to wallet",subtitle:`By confirming, ${t} will no longer be able to use this wallet on your behalf when you are not online.`,icon:eOe,primaryCta:{label:"Confirm",onClick:n},secondaryCta:{label:"Deny",onClick:i},onBack:s,watermark:!0}),fgt={component:()=>{let{app:t,data:e}=jt(),{closePrivyModal:r}=$t(),[n,i]=B.useState(!1),[s,o]=B.useState(),{onRevoke:a,onSuccess:l,onError:u}=e.delegatedActions.revoke,c=async()=>{n?l():u(s??new be("User declined revoking access to their delegated wallet.")),r({shouldCallAuthOnSuccess:!1})};return B.useEffect((()=>{if(!n&&!s)return;let h=setTimeout(c,RL);return()=>clearTimeout(h)}),[n,s]),w.jsx(hgt,{appName:t.name,success:n,error:s,onRevoke:async()=>{try{await a(),i(!0)}catch(h){o(h)}},onDeny:()=>{c()},onClose:c})}};let YQ="#8a63d2";const pgt=({appName:t,loading:e,success:r,errorMessage:n,connectUri:i,onBack:s,onClose:o,onOpenFarcaster:a})=>w.jsx(on,hn.isMobile||e?hn.isIOS?{title:n?n.message:"Add a signer to Farcaster",subtitle:n?n.detail:`This will allow ${t} to add casts, likes, follows, and more on your behalf.`,icon:Mg,iconVariant:"loading",iconLoadingStatus:{success:r,fail:!!n},primaryCta:i&&a?{label:"Open Farcaster app",onClick:a}:void 0,onBack:s,onClose:o,watermark:!0}:{title:n?n.message:"Requesting signer from Farcaster",subtitle:n?n.detail:"This should only take a moment",icon:Mg,iconVariant:"loading",iconLoadingStatus:{success:r,fail:!!n},onBack:s,onClose:o,watermark:!0,children:i&&hn.isMobile&&w.jsx(ggt,{children:w.jsx(l0e,{text:"Take me to Farcaster",url:i,color:YQ})})}:{title:"Add a signer to Farcaster",subtitle:`This will allow ${t} to add casts, likes, follows, and more on your behalf.`,onBack:s,onClose:o,watermark:!0,children:w.jsxs(mgt,{children:[w.jsx(ygt,{children:i?w.jsx(l6,{url:i,size:275,squareLogoElement:Mg}):w.jsx(bgt,{children:w.jsx(gc,{})})}),w.jsxs(wgt,{children:[w.jsx(vgt,{children:"Or copy this link and paste it into a phone browser to open the Farcaster app."}),i&&w.jsx(pD,{text:i,itemName:"link",color:YQ})]})]})});let ggt=he.div.withConfig({displayName:"MobileLinkContainer",componentId:"sc-da518e1f-0"})(["margin-top:24px;"]),mgt=he.div.withConfig({displayName:"ContentContainer",componentId:"sc-da518e1f-1"})(["display:flex;flex-direction:column;align-items:center;gap:24px;"]),ygt=he.div.withConfig({displayName:"QrContainer",componentId:"sc-da518e1f-2"})(["padding:24px;position:relative;display:flex;align-items:center;justify-content:center;min-height:275px;"]),wgt=he.div.withConfig({displayName:"InstructionsContainer",componentId:"sc-da518e1f-3"})(["display:flex;flex-direction:column;align-items:center;gap:16px;"]),vgt=he.div.withConfig({displayName:"InstructionText",componentId:"sc-da518e1f-4"})(["font-size:0.875rem;text-align:center;color:var(--privy-color-foreground-2);"]),bgt=he.div.withConfig({displayName:"LoaderWrapper",componentId:"sc-da518e1f-5"})(["position:relative;width:82px;height:82px;"]);const xgt={component:()=>{let{lastScreen:t,navigateBack:e,data:r,app:n}=jt(),{requestFarcasterSignerStatus:i,closePrivyModal:s}=$t(),[o,a]=B.useState(void 0),[l,u]=B.useState(!1),[c,h]=B.useState(!1),m=B.useRef([]),y=r?.farcasterSigner;B.useEffect((()=>{let E=Date.now(),A=setInterval((async()=>{if(!y?.public_key)return clearInterval(A),void a({retryable:!0,message:"Connect failed",detail:"Something went wrong. Please try again."});y.status==="approved"&&(clearInterval(A),u(!1),h(!0),m.current.push(setTimeout((()=>s({shouldCallAuthOnSuccess:!1,isSuccess:!0})),li)));let M=await i(y?.public_key),O=Date.now()-E;M.status==="approved"?(clearInterval(A),u(!1),h(!0),m.current.push(setTimeout((()=>s({shouldCallAuthOnSuccess:!1,isSuccess:!0})),li))):O>3e5?(clearInterval(A),a({retryable:!0,message:"Connect failed",detail:"The request timed out. Try again."})):M.status==="revoked"&&(clearInterval(A),a({retryable:!0,message:"Request rejected",detail:"The request was rejected. Please try again."}))}),2e3);return()=>{clearInterval(A),m.current.forEach((M=>clearTimeout(M)))}}),[]);let b=y?.status==="pending_approval"?y.signer_approval_url:void 0;return w.jsx(pgt,{appName:n.name,loading:l,success:c,errorMessage:o,connectUri:b,onBack:t?e:void 0,onClose:s,onOpenFarcaster:()=>{b&&(window.location.href=b)}})}},Egt=({onClose:t})=>w.jsx(on,{title:"Could not log in with provider",subtitle:"It looks like you're using an in-app browser. To log in, please try again using an external browser.",icon:eP,primaryCta:{label:"Close",onClick:t},watermark:!0}),ZQ={component:()=>{let{closePrivyModal:t}=$t();return w.jsx(Egt,{onClose:()=>t()})}},_gt=({title:t="Connect your email",subtitle:e="Add your email to your account"})=>w.jsx(on,{title:t,subtitle:e,icon:iA,watermark:!0,children:w.jsx(hfe,{children:w.jsx(v0e,{stacked:!0})})}),Agt={component:()=>{let{app:t}=jt();return w.jsx(_gt,{subtitle:`Add your email to your ${t?.name} account`})}},Sgt=({title:t="Connect your phone",subtitle:e="Add your number to your account",onSubmit:r,isSubmitting:n=!1})=>{let[i,s]=B.useState(null),o=async()=>{i?.qualifiedPhoneNumber&&await r(i)};return w.jsx(on,{title:t,subtitle:e,icon:W0,primaryCta:{label:n?"Submitting":"Submit",onClick:o,disabled:!i?.isValid||n},watermark:!0,children:w.jsx(SA,{onChange:a=>{s(a)},onSubmit:o,noIncludeSubmitButton:!0,hideRecent:!0})})},gD={component:()=>{let{app:t,currentScreen:e,data:r,navigate:n,setModalData:i}=jt(),{initLoginWithSms:s}=$t(),[o,a]=B.useState(!1);return w.jsx(Sgt,{subtitle:`Add your number to your ${t?.name} account`,onSubmit:async l=>{a(!0);try{await s({phoneNumber:l.qualifiedPhoneNumber,withPrivyUi:!0}),n(Zh)}catch(u){i({errorModalData:{error:u,previousScreen:r?.errorModalData?.previousScreen||e||gD}}),n(ci)}finally{a(!1)}},isSubmitting:o})}},Cgt=({title:t="Could not connect with wallet",subtitle:e="Please check that Phantom multichain is enabled and try again.",primaryCtaText:r="Try again",secondaryCtaText:n="Cancel",onTryAgain:i,onCancel:s})=>w.jsx(on,{title:t,subtitle:e,icon:C9,iconVariant:"error",primaryCta:{label:r,onClick:i},secondaryCta:{label:n,onClick:s},watermark:!0}),kgt={component:()=>{let{closePrivyModal:t}=$t(),{navigate:e}=jt();return w.jsx(Cgt,{onTryAgain:()=>{e(Ro)},onCancel:async()=>{await t()}})}};function lpe(){let{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:r,submitEnrollmentWithSms:n,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenroll:o,enrollInMfa:a}=B.useContext(dm);return{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:r,submitEnrollmentWithSms:n,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenrollWithSms:()=>o("sms"),unenrollWithTotp:()=>o("totp"),unenrollWithPasskey:l=>o("passkey",l),showMfaEnrollmentModal:()=>a(!0),closeMfaEnrollmentModal:()=>a(!1)}}const Igt=t=>w.jsxs(Tgt,{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:"88",height:"89",viewBox:"0 0 88 89",...t,children:[w.jsx("rect",{y:"0.666016",width:"88",height:"88",rx:"44"}),w.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M45.2463 20.9106C44.5473 20.2486 43.4527 20.2486 42.7537 20.9106C37.8798 25.5263 31.3034 28.3546 24.0625 28.3546C23.9473 28.3546 23.8323 28.3539 23.7174 28.3525C22.9263 28.3427 22.2202 28.8471 21.9731 29.5987C20.9761 32.6311 20.4375 35.8693 20.4375 39.2297C20.4375 53.5896 30.259 65.651 43.5482 69.0714C43.8446 69.1477 44.1554 69.1477 44.4518 69.0714C57.741 65.651 67.5625 53.5896 67.5625 39.2297C67.5625 35.8693 67.0239 32.6311 66.0269 29.5987C65.7798 28.8471 65.0737 28.3427 64.2826 28.3525C64.1677 28.3539 64.0527 28.3546 63.9375 28.3546C56.6966 28.3546 50.1202 25.5263 45.2463 20.9106ZM52.7249 40.2829C53.3067 39.4683 53.1181 38.3363 52.3035 37.7545C51.4889 37.1726 50.3569 37.3613 49.7751 38.1759L41.9562 49.1223L38.0316 45.1977C37.3238 44.4899 36.1762 44.4899 35.4684 45.1977C34.7605 45.9056 34.7605 47.0532 35.4684 47.761L40.9059 53.1985C41.2826 53.5752 41.806 53.7671 42.337 53.7232C42.868 53.6792 43.3527 53.4039 43.6624 52.9704L52.7249 40.2829Z"})]});let Tgt=he.svg.withConfig({displayName:"StyledSvg",componentId:"sc-59fa943f-0"})(["height:90px;width:90px;> rect{","}> path{fill:white;}"],(t=>t.color==="success"?"fill: var(--privy-color-success);":"fill: var(--privy-color-accent);"));const $gt=({showIntro:t,userMfaMethods:e,appMfaMethods:r,userHasAuthSms:n,isTotpLoading:i,isPasskeyLoading:s,error:o,onClose:a,onBackToIntro:l,handleSelectMethod:u,setRemovingMfaMethod:c})=>{let h=e.reduce(((y,b)=>({...y,[b]:!0})),{}),m=r.reduce(((y,b)=>({...y,[b]:!0})),{});return w.jsxs(w.Fragment,{children:[w.jsx(Or,{backFn:t?l:void 0,onClose:a},"header"),w.jsx(vl,{style:{marginBottom:"1.5rem"},children:w.jsx(Fg,{})}),w.jsx(Vo,{children:"Choose a verification method"}),e.length>0?w.jsx(wl,{children:"To add or delete verification methods, verification is required."}):w.jsx(wl,{children:"How would you like to verify your identity?"}),o&&w.jsx(tfe,{style:{marginTop:"1.25rem"},children:o.message}),w.jsxs(Xhe,{children:[(m.passkey||h.passkey)&&w.jsxs(sT,{children:[w.jsx(fi,{style:{justifyContent:"center"},onClick:()=>u("passkey"),disabled:h.passkey||s,children:s?w.jsx(gc,{style:{height:24,width:24,borderWidth:2},color:"var(--privy-color-foreground-3)"}):w.jsxs(lT,{children:[w.jsxs(aT,{children:[w.jsx(oj,{}),"Passkey"]}),h.passkey?w.jsx(wT,{color:"green",children:"Enabled"}):w.jsx(nQ,{$isAccent:!0,children:w.jsx(Iot,{})})]})}),h.passkey&&w.jsx(oT,{style:{position:"absolute",right:0},onClick:()=>c("passkey"),children:w.jsx(xI,{})})]},"passkey"),(m.totp||h.totp)&&w.jsxs(sT,{children:[w.jsx(fi,{style:{justifyContent:"center"},disabled:h.totp||i,onClick:()=>u("totp"),children:i?w.jsx(gc,{style:{height:24,width:24,borderWidth:2},color:"var(--privy-color-foreground-3)"}):w.jsxs(lT,{children:[w.jsxs(aT,{children:[w.jsx(u9,{}),"Authenticator app"]}),h.totp&&w.jsx(wT,{color:"green",children:"Enabled"})]})}),h.totp&&w.jsx(oT,{style:{position:"absolute",right:0},onClick:()=>c("totp"),children:w.jsx(xI,{})})]},"totp"),(m.sms||h.sms)&&w.jsxs(sT,{children:[w.jsx(fi,{disabled:h.sms||n,onClick:()=>u("sms"),children:w.jsxs(lT,{children:[w.jsxs(aT,{children:[w.jsx(W0,{}),"SMS"]}),h.sms&&w.jsx(wT,{color:"green",children:"Enabled"}),n&&w.jsx(nQ,{children:"Disabled"})]})}),h.sms&&w.jsx(oT,{style:{position:"absolute",right:0},onClick:()=>c("sms"),children:w.jsx(xI,{})})]},"sms")]}),w.jsx(Mgt,{children:"You can always change your selection later"}),w.jsx(Di,{})]})};let wT=he(Md).withConfig({displayName:"StyledChip",componentId:"sc-24f8b314-0"})(["margin-right:1.5rem;"]),Mgt=he(efe).withConfig({displayName:"StyledTerms",componentId:"sc-24f8b314-1"})(["&&{margin-top:1rem;}text-align:center;"]);const cpe=({style:t,...e})=>w.jsxs("svg",{x:0,y:0,width:"65",height:"64",viewBox:"0 0 65 64",style:{height:"64px",width:"65px",...t},xmlns:"http://www.w3.org/2000/svg",...e,children:[w.jsxs("g",{clipPath:"url(#clip0_113_33841)",children:[w.jsx("path",{d:"M39.1193 0.943398C34.636 -0.174912 29.9185 -0.334713 25.328 0.656273C24.9732 0.732859 24.7477 1.08253 24.8243 1.43729C24.9009 1.79205 25.2506 2.01756 25.6053 1.94097C30.0015 0.991934 34.53 1.14842 38.8375 2.22802C49.1385 4.80983 57.7129 12.5548 60.9786 22.6718C62.2416 26.5843 62.7781 30.7505 62.8855 35.1167C62.8945 35.4795 63.1958 35.7664 63.5586 35.7575C63.9215 35.7485 64.2083 35.4472 64.1994 35.0843C64.0905 30.6582 63.5477 26.3849 62.2536 22.3432C58.8621 11.7515 49.9005 3.63265 39.1193 0.943398Z"}),w.jsx("path",{d:"M21.9931 2.93163C22.343 2.83511 22.5484 2.47325 22.4518 2.12339C22.3553 1.77352 21.9935 1.56815 21.6436 1.66466C16.8429 2.98903 10.0898 7.56519 5.91628 13.6786C5.91465 13.681 5.91304 13.6834 5.91145 13.6858C2.24684 19.2083 -0.0503572 26.1484 0.591012 32.8828C0.591623 32.8892 0.592328 32.8956 0.593127 32.902C0.746837 34.1317 1.00488 35.3591 1.26323 36.5879C1.80735 39.1761 2.35282 41.7706 1.92765 44.4064C1.86986 44.7647 2.11347 45.102 2.47177 45.1598C2.83007 45.2176 3.16738 44.974 3.22518 44.6157C3.66961 41.8605 3.11776 39.173 2.56581 36.4851C2.31054 35.2419 2.05525 33.9987 1.89847 32.7486C1.29525 26.3851 3.46802 19.7466 7.00418 14.416C11.0189 8.5373 17.5201 4.16562 21.9931 2.93163Z"}),w.jsx("path",{d:"M30.6166 4.39985C38.8671 3.89603 47.1159 7.26314 52.6556 13.7139C52.8921 13.9893 52.8605 14.4042 52.5852 14.6406C52.3099 14.8771 51.895 14.8455 51.6585 14.5702C46.3904 8.43576 38.541 5.23144 30.6927 5.71195C30.6899 5.71212 30.6871 5.71227 30.6843 5.71241C20.7592 6.19265 11.4643 12.9257 8.04547 22.3603C7.92183 22.7016 7.54498 22.8779 7.20375 22.7543C6.86253 22.6306 6.68616 22.2538 6.80981 21.9126C10.4114 11.9735 20.1717 4.90702 30.6166 4.39985Z"}),w.jsx("path",{d:"M54.6576 16.5848C54.4553 16.2836 54.047 16.2033 53.7457 16.4057C53.4444 16.608 53.3642 17.0163 53.5665 17.3176C56.6376 21.8904 57.9074 26.8665 58.4094 32.7717C58.4401 33.1333 58.7582 33.4016 59.1199 33.3708C59.4815 33.3401 59.7497 33.022 59.719 32.6604C59.206 26.6261 57.8965 21.4076 54.6576 16.5848Z"}),w.jsx("path",{d:"M59.2796 35.4504C59.6419 35.4277 59.9539 35.703 59.9765 36.0653C60.2242 40.0279 60.2265 44.5112 59.7881 47.8243C59.7405 48.1841 59.4102 48.4372 59.0504 48.3896C58.6906 48.342 58.4376 48.0117 58.4852 47.6519C58.9077 44.4586 58.91 40.0704 58.6648 36.1473C58.6421 35.785 58.9174 35.473 59.2796 35.4504Z"}),w.jsx("path",{d:"M7.05311 25.5432C7.13829 25.1904 6.92135 24.8354 6.56855 24.7502C6.21576 24.665 5.86071 24.882 5.77553 25.2348C5.2932 27.2325 5.0428 29.2847 5.03288 31.3388C5.02266 33.4559 5.41742 35.5225 5.81234 37.5899C6.1354 39.2811 6.45855 40.9728 6.5602 42.6932C6.69373 44.9531 6.21839 47.2163 5.39698 49.3703C5.26766 49.7094 5.43774 50.0891 5.77685 50.2184C6.11596 50.3477 6.4957 50.1777 6.62502 49.8386C7.49325 47.5617 8.01954 45.1092 7.87221 42.6157C7.77126 40.9071 7.44813 39.2252 7.12512 37.5439C6.73099 35.4925 6.33704 33.442 6.34716 31.3451C6.35659 29.3933 6.59455 27.4425 7.05311 25.5432Z"}),w.jsx("path",{d:"M24.2964 10.94C24.4317 11.2768 24.2683 11.6595 23.9315 11.7947C17.1187 14.5307 12.0027 20.7047 10.959 27.9852C10.523 31.0269 10.9941 34.0398 11.465 37.052C11.7303 38.7483 11.9954 40.4443 12.0985 42.1451C12.3221 45.833 11.902 49.8839 9.50192 53.5696C9.30387 53.8737 8.89677 53.9597 8.59264 53.7617C8.28851 53.5636 8.20251 53.1565 8.40056 52.8524C10.5873 49.4944 11.0012 45.7644 10.7867 42.2246C10.6821 40.499 10.4185 38.7833 10.1552 37.0686C9.68265 33.9923 9.21067 30.9195 9.65804 27.7987C10.7724 20.025 16.221 13.4748 23.4417 10.5751C23.7785 10.4399 24.1612 10.6032 24.2964 10.94Z"}),w.jsx("path",{d:"M47.3662 14.6814C41.9915 9.64741 34.2017 7.89046 27.122 9.4433C26.7675 9.52105 26.5432 9.87147 26.6209 10.226C26.6987 10.5805 27.0491 10.8048 27.4036 10.7271C34.1075 9.25665 41.4426 10.934 46.4677 15.6406C50.7033 19.6077 53.1628 25.38 53.8066 31.6779C53.8435 32.0389 54.1661 32.3017 54.5272 32.2648C54.8883 32.2279 55.151 31.9053 55.1141 31.5442C54.4456 25.0047 51.8822 18.9111 47.3662 14.6814Z"}),w.jsx("path",{d:"M54.9766 34.6738C55.3376 34.6368 55.6604 34.8994 55.6975 35.2604C56.3216 41.337 56.0526 47.9003 55.1104 54.2496C55.0571 54.6086 54.7229 54.8565 54.3639 54.8032C54.0049 54.7499 53.7571 54.4157 53.8103 54.0567C54.7394 47.7957 55.001 41.3439 54.39 35.3947C54.353 35.0336 54.6156 34.7109 54.9766 34.6738Z"}),w.jsx("path",{d:"M32.0659 13.3553C21.9959 13.3553 13.814 21.3892 13.814 31.3219C13.814 32.3829 13.9081 33.4225 14.0876 34.4334C14.1511 34.7907 14.4922 35.029 14.8495 34.9655C15.2069 34.9021 15.4451 34.561 15.3817 34.2036C15.2155 33.2677 15.1283 32.305 15.1283 31.3219C15.1283 22.1352 22.7014 14.6696 32.0659 14.6696C36.2978 14.6696 40.1642 16.1949 43.1319 18.7152C43.4086 18.9501 43.8233 18.9163 44.0582 18.6396C44.2931 18.363 44.2593 17.9483 43.9827 17.7134C40.7847 14.9975 36.6188 13.3553 32.0659 13.3553Z"}),w.jsx("path",{d:"M45.455 20.1635C45.717 19.9123 46.133 19.921 46.3842 20.183C49.2843 23.2072 50.2126 27.9605 50.8269 31.9494C51.5188 36.4426 51.6244 40.826 51.6244 42.8585C51.6244 43.2214 51.3302 43.5156 50.9673 43.5156C50.6044 43.5156 50.3101 43.2214 50.3101 42.8585C50.3101 40.8589 50.2055 36.5497 49.5279 32.1494C48.9577 28.4462 48.1356 23.9082 45.4356 21.0927C45.1844 20.8307 45.1931 20.4147 45.455 20.1635Z"}),w.jsx("path",{d:"M51.4576 46.6219C51.4864 46.2601 51.2165 45.9435 50.8547 45.9146C50.493 45.8858 50.1763 46.1557 50.1474 46.5175C49.8247 50.5654 49.403 54.6088 48.5474 58.3439C48.4663 58.6977 48.6874 59.0502 49.0412 59.1312C49.3949 59.2123 49.7474 58.9912 49.8285 58.6374C50.7067 54.8039 51.134 50.6806 51.4576 46.6219Z"}),w.jsx("path",{d:"M15.1454 36.852C15.5015 36.7819 15.847 37.0137 15.9171 37.3698C17.3066 44.4257 16.3467 50.8355 12.6672 56.4502C12.4682 56.7537 12.0609 56.8385 11.7573 56.6396C11.4538 56.4407 11.369 56.0333 11.5679 55.7298C15.0299 50.4469 15.9617 44.3985 14.6276 37.6238C14.5575 37.2677 14.7893 36.9221 15.1454 36.852Z"}),w.jsx("path",{d:"M32.0659 17.631C25.5291 17.631 19.1165 22.691 18.462 29.0504C18.1754 31.8345 18.578 34.5769 18.9807 37.3204C19.3323 39.7159 19.684 42.1124 19.5772 44.5381C19.3328 50.0898 17.7039 54.6726 14.905 58.4471C14.6888 58.7386 14.7499 59.1502 15.0414 59.3663C15.333 59.5825 15.7445 59.5214 15.9607 59.2299C18.9293 55.2266 20.6354 50.386 20.8903 44.5959C20.9966 42.1811 20.6438 39.7923 20.2912 37.4051C19.888 34.6752 19.4851 31.9473 19.7694 29.1849C20.3444 23.5983 26.0946 18.9453 32.0659 18.9453C34.851 18.9453 42.057 20.4534 44.3492 27.9205C45.7856 32.5998 46.1774 38.9326 45.8295 45.0849C45.4816 51.2364 44.3994 57.12 42.9442 60.8928C42.8136 61.2314 42.9822 61.6118 43.3208 61.7424C43.6594 61.873 44.0398 61.7044 44.1704 61.3658C45.6929 57.4186 46.7895 51.386 47.1417 45.1591C47.4938 38.9329 47.1068 32.4249 45.6056 27.5348C43.0612 19.2461 35.0851 17.631 32.0659 17.631Z"}),w.jsx("path",{d:"M21.9529 56.4512C22.2569 56.6494 22.3426 57.0566 22.1444 57.3606C21.7369 57.9854 21.3784 58.6391 21.0199 59.2928C20.6614 59.9465 20.3028 60.6004 19.8953 61.2253C19.697 61.5293 19.2898 61.615 18.9858 61.4167C18.6819 61.2184 18.5962 60.8113 18.7944 60.5073C19.2019 59.8825 19.5604 59.2288 19.9189 58.5751C20.2774 57.9213 20.636 57.2675 21.0435 56.6426C21.2418 56.3386 21.649 56.2529 21.9529 56.4512Z"}),w.jsx("path",{d:"M27.5799 24.4525C27.8816 24.2508 27.9625 23.8426 27.7608 23.541C27.559 23.2393 27.1509 23.1583 26.8492 23.3601C24.247 25.1006 22.6505 27.494 22.6505 31.0002C22.6505 33.088 23.0203 34.7946 23.3997 36.5449C23.9674 39.1641 24.3524 41.7777 24.2832 44.468C24.1992 47.7349 23.56 50.7201 22.3313 53.564C22.1873 53.8971 22.3407 54.2839 22.6739 54.4278C23.0071 54.5718 23.3938 54.4184 23.5378 54.0852C24.8369 51.0784 25.509 47.9266 25.5971 44.5018C25.6689 41.7062 25.2732 38.9892 24.6845 36.267C24.3042 34.509 23.9648 32.9394 23.9648 31.0002C23.9648 27.9961 25.2863 25.9866 27.5799 24.4525Z"}),w.jsx("path",{d:"M30.1447 22.1436C32.8717 21.5877 35.8061 22.2746 37.966 24.0228C41.8241 27.1455 42.3372 32.8403 42.753 37.4549L42.7742 37.69C43.3115 43.6385 42.6964 49.4163 41.4575 55.2186C41.3817 55.5736 41.0326 55.7999 40.6776 55.7241C40.3227 55.6483 40.0964 55.2991 40.1722 54.9442C41.3926 49.2288 41.9873 43.5885 41.4652 37.8082C41.4479 37.6169 41.4307 37.4228 41.4133 37.2264L41.4131 37.2235C41.0438 33.0534 40.5812 27.8304 37.1392 25.0444C35.2926 23.5498 32.7599 22.9518 30.4073 23.4314C30.0517 23.5039 29.7046 23.2744 29.6321 22.9188C29.5596 22.5632 29.7891 22.2161 30.1447 22.1436Z"}),w.jsx("path",{d:"M40.5287 58.4885C40.6183 58.1368 40.4057 57.7791 40.054 57.6896C39.7023 57.6 39.3446 57.8126 39.2551 58.1643C38.8578 59.7247 38.2456 61.1333 37.4695 62.4301C37.2831 62.7415 37.3844 63.145 37.6958 63.3314C38.0072 63.5178 38.4108 63.4165 38.5972 63.1051C39.4336 61.7075 40.0977 60.1816 40.5287 58.4885Z"}),w.jsx("path",{d:"M37.3152 48.9521C37.6756 48.9948 37.9332 49.3215 37.8906 49.682C37.2699 54.9267 35.8688 59.6042 33.6205 63.6613C33.4446 63.9787 33.0446 64.0934 32.7272 63.9175C32.4097 63.7416 32.295 63.3417 32.4709 63.0242C34.6226 59.1416 35.9811 54.6339 36.5854 49.5275C36.6281 49.1671 36.9548 48.9095 37.3152 48.9521Z"}),w.jsx("path",{d:"M37.1798 30.6556C36.7242 28.2212 34.6349 26.3591 32.0985 26.3591C28.6638 26.3591 26.254 29.8212 27.1032 33.0422C28.54 38.7279 28.7759 44.2077 27.8032 49.4855L27.8025 49.4893C26.9584 54.228 25.3374 58.4908 23.1263 62.1031C22.9368 62.4127 23.0342 62.8172 23.3437 63.0067C23.6533 63.1962 24.0578 63.0988 24.2473 62.7893C26.5488 59.0292 28.2249 54.6109 29.0961 49.7218C30.106 44.2403 29.8558 38.5684 28.3765 32.7168L28.3748 32.7099C27.7378 30.3005 29.5133 27.6734 32.0985 27.6734C33.9641 27.6734 35.5393 29.0459 35.8871 30.8929C36.8436 36.4411 37.3418 41.5862 36.9871 46.016C36.9581 46.3778 37.2279 46.6945 37.5897 46.7235C37.9515 46.7525 38.2682 46.4827 38.2972 46.1209C38.6649 41.5294 38.1459 36.2576 37.1815 30.6648C37.1809 30.6617 37.1804 30.6586 37.1798 30.6556Z"}),w.jsx("path",{d:"M30.1376 59.1171C30.4604 59.283 30.5876 59.6792 30.4217 60.002L28.6804 63.3906C28.5145 63.7134 28.1184 63.8406 27.7956 63.6747C27.4728 63.5088 27.3456 63.1127 27.5114 62.7899L29.2527 59.4013C29.4186 59.0785 29.8147 58.9513 30.1376 59.1171Z"}),w.jsx("path",{d:"M32.5872 31.2892C32.5042 30.9359 32.1505 30.7168 31.7972 30.7998C31.4439 30.8828 31.2247 31.2365 31.3077 31.5898C33.5238 41.0232 33.2194 49.3066 30.5201 56.363C30.3905 56.702 30.5602 57.0819 30.8991 57.2115C31.2381 57.3412 31.618 57.1715 31.7477 56.8326C34.5622 49.475 34.8483 40.9141 32.5872 31.2892Z"})]}),w.jsx("defs",{children:w.jsx("clipPath",{id:"clip0_113_33841",children:w.jsx("rect",{width:"64",height:"64",fill:"white",transform:"translate(0.483887)"})})})]}),Pgt=({onClose:t,onReset:e,submitEnrollmentWithPasskey:r})=>{let{user:n}=Kr(),{initLinkWithPasskey:i,linkWithPasskey:s}=$t(),{app:o}=jt(),[a,l]=B.useState(!1),[u,c]=B.useState(!1),[h,m]=B.useState(null),y=B.useMemo((()=>n?.linkedAccounts.filter((A=>A.type==="passkey"))??[]),[n]),b=async A=>{l(!0);try{await r(A)}catch(M){m(M)}finally{l(!1)}},E=async()=>{c(!0),m(null);try{await i();let A=await s(),M=A?.linkedAccounts.filter((O=>O.type==="passkey")).map((O=>O.credentialId))??[];await b(M)}catch(A){m(A)}finally{c(!1)}};return y.length===0||u?w.jsx(Ngt,{onReset:e,onClose:t,onClick:E,isCreating:u}):h?w.jsx(a6,{allowlistConfig:o.allowlistConfig,error:h,onBack:()=>m(null),onRetry:()=>m(null)}):w.jsx(Rgt,{passkeys:y,isSubmitting:a,isCreating:u,onReset:e,onClose:t,onSubmitEnrollment:()=>b(y.map((A=>A.credentialId))),onAddPasskey:E})};let Ngt=({onReset:t,onClose:e,onClick:r,isCreating:n})=>w.jsxs(w.Fragment,{children:[w.jsx(Or,{backFn:t,onClose:e},"header"),w.jsx(GL,{children:w.jsxs(B0e,{children:[w.jsx(tD,{}),w.jsx(cpe,{})]})}),w.jsx(Vo,{children:"Set up passkey verification"}),w.jsxs(cA,{children:[w.jsxs(Tg,{children:[w.jsx(Ig,{children:w.jsx(Fg,{})}),"Verify with Touch ID, Face ID, PIN, or hardware key"]}),w.jsxs(Tg,{children:[w.jsx(Ig,{children:w.jsx(Not,{})}),"Takes seconds to set up and use"]}),w.jsxs(Tg,{children:[w.jsx(Ig,{children:w.jsx(_ot,{})}),"Use your passkey to verify transactions and login to your account"]})]}),w.jsx(Mn,{style:{marginTop:"2.25rem"},onClick:r,loading:n,children:"Add a new passkey"}),w.jsx(Di,{})]}),Rgt=({onReset:t,onClose:e,onAddPasskey:r,onSubmitEnrollment:n,passkeys:i,isSubmitting:s,isCreating:o})=>{let[a,l]=B.useState(!1),u=a?i.length:i.length>3?2:3;return w.jsxs(w.Fragment,{children:[w.jsx(Or,{backFn:a?()=>l(!1):t,onClose:e},"header"),!a&&w.jsx(GL,{children:w.jsxs(B0e,{children:[w.jsx(tD,{}),w.jsx(cpe,{})]})}),w.jsx(Vo,{children:"Enable your passkeys for verification"}),w.jsxs(cA,{children:[i.slice(0,u).map((c=>w.jsxs(Ogt,{children:[w.jsx(jgt,{children:Dgt(c)}),w.jsxs(Lgt,{children:["Last used: ",c.latestVerifiedAt?.toLocaleString()]})]},c.credentialId))),!a&&i.length>3&&w.jsx(QQ,{onClick:()=>l(!0),children:"View All"})]}),w.jsx(Mn,{style:{marginTop:"1.5rem"},onClick:n,loading:s,children:"Enable passkeys"}),i.length<5&&w.jsx(QQ,{style:{marginTop:"0.5rem"},onClick:r,disabled:o,children:o?w.jsx(gc,{style:{height:"1rem",width:"1rem",borderWidth:2}}):"Add new passkey"}),w.jsx(Di,{})]})},Ogt=he.div.withConfig({displayName:"PasskeyItem",componentId:"sc-9b5fbdd5-0"})(["&&{padding:0.75rem 1rem;text-align:left;border-radius:0.5rem;border:1px solid var(--privy-color-foreground-4);width:100%;}"]),jgt=he.div.withConfig({displayName:"PasskeyItemTitle",componentId:"sc-9b5fbdd5-1"})(["font-size:0.875rem;line-height:1.375rem;font-weight:500;color:var(--privy-color-foreground-1);"]),Lgt=he.div.withConfig({displayName:"PasskeyItemSubtitle",componentId:"sc-9b5fbdd5-2"})(["font-size:0.75rem;font-weight:400;line-height:1.125rem;color:var(--privy-color-foreground-2);"]),Dgt=t=>t.authenticatorName?t.createdWithBrowser?`${t.authenticatorName} on ${t.createdWithBrowser}`:t.authenticatorName:t.createdWithBrowser?t.createdWithOs?`${t.createdWithBrowser} on ${t.createdWithOs}`:`${t.createdWithBrowser}`:"Unknown device";const QQ=he.button.withConfig({displayName:"StyledLink",componentId:"sc-9b5fbdd5-3"})(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:0.75rem 1rem;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent);:focus{outline:none;box-shadow:none;}}"]),Bgt=({appName:t,onComplete:e,onReset:r,onClose:n})=>{let[i,s]=B.useState(""),[o,a]=B.useState(!1),[l,u]=B.useState(null),[c,h]=B.useState("enroll"),{initEnrollmentWithSms:m,submitEnrollmentWithSms:y}=lpe(),{app:b,data:E}=jt();function A(){E?.mfaEnrollmentFlow?.onSuccess(),e()}return l?w.jsx(a6,{allowlistConfig:b.allowlistConfig,error:l,onBack:()=>u(null),onRetry:()=>u(null)}):w.jsxs(w.Fragment,c==="enroll"?{children:[w.jsx(Or,{backFn:r,onClose:n},"header"),w.jsx(vl,{style:{marginBottom:"1.5rem"},children:w.jsx(W0,{})}),w.jsx(Vo,{children:"Set up SMS verification"}),w.jsxs(wl,{children:["We'll text a verification code to this mobile device whenever you use your ",t," ","wallet."]}),w.jsxs(Zg,{children:[w.jsx(SA,{onSubmit:async function({qualifiedPhoneNumber:M}){try{await m({phoneNumber:M}),s(M),h("verify")}catch(O){u(O)}},hideRecent:!0}),w.jsxs(efe,{children:["By providing your mobile number, you agree to receive text messages from ",b?.name,". Some carrier charges may apply"]})]}),w.jsx(Di,{})]}:o?{children:[w.jsx(Or,{onClose:A},"header"),w.jsx(vl,{style:{marginBottom:"1.5rem"},children:w.jsx(Gw,{})}),w.jsx(Vo,{children:"SMS verification added"}),w.jsxs(wl,{children:["From now on, you'll enter the verification code sent to your mobile device whenever you use your ",t," wallet."]}),w.jsx(X1,{children:w.jsx(Mn,{onClick:A,children:"Done"})}),w.jsx(Di,{})]}:{children:[w.jsx(Or,{backFn:function(){c==="verify"?h("enroll"):r()},onClose:n},"header"),w.jsx(vl,{style:{marginBottom:"1.5rem"},children:w.jsx(W0,{})}),w.jsx(Vo,{children:"Enter enrollment code"}),w.jsxs(Zg,{children:[w.jsx(GE,{onChange:async function(M){try{if(!M)return;await y({phoneNumber:i,mfaCode:M}),a(!0)}catch(O){throw Efe(O)?Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds."):nD(O)?Error("The code you entered is not valid"):rD(O)?Error("You have exceeded the time limit for code entry. Please try again in 30 seconds."):_fe(O)?Error("Verification canceled"):Error("Unknown error")}}}),w.jsxs(wl,{children:["To continue, enter the 6-digit code sent to ",w.jsx("strong",{children:w7e(i)})]})]}),w.jsx(Di,{})]})},Ugt=he.div.withConfig({displayName:"Column",componentId:"sc-cfc52180-0"})(["display:flex;flex-direction:column;"]),Fgt=({size:t,authUrl:e})=>w.jsx(l6,{url:e,squareLogoElement:Pat,size:t,fgColor:"#1F1F1F"}),zgt=({onClose:t,onReset:e,totpInfo:r,submitEnrollmentWithTotp:n,error:i})=>{let[s,o]=B.useState("enroll");return w.jsxs(w.Fragment,s==="enroll"?{children:[w.jsx(Or,{backFn:e,onClose:t},"header"),w.jsx(Qh,{children:"Scan QR code"}),w.jsx(tp,{children:"Open your authenticator app and scan this code to continue"}),w.jsx(fct,{children:w.jsx(Fgt,{authUrl:r.authUrl,size:240})}),w.jsx(va,{style:{textAlign:"left"},children:"Setup key"}),w.jsxs(CA,{style:{marginTop:"0.25rem"},children:[w.jsx(Ugt,{children:"•".repeat(16)}),w.jsx(pD,{itemName:" ",text:r.secret})]}),w.jsx(Mn,{style:{marginTop:"1rem"},onClick:function(){o("verify")},children:"Continue"}),w.jsx(Di,{})]}:{children:[w.jsx(Or,{backFn:function(){s==="verify"?o("enroll"):e()},onClose:t},"header"),w.jsx(vl,{style:{marginBottom:"1.5rem"},children:w.jsx(u9,{})}),w.jsx(Qh,{children:"Enter enrollment code"}),w.jsx(tp,{children:"To continue, enter the 6-digit code generated from your authenticator app"}),w.jsx(Zg,{children:w.jsx(GE,{onChange:async function(a){try{if(!a)return;await n({mfaCode:a})}catch(l){throw Efe(l)?Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds."):nD(l)?Error("The code you entered is not valid"):rD(l)?Error("You have exceeded the time limit for code entry. Please try again in 30 seconds."):_fe(l)?Error("Verification canceled"):Error("Unknown error")}},errorReasonOverride:i?.message})}),w.jsx(Di,{})]})},Wgt={component:()=>{let{user:t,enrollInMfa:e,ready:r}=Kr(),[n,i]=B.useState(null),{unenrollWithSms:s,unenrollWithTotp:o,unenrollWithPasskey:a,submitEnrollmentWithTotp:l,initEnrollmentWithPasskey:u,submitEnrollmentWithPasskey:c,initEnrollmentWithTotp:h}=lpe(),{app:m,data:y,onUserCloseViaDialogOrKeybindRef:b}=jt(),{closePrivyModal:E}=$t(),{promptMfa:A}=Afe(),[M,O]=B.useState(!1),[P,z]=B.useState(null),[L,W]=B.useState(null),H=()=>{E({shouldCallAuthOnSuccess:!0}),e(!1),setTimeout((()=>{i(null),z(null)}),500)},[G,N]=B.useState(!1),[F,U]=B.useState();b.current=H;let j=t?.mfaMethods.includes("sms"),_=!!t?.phone,d=t?.mfaMethods.includes("totp"),g=t?.mfaMethods.includes("passkey"),x=j||d||g,C=t?.linkedAccounts.filter((I=>I.type==="passkey")).map((I=>I.credentialId))??[];function k(){i(null),z(null)}async function T(I=C){N(!0);try{return await u(),await c({credentialIds:I},{removeForLogin:y?.mfaEnrollmentFlow?.shouldUnlinkOnUnenrollMfa}),y?.mfaEnrollmentFlow?.onSuccess(),H()}catch(f){U(f)}finally{N(!1)}}if(B.useEffect((()=>{x&&O(!0)}),[x]),!r||!t||!m)return w.jsxs(w.Fragment,{children:[w.jsx(Or,{onClose:H},"header"),w.jsx(GL,{children:w.jsx(Igt,{})}),w.jsx(Zg,{children:w.jsx(gc,{})}),w.jsx(Di,{})]});if(n==="sms")return w.jsxs(w.Fragment,{children:[w.jsx(Or,{backFn:k,onClose:H},"header"),w.jsx(vl,{style:{marginBottom:"1.5rem"},children:w.jsx(Ay,{})}),w.jsx(Vo,{children:"Remove SMS verification?"}),w.jsxs(wl,{children:["MFA adds an extra layer of security to your ",m?.name," account. Make sure you have other methods to secure your account."]}),w.jsx(X1,{children:w.jsx(Mn,{$warn:!0,onClick:async function(){i(null);try{await s()}catch{i(null)}},children:"Remove"})}),w.jsx(Di,{})]});if(n==="totp")return w.jsxs(w.Fragment,{children:[w.jsx(Or,{backFn:k,onClose:H},"header"),w.jsx(vl,{style:{marginBottom:"1.5rem"},children:w.jsx(Ay,{})}),w.jsx(Vo,{children:"Remove authenticator app verification?"}),w.jsxs(wl,{children:["MFA adds an extra layer of security to your ",m?.name," account. Make sure you have other methods to secure your account."]}),w.jsx(X1,{children:w.jsx(Mn,{$warn:!0,onClick:async function(){i(null);try{await o()}catch{i(null)}},children:"Remove"})}),w.jsx(Di,{})]});if(n==="passkey"){let I=y?.mfaEnrollmentFlow?.shouldUnlinkOnUnenrollMfa??!0;return w.jsxs(w.Fragment,{children:[w.jsx(Or,{backFn:k,onClose:H},"header"),w.jsx(vl,{style:{marginBottom:"1.5rem"},children:w.jsx(Ay,{})}),w.jsx(Vo,{children:"Are you sure you want to remove this passkey?"}),w.jsx(wl,{children:I?"Removing your passkey will remove as both a verification method and a login method.":"Removing your passkey will remove as a verification method."}),w.jsx(X1,{children:w.jsx(Mn,{$warn:!0,onClick:async function(){i(null);try{await a({removeForLogin:y?.mfaEnrollmentFlow?.shouldUnlinkOnUnenrollMfa})}catch{i(null)}},children:"Remove"})}),w.jsx(Di,{})]})}if(y.mfaEnrollmentFlow.mfaMethods.length===0&&!x)return w.jsxs(w.Fragment,{children:[w.jsx(Or,{onClose:H},"header"),w.jsx(vl,{style:{marginBottom:"1.5rem"},children:w.jsx(Fg,{})}),w.jsx(Vo,{children:"Add more security"}),w.jsxs(wl,{children:[m?.name," does not have any verification methods enabled."]}),w.jsx(X1,{children:w.jsx(Mn,{onClick:H,children:"Close"})}),w.jsx(Di,{})]});let R=!x&&!M;return R?w.jsxs(w.Fragment,{children:[w.jsx(Or,{onClose:H},"header"),w.jsx(vl,{style:{marginBottom:"1.5rem"},children:w.jsx(Fg,{})}),w.jsx(Vo,{children:"Transaction Protection"}),w.jsx(wl,{children:"Set up transaction protection to add an extra layer of security to your account"}),w.jsxs(cA,{children:[w.jsxs(Tg,{children:[w.jsx(Ig,{children:w.jsx(Iat,{})}),"Enable 2-Step verification for your ",m?.name," wallet."]}),w.jsxs(Tg,{children:[w.jsx(Ig,{children:w.jsx($at,{})}),"You'll be prompted to authenticate to complete transactions."]})]}),w.jsxs(X1,{children:[w.jsx(Mn,{onClick:()=>O(!0),children:"Continue"}),w.jsx(Eu,{onClick:H,children:"Not now"})]}),w.jsx(Di,{})]}):P==="sms"?w.jsx(Bgt,{appName:m?.name||"Privy",onComplete:H,onReset:k,onClose:H}):P==="totp"&&L?w.jsx(zgt,{onClose:H,onReset:k,submitEnrollmentWithTotp:({mfaCode:I})=>(async function(f){try{return U(void 0),await l({mfaCode:f}),y?.mfaEnrollmentFlow?.onSuccess(),H()}catch(S){U(S)}finally{i(null)}})(I),totpInfo:{...L,appName:m?.name||"Privy"}}):P==="passkey"?w.jsx(Pgt,{onReset:k,onClose:H,submitEnrollmentWithPasskey:T}):w.jsx($gt,{showIntro:R,userMfaMethods:t.mfaMethods,appMfaMethods:m.mfa.methods,userHasAuthSms:_,onBackToIntro:function(){O(!1)},handleSelectMethod:async function(I){try{await A()}catch(f){return void U(f)}return I==="totp"?(z(I),W(null),void h().then((f=>{W(f)})).catch((()=>{W(null),k()}))):I==="passkey"&&C.length===1?await T():void z(I)},isTotpLoading:P==="totp"&&!L,isPasskeyLoading:G,error:F,onClose:H,setRemovingMfaMethod:async I=>{try{await A()}catch(f){return void U(f)}i(I)}})}},qgt=({providerName:t,ProviderLogo:e,success:r,errorMessage:n,onRetry:i})=>{let s=r?`Successfully connected with ${t}`:n?n.message:`Verifying connection to ${t}`;return w.jsx(on,{title:s,subtitle:r?"You're good to go!":n?n.detail:"Just a few moments more",icon:e,iconVariant:"loading",iconLoadingStatus:{success:r,fail:!!n},secondaryCta:n?.retryable&&i?{label:"Retry",onClick:i}:void 0,watermark:!0})},JQ={component:()=>{let{authenticated:t,logout:e,ready:r,user:n}=Kr(),{app:i,setModalData:s,navigate:o,resetNavigation:a}=jt(),{getAuthMeta:l,initLoginWithOAuth:u,loginWithOAuth:c,updateWallets:h,setReadyToTrue:m,closePrivyModal:y,createAnalyticsEvent:b}=$t(),[E,A]=B.useState(!1),[M,O]=B.useState(void 0),P=l()?.provider||"google",{name:z,component:L}=YI(P);return B.useEffect((()=>{c(P).then((()=>{A(!0),m(!0)})).catch((W=>{if(m(!1),W?.privyErrorCode===Ee.ALLOWLIST_REJECTED)return O(void 0),a(),void o(_A);if(W?.privyErrorCode===Ee.USER_LIMIT_REACHED)return console.error(new O5(W).toString()),O(void 0),a(),void o(c6);if(W?.privyErrorCode===Ee.USER_DOES_NOT_EXIST)return O(void 0),a(),void o(o6);if(W?.privyErrorCode===Ee.ACCOUNT_TRANSFER_REQUIRED&&W.data?.data?.nonce)return O(void 0),a(),s({accountTransfer:{nonce:W.data?.data?.nonce,account:W.data?.data?.subject,displayName:W.data?.data?.account?.displayName,linkMethod:l()?.provider,embeddedWalletAddress:W.data?.data?.otherUser?.embeddedWalletAddress,oAuthUserInfo:W.data?.data?.otherUser?.oAuthUserInfo}}),void o(km);let{retryable:H,detail:G}=(function(N,F){let U={detail:"",retryable:!1},j=whe(F);if(N?.privyErrorCode===Ee.LINKED_TO_ANOTHER_USER&&(U.detail="This account has already been linked to another user."),N?.privyErrorCode===Ee.INVALID_CREDENTIALS&&(U.retryable=!0,U.detail="Something went wrong. Try again."),N.privyErrorCode===Ee.OAUTH_USER_DENIED&&(U.detail=`Retry and check ${j} to finish connecting your account.`,U.retryable=!0),N?.privyErrorCode===Ee.TOO_MANY_REQUESTS&&(U.detail="Too many requests. Please wait before trying again."),N?.privyErrorCode===Ee.TOO_MANY_REQUESTS&&N.message.includes("provider rate limit")){let _=YI(F).name;U.detail=`Request limit reached for ${_}. Please wait a moment and try again.`}if(N?.privyErrorCode===Ee.OAUTH_ACCOUNT_SUSPENDED){let _=YI(F).name;U.detail=`Your ${_} account is suspended. Please try another login method.`}return N?.privyErrorCode===Ee.CANNOT_LINK_MORE_OF_TYPE&&(U.detail="You cannot authorize more than one account for this user."),N?.privyErrorCode===Ee.OAUTH_UNEXPECTED&&F.startsWith("privy:")&&(U.detail="Something went wrong. Please try again."),U})(W,P);O({retryable:H,detail:G,message:"Authentication failed"})})).finally((()=>{FE()}))}),[z,P]),B.useEffect((()=>{if(r&&t&&E&&n){if(i?.legal.requireUsersAcceptTerms&&!n.hasAcceptedTerms){let W=setTimeout((()=>{o(Im)}),li);return()=>clearTimeout(W)}if(cp(n,i.embeddedWallets)){let W=setTimeout((()=>{s({createWallet:{onSuccess:()=>{},onFailure:H=>{console.error(H),b({eventName:"embedded_wallet_creation_failure_logout",payload:{error:H,provider:P,screen:"OAuthStatusScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),o(nf)}),li);return()=>clearTimeout(W)}{let W=setTimeout((()=>y({shouldCallAuthOnSuccess:!0,isSuccess:!0})),li);return h(),()=>clearTimeout(W)}}}),[r,t,E,n]),w.jsx(qgt,{providerName:z,ProviderLogo:L,success:E,errorMessage:M,onRetry:M?.retryable?()=>{FE(),u(P),O(void 0)}:void 0})}},Hgt=B.forwardRef(((t,e)=>{let[r,n]=B.useState(""),[i,s]=B.useState(""),[o,a]=B.useState(!1),{authenticated:l,user:u}=Kr(),{initUpdateEmail:c}=$t(),{navigate:h,setModalData:m,currentScreen:y}=jt(),{enabled:b,token:E}=No(),A=fn(),M=Phe(r)&&(A.disablePlusEmails&&r.includes("+")?(i||s("Please enter a valid email address without a '+'."),!1):(i&&s(""),!0)),O=o||!M,P=()=>{!b||E||l?(async z=>{if(!u?.email)throw Error("User is required to have an email address to update it.");a(!0);try{await c({oldAddress:u.email.address,newAddress:r,captchaToken:z}),h(Zh)}catch(L){m({errorModalData:{error:L,previousScreen:y||Ro}})}a(!1)})(E):(m({captchaModalData:{callback:z=>{if(!u?.email)throw Error("User is required to have an email address to update it.");return c({oldAddress:u.email.address,newAddress:r,captchaToken:z})},userIntentRequired:!1,onSuccessNavigateTo:Zh,onErrorNavigateTo:ci}}),h(_u))};return w.jsxs(w.Fragment,{children:[w.jsxs(Vgt,{children:[i&&w.jsx(Yh,{style:{marginTop:"0.25rem",textAlign:"left"},children:i}),w.jsxs(Kgt,{$error:!!i,children:[w.jsx(iA,{}),w.jsx("input",{ref:e,id:"email-input",type:"email",placeholder:"your@email.com",onChange:z=>n(z.target.value),onKeyUp:z=>{z.key==="Enter"&&P()},value:r,autoComplete:"email"}),t.stacked?null:w.jsx(dA,{isSubmitting:o,onClick:P,disabled:O,children:"Submit"})]})]}),t.stacked?w.jsx(Mn,{loadingText:null,loading:o,disabled:O,onClick:P,style:{width:"100%"},children:"Submit"}):null]})}));let Vgt=e0e,Kgt=Xfe;const Ggt=({title:t="Update your email",subtitle:e="Add the email address you'd like to use going forward. We'll send you a confirmation code"})=>w.jsx(on,{title:t,subtitle:e,icon:iA,watermark:!0,children:w.jsx(hfe,{children:w.jsx(Hgt,{stacked:!0})})}),Ygt={component:()=>w.jsx(Ggt,{})},Zgt=({title:t="Update your phone number",subtitle:e="Add the phone number you'd like to use going forward. We'll send you a confirmation code",onSubmit:r,isSubmitting:n=!1})=>{let[i,s]=B.useState(null);return w.jsx(on,{title:t,subtitle:e,icon:W0,primaryCta:{label:n?"Submitting":"Update",onClick:async()=>{i?.qualifiedPhoneNumber&&await r(i)},disabled:!i?.isValid||n},watermark:!0,children:w.jsx(SA,{onChange:o=>{s(o)},onSubmit:async()=>{},noIncludeSubmitButton:!0,hideRecent:!0})})},Qgt={component:()=>{let{currentScreen:t,data:e,navigate:r,setModalData:n}=jt(),{user:i}=Kr(),{initUpdatePhone:s}=$t(),[o,a]=B.useState(!1);return w.jsx(Zgt,{onSubmit:async l=>{a(!0);try{if(!i?.phone?.number)throw Error("User is required to have an phone number to update it.");await s(i?.phone?.number,l.qualifiedPhoneNumber),r(Zh)}catch(u){n({errorModalData:{error:u,previousScreen:e?.errorModalData?.previousScreen||t||gD}}),r(ci)}finally{a(!1)}},isSubmitting:o})}};function Jgt({subscribe:t,getExternalJwt:e,enabled:r=!0,onAuthenticated:n,onUnauthenticated:i,onError:s}){let{client:o,onCustomAuthAuthenticated:a}=$t(),{logout:l,authenticated:u,ready:c}=Tm();if(!o)throw new be("`useSyncJwtBasedAuthState` must be used within a `PrivyProvider`");let[h,m]=B.useState({status:"initial"}),y=B.useRef(),b=B.useRef(!1),E=B.useRef(e);B.useEffect((()=>{E.current=e}),[e]);let A=B.useRef(n);B.useEffect((()=>{A.current=n}),[n]);let M=B.useRef(i);B.useEffect((()=>{M.current=i}),[i]);let O=B.useRef(s);return B.useEffect((()=>{O.current=s}),[s]),B.useEffect((()=>{if(!r||!c)return;let P=async()=>{if(!b.current){b.current=!0;try{m({status:"loading"});let z=await E.current();if(y.current!==void 0&&y.current===z)return void m({status:"done"});if(!z)return u&&(await l(),M.current?.()),y.current=z,void m({status:"done"});o.startAuthFlow(new Yhe(z));let{user:L,isNewUser:W=!1}=await o.authenticate();if(!L)throw new be("Failed to sync with custom auth provider");A.current?.({user:L,isNewUser:W}),a(L,W),y.current=z,m({status:"done"})}catch(z){if(console.warn(z),await l().catch((()=>{})),M.current?.(),z instanceof hl&&z.privyErrorCode===Ee.LINKED_TO_ANOTHER_USER)return m({status:"initial"}),void setTimeout((()=>{P()}),0);O.current?.(z),m({status:"error",error:z})}finally{b.current=!1}}};return P(),t(P)}),[t,o,a,u,l,r,c]),r?{state:h}:{state:{status:"not-enabled"}}}let Xgt=Nw((()=>({jwtAuthFlowState:{status:"not-enabled"}})));function emt({customAuth:t}){let{jwtAuthFlowState:e}=(function({customAuth:r}){let n=rf(),i=B.useRef(),s=B.useCallback((l=>(i.current=l,()=>{i.current=void 0})),[]),o=r?.getCustomAccessToken??(()=>Promise.resolve(void 0)),{state:a}=Jgt({enabled:r?.enabled===!0,subscribe:s,getExternalJwt:o,onAuthenticated:({user:l,isNewUser:u})=>{n("login","onComplete",{user:l,isNewUser:u,wasAlreadyAuthenticated:!1,loginMethod:"custom",loginAccount:null}),n("customAuth","onAuthenticated",{user:l})},onUnauthenticated:()=>{n("customAuth","onUnauthenticated")},onError:l=>{n("login","onError",l.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR)}});return B.useEffect((()=>{(async()=>r&&!r.isLoading&&i.current?.())()}),[r?.enabled,r?.getCustomAccessToken,r?.isLoading]),{jwtAuthFlowState:a}})({customAuth:t});return B.useEffect((()=>{Xgt.setState({jwtAuthFlowState:e})}),[e]),null}const upe=B.createContext(!1);let py,dpe,hpe,fpe,ppe,gpe,mpe;async function On(){return py?py.getAccessToken():Promise.resolve(or.get(m8)||or.get(hb)||null)}const tmt=(t,e)=>dpe(t,e),rmt=(t,e)=>hpe(t,e),nmt=(t,e)=>fpe(t,e),imt=(t,e)=>ppe(t,e),smt=t=>gpe(t),omt=t=>mpe(t),amt=({config:t,...e})=>{var r;if((()=>{if(B.useContext(upe))throw new be("Multiple PrivyProvider instances found","Found multiple instances of PrivyProvider, ensure there is only one mounted in your application tree.")})(),typeof window<"u"&&0>["localhost","127.0.0.1"].indexOf(window.location.hostname)&&window.location.protocol!=="https:"&&window.location.protocol!=="chrome-extension:")throw new be("Embedded wallet is only available over HTTPS");if(typeof(r=e.appId)!="string"||r.length!==25)throw new be("Cannot initialize the Privy provider with an invalid Privy app ID");py||(py=new blt({appId:e.appId,appClientId:e.clientId,apiUrl:e.apiUrl}));let n=Object.assign({},t),i=B.useMemo((()=>new f7e({appId:e.appId,clientId:e.clientId,storage:or,baseUrl:e.apiUrl,sdkVersion:"react-auth:2.24.0"})),[]);return w.jsx(alt,{client:i,legacyClient:py,clientConfig:n,children:w.jsx(iht,{children:w.jsx(lmt,{...e,client:py,privy:i})})})};let lmt=t=>{let e=t.client,r=t.privy,n=Jw();lut();let[i,s]=B.useState(!1),[o,a]=B.useState(!1),[l,u]=B.useState(!1),[c,h]=B.useState(null),[m,y]=B.useState([]),[b,E]=B.useState([]),[A,M]=B.useState(void 0),[O,P]=B.useState(!1),[z,L]=B.useState(null),[W,H]=B.useState(!1),[G,N]=B.useState({status:"disconnected",connectedWallet:null,connectError:null,connector:null,connectRetry:Ke}),[F,U]=B.useState({status:"initial"}),[j,_]=B.useState({status:"initial"}),[d,g]=B.useState({status:"initial"}),[x,C]=B.useState({status:"initial"}),[k,T]=B.useState({status:"initial"}),[R,I]=B.useState({status:"initial"}),[f,S]=B.useState(null),K=fn(),D=HL(),[J,ne]=B.useState({}),[ie,ce]=B.useState(null),Se=B.useRef(null),[ye,Ae]=B.useState(!1),[tt,Ce]=B.useState(!1),je=B.useRef(null),mt=B.useRef(null),pe=B.useRef(Alt),[Le,Mt]=B.useState(!1);e.onStoreCustomerAccessToken=Y=>{Y&&Et(pe,"accessToken","onAccessTokenGranted",{accessToken:Y})},e.onDeleteCustomerAccessToken=()=>{h(null),u(!1),Et(pe,"accessToken","onAccessTokenRemoved")};let Ie=B.useRef(null),Me=B.useRef(null),ht=B.useRef(!1),Je=({showWalletUIs:Y})=>ht.current?ht.current:Y!==void 0?!Y:!K.embeddedWallets.showWalletUIs,De=Y=>{L(Y),setTimeout((()=>{s(!0)}),15)};B.useEffect((()=>{if(!c)return void e.connectors?.removeEmbeddedWalletConnectors();let Y=ud(c),V=cie(c),Z=bM(c);Y&&V.length||e.connectors?.removeEmbeddedWalletConnectors(),Z||e.connectors?.removeImportedWalletConnector(),e.connectors?f?(Y&&e.connectors.addEmbeddedWalletConnectors({walletProxy:f,user:c,embeddedWallets:V,defaultChain:K.defaultChain,appId:t.appId,privyClient:r}),Z&&e.connectors.addImportedWalletConnector(f,Z.address,K.defaultChain,t.appId)):console.debug("Failed to add embedded wallet connector: Wallet proxy not initialized"):console.debug("Failed to add embedded wallet connector: Client connectors not initialized")}),[f,c]),B.useEffect((()=>{f&&Se.current?.(f)}),[f]);let At=B.useCallback(((Y,V)=>{h(Y),P(V),u(!0),Ce(!0)}),[]);B.useEffect((()=>{tt&&f&&c&&(async()=>{let Y=cD(c,K.embeddedWallets.ethereum.createOnLogin),V=uD(c,K.embeddedWallets.solana.createOnLogin),Z=await On();if(Z){if(Y&&V){let te=await f.create({accessToken:Z});return await f.createSolana({accessToken:Z,ethereumAddress:te?.address}),void Ce(!1)}if(V)return await f.createSolana({accessToken:Z,ethereumAddress:ud(c)?.address}),await Fe.refreshSessionAndUser(),void Ce(!1);if(Y)return await f.create({accessToken:Z}),void Ce(!1)}})().catch(console.error)}),[tt&&f&&c]),B.useEffect((()=>{if(K.externalWallets.solana.connectors)return K.externalWallets.solana.connectors.onMount(),()=>K.externalWallets.solana.connectors?.onUnmount()}),[K.externalWallets.solana.connectors]),B.useEffect((()=>{!o&&D&&(async function(){let Y,V=it(),Z=et(),te=W1e();e.initializeConnectorManager({walletConnectCloudProjectId:K.walletConnectCloudProjectId,rpcConfig:K.rpcConfig,chains:K.chains,defaultChain:K.defaultChain,store:te,walletList:K.appearance.walletList,shouldEnforceDefaultChainOnConnect:K.shouldEnforceDefaultChainOnConnect,externalWalletConfig:K.externalWallets,appName:K.name??"Privy",walletChainType:K.appearance.walletChainType,appKit:K.externalWallets.walletConnect.appKit,setBaseAccountSdk:M}),e.connectors?.on("connectorInitialized",(()=>{Y&&clearTimeout(Y);let de=e.connectors.walletConnectors.length,Ze=e.connectors.walletConnectors.reduce(((Be,He)=>Be+(He.initialized?1:0)),0);Ze===de?Mt(!0):Y=setTimeout((()=>{console.debug({message:"Unable to initialize all expected connectors before timeout",initialized:Ze,expected:de}),Mt(!0)}),1500)})),e.connectors?.initialize().then((()=>{ee()}));let ae=await e.getAuthenticatedUser(),le=!!ae;K.legal.requireUsersAcceptTerms&&ae&&!ae.hasAcceptedTerms?(await e.logout(),Fe.setReadyToTrue(!0),Et(pe,"logout","onSuccess")):(K.customAuth?.enabled||(u(!!ae),ae&&Et(pe,"login","onComplete",{user:ae,isNewUser:!1,wasAlreadyAuthenticated:!0,loginMethod:null,loginAccount:null}),h(ae)),V?Me.current=le?"link":"login":Z&&!le?(Me.current="login",ne({telegramAuthModalData:{seamlessAuth:!0}}),De(A8)):Fe.setReadyToTrue(!!ae))})()}),[e,ie,o,D]),B.useEffect((()=>{if(o){if(!c||!c.linkedAccounts.find((Y=>Y.type==="wallet"&&Y.walletClientType==="privy")))return void Ae(!!f);if([...m].some((Y=>Y.walletClientType==="privy")))return void Ae(!0);Ae(!!f)}}),[o,c,m,f]),B.useEffect((()=>{e.connectors?.setWalletList(K.appearance.walletList)}),[K.appearance.walletList.join()]);let it=()=>{let Y=CN();return Y.inProgress&&Y.popupFlow?window.opener.location.origin!==window.location.origin?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Origins between parent and child windows do not match."}):Y.authorizationCode==="error"?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Something went wrong. Try again."}):void window.opener.postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:Y.stateCode,authorizationCode:Y.authorizationCode}):(Y.inProgress&&(function(V){return V.startsWith("privy:")})(Y.provider)&&!Y.popupFlow&&(new BroadcastChannel(hQ).postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:Y.stateCode,authorizationCode:Y.authorizationCode}),window.close()),!!Y.inProgress&&!!Y.withPrivyUi&&(e.startAuthFlow(new J1(Y)),De(JQ),!0))},et=()=>{let Y=(function(){let Z;return(Z=(function(){let te=new URLSearchParams(window.location.search),ae=Number(te.get("id")||""),le=te.get("hash"),de=Number(te.get("auth_date")||""),Ze=te.get("first_name");if(ae&&Ze&&de&&le)return Object.fromEntries(te.entries())})())?(KZ(),{flowType:"login-url",authData:Z}):(Z=(function(){let te=window.location.hash;if(!te||!te.startsWith("#tgWebAppData"))return;let ae=VZ(te.replace("#tgWebAppData=","")),{user:le,auth_date:de,hash:Ze}=ae;return le&&de&&Ze?ae:void 0})())?(KZ(),{flowType:"web-app",authData:Z}):void 0})();if(!Y||!K.loginMethods.telegram||!K.loginConfig.telegramAuthConfiguration?.seamlessAuthEnabled)return;let V=new dv;return e.startAuthFlow(V),Y.flowType==="login-url"&&(V.meta.telegramWebAppData=void 0,V.meta.telegramAuthResult=Y.authData),Y.flowType==="web-app"&&(V.meta.telegramAuthResult=void 0,V.meta.telegramWebAppData=Y.authData),!0},St=async(Y,V,Z,te)=>{if(Y!=="solana_adapter")Xe(await e.connectors?.createEthereumWalletConnector({connectorType:Y,walletClientType:V})||null,V,Z,te);else{let ae=e.connectors?.findSolanaWalletConnector(V);if(!ae)return;Xe(ae,V,Z,te)}};async function Xe(Y,V,Z,te){if(!Y)return N({status:"disconnected",connectedWallet:null,connectError:new Vn("Unable to connect to wallet."),connector:null,connectRetry:Ke}),te?.(null,Z);N({status:"disconnected",connectedWallet:null,connectError:null,connector:Y,connectRetry:Ke}),Y instanceof $y&&V&&await Y.resetConnection(V),N({connector:Y,status:"connecting",connectedWallet:null,connectError:null,connectRetry:()=>Xe(Y,V,Z,te)});try{let ae=await Y.connect({showPrompt:!0});if((!ae||Eh(ae))&&K.shouldEnforceDefaultChainOnConnect&&!K.chains.find((le=>le.id===Number(ae?.chainId.replace("eip155:",""))))&&(ae?.connectorType!=="wallet_connect_v2"||ae?.walletClientType!=="metamask")){N((le=>({...le,connector:Y,status:"switching_to_supported_chain",connectedWallet:null,connectError:null,connectRetry:Ke})));try{await ae?.switchChain(K.defaultChain.id),ae&&(ae.chainId=y8(_s(K.defaultChain.id)))}catch{console.warn(`Unable to switch to default chain: ${K.defaultChain.id}`)}}return N((le=>({...le,status:"connected",connectedWallet:ae,connectError:null,connectRetry:Ke}))),ae&&Et(pe,"connectWallet","onSuccess",{wallet:ae}),te?.(ae,Z)}catch(ae){return ae instanceof Po?(console.warn(ae.cause?ae.cause:ae.message),Et(pe,"connectWallet","onError",ae.privyErrorCode||Ee.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(ae),Et(pe,"connectWallet","onError",Ee.UNKNOWN_CONNECT_WALLET_ERROR)),N((le=>({...le,status:"disconnected",connectedWallet:null,connectError:ae}))),te?.(null,Z)}}let se=async(Y,V,Z)=>{if(Y===null||!Eh(Y))return;let te=new Iy(e,Y,V,Z);e.startAuthFlow(te)},X=async(Y,V,Z,te="plain")=>{let ae=n(o0e);if(te==="transaction"&&!ae)throw new be("useSolanaLedger plugin hook must be mounted");if(Y===null||!QZ(Y))return;let le=new zE(Y,e,V,Z,te,ae?{deserializeTransactionFromB64String:ae.deserializeTransactionFromB64String,prepareSiwsTransactionWithMemo:ae.prepareSiwsTransactionWithMemo}:void 0);e.startAuthFlow(le)},ee=()=>{let Y=new URLSearchParams(window.location.search),V=Y.get("privy_connector"),Z=Y.get("privy_wallet_client"),te=Y.get("privy_connect_only")==="true";if(!V||!Z)return;let ae=Whe({connectorType:V,walletClientType:Z});if(!ae||!ae.isInstalled)return De(kgt);if(!e.connectors)throw new be("Connector not initialized");De(te?ZN:Dh);let le=new URL(window.location.href);le.searchParams.delete("privy_connector"),le.searchParams.delete("privy_wallet_client"),le.searchParams.delete("privy_connect_only"),window.history.pushState({},"",le),St(V,Z,void 0,te?void 0:V==="solana_adapter"?X:se)};B.useEffect((()=>{o&&l&&c===null&&e.getAuthenticatedUser().then(h)}),[o,l,c,e]);let oe=Y=>{if(!l)throw Et(pe,"linkAccount","onError",Ee.MUST_BE_AUTHENTICATED,{linkMethod:Y}),new be("User must be authenticated before linking an account.")},ge=Y=>{if(!l||!c)return!1;if(Y.walletClientType==="privy")return!0;for(let V of c.linkedAccounts)if(V.type==="wallet"&&V.address===Y.address&&V.walletClientType!=="privy")return!0;return!1},fe=async Y=>{let V;if(!e.connectors)throw new be("Connector not initialized");V=Y.type==="ethereum"?e.connectors.findWalletConnector(Y.connectorType,Y.walletClientType)||null:e.connectors.findSolanaWalletConnector(Y.walletClientType)||null,N((Z=>({...Z,connector:V,status:"connected",connectedWallet:Y,connectError:null,connectRetry:Ke}))),K.captchaEnabled&&!l?(ne({captchaModalData:{callback:Z=>Eh(Y)?se(Y,Z):X(Y,Z),userIntentRequired:!1,onSuccessNavigateTo:Dh,onErrorNavigateTo:ci}}),De(_u)):(Eh(Y)?await se(Y):await X(Y),De(Dh))},ve=()=>{y((Y=>{let V=e.connectors?.wallets.filter(Eh).map((Z=>({...Z,linked:ge(Z),loginOrLink:async()=>{if(!await Z.isConnected())throw new be("Wallet is not connected");if(Z.connectorType==="embedded"&&Z.walletClientType==="privy")throw new be("Cannot link or login with embedded wallet");fe(Z)},fund:async te=>{await Fe.fundWallet(Z.address,te)},unlink:async()=>{if(!l)throw new be("User is not authenticated.");if(Z.connectorType==="embedded"&&Z.walletClientType==="privy")throw new be("Cannot unlink an embedded wallet");h(await e.unlinkEthereumWallet(Z.address))}})))||[];return $N(Y,V)?Y:V})),E((Y=>{let V=(e.connectors?.wallets??[]).filter(QZ).map((Z=>({...Z,linked:ge(Z),loginOrLink:async()=>{if(!await Z.isConnected())throw new be("Wallet is not connected");if(Z.connectorType==="embedded"&&Z.walletClientType==="privy")throw new be("Cannot link or login with embedded wallet");fe(Z)},fund:async()=>{throw new be("'fund' is deprecated for Solana wallets - use 'fundWallet' instead")},unlink:async()=>{if(!l)throw new be("User is not authenticated.");if(Z.connectorType==="embedded"&&Z.walletClientType==="privy")throw new be("Cannot unlink an embedded wallet");h(await e.unlinkSolanaWallet(Z.address))}})));return $N(Y,V)?Y:V}))};B.useEffect((()=>{ve()}),[c?.linkedAccounts,l,o]),B.useEffect((()=>{if(o){if(!e.connectors)throw new be("Connector not initialized");ve(),e.connectors.on("walletsUpdated",ve)}}),[o]),B.useEffect((()=>{[...K.loginMethodsAndOrder?.primary??[],...K.loginMethodsAndOrder?.overflow??[]].filter((Y=>Y.startsWith("privy:"))).forEach((Y=>e.getCrossAppProviderDetails(Y.replace("privy:",""))))}),[!!e]);let ut=({transaction:Y,uiOptions:V,fundWalletConfig:Z,address:te,signOnly:ae})=>new Promise((async(le,de)=>{let{requesterAppId:Ze}=V||{},Be=ae?"signTransaction":"sendTransaction",He=te?Xl(c,te):ud(c);if(!He&&te){let Lt=$C(m,te);if(Lt)try{let qr=await Lt.getEthereumProvider(),fr={...Y,from:te,chainId:Y.chainId||Number(Lt.chainId.replace("eip155:","")),value:Y.value!==void 0?_s(Y.value):void 0},Cn=await qr.request({method:Be==="sendTransaction"?"eth_sendTransaction":"eth_signTransaction",params:[fr]});return Et(pe,Be,"onSuccess",{hash:Cn}),void le({hash:Cn})}catch(qr){return Et(pe,Be,"onError",Ee.TRANSACTION_FAILURE),void de(qr??new Fo("Unable to "+Be+qr))}}if(!He)return Et(pe,Be,"onError",Ee.EMBEDDED_WALLET_NOT_FOUND),void de(new be("No embedded or connected wallet found for address."));if(!l||!c)return Et(pe,Be,"onError",Ee.MUST_BE_AUTHENTICATED),void de(Error("User must be authenticated before signing with a Privy wallet"));let qt=He.address,Ge=He.walletIndex??0,{entropyId:ot,entropyIdVerifier:Nt}=Hs(c,He),lt=ct.wallets.find((Lt=>Lt.walletClientType==="privy"&&Ni(Lt.address)===Ni(qt)));if(!lt)return Et(pe,Be,"onError",Ee.EMBEDDED_WALLET_NOT_FOUND),void de(Error("Must have a Privy wallet before signing"));let at=await lt.getEthereumProvider(),Ir=await at.request({method:"eth_chainId"}),$r=Y.chainId?Number(Y.chainId):kfe(Ir);(Lt=>{if(!K.chains.map((qr=>qr.id)).includes(Lt))throw new Vn(`Chain ID ${Lt} is not supported. It must be added to the config.supportedChains property of the PrivyProvider.`,Ee.UNSUPPORTED_CHAIN_ID)})($r);let _r={...Y,from:Y.from??qt,chainId:$r},Sr=await On();if(!Sr||!f)return Et(pe,Be,"onError",Ee.EMBEDDED_WALLET_NOT_FOUND),void de(Error("Must have valid access token and Privy wallet to send transaction"));let jr=uw(_r.chainId,K.chains,K.rpcConfig,{appId:t.appId}),an=ws(He),Xn=async({transactionRequest:Lt})=>{try{let qr;if(!await Fe.recoverEmbeddedWallet({address:qt}))throw Et(pe,Be,"onError",Ee.UNKNOWN_CONNECT_WALLET_ERROR),de(Error("Unable to connect to wallet")),Error("Unable to connect to wallet");if(an){let fr=pn=>pn==null?void 0:_s(pn),Cn=await Pa(r,(async({message:pn})=>await f.signWithUserSigner({accessToken:Sr,requesterAppId:Ze,message:pn})),{chain_type:"ethereum",method:"eth_signTransaction",params:{transaction:{from:Lt.from,to:Lt.to,nonce:fr(Lt.nonce),chain_id:fr(Lt.chainId),data:ra(Lt.data)?Lt.data?Lt.data:_s(Uint8Array.from(Lt.data)):void 0,value:fr(Lt.value),type:Lt.type,gas_limit:fr(Lt.gasLimit??Lt.gas),gas_price:fr(Lt.gasPrice??Lt.gas),max_fee_per_gas:fr(Lt.maxFeePerGas),max_priority_fee_per_gas:fr(Lt.maxPriorityFeePerGas)}},wallet_id:He.id});if(!Cn.data||!("signed_transaction"in Cn.data))throw new Fo("Unable to sign transaction");qr=Cn.data.signed_transaction}else qr=await(async function({accessToken:fr,entropyId:Cn,entropyIdVerifier:pn,transactingWalletIndex:gi,walletProxy:ui,transactionRequest:Gn,requesterAppId:gn}){return(await ui.rpc({entropyId:Cn,entropyIdVerifier:pn,hdWalletIndex:gi??0,chainType:"ethereum",accessToken:fr,requesterAppId:gn,request:{method:"eth_signTransaction",params:[Gn]}})).response.data})({accessToken:Sr,entropyId:ot,entropyIdVerifier:Nt,transactingWalletIndex:Ge,walletProxy:f,transactionRequest:Lt,requesterAppId:Ze});if(ae)return Et(pe,"signTransaction","onSuccess",{signature:qr}),qr;{let fr=await jr.sendRawTransaction({serializedTransaction:qr});return Et(pe,"sendTransaction","onSuccess",{hash:fr}),fr}}catch(qr){throw Et(pe,Be,"onError",Ee.TRANSACTION_FAILURE),qr}};if(Je({showWalletUIs:V?.showWalletUIs}))Xn({transactionRequest:ae?_r:await KE(_r,jr,_r.from)}).then((Lt=>{ae?Et(pe,"signTransaction","onSuccess",{signature:Lt}):Et(pe,"sendTransaction","onSuccess",{hash:Lt}),le({hash:Lt})})).catch((Lt=>{Et(pe,Be,"onError",Ee.TRANSACTION_FAILURE),de(Lt)}));else{let Lt={connectingWalletAddress:qt,recoveryMethod:He.recoveryMethod,entropyId:ot,entropyIdVerifier:Nt,onCompleteNavigateTo:spe,isUnifiedWallet:an,onFailure:fr=>{Et(pe,Be,"onError",Ee.UNKNOWN_CONNECT_WALLET_ERROR),de(fr)}},qr=N0e(K)?DQ({address:qt,appConfig:K,fundWalletConfig:Z,methodScreen:Fa,chainIdOverride:_r.chainId,comingFromSendTransactionScreen:!0}):void 0;ne({connectWallet:Lt,sendTransaction:{transactionRequest:_r,transactingWalletIndex:Ge,transactingWalletAddress:qt,entropyId:ot,entropyIdVerifier:Nt,signOnly:ae,scanTransaction:async()=>{let fr=await KE(_r,jr,_r.from);return await e.scanTransaction({metadata:{domain:K.embeddedWallets.transactionScanning.domain},chain_id:fr.chainId.toString(),request:{method:"eth_sendTransaction",params:[{from:fr.from,to:fr.to,value:fr.value?.toString(),gas:fr.gas?.toString(),gasPrice:fr.gasPrice?.toString(),nonce:fr.nonce?.toString(),data:fr.data}]}})},onConfirm:({transactionRequest:fr})=>Xn({transactionRequest:fr}),onSuccess:fr=>{ae?Et(pe,"signTransaction","onSuccess",{signature:fr.hash}):Et(pe,"sendTransaction","onSuccess",{hash:fr.hash}),le(fr)},onFailure:fr=>{Et(pe,Be,"onError",Ee.TRANSACTION_FAILURE),de(fr)},uiOptions:V||{},fundWalletConfig:Z,requesterAppId:Ze},funding:qr}),De(m0)}}));function Pe(){return new Promise((async(Y,V)=>{let Z=await On();if(!Z||!f)throw Error("Must have valid access token to enroll in MFA");try{await f.verifyMfa({accessToken:Z}),Y()}catch(te){V(te)}}))}let Ye=Y=>Y?.linkedAccounts.filter((V=>V.latestVerifiedAt!==null&&!(V.type==="wallet"&&V.walletClientType==="privy"))).sort(((V,Z)=>Z.latestVerifiedAt.getTime()-V.latestVerifiedAt.getTime()))[0],Ut=Y=>{let V=c?.linkedAccounts.filter((ae=>ae.type===Y)).length??0,{displayName:Z,loginMethod:te}=EA(Y);if(Y==="passkey"&&V>=5||Y!=="passkey"&&V>=1)throw Et(pe,"linkAccount","onError",Ee.CANNOT_LINK_MORE_OF_TYPE,{linkMethod:te}),new be(`User already has an account of type ${Z} linked.`)};async function Oe({showAutomaticRecovery:Y=!1,legacySetWalletPasswordFlow:V=!1}){L(null);let Z=V?"setWalletPassword":"setWalletRecovery";if(!l||!c)throw Et(pe,Z,"onError",Ee.MUST_BE_AUTHENTICATED),Error("User must be authenticated before adding recovery method to Privy wallet");let te=lc(c);if(!te||!f)throw Et(pe,Z,"onError",Ee.EMBEDDED_WALLET_NOT_FOUND),Error("Must have a Privy wallet to add a recovery method");let ae=ws(te);if(ae)throw Et(pe,Z,"onError",Ee.UNSUPPORTED_WALLET_TYPE),new be("User owned wallet recovery is only supported for on-device execution and this app uses TEE execution. Learn more https://docs.privy.io/recipes/tee-wallet-migration-guide");try{await Pe()}catch(le){throw Et(pe,Z,"onError",Ee.MISSING_MFA_CREDENTIALS),le}return new Promise(((le,de)=>{let Ze=te.recoveryMethod==="user-passcode",Be=k0e({walletAction:"update",availableRecoveryMethods:K.embeddedWallets.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:V,isResettingPassword:Ze,showAutomaticRecovery:Y}),{entropyId:He,entropyIdVerifier:qt}=Hs(c),Ge={recoveryMethod:te.recoveryMethod,connectingWalletAddress:te.address,onCompleteNavigateTo:Be,shouldForceMFA:!1,entropyId:He,isUnifiedWallet:ae,entropyIdVerifier:qt,onFailure:ot=>{Et(pe,Z,"onError",Ee.UNKNOWN_CONNECT_WALLET_ERROR),de(ot)}};ne({setWalletPassword:{onSuccess:ot=>{Et(pe,Z,"onSuccess",{method:"user-passcode",wallet:ot}),le(ot)},onFailure:ot=>{Et(pe,Z,"onError",Ee.USER_EXITED_SET_PASSWORD_FLOW),de(ot)},callAuthOnSuccessOnClose:!1},recoverWallet:{entropyId:He,entropyIdVerifier:qt,onFailure:de},connectWallet:Ge,recoverySelection:{isInAccountCreateFlow:!1,isResettingPassword:Ze,shouldCreateEth:!1,shouldCreateSol:!1}}),De(m0)}))}async function nt({appId:Y,action:V}){let Z=await On();if(V==="link"&&!Z)throw Et(pe,"linkAccount","onError",Ee.MUST_BE_AUTHENTICATED,{linkMethod:`privy:${Y}`}),new be("User must be authenticated before linking an account.");if(V==="login"&&Z)throw Et(pe,"login","onError",Ee.UNKNOWN_AUTH_ERROR),new be("Attempted to log in, but user is already logged in. Use a `link` helper instead.");Ie.current=`privy:${Y}`,Me.current=V;let te=pA();return e.createAnalyticsEvent({eventName:"cross_app_auth_started",payload:{providerAppId:Y}}),new Promise((async(ae,le)=>{let{name:de,logoUrl:Ze}=await Ife({api:e.api,providerAppId:Y,requesterAppId:K.id});ne({crossAppAuth:{appId:Y,name:de,logoUrl:Ze,action:V,popup:te,onSuccess:ae,onError:le}}),De(cgt)}))}let hr={ready:o,authenticated:l,user:c,walletConnectors:e.connectors||null,connectWallet:Y=>{Y&&"target"in Y&&Y&&(Y=void 0),ne({externalConnectWallet:{walletList:Y?.walletList&&Y?.walletList.length>0?Y.walletList:void 0,suggestedAddress:Y?.suggestedAddress,walletChainType:Y?.walletChainType,description:Y?.description}}),De(KN)},linkWallet:Y=>{Y&&"target"in Y&&Y&&(Y=void 0),oe("siwe"),Ie.current="siwe",Me.current="link",ne({...J,externalConnectWallet:{...J.externalConnectWallet,suggestedAddress:Y?.suggestedAddress,walletList:Y?.walletList,walletChainType:Y?.walletChainType,description:Y?.suggestedAddress?w.jsxs("span",{children:["Link the wallet with address"," ",w.jsx(Vr,{showCopyIcon:!1,address:Y?.suggestedAddress})," ",K?.name?`to ${K.name}.`:"."]}):`Link a wallet to your ${K?.name} account`}}),De(_8)},startCrossAppAuthFlow:nt,linkEmail:()=>{oe("email"),Ut("email"),Ie.current="email",Me.current="link",De(Agt)},linkPhone:()=>{oe("sms"),Ut("phone"),Ie.current="sms",Me.current="link",De(gD)},linkGoogle:async()=>{oe("google"),Ut("google_oauth"),Me.current="link",await Fe.initLoginWithOAuth("google")},linkTwitter:async()=>{oe("twitter"),Ut("twitter_oauth"),Me.current="link",await Fe.initLoginWithOAuth("twitter")},linkDiscord:async()=>{oe("discord"),Ut("discord_oauth"),Me.current="link",await Fe.initLoginWithOAuth("discord")},linkGithub:async()=>{oe("github"),Ut("github_oauth"),Me.current="link",await Fe.initLoginWithOAuth("github")},linkSpotify:async()=>{oe("spotify"),Ut("spotify_oauth"),Me.current="link",await Fe.initLoginWithOAuth("spotify")},linkInstagram:async()=>{oe("instagram"),Ut("instagram_oauth"),Me.current="link",await Fe.initLoginWithOAuth("instagram")},linkTiktok:async()=>{oe("tiktok"),Ut("tiktok_oauth"),Me.current="link",await Fe.initLoginWithOAuth("tiktok")},linkLine:async()=>{oe("line"),Ut("line_oauth"),Me.current="link",await Fe.initLoginWithOAuth("line")},linkLinkedIn:async()=>{oe("linkedin"),Ut("linkedin_oauth"),Me.current="link",await Fe.initLoginWithOAuth("linkedin")},linkApple:async()=>{oe("apple"),Ut("apple_oauth"),Me.current="link",await Fe.initLoginWithOAuth("apple")},linkPasskey:async()=>{oe("passkey"),Ut("passkey"),await Fe.initLinkWithPasskey(),De(f0t)},linkTelegram:async Y=>{if(oe("telegram"),Ut("telegram"),Me.current="link",Ie.current="telegram",Y?.launchParams)if(Y.launchParams.initDataRaw){let V=new dv;e.startAuthFlow(V),V.meta.telegramAuthResult=void 0,V.meta.telegramWebAppData=VZ(Y.launchParams.initDataRaw),ne({telegramAuthModalData:{seamlessAuth:!0}}),De(A8)}else Et(pe,"linkAccount","onError",Ee.INVALID_DATA,{linkMethod:"telegram"});else await Fe.initLoginWithTelegram();De(A8)},linkFarcaster:async()=>{oe("farcaster"),Ut("farcaster"),await Fe.initLoginWithFarcaster(),Me.current="link",Ie.current="farcaster",De(GN)},updateEmail:()=>{if(oe("email"),!c?.email)throw new be("User does not have an email linked to their account.");Me.current="update",Ie.current="email",De(Ygt)},updatePhone:()=>{if(oe("sms"),!c?.phone)throw new be("User does not have a phone number linked to their account.");Me.current="update",Ie.current="sms",De(Qgt)},login:async Y=>{Y&&"target"in Y&&Y&&(Y=void 0);let V="Attempted to log in, but user is already logged in. Use a `link` helper instead.";if(!o){let Z=await new Promise((te=>{ce((ae=>te.bind(ae)))}));if(ce(null),Z)return void console.warn(V)}!c||c.isGuest?(Me.current="login",ne({login:Y}),De(Ro)):console.warn(V)},connectOrCreateWallet:async()=>{o||(await new Promise((Y=>{ce((()=>Y))})),ce(null)),l?console.warn("User must be unauthenticated to `connectOrCreateWallet`"):(Me.current="connect-or-create",De(w0e))},logout:async()=>{if(Me.current=null,Ie.current=null,c&&e.clearProviderAcccessTokens(c),L(null),await e.logout(),c&&f)try{await f.clearMfa({userId:c.id})}catch{}h(null),u(!1),Et(pe,"logout","onSuccess"),s(!1),or.del(_N),or.del(phe(K.id))},getAccessToken:B.useCallback((()=>e.getCustomerAccessToken()),[e]),unlinkWallet:async Y=>{let V;return h(V=Y.startsWith("0x")?await e.unlinkEthereumWallet(Y):await e.unlinkSolanaWallet(Y)),V},unlinkEmail:async Y=>{let V=await e.unlinkEmail(Y);return h(V),V},unlinkPhone:async Y=>{let V=await e.unlinkPhone(Y);return h(V),V},unlinkGoogle:async Y=>{let V=await e.unlinkOAuth("google",Y);return h(V),V},unlinkTwitter:async Y=>{let V=await e.unlinkOAuth("twitter",Y);return h(V),V},unlinkDiscord:async Y=>{let V=await e.unlinkOAuth("discord",Y);return h(V),V},unlinkGithub:async Y=>{let V=await e.unlinkOAuth("github",Y);return h(V),V},unlinkSpotify:async Y=>{let V=await e.unlinkOAuth("spotify",Y);return h(V),V},unlinkInstagram:async Y=>{let V=await e.unlinkOAuth("instagram",Y);return h(V),V},unlinkTiktok:async Y=>{let V=await e.unlinkOAuth("tiktok",Y);return h(V),V},unlinkLine:async Y=>{let V=await e.unlinkOAuth("line",Y);return h(V),V},unlinkLinkedIn:async Y=>{let V=await e.unlinkOAuth("linkedin",Y);return h(V),V},unlinkApple:async Y=>{let V=await e.unlinkOAuth("apple",Y);return h(V),V},unlinkFarcaster:async Y=>{let V=await e.unlinkFarcaster(Y);return h(V),V},unlinkTelegram:async Y=>{let V=await e.unlinkTelegram(Y);return h(V),V},unlinkPasskey:async Y=>{let V=await On();if(!V)throw Error("Must have valid access token to enroll in MFA");if(!f)throw Error("Wallet proxy not initialized.");let Z=K.passkeys.shouldUnenrollMfaOnUnlink;await f.unlinkPasskeyAccount({credentialId:Y,accessToken:V,removeAsMfa:Z});let te=await e.getAuthenticatedUser();return h(te),te},unlinkCrossAppAccount:async({subject:Y})=>{let V=c?.linkedAccounts.find((te=>te.type==="cross_app"&&te.subject===Y))?.providerApp;if(!V)throw new be("Invalid subject");e.storeProviderAccessToken(V.id,null);let Z=await e.unlinkOAuth(`privy:${V.id}`,Y);return h(Z),Z},setWalletRecovery:async Y=>Oe({legacySetWalletPasswordFlow:!1,showAutomaticRecovery:Y?.showAutomaticRecovery??!1}),setWalletPassword:async()=>Oe({legacySetWalletPasswordFlow:!0,showAutomaticRecovery:!1}),signMessage:(Y,V)=>new Promise((async(Z,te)=>{let{requesterAppId:ae}=V?.uiOptions||{},le=Y.message,de=V?.address?Xl(c,V.address):ud(c);if(!de&&V?.address!==void 0){let Nt=$C(m,V.address);if(Nt)try{let lt=await Nt.getEthereumProvider(),at=await lt.request({method:"personal_sign",params:[le,Nt.address]});return Et(pe,"signMessage","onSuccess",{signature:at}),void Z({signature:at})}catch(lt){return Et(pe,"signMessage","onError",Ee.UNABLE_TO_SIGN),void te(lt??new Fo("Unable to sign message"))}}if(!de)throw new be("No embedded or connected wallet found for address.");if(!l||!c)return Et(pe,"signMessage","onError",Ee.MUST_BE_AUTHENTICATED),void te(Error("User must be authenticated before signing with a Privy wallet"));let Ze=de.address,Be=de.walletIndex??0,{entropyId:He,entropyIdVerifier:qt}=Hs(c,de),Ge=ws(de);if(typeof le!="string"||le.length<1)return Et(pe,"signMessage","onError",Ee.INVALID_MESSAGE),void te(Error("Message must be a non-empty string"));let ot=async()=>{let Nt;if(!l)throw Error("User must be authenticated before signing with a Privy wallet");let lt=await On();if(!f||!lt||!await Fe.recoverEmbeddedWallet({address:Ze}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_started",payload:{walletAddress:Ze,requesterAppId:ae}}),Ge){let at=ra(Y.message,{strict:!0}),Ir=await Pa(r,(async({message:$r})=>await f.signWithUserSigner({accessToken:lt,requesterAppId:ae,message:$r})),{chain_type:"ethereum",method:"personal_sign",params:at?{message:le.slice(2),encoding:"hex"}:{message:le,encoding:"utf-8"},wallet_id:de.id});if(!Ir.data||!("signature"in Ir.data))throw new Fo("Unable to sign message");Nt=Ir.data.signature}else{let{response:at}=await f.rpc({accessToken:lt,entropyId:He,entropyIdVerifier:qt,chainType:"ethereum",hdWalletIndex:Be,requesterAppId:ae,request:{method:"personal_sign",params:[le,Ze]}});Nt=at.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_completed",payload:{walletAddress:Ze,requesterAppId:ae}}),Nt};if(Je({showWalletUIs:V?.uiOptions?.showWalletUIs}))try{let Nt=await ot();Et(pe,"signMessage","onSuccess",{signature:Nt}),Z({signature:Nt})}catch(Nt){Et(pe,"signMessage","onError",Ee.UNABLE_TO_SIGN),te(Nt??new Fo("Unable to sign message"))}else ne({signMessage:{method:"personal_sign",data:le,confirmAndSign:ot,onSuccess:Nt=>{Et(pe,"signMessage","onSuccess",{signature:Nt}),Z({signature:Nt})},onFailure:Nt=>{Et(pe,"signMessage","onError",Ee.UNABLE_TO_SIGN),te(Nt)},uiOptions:V?.uiOptions||{}},connectWallet:{recoveryMethod:de.recoveryMethod,connectingWalletAddress:Ze,entropyId:He,entropyIdVerifier:qt,onCompleteNavigateTo:rR,isUnifiedWallet:Ge,onFailure:Nt=>{Et(pe,"signMessage","onError",Ee.UNKNOWN_CONNECT_WALLET_ERROR),te(Nt)}}}),De(m0)})),signTypedData:(Y,V)=>new Promise((async(Z,te)=>{let{requesterAppId:ae}=V?.uiOptions||{},le=V?.address?Xl(c,V.address):ud(c);if(!le&&V?.address){let Nt=$C(m,V.address);if(Nt)try{let lt=await Nt.getEthereumProvider(),at=w8(Y),Ir=await lt.request({method:"eth_signTypedData_v4",params:[Nt.address,at]});return Et(pe,"signTypedData","onSuccess",{signature:Ir}),void Z({signature:Ir})}catch(lt){return Et(pe,"signTypedData","onError",Ee.UNABLE_TO_SIGN),void te(lt??new Fo("Unable to sign typed data "+lt))}}if(!le)throw new be("No embedded or connected wallet found for address.");if(!l||!c)return Et(pe,"signTypedData","onError",Ee.MUST_BE_AUTHENTICATED),void te(Error("User must be authenticated before signing with a Privy wallet"));let de=le.address,Ze=le.walletIndex??0,{entropyId:Be,entropyIdVerifier:He}=Hs(c,le),qt=ws(le),Ge=w8(Y),ot=async()=>{let Nt;if(!l)throw Error("User must be authenticated before signing with a Privy wallet");let lt=await On();if(!f||!lt||!await Fe.recoverEmbeddedWallet({address:de}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_started",payload:{walletAddress:de,requesterAppId:ae}}),qt){let{domain:at,types:Ir,primaryType:$r,message:_r}=Ge,Sr=await Pa(r,(async({message:jr})=>await f.signWithUserSigner({accessToken:lt,requesterAppId:ae,message:jr})),{chain_type:"ethereum",method:"eth_signTypedData_v4",params:{typed_data:{domain:at,types:Ir,primary_type:$r,message:_r}},wallet_id:le.id});if(!Sr.data||!("signature"in Sr.data))throw new Fo("Unable to sign message");Nt=Sr.data.signature}else{let{response:at}=await f.rpc({accessToken:lt,entropyId:Be,entropyIdVerifier:He,chainType:"ethereum",hdWalletIndex:Ze,requesterAppId:ae,request:{method:"eth_signTypedData_v4",params:[de,Ge]}});Nt=at.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_completed",payload:{walletAddress:de,requesterAppId:ae}}),Nt};if(Je({showWalletUIs:V?.uiOptions?.showWalletUIs}))try{let Nt=await ot();Et(pe,"signTypedData","onSuccess",{signature:Nt}),Z({signature:Nt})}catch(Nt){Et(pe,"signTypedData","onError",Ee.UNABLE_TO_SIGN),te(Nt??new Fo("Unable to sign message"))}else ne({signMessage:{method:"eth_signTypedData_v4",data:Ge,confirmAndSign:ot,onSuccess:Nt=>{Et(pe,"signTypedData","onSuccess",{signature:Nt}),Z({signature:Nt})},onFailure:Nt=>{Et(pe,"signTypedData","onError",Ee.UNABLE_TO_SIGN),te(Nt)},uiOptions:V?.uiOptions||{}},connectWallet:{recoveryMethod:le.recoveryMethod,connectingWalletAddress:le.address,entropyId:Be,isUnifiedWallet:qt,entropyIdVerifier:He,onCompleteNavigateTo:rR,onFailure:Nt=>{Et(pe,"signMessage","onError",Ee.UNKNOWN_CONNECT_WALLET_ERROR),te(Nt)}}}),De(m0)})),sendTransaction:async(Y,V)=>await ut({transaction:Y,uiOptions:V?.uiOptions,fundWalletConfig:V?.fundWalletConfig,address:V?.address,signOnly:!1}),signTransaction:async(Y,V)=>({signature:(await ut({transaction:Y,uiOptions:V?.uiOptions,address:V?.address,signOnly:!0})).hash}),exportWallet:Y=>new Promise((async(V,Z)=>{if(!l||!c)return void Z(Error("User must be authenticated before exporting their Privy wallet"));Y&&"target"in Y&&Y&&(Y=void 0);let te=Y?.address?Xl(c,Y.address):ud(c);if(!te)return void Z(new be("User must have an embedded wallet."));let ae=te.address,{entropyId:le,entropyIdVerifier:de}=Hs(c,te),Ze=ws(te);if(!ae)return void Z(Error("User does not have an HD Ethereum wallet. To export an imported wallet, pass the `address` of the wallet to `exportWallet`."));if(!za(ae))return void Z(Error("Must provide a valid Ethereum address."));let Be={recoveryMethod:te.recoveryMethod,connectingWalletAddress:te.address,isUnifiedWallet:Ze,entropyId:le,entropyIdVerifier:de,onCompleteNavigateTo:tR,onFailure:Z,shouldForceMFA:!0};ne(J),await On()&&f?f?hw(te)?(ne({keyExport:{appId:t.appId,appClientId:t.clientId,origin:e.apiUrl,address:te.address,entropyId:le,entropyIdVerifier:de,hdWalletIndex:te.walletIndex,chainType:te.chainType,walletId:te.id,isUnifiedWallet:Ze,imported:te.imported,onSuccess:V,onFailure:Z},connectWallet:Be}),De(m0)):Z(Error(`Export is not supported for ${te.chainType} wallets`)):Z(Error("Must have a Privy wallet before exporting")):Z(Error("Must have valid access token to enroll in MFA"))})),promptMfa:Pe,async init(Y){switch(Y){case"sms":return void await e.initMfaSmsVerification();case"passkey":return await e.initMfaPasskeyVerification();case"totp":return;default:throw Error(`Unsupported MFA method: ${Y}`)}},async submit(Y,V){switch(Y){case"totp":case"sms":if(typeof V!="string")throw new be("Invalid MFA code");je.current?.resolve({mfaMethod:Y,mfaCode:V,relyingParty:window.origin}),await new Promise(((ae,le)=>{mt.current={resolve:ae,reject:le}}));break;case"passkey":if(typeof V=="string")throw new be("Invalid authenticator response");let Z=await Da(()=>import("./index-RgRXXzcQ.js"),[]),te=agt(await Z.startAuthentication(V));je.current?.resolve({mfaMethod:Y,mfaCode:te,relyingParty:window.origin}),await new Promise(((ae,le)=>{mt.current={resolve:ae,reject:le}}));break;default:throw je.current?.reject(new be("Unsupported MFA method")),new be(`Unsupported MFA method: ${Y}`)}},cancel(){je.current?.reject(new be("MFA canceled"))},async initEnrollmentWithSms(Y){let V=await On();if(!V||!f)throw Error("Must have valid access token to enroll in MFA");await f.initEnrollMfa({method:"sms",accessToken:V,phoneNumber:Y.phoneNumber})},enrollInMfa:Y=>new Promise(((V,Z)=>{if(!Y)return Fe.closePrivyModal(),void V();K.mfa.noPromptOnMfaRequired&&console.warn("[Privy Warning] Triggering the 'showMfaEnrollmentModal' function when 'noPromptOnMfaRequired' is set to true is unexpected. If this is intentional, ensure that you are building custom UIs for MFA verification."),ne({mfaEnrollmentFlow:{mfaMethods:K.mfa.methods,shouldUnlinkOnUnenrollMfa:K.passkeys.shouldUnlinkOnUnenrollMfa,onSuccess:V,onFailure:Z}}),De(Wgt)})),async initEnrollmentWithTotp(){let Y=await On();if(!Y||!f)throw Error("Must have valid access token to enroll in MFA");let V=await f.initEnrollMfa({method:"totp",accessToken:Y});return{secret:V.secret,authUrl:V.authUrl}},async submitEnrollmentWithSms(Y){let V=await On();if(!V||!f)throw Error("Must have valid access token to enroll in MFA");await f.submitEnrollMfa({method:"sms",accessToken:V,phoneNumber:Y.phoneNumber,code:Y.mfaCode}),h(await e.getAuthenticatedUser())},async submitEnrollmentWithTotp(Y){let V=await On();if(!V||!f)throw Error("Must have valid access token to enroll in MFA");await f.submitEnrollMfa({method:"totp",accessToken:V,code:Y.mfaCode}),h(await e.getAuthenticatedUser())},async initEnrollmentWithPasskey(){},async submitEnrollmentWithPasskey({credentialIds:Y},V={}){let Z=await On();if(!Z||!f)throw Error("Must have valid access token to enroll in MFA");await f.submitEnrollMfa({method:"passkey",accessToken:Z,credentialIds:Y,removeForLogin:V.removeForLogin}),h(await e.getAuthenticatedUser())},async unenroll(Y,V={}){let Z=await On();if(!Z||!f)throw Error("Must have valid access token to remove MFA");Y==="passkey"?await f.submitEnrollMfa({method:"passkey",accessToken:Z,credentialIds:[],removeForLogin:V.removeForLogin}):await f.unenrollMfa({method:Y,accessToken:Z}),h(await e.getAuthenticatedUser())},requestFarcasterSignerFromWarpcast:async()=>{let Y=await On(),V=c?.linkedAccounts.find((te=>te.type==="wallet"&&te.walletClientType==="privy"));if(!Y)throw Error("Must have valid access token to connect with Farcaster");if(!f||!V)throw Error("Must have an embedded wallet to use Farcaster signers");if(ws(V))throw new be("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!c?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await Fe.recoverEmbeddedWallet({address:V.address}))throw Error("Unable to connect to wallet");let Z=await f.initFarcasterSigner({address:V.address,hdWalletIndex:null,accessToken:Y,mfaCode:null,mfaMethod:null,relyingParty:window.origin});Z.status==="approved"&&h(await e.getAuthenticatedUser()||c||null),ne({farcasterSigner:Z}),De(xgt)},getFarcasterSignerPublicKey:async()=>{let Y,V=await On(),Z=c?.linkedAccounts.find((te=>te.type==="wallet"&&te.walletClientType==="privy"));if(!V)throw Error("Must have valid access token to connect with Farcaster");if(!f||!Z)throw Error("Must have an embedded wallet to use Farcaster signers");if(ws(Z))throw new be("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!c?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await Fe.recoverEmbeddedWallet({address:Z.address}))throw Error("Unable to connect to wallet");if(!c.farcaster?.signerPublicKey)throw Error("Must have a Farcaster signer public key to sign");return Y=c.farcaster.signerPublicKey.slice(2),Uint8Array.from(Y.match(/.{1,2}/g).map((te=>parseInt(te,16))))},signFarcasterMessage:async Y=>{let V=await On(),Z=c?.linkedAccounts.find((le=>le.type==="wallet"&&le.walletClientType==="privy"));if(!V)throw Error("Must have valid access token to connect with Farcaster");if(!f||!Z)throw Error("Must have an embedded wallet to use Farcaster signers");if(ws(Z))throw new be("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!c?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await Fe.recoverEmbeddedWallet({address:Z.address}))throw Error("Unable to connect to wallet");if(!c.farcaster?.signerPublicKey)throw Error("Must have a Farcaster signer public key to sign");let te=await Da(()=>import("./index-RgRXXzcQ.js"),[]),ae=await f.signFarcasterMessage({address:Z.address,hdWalletIndex:null,accessToken:V,mfaCode:null,mfaMethod:null,payload:{hash:te.bufferToBase64URLString(Y)},fid:BigInt(c.farcaster.fid),relyingParty:window.origin});return new Uint8Array(te.base64URLStringToBuffer(ae.signature))},signMessageWithCrossAppWallet(Y,{address:V,chainId:Z}){let te=c?.linkedAccounts.some((ae=>ae.type==="cross_app"&&ae.smartWallets.some((le=>le.address===V))));return Ix({user:c,client:e,address:V,requesterAppId:K.id,request:{method:te?"privy_signSmartWalletMessage":"personal_sign",params:[Y,V],chainId:Z},reconnect:nt})},signTypedDataWithCrossAppWallet(Y,{address:V,chainId:Z}){let te=c?.linkedAccounts.some((le=>le.type==="cross_app"&&le.smartWallets.some((de=>de.address===V)))),ae=w8(Y);return Ix({user:c,client:e,address:V,requesterAppId:K.id,request:{method:te?"privy_signSmartWalletTypedData":"eth_signTypedData_v4",params:[V,ae],chainId:Z},reconnect:nt})},sendTransactionWithCrossAppWallet(Y,{address:V}){let Z=c?.linkedAccounts.some((te=>te.type==="cross_app"&&te.smartWallets.some((ae=>ae.address===V))));return Ix({user:c,client:e,address:V,requesterAppId:K.id,request:{method:Z?"privy_sendSmartWalletTx":"eth_sendTransaction",params:[Y],chainId:Y.chainId},reconnect:nt})},signTransactionWithCrossAppWallet(Y,{address:V}){let Z=c?.linkedAccounts.some((te=>te.type==="cross_app"&&te.smartWallets.some((ae=>ae.address===V))));return Ix({user:c,client:e,address:V,requesterAppId:K.id,request:{method:Z?"privy_signSmartWalletTx":"eth_signTransaction",params:[Y],chainId:Y.chainId},reconnect:nt})},isModalOpen:i,mfaMethods:K.mfa.methods};dpe=hr.signMessage,hpe=hr.signTypedData,ppe=async(Y,V)=>await ut({transaction:Y,...V,signOnly:!1}),fpe=async(Y,V)=>({signature:(await ut({transaction:Y,...V,signOnly:!0})).hash});let Fe={privy:r,setAuthenticated:u,setUser:h,setIsNewUser:P,isNewUserThisSession:O,pendingTransaction:null,walletConnectionStatus:G,setWalletConnectionStatus:N,connectors:e.connectors?.walletConnectors??[],solanaWallets:b,rpcConfig:K.rpcConfig,chains:K.chains,appId:t.appId,showFiatPrices:K.embeddedWallets.priceDisplay.primary!=="native-token",clientAnalyticsId:e.clientAnalyticsId,onCustomAuthAuthenticated:At,hideWalletUIs:ht,isHeadlessSigning:B.useCallback(Je,[K.embeddedWallets.showWalletUIs]),emailOtpState:j,setEmailOtpState:_,smsOtpState:d,setSmsOtpState:g,oAuthState:k,setOAuthState:T,telegramAuthState:R,setTelegramAuthState:I,siweState:x,setSiweState:C,isHeadlessOAuthLoading:W,baseAccountSdk:A,setBaseAccountSdk:M,nativeTokenSymbolForChainId:Y=>K.chains.find((V=>V.id===Number(Y)))?.nativeCurrency.symbol,initializeWalletProxy:async Y=>{if(f)return f;let V=new Promise((ae=>{Se.current=ae})),Z=new Promise((ae=>setTimeout((()=>ae(null)),Y))),te=await Promise.race([V,Z]);return Se.current=null,te},getAuthFlow:()=>e.authFlow,getAuthMeta:()=>e.authFlow?.meta,client:e,closePrivyModal:async(Y={shouldCallAuthOnSuccess:!0,isSuccess:!1})=>{let V,Z=o&&l&&c;Z&&Ie.current&&(V=Ye(c)),Me.current==="login"?Y.shouldCallAuthOnSuccess&&Z&&Ie.current?Et(pe,"login","onComplete",{user:c,isNewUser:O,wasAlreadyAuthenticated:!1,loginMethod:Ie.current,loginAccount:V??null}):Et(pe,"login","onError",Ee.USER_EXITED_AUTH_FLOW):Me.current==="link"&&V?Y.isSuccess&&Z&&Ie.current?Et(pe,"linkAccount","onSuccess",{user:c,linkMethod:Ie.current,linkedAccount:V}):Ie.current&&Et(pe,"linkAccount","onError",Ee.USER_EXITED_LINK_FLOW,{linkMethod:Ie.current}):Me.current==="update"&&V?Y.isSuccess&&Z&&Ie.current?Et(pe,"update","onSuccess",{user:c,updateMethod:Ie.current,updatedAccount:V}):Ie.current&&Et(pe,"update","onError",Ee.USER_EXITED_UPDATE_FLOW,{linkMethod:Ie.current}):Me.current==="connect-or-create"&&(m[0]?Et(pe,"connectOrCreateWallet","onSuccess",{wallet:m[0]}):Et(pe,"connectOrCreateWallet","onError",Ee.USER_EXITED_AUTH_FLOW));let te=z&&yT.has(z),ae=z===ci&&J.errorModalData&&yT.has(J.errorModalData.previousScreen);if((te||ae)&&J.funding){let le,de=yT.get(z)??null;if(J.funding.chainType==="solana"){let Ze=n(u6);if(Ze)try{le=BigInt(await Ze.getBalance({address:J.funding.address,cluster:J.funding.cluster}))}catch{console.error("Unable to pull wallet balance")}else console.warn("Unable to load solana plugin, skipping balance");Et(pe,"fundSolanaWallet","onUserExited",{address:J.funding.address,cluster:J.funding.cluster,fundingMethod:de,balance:le})}else{let Ze=uw(J.funding.chain.id,K.chains,K.rpcConfig,{appId:t.appId});try{le=await Ze.getBalance({address:J.funding.address})}catch{console.error("Unable to pull wallet balance")}Et(pe,"fundWallet","onUserExited",{address:J.funding.address,chain:J.funding.chain,fundingMethod:de,balance:le})}}ne((le=>({...le,externalConnectWallet:{suggestedAddress:void 0}}))),Me.current=null,Ie.current=null,P(!1),s(!1),setTimeout((()=>{e.authFlow=void 0}),200)},openPrivyModal:De,connectWallet:Xe,initLoginWithWallet:async(Y,V,Z,te)=>{Eh(Y)?(Ie.current="siwe",se(Y,V,Z)):(Ie.current="siws",X(Y,V,Z,te))},loginWithWallet:async()=>{let Y,V,Z;if(!o)throw new $p;if(e.authFlow instanceof Iy?Y="siwe":e.authFlow instanceof zE&&(Y="siws"),!Y)throw new be("Must initialize SIWE/SIWS flow first.");if(await e.getAccessToken()!==null)try{({user:V}=await e.link()),Ie.current=Y}catch(te){throw Et(pe,"linkAccount","onError",te.privyErrorCode||Ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:Y}),te}else try{({user:V,isNewUser:Z}=await e.authenticate()),Ie.current=Y}catch(te){throw Et(pe,"login","onError",te.privyErrorCode||Ee.GENERIC_CONNECT_WALLET_ERROR),te}h(V||c||null),P(Z||!1),u(!0)},delegateWallet:async({address:Y,chainType:V,showDelegationUIs:Z})=>new Promise((async(te,ae)=>{let le=await On();if(!l||!c||!le)throw new be("User must be authenticated and have an embedded wallet to delegate actions.");if(V!=="solana"&&V!=="ethereum")throw new be("Only Solana and Ethereum embedded wallets are supported for delegation and revocation.");let de=Fe.walletProxy??await Fe.initializeWalletProxy(15e3);if(!de)throw new be("Wallet proxy not initialized.");if((({address:Ge,user:ot})=>!!dQ(ot).find((Nt=>Nt.address===Ge)))({address:Y,user:c}))return te();let Ze=Xl(c,Y);if(!Ze)throw new be("Address to delegate is not associated with current user.");if(ws(Ze))throw new be("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let Be=out({address:Y,user:c}),He=aut({address:Y,user:c}),qt=async()=>{await de.createDelegatedAction({accessToken:le,rootWallet:He,delegatedWallets:[Be]}),await Fe.refreshSessionAndUser()};if(await Fe.recoverEmbeddedWallet({address:Y}),Z)ne({delegatedActions:{consent:{address:Y,onDelegate:qt,onSuccess:async()=>{te()},onError:async Ge=>{ae(Ge)}}}}),De(dgt);else try{await qt(),te()}catch(Ge){ae(Ge)}})),revokeDelegatedWallets:async({showDelegationUIs:Y})=>new Promise((async(V,Z)=>{if(!l||!c)throw new be("User must be authenticated and have an embedded wallet to revoke a delegated wallet.");let te=dQ(c);if(te.length===0)throw new be("User has no delegated wallets to revoke.");if(te.some(ws))throw new be("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let ae=async()=>{await e.revokeDelegatedWallet(),await Fe.refreshSessionAndUser()};if(Y)ne({delegatedActions:{revoke:{onRevoke:ae,onSuccess:async()=>{V()},onError:async le=>{Z(le)}}}}),De(fgt);else try{await ae(),V()}catch(le){Z(le)}})),initLoginWithFarcaster:async(Y,V)=>{let Z=new DZ(Y,V);e.startAuthFlow(Z);try{Ie.current="farcaster",await Z.initializeFarcasterConnect()}catch(te){throw Me.current==="login"?Et(pe,"login","onError",te.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR):Me.current==="link"&&Et(pe,"linkAccount","onError",te.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR,{linkMethod:"farcaster"}),te}},loginWithFarcaster:async()=>{let Y,V;if(!o)throw new $p;if(!(e.authFlow instanceof DZ))throw new be("Must initialize Farcaster flow first.");if(await e.getAccessToken()!==null)try{({user:Y}=await e.link()),Ie.current="farcaster"}catch(Z){throw Et(pe,"linkAccount","onError",Z.privyErrorCode||Ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:"farcaster"}),Z}else try{({user:Y,isNewUser:V}=await e.authenticate()),Ie.current="farcaster"}catch(Z){throw Et(pe,"login","onError",Z.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR),Z}h(Y||null),P(V||!1),u(!0)},async crossAppAuthFlow({appId:Y,popup:V,action:Z}){let te=`privy:${Y}`;Ie.current=te;let{url:ae,stateCode:le,codeVerifier:de}=await(async function({api:Ze,appId:Be}){let He=lA(),qt=jL(),Ge=await LL(He);try{let{url:ot}=await Ze.post(iie,{provider:`privy:${Be}`,redirect_to:window.location.href,code_challenge:Ge,state_code:qt});return{url:ot,stateCode:qt,codeVerifier:He}}catch(ot){throw en(ot)}})({api:e.api,appId:Y});if(!ae)throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:"Unable to open cross-app auth popup",appId:Y}}),new be("No authorization URL returned for cross-app auth.");try{let Ze=await(async function({url:ot,popup:Nt}){return Nt.location=ot,new Promise(((lt,at)=>{let Ir,$r=setTimeout((()=>{at(new be("Authorization request timed out after 2 minutes.")),_r()}),12e4);function _r(){Nt?.close(),window.removeEventListener("message",jr)}let Sr=setInterval((()=>{Nt?.closed&&!Ir&&(_r(),clearInterval(Sr),clearTimeout($r),at(new be("User rejected request")))}),300);function jr(an){an.data&&(an.data.type==="PRIVY_OAUTH_RESPONSE"&&an.data.stateCode&&an.data.authorizationCode&&(clearTimeout($r),lt(an.data),_r()),an.data.type==="PRIVY_OAUTH_ERROR"&&(clearTimeout($r),at(new be(an.data.error)),_r()),an.data.type===fQ&&((Ir=new BroadcastChannel(hQ)).onmessage=jr))}window.addEventListener("message",jr)}))})({url:ae,popup:V,provider:te}),Be=Ze.stateCode,He=Ze.authorizationCode;if(Be!==le)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:te,storedStateCode:le??"",returnedStateCode:Be??""}}),new be("Unexpected auth flow. This may be a phishing attempt.",void 0,Ee.OAUTH_UNEXPECTED);let qt=await(async function({appId:ot,stateCode:Nt,codeVerifier:lt,authorizationCode:at,action:Ir,client:$r}){if(!at||!Nt)throw new be("[Cross-App AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if(at==="undefined")throw new be("User denied confirmation during cross-app auth flow");try{let _r=new cut({authorizationCode:at,stateCode:Nt,codeVerifier:lt,provider:`privy:${ot}`});$r.startAuthFlow(_r);let Sr=Ir==="link"?await $r.link():await $r.authenticate(),jr=Sr.oAuthTokens?.accessToken;return console.debug(),jr}catch(_r){let Sr=en(_r);throw Sr.privyErrorCode===Ee.ACCOUNT_TRANSFER_REQUIRED?Sr:Sr.privyErrorCode?new be(Sr.message||"Invalid code during cross-app auth flow.",void 0,Sr.privyErrorCode):Sr.message==="User denied confirmation during cross-app auth flow"?new be("Invalid code during cross-app auth flow.",void 0,Ee.OAUTH_USER_DENIED):new be("Invalid code during cross-app auth flow.",void 0,Ee.UNKNOWN_AUTH_ERROR)}})({appId:Y,codeVerifier:de,stateCode:Be,authorizationCode:He,action:Z,client:e});qt&&e.storeProviderAccessToken(Y,qt);let Ge=await Fe.refreshSessionAndUser();if(!Ge)throw new be("Unable to update user");return e.createAnalyticsEvent({eventName:"cross_app_auth_completed",payload:{providerAppId:Y}}),Ge}catch(Ze){throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:Ze.toString(),provider:te}}),Ze}},async initLoginWithOAuth(Y,V,Z){if(Ie.current=Y,!xN()||Y==="google"&&YN(window.navigator.userAgent))return void De(ZQ);Y==="twitter"&&window.opener&&window.opener.postMessage({type:fQ},"*"),or.del(UE),or.del(Gb);let te=new J1({provider:Y,disableSignup:!!Z,withPrivyUi:!0});V&&te.addCaptchaToken(V),e.startAuthFlow(te);let ae=await e.authFlow.getAuthorizationUrl();if(ae&&ae.url)if(Y==="twitter"&&hn.isAndroid&&(ae.url=ae.url.replace("x.com","twitter.com")),window.location.protocol==="chrome-extension:"&&AN())try{let{privyOAuthCode:le,privyOAuthState:de}=await WZ(ae.url);De(JQ),te.meta.stateCode=de,te.meta.authorizationCode=le}catch(le){throw console.error("OAuth in chrome extension flow failed:",le),le}else window.location.assign(ae.url)},async initLoginWithTelegram(Y,V){if(!o)throw new $p;Ie.current="telegram";let Z=new dv(Y,V);e.startAuthFlow(Z),I({status:"loading"}),Z.meta.telegramWebAppData=void 0,Z.meta.telegramAuthResult=await new Promise(((te,ae)=>K.loginConfig.telegramAuthConfiguration?window.Telegram?void window.Telegram.Login.auth({bot_id:K.loginConfig.telegramAuthConfiguration.botId,request_access:!0},(le=>le?te(le):ae(new be("Telegram auth failed or was canceled by the client")))):ae(new be("Telegram was not initialized")):ae(new be("Telegram Auth configuration is not loaded"))))},async loginWithTelegram(Y){let V,Z;if(!(e.authFlow instanceof dv))throw new be("Must initialize Telegram flow before calling loginWithTelegram");e.authFlow.meta.captchaToken||=Y?.captchaToken;let te=await On(),ae=Y?.intent||Me.current;if(ae==="login")try{let de=await e.authenticate();V=de.user,Z=de.isNewUser,Ie.current="telegram"}catch(de){throw Et(pe,"login","onError",de.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR),de}else{if(ae!=="link")throw new be("Unknown auth intent");try{V=(await e.link()).user,Ie.current="telegram"}catch(de){throw Et(pe,"linkAccount","onError",de.privyErrorCode||Ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:"telegram"}),de}}h(V),P(Z||!1),u(!0),I({status:"done"});let le=V?.linkedAccounts.find((({type:de})=>de==="telegram"))||null;return{user:V,isNewUser:Z||!1,wasAlreadyAuthenticated:!!te,loginAccount:le}},async loginWithOAuth(Y){let V,Z,te;if(!(e.authFlow instanceof J1))throw new be("Must initialize OAuth flow before calling loginWithOAuth");let ae=or.get(BE),le=e.authFlow.meta.stateCode;if(ae!==le)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:Y,storedStateCode:ae??"",returnedStateCode:le??""}}),new be("Unexpected auth flow. This may be a phishing attempt.",void 0,Ee.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{let de=await e.link();V=de.user,te=de.oAuthTokens,Ie.current=Y}catch(de){throw Et(pe,"linkAccount","onError",de.privyErrorCode||Ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:Y}),de}else try{let de=await e.authenticate();V=de.user,Z=de.isNewUser,te=de.oAuthTokens,Ie.current=Y}catch(de){throw Me.current==="login"?Et(pe,"login","onError",de.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR):Me.current==="link"&&Et(pe,"linkAccount","onError",de.privyErrorCode||Ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:Y}),de}return h(V),P(Z||!1),u(!0),te&&V&&Et(pe,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:te,user:V}),te},passkeyAuthState:F,setPasskeyAuthState:U,async initSignupWithPasskey({captchaToken:Y,withPrivyUi:V}){let Z=new H1({captchaToken:Y,setPasskeyAuthState:U});e.startAuthFlow(Z),Me.current="login";try{Ie.current="passkey",U({status:"generating-challenge"}),await Z.initRegisterFlow(V),U({status:"awaiting-passkey"})}catch(te){throw U({status:"error",error:te}),Et(pe,"login","onError",te.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR),te}},async signupWithPasskey(){let Y,V;if(!o)throw new $p;if(!(e.authFlow instanceof H1))throw new be("Must initialize Passkey flow first.");if(Ie.current!=="passkey"){let ae=new be("Must init login with Passkey flow first.");throw U({status:"error",error:ae}),ae}let Z=await On();try{Ie.current="passkey",U({status:"awaiting-passkey"}),{user:Y,isNewUser:V}=await e.authenticate()}catch(ae){throw U({status:"error",error:ae}),Et(pe,"login","onError",ae.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR),ae}h(Y),P(V||!1),u(!0),U({status:"done"});let te=Y?.linkedAccounts.find((({type:ae})=>ae==="passkey"))||null;return{user:Y,isNewUser:V||!1,wasAlreadyAuthenticated:!!Z,loginAccount:te}},async initLoginWithPasskey({captchaToken:Y,withPrivyUi:V}){let Z=new H1({captchaToken:Y,setPasskeyAuthState:U});e.startAuthFlow(Z),Me.current="login";try{Ie.current="passkey",U({status:"generating-challenge"}),await Z.initAuthenticationFlow(V),U({status:"awaiting-passkey"})}catch(te){throw U({status:"error",error:te}),Et(pe,"login","onError",te.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR),te}},async loginWithPasskey(Y){let V,Z;if(!o)throw new $p;if(!(e.authFlow instanceof H1))throw new be("Must initialize Passkey flow first.");if(Y?.credentialIds&&(e.authFlow.meta.allowedCredentialsIds=Y.credentialIds),Ie.current!=="passkey"){let le=new be("Must init login with Passkey flow first.");throw U({status:"error",error:le}),le}let te=await On();try{Ie.current="passkey",U({status:"awaiting-passkey"}),{user:V,isNewUser:Z}=await e.authenticate()}catch(le){throw U({status:"error",error:le}),Et(pe,"login","onError",le.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR),le}h(V),P(Z||!1),u(!0),U({status:"done"});let ae=V?.linkedAccounts.find((({type:le})=>le==="passkey"))||null;return{user:V,isNewUser:Z||!1,wasAlreadyAuthenticated:!!te,loginAccount:ae}},async initLinkWithPasskey(Y){let V=new H1({captchaToken:Y});e.startAuthFlow(V),Me.current="link",Ie.current="passkey",U({status:"generating-challenge"});try{await V.initLinkFlow(),U({status:"awaiting-passkey"})}catch(Z){throw Et(pe,"linkAccount","onError",Z.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR,{linkMethod:"passkey"}),U({status:"error",error:Z}),Z}},async linkWithPasskey(){let Y;if(!o)throw new $p;if(!(e.authFlow instanceof H1))throw new be("Must initialize Passkey flow first.");if(Ie.current!=="passkey")throw new be("Must init login with Passkey flow first.");try{Ie.current="passkey",{user:Y}=await e.link()}catch(V){throw Et(pe,"linkAccount","onError",V.privyErrorCode||Ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:"passkey"}),V}return h(Y||c||null),U({status:"done"}),Y},async initLoginWithHeadlessOAuth(Y,V,Z){if(!xN()||Y==="google"&&YN(window.navigator.userAgent))throw Error("It looks like you're using an in-app browser.  To log in, please try again using an external browser.");let te=new J1({provider:Y,withPrivyUi:!1,disableSignup:Z??!1});V&&te.addCaptchaToken(V),T({status:"loading"});let ae=await e.startAuthFlow(te).getAuthorizationUrl();if(ae?.url)if(window.location.protocol==="chrome-extension:"&&AN())try{let{privyOAuthCode:le,privyOAuthState:de}=await WZ(ae.url);te.meta.stateCode=de,te.meta.authorizationCode=le,await this.loginWithHeadlessOAuth(te.meta)}catch(le){throw T({status:"error",error:le}),le}else window.location.assign(ae.url)},async loginWithHeadlessOAuth(Y){let V,Z,te;H(!0),T({status:"loading"}),e.startAuthFlow(new J1(Y));let ae=or.get(BE),le=Y.stateCode;if(ae!==le)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:Y.provider,storedStateCode:ae??"",returnedStateCode:le??""}}),H(!1),new be("Unexpected auth flow. This may be a phishing attempt.",void 0,Ee.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{({user:V,oAuthTokens:te}=await e.link()),Ie.current=Y.provider;let de=Ye(V);V&&de&&Et(pe,"linkAccount","onSuccess",{user:V,linkMethod:Ie.current,linkedAccount:de})}catch(de){throw H(!1),Et(pe,"linkAccount","onError",de.privyErrorCode||Ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:Y.provider}),de}else try{({user:V,isNewUser:Z,oAuthTokens:te}=await e.authenticate()),Ie.current=Y.provider;let de=Ye(V);V&&de&&Z!==void 0&&Et(pe,"login","onComplete",{user:V,isNewUser:Z,wasAlreadyAuthenticated:!1,loginMethod:Ie.current,loginAccount:de})}catch(de){throw H(!1),T({status:"error",error:de}),Et(pe,"login","onError",de.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR),de}return h(V),P(Z||!1),u(!0),H(!1),T({status:"done"}),te&&V&&Et(pe,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:te,user:V}),V??void 0},initLoginWithEmail:async({email:Y,captchaToken:V,disableSignup:Z,withPrivyUi:te})=>{let ae=new uy({email:Y,captchaToken:V,disableSignup:Z});e.startAuthFlow(ae);try{Ie.current="email",_({status:"sending-code"}),await ae.sendCodeEmail({withPrivyUi:te}),_({status:"awaiting-code-input"})}catch(le){throw _({status:"error",error:le}),Me.current==="login"?Et(pe,"login","onError",le.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR):Me.current==="link"&&Et(pe,"linkAccount","onError",le.privyErrorCode||Ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:"email"}),le}},initUpdateEmail:async({oldAddress:Y,newAddress:V,captchaToken:Z})=>{let te=new Nat(Y,V,Z);e.startAuthFlow(te);try{await te.sendCodeEmail({withPrivyUi:!0})}catch(ae){Et(pe,"update","onError",ae.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR,{linkMethod:Ie.current})}},initUpdatePhone:async(Y,V,Z)=>{let te=new Fat(Y,V,Z);e.startAuthFlow(te);try{await te.sendSmsCode({withPrivyUi:!0})}catch(ae){Et(pe,"update","onError",ae.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR,{linkMethod:Ie.current})}},initLoginWithSms:async({phoneNumber:Y,captchaToken:V,disableSignup:Z,withPrivyUi:te})=>{g({status:"sending-code"});let ae=new dy({phoneNumber:Y,captchaToken:V,disableSignup:Z});e.startAuthFlow(ae);try{Ie.current="sms",await ae.sendSmsCode({withPrivyUi:te}),g({status:"awaiting-code-input"})}catch(le){throw g({status:"error",error:le}),Me.current==="login"?Et(pe,"login","onError",le.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR):Me.current==="link"&&Et(pe,"linkAccount","onError",le.privyErrorCode||Ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:"sms"}),le}},resendEmailCode:async()=>{await e.authFlow?.sendCodeEmail({withPrivyUi:!0})},resendSmsCode:async()=>{await e.authFlow?.sendSmsCode({withPrivyUi:!0})},loginWithCode:async Y=>{let V,Z;function te(Ze){e.authFlow instanceof uy?_(Ze):e.authFlow instanceof dy&&g(Ze)}if(te({status:"submitting-code"}),!o){let Ze=new $p;throw te({status:"error",error:Ze}),Ze}if(e.authFlow instanceof uy)e.authFlow.meta.emailCode=Y.trim();else{if(!(e.authFlow instanceof dy)){let Ze=new be("Must initialize a passwordless code flow first");throw te({status:"error",error:Ze}),Ze}e.authFlow.meta.smsCode=Y.trim()}let ae=await On();if(Me.current==="link")try{({user:V}=await e.link())}catch(Ze){throw te({status:"error",error:Ze}),Et(pe,"linkAccount","onError",Ze.privyErrorCode||Ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:Ie.current}),Ze}else if(Me.current==="update")try{({user:V}=await e.link())}catch(Ze){throw te({status:"error",error:Ze}),Et(pe,"update","onError",Ze.privyErrorCode||Ee.FAILED_TO_UPDATE_ACCOUNT,{linkMethod:Ie.current}),Ze}else try{({user:V,isNewUser:Z}=await e.authenticate())}catch(Ze){throw te({status:"error",error:Ze}),Et(pe,"login","onError",Ze.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR),Ze}let le=V||c;h(le||null),P(Z||!1),u(!0),te({status:"done"});let de=null;return e.authFlow instanceof uy?de=le?.linkedAccounts.find((({type:Ze})=>Ze==="email"))||null:e.authFlow instanceof dy&&(de=le?.linkedAccounts.find((({type:Ze})=>Ze==="phone"))||null),{user:le,isNewUser:Z||!1,wasAlreadyAuthenticated:!!ae,linkedAccount:de}},generateSiweMessage:async({address:Y,chainId:V,captchaToken:Z})=>{Me.current=l?"link":"login",Ie.current="siwe",C({status:"generating-message"});let te=await e.generateSiweNonce({address:Y,captchaToken:Z});return C({status:"awaiting-signature"}),kN({address:Y,chainId:V.replace("eip155:",""),nonce:te})},generateSiweMessageForSmartWallet:async({address:Y,chainId:V})=>{let Z=await e.generateSiweNonce({address:Y});return kN({address:Y,chainId:V.replace("eip155:",""),nonce:Z})},linkSmartWallet:async({message:Y,signature:V,smartWalletType:Z,smartWalletVersion:te})=>{let ae;ae=await e.linkSmartWallet({message:Y,signature:V,smartWalletType:Z,smartWalletVersion:te}),h((ae=await Fe.refreshSessionAndUser()??ae)||c||null)},loginWithSiwe:async({message:Y,signature:V,captchaToken:Z,disableSignup:te})=>{let ae,le=null;try{if(c)throw Error("User already authenticated");let de=new Iy(e,void 0,Z,te,{message:Y,signature:V});if(e.startAuthFlow(de),Ie.current="siwe",Me.current="login",C({status:"submitting-signature"}),{user:le,isNewUser:ae}=await e.authenticate(),!le)throw Error("Authentication failed - no user returned")}catch(de){throw Et(pe,"login","onError",de.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR),C({status:"error",error:de}),de}return h(le),P(ae||!1),u(!0),C({status:"done"}),Me.current=null,Ie.current=null,le},linkWithSiwe:async({message:Y,signature:V,chainId:Z,walletClientType:te,connectorType:ae})=>{let le;oe("siwe");let de=null;try{C({status:"submitting-signature"}),le=await e.linkWithSiwe({message:Y,signature:V,chainId:Z,walletClientType:te,connectorType:ae}),le=await Fe.refreshSessionAndUser()??le,C({status:"done"}),(de=Ye(le)||null)&&Et(pe,"linkAccount","onSuccess",{user:le,linkMethod:"siwe",linkedAccount:de})}catch(Be){throw Et(pe,"linkAccount","onError",Be.privyErrorCode||Ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:"siwe"}),Me.current=null,Ie.current=null,C({status:"error",error:Be}),Be}let Ze=le||c;return h(Ze||null),Me.current=null,Ie.current=null,{user:Ze,linkedAccount:de}},refreshSessionAndUser:async()=>{let Y=await e.getAuthenticatedUser();return u(!!Y),h(Y),Y},walletProxy:f,createAnalyticsEvent:({eventName:Y,payload:V,timestamp:Z})=>e.createAnalyticsEvent({eventName:Y,payload:V,timestamp:Z}),acceptTerms:async()=>{let Y=await e.acceptTerms();return h(Y),Y},getUsdTokenPrice:Y=>e.getUsdTokenPrice(Y),getUsdPriceForSol:()=>e.getUsdPriceForSol(),getSplTokenMetadata:Y=>e.getSplTokenMetadata(Y),recoverEmbeddedWallet:async Y=>new Promise((async(V,Z)=>{if(!c)return void V(!0);let te=Y?.address?Xl(c,Y.address):lc(c)||bM(c)||X_(c);if(!te||ws(te))return void V(!0);let ae=await On();if(!ae||!f||!te)return void Z(Error("Must have valid access token and Privy wallet to recover wallet"));let{entropyId:le,entropyIdVerifier:de}=Hs(c,te);try{await f.connect({accessToken:ae,entropyId:le,entropyIdVerifier:de}),V(!0)}catch(Ze){if(f5(Ze)&&te.recoveryMethod==="privy"){let Be;e.createAnalyticsEvent({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:te.address}});try{Be=await f.recover({entropyId:le,entropyIdVerifier:de,accessToken:ae})}catch(He){return void Z(He)}Be.entropyId||Z(Error("Unable to recover wallet")),e.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:te.address}}),V(!0)}else f5(Ze)&&te.recoveryMethod!=="privy"&&te.recoveryMethod!=="privy-v2"?(ne({recoverWallet:{entropyId:le,entropyIdVerifier:de,onFailure:Z,onSuccess:()=>V(!0)},recoveryOAuthStatus:{provider:te.recoveryMethod,action:"recover",shouldCreateEth:!1,shouldCreateSol:!1}}),De(I0e(te.recoveryMethod))):Z(Ze)}})),exportSolanaWallet:Y=>new Promise((async(V,Z)=>{if(!l||!c)return void Z(Error("User must be authenticated before exporting their Privy wallet"));let te=Y?.address?Xl(c,Y.address):um(c);if(!te)return void Z(new be("User must have an embedded wallet."));let{entropyId:ae,entropyIdVerifier:le}=Hs(c,te),de=ws(te);if(!await On()||!f)return void Z(Error("Must have valid access token to enroll in MFA"));if(!f)return void Z(Error("Must have a Privy wallet before exporting"));let Ze={recoveryMethod:te.recoveryMethod,connectingWalletAddress:te.address,isUnifiedWallet:de,entropyId:ae,entropyIdVerifier:le,onCompleteNavigateTo:tR,onFailure:Z,shouldForceMFA:!0};hw(te)?(ne({connectWallet:Ze,keyExport:{appId:t.appId,appClientId:t.clientId,origin:e.apiUrl,address:te.address,entropyId:ae,entropyIdVerifier:le,hdWalletIndex:te.walletIndex,chainType:te.chainType,walletId:te.id,isUnifiedWallet:de,imported:te.imported,onSuccess:V,onFailure:Z}}),De(m0)):Z(Error(`Export is not supported for ${te.chainType} wallets`))})),setReadyToTrue:Y=>{a(!0),ie?.(Y)},updateWallets:()=>ve(),fundWallet:async(Y,V)=>{ne({funding:DQ({address:Y,appConfig:K,fundWalletConfig:V,methodScreen:Fa})}),De(Fa)},openModal:De,requestFarcasterSignerStatus:async Y=>{let V=await On(),Z=c?.linkedAccounts.find((ae=>ae.type==="wallet"&&ae.walletClientType==="privy"));if(!V)throw Error("Must have valid access token to connect with Farcaster");if(!f||!Z)throw Error("Must have an embedded wallet to use Farcaster signers");if(!c?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");let te=await e.requestFarcasterSignerStatus(Y);return te.status==="approved"&&h(await e.getAuthenticatedUser()||c||null),te},connectCoinbaseSmartWallet:async()=>{K.externalWallets.coinbaseWallet.config.preference={...K.externalWallets.coinbaseWallet.config.preference,options:"smartWalletOnly"};let Y=e.connectors?.findWalletConnector("coinbase_wallet","coinbase_smart_wallet")||e.connectors?.findWalletConnector("coinbase_wallet","coinbase_wallet");if(Y)return Y.updateConnectionPreference("smartWalletOnly"),Xe(Y);await St("coinbase_wallet","coinbase_smart_wallet")},connectBaseAccount:async()=>{let Y=e.connectors?.findWalletConnector("base_account","base_account");if(Y)return Xe(Y);await St("base_account","base_account")},initiateAccountTransfer:async({nonce:Y,account:V,accountType:Z,externalWalletMetadata:te,telegramAuthResult:ae,telegramWebAppData:le,farcasterEmbeddedAddress:de,oAuthUserInfo:Ze})=>{let Be=await e.sendAccountTransferRequest({nonce:Y,account:V,accountType:Z,externalWalletMetadata:te,telegramAuthResult:ae,telegramWebAppData:le,farcasterEmbeddedAddress:de,oAuthUserInfo:Ze});return h(Be),Be},inProgressAuthFlowRef:Me,inProgressLoginOrLinkMethodRef:Ie};gpe=Fe.recoverEmbeddedWallet,mpe=Fe.recoverEmbeddedWallet;let ct=B.useMemo((()=>({wallets:m,ready:ye&&Le})),[m,ye,Le]),Nr=e.authFlow instanceof dv,dt=!K.headless&&K.captchaEnabled&&!l&&(o||Nr);return w.jsx(upe.Provider,{value:!0,children:w.jsx(dm.Provider,{value:hr,children:w.jsx(Zhe.Provider,{value:pe,children:w.jsx(vfe.Provider,{value:ct,children:w.jsx(Hat,{...K,children:w.jsxs(lie.Provider,{value:Fe,children:[w.jsx(hdt,{children:w.jsxs(llt,{data:J,setModalData:ne,setInitialScreen:L,initialScreen:z,authenticated:l,open:i,children:[t.children,w.jsx(emt,{customAuth:K.customAuth}),dt&&w.jsx(Elt,{delayedExecution:!1}),w.jsx(rut,{}),w.jsx(ogt,{disabled:K.embeddedWallets.disableAutomaticMigration}),w.jsx(Fct,{palette:K.appearance.palette||{}}),!K.render.standalone&&w.jsx(Zct,{open:i})]})}),w.jsx(sut,{appId:t.appId,appClientId:t.clientId,clientAnalyticsId:e.clientAnalyticsId,origin:e.apiUrl,mfaMethods:c?.mfaMethods,mfaPromise:je,mfaSubmitPromise:mt,onLoad:S,onLoadFailed:()=>null}),K.loginConfig.telegramAuthConfiguration&&w.jsx(dw,{$if:!0,children:w.jsx(Jct,{scriptHost:t.apiUrl||EN,botUsername:K.loginConfig.telegramAuthConfiguration.botName})})]})})})})})})};function cmt(t){let{connectWallet:e}=B.useContext(dm);return op("connectWallet",t),{connectWallet:e}}const umt=t=>{op("login",t);let e=No(),r=HL(),{ready:n,user:i}=Kr(),{initLoginWithHeadlessOAuth:s,loginWithHeadlessOAuth:o,oAuthState:a,setOAuthState:l,isHeadlessOAuthLoading:u}=$t(),c=B.useCallback((async m=>{try{if(e.enabled&&e.status!=="success")throw new Yg(e.error,null,Ee.CAPTCHA_FAILURE);return await s(m.provider,e.token,m.disableSignup)}catch(y){throw l({status:"error",error:y}),y}}),[s,e]),h=B.useCallback((async()=>{let m=CN();try{if(i)return console.warn("Cannot login with OAuth when already logged in"),i;if(!m.inProgress)throw Error("Cannot login with OAuth because no OAuth flow is in progress");if(m.popupFlow)return}catch(y){throw l({status:"error",error:y}),y}try{return await o(m)}catch(y){throw l({status:"error",error:y}),y}finally{FE()}}),[o]);return B.useEffect((()=>{let m=CN();n&&r&&m.inProgress&&!m.withPrivyUi&&!m.popupFlow&&h().catch((()=>{}))}),[n,r]),{initOAuth:c,loading:u,state:a}},dmt=t=>{let e=No(),{emailOtpState:r,setEmailOtpState:n,initLoginWithEmail:i,loginWithCode:s}=$t();return{sendCode:B.useCallback((async({email:o,disableSignup:a})=>{try{let l;if(!o)throw Error("Email required to send OTP code");if(e.enabled&&e.status==="error")throw new Yg(e.error,null,Ee.CAPTCHA_FAILURE);return e.enabled&&e.status!=="success"&&(e.execute(),l=await e.waitForResult()),await i({email:o,captchaToken:l,disableSignup:a,withPrivyUi:!1})}catch(l){throw n({status:"error",error:l}),l}}),[i]),loginWithCode:B.useCallback((async({code:o})=>{try{if(e.enabled&&e.status==="error")throw new Yg(e.error,null,Ee.CAPTCHA_FAILURE);let{user:a,isNewUser:l,wasAlreadyAuthenticated:u,linkedAccount:c}=await s(o);t?.onComplete?.({user:a,isNewUser:l,wasAlreadyAuthenticated:u,loginMethod:"email",loginAccount:c})}catch(a){throw n({status:"error",error:a}),a}}),[s,e.status]),state:r}};var hmt=8078e3,fmt=8078001,pmt=8078004,gmt=8078005,mmt=8078006,ymt=8078011;function ype(t){return Array.isArray(t)?"%5B"+t.map(ype).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function wmt([t,e]){return`${t}=${ype(e)}`}function vmt(t){const e=Object.entries(t).map(wmt).join("&");return btoa(e)}function bmt(t,e={}){{let r=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(r+=` '${vmt(e)}'`),`${r}\``}}var Ny=class extends Error{cause=this.cause;context;constructor(...[t,e]){let r,n;if(e){const{cause:s,...o}=e;s&&(n={cause:s}),Object.keys(o).length>0&&(r=o)}const i=bmt(t,r);super(i,n),this.context={__code:t,...r},this.name="SolanaError"}};function xmt(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function Emt(t){return Object.freeze({...t,encode:e=>{const r=new Uint8Array(xmt(e,t));return t.write(e,r,0),r}})}function _mt(t){return Object.freeze({...t,decode:(e,r=0)=>t.read(e,r)[0]})}function G1(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function Amt(t,e){if(G1(t)!==G1(e))throw new Ny(pmt);if(G1(t)&&G1(e)&&t.fixedSize!==e.fixedSize)throw new Ny(gmt,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!G1(t)&&!G1(e)&&t.maxSize!==e.maxSize)throw new Ny(mmt,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function Smt(t,e,r=0){if(e.length-r<=0)throw new Ny(hmt,{codecDescription:t})}function Cmt(t,e,r,n=0){const i=r.length-n;if(i<e)throw new Ny(fmt,{bytesLength:i,codecDescription:t,expected:e})}function kmt(t,e,r,n){if(n<e||n>r)throw new Ny(ymt,{codecDescription:t,max:r,min:e,value:n})}function wpe(t){return t?.endian!==1}function Imt(t){return Emt({fixedSize:t.size,write(e,r,n){t.range&&kmt(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,wpe(t.config)),r.set(new Uint8Array(i),n),n+t.size}})}function Tmt(t){return _mt({fixedSize:t.size,read(e,r=0){Smt(t.name,e,r),Cmt(t.name,t.size,e,r);const n=new DataView($mt(e,r,t.size));return[t.get(n,wpe(t.config)),r+t.size]}})}function $mt(t,e,r){const n=t.byteOffset+(e??0),i=r??t.byteLength;return t.buffer.slice(n,n+i)}var vpe=(t={})=>Imt({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,r,n)=>e.setBigUint64(0,BigInt(r),n),size:8}),Mmt=(t={})=>Tmt({config:t,get:(e,r)=>e.getBigUint64(0,r),name:"u64",size:8}),Pmt=(t={})=>Amt(vpe(t),Mmt(t)),S8={exports:{}},Nmt=S8.exports,XQ;function Rmt(){return XQ||(XQ=1,(function(t){(function(e,r){function n(_,d){if(!_)throw new Error(d||"Assertion failed")}function i(_,d){_.super_=d;var g=function(){};g.prototype=d.prototype,_.prototype=new g,_.prototype.constructor=_}function s(_,d,g){if(s.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&((d==="le"||d==="be")&&(g=d,d=10),this._init(_||0,d||10,g||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Tw().Buffer}catch{}s.isBN=function(d){return d instanceof s?!0:d!==null&&typeof d=="object"&&d.constructor.wordSize===s.wordSize&&Array.isArray(d.words)},s.max=function(d,g){return d.cmp(g)>0?d:g},s.min=function(d,g){return d.cmp(g)<0?d:g},s.prototype._init=function(d,g,x){if(typeof d=="number")return this._initNumber(d,g,x);if(typeof d=="object")return this._initArray(d,g,x);g==="hex"&&(g=16),n(g===(g|0)&&g>=2&&g<=36),d=d.toString().replace(/\s+/g,"");var C=0;d[0]==="-"&&(C++,this.negative=1),C<d.length&&(g===16?this._parseHex(d,C,x):(this._parseBase(d,g,C),x==="le"&&this._initArray(this.toArray(),g,x)))},s.prototype._initNumber=function(d,g,x){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[d&67108863],this.length=1):d<4503599627370496?(this.words=[d&67108863,d/67108864&67108863],this.length=2):(n(d<9007199254740992),this.words=[d&67108863,d/67108864&67108863,1],this.length=3),x==="le"&&this._initArray(this.toArray(),g,x)},s.prototype._initArray=function(d,g,x){if(n(typeof d.length=="number"),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var k,T,R=0;if(x==="be")for(C=d.length-1,k=0;C>=0;C-=3)T=d[C]|d[C-1]<<8|d[C-2]<<16,this.words[k]|=T<<R&67108863,this.words[k+1]=T>>>26-R&67108863,R+=24,R>=26&&(R-=26,k++);else if(x==="le")for(C=0,k=0;C<d.length;C+=3)T=d[C]|d[C+1]<<8|d[C+2]<<16,this.words[k]|=T<<R&67108863,this.words[k+1]=T>>>26-R&67108863,R+=24,R>=26&&(R-=26,k++);return this._strip()};function a(_,d){var g=_.charCodeAt(d);if(g>=48&&g<=57)return g-48;if(g>=65&&g<=70)return g-55;if(g>=97&&g<=102)return g-87;n(!1,"Invalid character in "+_)}function l(_,d,g){var x=a(_,g);return g-1>=d&&(x|=a(_,g-1)<<4),x}s.prototype._parseHex=function(d,g,x){this.length=Math.ceil((d.length-g)/6),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var k=0,T=0,R;if(x==="be")for(C=d.length-1;C>=g;C-=2)R=l(d,g,C)<<k,this.words[T]|=R&67108863,k>=18?(k-=18,T+=1,this.words[T]|=R>>>26):k+=8;else{var I=d.length-g;for(C=I%2===0?g+1:g;C<d.length;C+=2)R=l(d,g,C)<<k,this.words[T]|=R&67108863,k>=18?(k-=18,T+=1,this.words[T]|=R>>>26):k+=8}this._strip()};function u(_,d,g,x){for(var C=0,k=0,T=Math.min(_.length,g),R=d;R<T;R++){var I=_.charCodeAt(R)-48;C*=x,I>=49?k=I-49+10:I>=17?k=I-17+10:k=I,n(I>=0&&k<x,"Invalid character"),C+=k}return C}s.prototype._parseBase=function(d,g,x){this.words=[0],this.length=1;for(var C=0,k=1;k<=67108863;k*=g)C++;C--,k=k/g|0;for(var T=d.length-x,R=T%C,I=Math.min(T,T-R)+x,f=0,S=x;S<I;S+=C)f=u(d,S,S+C,g),this.imuln(k),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(R!==0){var K=1;for(f=u(d,S,d.length,g),S=0;S<R;S++)K*=g;this.imuln(K),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},s.prototype.copy=function(d){d.words=new Array(this.length);for(var g=0;g<this.length;g++)d.words[g]=this.words[g];d.length=this.length,d.negative=this.negative,d.red=this.red};function c(_,d){_.words=d.words,_.length=d.length,_.negative=d.negative,_.red=d.red}if(s.prototype._move=function(d){c(d,this)},s.prototype.clone=function(){var d=new s(null);return this.copy(d),d},s.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{s.prototype.inspect=h}else s.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(d,g){d=d||10,g=g|0||1;var x;if(d===16||d==="hex"){x="";for(var C=0,k=0,T=0;T<this.length;T++){var R=this.words[T],I=((R<<C|k)&16777215).toString(16);k=R>>>24-C&16777215,C+=2,C>=26&&(C-=26,T--),k!==0||T!==this.length-1?x=m[6-I.length]+I+x:x=I+x}for(k!==0&&(x=k.toString(16)+x);x.length%g!==0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}if(d===(d|0)&&d>=2&&d<=36){var f=y[d],S=b[d];x="";var K=this.clone();for(K.negative=0;!K.isZero();){var D=K.modrn(S).toString(d);K=K.idivn(S),K.isZero()?x=D+x:x=m[f-D.length]+D+x}for(this.isZero()&&(x="0"+x);x.length%g!==0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var d=this.words[0];return this.length===2?d+=this.words[1]*67108864:this.length===3&&this.words[2]===1?d+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-d:d},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(d,g){return this.toArrayLike(o,d,g)}),s.prototype.toArray=function(d,g){return this.toArrayLike(Array,d,g)};var E=function(d,g){return d.allocUnsafe?d.allocUnsafe(g):new d(g)};s.prototype.toArrayLike=function(d,g,x){this._strip();var C=this.byteLength(),k=x||Math.max(1,C);n(C<=k,"byte array longer than desired length"),n(k>0,"Requested array length <= 0");var T=E(d,k),R=g==="le"?"LE":"BE";return this["_toArrayLike"+R](T,C),T},s.prototype._toArrayLikeLE=function(d,g){for(var x=0,C=0,k=0,T=0;k<this.length;k++){var R=this.words[k]<<T|C;d[x++]=R&255,x<d.length&&(d[x++]=R>>8&255),x<d.length&&(d[x++]=R>>16&255),T===6?(x<d.length&&(d[x++]=R>>24&255),C=0,T=0):(C=R>>>24,T+=2)}if(x<d.length)for(d[x++]=C;x<d.length;)d[x++]=0},s.prototype._toArrayLikeBE=function(d,g){for(var x=d.length-1,C=0,k=0,T=0;k<this.length;k++){var R=this.words[k]<<T|C;d[x--]=R&255,x>=0&&(d[x--]=R>>8&255),x>=0&&(d[x--]=R>>16&255),T===6?(x>=0&&(d[x--]=R>>24&255),C=0,T=0):(C=R>>>24,T+=2)}if(x>=0)for(d[x--]=C;x>=0;)d[x--]=0},Math.clz32?s.prototype._countBits=function(d){return 32-Math.clz32(d)}:s.prototype._countBits=function(d){var g=d,x=0;return g>=4096&&(x+=13,g>>>=13),g>=64&&(x+=7,g>>>=7),g>=8&&(x+=4,g>>>=4),g>=2&&(x+=2,g>>>=2),x+g},s.prototype._zeroBits=function(d){if(d===0)return 26;var g=d,x=0;return(g&8191)===0&&(x+=13,g>>>=13),(g&127)===0&&(x+=7,g>>>=7),(g&15)===0&&(x+=4,g>>>=4),(g&3)===0&&(x+=2,g>>>=2),(g&1)===0&&x++,x},s.prototype.bitLength=function(){var d=this.words[this.length-1],g=this._countBits(d);return(this.length-1)*26+g};function A(_){for(var d=new Array(_.bitLength()),g=0;g<d.length;g++){var x=g/26|0,C=g%26;d[g]=_.words[x]>>>C&1}return d}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,g=0;g<this.length;g++){var x=this._zeroBits(this.words[g]);if(d+=x,x!==26)break}return d},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(d){return this.negative!==0?this.abs().inotn(d).iaddn(1):this.clone()},s.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var g=0;g<d.length;g++)this.words[g]=this.words[g]|d.words[g];return this._strip()},s.prototype.ior=function(d){return n((this.negative|d.negative)===0),this.iuor(d)},s.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},s.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},s.prototype.iuand=function(d){var g;this.length>d.length?g=d:g=this;for(var x=0;x<g.length;x++)this.words[x]=this.words[x]&d.words[x];return this.length=g.length,this._strip()},s.prototype.iand=function(d){return n((this.negative|d.negative)===0),this.iuand(d)},s.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},s.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},s.prototype.iuxor=function(d){var g,x;this.length>d.length?(g=this,x=d):(g=d,x=this);for(var C=0;C<x.length;C++)this.words[C]=g.words[C]^x.words[C];if(this!==g)for(;C<g.length;C++)this.words[C]=g.words[C];return this.length=g.length,this._strip()},s.prototype.ixor=function(d){return n((this.negative|d.negative)===0),this.iuxor(d)},s.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},s.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},s.prototype.inotn=function(d){n(typeof d=="number"&&d>=0);var g=Math.ceil(d/26)|0,x=d%26;this._expand(g),x>0&&g--;for(var C=0;C<g;C++)this.words[C]=~this.words[C]&67108863;return x>0&&(this.words[C]=~this.words[C]&67108863>>26-x),this._strip()},s.prototype.notn=function(d){return this.clone().inotn(d)},s.prototype.setn=function(d,g){n(typeof d=="number"&&d>=0);var x=d/26|0,C=d%26;return this._expand(x+1),g?this.words[x]=this.words[x]|1<<C:this.words[x]=this.words[x]&~(1<<C),this._strip()},s.prototype.iadd=function(d){var g;if(this.negative!==0&&d.negative===0)return this.negative=0,g=this.isub(d),this.negative^=1,this._normSign();if(this.negative===0&&d.negative!==0)return d.negative=0,g=this.isub(d),d.negative=1,g._normSign();var x,C;this.length>d.length?(x=this,C=d):(x=d,C=this);for(var k=0,T=0;T<C.length;T++)g=(x.words[T]|0)+(C.words[T]|0)+k,this.words[T]=g&67108863,k=g>>>26;for(;k!==0&&T<x.length;T++)g=(x.words[T]|0)+k,this.words[T]=g&67108863,k=g>>>26;if(this.length=x.length,k!==0)this.words[this.length]=k,this.length++;else if(x!==this)for(;T<x.length;T++)this.words[T]=x.words[T];return this},s.prototype.add=function(d){var g;return d.negative!==0&&this.negative===0?(d.negative=0,g=this.sub(d),d.negative^=1,g):d.negative===0&&this.negative!==0?(this.negative=0,g=d.sub(this),this.negative=1,g):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},s.prototype.isub=function(d){if(d.negative!==0){d.negative=0;var g=this.iadd(d);return d.negative=1,g._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var x=this.cmp(d);if(x===0)return this.negative=0,this.length=1,this.words[0]=0,this;var C,k;x>0?(C=this,k=d):(C=d,k=this);for(var T=0,R=0;R<k.length;R++)g=(C.words[R]|0)-(k.words[R]|0)+T,T=g>>26,this.words[R]=g&67108863;for(;T!==0&&R<C.length;R++)g=(C.words[R]|0)+T,T=g>>26,this.words[R]=g&67108863;if(T===0&&R<C.length&&C!==this)for(;R<C.length;R++)this.words[R]=C.words[R];return this.length=Math.max(this.length,R),C!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(d){return this.clone().isub(d)};function M(_,d,g){g.negative=d.negative^_.negative;var x=_.length+d.length|0;g.length=x,x=x-1|0;var C=_.words[0]|0,k=d.words[0]|0,T=C*k,R=T&67108863,I=T/67108864|0;g.words[0]=R;for(var f=1;f<x;f++){for(var S=I>>>26,K=I&67108863,D=Math.min(f,d.length-1),J=Math.max(0,f-_.length+1);J<=D;J++){var ne=f-J|0;C=_.words[ne]|0,k=d.words[J]|0,T=C*k+K,S+=T/67108864|0,K=T&67108863}g.words[f]=K|0,I=S|0}return I!==0?g.words[f]=I|0:g.length--,g._strip()}var O=function(d,g,x){var C=d.words,k=g.words,T=x.words,R=0,I,f,S,K=C[0]|0,D=K&8191,J=K>>>13,ne=C[1]|0,ie=ne&8191,ce=ne>>>13,Se=C[2]|0,ye=Se&8191,Ae=Se>>>13,tt=C[3]|0,Ce=tt&8191,je=tt>>>13,mt=C[4]|0,pe=mt&8191,Le=mt>>>13,Mt=C[5]|0,Ie=Mt&8191,Me=Mt>>>13,ht=C[6]|0,Je=ht&8191,De=ht>>>13,At=C[7]|0,it=At&8191,et=At>>>13,St=C[8]|0,Xe=St&8191,se=St>>>13,X=C[9]|0,ee=X&8191,oe=X>>>13,ge=k[0]|0,fe=ge&8191,ve=ge>>>13,ut=k[1]|0,Pe=ut&8191,Ye=ut>>>13,Ut=k[2]|0,Oe=Ut&8191,nt=Ut>>>13,hr=k[3]|0,Fe=hr&8191,ct=hr>>>13,Nr=k[4]|0,dt=Nr&8191,Y=Nr>>>13,V=k[5]|0,Z=V&8191,te=V>>>13,ae=k[6]|0,le=ae&8191,de=ae>>>13,Ze=k[7]|0,Be=Ze&8191,He=Ze>>>13,qt=k[8]|0,Ge=qt&8191,ot=qt>>>13,Nt=k[9]|0,lt=Nt&8191,at=Nt>>>13;x.negative=d.negative^g.negative,x.length=19,I=Math.imul(D,fe),f=Math.imul(D,ve),f=f+Math.imul(J,fe)|0,S=Math.imul(J,ve);var Ir=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,I=Math.imul(ie,fe),f=Math.imul(ie,ve),f=f+Math.imul(ce,fe)|0,S=Math.imul(ce,ve),I=I+Math.imul(D,Pe)|0,f=f+Math.imul(D,Ye)|0,f=f+Math.imul(J,Pe)|0,S=S+Math.imul(J,Ye)|0;var $r=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+($r>>>26)|0,$r&=67108863,I=Math.imul(ye,fe),f=Math.imul(ye,ve),f=f+Math.imul(Ae,fe)|0,S=Math.imul(Ae,ve),I=I+Math.imul(ie,Pe)|0,f=f+Math.imul(ie,Ye)|0,f=f+Math.imul(ce,Pe)|0,S=S+Math.imul(ce,Ye)|0,I=I+Math.imul(D,Oe)|0,f=f+Math.imul(D,nt)|0,f=f+Math.imul(J,Oe)|0,S=S+Math.imul(J,nt)|0;var _r=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(_r>>>26)|0,_r&=67108863,I=Math.imul(Ce,fe),f=Math.imul(Ce,ve),f=f+Math.imul(je,fe)|0,S=Math.imul(je,ve),I=I+Math.imul(ye,Pe)|0,f=f+Math.imul(ye,Ye)|0,f=f+Math.imul(Ae,Pe)|0,S=S+Math.imul(Ae,Ye)|0,I=I+Math.imul(ie,Oe)|0,f=f+Math.imul(ie,nt)|0,f=f+Math.imul(ce,Oe)|0,S=S+Math.imul(ce,nt)|0,I=I+Math.imul(D,Fe)|0,f=f+Math.imul(D,ct)|0,f=f+Math.imul(J,Fe)|0,S=S+Math.imul(J,ct)|0;var Sr=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,I=Math.imul(pe,fe),f=Math.imul(pe,ve),f=f+Math.imul(Le,fe)|0,S=Math.imul(Le,ve),I=I+Math.imul(Ce,Pe)|0,f=f+Math.imul(Ce,Ye)|0,f=f+Math.imul(je,Pe)|0,S=S+Math.imul(je,Ye)|0,I=I+Math.imul(ye,Oe)|0,f=f+Math.imul(ye,nt)|0,f=f+Math.imul(Ae,Oe)|0,S=S+Math.imul(Ae,nt)|0,I=I+Math.imul(ie,Fe)|0,f=f+Math.imul(ie,ct)|0,f=f+Math.imul(ce,Fe)|0,S=S+Math.imul(ce,ct)|0,I=I+Math.imul(D,dt)|0,f=f+Math.imul(D,Y)|0,f=f+Math.imul(J,dt)|0,S=S+Math.imul(J,Y)|0;var jr=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(jr>>>26)|0,jr&=67108863,I=Math.imul(Ie,fe),f=Math.imul(Ie,ve),f=f+Math.imul(Me,fe)|0,S=Math.imul(Me,ve),I=I+Math.imul(pe,Pe)|0,f=f+Math.imul(pe,Ye)|0,f=f+Math.imul(Le,Pe)|0,S=S+Math.imul(Le,Ye)|0,I=I+Math.imul(Ce,Oe)|0,f=f+Math.imul(Ce,nt)|0,f=f+Math.imul(je,Oe)|0,S=S+Math.imul(je,nt)|0,I=I+Math.imul(ye,Fe)|0,f=f+Math.imul(ye,ct)|0,f=f+Math.imul(Ae,Fe)|0,S=S+Math.imul(Ae,ct)|0,I=I+Math.imul(ie,dt)|0,f=f+Math.imul(ie,Y)|0,f=f+Math.imul(ce,dt)|0,S=S+Math.imul(ce,Y)|0,I=I+Math.imul(D,Z)|0,f=f+Math.imul(D,te)|0,f=f+Math.imul(J,Z)|0,S=S+Math.imul(J,te)|0;var an=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(an>>>26)|0,an&=67108863,I=Math.imul(Je,fe),f=Math.imul(Je,ve),f=f+Math.imul(De,fe)|0,S=Math.imul(De,ve),I=I+Math.imul(Ie,Pe)|0,f=f+Math.imul(Ie,Ye)|0,f=f+Math.imul(Me,Pe)|0,S=S+Math.imul(Me,Ye)|0,I=I+Math.imul(pe,Oe)|0,f=f+Math.imul(pe,nt)|0,f=f+Math.imul(Le,Oe)|0,S=S+Math.imul(Le,nt)|0,I=I+Math.imul(Ce,Fe)|0,f=f+Math.imul(Ce,ct)|0,f=f+Math.imul(je,Fe)|0,S=S+Math.imul(je,ct)|0,I=I+Math.imul(ye,dt)|0,f=f+Math.imul(ye,Y)|0,f=f+Math.imul(Ae,dt)|0,S=S+Math.imul(Ae,Y)|0,I=I+Math.imul(ie,Z)|0,f=f+Math.imul(ie,te)|0,f=f+Math.imul(ce,Z)|0,S=S+Math.imul(ce,te)|0,I=I+Math.imul(D,le)|0,f=f+Math.imul(D,de)|0,f=f+Math.imul(J,le)|0,S=S+Math.imul(J,de)|0;var Xn=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,I=Math.imul(it,fe),f=Math.imul(it,ve),f=f+Math.imul(et,fe)|0,S=Math.imul(et,ve),I=I+Math.imul(Je,Pe)|0,f=f+Math.imul(Je,Ye)|0,f=f+Math.imul(De,Pe)|0,S=S+Math.imul(De,Ye)|0,I=I+Math.imul(Ie,Oe)|0,f=f+Math.imul(Ie,nt)|0,f=f+Math.imul(Me,Oe)|0,S=S+Math.imul(Me,nt)|0,I=I+Math.imul(pe,Fe)|0,f=f+Math.imul(pe,ct)|0,f=f+Math.imul(Le,Fe)|0,S=S+Math.imul(Le,ct)|0,I=I+Math.imul(Ce,dt)|0,f=f+Math.imul(Ce,Y)|0,f=f+Math.imul(je,dt)|0,S=S+Math.imul(je,Y)|0,I=I+Math.imul(ye,Z)|0,f=f+Math.imul(ye,te)|0,f=f+Math.imul(Ae,Z)|0,S=S+Math.imul(Ae,te)|0,I=I+Math.imul(ie,le)|0,f=f+Math.imul(ie,de)|0,f=f+Math.imul(ce,le)|0,S=S+Math.imul(ce,de)|0,I=I+Math.imul(D,Be)|0,f=f+Math.imul(D,He)|0,f=f+Math.imul(J,Be)|0,S=S+Math.imul(J,He)|0;var Lt=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,I=Math.imul(Xe,fe),f=Math.imul(Xe,ve),f=f+Math.imul(se,fe)|0,S=Math.imul(se,ve),I=I+Math.imul(it,Pe)|0,f=f+Math.imul(it,Ye)|0,f=f+Math.imul(et,Pe)|0,S=S+Math.imul(et,Ye)|0,I=I+Math.imul(Je,Oe)|0,f=f+Math.imul(Je,nt)|0,f=f+Math.imul(De,Oe)|0,S=S+Math.imul(De,nt)|0,I=I+Math.imul(Ie,Fe)|0,f=f+Math.imul(Ie,ct)|0,f=f+Math.imul(Me,Fe)|0,S=S+Math.imul(Me,ct)|0,I=I+Math.imul(pe,dt)|0,f=f+Math.imul(pe,Y)|0,f=f+Math.imul(Le,dt)|0,S=S+Math.imul(Le,Y)|0,I=I+Math.imul(Ce,Z)|0,f=f+Math.imul(Ce,te)|0,f=f+Math.imul(je,Z)|0,S=S+Math.imul(je,te)|0,I=I+Math.imul(ye,le)|0,f=f+Math.imul(ye,de)|0,f=f+Math.imul(Ae,le)|0,S=S+Math.imul(Ae,de)|0,I=I+Math.imul(ie,Be)|0,f=f+Math.imul(ie,He)|0,f=f+Math.imul(ce,Be)|0,S=S+Math.imul(ce,He)|0,I=I+Math.imul(D,Ge)|0,f=f+Math.imul(D,ot)|0,f=f+Math.imul(J,Ge)|0,S=S+Math.imul(J,ot)|0;var qr=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(qr>>>26)|0,qr&=67108863,I=Math.imul(ee,fe),f=Math.imul(ee,ve),f=f+Math.imul(oe,fe)|0,S=Math.imul(oe,ve),I=I+Math.imul(Xe,Pe)|0,f=f+Math.imul(Xe,Ye)|0,f=f+Math.imul(se,Pe)|0,S=S+Math.imul(se,Ye)|0,I=I+Math.imul(it,Oe)|0,f=f+Math.imul(it,nt)|0,f=f+Math.imul(et,Oe)|0,S=S+Math.imul(et,nt)|0,I=I+Math.imul(Je,Fe)|0,f=f+Math.imul(Je,ct)|0,f=f+Math.imul(De,Fe)|0,S=S+Math.imul(De,ct)|0,I=I+Math.imul(Ie,dt)|0,f=f+Math.imul(Ie,Y)|0,f=f+Math.imul(Me,dt)|0,S=S+Math.imul(Me,Y)|0,I=I+Math.imul(pe,Z)|0,f=f+Math.imul(pe,te)|0,f=f+Math.imul(Le,Z)|0,S=S+Math.imul(Le,te)|0,I=I+Math.imul(Ce,le)|0,f=f+Math.imul(Ce,de)|0,f=f+Math.imul(je,le)|0,S=S+Math.imul(je,de)|0,I=I+Math.imul(ye,Be)|0,f=f+Math.imul(ye,He)|0,f=f+Math.imul(Ae,Be)|0,S=S+Math.imul(Ae,He)|0,I=I+Math.imul(ie,Ge)|0,f=f+Math.imul(ie,ot)|0,f=f+Math.imul(ce,Ge)|0,S=S+Math.imul(ce,ot)|0,I=I+Math.imul(D,lt)|0,f=f+Math.imul(D,at)|0,f=f+Math.imul(J,lt)|0,S=S+Math.imul(J,at)|0;var fr=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(fr>>>26)|0,fr&=67108863,I=Math.imul(ee,Pe),f=Math.imul(ee,Ye),f=f+Math.imul(oe,Pe)|0,S=Math.imul(oe,Ye),I=I+Math.imul(Xe,Oe)|0,f=f+Math.imul(Xe,nt)|0,f=f+Math.imul(se,Oe)|0,S=S+Math.imul(se,nt)|0,I=I+Math.imul(it,Fe)|0,f=f+Math.imul(it,ct)|0,f=f+Math.imul(et,Fe)|0,S=S+Math.imul(et,ct)|0,I=I+Math.imul(Je,dt)|0,f=f+Math.imul(Je,Y)|0,f=f+Math.imul(De,dt)|0,S=S+Math.imul(De,Y)|0,I=I+Math.imul(Ie,Z)|0,f=f+Math.imul(Ie,te)|0,f=f+Math.imul(Me,Z)|0,S=S+Math.imul(Me,te)|0,I=I+Math.imul(pe,le)|0,f=f+Math.imul(pe,de)|0,f=f+Math.imul(Le,le)|0,S=S+Math.imul(Le,de)|0,I=I+Math.imul(Ce,Be)|0,f=f+Math.imul(Ce,He)|0,f=f+Math.imul(je,Be)|0,S=S+Math.imul(je,He)|0,I=I+Math.imul(ye,Ge)|0,f=f+Math.imul(ye,ot)|0,f=f+Math.imul(Ae,Ge)|0,S=S+Math.imul(Ae,ot)|0,I=I+Math.imul(ie,lt)|0,f=f+Math.imul(ie,at)|0,f=f+Math.imul(ce,lt)|0,S=S+Math.imul(ce,at)|0;var Cn=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,I=Math.imul(ee,Oe),f=Math.imul(ee,nt),f=f+Math.imul(oe,Oe)|0,S=Math.imul(oe,nt),I=I+Math.imul(Xe,Fe)|0,f=f+Math.imul(Xe,ct)|0,f=f+Math.imul(se,Fe)|0,S=S+Math.imul(se,ct)|0,I=I+Math.imul(it,dt)|0,f=f+Math.imul(it,Y)|0,f=f+Math.imul(et,dt)|0,S=S+Math.imul(et,Y)|0,I=I+Math.imul(Je,Z)|0,f=f+Math.imul(Je,te)|0,f=f+Math.imul(De,Z)|0,S=S+Math.imul(De,te)|0,I=I+Math.imul(Ie,le)|0,f=f+Math.imul(Ie,de)|0,f=f+Math.imul(Me,le)|0,S=S+Math.imul(Me,de)|0,I=I+Math.imul(pe,Be)|0,f=f+Math.imul(pe,He)|0,f=f+Math.imul(Le,Be)|0,S=S+Math.imul(Le,He)|0,I=I+Math.imul(Ce,Ge)|0,f=f+Math.imul(Ce,ot)|0,f=f+Math.imul(je,Ge)|0,S=S+Math.imul(je,ot)|0,I=I+Math.imul(ye,lt)|0,f=f+Math.imul(ye,at)|0,f=f+Math.imul(Ae,lt)|0,S=S+Math.imul(Ae,at)|0;var pn=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(pn>>>26)|0,pn&=67108863,I=Math.imul(ee,Fe),f=Math.imul(ee,ct),f=f+Math.imul(oe,Fe)|0,S=Math.imul(oe,ct),I=I+Math.imul(Xe,dt)|0,f=f+Math.imul(Xe,Y)|0,f=f+Math.imul(se,dt)|0,S=S+Math.imul(se,Y)|0,I=I+Math.imul(it,Z)|0,f=f+Math.imul(it,te)|0,f=f+Math.imul(et,Z)|0,S=S+Math.imul(et,te)|0,I=I+Math.imul(Je,le)|0,f=f+Math.imul(Je,de)|0,f=f+Math.imul(De,le)|0,S=S+Math.imul(De,de)|0,I=I+Math.imul(Ie,Be)|0,f=f+Math.imul(Ie,He)|0,f=f+Math.imul(Me,Be)|0,S=S+Math.imul(Me,He)|0,I=I+Math.imul(pe,Ge)|0,f=f+Math.imul(pe,ot)|0,f=f+Math.imul(Le,Ge)|0,S=S+Math.imul(Le,ot)|0,I=I+Math.imul(Ce,lt)|0,f=f+Math.imul(Ce,at)|0,f=f+Math.imul(je,lt)|0,S=S+Math.imul(je,at)|0;var gi=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(gi>>>26)|0,gi&=67108863,I=Math.imul(ee,dt),f=Math.imul(ee,Y),f=f+Math.imul(oe,dt)|0,S=Math.imul(oe,Y),I=I+Math.imul(Xe,Z)|0,f=f+Math.imul(Xe,te)|0,f=f+Math.imul(se,Z)|0,S=S+Math.imul(se,te)|0,I=I+Math.imul(it,le)|0,f=f+Math.imul(it,de)|0,f=f+Math.imul(et,le)|0,S=S+Math.imul(et,de)|0,I=I+Math.imul(Je,Be)|0,f=f+Math.imul(Je,He)|0,f=f+Math.imul(De,Be)|0,S=S+Math.imul(De,He)|0,I=I+Math.imul(Ie,Ge)|0,f=f+Math.imul(Ie,ot)|0,f=f+Math.imul(Me,Ge)|0,S=S+Math.imul(Me,ot)|0,I=I+Math.imul(pe,lt)|0,f=f+Math.imul(pe,at)|0,f=f+Math.imul(Le,lt)|0,S=S+Math.imul(Le,at)|0;var ui=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(ui>>>26)|0,ui&=67108863,I=Math.imul(ee,Z),f=Math.imul(ee,te),f=f+Math.imul(oe,Z)|0,S=Math.imul(oe,te),I=I+Math.imul(Xe,le)|0,f=f+Math.imul(Xe,de)|0,f=f+Math.imul(se,le)|0,S=S+Math.imul(se,de)|0,I=I+Math.imul(it,Be)|0,f=f+Math.imul(it,He)|0,f=f+Math.imul(et,Be)|0,S=S+Math.imul(et,He)|0,I=I+Math.imul(Je,Ge)|0,f=f+Math.imul(Je,ot)|0,f=f+Math.imul(De,Ge)|0,S=S+Math.imul(De,ot)|0,I=I+Math.imul(Ie,lt)|0,f=f+Math.imul(Ie,at)|0,f=f+Math.imul(Me,lt)|0,S=S+Math.imul(Me,at)|0;var Gn=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,I=Math.imul(ee,le),f=Math.imul(ee,de),f=f+Math.imul(oe,le)|0,S=Math.imul(oe,de),I=I+Math.imul(Xe,Be)|0,f=f+Math.imul(Xe,He)|0,f=f+Math.imul(se,Be)|0,S=S+Math.imul(se,He)|0,I=I+Math.imul(it,Ge)|0,f=f+Math.imul(it,ot)|0,f=f+Math.imul(et,Ge)|0,S=S+Math.imul(et,ot)|0,I=I+Math.imul(Je,lt)|0,f=f+Math.imul(Je,at)|0,f=f+Math.imul(De,lt)|0,S=S+Math.imul(De,at)|0;var gn=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(gn>>>26)|0,gn&=67108863,I=Math.imul(ee,Be),f=Math.imul(ee,He),f=f+Math.imul(oe,Be)|0,S=Math.imul(oe,He),I=I+Math.imul(Xe,Ge)|0,f=f+Math.imul(Xe,ot)|0,f=f+Math.imul(se,Ge)|0,S=S+Math.imul(se,ot)|0,I=I+Math.imul(it,lt)|0,f=f+Math.imul(it,at)|0,f=f+Math.imul(et,lt)|0,S=S+Math.imul(et,at)|0;var Ti=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,I=Math.imul(ee,Ge),f=Math.imul(ee,ot),f=f+Math.imul(oe,Ge)|0,S=Math.imul(oe,ot),I=I+Math.imul(Xe,lt)|0,f=f+Math.imul(Xe,at)|0,f=f+Math.imul(se,lt)|0,S=S+Math.imul(se,at)|0;var kn=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(kn>>>26)|0,kn&=67108863,I=Math.imul(ee,lt),f=Math.imul(ee,at),f=f+Math.imul(oe,lt)|0,S=Math.imul(oe,at);var Ei=(R+I|0)+((f&8191)<<13)|0;return R=(S+(f>>>13)|0)+(Ei>>>26)|0,Ei&=67108863,T[0]=Ir,T[1]=$r,T[2]=_r,T[3]=Sr,T[4]=jr,T[5]=an,T[6]=Xn,T[7]=Lt,T[8]=qr,T[9]=fr,T[10]=Cn,T[11]=pn,T[12]=gi,T[13]=ui,T[14]=Gn,T[15]=gn,T[16]=Ti,T[17]=kn,T[18]=Ei,R!==0&&(T[19]=R,x.length++),x};Math.imul||(O=M);function P(_,d,g){g.negative=d.negative^_.negative,g.length=_.length+d.length;for(var x=0,C=0,k=0;k<g.length-1;k++){var T=C;C=0;for(var R=x&67108863,I=Math.min(k,d.length-1),f=Math.max(0,k-_.length+1);f<=I;f++){var S=k-f,K=_.words[S]|0,D=d.words[f]|0,J=K*D,ne=J&67108863;T=T+(J/67108864|0)|0,ne=ne+R|0,R=ne&67108863,T=T+(ne>>>26)|0,C+=T>>>26,T&=67108863}g.words[k]=R,x=T,T=C}return x!==0?g.words[k]=x:g.length--,g._strip()}function z(_,d,g){return P(_,d,g)}s.prototype.mulTo=function(d,g){var x,C=this.length+d.length;return this.length===10&&d.length===10?x=O(this,d,g):C<63?x=M(this,d,g):C<1024?x=P(this,d,g):x=z(this,d,g),x},s.prototype.mul=function(d){var g=new s(null);return g.words=new Array(this.length+d.length),this.mulTo(d,g)},s.prototype.mulf=function(d){var g=new s(null);return g.words=new Array(this.length+d.length),z(this,d,g)},s.prototype.imul=function(d){return this.clone().mulTo(d,this)},s.prototype.imuln=function(d){var g=d<0;g&&(d=-d),n(typeof d=="number"),n(d<67108864);for(var x=0,C=0;C<this.length;C++){var k=(this.words[C]|0)*d,T=(k&67108863)+(x&67108863);x>>=26,x+=k/67108864|0,x+=T>>>26,this.words[C]=T&67108863}return x!==0&&(this.words[C]=x,this.length++),this.length=d===0?1:this.length,g?this.ineg():this},s.prototype.muln=function(d){return this.clone().imuln(d)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(d){var g=A(d);if(g.length===0)return new s(1);for(var x=this,C=0;C<g.length&&g[C]===0;C++,x=x.sqr());if(++C<g.length)for(var k=x.sqr();C<g.length;C++,k=k.sqr())g[C]!==0&&(x=x.mul(k));return x},s.prototype.iushln=function(d){n(typeof d=="number"&&d>=0);var g=d%26,x=(d-g)/26,C=67108863>>>26-g<<26-g,k;if(g!==0){var T=0;for(k=0;k<this.length;k++){var R=this.words[k]&C,I=(this.words[k]|0)-R<<g;this.words[k]=I|T,T=R>>>26-g}T&&(this.words[k]=T,this.length++)}if(x!==0){for(k=this.length-1;k>=0;k--)this.words[k+x]=this.words[k];for(k=0;k<x;k++)this.words[k]=0;this.length+=x}return this._strip()},s.prototype.ishln=function(d){return n(this.negative===0),this.iushln(d)},s.prototype.iushrn=function(d,g,x){n(typeof d=="number"&&d>=0);var C;g?C=(g-g%26)/26:C=0;var k=d%26,T=Math.min((d-k)/26,this.length),R=67108863^67108863>>>k<<k,I=x;if(C-=T,C=Math.max(0,C),I){for(var f=0;f<T;f++)I.words[f]=this.words[f];I.length=T}if(T!==0)if(this.length>T)for(this.length-=T,f=0;f<this.length;f++)this.words[f]=this.words[f+T];else this.words[0]=0,this.length=1;var S=0;for(f=this.length-1;f>=0&&(S!==0||f>=C);f--){var K=this.words[f]|0;this.words[f]=S<<26-k|K>>>k,S=K&R}return I&&S!==0&&(I.words[I.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(d,g,x){return n(this.negative===0),this.iushrn(d,g,x)},s.prototype.shln=function(d){return this.clone().ishln(d)},s.prototype.ushln=function(d){return this.clone().iushln(d)},s.prototype.shrn=function(d){return this.clone().ishrn(d)},s.prototype.ushrn=function(d){return this.clone().iushrn(d)},s.prototype.testn=function(d){n(typeof d=="number"&&d>=0);var g=d%26,x=(d-g)/26,C=1<<g;if(this.length<=x)return!1;var k=this.words[x];return!!(k&C)},s.prototype.imaskn=function(d){n(typeof d=="number"&&d>=0);var g=d%26,x=(d-g)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=x)return this;if(g!==0&&x++,this.length=Math.min(x,this.length),g!==0){var C=67108863^67108863>>>g<<g;this.words[this.length-1]&=C}return this._strip()},s.prototype.maskn=function(d){return this.clone().imaskn(d)},s.prototype.iaddn=function(d){return n(typeof d=="number"),n(d<67108864),d<0?this.isubn(-d):this.negative!==0?this.length===1&&(this.words[0]|0)<=d?(this.words[0]=d-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},s.prototype._iaddn=function(d){this.words[0]+=d;for(var g=0;g<this.length&&this.words[g]>=67108864;g++)this.words[g]-=67108864,g===this.length-1?this.words[g+1]=1:this.words[g+1]++;return this.length=Math.max(this.length,g+1),this},s.prototype.isubn=function(d){if(n(typeof d=="number"),n(d<67108864),d<0)return this.iaddn(-d);if(this.negative!==0)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var g=0;g<this.length&&this.words[g]<0;g++)this.words[g]+=67108864,this.words[g+1]-=1;return this._strip()},s.prototype.addn=function(d){return this.clone().iaddn(d)},s.prototype.subn=function(d){return this.clone().isubn(d)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(d,g,x){var C=d.length+x,k;this._expand(C);var T,R=0;for(k=0;k<d.length;k++){T=(this.words[k+x]|0)+R;var I=(d.words[k]|0)*g;T-=I&67108863,R=(T>>26)-(I/67108864|0),this.words[k+x]=T&67108863}for(;k<this.length-x;k++)T=(this.words[k+x]|0)+R,R=T>>26,this.words[k+x]=T&67108863;if(R===0)return this._strip();for(n(R===-1),R=0,k=0;k<this.length;k++)T=-(this.words[k]|0)+R,R=T>>26,this.words[k]=T&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(d,g){var x=this.length-d.length,C=this.clone(),k=d,T=k.words[k.length-1]|0,R=this._countBits(T);x=26-R,x!==0&&(k=k.ushln(x),C.iushln(x),T=k.words[k.length-1]|0);var I=C.length-k.length,f;if(g!=="mod"){f=new s(null),f.length=I+1,f.words=new Array(f.length);for(var S=0;S<f.length;S++)f.words[S]=0}var K=C.clone()._ishlnsubmul(k,1,I);K.negative===0&&(C=K,f&&(f.words[I]=1));for(var D=I-1;D>=0;D--){var J=(C.words[k.length+D]|0)*67108864+(C.words[k.length+D-1]|0);for(J=Math.min(J/T|0,67108863),C._ishlnsubmul(k,J,D);C.negative!==0;)J--,C.negative=0,C._ishlnsubmul(k,1,D),C.isZero()||(C.negative^=1);f&&(f.words[D]=J)}return f&&f._strip(),C._strip(),g!=="div"&&x!==0&&C.iushrn(x),{div:f||null,mod:C}},s.prototype.divmod=function(d,g,x){if(n(!d.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var C,k,T;return this.negative!==0&&d.negative===0?(T=this.neg().divmod(d,g),g!=="mod"&&(C=T.div.neg()),g!=="div"&&(k=T.mod.neg(),x&&k.negative!==0&&k.iadd(d)),{div:C,mod:k}):this.negative===0&&d.negative!==0?(T=this.divmod(d.neg(),g),g!=="mod"&&(C=T.div.neg()),{div:C,mod:T.mod}):(this.negative&d.negative)!==0?(T=this.neg().divmod(d.neg(),g),g!=="div"&&(k=T.mod.neg(),x&&k.negative!==0&&k.isub(d)),{div:T.div,mod:k}):d.length>this.length||this.cmp(d)<0?{div:new s(0),mod:this}:d.length===1?g==="div"?{div:this.divn(d.words[0]),mod:null}:g==="mod"?{div:null,mod:new s(this.modrn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new s(this.modrn(d.words[0]))}:this._wordDiv(d,g)},s.prototype.div=function(d){return this.divmod(d,"div",!1).div},s.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},s.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},s.prototype.divRound=function(d){var g=this.divmod(d);if(g.mod.isZero())return g.div;var x=g.div.negative!==0?g.mod.isub(d):g.mod,C=d.ushrn(1),k=d.andln(1),T=x.cmp(C);return T<0||k===1&&T===0?g.div:g.div.negative!==0?g.div.isubn(1):g.div.iaddn(1)},s.prototype.modrn=function(d){var g=d<0;g&&(d=-d),n(d<=67108863);for(var x=(1<<26)%d,C=0,k=this.length-1;k>=0;k--)C=(x*C+(this.words[k]|0))%d;return g?-C:C},s.prototype.modn=function(d){return this.modrn(d)},s.prototype.idivn=function(d){var g=d<0;g&&(d=-d),n(d<=67108863);for(var x=0,C=this.length-1;C>=0;C--){var k=(this.words[C]|0)+x*67108864;this.words[C]=k/d|0,x=k%d}return this._strip(),g?this.ineg():this},s.prototype.divn=function(d){return this.clone().idivn(d)},s.prototype.egcd=function(d){n(d.negative===0),n(!d.isZero());var g=this,x=d.clone();g.negative!==0?g=g.umod(d):g=g.clone();for(var C=new s(1),k=new s(0),T=new s(0),R=new s(1),I=0;g.isEven()&&x.isEven();)g.iushrn(1),x.iushrn(1),++I;for(var f=x.clone(),S=g.clone();!g.isZero();){for(var K=0,D=1;(g.words[0]&D)===0&&K<26;++K,D<<=1);if(K>0)for(g.iushrn(K);K-- >0;)(C.isOdd()||k.isOdd())&&(C.iadd(f),k.isub(S)),C.iushrn(1),k.iushrn(1);for(var J=0,ne=1;(x.words[0]&ne)===0&&J<26;++J,ne<<=1);if(J>0)for(x.iushrn(J);J-- >0;)(T.isOdd()||R.isOdd())&&(T.iadd(f),R.isub(S)),T.iushrn(1),R.iushrn(1);g.cmp(x)>=0?(g.isub(x),C.isub(T),k.isub(R)):(x.isub(g),T.isub(C),R.isub(k))}return{a:T,b:R,gcd:x.iushln(I)}},s.prototype._invmp=function(d){n(d.negative===0),n(!d.isZero());var g=this,x=d.clone();g.negative!==0?g=g.umod(d):g=g.clone();for(var C=new s(1),k=new s(0),T=x.clone();g.cmpn(1)>0&&x.cmpn(1)>0;){for(var R=0,I=1;(g.words[0]&I)===0&&R<26;++R,I<<=1);if(R>0)for(g.iushrn(R);R-- >0;)C.isOdd()&&C.iadd(T),C.iushrn(1);for(var f=0,S=1;(x.words[0]&S)===0&&f<26;++f,S<<=1);if(f>0)for(x.iushrn(f);f-- >0;)k.isOdd()&&k.iadd(T),k.iushrn(1);g.cmp(x)>=0?(g.isub(x),C.isub(k)):(x.isub(g),k.isub(C))}var K;return g.cmpn(1)===0?K=C:K=k,K.cmpn(0)<0&&K.iadd(d),K},s.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var g=this.clone(),x=d.clone();g.negative=0,x.negative=0;for(var C=0;g.isEven()&&x.isEven();C++)g.iushrn(1),x.iushrn(1);do{for(;g.isEven();)g.iushrn(1);for(;x.isEven();)x.iushrn(1);var k=g.cmp(x);if(k<0){var T=g;g=x,x=T}else if(k===0||x.cmpn(1)===0)break;g.isub(x)}while(!0);return x.iushln(C)},s.prototype.invm=function(d){return this.egcd(d).a.umod(d)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(d){return this.words[0]&d},s.prototype.bincn=function(d){n(typeof d=="number");var g=d%26,x=(d-g)/26,C=1<<g;if(this.length<=x)return this._expand(x+1),this.words[x]|=C,this;for(var k=C,T=x;k!==0&&T<this.length;T++){var R=this.words[T]|0;R+=k,k=R>>>26,R&=67108863,this.words[T]=R}return k!==0&&(this.words[T]=k,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(d){var g=d<0;if(this.negative!==0&&!g)return-1;if(this.negative===0&&g)return 1;this._strip();var x;if(this.length>1)x=1;else{g&&(d=-d),n(d<=67108863,"Number is too big");var C=this.words[0]|0;x=C===d?0:C<d?-1:1}return this.negative!==0?-x|0:x},s.prototype.cmp=function(d){if(this.negative!==0&&d.negative===0)return-1;if(this.negative===0&&d.negative!==0)return 1;var g=this.ucmp(d);return this.negative!==0?-g|0:g},s.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var g=0,x=this.length-1;x>=0;x--){var C=this.words[x]|0,k=d.words[x]|0;if(C!==k){C<k?g=-1:C>k&&(g=1);break}}return g},s.prototype.gtn=function(d){return this.cmpn(d)===1},s.prototype.gt=function(d){return this.cmp(d)===1},s.prototype.gten=function(d){return this.cmpn(d)>=0},s.prototype.gte=function(d){return this.cmp(d)>=0},s.prototype.ltn=function(d){return this.cmpn(d)===-1},s.prototype.lt=function(d){return this.cmp(d)===-1},s.prototype.lten=function(d){return this.cmpn(d)<=0},s.prototype.lte=function(d){return this.cmp(d)<=0},s.prototype.eqn=function(d){return this.cmpn(d)===0},s.prototype.eq=function(d){return this.cmp(d)===0},s.red=function(d){return new U(d)},s.prototype.toRed=function(d){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),d.convertTo(this)._forceRed(d)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(d){return this.red=d,this},s.prototype.forceRed=function(d){return n(!this.red,"Already a number in reduction context"),this._forceRed(d)},s.prototype.redAdd=function(d){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},s.prototype.redIAdd=function(d){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},s.prototype.redSub=function(d){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},s.prototype.redISub=function(d){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},s.prototype.redShl=function(d){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},s.prototype.redMul=function(d){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},s.prototype.redIMul=function(d){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(d){return n(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var L={k256:null,p224:null,p192:null,p25519:null};function W(_,d){this.name=_,this.p=new s(d,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}W.prototype._tmp=function(){var d=new s(null);return d.words=new Array(Math.ceil(this.n/13)),d},W.prototype.ireduce=function(d){var g=d,x;do this.split(g,this.tmp),g=this.imulK(g),g=g.iadd(this.tmp),x=g.bitLength();while(x>this.n);var C=x<this.n?-1:g.ucmp(this.p);return C===0?(g.words[0]=0,g.length=1):C>0?g.isub(this.p):g.strip!==void 0?g.strip():g._strip(),g},W.prototype.split=function(d,g){d.iushrn(this.n,0,g)},W.prototype.imulK=function(d){return d.imul(this.k)};function H(){W.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(H,W),H.prototype.split=function(d,g){for(var x=4194303,C=Math.min(d.length,9),k=0;k<C;k++)g.words[k]=d.words[k];if(g.length=C,d.length<=9){d.words[0]=0,d.length=1;return}var T=d.words[9];for(g.words[g.length++]=T&x,k=10;k<d.length;k++){var R=d.words[k]|0;d.words[k-10]=(R&x)<<4|T>>>22,T=R}T>>>=22,d.words[k-10]=T,T===0&&d.length>10?d.length-=10:d.length-=9},H.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var g=0,x=0;x<d.length;x++){var C=d.words[x]|0;g+=C*977,d.words[x]=g&67108863,g=C*64+(g/67108864|0)}return d.words[d.length-1]===0&&(d.length--,d.words[d.length-1]===0&&d.length--),d};function G(){W.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(G,W);function N(){W.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(N,W);function F(){W.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(F,W),F.prototype.imulK=function(d){for(var g=0,x=0;x<d.length;x++){var C=(d.words[x]|0)*19+g,k=C&67108863;C>>>=26,d.words[x]=k,g=C}return g!==0&&(d.words[d.length++]=g),d},s._prime=function(d){if(L[d])return L[d];var g;if(d==="k256")g=new H;else if(d==="p224")g=new G;else if(d==="p192")g=new N;else if(d==="p25519")g=new F;else throw new Error("Unknown prime "+d);return L[d]=g,g};function U(_){if(typeof _=="string"){var d=s._prime(_);this.m=d.p,this.prime=d}else n(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}U.prototype._verify1=function(d){n(d.negative===0,"red works only with positives"),n(d.red,"red works only with red numbers")},U.prototype._verify2=function(d,g){n((d.negative|g.negative)===0,"red works only with positives"),n(d.red&&d.red===g.red,"red works only with red numbers")},U.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):(c(d,d.umod(this.m)._forceRed(this)),d)},U.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},U.prototype.add=function(d,g){this._verify2(d,g);var x=d.add(g);return x.cmp(this.m)>=0&&x.isub(this.m),x._forceRed(this)},U.prototype.iadd=function(d,g){this._verify2(d,g);var x=d.iadd(g);return x.cmp(this.m)>=0&&x.isub(this.m),x},U.prototype.sub=function(d,g){this._verify2(d,g);var x=d.sub(g);return x.cmpn(0)<0&&x.iadd(this.m),x._forceRed(this)},U.prototype.isub=function(d,g){this._verify2(d,g);var x=d.isub(g);return x.cmpn(0)<0&&x.iadd(this.m),x},U.prototype.shl=function(d,g){return this._verify1(d),this.imod(d.ushln(g))},U.prototype.imul=function(d,g){return this._verify2(d,g),this.imod(d.imul(g))},U.prototype.mul=function(d,g){return this._verify2(d,g),this.imod(d.mul(g))},U.prototype.isqr=function(d){return this.imul(d,d.clone())},U.prototype.sqr=function(d){return this.mul(d,d)},U.prototype.sqrt=function(d){if(d.isZero())return d.clone();var g=this.m.andln(3);if(n(g%2===1),g===3){var x=this.m.add(new s(1)).iushrn(2);return this.pow(d,x)}for(var C=this.m.subn(1),k=0;!C.isZero()&&C.andln(1)===0;)k++,C.iushrn(1);n(!C.isZero());var T=new s(1).toRed(this),R=T.redNeg(),I=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new s(2*f*f).toRed(this);this.pow(f,I).cmp(R)!==0;)f.redIAdd(R);for(var S=this.pow(f,C),K=this.pow(d,C.addn(1).iushrn(1)),D=this.pow(d,C),J=k;D.cmp(T)!==0;){for(var ne=D,ie=0;ne.cmp(T)!==0;ie++)ne=ne.redSqr();n(ie<J);var ce=this.pow(S,new s(1).iushln(J-ie-1));K=K.redMul(ce),S=ce.redSqr(),D=D.redMul(S),J=ie}return K},U.prototype.invm=function(d){var g=d._invmp(this.m);return g.negative!==0?(g.negative=0,this.imod(g).redNeg()):this.imod(g)},U.prototype.pow=function(d,g){if(g.isZero())return new s(1).toRed(this);if(g.cmpn(1)===0)return d.clone();var x=4,C=new Array(1<<x);C[0]=new s(1).toRed(this),C[1]=d;for(var k=2;k<C.length;k++)C[k]=this.mul(C[k-1],d);var T=C[0],R=0,I=0,f=g.bitLength()%26;for(f===0&&(f=26),k=g.length-1;k>=0;k--){for(var S=g.words[k],K=f-1;K>=0;K--){var D=S>>K&1;if(T!==C[0]&&(T=this.sqr(T)),D===0&&R===0){I=0;continue}R<<=1,R|=D,I++,!(I!==x&&(k!==0||K!==0))&&(T=this.mul(T,C[R]),I=0,R=0)}f=26}return T},U.prototype.convertTo=function(d){var g=d.umod(this.m);return g===d?g.clone():g},U.prototype.convertFrom=function(d){var g=d.clone();return g.red=null,g},s.mont=function(d){return new j(d)};function j(_){U.call(this,_),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(j,U),j.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},j.prototype.convertFrom=function(d){var g=this.imod(d.mul(this.rinv));return g.red=null,g},j.prototype.imul=function(d,g){if(d.isZero()||g.isZero())return d.words[0]=0,d.length=1,d;var x=d.imul(g),C=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=x.isub(C).iushrn(this.shift),T=k;return k.cmp(this.m)>=0?T=k.isub(this.m):k.cmpn(0)<0&&(T=k.iadd(this.m)),T._forceRed(this)},j.prototype.mul=function(d,g){if(d.isZero()||g.isZero())return new s(0)._forceRed(this);var x=d.mul(g),C=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=x.isub(C).iushrn(this.shift),T=k;return k.cmp(this.m)>=0?T=k.isub(this.m):k.cmpn(0)<0&&(T=k.iadd(this.m)),T._forceRed(this)},j.prototype.invm=function(d){var g=this.imod(d._invmp(this.m).mul(this.r2));return g._forceRed(this)}})(t,Nmt)})(S8)),S8.exports}var Omt=Rmt();const eJ=ds(Omt);var Tx={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var tJ;function bpe(){return tJ||(tJ=1,(function(t,e){var r=Tw(),n=r.Buffer;function i(o,a){for(var l in o)a[l]=o[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,a,l){return n(o,a,l)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,l)},s.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=n(o);return a!==void 0?typeof l=="string"?u.fill(a,l):u.fill(a):u.fill(0),u},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(Tx,Tx.exports)),Tx.exports}var vT,rJ;function jmt(){if(rJ)return vT;rJ=1;var t=bpe().Buffer;function e(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var s=0;s<r.length;s++){var o=r.charAt(s),a=o.charCodeAt(0);if(n[a]!==255)throw new TypeError(o+" is ambiguous");n[a]=s}var l=r.length,u=r.charAt(0),c=Math.log(l)/Math.log(256),h=Math.log(256)/Math.log(l);function m(E){if((Array.isArray(E)||E instanceof Uint8Array)&&(E=t.from(E)),!t.isBuffer(E))throw new TypeError("Expected Buffer");if(E.length===0)return"";for(var A=0,M=0,O=0,P=E.length;O!==P&&E[O]===0;)O++,A++;for(var z=(P-O)*h+1>>>0,L=new Uint8Array(z);O!==P;){for(var W=E[O],H=0,G=z-1;(W!==0||H<M)&&G!==-1;G--,H++)W+=256*L[G]>>>0,L[G]=W%l>>>0,W=W/l>>>0;if(W!==0)throw new Error("Non-zero carry");M=H,O++}for(var N=z-M;N!==z&&L[N]===0;)N++;for(var F=u.repeat(A);N<z;++N)F+=r.charAt(L[N]);return F}function y(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return t.alloc(0);for(var A=0,M=0,O=0;E[A]===u;)M++,A++;for(var P=(E.length-A)*c+1>>>0,z=new Uint8Array(P);A<E.length;){var L=E.charCodeAt(A);if(L>255)return;var W=n[L];if(W===255)return;for(var H=0,G=P-1;(W!==0||H<O)&&G!==-1;G--,H++)W+=l*z[G]>>>0,z[G]=W%256>>>0,W=W/256>>>0;if(W!==0)throw new Error("Non-zero carry");O=H,A++}for(var N=P-O;N!==P&&z[N]===0;)N++;var F=t.allocUnsafe(M+(P-N));F.fill(0,0,M);for(var U=M;N!==P;)F[U++]=z[N++];return F}function b(E){var A=y(E);if(A)return A;throw new Error("Non-base"+l+" character")}return{encode:m,decodeUnsafe:y,decode:b}}return vT=e,vT}var bT,nJ;function Lmt(){if(nJ)return bT;nJ=1;var t=jmt(),e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return bT=t(e),bT}var Dmt=Lmt();const Vs=ds(Dmt);var Nn={},C8={exports:{}},Bmt=C8.exports,iJ;function Umt(){return iJ||(iJ=1,(function(t){(function(e,r){function n(_,d){if(!_)throw new Error(d||"Assertion failed")}function i(_,d){_.super_=d;var g=function(){};g.prototype=d.prototype,_.prototype=new g,_.prototype.constructor=_}function s(_,d,g){if(s.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&((d==="le"||d==="be")&&(g=d,d=10),this._init(_||0,d||10,g||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Tw().Buffer}catch{}s.isBN=function(d){return d instanceof s?!0:d!==null&&typeof d=="object"&&d.constructor.wordSize===s.wordSize&&Array.isArray(d.words)},s.max=function(d,g){return d.cmp(g)>0?d:g},s.min=function(d,g){return d.cmp(g)<0?d:g},s.prototype._init=function(d,g,x){if(typeof d=="number")return this._initNumber(d,g,x);if(typeof d=="object")return this._initArray(d,g,x);g==="hex"&&(g=16),n(g===(g|0)&&g>=2&&g<=36),d=d.toString().replace(/\s+/g,"");var C=0;d[0]==="-"&&(C++,this.negative=1),C<d.length&&(g===16?this._parseHex(d,C,x):(this._parseBase(d,g,C),x==="le"&&this._initArray(this.toArray(),g,x)))},s.prototype._initNumber=function(d,g,x){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[d&67108863],this.length=1):d<4503599627370496?(this.words=[d&67108863,d/67108864&67108863],this.length=2):(n(d<9007199254740992),this.words=[d&67108863,d/67108864&67108863,1],this.length=3),x==="le"&&this._initArray(this.toArray(),g,x)},s.prototype._initArray=function(d,g,x){if(n(typeof d.length=="number"),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var k,T,R=0;if(x==="be")for(C=d.length-1,k=0;C>=0;C-=3)T=d[C]|d[C-1]<<8|d[C-2]<<16,this.words[k]|=T<<R&67108863,this.words[k+1]=T>>>26-R&67108863,R+=24,R>=26&&(R-=26,k++);else if(x==="le")for(C=0,k=0;C<d.length;C+=3)T=d[C]|d[C+1]<<8|d[C+2]<<16,this.words[k]|=T<<R&67108863,this.words[k+1]=T>>>26-R&67108863,R+=24,R>=26&&(R-=26,k++);return this._strip()};function a(_,d){var g=_.charCodeAt(d);if(g>=48&&g<=57)return g-48;if(g>=65&&g<=70)return g-55;if(g>=97&&g<=102)return g-87;n(!1,"Invalid character in "+_)}function l(_,d,g){var x=a(_,g);return g-1>=d&&(x|=a(_,g-1)<<4),x}s.prototype._parseHex=function(d,g,x){this.length=Math.ceil((d.length-g)/6),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var k=0,T=0,R;if(x==="be")for(C=d.length-1;C>=g;C-=2)R=l(d,g,C)<<k,this.words[T]|=R&67108863,k>=18?(k-=18,T+=1,this.words[T]|=R>>>26):k+=8;else{var I=d.length-g;for(C=I%2===0?g+1:g;C<d.length;C+=2)R=l(d,g,C)<<k,this.words[T]|=R&67108863,k>=18?(k-=18,T+=1,this.words[T]|=R>>>26):k+=8}this._strip()};function u(_,d,g,x){for(var C=0,k=0,T=Math.min(_.length,g),R=d;R<T;R++){var I=_.charCodeAt(R)-48;C*=x,I>=49?k=I-49+10:I>=17?k=I-17+10:k=I,n(I>=0&&k<x,"Invalid character"),C+=k}return C}s.prototype._parseBase=function(d,g,x){this.words=[0],this.length=1;for(var C=0,k=1;k<=67108863;k*=g)C++;C--,k=k/g|0;for(var T=d.length-x,R=T%C,I=Math.min(T,T-R)+x,f=0,S=x;S<I;S+=C)f=u(d,S,S+C,g),this.imuln(k),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(R!==0){var K=1;for(f=u(d,S,d.length,g),S=0;S<R;S++)K*=g;this.imuln(K),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},s.prototype.copy=function(d){d.words=new Array(this.length);for(var g=0;g<this.length;g++)d.words[g]=this.words[g];d.length=this.length,d.negative=this.negative,d.red=this.red};function c(_,d){_.words=d.words,_.length=d.length,_.negative=d.negative,_.red=d.red}if(s.prototype._move=function(d){c(d,this)},s.prototype.clone=function(){var d=new s(null);return this.copy(d),d},s.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{s.prototype.inspect=h}else s.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(d,g){d=d||10,g=g|0||1;var x;if(d===16||d==="hex"){x="";for(var C=0,k=0,T=0;T<this.length;T++){var R=this.words[T],I=((R<<C|k)&16777215).toString(16);k=R>>>24-C&16777215,C+=2,C>=26&&(C-=26,T--),k!==0||T!==this.length-1?x=m[6-I.length]+I+x:x=I+x}for(k!==0&&(x=k.toString(16)+x);x.length%g!==0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}if(d===(d|0)&&d>=2&&d<=36){var f=y[d],S=b[d];x="";var K=this.clone();for(K.negative=0;!K.isZero();){var D=K.modrn(S).toString(d);K=K.idivn(S),K.isZero()?x=D+x:x=m[f-D.length]+D+x}for(this.isZero()&&(x="0"+x);x.length%g!==0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var d=this.words[0];return this.length===2?d+=this.words[1]*67108864:this.length===3&&this.words[2]===1?d+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-d:d},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(d,g){return this.toArrayLike(o,d,g)}),s.prototype.toArray=function(d,g){return this.toArrayLike(Array,d,g)};var E=function(d,g){return d.allocUnsafe?d.allocUnsafe(g):new d(g)};s.prototype.toArrayLike=function(d,g,x){this._strip();var C=this.byteLength(),k=x||Math.max(1,C);n(C<=k,"byte array longer than desired length"),n(k>0,"Requested array length <= 0");var T=E(d,k),R=g==="le"?"LE":"BE";return this["_toArrayLike"+R](T,C),T},s.prototype._toArrayLikeLE=function(d,g){for(var x=0,C=0,k=0,T=0;k<this.length;k++){var R=this.words[k]<<T|C;d[x++]=R&255,x<d.length&&(d[x++]=R>>8&255),x<d.length&&(d[x++]=R>>16&255),T===6?(x<d.length&&(d[x++]=R>>24&255),C=0,T=0):(C=R>>>24,T+=2)}if(x<d.length)for(d[x++]=C;x<d.length;)d[x++]=0},s.prototype._toArrayLikeBE=function(d,g){for(var x=d.length-1,C=0,k=0,T=0;k<this.length;k++){var R=this.words[k]<<T|C;d[x--]=R&255,x>=0&&(d[x--]=R>>8&255),x>=0&&(d[x--]=R>>16&255),T===6?(x>=0&&(d[x--]=R>>24&255),C=0,T=0):(C=R>>>24,T+=2)}if(x>=0)for(d[x--]=C;x>=0;)d[x--]=0},Math.clz32?s.prototype._countBits=function(d){return 32-Math.clz32(d)}:s.prototype._countBits=function(d){var g=d,x=0;return g>=4096&&(x+=13,g>>>=13),g>=64&&(x+=7,g>>>=7),g>=8&&(x+=4,g>>>=4),g>=2&&(x+=2,g>>>=2),x+g},s.prototype._zeroBits=function(d){if(d===0)return 26;var g=d,x=0;return(g&8191)===0&&(x+=13,g>>>=13),(g&127)===0&&(x+=7,g>>>=7),(g&15)===0&&(x+=4,g>>>=4),(g&3)===0&&(x+=2,g>>>=2),(g&1)===0&&x++,x},s.prototype.bitLength=function(){var d=this.words[this.length-1],g=this._countBits(d);return(this.length-1)*26+g};function A(_){for(var d=new Array(_.bitLength()),g=0;g<d.length;g++){var x=g/26|0,C=g%26;d[g]=_.words[x]>>>C&1}return d}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,g=0;g<this.length;g++){var x=this._zeroBits(this.words[g]);if(d+=x,x!==26)break}return d},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(d){return this.negative!==0?this.abs().inotn(d).iaddn(1):this.clone()},s.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var g=0;g<d.length;g++)this.words[g]=this.words[g]|d.words[g];return this._strip()},s.prototype.ior=function(d){return n((this.negative|d.negative)===0),this.iuor(d)},s.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},s.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},s.prototype.iuand=function(d){var g;this.length>d.length?g=d:g=this;for(var x=0;x<g.length;x++)this.words[x]=this.words[x]&d.words[x];return this.length=g.length,this._strip()},s.prototype.iand=function(d){return n((this.negative|d.negative)===0),this.iuand(d)},s.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},s.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},s.prototype.iuxor=function(d){var g,x;this.length>d.length?(g=this,x=d):(g=d,x=this);for(var C=0;C<x.length;C++)this.words[C]=g.words[C]^x.words[C];if(this!==g)for(;C<g.length;C++)this.words[C]=g.words[C];return this.length=g.length,this._strip()},s.prototype.ixor=function(d){return n((this.negative|d.negative)===0),this.iuxor(d)},s.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},s.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},s.prototype.inotn=function(d){n(typeof d=="number"&&d>=0);var g=Math.ceil(d/26)|0,x=d%26;this._expand(g),x>0&&g--;for(var C=0;C<g;C++)this.words[C]=~this.words[C]&67108863;return x>0&&(this.words[C]=~this.words[C]&67108863>>26-x),this._strip()},s.prototype.notn=function(d){return this.clone().inotn(d)},s.prototype.setn=function(d,g){n(typeof d=="number"&&d>=0);var x=d/26|0,C=d%26;return this._expand(x+1),g?this.words[x]=this.words[x]|1<<C:this.words[x]=this.words[x]&~(1<<C),this._strip()},s.prototype.iadd=function(d){var g;if(this.negative!==0&&d.negative===0)return this.negative=0,g=this.isub(d),this.negative^=1,this._normSign();if(this.negative===0&&d.negative!==0)return d.negative=0,g=this.isub(d),d.negative=1,g._normSign();var x,C;this.length>d.length?(x=this,C=d):(x=d,C=this);for(var k=0,T=0;T<C.length;T++)g=(x.words[T]|0)+(C.words[T]|0)+k,this.words[T]=g&67108863,k=g>>>26;for(;k!==0&&T<x.length;T++)g=(x.words[T]|0)+k,this.words[T]=g&67108863,k=g>>>26;if(this.length=x.length,k!==0)this.words[this.length]=k,this.length++;else if(x!==this)for(;T<x.length;T++)this.words[T]=x.words[T];return this},s.prototype.add=function(d){var g;return d.negative!==0&&this.negative===0?(d.negative=0,g=this.sub(d),d.negative^=1,g):d.negative===0&&this.negative!==0?(this.negative=0,g=d.sub(this),this.negative=1,g):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},s.prototype.isub=function(d){if(d.negative!==0){d.negative=0;var g=this.iadd(d);return d.negative=1,g._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var x=this.cmp(d);if(x===0)return this.negative=0,this.length=1,this.words[0]=0,this;var C,k;x>0?(C=this,k=d):(C=d,k=this);for(var T=0,R=0;R<k.length;R++)g=(C.words[R]|0)-(k.words[R]|0)+T,T=g>>26,this.words[R]=g&67108863;for(;T!==0&&R<C.length;R++)g=(C.words[R]|0)+T,T=g>>26,this.words[R]=g&67108863;if(T===0&&R<C.length&&C!==this)for(;R<C.length;R++)this.words[R]=C.words[R];return this.length=Math.max(this.length,R),C!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(d){return this.clone().isub(d)};function M(_,d,g){g.negative=d.negative^_.negative;var x=_.length+d.length|0;g.length=x,x=x-1|0;var C=_.words[0]|0,k=d.words[0]|0,T=C*k,R=T&67108863,I=T/67108864|0;g.words[0]=R;for(var f=1;f<x;f++){for(var S=I>>>26,K=I&67108863,D=Math.min(f,d.length-1),J=Math.max(0,f-_.length+1);J<=D;J++){var ne=f-J|0;C=_.words[ne]|0,k=d.words[J]|0,T=C*k+K,S+=T/67108864|0,K=T&67108863}g.words[f]=K|0,I=S|0}return I!==0?g.words[f]=I|0:g.length--,g._strip()}var O=function(d,g,x){var C=d.words,k=g.words,T=x.words,R=0,I,f,S,K=C[0]|0,D=K&8191,J=K>>>13,ne=C[1]|0,ie=ne&8191,ce=ne>>>13,Se=C[2]|0,ye=Se&8191,Ae=Se>>>13,tt=C[3]|0,Ce=tt&8191,je=tt>>>13,mt=C[4]|0,pe=mt&8191,Le=mt>>>13,Mt=C[5]|0,Ie=Mt&8191,Me=Mt>>>13,ht=C[6]|0,Je=ht&8191,De=ht>>>13,At=C[7]|0,it=At&8191,et=At>>>13,St=C[8]|0,Xe=St&8191,se=St>>>13,X=C[9]|0,ee=X&8191,oe=X>>>13,ge=k[0]|0,fe=ge&8191,ve=ge>>>13,ut=k[1]|0,Pe=ut&8191,Ye=ut>>>13,Ut=k[2]|0,Oe=Ut&8191,nt=Ut>>>13,hr=k[3]|0,Fe=hr&8191,ct=hr>>>13,Nr=k[4]|0,dt=Nr&8191,Y=Nr>>>13,V=k[5]|0,Z=V&8191,te=V>>>13,ae=k[6]|0,le=ae&8191,de=ae>>>13,Ze=k[7]|0,Be=Ze&8191,He=Ze>>>13,qt=k[8]|0,Ge=qt&8191,ot=qt>>>13,Nt=k[9]|0,lt=Nt&8191,at=Nt>>>13;x.negative=d.negative^g.negative,x.length=19,I=Math.imul(D,fe),f=Math.imul(D,ve),f=f+Math.imul(J,fe)|0,S=Math.imul(J,ve);var Ir=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,I=Math.imul(ie,fe),f=Math.imul(ie,ve),f=f+Math.imul(ce,fe)|0,S=Math.imul(ce,ve),I=I+Math.imul(D,Pe)|0,f=f+Math.imul(D,Ye)|0,f=f+Math.imul(J,Pe)|0,S=S+Math.imul(J,Ye)|0;var $r=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+($r>>>26)|0,$r&=67108863,I=Math.imul(ye,fe),f=Math.imul(ye,ve),f=f+Math.imul(Ae,fe)|0,S=Math.imul(Ae,ve),I=I+Math.imul(ie,Pe)|0,f=f+Math.imul(ie,Ye)|0,f=f+Math.imul(ce,Pe)|0,S=S+Math.imul(ce,Ye)|0,I=I+Math.imul(D,Oe)|0,f=f+Math.imul(D,nt)|0,f=f+Math.imul(J,Oe)|0,S=S+Math.imul(J,nt)|0;var _r=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(_r>>>26)|0,_r&=67108863,I=Math.imul(Ce,fe),f=Math.imul(Ce,ve),f=f+Math.imul(je,fe)|0,S=Math.imul(je,ve),I=I+Math.imul(ye,Pe)|0,f=f+Math.imul(ye,Ye)|0,f=f+Math.imul(Ae,Pe)|0,S=S+Math.imul(Ae,Ye)|0,I=I+Math.imul(ie,Oe)|0,f=f+Math.imul(ie,nt)|0,f=f+Math.imul(ce,Oe)|0,S=S+Math.imul(ce,nt)|0,I=I+Math.imul(D,Fe)|0,f=f+Math.imul(D,ct)|0,f=f+Math.imul(J,Fe)|0,S=S+Math.imul(J,ct)|0;var Sr=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,I=Math.imul(pe,fe),f=Math.imul(pe,ve),f=f+Math.imul(Le,fe)|0,S=Math.imul(Le,ve),I=I+Math.imul(Ce,Pe)|0,f=f+Math.imul(Ce,Ye)|0,f=f+Math.imul(je,Pe)|0,S=S+Math.imul(je,Ye)|0,I=I+Math.imul(ye,Oe)|0,f=f+Math.imul(ye,nt)|0,f=f+Math.imul(Ae,Oe)|0,S=S+Math.imul(Ae,nt)|0,I=I+Math.imul(ie,Fe)|0,f=f+Math.imul(ie,ct)|0,f=f+Math.imul(ce,Fe)|0,S=S+Math.imul(ce,ct)|0,I=I+Math.imul(D,dt)|0,f=f+Math.imul(D,Y)|0,f=f+Math.imul(J,dt)|0,S=S+Math.imul(J,Y)|0;var jr=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(jr>>>26)|0,jr&=67108863,I=Math.imul(Ie,fe),f=Math.imul(Ie,ve),f=f+Math.imul(Me,fe)|0,S=Math.imul(Me,ve),I=I+Math.imul(pe,Pe)|0,f=f+Math.imul(pe,Ye)|0,f=f+Math.imul(Le,Pe)|0,S=S+Math.imul(Le,Ye)|0,I=I+Math.imul(Ce,Oe)|0,f=f+Math.imul(Ce,nt)|0,f=f+Math.imul(je,Oe)|0,S=S+Math.imul(je,nt)|0,I=I+Math.imul(ye,Fe)|0,f=f+Math.imul(ye,ct)|0,f=f+Math.imul(Ae,Fe)|0,S=S+Math.imul(Ae,ct)|0,I=I+Math.imul(ie,dt)|0,f=f+Math.imul(ie,Y)|0,f=f+Math.imul(ce,dt)|0,S=S+Math.imul(ce,Y)|0,I=I+Math.imul(D,Z)|0,f=f+Math.imul(D,te)|0,f=f+Math.imul(J,Z)|0,S=S+Math.imul(J,te)|0;var an=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(an>>>26)|0,an&=67108863,I=Math.imul(Je,fe),f=Math.imul(Je,ve),f=f+Math.imul(De,fe)|0,S=Math.imul(De,ve),I=I+Math.imul(Ie,Pe)|0,f=f+Math.imul(Ie,Ye)|0,f=f+Math.imul(Me,Pe)|0,S=S+Math.imul(Me,Ye)|0,I=I+Math.imul(pe,Oe)|0,f=f+Math.imul(pe,nt)|0,f=f+Math.imul(Le,Oe)|0,S=S+Math.imul(Le,nt)|0,I=I+Math.imul(Ce,Fe)|0,f=f+Math.imul(Ce,ct)|0,f=f+Math.imul(je,Fe)|0,S=S+Math.imul(je,ct)|0,I=I+Math.imul(ye,dt)|0,f=f+Math.imul(ye,Y)|0,f=f+Math.imul(Ae,dt)|0,S=S+Math.imul(Ae,Y)|0,I=I+Math.imul(ie,Z)|0,f=f+Math.imul(ie,te)|0,f=f+Math.imul(ce,Z)|0,S=S+Math.imul(ce,te)|0,I=I+Math.imul(D,le)|0,f=f+Math.imul(D,de)|0,f=f+Math.imul(J,le)|0,S=S+Math.imul(J,de)|0;var Xn=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,I=Math.imul(it,fe),f=Math.imul(it,ve),f=f+Math.imul(et,fe)|0,S=Math.imul(et,ve),I=I+Math.imul(Je,Pe)|0,f=f+Math.imul(Je,Ye)|0,f=f+Math.imul(De,Pe)|0,S=S+Math.imul(De,Ye)|0,I=I+Math.imul(Ie,Oe)|0,f=f+Math.imul(Ie,nt)|0,f=f+Math.imul(Me,Oe)|0,S=S+Math.imul(Me,nt)|0,I=I+Math.imul(pe,Fe)|0,f=f+Math.imul(pe,ct)|0,f=f+Math.imul(Le,Fe)|0,S=S+Math.imul(Le,ct)|0,I=I+Math.imul(Ce,dt)|0,f=f+Math.imul(Ce,Y)|0,f=f+Math.imul(je,dt)|0,S=S+Math.imul(je,Y)|0,I=I+Math.imul(ye,Z)|0,f=f+Math.imul(ye,te)|0,f=f+Math.imul(Ae,Z)|0,S=S+Math.imul(Ae,te)|0,I=I+Math.imul(ie,le)|0,f=f+Math.imul(ie,de)|0,f=f+Math.imul(ce,le)|0,S=S+Math.imul(ce,de)|0,I=I+Math.imul(D,Be)|0,f=f+Math.imul(D,He)|0,f=f+Math.imul(J,Be)|0,S=S+Math.imul(J,He)|0;var Lt=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,I=Math.imul(Xe,fe),f=Math.imul(Xe,ve),f=f+Math.imul(se,fe)|0,S=Math.imul(se,ve),I=I+Math.imul(it,Pe)|0,f=f+Math.imul(it,Ye)|0,f=f+Math.imul(et,Pe)|0,S=S+Math.imul(et,Ye)|0,I=I+Math.imul(Je,Oe)|0,f=f+Math.imul(Je,nt)|0,f=f+Math.imul(De,Oe)|0,S=S+Math.imul(De,nt)|0,I=I+Math.imul(Ie,Fe)|0,f=f+Math.imul(Ie,ct)|0,f=f+Math.imul(Me,Fe)|0,S=S+Math.imul(Me,ct)|0,I=I+Math.imul(pe,dt)|0,f=f+Math.imul(pe,Y)|0,f=f+Math.imul(Le,dt)|0,S=S+Math.imul(Le,Y)|0,I=I+Math.imul(Ce,Z)|0,f=f+Math.imul(Ce,te)|0,f=f+Math.imul(je,Z)|0,S=S+Math.imul(je,te)|0,I=I+Math.imul(ye,le)|0,f=f+Math.imul(ye,de)|0,f=f+Math.imul(Ae,le)|0,S=S+Math.imul(Ae,de)|0,I=I+Math.imul(ie,Be)|0,f=f+Math.imul(ie,He)|0,f=f+Math.imul(ce,Be)|0,S=S+Math.imul(ce,He)|0,I=I+Math.imul(D,Ge)|0,f=f+Math.imul(D,ot)|0,f=f+Math.imul(J,Ge)|0,S=S+Math.imul(J,ot)|0;var qr=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(qr>>>26)|0,qr&=67108863,I=Math.imul(ee,fe),f=Math.imul(ee,ve),f=f+Math.imul(oe,fe)|0,S=Math.imul(oe,ve),I=I+Math.imul(Xe,Pe)|0,f=f+Math.imul(Xe,Ye)|0,f=f+Math.imul(se,Pe)|0,S=S+Math.imul(se,Ye)|0,I=I+Math.imul(it,Oe)|0,f=f+Math.imul(it,nt)|0,f=f+Math.imul(et,Oe)|0,S=S+Math.imul(et,nt)|0,I=I+Math.imul(Je,Fe)|0,f=f+Math.imul(Je,ct)|0,f=f+Math.imul(De,Fe)|0,S=S+Math.imul(De,ct)|0,I=I+Math.imul(Ie,dt)|0,f=f+Math.imul(Ie,Y)|0,f=f+Math.imul(Me,dt)|0,S=S+Math.imul(Me,Y)|0,I=I+Math.imul(pe,Z)|0,f=f+Math.imul(pe,te)|0,f=f+Math.imul(Le,Z)|0,S=S+Math.imul(Le,te)|0,I=I+Math.imul(Ce,le)|0,f=f+Math.imul(Ce,de)|0,f=f+Math.imul(je,le)|0,S=S+Math.imul(je,de)|0,I=I+Math.imul(ye,Be)|0,f=f+Math.imul(ye,He)|0,f=f+Math.imul(Ae,Be)|0,S=S+Math.imul(Ae,He)|0,I=I+Math.imul(ie,Ge)|0,f=f+Math.imul(ie,ot)|0,f=f+Math.imul(ce,Ge)|0,S=S+Math.imul(ce,ot)|0,I=I+Math.imul(D,lt)|0,f=f+Math.imul(D,at)|0,f=f+Math.imul(J,lt)|0,S=S+Math.imul(J,at)|0;var fr=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(fr>>>26)|0,fr&=67108863,I=Math.imul(ee,Pe),f=Math.imul(ee,Ye),f=f+Math.imul(oe,Pe)|0,S=Math.imul(oe,Ye),I=I+Math.imul(Xe,Oe)|0,f=f+Math.imul(Xe,nt)|0,f=f+Math.imul(se,Oe)|0,S=S+Math.imul(se,nt)|0,I=I+Math.imul(it,Fe)|0,f=f+Math.imul(it,ct)|0,f=f+Math.imul(et,Fe)|0,S=S+Math.imul(et,ct)|0,I=I+Math.imul(Je,dt)|0,f=f+Math.imul(Je,Y)|0,f=f+Math.imul(De,dt)|0,S=S+Math.imul(De,Y)|0,I=I+Math.imul(Ie,Z)|0,f=f+Math.imul(Ie,te)|0,f=f+Math.imul(Me,Z)|0,S=S+Math.imul(Me,te)|0,I=I+Math.imul(pe,le)|0,f=f+Math.imul(pe,de)|0,f=f+Math.imul(Le,le)|0,S=S+Math.imul(Le,de)|0,I=I+Math.imul(Ce,Be)|0,f=f+Math.imul(Ce,He)|0,f=f+Math.imul(je,Be)|0,S=S+Math.imul(je,He)|0,I=I+Math.imul(ye,Ge)|0,f=f+Math.imul(ye,ot)|0,f=f+Math.imul(Ae,Ge)|0,S=S+Math.imul(Ae,ot)|0,I=I+Math.imul(ie,lt)|0,f=f+Math.imul(ie,at)|0,f=f+Math.imul(ce,lt)|0,S=S+Math.imul(ce,at)|0;var Cn=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,I=Math.imul(ee,Oe),f=Math.imul(ee,nt),f=f+Math.imul(oe,Oe)|0,S=Math.imul(oe,nt),I=I+Math.imul(Xe,Fe)|0,f=f+Math.imul(Xe,ct)|0,f=f+Math.imul(se,Fe)|0,S=S+Math.imul(se,ct)|0,I=I+Math.imul(it,dt)|0,f=f+Math.imul(it,Y)|0,f=f+Math.imul(et,dt)|0,S=S+Math.imul(et,Y)|0,I=I+Math.imul(Je,Z)|0,f=f+Math.imul(Je,te)|0,f=f+Math.imul(De,Z)|0,S=S+Math.imul(De,te)|0,I=I+Math.imul(Ie,le)|0,f=f+Math.imul(Ie,de)|0,f=f+Math.imul(Me,le)|0,S=S+Math.imul(Me,de)|0,I=I+Math.imul(pe,Be)|0,f=f+Math.imul(pe,He)|0,f=f+Math.imul(Le,Be)|0,S=S+Math.imul(Le,He)|0,I=I+Math.imul(Ce,Ge)|0,f=f+Math.imul(Ce,ot)|0,f=f+Math.imul(je,Ge)|0,S=S+Math.imul(je,ot)|0,I=I+Math.imul(ye,lt)|0,f=f+Math.imul(ye,at)|0,f=f+Math.imul(Ae,lt)|0,S=S+Math.imul(Ae,at)|0;var pn=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(pn>>>26)|0,pn&=67108863,I=Math.imul(ee,Fe),f=Math.imul(ee,ct),f=f+Math.imul(oe,Fe)|0,S=Math.imul(oe,ct),I=I+Math.imul(Xe,dt)|0,f=f+Math.imul(Xe,Y)|0,f=f+Math.imul(se,dt)|0,S=S+Math.imul(se,Y)|0,I=I+Math.imul(it,Z)|0,f=f+Math.imul(it,te)|0,f=f+Math.imul(et,Z)|0,S=S+Math.imul(et,te)|0,I=I+Math.imul(Je,le)|0,f=f+Math.imul(Je,de)|0,f=f+Math.imul(De,le)|0,S=S+Math.imul(De,de)|0,I=I+Math.imul(Ie,Be)|0,f=f+Math.imul(Ie,He)|0,f=f+Math.imul(Me,Be)|0,S=S+Math.imul(Me,He)|0,I=I+Math.imul(pe,Ge)|0,f=f+Math.imul(pe,ot)|0,f=f+Math.imul(Le,Ge)|0,S=S+Math.imul(Le,ot)|0,I=I+Math.imul(Ce,lt)|0,f=f+Math.imul(Ce,at)|0,f=f+Math.imul(je,lt)|0,S=S+Math.imul(je,at)|0;var gi=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(gi>>>26)|0,gi&=67108863,I=Math.imul(ee,dt),f=Math.imul(ee,Y),f=f+Math.imul(oe,dt)|0,S=Math.imul(oe,Y),I=I+Math.imul(Xe,Z)|0,f=f+Math.imul(Xe,te)|0,f=f+Math.imul(se,Z)|0,S=S+Math.imul(se,te)|0,I=I+Math.imul(it,le)|0,f=f+Math.imul(it,de)|0,f=f+Math.imul(et,le)|0,S=S+Math.imul(et,de)|0,I=I+Math.imul(Je,Be)|0,f=f+Math.imul(Je,He)|0,f=f+Math.imul(De,Be)|0,S=S+Math.imul(De,He)|0,I=I+Math.imul(Ie,Ge)|0,f=f+Math.imul(Ie,ot)|0,f=f+Math.imul(Me,Ge)|0,S=S+Math.imul(Me,ot)|0,I=I+Math.imul(pe,lt)|0,f=f+Math.imul(pe,at)|0,f=f+Math.imul(Le,lt)|0,S=S+Math.imul(Le,at)|0;var ui=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(ui>>>26)|0,ui&=67108863,I=Math.imul(ee,Z),f=Math.imul(ee,te),f=f+Math.imul(oe,Z)|0,S=Math.imul(oe,te),I=I+Math.imul(Xe,le)|0,f=f+Math.imul(Xe,de)|0,f=f+Math.imul(se,le)|0,S=S+Math.imul(se,de)|0,I=I+Math.imul(it,Be)|0,f=f+Math.imul(it,He)|0,f=f+Math.imul(et,Be)|0,S=S+Math.imul(et,He)|0,I=I+Math.imul(Je,Ge)|0,f=f+Math.imul(Je,ot)|0,f=f+Math.imul(De,Ge)|0,S=S+Math.imul(De,ot)|0,I=I+Math.imul(Ie,lt)|0,f=f+Math.imul(Ie,at)|0,f=f+Math.imul(Me,lt)|0,S=S+Math.imul(Me,at)|0;var Gn=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,I=Math.imul(ee,le),f=Math.imul(ee,de),f=f+Math.imul(oe,le)|0,S=Math.imul(oe,de),I=I+Math.imul(Xe,Be)|0,f=f+Math.imul(Xe,He)|0,f=f+Math.imul(se,Be)|0,S=S+Math.imul(se,He)|0,I=I+Math.imul(it,Ge)|0,f=f+Math.imul(it,ot)|0,f=f+Math.imul(et,Ge)|0,S=S+Math.imul(et,ot)|0,I=I+Math.imul(Je,lt)|0,f=f+Math.imul(Je,at)|0,f=f+Math.imul(De,lt)|0,S=S+Math.imul(De,at)|0;var gn=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(gn>>>26)|0,gn&=67108863,I=Math.imul(ee,Be),f=Math.imul(ee,He),f=f+Math.imul(oe,Be)|0,S=Math.imul(oe,He),I=I+Math.imul(Xe,Ge)|0,f=f+Math.imul(Xe,ot)|0,f=f+Math.imul(se,Ge)|0,S=S+Math.imul(se,ot)|0,I=I+Math.imul(it,lt)|0,f=f+Math.imul(it,at)|0,f=f+Math.imul(et,lt)|0,S=S+Math.imul(et,at)|0;var Ti=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,I=Math.imul(ee,Ge),f=Math.imul(ee,ot),f=f+Math.imul(oe,Ge)|0,S=Math.imul(oe,ot),I=I+Math.imul(Xe,lt)|0,f=f+Math.imul(Xe,at)|0,f=f+Math.imul(se,lt)|0,S=S+Math.imul(se,at)|0;var kn=(R+I|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(kn>>>26)|0,kn&=67108863,I=Math.imul(ee,lt),f=Math.imul(ee,at),f=f+Math.imul(oe,lt)|0,S=Math.imul(oe,at);var Ei=(R+I|0)+((f&8191)<<13)|0;return R=(S+(f>>>13)|0)+(Ei>>>26)|0,Ei&=67108863,T[0]=Ir,T[1]=$r,T[2]=_r,T[3]=Sr,T[4]=jr,T[5]=an,T[6]=Xn,T[7]=Lt,T[8]=qr,T[9]=fr,T[10]=Cn,T[11]=pn,T[12]=gi,T[13]=ui,T[14]=Gn,T[15]=gn,T[16]=Ti,T[17]=kn,T[18]=Ei,R!==0&&(T[19]=R,x.length++),x};Math.imul||(O=M);function P(_,d,g){g.negative=d.negative^_.negative,g.length=_.length+d.length;for(var x=0,C=0,k=0;k<g.length-1;k++){var T=C;C=0;for(var R=x&67108863,I=Math.min(k,d.length-1),f=Math.max(0,k-_.length+1);f<=I;f++){var S=k-f,K=_.words[S]|0,D=d.words[f]|0,J=K*D,ne=J&67108863;T=T+(J/67108864|0)|0,ne=ne+R|0,R=ne&67108863,T=T+(ne>>>26)|0,C+=T>>>26,T&=67108863}g.words[k]=R,x=T,T=C}return x!==0?g.words[k]=x:g.length--,g._strip()}function z(_,d,g){return P(_,d,g)}s.prototype.mulTo=function(d,g){var x,C=this.length+d.length;return this.length===10&&d.length===10?x=O(this,d,g):C<63?x=M(this,d,g):C<1024?x=P(this,d,g):x=z(this,d,g),x},s.prototype.mul=function(d){var g=new s(null);return g.words=new Array(this.length+d.length),this.mulTo(d,g)},s.prototype.mulf=function(d){var g=new s(null);return g.words=new Array(this.length+d.length),z(this,d,g)},s.prototype.imul=function(d){return this.clone().mulTo(d,this)},s.prototype.imuln=function(d){var g=d<0;g&&(d=-d),n(typeof d=="number"),n(d<67108864);for(var x=0,C=0;C<this.length;C++){var k=(this.words[C]|0)*d,T=(k&67108863)+(x&67108863);x>>=26,x+=k/67108864|0,x+=T>>>26,this.words[C]=T&67108863}return x!==0&&(this.words[C]=x,this.length++),this.length=d===0?1:this.length,g?this.ineg():this},s.prototype.muln=function(d){return this.clone().imuln(d)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(d){var g=A(d);if(g.length===0)return new s(1);for(var x=this,C=0;C<g.length&&g[C]===0;C++,x=x.sqr());if(++C<g.length)for(var k=x.sqr();C<g.length;C++,k=k.sqr())g[C]!==0&&(x=x.mul(k));return x},s.prototype.iushln=function(d){n(typeof d=="number"&&d>=0);var g=d%26,x=(d-g)/26,C=67108863>>>26-g<<26-g,k;if(g!==0){var T=0;for(k=0;k<this.length;k++){var R=this.words[k]&C,I=(this.words[k]|0)-R<<g;this.words[k]=I|T,T=R>>>26-g}T&&(this.words[k]=T,this.length++)}if(x!==0){for(k=this.length-1;k>=0;k--)this.words[k+x]=this.words[k];for(k=0;k<x;k++)this.words[k]=0;this.length+=x}return this._strip()},s.prototype.ishln=function(d){return n(this.negative===0),this.iushln(d)},s.prototype.iushrn=function(d,g,x){n(typeof d=="number"&&d>=0);var C;g?C=(g-g%26)/26:C=0;var k=d%26,T=Math.min((d-k)/26,this.length),R=67108863^67108863>>>k<<k,I=x;if(C-=T,C=Math.max(0,C),I){for(var f=0;f<T;f++)I.words[f]=this.words[f];I.length=T}if(T!==0)if(this.length>T)for(this.length-=T,f=0;f<this.length;f++)this.words[f]=this.words[f+T];else this.words[0]=0,this.length=1;var S=0;for(f=this.length-1;f>=0&&(S!==0||f>=C);f--){var K=this.words[f]|0;this.words[f]=S<<26-k|K>>>k,S=K&R}return I&&S!==0&&(I.words[I.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(d,g,x){return n(this.negative===0),this.iushrn(d,g,x)},s.prototype.shln=function(d){return this.clone().ishln(d)},s.prototype.ushln=function(d){return this.clone().iushln(d)},s.prototype.shrn=function(d){return this.clone().ishrn(d)},s.prototype.ushrn=function(d){return this.clone().iushrn(d)},s.prototype.testn=function(d){n(typeof d=="number"&&d>=0);var g=d%26,x=(d-g)/26,C=1<<g;if(this.length<=x)return!1;var k=this.words[x];return!!(k&C)},s.prototype.imaskn=function(d){n(typeof d=="number"&&d>=0);var g=d%26,x=(d-g)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=x)return this;if(g!==0&&x++,this.length=Math.min(x,this.length),g!==0){var C=67108863^67108863>>>g<<g;this.words[this.length-1]&=C}return this._strip()},s.prototype.maskn=function(d){return this.clone().imaskn(d)},s.prototype.iaddn=function(d){return n(typeof d=="number"),n(d<67108864),d<0?this.isubn(-d):this.negative!==0?this.length===1&&(this.words[0]|0)<=d?(this.words[0]=d-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},s.prototype._iaddn=function(d){this.words[0]+=d;for(var g=0;g<this.length&&this.words[g]>=67108864;g++)this.words[g]-=67108864,g===this.length-1?this.words[g+1]=1:this.words[g+1]++;return this.length=Math.max(this.length,g+1),this},s.prototype.isubn=function(d){if(n(typeof d=="number"),n(d<67108864),d<0)return this.iaddn(-d);if(this.negative!==0)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var g=0;g<this.length&&this.words[g]<0;g++)this.words[g]+=67108864,this.words[g+1]-=1;return this._strip()},s.prototype.addn=function(d){return this.clone().iaddn(d)},s.prototype.subn=function(d){return this.clone().isubn(d)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(d,g,x){var C=d.length+x,k;this._expand(C);var T,R=0;for(k=0;k<d.length;k++){T=(this.words[k+x]|0)+R;var I=(d.words[k]|0)*g;T-=I&67108863,R=(T>>26)-(I/67108864|0),this.words[k+x]=T&67108863}for(;k<this.length-x;k++)T=(this.words[k+x]|0)+R,R=T>>26,this.words[k+x]=T&67108863;if(R===0)return this._strip();for(n(R===-1),R=0,k=0;k<this.length;k++)T=-(this.words[k]|0)+R,R=T>>26,this.words[k]=T&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(d,g){var x=this.length-d.length,C=this.clone(),k=d,T=k.words[k.length-1]|0,R=this._countBits(T);x=26-R,x!==0&&(k=k.ushln(x),C.iushln(x),T=k.words[k.length-1]|0);var I=C.length-k.length,f;if(g!=="mod"){f=new s(null),f.length=I+1,f.words=new Array(f.length);for(var S=0;S<f.length;S++)f.words[S]=0}var K=C.clone()._ishlnsubmul(k,1,I);K.negative===0&&(C=K,f&&(f.words[I]=1));for(var D=I-1;D>=0;D--){var J=(C.words[k.length+D]|0)*67108864+(C.words[k.length+D-1]|0);for(J=Math.min(J/T|0,67108863),C._ishlnsubmul(k,J,D);C.negative!==0;)J--,C.negative=0,C._ishlnsubmul(k,1,D),C.isZero()||(C.negative^=1);f&&(f.words[D]=J)}return f&&f._strip(),C._strip(),g!=="div"&&x!==0&&C.iushrn(x),{div:f||null,mod:C}},s.prototype.divmod=function(d,g,x){if(n(!d.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var C,k,T;return this.negative!==0&&d.negative===0?(T=this.neg().divmod(d,g),g!=="mod"&&(C=T.div.neg()),g!=="div"&&(k=T.mod.neg(),x&&k.negative!==0&&k.iadd(d)),{div:C,mod:k}):this.negative===0&&d.negative!==0?(T=this.divmod(d.neg(),g),g!=="mod"&&(C=T.div.neg()),{div:C,mod:T.mod}):(this.negative&d.negative)!==0?(T=this.neg().divmod(d.neg(),g),g!=="div"&&(k=T.mod.neg(),x&&k.negative!==0&&k.isub(d)),{div:T.div,mod:k}):d.length>this.length||this.cmp(d)<0?{div:new s(0),mod:this}:d.length===1?g==="div"?{div:this.divn(d.words[0]),mod:null}:g==="mod"?{div:null,mod:new s(this.modrn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new s(this.modrn(d.words[0]))}:this._wordDiv(d,g)},s.prototype.div=function(d){return this.divmod(d,"div",!1).div},s.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},s.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},s.prototype.divRound=function(d){var g=this.divmod(d);if(g.mod.isZero())return g.div;var x=g.div.negative!==0?g.mod.isub(d):g.mod,C=d.ushrn(1),k=d.andln(1),T=x.cmp(C);return T<0||k===1&&T===0?g.div:g.div.negative!==0?g.div.isubn(1):g.div.iaddn(1)},s.prototype.modrn=function(d){var g=d<0;g&&(d=-d),n(d<=67108863);for(var x=(1<<26)%d,C=0,k=this.length-1;k>=0;k--)C=(x*C+(this.words[k]|0))%d;return g?-C:C},s.prototype.modn=function(d){return this.modrn(d)},s.prototype.idivn=function(d){var g=d<0;g&&(d=-d),n(d<=67108863);for(var x=0,C=this.length-1;C>=0;C--){var k=(this.words[C]|0)+x*67108864;this.words[C]=k/d|0,x=k%d}return this._strip(),g?this.ineg():this},s.prototype.divn=function(d){return this.clone().idivn(d)},s.prototype.egcd=function(d){n(d.negative===0),n(!d.isZero());var g=this,x=d.clone();g.negative!==0?g=g.umod(d):g=g.clone();for(var C=new s(1),k=new s(0),T=new s(0),R=new s(1),I=0;g.isEven()&&x.isEven();)g.iushrn(1),x.iushrn(1),++I;for(var f=x.clone(),S=g.clone();!g.isZero();){for(var K=0,D=1;(g.words[0]&D)===0&&K<26;++K,D<<=1);if(K>0)for(g.iushrn(K);K-- >0;)(C.isOdd()||k.isOdd())&&(C.iadd(f),k.isub(S)),C.iushrn(1),k.iushrn(1);for(var J=0,ne=1;(x.words[0]&ne)===0&&J<26;++J,ne<<=1);if(J>0)for(x.iushrn(J);J-- >0;)(T.isOdd()||R.isOdd())&&(T.iadd(f),R.isub(S)),T.iushrn(1),R.iushrn(1);g.cmp(x)>=0?(g.isub(x),C.isub(T),k.isub(R)):(x.isub(g),T.isub(C),R.isub(k))}return{a:T,b:R,gcd:x.iushln(I)}},s.prototype._invmp=function(d){n(d.negative===0),n(!d.isZero());var g=this,x=d.clone();g.negative!==0?g=g.umod(d):g=g.clone();for(var C=new s(1),k=new s(0),T=x.clone();g.cmpn(1)>0&&x.cmpn(1)>0;){for(var R=0,I=1;(g.words[0]&I)===0&&R<26;++R,I<<=1);if(R>0)for(g.iushrn(R);R-- >0;)C.isOdd()&&C.iadd(T),C.iushrn(1);for(var f=0,S=1;(x.words[0]&S)===0&&f<26;++f,S<<=1);if(f>0)for(x.iushrn(f);f-- >0;)k.isOdd()&&k.iadd(T),k.iushrn(1);g.cmp(x)>=0?(g.isub(x),C.isub(k)):(x.isub(g),k.isub(C))}var K;return g.cmpn(1)===0?K=C:K=k,K.cmpn(0)<0&&K.iadd(d),K},s.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var g=this.clone(),x=d.clone();g.negative=0,x.negative=0;for(var C=0;g.isEven()&&x.isEven();C++)g.iushrn(1),x.iushrn(1);do{for(;g.isEven();)g.iushrn(1);for(;x.isEven();)x.iushrn(1);var k=g.cmp(x);if(k<0){var T=g;g=x,x=T}else if(k===0||x.cmpn(1)===0)break;g.isub(x)}while(!0);return x.iushln(C)},s.prototype.invm=function(d){return this.egcd(d).a.umod(d)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(d){return this.words[0]&d},s.prototype.bincn=function(d){n(typeof d=="number");var g=d%26,x=(d-g)/26,C=1<<g;if(this.length<=x)return this._expand(x+1),this.words[x]|=C,this;for(var k=C,T=x;k!==0&&T<this.length;T++){var R=this.words[T]|0;R+=k,k=R>>>26,R&=67108863,this.words[T]=R}return k!==0&&(this.words[T]=k,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(d){var g=d<0;if(this.negative!==0&&!g)return-1;if(this.negative===0&&g)return 1;this._strip();var x;if(this.length>1)x=1;else{g&&(d=-d),n(d<=67108863,"Number is too big");var C=this.words[0]|0;x=C===d?0:C<d?-1:1}return this.negative!==0?-x|0:x},s.prototype.cmp=function(d){if(this.negative!==0&&d.negative===0)return-1;if(this.negative===0&&d.negative!==0)return 1;var g=this.ucmp(d);return this.negative!==0?-g|0:g},s.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var g=0,x=this.length-1;x>=0;x--){var C=this.words[x]|0,k=d.words[x]|0;if(C!==k){C<k?g=-1:C>k&&(g=1);break}}return g},s.prototype.gtn=function(d){return this.cmpn(d)===1},s.prototype.gt=function(d){return this.cmp(d)===1},s.prototype.gten=function(d){return this.cmpn(d)>=0},s.prototype.gte=function(d){return this.cmp(d)>=0},s.prototype.ltn=function(d){return this.cmpn(d)===-1},s.prototype.lt=function(d){return this.cmp(d)===-1},s.prototype.lten=function(d){return this.cmpn(d)<=0},s.prototype.lte=function(d){return this.cmp(d)<=0},s.prototype.eqn=function(d){return this.cmpn(d)===0},s.prototype.eq=function(d){return this.cmp(d)===0},s.red=function(d){return new U(d)},s.prototype.toRed=function(d){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),d.convertTo(this)._forceRed(d)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(d){return this.red=d,this},s.prototype.forceRed=function(d){return n(!this.red,"Already a number in reduction context"),this._forceRed(d)},s.prototype.redAdd=function(d){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},s.prototype.redIAdd=function(d){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},s.prototype.redSub=function(d){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},s.prototype.redISub=function(d){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},s.prototype.redShl=function(d){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},s.prototype.redMul=function(d){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},s.prototype.redIMul=function(d){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(d){return n(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var L={k256:null,p224:null,p192:null,p25519:null};function W(_,d){this.name=_,this.p=new s(d,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}W.prototype._tmp=function(){var d=new s(null);return d.words=new Array(Math.ceil(this.n/13)),d},W.prototype.ireduce=function(d){var g=d,x;do this.split(g,this.tmp),g=this.imulK(g),g=g.iadd(this.tmp),x=g.bitLength();while(x>this.n);var C=x<this.n?-1:g.ucmp(this.p);return C===0?(g.words[0]=0,g.length=1):C>0?g.isub(this.p):g.strip!==void 0?g.strip():g._strip(),g},W.prototype.split=function(d,g){d.iushrn(this.n,0,g)},W.prototype.imulK=function(d){return d.imul(this.k)};function H(){W.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(H,W),H.prototype.split=function(d,g){for(var x=4194303,C=Math.min(d.length,9),k=0;k<C;k++)g.words[k]=d.words[k];if(g.length=C,d.length<=9){d.words[0]=0,d.length=1;return}var T=d.words[9];for(g.words[g.length++]=T&x,k=10;k<d.length;k++){var R=d.words[k]|0;d.words[k-10]=(R&x)<<4|T>>>22,T=R}T>>>=22,d.words[k-10]=T,T===0&&d.length>10?d.length-=10:d.length-=9},H.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var g=0,x=0;x<d.length;x++){var C=d.words[x]|0;g+=C*977,d.words[x]=g&67108863,g=C*64+(g/67108864|0)}return d.words[d.length-1]===0&&(d.length--,d.words[d.length-1]===0&&d.length--),d};function G(){W.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(G,W);function N(){W.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(N,W);function F(){W.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(F,W),F.prototype.imulK=function(d){for(var g=0,x=0;x<d.length;x++){var C=(d.words[x]|0)*19+g,k=C&67108863;C>>>=26,d.words[x]=k,g=C}return g!==0&&(d.words[d.length++]=g),d},s._prime=function(d){if(L[d])return L[d];var g;if(d==="k256")g=new H;else if(d==="p224")g=new G;else if(d==="p192")g=new N;else if(d==="p25519")g=new F;else throw new Error("Unknown prime "+d);return L[d]=g,g};function U(_){if(typeof _=="string"){var d=s._prime(_);this.m=d.p,this.prime=d}else n(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}U.prototype._verify1=function(d){n(d.negative===0,"red works only with positives"),n(d.red,"red works only with red numbers")},U.prototype._verify2=function(d,g){n((d.negative|g.negative)===0,"red works only with positives"),n(d.red&&d.red===g.red,"red works only with red numbers")},U.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):(c(d,d.umod(this.m)._forceRed(this)),d)},U.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},U.prototype.add=function(d,g){this._verify2(d,g);var x=d.add(g);return x.cmp(this.m)>=0&&x.isub(this.m),x._forceRed(this)},U.prototype.iadd=function(d,g){this._verify2(d,g);var x=d.iadd(g);return x.cmp(this.m)>=0&&x.isub(this.m),x},U.prototype.sub=function(d,g){this._verify2(d,g);var x=d.sub(g);return x.cmpn(0)<0&&x.iadd(this.m),x._forceRed(this)},U.prototype.isub=function(d,g){this._verify2(d,g);var x=d.isub(g);return x.cmpn(0)<0&&x.iadd(this.m),x},U.prototype.shl=function(d,g){return this._verify1(d),this.imod(d.ushln(g))},U.prototype.imul=function(d,g){return this._verify2(d,g),this.imod(d.imul(g))},U.prototype.mul=function(d,g){return this._verify2(d,g),this.imod(d.mul(g))},U.prototype.isqr=function(d){return this.imul(d,d.clone())},U.prototype.sqr=function(d){return this.mul(d,d)},U.prototype.sqrt=function(d){if(d.isZero())return d.clone();var g=this.m.andln(3);if(n(g%2===1),g===3){var x=this.m.add(new s(1)).iushrn(2);return this.pow(d,x)}for(var C=this.m.subn(1),k=0;!C.isZero()&&C.andln(1)===0;)k++,C.iushrn(1);n(!C.isZero());var T=new s(1).toRed(this),R=T.redNeg(),I=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new s(2*f*f).toRed(this);this.pow(f,I).cmp(R)!==0;)f.redIAdd(R);for(var S=this.pow(f,C),K=this.pow(d,C.addn(1).iushrn(1)),D=this.pow(d,C),J=k;D.cmp(T)!==0;){for(var ne=D,ie=0;ne.cmp(T)!==0;ie++)ne=ne.redSqr();n(ie<J);var ce=this.pow(S,new s(1).iushln(J-ie-1));K=K.redMul(ce),S=ce.redSqr(),D=D.redMul(S),J=ie}return K},U.prototype.invm=function(d){var g=d._invmp(this.m);return g.negative!==0?(g.negative=0,this.imod(g).redNeg()):this.imod(g)},U.prototype.pow=function(d,g){if(g.isZero())return new s(1).toRed(this);if(g.cmpn(1)===0)return d.clone();var x=4,C=new Array(1<<x);C[0]=new s(1).toRed(this),C[1]=d;for(var k=2;k<C.length;k++)C[k]=this.mul(C[k-1],d);var T=C[0],R=0,I=0,f=g.bitLength()%26;for(f===0&&(f=26),k=g.length-1;k>=0;k--){for(var S=g.words[k],K=f-1;K>=0;K--){var D=S>>K&1;if(T!==C[0]&&(T=this.sqr(T)),D===0&&R===0){I=0;continue}R<<=1,R|=D,I++,!(I!==x&&(k!==0||K!==0))&&(T=this.mul(T,C[R]),I=0,R=0)}f=26}return T},U.prototype.convertTo=function(d){var g=d.umod(this.m);return g===d?g.clone():g},U.prototype.convertFrom=function(d){var g=d.clone();return g.red=null,g},s.mont=function(d){return new j(d)};function j(_){U.call(this,_),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(j,U),j.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},j.prototype.convertFrom=function(d){var g=this.imod(d.mul(this.rinv));return g.red=null,g},j.prototype.imul=function(d,g){if(d.isZero()||g.isZero())return d.words[0]=0,d.length=1,d;var x=d.imul(g),C=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=x.isub(C).iushrn(this.shift),T=k;return k.cmp(this.m)>=0?T=k.isub(this.m):k.cmpn(0)<0&&(T=k.iadd(this.m)),T._forceRed(this)},j.prototype.mul=function(d,g){if(d.isZero()||g.isZero())return new s(0)._forceRed(this);var x=d.mul(g),C=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=x.isub(C).iushrn(this.shift),T=k;return k.cmp(this.m)>=0?T=k.isub(this.m):k.cmpn(0)<0&&(T=k.iadd(this.m)),T._forceRed(this)},j.prototype.invm=function(d){var g=this.imod(d._invmp(this.m).mul(this.r2));return g._forceRed(this)}})(t,Bmt)})(C8)),C8.exports}var xT,sJ;function Fmt(){if(sJ)return xT;sJ=1;var t=bpe().Buffer;function e(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var s=0;s<r.length;s++){var o=r.charAt(s),a=o.charCodeAt(0);if(n[a]!==255)throw new TypeError(o+" is ambiguous");n[a]=s}var l=r.length,u=r.charAt(0),c=Math.log(l)/Math.log(256),h=Math.log(256)/Math.log(l);function m(E){if((Array.isArray(E)||E instanceof Uint8Array)&&(E=t.from(E)),!t.isBuffer(E))throw new TypeError("Expected Buffer");if(E.length===0)return"";for(var A=0,M=0,O=0,P=E.length;O!==P&&E[O]===0;)O++,A++;for(var z=(P-O)*h+1>>>0,L=new Uint8Array(z);O!==P;){for(var W=E[O],H=0,G=z-1;(W!==0||H<M)&&G!==-1;G--,H++)W+=256*L[G]>>>0,L[G]=W%l>>>0,W=W/l>>>0;if(W!==0)throw new Error("Non-zero carry");M=H,O++}for(var N=z-M;N!==z&&L[N]===0;)N++;for(var F=u.repeat(A);N<z;++N)F+=r.charAt(L[N]);return F}function y(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return t.alloc(0);for(var A=0,M=0,O=0;E[A]===u;)M++,A++;for(var P=(E.length-A)*c+1>>>0,z=new Uint8Array(P);A<E.length;){var L=E.charCodeAt(A);if(L>255)return;var W=n[L];if(W===255)return;for(var H=0,G=P-1;(W!==0||H<O)&&G!==-1;G--,H++)W+=l*z[G]>>>0,z[G]=W%256>>>0,W=W/256>>>0;if(W!==0)throw new Error("Non-zero carry");O=H,A++}for(var N=P-O;N!==P&&z[N]===0;)N++;var F=t.allocUnsafe(M+(P-N));F.fill(0,0,M);for(var U=M;N!==P;)F[U++]=z[N++];return F}function b(E){var A=y(E);if(A)return A;throw new Error("Non-base"+l+" character")}return{encode:m,decodeUnsafe:y,decode:b}}return xT=e,xT}var ET,oJ;function zmt(){if(oJ)return ET;oJ=1;var t=Fmt(),e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return ET=t(e),ET}function _h(t,e,r){return e<=t&&t<=r}function TA(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function Wmt(t){for(var e=String(t),r=e.length,n=0,i=[];n<r;){var s=e.charCodeAt(n);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(n===r-1)i.push(65533);else{var o=t.charCodeAt(n+1);if(56320<=o&&o<=57343){var a=s&1023,l=o&1023;i.push(65536+(a<<10)+l),n+=1}else i.push(65533)}n+=1}return i}function qmt(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}var r_=-1;function mD(t){this.tokens=[].slice.call(t)}mD.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():r_},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var pw=-1;function _T(t,e){if(t)throw TypeError("Decoder error");return e||65533}var n_="utf-8";function i_(t,e){if(!(this instanceof i_))return new i_(t,e);if(t=t!==void 0?String(t).toLowerCase():n_,t!==n_)throw new Error("Encoding not supported. Only utf-8 is supported");e=TA(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}i_.prototype={decode:function(e,r){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),r=TA(r),this._streaming||(this._decoder=new Hmt({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!r.stream;for(var i=new mD(n),s=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==pw);)o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===pw)break;o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),qmt(s)}};function s_(t,e){if(!(this instanceof s_))return new s_(t,e);if(t=t!==void 0?String(t).toLowerCase():n_,t!==n_)throw new Error("Encoding not supported. Only utf-8 is supported");e=TA(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}s_.prototype={encode:function(e,r){e=e?String(e):"",r=TA(r),this._streaming||(this._encoder=new Vmt(this._options)),this._streaming=!!r.stream;for(var n=[],i=new mD(Wmt(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==pw);)Array.isArray(s)?n.push.apply(n,s):n.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==pw;)Array.isArray(s)?n.push.apply(n,s):n.push(s);this._encoder=null}return new Uint8Array(n)}};function Hmt(t){var e=t.fatal,r=0,n=0,i=0,s=128,o=191;this.handler=function(a,l){if(l===r_&&i!==0)return i=0,_T(e);if(l===r_)return pw;if(i===0){if(_h(l,0,127))return l;if(_h(l,194,223))i=1,r=l-192;else if(_h(l,224,239))l===224&&(s=160),l===237&&(o=159),i=2,r=l-224;else if(_h(l,240,244))l===240&&(s=144),l===244&&(o=143),i=3,r=l-240;else return _T(e);return r=r<<6*i,null}if(!_h(l,s,o))return r=i=n=0,s=128,o=191,a.prepend(l),_T(e);if(s=128,o=191,n+=1,r+=l-128<<6*(i-n),n!==i)return null;var u=r;return r=i=n=0,u}}function Vmt(t){t.fatal,this.handler=function(e,r){if(r===r_)return pw;if(_h(r,0,127))return r;var n,i;_h(r,128,2047)?(n=1,i=192):_h(r,2048,65535)?(n=2,i=224):_h(r,65536,1114111)&&(n=3,i=240);for(var s=[(r>>6*n)+i];n>0;){var o=r>>6*(n-1);s.push(128|o&63),n-=1}return s}}const Kmt=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:i_,TextEncoder:s_},Symbol.toStringTag,{value:"Module"})),Gmt=rm(Kmt);var aJ;function Ymt(){if(aJ)return Nn;aJ=1;var t=Nn&&Nn.__createBinding||(Object.create?(function(N,F,U,j){j===void 0&&(j=U),Object.defineProperty(N,j,{enumerable:!0,get:function(){return F[U]}})}):(function(N,F,U,j){j===void 0&&(j=U),N[j]=F[U]})),e=Nn&&Nn.__setModuleDefault||(Object.create?(function(N,F){Object.defineProperty(N,"default",{enumerable:!0,value:F})}):function(N,F){N.default=F}),r=Nn&&Nn.__decorate||function(N,F,U,j){var _=arguments.length,d=_<3?F:j===null?j=Object.getOwnPropertyDescriptor(F,U):j,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(N,F,U,j);else for(var x=N.length-1;x>=0;x--)(g=N[x])&&(d=(_<3?g(d):_>3?g(F,U,d):g(F,U))||d);return _>3&&d&&Object.defineProperty(F,U,d),d},n=Nn&&Nn.__importStar||function(N){if(N&&N.__esModule)return N;var F={};if(N!=null)for(var U in N)U!=="default"&&Object.hasOwnProperty.call(N,U)&&t(F,N,U);return e(F,N),F},i=Nn&&Nn.__importDefault||function(N){return N&&N.__esModule?N:{default:N}};Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.deserializeUnchecked=Nn.deserialize=Nn.serialize=Nn.BinaryReader=Nn.BinaryWriter=Nn.BorshError=Nn.baseDecode=Nn.baseEncode=void 0;const s=i(Umt()),o=i(zmt()),a=n(Gmt),l=typeof TextDecoder!="function"?a.TextDecoder:TextDecoder,u=new l("utf-8",{fatal:!0});function c(N){return typeof N=="string"&&(N=kt.from(N,"utf8")),o.default.encode(kt.from(N))}Nn.baseEncode=c;function h(N){return kt.from(o.default.decode(N))}Nn.baseDecode=h;const m=1024;class y extends Error{constructor(F){super(F),this.fieldPath=[],this.originalMessage=F}addToFieldPath(F){this.fieldPath.splice(0,0,F),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Nn.BorshError=y;class b{constructor(){this.buf=kt.alloc(m),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=kt.concat([this.buf,kt.alloc(m)]))}writeU8(F){this.maybeResize(),this.buf.writeUInt8(F,this.length),this.length+=1}writeU16(F){this.maybeResize(),this.buf.writeUInt16LE(F,this.length),this.length+=2}writeU32(F){this.maybeResize(),this.buf.writeUInt32LE(F,this.length),this.length+=4}writeU64(F){this.maybeResize(),this.writeBuffer(kt.from(new s.default(F).toArray("le",8)))}writeU128(F){this.maybeResize(),this.writeBuffer(kt.from(new s.default(F).toArray("le",16)))}writeU256(F){this.maybeResize(),this.writeBuffer(kt.from(new s.default(F).toArray("le",32)))}writeU512(F){this.maybeResize(),this.writeBuffer(kt.from(new s.default(F).toArray("le",64)))}writeBuffer(F){this.buf=kt.concat([kt.from(this.buf.subarray(0,this.length)),F,kt.alloc(m)]),this.length+=F.length}writeString(F){this.maybeResize();const U=kt.from(F,"utf8");this.writeU32(U.length),this.writeBuffer(U)}writeFixedArray(F){this.writeBuffer(kt.from(F))}writeArray(F,U){this.maybeResize(),this.writeU32(F.length);for(const j of F)this.maybeResize(),U(j)}toArray(){return this.buf.subarray(0,this.length)}}Nn.BinaryWriter=b;function E(N,F,U){const j=U.value;U.value=function(..._){try{return j.apply(this,_)}catch(d){if(d instanceof RangeError){const g=d.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(g)>=0)throw new y("Reached the end of buffer when deserializing")}throw d}}}class A{constructor(F){this.buf=F,this.offset=0}readU8(){const F=this.buf.readUInt8(this.offset);return this.offset+=1,F}readU16(){const F=this.buf.readUInt16LE(this.offset);return this.offset+=2,F}readU32(){const F=this.buf.readUInt32LE(this.offset);return this.offset+=4,F}readU64(){const F=this.readBuffer(8);return new s.default(F,"le")}readU128(){const F=this.readBuffer(16);return new s.default(F,"le")}readU256(){const F=this.readBuffer(32);return new s.default(F,"le")}readU512(){const F=this.readBuffer(64);return new s.default(F,"le")}readBuffer(F){if(this.offset+F>this.buf.length)throw new y(`Expected buffer length ${F} isn't within bounds`);const U=this.buf.slice(this.offset,this.offset+F);return this.offset+=F,U}readString(){const F=this.readU32(),U=this.readBuffer(F);try{return u.decode(U)}catch(j){throw new y(`Error decoding UTF-8 string: ${j}`)}}readFixedArray(F){return new Uint8Array(this.readBuffer(F))}readArray(F){const U=this.readU32(),j=Array();for(let _=0;_<U;++_)j.push(F());return j}}r([E],A.prototype,"readU8",null),r([E],A.prototype,"readU16",null),r([E],A.prototype,"readU32",null),r([E],A.prototype,"readU64",null),r([E],A.prototype,"readU128",null),r([E],A.prototype,"readU256",null),r([E],A.prototype,"readU512",null),r([E],A.prototype,"readString",null),r([E],A.prototype,"readFixedArray",null),r([E],A.prototype,"readArray",null),Nn.BinaryReader=A;function M(N){return N.charAt(0).toUpperCase()+N.slice(1)}function O(N,F,U,j,_){try{if(typeof j=="string")_[`write${M(j)}`](U);else if(j instanceof Array)if(typeof j[0]=="number"){if(U.length!==j[0])throw new y(`Expecting byte array of length ${j[0]}, but got ${U.length} bytes`);_.writeFixedArray(U)}else if(j.length===2&&typeof j[1]=="number"){if(U.length!==j[1])throw new y(`Expecting byte array of length ${j[1]}, but got ${U.length} bytes`);for(let d=0;d<j[1];d++)O(N,null,U[d],j[0],_)}else _.writeArray(U,d=>{O(N,F,d,j[0],_)});else if(j.kind!==void 0)switch(j.kind){case"option":{U==null?_.writeU8(0):(_.writeU8(1),O(N,F,U,j.type,_));break}case"map":{_.writeU32(U.size),U.forEach((d,g)=>{O(N,F,g,j.key,_),O(N,F,d,j.value,_)});break}default:throw new y(`FieldType ${j} unrecognized`)}else P(N,U,_)}catch(d){throw d instanceof y&&d.addToFieldPath(F),d}}function P(N,F,U){if(typeof F.borshSerialize=="function"){F.borshSerialize(U);return}const j=N.get(F.constructor);if(!j)throw new y(`Class ${F.constructor.name} is missing in schema`);if(j.kind==="struct")j.fields.map(([_,d])=>{O(N,_,F[_],d,U)});else if(j.kind==="enum"){const _=F[j.field];for(let d=0;d<j.values.length;++d){const[g,x]=j.values[d];if(g===_){U.writeU8(d),O(N,g,F[g],x,U);break}}}else throw new y(`Unexpected schema kind: ${j.kind} for ${F.constructor.name}`)}function z(N,F,U=b){const j=new U;return P(N,F,j),j.toArray()}Nn.serialize=z;function L(N,F,U,j){try{if(typeof U=="string")return j[`read${M(U)}`]();if(U instanceof Array){if(typeof U[0]=="number")return j.readFixedArray(U[0]);if(typeof U[1]=="number"){const _=[];for(let d=0;d<U[1];d++)_.push(L(N,null,U[0],j));return _}else return j.readArray(()=>L(N,F,U[0],j))}if(U.kind==="option")return j.readU8()?L(N,F,U.type,j):void 0;if(U.kind==="map"){let _=new Map;const d=j.readU32();for(let g=0;g<d;g++){const x=L(N,F,U.key,j),C=L(N,F,U.value,j);_.set(x,C)}return _}return W(N,U,j)}catch(_){throw _ instanceof y&&_.addToFieldPath(F),_}}function W(N,F,U){if(typeof F.borshDeserialize=="function")return F.borshDeserialize(U);const j=N.get(F);if(!j)throw new y(`Class ${F.name} is missing in schema`);if(j.kind==="struct"){const _={};for(const[d,g]of N.get(F).fields)_[d]=L(N,d,g,U);return new F(_)}if(j.kind==="enum"){const _=U.readU8();if(_>=j.values.length)throw new y(`Enum index: ${_} is out of range`);const[d,g]=j.values[_],x=L(N,d,g,U);return new F({[d]:x})}throw new y(`Unexpected schema kind: ${j.kind} for ${F.constructor.name}`)}function H(N,F,U,j=A){const _=new j(U),d=W(N,F,_);if(_.offset<U.length)throw new y(`Unexpected ${U.length-_.offset} bytes after deserialized data`);return d}Nn.deserialize=H;function G(N,F,U,j=A){const _=new j(U);return W(N,F,_)}return Nn.deserializeUnchecked=G,Nn}var AT=Ymt(),Ve={},lJ;function Zmt(){if(lJ)return Ve;lJ=1,Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.s16=Ve.s8=Ve.nu64be=Ve.u48be=Ve.u40be=Ve.u32be=Ve.u24be=Ve.u16be=Ve.nu64=Ve.u48=Ve.u40=Ve.u32=Ve.u24=Ve.u16=Ve.u8=Ve.offset=Ve.greedy=Ve.Constant=Ve.UTF8=Ve.CString=Ve.Blob=Ve.Boolean=Ve.BitField=Ve.BitStructure=Ve.VariantLayout=Ve.Union=Ve.UnionLayoutDiscriminator=Ve.UnionDiscriminator=Ve.Structure=Ve.Sequence=Ve.DoubleBE=Ve.Double=Ve.FloatBE=Ve.Float=Ve.NearInt64BE=Ve.NearInt64=Ve.NearUInt64BE=Ve.NearUInt64=Ve.IntBE=Ve.Int=Ve.UIntBE=Ve.UInt=Ve.OffsetLayout=Ve.GreedyCount=Ve.ExternalLayout=Ve.bindConstructorLayout=Ve.nameWithProperty=Ve.Layout=Ve.uint8ArrayToBuffer=Ve.checkUint8Array=void 0,Ve.constant=Ve.utf8=Ve.cstr=Ve.blob=Ve.unionLayoutDiscriminator=Ve.union=Ve.seq=Ve.bits=Ve.struct=Ve.f64be=Ve.f64=Ve.f32be=Ve.f32=Ve.ns64be=Ve.s48be=Ve.s40be=Ve.s32be=Ve.s24be=Ve.s16be=Ve.ns64=Ve.s48=Ve.s40=Ve.s32=Ve.s24=void 0;const t=Tw();function e(f){if(!(f instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Ve.checkUint8Array=e;function r(f){return e(f),t.Buffer.from(f.buffer,f.byteOffset,f.length)}Ve.uint8ArrayToBuffer=r;let n=class{constructor(S,K){if(!Number.isInteger(S))throw new TypeError("span must be an integer");this.span=S,this.property=K}makeDestinationObject(){return{}}getSpan(S,K){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(S){const K=Object.create(this.constructor.prototype);return Object.assign(K,this),K.property=S,K}fromArray(S){}};Ve.Layout=n;function i(f,S){return S.property?f+"["+S.property+"]":f}Ve.nameWithProperty=i;function s(f,S){if(typeof f!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(f,"layout_"))throw new Error("Class is already bound to a layout");if(!(S&&S instanceof n))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(S,"boundConstructor_"))throw new Error("layout is already bound to a constructor");f.layout_=S,S.boundConstructor_=f,S.makeDestinationObject=(()=>new f),Object.defineProperty(f.prototype,"encode",{value(K,D){return S.encode(this,K,D)},writable:!0}),Object.defineProperty(f,"decode",{value(K,D){return S.decode(K,D)},writable:!0})}Ve.bindConstructorLayout=s;class o extends n{isCount(){throw new Error("ExternalLayout is abstract")}}Ve.ExternalLayout=o;class a extends o{constructor(S=1,K){if(!Number.isInteger(S)||0>=S)throw new TypeError("elementSpan must be a (positive) integer");super(-1,K),this.elementSpan=S}isCount(){return!0}decode(S,K=0){e(S);const D=S.length-K;return Math.floor(D/this.elementSpan)}encode(S,K,D){return 0}}Ve.GreedyCount=a;class l extends o{constructor(S,K=0,D){if(!(S instanceof n))throw new TypeError("layout must be a Layout");if(!Number.isInteger(K))throw new TypeError("offset must be integer or undefined");super(S.span,D||S.property),this.layout=S,this.offset=K}isCount(){return this.layout instanceof u||this.layout instanceof c}decode(S,K=0){return this.layout.decode(S,K+this.offset)}encode(S,K,D=0){return this.layout.encode(S,K,D+this.offset)}}Ve.OffsetLayout=l;class u extends n{constructor(S,K){if(super(S,K),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(S,K=0){return r(S).readUIntLE(K,this.span)}encode(S,K,D=0){return r(K).writeUIntLE(S,D,this.span),this.span}}Ve.UInt=u;class c extends n{constructor(S,K){if(super(S,K),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(S,K=0){return r(S).readUIntBE(K,this.span)}encode(S,K,D=0){return r(K).writeUIntBE(S,D,this.span),this.span}}Ve.UIntBE=c;class h extends n{constructor(S,K){if(super(S,K),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(S,K=0){return r(S).readIntLE(K,this.span)}encode(S,K,D=0){return r(K).writeIntLE(S,D,this.span),this.span}}Ve.Int=h;class m extends n{constructor(S,K){if(super(S,K),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(S,K=0){return r(S).readIntBE(K,this.span)}encode(S,K,D=0){return r(K).writeIntBE(S,D,this.span),this.span}}Ve.IntBE=m;const y=Math.pow(2,32);function b(f){const S=Math.floor(f/y),K=f-S*y;return{hi32:S,lo32:K}}function E(f,S){return f*y+S}class A extends n{constructor(S){super(8,S)}decode(S,K=0){const D=r(S),J=D.readUInt32LE(K),ne=D.readUInt32LE(K+4);return E(ne,J)}encode(S,K,D=0){const J=b(S),ne=r(K);return ne.writeUInt32LE(J.lo32,D),ne.writeUInt32LE(J.hi32,D+4),8}}Ve.NearUInt64=A;class M extends n{constructor(S){super(8,S)}decode(S,K=0){const D=r(S),J=D.readUInt32BE(K),ne=D.readUInt32BE(K+4);return E(J,ne)}encode(S,K,D=0){const J=b(S),ne=r(K);return ne.writeUInt32BE(J.hi32,D),ne.writeUInt32BE(J.lo32,D+4),8}}Ve.NearUInt64BE=M;class O extends n{constructor(S){super(8,S)}decode(S,K=0){const D=r(S),J=D.readUInt32LE(K),ne=D.readInt32LE(K+4);return E(ne,J)}encode(S,K,D=0){const J=b(S),ne=r(K);return ne.writeUInt32LE(J.lo32,D),ne.writeInt32LE(J.hi32,D+4),8}}Ve.NearInt64=O;class P extends n{constructor(S){super(8,S)}decode(S,K=0){const D=r(S),J=D.readInt32BE(K),ne=D.readUInt32BE(K+4);return E(J,ne)}encode(S,K,D=0){const J=b(S),ne=r(K);return ne.writeInt32BE(J.hi32,D),ne.writeUInt32BE(J.lo32,D+4),8}}Ve.NearInt64BE=P;class z extends n{constructor(S){super(4,S)}decode(S,K=0){return r(S).readFloatLE(K)}encode(S,K,D=0){return r(K).writeFloatLE(S,D),4}}Ve.Float=z;class L extends n{constructor(S){super(4,S)}decode(S,K=0){return r(S).readFloatBE(K)}encode(S,K,D=0){return r(K).writeFloatBE(S,D),4}}Ve.FloatBE=L;class W extends n{constructor(S){super(8,S)}decode(S,K=0){return r(S).readDoubleLE(K)}encode(S,K,D=0){return r(K).writeDoubleLE(S,D),8}}Ve.Double=W;class H extends n{constructor(S){super(8,S)}decode(S,K=0){return r(S).readDoubleBE(K)}encode(S,K,D=0){return r(K).writeDoubleBE(S,D),8}}Ve.DoubleBE=H;class G extends n{constructor(S,K,D){if(!(S instanceof n))throw new TypeError("elementLayout must be a Layout");if(!(K instanceof o&&K.isCount()||Number.isInteger(K)&&0<=K))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let J=-1;!(K instanceof o)&&0<S.span&&(J=K*S.span),super(J,D),this.elementLayout=S,this.count=K}getSpan(S,K=0){if(0<=this.span)return this.span;let D=0,J=this.count;if(J instanceof o&&(J=J.decode(S,K)),0<this.elementLayout.span)D=J*this.elementLayout.span;else{let ne=0;for(;ne<J;)D+=this.elementLayout.getSpan(S,K+D),++ne}return D}decode(S,K=0){const D=[];let J=0,ne=this.count;for(ne instanceof o&&(ne=ne.decode(S,K));J<ne;)D.push(this.elementLayout.decode(S,K)),K+=this.elementLayout.getSpan(S,K),J+=1;return D}encode(S,K,D=0){const J=this.elementLayout,ne=S.reduce((ie,ce)=>ie+J.encode(ce,K,D+ie),0);return this.count instanceof o&&this.count.encode(S.length,K,D),ne}}Ve.Sequence=G;class N extends n{constructor(S,K,D){if(!(Array.isArray(S)&&S.reduce((ne,ie)=>ne&&ie instanceof n,!0)))throw new TypeError("fields must be array of Layout instances");typeof K=="boolean"&&D===void 0&&(D=K,K=void 0);for(const ne of S)if(0>ne.span&&ne.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let J=-1;try{J=S.reduce((ne,ie)=>ne+ie.getSpan(),0)}catch{}super(J,K),this.fields=S,this.decodePrefixes=!!D}getSpan(S,K=0){if(0<=this.span)return this.span;let D=0;try{D=this.fields.reduce((J,ne)=>{const ie=ne.getSpan(S,K);return K+=ie,J+ie},0)}catch{throw new RangeError("indeterminate span")}return D}decode(S,K=0){e(S);const D=this.makeDestinationObject();for(const J of this.fields)if(J.property!==void 0&&(D[J.property]=J.decode(S,K)),K+=J.getSpan(S,K),this.decodePrefixes&&S.length===K)break;return D}encode(S,K,D=0){const J=D;let ne=0,ie=0;for(const ce of this.fields){let Se=ce.span;if(ie=0<Se?Se:0,ce.property!==void 0){const ye=S[ce.property];ye!==void 0&&(ie=ce.encode(ye,K,D),0>Se&&(Se=ce.getSpan(K,D)))}ne=D,D+=Se}return ne+ie-J}fromArray(S){const K=this.makeDestinationObject();for(const D of this.fields)D.property!==void 0&&0<S.length&&(K[D.property]=S.shift());return K}layoutFor(S){if(typeof S!="string")throw new TypeError("property must be string");for(const K of this.fields)if(K.property===S)return K}offsetOf(S){if(typeof S!="string")throw new TypeError("property must be string");let K=0;for(const D of this.fields){if(D.property===S)return K;0>D.span?K=-1:0<=K&&(K+=D.span)}}}Ve.Structure=N;class F{constructor(S){this.property=S}decode(S,K){throw new Error("UnionDiscriminator is abstract")}encode(S,K,D){throw new Error("UnionDiscriminator is abstract")}}Ve.UnionDiscriminator=F;class U extends F{constructor(S,K){if(!(S instanceof o&&S.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(K||S.property||"variant"),this.layout=S}decode(S,K){return this.layout.decode(S,K)}encode(S,K,D){return this.layout.encode(S,K,D)}}Ve.UnionLayoutDiscriminator=U;class j extends n{constructor(S,K,D){let J;if(S instanceof u||S instanceof c)J=new U(new l(S));else if(S instanceof o&&S.isCount())J=new U(S);else if(S instanceof F)J=S;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(K===void 0&&(K=null),!(K===null||K instanceof n))throw new TypeError("defaultLayout must be null or a Layout");if(K!==null){if(0>K.span)throw new Error("defaultLayout must have constant span");K.property===void 0&&(K=K.replicate("content"))}let ne=-1;K&&(ne=K.span,0<=ne&&(S instanceof u||S instanceof c)&&(ne+=J.layout.span)),super(ne,D),this.discriminator=J,this.usesPrefixDiscriminator=S instanceof u||S instanceof c,this.defaultLayout=K,this.registry={};let ie=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(ce){return ie(ce)},this.configGetSourceVariant=function(ce){ie=ce.bind(this)}}getSpan(S,K=0){if(0<=this.span)return this.span;const D=this.getVariant(S,K);if(!D)throw new Error("unable to determine span for unrecognized variant");return D.getSpan(S,K)}defaultGetSourceVariant(S){if(Object.prototype.hasOwnProperty.call(S,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(S,this.defaultLayout.property))return;const K=this.registry[S[this.discriminator.property]];if(K&&(!K.layout||K.property&&Object.prototype.hasOwnProperty.call(S,K.property)))return K}else for(const K in this.registry){const D=this.registry[K];if(D.property&&Object.prototype.hasOwnProperty.call(S,D.property))return D}throw new Error("unable to infer src variant")}decode(S,K=0){let D;const J=this.discriminator,ne=J.decode(S,K),ie=this.registry[ne];if(ie===void 0){const ce=this.defaultLayout;let Se=0;this.usesPrefixDiscriminator&&(Se=J.layout.span),D=this.makeDestinationObject(),D[J.property]=ne,D[ce.property]=ce.decode(S,K+Se)}else D=ie.decode(S,K);return D}encode(S,K,D=0){const J=this.getSourceVariant(S);if(J===void 0){const ne=this.discriminator,ie=this.defaultLayout;let ce=0;return this.usesPrefixDiscriminator&&(ce=ne.layout.span),ne.encode(S[ne.property],K,D),ce+ie.encode(S[ie.property],K,D+ce)}return J.encode(S,K,D)}addVariant(S,K,D){const J=new _(this,S,K,D);return this.registry[S]=J,J}getVariant(S,K=0){let D;return S instanceof Uint8Array?D=this.discriminator.decode(S,K):D=S,this.registry[D]}}Ve.Union=j;class _ extends n{constructor(S,K,D,J){if(!(S instanceof j))throw new TypeError("union must be a Union");if(!Number.isInteger(K)||0>K)throw new TypeError("variant must be a (non-negative) integer");if(typeof D=="string"&&J===void 0&&(J=D,D=null),D){if(!(D instanceof n))throw new TypeError("layout must be a Layout");if(S.defaultLayout!==null&&0<=D.span&&D.span>S.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof J!="string")throw new TypeError("variant must have a String property")}let ne=S.span;0>S.span&&(ne=D?D.span:0,0<=ne&&S.usesPrefixDiscriminator&&(ne+=S.discriminator.layout.span)),super(ne,J),this.union=S,this.variant=K,this.layout=D||null}getSpan(S,K=0){if(0<=this.span)return this.span;let D=0;this.union.usesPrefixDiscriminator&&(D=this.union.discriminator.layout.span);let J=0;return this.layout&&(J=this.layout.getSpan(S,K+D)),D+J}decode(S,K=0){const D=this.makeDestinationObject();if(this!==this.union.getVariant(S,K))throw new Error("variant mismatch");let J=0;return this.union.usesPrefixDiscriminator&&(J=this.union.discriminator.layout.span),this.layout?D[this.property]=this.layout.decode(S,K+J):this.property?D[this.property]=!0:this.union.usesPrefixDiscriminator&&(D[this.union.discriminator.property]=this.variant),D}encode(S,K,D=0){let J=0;if(this.union.usesPrefixDiscriminator&&(J=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(S,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,K,D);let ne=J;if(this.layout&&(this.layout.encode(S[this.property],K,D+J),ne+=this.layout.getSpan(K,D+J),0<=this.union.span&&ne>this.union.span))throw new Error("encoded variant overruns containing union");return ne}fromArray(S){if(this.layout)return this.layout.fromArray(S)}}Ve.VariantLayout=_;function d(f){return 0>f&&(f+=4294967296),f}class g extends n{constructor(S,K,D){if(!(S instanceof u||S instanceof c))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof K=="string"&&D===void 0&&(D=K,K=!1),4<S.span)throw new RangeError("word cannot exceed 32 bits");super(S.span,D),this.word=S,this.msb=!!K,this.fields=[];let J=0;this._packedSetValue=function(ne){return J=d(ne),this},this._packedGetValue=function(){return J}}decode(S,K=0){const D=this.makeDestinationObject(),J=this.word.decode(S,K);this._packedSetValue(J);for(const ne of this.fields)ne.property!==void 0&&(D[ne.property]=ne.decode(S));return D}encode(S,K,D=0){const J=this.word.decode(K,D);this._packedSetValue(J);for(const ne of this.fields)if(ne.property!==void 0){const ie=S[ne.property];ie!==void 0&&ne.encode(ie)}return this.word.encode(this._packedGetValue(),K,D)}addField(S,K){const D=new x(this,S,K);return this.fields.push(D),D}addBoolean(S){const K=new C(this,S);return this.fields.push(K),K}fieldFor(S){if(typeof S!="string")throw new TypeError("property must be string");for(const K of this.fields)if(K.property===S)return K}}Ve.BitStructure=g;class x{constructor(S,K,D){if(!(S instanceof g))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(K)||0>=K)throw new TypeError("bits must be positive integer");const J=8*S.span,ne=S.fields.reduce((ie,ce)=>ie+ce.bits,0);if(K+ne>J)throw new Error("bits too long for span remainder ("+(J-ne)+" of "+J+" remain)");this.container=S,this.bits=K,this.valueMask=(1<<K)-1,K===32&&(this.valueMask=4294967295),this.start=ne,this.container.msb&&(this.start=J-ne-K),this.wordMask=d(this.valueMask<<this.start),this.property=D}decode(S,K){const D=this.container._packedGetValue();return d(D&this.wordMask)>>>this.start}encode(S){if(typeof S!="number"||!Number.isInteger(S)||S!==d(S&this.valueMask))throw new TypeError(i("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const K=this.container._packedGetValue(),D=d(S<<this.start);this.container._packedSetValue(d(K&~this.wordMask)|D)}}Ve.BitField=x;class C extends x{constructor(S,K){super(S,1,K)}decode(S,K){return!!super.decode(S,K)}encode(S){typeof S=="boolean"&&(S=+S),super.encode(S)}}Ve.Boolean=C;class k extends n{constructor(S,K){if(!(S instanceof o&&S.isCount()||Number.isInteger(S)&&0<=S))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let D=-1;S instanceof o||(D=S),super(D,K),this.length=S}getSpan(S,K){let D=this.span;return 0>D&&(D=this.length.decode(S,K)),D}decode(S,K=0){let D=this.span;return 0>D&&(D=this.length.decode(S,K)),r(S).slice(K,K+D)}encode(S,K,D){let J=this.length;if(this.length instanceof o&&(J=S.length),!(S instanceof Uint8Array&&J===S.length))throw new TypeError(i("Blob.encode",this)+" requires (length "+J+") Uint8Array as src");if(D+J>K.length)throw new RangeError("encoding overruns Uint8Array");const ne=r(S);return r(K).write(ne.toString("hex"),D,J,"hex"),this.length instanceof o&&this.length.encode(J,K,D),J}}Ve.Blob=k;class T extends n{constructor(S){super(-1,S)}getSpan(S,K=0){e(S);let D=K;for(;D<S.length&&S[D]!==0;)D+=1;return 1+D-K}decode(S,K=0){const D=this.getSpan(S,K);return r(S).slice(K,K+D-1).toString("utf-8")}encode(S,K,D=0){typeof S!="string"&&(S=String(S));const J=t.Buffer.from(S,"utf8"),ne=J.length;if(D+ne>K.length)throw new RangeError("encoding overruns Buffer");const ie=r(K);return J.copy(ie,D),ie[D+ne]=0,ne+1}}Ve.CString=T;class R extends n{constructor(S,K){if(typeof S=="string"&&K===void 0&&(K=S,S=void 0),S===void 0)S=-1;else if(!Number.isInteger(S))throw new TypeError("maxSpan must be an integer");super(-1,K),this.maxSpan=S}getSpan(S,K=0){return e(S),S.length-K}decode(S,K=0){const D=this.getSpan(S,K);if(0<=this.maxSpan&&this.maxSpan<D)throw new RangeError("text length exceeds maxSpan");return r(S).slice(K,K+D).toString("utf-8")}encode(S,K,D=0){typeof S!="string"&&(S=String(S));const J=t.Buffer.from(S,"utf8"),ne=J.length;if(0<=this.maxSpan&&this.maxSpan<ne)throw new RangeError("text length exceeds maxSpan");if(D+ne>K.length)throw new RangeError("encoding overruns Buffer");return J.copy(r(K),D),ne}}Ve.UTF8=R;class I extends n{constructor(S,K){super(0,K),this.value=S}decode(S,K){return this.value}encode(S,K,D){return 0}}return Ve.Constant=I,Ve.greedy=((f,S)=>new a(f,S)),Ve.offset=((f,S,K)=>new l(f,S,K)),Ve.u8=(f=>new u(1,f)),Ve.u16=(f=>new u(2,f)),Ve.u24=(f=>new u(3,f)),Ve.u32=(f=>new u(4,f)),Ve.u40=(f=>new u(5,f)),Ve.u48=(f=>new u(6,f)),Ve.nu64=(f=>new A(f)),Ve.u16be=(f=>new c(2,f)),Ve.u24be=(f=>new c(3,f)),Ve.u32be=(f=>new c(4,f)),Ve.u40be=(f=>new c(5,f)),Ve.u48be=(f=>new c(6,f)),Ve.nu64be=(f=>new M(f)),Ve.s8=(f=>new h(1,f)),Ve.s16=(f=>new h(2,f)),Ve.s24=(f=>new h(3,f)),Ve.s32=(f=>new h(4,f)),Ve.s40=(f=>new h(5,f)),Ve.s48=(f=>new h(6,f)),Ve.ns64=(f=>new O(f)),Ve.s16be=(f=>new m(2,f)),Ve.s24be=(f=>new m(3,f)),Ve.s32be=(f=>new m(4,f)),Ve.s40be=(f=>new m(5,f)),Ve.s48be=(f=>new m(6,f)),Ve.ns64be=(f=>new P(f)),Ve.f32=(f=>new z(f)),Ve.f32be=(f=>new L(f)),Ve.f64=(f=>new W(f)),Ve.f64be=(f=>new H(f)),Ve.struct=((f,S,K)=>new N(f,S,K)),Ve.bits=((f,S,K)=>new g(f,S,K)),Ve.seq=((f,S,K)=>new G(f,S,K)),Ve.union=((f,S,K)=>new j(f,S,K)),Ve.unionLayoutDiscriminator=((f,S)=>new U(f,S)),Ve.blob=((f,S)=>new k(f,S)),Ve.cstr=(f=>new T(f)),Ve.utf8=((f,S)=>new R(f,S)),Ve.constant=((f,S)=>new I(f,S)),Ve}var xe=Zmt();class Qmt extends TypeError{constructor(e,r){let n;const{message:i,explanation:s,...o}=e,{path:a}=e,l=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??l),s!=null&&(this.cause=l),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}}function Jmt(t){return h6(t)&&typeof t[Symbol.iterator]=="function"}function h6(t){return typeof t=="object"&&t!=null}function o_(t){return h6(t)&&!Array.isArray(t)}function Su(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function Xmt(t){const{done:e,value:r}=t.next();return e?void 0:r}function e1t(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:a,message:l=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Su(n)}\``}=t;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:l}}function*cJ(t,e,r,n){Jmt(t)||(t=[t]);for(const i of t){const s=e1t(i,e,r,n);s&&(yield s)}}function*yD(t,e,r={}){const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i,mask:o};s&&(t=e.coercer(t,a));let l="valid";for(const u of e.validator(t,a))u.explanation=r.message,l="not_valid",yield[u,void 0];for(let[u,c,h]of e.entries(t,a)){const m=yD(c,h,{path:u===void 0?n:[...n,u],branch:u===void 0?i:[...i,c],coerce:s,mask:o,message:r.message});for(const y of m)y[0]?(l=y[0].refinement!=null?"not_refined":"not_valid",yield[y[0],void 0]):s&&(c=y[1],u===void 0?t=c:t instanceof Map?t.set(u,c):t instanceof Set?t.add(c):h6(t)&&(c!==void 0||u in t)&&(t[u]=c))}if(l!=="not_valid")for(const u of e.refiner(t,a))u.explanation=r.message,l="not_refined",yield[u,void 0];l==="valid"&&(yield[void 0,t])}let Dd=class{constructor(e){const{type:r,schema:n,validator:i,refiner:s,coercer:o=l=>l,entries:a=function*(){}}=e;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(l,u)=>{const c=i(l,u);return cJ(c,u,this,l)}:this.validator=()=>[],s?this.refiner=(l,u)=>{const c=s(l,u);return cJ(c,u,this,l)}:this.refiner=()=>[]}assert(e,r){return xpe(e,this,r)}create(e,r){return Bt(e,this,r)}is(e){return Epe(e,this)}mask(e,r){return t1t(e,this,r)}validate(e,r={}){return f6(e,this,r)}};function xpe(t,e,r){const n=f6(t,e,{message:r});if(n[0])throw n[0]}function Bt(t,e,r){const n=f6(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function t1t(t,e,r){const n=f6(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function Epe(t,e){return!f6(t,e)[0]}function f6(t,e,r={}){const n=yD(t,e,r),i=Xmt(n);return i[0]?[new Qmt(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function $m(t,e){return new Dd({type:t,schema:null,validator:e})}function r1t(){return $m("any",()=>!0)}function Ft(t){return new Dd({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Su(e)}`}})}function Pd(){return $m("boolean",t=>typeof t=="boolean")}function wD(t){return $m("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${Su(e)}`)}function bi(t){const e=Su(t),r=typeof t;return new Dd({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||`Expected the literal \`${e}\`, but received: ${Su(n)}`}})}function n1t(){return $m("never",()=>!1)}function Wt(t){return new Dd({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function We(){return $m("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${Su(t)}`)}function gr(t){return new Dd({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function _pe(t,e){return new Dd({type:"record",schema:null,*entries(r){if(h6(r))for(const n in r){const i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return o_(r)||`Expected an object, but received: ${Su(r)}`},coercer(r){return o_(r)?{...r}:r}})}function Pt(){return $m("string",t=>typeof t=="string"||`Expected a string, but received: ${Su(t)}`)}function vD(t){const e=n1t();return new Dd({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${Su(r)}`},coercer(r){return Array.isArray(r)?r.slice():r}})}function xt(t){const e=Object.keys(t);return new Dd({type:"type",schema:t,*entries(r){if(h6(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return o_(r)||`Expected an object, but received: ${Su(r)}`},coercer(r){return o_(r)?{...r}:r}})}function ia(t){const e=t.map(r=>r.type).join(" | ");return new Dd({type:"union",schema:null,coercer(r,n){for(const i of t){const[s,o]=i.validate(r,{coerce:!0,mask:n.mask});if(!s)return o}return r},validator(r,n){const i=[];for(const s of t){const[...o]=yD(r,s,n),[a]=o;if(a[0])for(const[l]of o)l&&i.push(l);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Su(r)}`,...i]}})}function t2(){return $m("unknown",()=>!0)}function p6(t,e,r){return new Dd({...t,coercer:(n,i)=>Epe(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}var $x,i1t=new Uint8Array(16);function Ape(){if(!$x&&($x=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!$x))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $x(i1t)}const s1t=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function $A(t){return typeof t=="string"&&s1t.test(t)}var Ds=[];for(var ST=0;ST<256;++ST)Ds.push((ST+256).toString(16).substr(1));function MA(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(Ds[t[e+0]]+Ds[t[e+1]]+Ds[t[e+2]]+Ds[t[e+3]]+"-"+Ds[t[e+4]]+Ds[t[e+5]]+"-"+Ds[t[e+6]]+Ds[t[e+7]]+"-"+Ds[t[e+8]]+Ds[t[e+9]]+"-"+Ds[t[e+10]]+Ds[t[e+11]]+Ds[t[e+12]]+Ds[t[e+13]]+Ds[t[e+14]]+Ds[t[e+15]]).toLowerCase();if(!$A(r))throw TypeError("Stringified UUID is invalid");return r}var uJ,CT,kT=0,IT=0;function o1t(t,e,r){var n=e&&r||0,i=e||new Array(16);t=t||{};var s=t.node||uJ,o=t.clockseq!==void 0?t.clockseq:CT;if(s==null||o==null){var a=t.random||(t.rng||Ape)();s==null&&(s=uJ=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=CT=(a[6]<<8|a[7])&16383)}var l=t.msecs!==void 0?t.msecs:Date.now(),u=t.nsecs!==void 0?t.nsecs:IT+1,c=l-kT+(u-IT)/1e4;if(c<0&&t.clockseq===void 0&&(o=o+1&16383),(c<0||l>kT)&&t.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");kT=l,IT=u,CT=o,l+=122192928e5;var h=((l&268435455)*1e4+u)%4294967296;i[n++]=h>>>24&255,i[n++]=h>>>16&255,i[n++]=h>>>8&255,i[n++]=h&255;var m=l/4294967296*1e4&268435455;i[n++]=m>>>8&255,i[n++]=m&255,i[n++]=m>>>24&15|16,i[n++]=m>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(var y=0;y<6;++y)i[n+y]=s[y];return e||MA(i)}function Spe(t){if(!$A(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}function a1t(t){t=unescape(encodeURIComponent(t));for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}var l1t="6ba7b810-9dad-11d1-80b4-00c04fd430c8",c1t="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Cpe(t,e,r){function n(i,s,o,a){if(typeof i=="string"&&(i=a1t(i)),typeof s=="string"&&(s=Spe(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+i.length);if(l.set(s),l.set(i,s.length),l=r(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,o){a=a||0;for(var u=0;u<16;++u)o[a+u]=l[u];return o}return MA(l)}try{n.name=t}catch{}return n.DNS=l1t,n.URL=c1t,n}function u1t(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return d1t(h1t(f1t(t),t.length*8))}function d1t(t){for(var e=[],r=t.length*32,n="0123456789abcdef",i=0;i<r;i+=8){var s=t[i>>5]>>>i%32&255,o=parseInt(n.charAt(s>>>4&15)+n.charAt(s&15),16);e.push(o)}return e}function kpe(t){return(t+64>>>9<<4)+14+1}function h1t(t,e){t[e>>5]|=128<<e%32,t[kpe(e)-1]=e;for(var r=1732584193,n=-271733879,i=-1732584194,s=271733878,o=0;o<t.length;o+=16){var a=r,l=n,u=i,c=s;r=Eo(r,n,i,s,t[o],7,-680876936),s=Eo(s,r,n,i,t[o+1],12,-389564586),i=Eo(i,s,r,n,t[o+2],17,606105819),n=Eo(n,i,s,r,t[o+3],22,-1044525330),r=Eo(r,n,i,s,t[o+4],7,-176418897),s=Eo(s,r,n,i,t[o+5],12,1200080426),i=Eo(i,s,r,n,t[o+6],17,-1473231341),n=Eo(n,i,s,r,t[o+7],22,-45705983),r=Eo(r,n,i,s,t[o+8],7,1770035416),s=Eo(s,r,n,i,t[o+9],12,-1958414417),i=Eo(i,s,r,n,t[o+10],17,-42063),n=Eo(n,i,s,r,t[o+11],22,-1990404162),r=Eo(r,n,i,s,t[o+12],7,1804603682),s=Eo(s,r,n,i,t[o+13],12,-40341101),i=Eo(i,s,r,n,t[o+14],17,-1502002290),n=Eo(n,i,s,r,t[o+15],22,1236535329),r=_o(r,n,i,s,t[o+1],5,-165796510),s=_o(s,r,n,i,t[o+6],9,-1069501632),i=_o(i,s,r,n,t[o+11],14,643717713),n=_o(n,i,s,r,t[o],20,-373897302),r=_o(r,n,i,s,t[o+5],5,-701558691),s=_o(s,r,n,i,t[o+10],9,38016083),i=_o(i,s,r,n,t[o+15],14,-660478335),n=_o(n,i,s,r,t[o+4],20,-405537848),r=_o(r,n,i,s,t[o+9],5,568446438),s=_o(s,r,n,i,t[o+14],9,-1019803690),i=_o(i,s,r,n,t[o+3],14,-187363961),n=_o(n,i,s,r,t[o+8],20,1163531501),r=_o(r,n,i,s,t[o+13],5,-1444681467),s=_o(s,r,n,i,t[o+2],9,-51403784),i=_o(i,s,r,n,t[o+7],14,1735328473),n=_o(n,i,s,r,t[o+12],20,-1926607734),r=Ao(r,n,i,s,t[o+5],4,-378558),s=Ao(s,r,n,i,t[o+8],11,-2022574463),i=Ao(i,s,r,n,t[o+11],16,1839030562),n=Ao(n,i,s,r,t[o+14],23,-35309556),r=Ao(r,n,i,s,t[o+1],4,-1530992060),s=Ao(s,r,n,i,t[o+4],11,1272893353),i=Ao(i,s,r,n,t[o+7],16,-155497632),n=Ao(n,i,s,r,t[o+10],23,-1094730640),r=Ao(r,n,i,s,t[o+13],4,681279174),s=Ao(s,r,n,i,t[o],11,-358537222),i=Ao(i,s,r,n,t[o+3],16,-722521979),n=Ao(n,i,s,r,t[o+6],23,76029189),r=Ao(r,n,i,s,t[o+9],4,-640364487),s=Ao(s,r,n,i,t[o+12],11,-421815835),i=Ao(i,s,r,n,t[o+15],16,530742520),n=Ao(n,i,s,r,t[o+2],23,-995338651),r=So(r,n,i,s,t[o],6,-198630844),s=So(s,r,n,i,t[o+7],10,1126891415),i=So(i,s,r,n,t[o+14],15,-1416354905),n=So(n,i,s,r,t[o+5],21,-57434055),r=So(r,n,i,s,t[o+12],6,1700485571),s=So(s,r,n,i,t[o+3],10,-1894986606),i=So(i,s,r,n,t[o+10],15,-1051523),n=So(n,i,s,r,t[o+1],21,-2054922799),r=So(r,n,i,s,t[o+8],6,1873313359),s=So(s,r,n,i,t[o+15],10,-30611744),i=So(i,s,r,n,t[o+6],15,-1560198380),n=So(n,i,s,r,t[o+13],21,1309151649),r=So(r,n,i,s,t[o+4],6,-145523070),s=So(s,r,n,i,t[o+11],10,-1120210379),i=So(i,s,r,n,t[o+2],15,718787259),n=So(n,i,s,r,t[o+9],21,-343485551),r=T0(r,a),n=T0(n,l),i=T0(i,u),s=T0(s,c)}return[r,n,i,s]}function f1t(t){if(t.length===0)return[];for(var e=t.length*8,r=new Uint32Array(kpe(e)),n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}function T0(t,e){var r=(t&65535)+(e&65535),n=(t>>16)+(e>>16)+(r>>16);return n<<16|r&65535}function p1t(t,e){return t<<e|t>>>32-e}function PA(t,e,r,n,i,s){return T0(p1t(T0(T0(e,t),T0(n,s)),i),r)}function Eo(t,e,r,n,i,s,o){return PA(e&r|~e&n,t,e,i,s,o)}function _o(t,e,r,n,i,s,o){return PA(e&n|r&~n,t,e,i,s,o)}function Ao(t,e,r,n,i,s,o){return PA(e^r^n,t,e,i,s,o)}function So(t,e,r,n,i,s,o){return PA(r^(e|~n),t,e,i,s,o)}var g1t=Cpe("v3",48,u1t);function m1t(t,e,r){t=t||{};var n=t.random||(t.rng||Ape)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return MA(n)}function y1t(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function TT(t,e){return t<<e|t>>>32-e}function w1t(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var n=unescape(encodeURIComponent(t));t=[];for(var i=0;i<n.length;++i)t.push(n.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,o=Math.ceil(s/16),a=new Array(o),l=0;l<o;++l){for(var u=new Uint32Array(16),c=0;c<16;++c)u[c]=t[l*64+c*4]<<24|t[l*64+c*4+1]<<16|t[l*64+c*4+2]<<8|t[l*64+c*4+3];a[l]=u}a[o-1][14]=(t.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(t.length-1)*8&4294967295;for(var h=0;h<o;++h){for(var m=new Uint32Array(80),y=0;y<16;++y)m[y]=a[h][y];for(var b=16;b<80;++b)m[b]=TT(m[b-3]^m[b-8]^m[b-14]^m[b-16],1);for(var E=r[0],A=r[1],M=r[2],O=r[3],P=r[4],z=0;z<80;++z){var L=Math.floor(z/20),W=TT(E,5)+y1t(L,A,M,O)+P+e[L]+m[z]>>>0;P=O,O=M,M=TT(A,30)>>>0,A=E,E=W}r[0]=r[0]+E>>>0,r[1]=r[1]+A>>>0,r[2]=r[2]+M>>>0,r[3]=r[3]+O>>>0,r[4]=r[4]+P>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var v1t=Cpe("v5",80,w1t);const b1t="00000000-0000-0000-0000-000000000000";function x1t(t){if(!$A(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const E1t=Object.freeze(Object.defineProperty({__proto__:null,NIL:b1t,parse:Spe,stringify:MA,v1:o1t,v3:g1t,v4:m1t,v5:v1t,validate:$A,version:x1t},Symbol.toStringTag,{value:"Module"})),Ipe=rm(E1t);var $T,dJ;function _1t(){if(dJ)return $T;dJ=1;const t=Ipe.v4;return $T=function(r,n,i,s){if(typeof r!="string")throw new TypeError(r+" must be a string");s=s||{};const o=typeof s.version=="number"?s.version:2;if(o!==1&&o!==2)throw new TypeError(o+" must be 1 or 2");const a={method:r};if(o===2&&(a.jsonrpc="2.0"),n){if(typeof n!="object"&&!Array.isArray(n))throw new TypeError(n+" must be an object, array or omitted");a.params=n}if(typeof i>"u"){const l=typeof s.generator=="function"?s.generator:function(){return t()};a.id=l(a,s)}else o===2&&i===null?s.notificationIdNull&&(a.id=null):a.id=i;return a},$T}var MT,hJ;function A1t(){if(hJ)return MT;hJ=1;const t=Ipe.v4,e=_1t(),r=function(n,i){if(!(this instanceof r))return new r(n,i);i||(i={}),this.options={reviver:typeof i.reviver<"u"?i.reviver:null,replacer:typeof i.replacer<"u"?i.replacer:null,generator:typeof i.generator<"u"?i.generator:function(){return t()},version:typeof i.version<"u"?i.version:2,notificationIdNull:typeof i.notificationIdNull=="boolean"?i.notificationIdNull:!1},this.callServer=n};return MT=r,r.prototype.request=function(n,i,s,o){const a=this;let l=null;const u=Array.isArray(n)&&typeof i=="function";if(this.options.version===1&&u)throw new TypeError("JSON-RPC 1.0 does not support batching");if(u||!u&&n&&typeof n=="object"&&typeof i=="function")o=i,l=n;else{typeof s=="function"&&(o=s,s=void 0);const m=typeof o=="function";try{l=e(n,i,s,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(y){if(m)return o(y);throw y}if(!m)return l}let h;try{h=JSON.stringify(l,this.options.replacer)}catch(m){return o(m)}return this.callServer(h,function(m,y){a._parseResponse(m,y,o)}),l},r.prototype._parseResponse=function(n,i,s){if(n){s(n);return}if(!i)return s();let o;try{o=JSON.parse(i,this.options.reviver)}catch(a){return s(a)}if(s.length===3)if(Array.isArray(o)){const a=function(u){return typeof u.error<"u"},l=function(u){return!a(u)};return s(null,o.filter(a),o.filter(l))}else return s(null,o.error,o.result);s(null,o)},MT}var S1t=A1t();const C1t=ds(S1t);var k1t=class extends ku{socket;constructor(t,e,r){super(),this.socket=new window.WebSocket(t,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=n=>this.emit("message",n.data),this.socket.onerror=n=>this.emit("error",n),this.socket.onclose=n=>{this.emit("close",n.code,n.reason)}}send(t,e,r){const n=r||e;try{this.socket.send(t),n()}catch(i){n(i)}}close(t,e){this.socket.close(t,e)}addEventListener(t,e,r){this.socket.addEventListener(t,e,r)}};function I1t(t,e){return new k1t(t,e)}var T1t=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},$1t=class extends ku{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(t,e="ws://localhost:8080",{autoconnect:r=!0,reconnect:n=!0,reconnect_interval:i=1e3,max_reconnects:s=5,...o}={},a,l){super(),this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=e,this.autoconnect=r,this.ready=!1,this.reconnect=n,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=s,this.rest_options=o,this.current_reconnects=0,this.generate_request_id=a||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),l?this.dataPack=l:this.dataPack=new T1t,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,e,r,n){return!n&&typeof r=="object"&&(n=r,r=null),new Promise((i,s)=>{if(!this.ready)return s(new Error("socket not ready"));const o=this.generate_request_id(t,e),a={jsonrpc:"2.0",method:t,params:e||void 0,id:o};this.socket.send(this.dataPack.encode(a),n,l=>{if(l)return s(l);this.queue[o]={promise:[i,s]},r&&(this.queue[o].timeout=setTimeout(()=>{delete this.queue[o],s(new Error("reply timeout"))},r))})})}async login(t){const e=await this.call("rpc.login",t);if(!e)throw new Error("authentication failed");return e}async listMethods(){return await this.call("__listMethods")}notify(t,e){return new Promise((r,n)=>{if(!this.ready)return n(new Error("socket not ready"));const i={jsonrpc:"2.0",method:t,params:e};this.socket.send(this.dataPack.encode(i),s=>{if(s)return n(s);r()})})}async subscribe(t){typeof t=="string"&&(t=[t]);const e=await this.call("rpc.on",t);if(typeof t=="string"&&e[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+e[t]);return e}async unsubscribe(t){typeof t=="string"&&(t=[t]);const e=await this.call("rpc.off",t);if(typeof t=="string"&&e[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+e);return e}close(t,e){this.socket.close(t||1e3,e)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}_connect(t,e){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,e),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=xr.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const n=[r.notification];if(r.params.constructor===Object)n.push(r.params);else for(let i=0;i<r.params.length;i++)n.push(r.params[i]);return Promise.resolve().then(()=>{this.emit.apply(this,n)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r?.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:n})=>{this.ready&&setTimeout(()=>this.emit("close",r,n),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(t,e),this.reconnect_interval)))})}};const M1t=Cd.utils.randomPrivateKey,fJ=()=>{const t=Cd.utils.randomPrivateKey(),e=a_(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},a_=Cd.getPublicKey;function pJ(t){try{return Cd.ExtendedPoint.fromHex(t),!0}catch{return!1}}const bD=(t,e)=>Cd.sign(t,e.slice(0,32)),P1t=Cd.verify,Wr=t=>xr.isBuffer(t)?t:t instanceof Uint8Array?xr.from(t.buffer,t.byteOffset,t.byteLength):xr.from(t);class xD{constructor(e){Object.assign(this,e)}encode(){return xr.from(AT.serialize(Qb,this))}static decode(e){return AT.deserialize(Qb,this,e)}static decodeUnchecked(e){return AT.deserializeUnchecked(Qb,this,e)}}class N1t extends xD{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(r=>{this.enum=r})}}const Qb=new Map;var Tpe;const $pe=32,Sd=32;function R1t(t){return t._bn!==void 0}let gJ=1;class It extends xD{constructor(e){if(super({}),this._bn=void 0,R1t(e))this._bn=e._bn;else{if(typeof e=="string"){const r=Vs.decode(e);if(r.length!=Sd)throw new Error("Invalid public key input");this._bn=new eJ(r)}else this._bn=new eJ(e);if(this._bn.byteLength()>Sd)throw new Error("Invalid public key input")}}static unique(){const e=new It(gJ);return gJ+=1,new It(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Vs.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(xr);if(e.length===Sd)return e;const r=xr.alloc(32);return e.copy(r,32-e.length),r}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){xr.concat([e.toBuffer(),xr.from(r),n.toBuffer()]);const i=Ly();return new It(i)}static createProgramAddressSync(e,r){let n=xr.alloc(0);e.forEach(function(s){if(s.length>$pe)throw new TypeError("Max seed length exceeded");n=xr.concat([n,Wr(s)])}),n=xr.concat([n,r.toBuffer(),xr.from("ProgramDerivedAddress")]);const i=Ly();if(pJ(i))throw new Error("Invalid seeds, address must fall off the curve");return new It(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,i;for(;n!=0;){try{const s=e.concat(xr.from([n]));i=this.createProgramAddressSync(s,r)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){const r=new It(e);return pJ(r.toBytes())}}Tpe=It;It.default=new Tpe("11111111111111111111111111111111");Qb.set(It,{kind:"struct",fields:[["_bn","u256"]]});class O1t{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const r=Wr(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=Wr(M1t()),this._publicKey=Wr(a_(this._secretKey))}get publicKey(){return new It(this._publicKey)}get secretKey(){return xr.concat([this._secretKey,this._publicKey],64)}}const j1t=new It("BPFLoader1111111111111111111111111111111111"),B0=1232,NA=127,g5=64;class ED extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(ED.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class _D extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(_D.prototype,"name",{value:"TransactionExpiredTimeoutError"});class gy extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(gy.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class m5{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((s,o)=>{n.set(s.toBase58(),o)});const i=s=>{const o=n.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}}const Qr=(t="publicKey")=>xe.blob(32,t),L1t=(t="signature")=>xe.blob(64,t),wg=(t="string")=>{const e=xe.struct([xe.u32("length"),xe.u32("lengthPadding"),xe.blob(xe.offset(xe.u32(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(s,o)=>r(s,o).chars.toString(),i.encode=(s,o,a)=>{const l={chars:xr.from(s,"utf8")};return n(l,o,a)},i.alloc=s=>xe.u32().span+xe.u32().span+xr.from(s,"utf8").length,i},D1t=(t="authorized")=>xe.struct([Qr("staker"),Qr("withdrawer")],t),B1t=(t="lockup")=>xe.struct([xe.ns64("unixTimestamp"),xe.ns64("epoch"),Qr("custodian")],t),U1t=(t="voteInit")=>xe.struct([Qr("nodePubkey"),Qr("authorizedVoter"),Qr("authorizedWithdrawer"),xe.u8("commission")],t),F1t=(t="voteAuthorizeWithSeedArgs")=>xe.struct([xe.u32("voteAuthorizationType"),Qr("currentAuthorityDerivedKeyOwnerPubkey"),wg("currentAuthorityDerivedKeySeed"),Qr("newAuthorized")],t);function Mpe(t,e){const r=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*r(i.elementLayout)}else if("fields"in i)return Mpe({layout:i},e[i.property]);return 0};let n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}function $a(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,(n&128)===0)break}return e}function pl(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function An(t,e){if(!t)throw new Error(e||"Assertion failed")}class RA{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){const n=new Map,i=o=>{const a=o.toBase58();let l=n.get(a);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(a,l)),l},s=i(r);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const l=i(a.pubkey);l.isSigner||=a.isSigner,l.isWritable||=a.isWritable}}return new RA(r,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];An(e.length<=256,"Max static account keys length exceeded");const r=e.filter(([,l])=>l.isSigner&&l.isWritable),n=e.filter(([,l])=>l.isSigner&&!l.isWritable),i=e.filter(([,l])=>!l.isSigner&&l.isWritable),s=e.filter(([,l])=>!l.isSigner&&!l.isWritable),o={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{An(r.length>0,"Expected at least one writable signer key");const[l]=r[0];An(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...r.map(([l])=>new It(l)),...n.map(([l])=>new It(l)),...i.map(([l])=>new It(l)),...s.map(([l])=>new It(l))];return[o,a]}extractTableLookup(e){const[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(e,r){const n=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(r(o)){const a=new It(s),l=e.findIndex(u=>u.equals(a));l>=0&&(An(l<256,"Max lookup table index exceeded"),n.push(l),i.push(a),this.keyMetaMap.delete(s))}return[n,i]}}const Ppe="Reached end of buffer unexpectedly";function gd(t){if(t.length===0)throw new Error(Ppe);return t.shift()}function Ma(t,...e){const[r]=e;if(e.length===2?r+(e[1]??0)>t.length:r>=t.length)throw new Error(Ppe);return t.splice(...e)}class Cu{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new It(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Vs.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new m5(this.staticAccountKeys)}static compile(e){const r=RA.compile(e.instructions,e.payerKey),[n,i]=r.getMessageComponents(),o=new m5(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Vs.encode(a.data)}));return new Cu({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const n=e-r,s=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<s}else{const n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){const e=this.accountKeys.length;let r=[];pl(r,e);const n=this.instructions.map(h=>{const{accounts:m,programIdIndex:y}=h,b=Array.from(Vs.decode(h.data));let E=[];pl(E,m.length);let A=[];return pl(A,b.length),{programIdIndex:y,keyIndicesCount:xr.from(E),keyIndices:m,dataLength:xr.from(A),data:b}});let i=[];pl(i,n.length);let s=xr.alloc(B0);xr.from(i).copy(s);let o=i.length;n.forEach(h=>{const y=xe.struct([xe.u8("programIdIndex"),xe.blob(h.keyIndicesCount.length,"keyIndicesCount"),xe.seq(xe.u8("keyIndex"),h.keyIndices.length,"keyIndices"),xe.blob(h.dataLength.length,"dataLength"),xe.seq(xe.u8("userdatum"),h.data.length,"data")]).encode(h,s,o);o+=y}),s=s.slice(0,o);const a=xe.struct([xe.blob(1,"numRequiredSignatures"),xe.blob(1,"numReadonlySignedAccounts"),xe.blob(1,"numReadonlyUnsignedAccounts"),xe.blob(r.length,"keyCount"),xe.seq(Qr("key"),e,"keys"),Qr("recentBlockhash")]),l={numRequiredSignatures:xr.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:xr.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:xr.from([this.header.numReadonlyUnsignedAccounts]),keyCount:xr.from(r),keys:this.accountKeys.map(h=>Wr(h.toBytes())),recentBlockhash:Vs.decode(this.recentBlockhash)};let u=xr.alloc(2048);const c=a.encode(l,u);return s.copy(u,c),u.slice(0,c+s.length)}static from(e){let r=[...e];const n=gd(r);if(n!==(n&NA))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=gd(r),s=gd(r),o=$a(r);let a=[];for(let m=0;m<o;m++){const y=Ma(r,0,Sd);a.push(new It(xr.from(y)))}const l=Ma(r,0,Sd),u=$a(r);let c=[];for(let m=0;m<u;m++){const y=gd(r),b=$a(r),E=Ma(r,0,b),A=$a(r),M=Ma(r,0,A),O=Vs.encode(xr.from(M));c.push({programIdIndex:y,accounts:E,data:O})}const h={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:Vs.encode(xr.from(l)),accountKeys:a,instructions:c};return new Cu(h)}}class Jg{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new m5(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){const i=e-n,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-r,o=n-r-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=r-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const r={writable:[],readonly:[]};for(const n of this.addressTableLookups){const i=e.find(s=>s.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const s of n.writableIndexes)if(s<i.state.addresses.length)r.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`);for(const s of n.readonlyIndexes)if(s<i.state.addresses.length)r.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){const r=RA.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const c of s){const h=r.extractTableLookup(c);if(h!==void 0){const[m,{writable:y,readonly:b}]=h;n.push(m),i.writable.push(...y),i.readonly.push(...b)}}const[o,a]=r.getMessageComponents(),u=new m5(a,i).compileInstructions(e.instructions);return new Jg({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:n})}serialize(){const e=Array();pl(e,this.staticAccountKeys.length);const r=this.serializeInstructions(),n=Array();pl(n,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();pl(s,this.addressTableLookups.length);const o=xe.struct([xe.u8("prefix"),xe.struct([xe.u8("numRequiredSignatures"),xe.u8("numReadonlySignedAccounts"),xe.u8("numReadonlyUnsignedAccounts")],"header"),xe.blob(e.length,"staticAccountKeysLength"),xe.seq(Qr(),this.staticAccountKeys.length,"staticAccountKeys"),Qr("recentBlockhash"),xe.blob(n.length,"instructionsLength"),xe.blob(r.length,"serializedInstructions"),xe.blob(s.length,"addressTableLookupsLength"),xe.blob(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(B0),u=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(c=>c.toBytes()),recentBlockhash:Vs.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,u)}serializeInstructions(){let e=0;const r=new Uint8Array(B0);for(const n of this.compiledInstructions){const i=Array();pl(i,n.accountKeyIndexes.length);const s=Array();pl(s,n.data.length);const o=xe.struct([xe.u8("programIdIndex"),xe.blob(i.length,"encodedAccountKeyIndexesLength"),xe.seq(xe.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),xe.blob(s.length,"encodedDataLength"),xe.blob(n.data.length,"data")]);e+=o.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0;const r=new Uint8Array(B0);for(const n of this.addressTableLookups){const i=Array();pl(i,n.writableIndexes.length);const s=Array();pl(s,n.readonlyIndexes.length);const o=xe.struct([Qr("accountKey"),xe.blob(i.length,"encodedWritableIndexesLength"),xe.seq(xe.u8(),n.writableIndexes.length,"writableIndexes"),xe.blob(s.length,"encodedReadonlyIndexesLength"),xe.seq(xe.u8(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e];const n=gd(r),i=n&NA;An(n!==i,"Expected versioned message but received legacy message");const s=i;An(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:gd(r),numReadonlySignedAccounts:gd(r),numReadonlyUnsignedAccounts:gd(r)},a=[],l=$a(r);for(let b=0;b<l;b++)a.push(new It(Ma(r,0,Sd)));const u=Vs.encode(Ma(r,0,Sd)),c=$a(r),h=[];for(let b=0;b<c;b++){const E=gd(r),A=$a(r),M=Ma(r,0,A),O=$a(r),P=new Uint8Array(Ma(r,0,O));h.push({programIdIndex:E,accountKeyIndexes:M,data:P})}const m=$a(r),y=[];for(let b=0;b<m;b++){const E=new It(Ma(r,0,Sd)),A=$a(r),M=Ma(r,0,A),O=$a(r),P=Ma(r,0,O);y.push({accountKey:E,writableIndexes:M,readonlyIndexes:P})}return new Jg({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:h,addressTableLookups:y})}}const AD={deserializeMessageVersion(t){const e=t[0],r=e&NA;return r===e?"legacy":r},deserialize:t=>{const e=AD.deserializeMessageVersion(t);if(e==="legacy")return Cu.from(t);if(e===0)return Jg.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let dh=(function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t})({});const z1t=xr.alloc(g5).fill(0);class qn{constructor(e){this.keys=void 0,this.programId=void 0,this.data=xr.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class cn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{const{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new qn(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let E=0;E<r.length;E++)if(r[E].programId===void 0)throw new Error(`Transaction instruction index ${E} has undefined program id`);const i=[],s=[];r.forEach(E=>{E.keys.forEach(M=>{s.push({...M})});const A=E.programId.toString();i.includes(A)||i.push(A)}),i.forEach(E=>{s.push({pubkey:new It(E),isSigner:!1,isWritable:!1})});const o=[];s.forEach(E=>{const A=E.pubkey.toString(),M=o.findIndex(O=>O.pubkey.toString()===A);M>-1?(o[M].isWritable=o[M].isWritable||E.isWritable,o[M].isSigner=o[M].isSigner||E.isSigner):o.push(E)}),o.sort(function(E,A){if(E.isSigner!==A.isSigner)return E.isSigner?-1:1;if(E.isWritable!==A.isWritable)return E.isWritable?-1:1;const M={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return E.pubkey.toBase58().localeCompare(A.pubkey.toBase58(),"en",M)});const a=o.findIndex(E=>E.pubkey.equals(n));if(a>-1){const[E]=o.splice(a,1);E.isSigner=!0,E.isWritable=!0,o.unshift(E)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const E of this.signatures){const A=o.findIndex(M=>M.pubkey.equals(E.publicKey));if(A>-1)o[A].isSigner||(o[A].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${E.publicKey.toString()}`)}let l=0,u=0,c=0;const h=[],m=[];o.forEach(({pubkey:E,isSigner:A,isWritable:M})=>{A?(h.push(E.toString()),l+=1,M||(u+=1)):(m.push(E.toString()),M||(c+=1))});const y=h.concat(m),b=r.map(E=>{const{data:A,programId:M}=E;return{programIdIndex:y.indexOf(M.toString()),accounts:E.keys.map(O=>y.indexOf(O.pubkey.toString())),data:Vs.encode(A)}});return b.forEach(E=>{An(E.programIdIndex>=0),E.accounts.forEach(A=>An(A>=0))}),new Cu({header:{numRequiredSignatures:l,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:c},accountKeys:y,recentBlockhash:e,instructions:b})}_compile(){const e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,s)=>r[s].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const r=new Set;this.signatures=e.filter(n=>{const i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of e){const o=s.publicKey.toString();r.has(o)||(r.add(o),n.push(s))}this.signatures=n.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of e){const o=s.publicKey.toString();r.has(o)||(r.add(o),n.push(s))}const i=this._compile();this._partialSign(i,...n)}_partialSign(e,...r){const n=e.serialize();r.forEach(i=>{const s=bD(n,i.secretKey);this._addSignature(i.publicKey,Wr(s))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){An(r.length===64);const n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=xr.from(r)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,r){const n={};for(const{signature:i,publicKey:s}of this.signatures)i===null?r&&(n.missing||=[]).push(s):P1t(i,e,s.toBytes())||(n.invalid||=[]).push(s);return n.invalid||n.missing?n:void 0}serialize(e){const{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n){const s=this._getMessageSignednessErrors(i,r);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){const{signatures:r}=this,n=[];pl(n,r.length);const i=n.length+r.length*64+e.length,s=xr.alloc(i);return An(r.length<256),xr.from(n).copy(s,0),r.forEach(({signature:o},a)=>{o!==null&&(An(o.length===64,"signature has invalid length"),xr.from(o).copy(s,n.length+a*64))}),e.copy(s,n.length+r.length*64),An(s.length<=B0,`Transaction too large: ${s.length} > ${B0}`),s}get keys(){return An(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return An(this.instructions.length===1),this.instructions[0].programId}get data(){return An(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e];const n=$a(r);let i=[];for(let s=0;s<n;s++){const o=Ma(r,0,g5);i.push(Vs.encode(xr.from(o)))}return cn.populate(Cu.from(r),i)}static populate(e,r=[]){const n=new cn;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((i,s)=>{const o={signature:i==Vs.encode(z1t)?null:Vs.decode(i),publicKey:e.accountKeys[s]};n.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:n.signatures.some(l=>l.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});n.instructions.push(new qn({keys:s,programId:e.accountKeys[i.programIdIndex],data:Vs.decode(i.data)}))}),n._message=e,n._json=n.toJSON(),n}}class SD{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){const{header:n,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:l}=n,u=o-a;An(u>0,"Message header is invalid");const c=e.staticAccountKeys.length-o-l;An(c>=0,"Message header is invalid");const h=e.getAccountKeys(r),m=h.get(0);if(m===void 0)throw new Error("Failed to decompile message because no account keys were found");const y=[];for(const b of i){const E=[];for(const M of b.accountKeyIndexes){const O=h.get(M);if(O===void 0)throw new Error(`Failed to find key for account key index ${M}`);const P=M<o;let z;P?z=M<u:M<h.staticAccountKeys.length?z=M-o<c:z=M-h.staticAccountKeys.length<h.accountKeysFromLookups.writable.length,E.push({pubkey:O,isSigner:M<n.numRequiredSignatures,isWritable:z})}const A=h.get(b.programIdIndex);if(A===void 0)throw new Error(`Failed to find program id for program id index ${b.programIdIndex}`);y.push(new qn({programId:A,data:Wr(b.data),keys:E}))}return new SD({payerKey:m,instructions:y,recentBlockhash:s})}compileToLegacyMessage(){return Cu.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return Jg.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class y5{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)An(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{const n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(g5));this.signatures=n}this.message=e}serialize(){const e=this.message.serialize(),r=Array();pl(r,this.signatures.length);const n=xe.struct([xe.blob(r.length,"encodedSignaturesLength"),xe.seq(L1t(),this.signatures.length,"signatures"),xe.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let r=[...e];const n=[],i=$a(r);for(let o=0;o<i;o++)n.push(new Uint8Array(Ma(r,0,g5)));const s=AD.deserialize(new Uint8Array(r));return new y5(s,n)}sign(e){const r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=n.findIndex(o=>o.equals(i.publicKey));An(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=bD(r,i.secretKey)}}addSignature(e,r){An(r.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));An(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}}const W1t=160,q1t=64,H1t=W1t/q1t,Npe=1e3/H1t,fd=new It("SysvarC1ock11111111111111111111111111111111"),V1t=new It("SysvarEpochSchedu1e111111111111111111111111"),K1t=new It("Sysvar1nstructions1111111111111111111111111"),k8=new It("SysvarRecentB1ockHashes11111111111111111111"),gw=new It("SysvarRent111111111111111111111111111111111"),G1t=new It("SysvarRewards111111111111111111111111111111"),Y1t=new It("SysvarS1otHashes111111111111111111111111111"),Z1t=new It("SysvarS1otHistory11111111111111111111111111"),I8=new It("SysvarStakeHistory1111111111111111111111111");class w5 extends Error{constructor({action:e,signature:r,transactionMessage:n,logs:i}){const s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${r} resulted in an error. 
${n}. `+s+o;break;case"simulate":a=`Simulation failed. 
Message: ${n}. 
`+s+o;break;default:a=`Unknown action '${(l=>l)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=r,this.transactionMessage=n,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((r,n)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const s=i.meta.logMessages;this.transactionLogs=s,r(s)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}}const Q1t={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class ur extends Error{constructor({code:e,message:r,data:n},i){super(i!=null?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}}async function nR(t,e,r,n){const i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},s=await t.sendTransaction(e,r,i);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await t.confirmTransaction({abortSignal:n?.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,l=a.keys[0].pubkey;o=(await t.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:l,nonceValue:e.nonceInfo.nonce,signature:s},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await t.confirmTransaction(s,n&&n.commitment)).value;if(o.err)throw s!=null?new w5({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${s} failed (${JSON.stringify(o)})`);return s}function Jp(t){return new Promise(e=>setTimeout(e,t))}function ln(t,e){const r=t.layout.span>=0?t.layout.span:Mpe(t,e),n=xr.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}function Tn(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}const Rpe=xe.nu64("lamportsPerSignature"),Ope=xe.struct([xe.u32("version"),xe.u32("state"),Qr("authorizedPubkey"),Qr("nonce"),xe.struct([Rpe],"feeCalculator")]),iR=Ope.span;class OA{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const r=Ope.decode(Wr(e),0);return new OA({authorizedPubkey:new It(r.authorizedPubkey),nonce:new It(r.nonce).toString(),feeCalculator:r.feeCalculator})}}function mw(t){const e=xe.blob(8,t),r=e.decode.bind(e),n=e.encode.bind(e),i=e,s=Pmt();return i.decode=(o,a)=>{const l=r(o,a);return s.decode(l)},i.encode=(o,a,l)=>{const u=s.encode(o);return n(u,a,l)},i}class J1t{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=xe.u32("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Jn))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r,space:n,programId:i}=Tn(Jn.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new It(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r}=Tn(Jn.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r,seed:n,programId:i}=Tn(Jn.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new It(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:r}=Tn(Jn.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:n,space:i,programId:s}=Tn(Jn.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new It(r),seed:n,space:i,programId:new It(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:r}=Tn(Jn.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new It(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:n,programId:i}=Tn(Jn.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new It(r),seed:n,programId:new It(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:r,seed:n,lamports:i,space:s,programId:o}=Tn(Jn.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new It(r),seed:n,lamports:i,space:s,programId:new It(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:r}=Tn(Jn.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new It(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Tn(Jn.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=Tn(Jn.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r}=Tn(Jn.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new It(r)}}static checkProgramId(e){if(!e.equals(as.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const Jn=Object.freeze({Create:{index:0,layout:xe.struct([xe.u32("instruction"),xe.ns64("lamports"),xe.ns64("space"),Qr("programId")])},Assign:{index:1,layout:xe.struct([xe.u32("instruction"),Qr("programId")])},Transfer:{index:2,layout:xe.struct([xe.u32("instruction"),mw("lamports")])},CreateWithSeed:{index:3,layout:xe.struct([xe.u32("instruction"),Qr("base"),wg("seed"),xe.ns64("lamports"),xe.ns64("space"),Qr("programId")])},AdvanceNonceAccount:{index:4,layout:xe.struct([xe.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:xe.struct([xe.u32("instruction"),xe.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:xe.struct([xe.u32("instruction"),Qr("authorized")])},AuthorizeNonceAccount:{index:7,layout:xe.struct([xe.u32("instruction"),Qr("authorized")])},Allocate:{index:8,layout:xe.struct([xe.u32("instruction"),xe.ns64("space")])},AllocateWithSeed:{index:9,layout:xe.struct([xe.u32("instruction"),Qr("base"),wg("seed"),xe.ns64("space"),Qr("programId")])},AssignWithSeed:{index:10,layout:xe.struct([xe.u32("instruction"),Qr("base"),wg("seed"),Qr("programId")])},TransferWithSeed:{index:11,layout:xe.struct([xe.u32("instruction"),mw("lamports"),wg("seed"),Qr("programId")])},UpgradeNonceAccount:{index:12,layout:xe.struct([xe.u32("instruction")])}});class as{constructor(){}static createAccount(e){const r=Jn.Create,n=ln(r,{lamports:e.lamports,space:e.space,programId:Wr(e.programId.toBuffer())});return new qn({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){const i=Jn.TransferWithSeed;r=ln(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Wr(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=Jn.Transfer;r=ln(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new qn({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){const i=Jn.AssignWithSeed;r=ln(i,{base:Wr(e.basePubkey.toBuffer()),seed:e.seed,programId:Wr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Jn.Assign;r=ln(i,{programId:Wr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new qn({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){const r=Jn.CreateWithSeed,n=ln(r,{base:Wr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Wr(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new qn({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){const r=new cn;"basePubkey"in e&&"seed"in e?r.add(as.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:iR,programId:this.programId})):r.add(as.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:iR,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){const r=Jn.InitializeNonceAccount,n=ln(r,{authorized:Wr(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:k8,isSigner:!1,isWritable:!1},{pubkey:gw,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new qn(i)}static nonceAdvance(e){const r=Jn.AdvanceNonceAccount,n=ln(r),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:k8,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new qn(i)}static nonceWithdraw(e){const r=Jn.WithdrawNonceAccount,n=ln(r,{lamports:e.lamports});return new qn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:k8,isSigner:!1,isWritable:!1},{pubkey:gw,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){const r=Jn.AuthorizeNonceAccount,n=ln(r,{authorized:Wr(e.newAuthorizedPubkey.toBuffer())});return new qn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){const i=Jn.AllocateWithSeed;r=ln(i,{base:Wr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Wr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Jn.Allocate;r=ln(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new qn({keys:n,programId:this.programId,data:r})}}as.programId=new It("11111111111111111111111111111111");const X1t=B0-300;class Xg{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Xg.chunkSize)+1+1)}static async load(e,r,n,i,s){{const h=await e.getMinimumBalanceForRentExemption(s.length),m=await e.getAccountInfo(n.publicKey,"confirmed");let y=null;if(m!==null){if(m.executable)return console.error("Program load failed, account is already executable"),!1;m.data.length!==s.length&&(y=y||new cn,y.add(as.allocate({accountPubkey:n.publicKey,space:s.length}))),m.owner.equals(i)||(y=y||new cn,y.add(as.assign({accountPubkey:n.publicKey,programId:i}))),m.lamports<h&&(y=y||new cn,y.add(as.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:h-m.lamports})))}else y=new cn().add(as.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:h>0?h:1,space:s.length,programId:i}));y!==null&&await nR(e,y,[r,n],{commitment:"confirmed"})}const o=xe.struct([xe.u32("instruction"),xe.u32("offset"),xe.u32("bytesLength"),xe.u32("bytesLengthPadding"),xe.seq(xe.u8("byte"),xe.offset(xe.u32(),-8),"bytes")]),a=Xg.chunkSize;let l=0,u=s,c=[];for(;u.length>0;){const h=u.slice(0,a),m=xr.alloc(a+16);o.encode({instruction:0,offset:l,bytes:h,bytesLength:0,bytesLengthPadding:0},m);const y=new cn().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:m});c.push(nR(e,y,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await Jp(1e3/4),l+=a,u=u.slice(a)}await Promise.all(c);{const h=xe.struct([xe.u32("instruction")]),m=xr.alloc(h.span);h.encode({instruction:1},m);const y=new cn().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:gw,isSigner:!1,isWritable:!1}],programId:i,data:m}),b="processed",E=await e.sendTransaction(y,[r,n],{preflightCommitment:b}),{context:A,value:M}=await e.confirmTransaction({signature:E,lastValidBlockHeight:y.lastValidBlockHeight,blockhash:y.recentBlockhash},b);if(M.err)throw new Error(`Transaction ${E} failed (${JSON.stringify(M)})`);for(;;){try{if(await e.getSlot({commitment:b})>A.slot)break}catch{}await new Promise(O=>setTimeout(O,Math.round(Npe/2)))}}return!0}}Xg.chunkSize=X1t;const eyt=new It("BPFLoader2111111111111111111111111111111111");class tyt{static getMinNumSignatures(e){return Xg.getMinNumSignatures(e)}static load(e,r,n,i,s){return Xg.load(e,r,n,s,i)}}function ryt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var PT,mJ;function nyt(){if(mJ)return PT;mJ=1;var t=Object.prototype.toString,e=Object.keys||function(n){var i=[];for(var s in n)i.push(s);return i};function r(n,i){var s,o,a,l,u,c,h;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return r(n.toJSON(),i);if(h=t.call(n),h==="[object Array]"){for(a="[",o=n.length-1,s=0;s<o;s++)a+=r(n[s],!0)+",";return o>-1&&(a+=r(n[s],!0)),a+"]"}else if(h==="[object Object]"){for(l=e(n).sort(),o=l.length,a="",s=0;s<o;)u=l[s],c=r(n[u],!1),c!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+c),s++;return"{"+a+"}"}else return JSON.stringify(n);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}return PT=function(n){var i=r(n,!1);if(i!==void 0)return""+i},PT}var iyt=nyt(),yJ=ryt(iyt);const wv=32;function NT(t){let e=0;for(;t>1;)t/=2,e++;return e}function syt(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class jpe{constructor(e,r,n,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const r=NT(syt(e+wv+1))-NT(wv)-1,n=this.getSlotsInEpoch(r),i=e-(n-wv);return[r,i]}else{const r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),i=this.firstNormalEpoch+n,s=r%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*wv:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+NT(wv)):this.slotsPerEpoch}}var oyt=globalThis.fetch;class ayt extends $1t{constructor(e,r,n){const i=s=>{const o=I1t(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,e,r,n),this.underlyingSocket=void 0}call(...e){const r=this.underlyingSocket?.readyState;return r===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){const r=this.underlyingSocket?.readyState;return r===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}}function lyt(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}const wJ=56;class sR{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const r=lyt(cyt,e),n=e.length-wJ;An(n>=0,"lookup table is invalid"),An(n%32===0,"lookup table is invalid");const i=n/32,{addresses:s}=xe.struct([xe.seq(Qr(),i,"addresses")]).decode(e.slice(wJ));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new It(r.authority[0]):void 0,addresses:s.map(o=>new It(o))}}}const cyt={index:1,layout:xe.struct([xe.u32("typeIndex"),mw("deactivationSlot"),xe.nu64("lastExtendedSlot"),xe.u8("lastExtendedStartIndex"),xe.u8(),xe.seq(Qr(),xe.offset(xe.u8(),-1),"authority")])},uyt=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function dyt(t){const e=t.match(uyt);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[r,n,i,s]=e,o=t.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),l=a==null?"":`:${a+1}`;return`${o}//${n}${l}${s}`}const xi=p6(wD(It),Pt(),t=>new It(t)),Lpe=vD([Pt(),bi("base64")]),CD=p6(wD(xr),Lpe,t=>xr.from(t[0],"base64")),Dpe=30*1e3;function hyt(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function Qn(t){let e,r;if(typeof t=="string")e=t;else if(t){const{commitment:n,...i}=t;e=n,r=i}return{commitment:e,config:r}}function vJ(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function Bpe(t){return ia([xt({jsonrpc:bi("2.0"),id:Pt(),result:t}),xt({jsonrpc:bi("2.0"),id:Pt(),error:xt({code:t2(),message:Pt(),data:gr(r1t())})})])}const fyt=Bpe(t2());function zr(t){return p6(Bpe(t),fyt,e=>"error"in e?e:{...e,result:Bt(e.result,t)})}function Ri(t){return zr(xt({context:xt({slot:We()}),value:t}))}function jA(t){return xt({context:xt({slot:We()}),value:t})}function RT(t,e){return t===0?new Jg({header:e.header,staticAccountKeys:e.accountKeys.map(r=>new It(r)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:Vs.decode(r.data)})),addressTableLookups:e.addressTableLookups}):new Cu(e)}const pyt=xt({foundation:We(),foundationTerm:We(),initial:We(),taper:We(),terminal:We()}),gyt=zr(Ft(Wt(xt({epoch:We(),effectiveSlot:We(),amount:We(),postBalance:We(),commission:gr(Wt(We()))})))),myt=Ft(xt({slot:We(),prioritizationFee:We()})),yyt=xt({total:We(),validator:We(),foundation:We(),epoch:We()}),wyt=xt({epoch:We(),slotIndex:We(),slotsInEpoch:We(),absoluteSlot:We(),blockHeight:gr(We()),transactionCount:gr(We())}),vyt=xt({slotsPerEpoch:We(),leaderScheduleSlotOffset:We(),warmup:Pd(),firstNormalEpoch:We(),firstNormalSlot:We()}),byt=_pe(Pt(),Ft(We())),Mm=Wt(ia([xt({}),Pt()])),xyt=xt({err:Mm}),Eyt=bi("receivedSignature"),_yt=xt({"solana-core":Pt(),"feature-set":gr(We())}),Ayt=xt({program:Pt(),programId:xi,parsed:t2()}),Syt=xt({programId:xi,accounts:Ft(xi),data:Pt()}),bJ=Ri(xt({err:Wt(ia([xt({}),Pt()])),logs:Wt(Ft(Pt())),accounts:gr(Wt(Ft(Wt(xt({executable:Pd(),owner:Pt(),lamports:We(),data:Ft(Pt()),rentEpoch:gr(We())}))))),unitsConsumed:gr(We()),returnData:gr(Wt(xt({programId:Pt(),data:vD([Pt(),bi("base64")])}))),innerInstructions:gr(Wt(Ft(xt({index:We(),instructions:Ft(ia([Ayt,Syt]))}))))})),Cyt=Ri(xt({byIdentity:_pe(Pt(),Ft(We())),range:xt({firstSlot:We(),lastSlot:We()})}));function kyt(t,e,r,n,i,s){const o=r||oyt;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return n&&(l=async(c,h)=>{const m=await new Promise((y,b)=>{try{n(c,h,(E,A)=>y([E,A]))}catch(E){b(E)}});return await o(...m)}),new C1t(async(c,h)=>{const m={method:"POST",body:c,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},kwt)};try{let y=5,b,E=500;for(;l?b=await l(t,m):b=await o(t,m),!(b.status!==429||i===!0||(y-=1,y===0));)console.error(`Server responded with ${b.status} ${b.statusText}.  Retrying after ${E}ms delay...`),await Jp(E),E*=2;const A=await b.text();b.ok?h(null,A):h(new Error(`${b.status} ${b.statusText}: ${A}`))}catch(y){y instanceof Error&&h(y)}},{})}function Iyt(t){return(e,r)=>new Promise((n,i)=>{t.request(e,r,(s,o)=>{if(s){i(s);return}n(o)})})}function Tyt(t){return e=>new Promise((r,n)=>{e.length===0&&r([]);const i=e.map(s=>t.request(s.methodName,s.args));t.request(i,(s,o)=>{if(s){n(s);return}r(o)})})}const $yt=zr(pyt),Myt=zr(yyt),Pyt=zr(myt),Nyt=zr(wyt),Ryt=zr(vyt),Oyt=zr(byt),jyt=zr(We()),Lyt=Ri(xt({total:We(),circulating:We(),nonCirculating:We(),nonCirculatingAccounts:Ft(xi)})),oR=xt({amount:Pt(),uiAmount:Wt(We()),decimals:We(),uiAmountString:gr(Pt())}),Dyt=Ri(Ft(xt({address:xi,amount:Pt(),uiAmount:Wt(We()),decimals:We(),uiAmountString:gr(Pt())}))),Byt=Ri(Ft(xt({pubkey:xi,account:xt({executable:Pd(),owner:xi,lamports:We(),data:CD,rentEpoch:We()})}))),aR=xt({program:Pt(),parsed:t2(),space:We()}),Uyt=Ri(Ft(xt({pubkey:xi,account:xt({executable:Pd(),owner:xi,lamports:We(),data:aR,rentEpoch:We()})}))),Fyt=Ri(Ft(xt({lamports:We(),address:xi}))),v5=xt({executable:Pd(),owner:xi,lamports:We(),data:CD,rentEpoch:We()}),zyt=xt({pubkey:xi,account:v5}),Wyt=p6(ia([wD(xr),aR]),ia([Lpe,aR]),t=>Array.isArray(t)?Bt(t,CD):t),lR=xt({executable:Pd(),owner:xi,lamports:We(),data:Wyt,rentEpoch:We()}),qyt=xt({pubkey:xi,account:lR}),Hyt=xt({state:ia([bi("active"),bi("inactive"),bi("activating"),bi("deactivating")]),active:We(),inactive:We()}),Vyt=zr(Ft(xt({signature:Pt(),slot:We(),err:Mm,memo:Wt(Pt()),blockTime:gr(Wt(We()))}))),Kyt=zr(Ft(xt({signature:Pt(),slot:We(),err:Mm,memo:Wt(Pt()),blockTime:gr(Wt(We()))}))),Gyt=xt({subscription:We(),result:jA(v5)}),Yyt=xt({pubkey:xi,account:v5}),Zyt=xt({subscription:We(),result:jA(Yyt)}),Qyt=xt({parent:We(),slot:We(),root:We()}),Jyt=xt({subscription:We(),result:Qyt}),Xyt=ia([xt({type:ia([bi("firstShredReceived"),bi("completed"),bi("optimisticConfirmation"),bi("root")]),slot:We(),timestamp:We()}),xt({type:bi("createdBank"),parent:We(),slot:We(),timestamp:We()}),xt({type:bi("frozen"),slot:We(),timestamp:We(),stats:xt({numTransactionEntries:We(),numSuccessfulTransactions:We(),numFailedTransactions:We(),maxTransactionsPerEntry:We()})}),xt({type:bi("dead"),slot:We(),timestamp:We(),err:Pt()})]),ewt=xt({subscription:We(),result:Xyt}),twt=xt({subscription:We(),result:jA(ia([xyt,Eyt]))}),rwt=xt({subscription:We(),result:We()}),nwt=xt({pubkey:Pt(),gossip:Wt(Pt()),tpu:Wt(Pt()),rpc:Wt(Pt()),version:Wt(Pt())}),xJ=xt({votePubkey:Pt(),nodePubkey:Pt(),activatedStake:We(),epochVoteAccount:Pd(),epochCredits:Ft(vD([We(),We(),We()])),commission:We(),lastVote:We(),rootSlot:Wt(We())}),iwt=zr(xt({current:Ft(xJ),delinquent:Ft(xJ)})),swt=ia([bi("processed"),bi("confirmed"),bi("finalized")]),owt=xt({slot:We(),confirmations:Wt(We()),err:Mm,confirmationStatus:gr(swt)}),awt=Ri(Ft(Wt(owt))),lwt=zr(We()),Upe=xt({accountKey:xi,writableIndexes:Ft(We()),readonlyIndexes:Ft(We())}),kD=xt({signatures:Ft(Pt()),message:xt({accountKeys:Ft(Pt()),header:xt({numRequiredSignatures:We(),numReadonlySignedAccounts:We(),numReadonlyUnsignedAccounts:We()}),instructions:Ft(xt({accounts:Ft(We()),data:Pt(),programIdIndex:We()})),recentBlockhash:Pt(),addressTableLookups:gr(Ft(Upe))})}),Fpe=xt({pubkey:xi,signer:Pd(),writable:Pd(),source:gr(ia([bi("transaction"),bi("lookupTable")]))}),zpe=xt({accountKeys:Ft(Fpe),signatures:Ft(Pt())}),Wpe=xt({parsed:t2(),program:Pt(),programId:xi}),qpe=xt({accounts:Ft(xi),data:Pt(),programId:xi}),cwt=ia([qpe,Wpe]),uwt=ia([xt({parsed:t2(),program:Pt(),programId:Pt()}),xt({accounts:Ft(Pt()),data:Pt(),programId:Pt()})]),Hpe=p6(cwt,uwt,t=>"accounts"in t?Bt(t,qpe):Bt(t,Wpe)),Vpe=xt({signatures:Ft(Pt()),message:xt({accountKeys:Ft(Fpe),instructions:Ft(Hpe),recentBlockhash:Pt(),addressTableLookups:gr(Wt(Ft(Upe)))})}),l_=xt({accountIndex:We(),mint:Pt(),owner:gr(Pt()),programId:gr(Pt()),uiTokenAmount:oR}),Kpe=xt({writable:Ft(xi),readonly:Ft(xi)}),LA=xt({err:Mm,fee:We(),innerInstructions:gr(Wt(Ft(xt({index:We(),instructions:Ft(xt({accounts:Ft(We()),data:Pt(),programIdIndex:We()}))})))),preBalances:Ft(We()),postBalances:Ft(We()),logMessages:gr(Wt(Ft(Pt()))),preTokenBalances:gr(Wt(Ft(l_))),postTokenBalances:gr(Wt(Ft(l_))),loadedAddresses:gr(Kpe),computeUnitsConsumed:gr(We()),costUnits:gr(We())}),ID=xt({err:Mm,fee:We(),innerInstructions:gr(Wt(Ft(xt({index:We(),instructions:Ft(Hpe)})))),preBalances:Ft(We()),postBalances:Ft(We()),logMessages:gr(Wt(Ft(Pt()))),preTokenBalances:gr(Wt(Ft(l_))),postTokenBalances:gr(Wt(Ft(l_))),loadedAddresses:gr(Kpe),computeUnitsConsumed:gr(We()),costUnits:gr(We())}),r2=ia([bi(0),bi("legacy")]),Pm=xt({pubkey:Pt(),lamports:We(),postBalance:Wt(We()),rewardType:Wt(Pt()),commission:gr(Wt(We()))}),dwt=zr(Wt(xt({blockhash:Pt(),previousBlockhash:Pt(),parentSlot:We(),transactions:Ft(xt({transaction:kD,meta:Wt(LA),version:gr(r2)})),rewards:gr(Ft(Pm)),blockTime:Wt(We()),blockHeight:Wt(We())}))),hwt=zr(Wt(xt({blockhash:Pt(),previousBlockhash:Pt(),parentSlot:We(),rewards:gr(Ft(Pm)),blockTime:Wt(We()),blockHeight:Wt(We())}))),fwt=zr(Wt(xt({blockhash:Pt(),previousBlockhash:Pt(),parentSlot:We(),transactions:Ft(xt({transaction:zpe,meta:Wt(LA),version:gr(r2)})),rewards:gr(Ft(Pm)),blockTime:Wt(We()),blockHeight:Wt(We())}))),pwt=zr(Wt(xt({blockhash:Pt(),previousBlockhash:Pt(),parentSlot:We(),transactions:Ft(xt({transaction:Vpe,meta:Wt(ID),version:gr(r2)})),rewards:gr(Ft(Pm)),blockTime:Wt(We()),blockHeight:Wt(We())}))),gwt=zr(Wt(xt({blockhash:Pt(),previousBlockhash:Pt(),parentSlot:We(),transactions:Ft(xt({transaction:zpe,meta:Wt(ID),version:gr(r2)})),rewards:gr(Ft(Pm)),blockTime:Wt(We()),blockHeight:Wt(We())}))),mwt=zr(Wt(xt({blockhash:Pt(),previousBlockhash:Pt(),parentSlot:We(),rewards:gr(Ft(Pm)),blockTime:Wt(We()),blockHeight:Wt(We())}))),ywt=zr(Wt(xt({blockhash:Pt(),previousBlockhash:Pt(),parentSlot:We(),transactions:Ft(xt({transaction:kD,meta:Wt(LA)})),rewards:gr(Ft(Pm)),blockTime:Wt(We())}))),EJ=zr(Wt(xt({blockhash:Pt(),previousBlockhash:Pt(),parentSlot:We(),signatures:Ft(Pt()),blockTime:Wt(We())}))),OT=zr(Wt(xt({slot:We(),meta:Wt(LA),blockTime:gr(Wt(We())),transaction:kD,version:gr(r2)}))),Mx=zr(Wt(xt({slot:We(),transaction:Vpe,meta:Wt(ID),blockTime:gr(Wt(We())),version:gr(r2)}))),wwt=Ri(xt({blockhash:Pt(),lastValidBlockHeight:We()})),vwt=Ri(Pd()),bwt=xt({slot:We(),numTransactions:We(),numSlots:We(),samplePeriodSecs:We()}),xwt=zr(Ft(bwt)),Ewt=Ri(Wt(xt({feeCalculator:xt({lamportsPerSignature:We()})}))),_wt=zr(Pt()),Awt=zr(Pt()),Swt=xt({err:Mm,logs:Ft(Pt()),signature:Pt()}),Cwt=xt({result:jA(Swt),subscription:We()}),kwt={"solana-client":"js/1.0.0-maintenance"};class Gpe{constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async c=>{const{commitment:h,config:m}=Qn(c),y=this._buildArgs([],h,void 0,m),b=yJ(y);return u[b]=u[b]??(async()=>{try{const E=await this._rpcRequest("getBlockHeight",y),A=Bt(E,zr(We()));if("error"in A)throw new ur(A.error,"failed to get block height information");return A.result}finally{delete u[b]}})(),await u[b]}})();let n,i,s,o,a,l;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,s=r.fetch,o=r.fetchMiddleware,a=r.disableRetryOnRateLimit,l=r.httpAgent),this._rpcEndpoint=hyt(e),this._rpcWsEndpoint=n||dyt(e),this._rpcClient=kyt(e,i,s,o,a,l),this._rpcRequest=Iyt(this._rpcClient),this._rpcBatchRequest=Tyt(this._rpcClient),this._rpcWebSocket=new ayt(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){const{commitment:n,config:i}=Qn(r),s=this._buildArgs([e.toBase58()],n,void 0,i),o=await this._rpcRequest("getBalance",s),a=Bt(o,Ri(We()));if("error"in a)throw new ur(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){const r=await this._rpcRequest("getBlockTime",[e]),n=Bt(r,zr(Wt(We())));if("error"in n)throw new ur(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),r=Bt(e,zr(We()));if("error"in r)throw new ur(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),r=Bt(e,jyt);if("error"in r)throw new ur(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};typeof e=="string"?r={commitment:e}:e?r={...e,commitment:e&&e.commitment||this.commitment}:r={commitment:this.commitment};const n=await this._rpcRequest("getSupply",[r]),i=Bt(n,Lyt);if("error"in i)throw new ur(i.error,"failed to get supply");return i.result}async getTokenSupply(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenSupply",n),s=Bt(i,Ri(oR));if("error"in s)throw new ur(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenAccountBalance",n),s=Bt(i,Ri(oR));if("error"in s)throw new ur(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,r,n){const{commitment:i,config:s}=Qn(n);let o=[e.toBase58()];"mint"in r?o.push({mint:r.mint.toBase58()}):o.push({programId:r.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),l=await this._rpcRequest("getTokenAccountsByOwner",a),u=Bt(l,Byt);if("error"in u)throw new ur(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,r,n){let i=[e.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});const s=this._buildArgs(i,n,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=Bt(o,Uyt);if("error"in a)throw new ur(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=await this._rpcRequest("getLargestAccounts",n),s=Bt(i,Fyt);if("error"in s)throw new ur(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenLargestAccounts",n),s=Bt(i,Dyt);if("error"in s)throw new ur(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,r){const{commitment:n,config:i}=Qn(r),s=this._buildArgs([e.toBase58()],n,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=Bt(o,Ri(Wt(v5)));if("error"in a)throw new ur(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,r){const{commitment:n,config:i}=Qn(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=Bt(o,Ri(Wt(lR)));if("error"in a)throw new ur(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,r){const{commitment:n,config:i}=Qn(r),s=e.map(u=>u.toBase58()),o=this._buildArgs([s],n,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),l=Bt(a,Ri(Ft(Wt(lR))));if("error"in l)throw new ur(l.error,`failed to get info for accounts ${s}`);return l.result}async getMultipleAccountsInfoAndContext(e,r){const{commitment:n,config:i}=Qn(r),s=e.map(u=>u.toBase58()),o=this._buildArgs([s],n,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),l=Bt(a,Ri(Ft(Wt(v5))));if("error"in l)throw new ur(l.error,`failed to get info for accounts ${s}`);return l.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){const{commitment:i,config:s}=Qn(r),o=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:n??s?.epoch}),a=await this._rpcRequest("getStakeActivation",o),l=Bt(a,zr(Hyt));if("error"in l)throw new ur(l.error,`failed to get Stake Activation ${e.toBase58()}`);return l.result}async getProgramAccounts(e,r){const{commitment:n,config:i}=Qn(r),{encoding:s,...o}=i||{},a=this._buildArgs([e.toBase58()],n,s||"base64",{...o,...o.filters?{filters:vJ(o.filters)}:null}),l=await this._rpcRequest("getProgramAccounts",a),u=Ft(zyt),c=o.withContext===!0?Bt(l,Ri(u)):Bt(l,zr(u));if("error"in c)throw new ur(c.error,`failed to get accounts owned by program ${e.toBase58()}`);return c.result}async getParsedProgramAccounts(e,r){const{commitment:n,config:i}=Qn(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=Bt(o,zr(Ft(qyt)));if("error"in a)throw new ur(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,r){let n;if(typeof e=="string")n=e;else{const s=e;if(s.abortSignal?.aborted)return Promise.reject(s.abortSignal.reason);n=s.signature}let i;try{i=Vs.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return An(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((r,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,i,s=!1;const o=new Promise((l,u)=>{try{n=this.onSignature(r,(h,m)=>{n=void 0;const y={context:m,value:h};l({__type:dh.PROCESSED,response:y})},e);const c=new Promise(h=>{n==null?h():i=this._onSubscriptionStateChange(n,m=>{m==="subscribed"&&h()})});(async()=>{if(await c,s)return;const h=await this.getSignatureStatus(r);if(s||h==null)return;const{context:m,value:y}=h;if(y!=null)if(y?.err)u(y.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(y.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(y.confirmationStatus==="processed"||y.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,l({__type:dh.PROCESSED,response:{context:m,value:y}})}})()}catch(c){u(c)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let s=!1;const o=new Promise(h=>{const m=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let y=await m();if(!s){for(;y<=n;)if(await Jp(1e3),s||(y=await m(),s))return;h({__type:dh.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),u=this.getCancellationPromise(r);let c;try{const h=await Promise.race([u,l,o]);if(h.__type===dh.PROCESSED)c=h.response;else throw new ED(i)}finally{s=!0,a()}return c}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const l=new Promise(y=>{let b=s,E=null;const A=async()=>{try{const{context:M,value:O}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:n});return E=M.slot,O?.nonce}catch{return b}};(async()=>{if(b=await A(),!a)for(;;){if(s!==b){y({__type:dh.NONCE_INVALID,slotInWhichNonceDidAdvance:E});return}if(await Jp(2e3),a||(b=await A(),a))return}})()}),{abortConfirmation:u,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),h=this.getCancellationPromise(r);let m;try{const y=await Promise.race([h,c,l]);if(y.__type===dh.PROCESSED)m=y.response;else{let b;for(;;){const E=await this.getSignatureStatus(o);if(E==null)break;if(E.context.slot<(y.slotInWhichNonceDidAdvance??n)){await Jp(400);continue}b=E;break}if(b?.value){const E=e||"finalized",{confirmationStatus:A}=b.value;switch(E){case"processed":case"recent":if(A!=="processed"&&A!=="confirmed"&&A!=="finalized")throw new gy(o);break;case"confirmed":case"single":case"singleGossip":if(A!=="confirmed"&&A!=="finalized")throw new gy(o);break;case"finalized":case"max":case"root":if(A!=="finalized")throw new gy(o);break;default:}m={context:b.context,value:{err:b.value.err}}}else throw new gy(o)}}finally{a=!0,u()}return m}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n;const i=new Promise(l=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>l({__type:dh.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:r});let a;try{const l=await Promise.race([o,i]);if(l.__type===dh.PROCESSED)a=l.response;else throw new _D(r,l.timeoutMs/1e3)}finally{clearTimeout(n),s()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),r=Bt(e,zr(Ft(nwt)));if("error"in r)throw new ur(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),i=Bt(n,iwt);if("error"in i)throw new ur(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:r,config:n}=Qn(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlot",i),o=Bt(s,zr(We()));if("error"in o)throw new ur(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:r,config:n}=Qn(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlotLeader",i),o=Bt(s,zr(Pt()));if("error"in o)throw new ur(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,r){const n=[e,r],i=await this._rpcRequest("getSlotLeaders",n),s=Bt(i,zr(Ft(xi)));if("error"in s)throw new ur(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,r){const{context:n,value:i}=await this.getSignatureStatuses([e],r);An(i.length===1);const s=i[0];return{context:n,value:s}}async getSignatureStatuses(e,r){const n=[e];r&&n.push(r);const i=await this._rpcRequest("getSignatureStatuses",n),s=Bt(i,awt);if("error"in s)throw new ur(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:r,config:n}=Qn(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getTransactionCount",i),o=Bt(s,zr(We()));if("error"in o)throw new ur(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),i=Bt(n,$yt);if("error"in i)throw new ur(i.error,"failed to get inflation");return i.result}async getInflationReward(e,r,n){const{commitment:i,config:s}=Qn(n),o=this._buildArgs([e.map(u=>u.toBase58())],i,void 0,{...s,epoch:r??s?.epoch}),a=await this._rpcRequest("getInflationReward",o),l=Bt(a,gyt);if("error"in l)throw new ur(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),r=Bt(e,Myt);if("error"in r)throw new ur(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){const{commitment:r,config:n}=Qn(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getEpochInfo",i),o=Bt(s,Nyt);if("error"in o)throw new ur(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),r=Bt(e,Ryt);if("error"in r)throw new ur(r.error,"failed to get epoch schedule");const n=r.result;return new jpe(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),r=Bt(e,Oyt);if("error"in r)throw new ur(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){const n=this._buildArgs([e],r),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),s=Bt(i,lwt);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const{context:r,value:{blockhash:n}}=await this.getLatestBlockhashAndContext(e);return{context:r,value:{blockhash:n,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=Bt(r,xwt);if("error"in n)throw new ur(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){const n=this._buildArgs([e],r),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),s=Bt(i,Ewt);if("error"in s)throw new ur(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,r){const n=Wr(e.serialize()).toString("base64"),i=this._buildArgs([n],r),s=await this._rpcRequest("getFeeForMessage",i),o=Bt(s,Ri(Wt(We())));if("error"in o)throw new ur(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){const r=e?.lockedWritableAccounts?.map(o=>o.toBase58()),n=r?.length?[r]:[],i=await this._rpcRequest("getRecentPrioritizationFees",n),s=Bt(i,Pyt);if("error"in s)throw new ur(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(e){const{commitment:r,config:n}=Qn(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getLatestBlockhash",i),o=Bt(s,wwt);if("error"in o)throw new ur(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,r){const{commitment:n,config:i}=Qn(r),s=this._buildArgs([e],n,void 0,i),o=await this._rpcRequest("isBlockhashValid",s),a=Bt(o,vwt);if("error"in a)throw new ur(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),r=Bt(e,zr(_yt));if("error"in r)throw new ur(r.error,"failed to get version");return r.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),r=Bt(e,zr(Pt()));if("error"in r)throw new ur(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){const{commitment:n,config:i}=Qn(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i?.transactionDetails){case"accounts":{const a=Bt(o,fwt);if("error"in a)throw a.error;return a.result}case"none":{const a=Bt(o,hwt);if("error"in a)throw a.error;return a.result}default:{const a=Bt(o,dwt);if("error"in a)throw a.error;const{result:l}=a;return l?{...l,transactions:l.transactions.map(({transaction:u,meta:c,version:h})=>({meta:c,transaction:{...u,message:RT(h,u.message)},version:h}))}:null}}}catch(a){throw new ur(a,"failed to get confirmed block")}}async getParsedBlock(e,r){const{commitment:n,config:i}=Qn(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i?.transactionDetails){case"accounts":{const a=Bt(o,gwt);if("error"in a)throw a.error;return a.result}case"none":{const a=Bt(o,mwt);if("error"in a)throw a.error;return a.result}default:{const a=Bt(o,pwt);if("error"in a)throw a.error;return a.result}}}catch(a){throw new ur(a,"failed to get block")}}async getBlockProduction(e){let r,n;if(typeof e=="string")n=e;else if(e){const{commitment:a,...l}=e;n=a,r=l}const i=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getBlockProduction",i),o=Bt(s,Cyt);if("error"in o)throw new ur(o.error,"failed to get block production information");return o.result}async getTransaction(e,r){const{commitment:n,config:i}=Qn(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),o=await this._rpcRequest("getTransaction",s),a=Bt(o,OT);if("error"in a)throw new ur(a.error,"failed to get transaction");const l=a.result;return l&&{...l,transaction:{...l.transaction,message:RT(l.version,l.transaction.message)}}}async getParsedTransaction(e,r){const{commitment:n,config:i}=Qn(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=Bt(o,Mx);if("error"in a)throw new ur(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,r){const{commitment:n,config:i}=Qn(r),s=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(l=>{const u=Bt(l,Mx);if("error"in u)throw new ur(u.error,"failed to get transactions");return u.result})}async getTransactions(e,r){const{commitment:n,config:i}=Qn(r),s=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],n,void 0,i)}));return(await this._rpcBatchRequest(s)).map(l=>{const u=Bt(l,OT);if("error"in u)throw new ur(u.error,"failed to get transactions");const c=u.result;return c&&{...c,transaction:{...c.transaction,message:RT(c.version,c.transaction.message)}}})}async getConfirmedBlock(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getBlock",n),s=Bt(i,ywt);if("error"in s)throw new ur(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:l,meta:u})=>{const c=new Cu(l.message);return{meta:u,transaction:{...l,message:c}}})};return{...a,transactions:a.transactions.map(({transaction:l,meta:u})=>({meta:u,transaction:cn.populate(l.message,l.signatures)}))}}async getBlocks(e,r,n){const i=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],n),s=await this._rpcRequest("getBlocks",i),o=Bt(s,zr(Ft(We())));if("error"in o)throw new ur(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),s=Bt(i,EJ);if("error"in s)throw new ur(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),s=Bt(i,EJ);if("error"in s)throw new ur(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getTransaction",n),s=Bt(i,OT);if("error"in s)throw new ur(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new Cu(o.transaction.message),l=o.transaction.signatures;return{...o,transaction:cn.populate(a,l)}}async getParsedConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),i=await this._rpcRequest("getTransaction",n),s=Bt(i,Mx);if("error"in s)throw new ur(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,r){const n=e.map(o=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([o],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(o=>{const a=Bt(o,Mx);if("error"in a)throw new ur(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,r,n){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(r--,!(r<=0||r<s));)try{const l=await this.getConfirmedBlockSignatures(r,"finalized");l.signatures.length>0&&(i.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let o=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>o));)try{const l=await this.getConfirmedBlockSignatures(n);l.signatures.length>0&&(i.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(e,r,n){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=Bt(s,Vyt);if("error"in o)throw new ur(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,r,n){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getSignaturesForAddress",i),o=Bt(s,Kyt);if("error"in o)throw new ur(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,r){const{context:n,value:i}=await this.getAccountInfoAndContext(e,r);let s=null;return i!==null&&(s=new sR({key:e,state:sR.deserialize(i.data)})),{context:n,value:s}}async getNonceAndContext(e,r){const{context:n,value:i}=await this.getAccountInfoAndContext(e,r);let s=null;return i!==null&&(s=OA.fromAccountData(i.data)),{context:n,value:s}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,r){const n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),i=Bt(n,_wt);if("error"in i)throw new ur(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Jp(100);const n=Date.now()-this._blockhashInfo.lastFetch>=Dpe;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(n!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await Jp(Npe/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:r,config:n}=Qn(e),i=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=Bt(s,Ri(We()));if("error"in o)throw new ur(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,r,n){if("message"in e){const E=e.serialize(),A=xr.from(E).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");const M=r||{};M.encoding="base64","commitment"in M||(M.commitment=this.commitment),r&&typeof r=="object"&&"innerInstructions"in r&&(M.innerInstructions=r.innerInstructions);const O=[A,M],P=await this._rpcRequest("simulateTransaction",O),z=Bt(P,bJ);if("error"in z)throw new Error("failed to simulate transaction: "+z.error.message);return z.result}let i;if(e instanceof cn){let b=e;i=new cn,i.feePayer=b.feePayer,i.instructions=e.instructions,i.nonceInfo=b.nonceInfo,i.signatures=b.signatures}else i=cn.populate(e),i._message=i._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");const s=r;if(i.nonceInfo&&s)i.sign(...s);else{let b=this._disableBlockhashCaching;for(;;){const E=await this._blockhashWithExpiryBlockHeight(b);if(i.lastValidBlockHeight=E.lastValidBlockHeight,i.recentBlockhash=E.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const A=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(A)&&!this._blockhashInfo.transactionSignatures.includes(A)){this._blockhashInfo.simulatedSignatures.push(A);break}else b=!0}}const o=i._compile(),a=o.serialize(),u=i._serialize(a).toString("base64"),c={encoding:"base64",commitment:this.commitment};if(n){const b=(Array.isArray(n)?n:o.nonProgramIds()).map(E=>E.toBase58());c.accounts={encoding:"base64",addresses:b}}s&&(c.sigVerify=!0),r&&typeof r=="object"&&"innerInstructions"in r&&(c.innerInstructions=r.innerInstructions);const h=[u,c],m=await this._rpcRequest("simulateTransaction",h),y=Bt(m,bJ);if("error"in y){let b;if("data"in y.error&&(b=y.error.data.logs,b&&Array.isArray(b))){const E=`
    `,A=E+b.join(E);console.error(y.error.message,A)}throw new w5({action:"simulate",signature:"",transactionMessage:y.error.message,logs:b})}return y.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");const i=r;if(e.nonceInfo)e.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const l=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))o=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}const s=e.serialize();return await this.sendRawTransaction(s,n)}async sendRawTransaction(e,r){const n=Wr(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){const n={encoding:"base64"},i=r&&r.skipPreflight,s=i===!0?"processed":r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),s&&(n.preflightCommitment=s);const o=[e,n],a=await this._rpcRequest("sendTransaction",o),l=Bt(a,Awt);if("error"in l){let u;throw"data"in l.error&&(u=l.error.data.logs),new w5({action:i?"send":"simulate",signature:"",transactionMessage:l.error.message,logs:u})}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(e,r){const n=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=r,n!==r.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(s=>{try{s(r.state)}catch{}})}}_onSubscriptionStateChange(e,r){const n=this._subscriptionHashByClientSubscriptionId[e];if(n==null)return()=>{};const i=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return i.add(r),()=>{i.delete(r),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,r=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{const i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(n,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(n,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:s,error:a}),!r())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!r())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,r){const n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(i=>{try{i(...r)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:r,subscription:n}=Bt(e,Gyt);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){const n=this._nextClientSubscriptionId++,i=yJ([e.method,r]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const o=this._subscriptionsByHash[i];An(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){const{commitment:i,config:s}=Qn(n),o=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",s);return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:r,subscription:n}=Bt(e,Zyt);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,i){const{commitment:s,config:o}=Qn(n),a=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",o||(i?{filters:vJ(i)}:void 0));return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:r,subscription:n}=Bt(e,Cwt);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){const{result:r,subscription:n}=Bt(e,Jyt);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:r,subscription:n}=Bt(e,ewt);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,i){const s=r||this._commitment;if(s||n||i){let o={};n&&(o.encoding=n),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,r,n,i){const s=r||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,i)}_wsOnSignatureNotification(e){const{result:r,subscription:n}=Bt(e,twt);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){const i=this._buildArgs([e],n||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){r(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,r,n){const{commitment:i,...s}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},o=this._buildArgs([e],i,void 0,s),a=this._makeSubscription({callback:(l,u)=>{r(l,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:r,subscription:n}=Bt(e,rwt);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class U0{constructor(e){this._keypair=void 0,this._keypair=e??fJ()}static generate(){return new U0(fJ())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");const n=e.slice(32,64);if(!r||!r.skipValidation){const i=e.slice(0,32),s=a_(i);for(let o=0;o<32;o++)if(n[o]!==s[o])throw new Error("provided secretKey is invalid")}return new U0({publicKey:n,secretKey:e})}static fromSeed(e){const r=a_(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new U0({publicKey:r,secretKey:n})}get publicKey(){return new It(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Ah=Object.freeze({CreateLookupTable:{index:0,layout:xe.struct([xe.u32("instruction"),mw("recentSlot"),xe.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:xe.struct([xe.u32("instruction")])},ExtendLookupTable:{index:2,layout:xe.struct([xe.u32("instruction"),mw(),xe.seq(Qr(),xe.offset(xe.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:xe.struct([xe.u32("instruction")])},CloseLookupTable:{index:4,layout:xe.struct([xe.u32("instruction")])}});class Iwt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=xe.u32("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Ah))if(o.index==n){i=s;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:r}=Tn(Ah.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:r}=Tn(Ah.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map(n=>new It(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(TD.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}class TD{constructor(){}static createLookupTable(e){const[r,n]=It.findProgramAddressSync([e.authority.toBuffer(),vpe().encode(e.recentSlot)],this.programId),i=Ah.CreateLookupTable,s=ln(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),o=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:as.programId,isSigner:!1,isWritable:!1}];return[new qn({programId:this.programId,keys:o,data:s}),r]}static freezeLookupTable(e){const r=Ah.FreezeLookupTable,n=ln(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new qn({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){const r=Ah.ExtendLookupTable,n=ln(r,{addresses:e.addresses.map(s=>s.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:as.programId,isSigner:!1,isWritable:!1}),new qn({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){const r=Ah.DeactivateLookupTable,n=ln(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new qn({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){const r=Ah.CloseLookupTable,n=ln(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new qn({programId:this.programId,keys:i,data:n})}}TD.programId=new It("AddressLookupTab1e1111111111111111111111111");class Twt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=xe.u8("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(md))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:r,additionalFee:n}=Tn(md.RequestUnits,e.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:r}=Tn(md.RequestHeapFrame,e.data);return{bytes:r}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:r}=Tn(md.SetComputeUnitLimit,e.data);return{units:r}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:r}=Tn(md.SetComputeUnitPrice,e.data);return{microLamports:r}}static checkProgramId(e){if(!e.equals($D.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const md=Object.freeze({RequestUnits:{index:0,layout:xe.struct([xe.u8("instruction"),xe.u32("units"),xe.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:xe.struct([xe.u8("instruction"),xe.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:xe.struct([xe.u8("instruction"),xe.u32("units")])},SetComputeUnitPrice:{index:3,layout:xe.struct([xe.u8("instruction"),mw("microLamports")])}});class $D{constructor(){}static requestUnits(e){const r=md.RequestUnits,n=ln(r,e);return new qn({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){const r=md.RequestHeapFrame,n=ln(r,e);return new qn({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){const r=md.SetComputeUnitLimit,n=ln(r,e);return new qn({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){const r=md.SetComputeUnitPrice,n=ln(r,{microLamports:BigInt(e.microLamports)});return new qn({keys:[],programId:this.programId,data:n})}}$D.programId=new It("ComputeBudget111111111111111111111111111111");const _J=64,AJ=32,SJ=64,CJ=xe.struct([xe.u8("numSignatures"),xe.u8("padding"),xe.u16("signatureOffset"),xe.u16("signatureInstructionIndex"),xe.u16("publicKeyOffset"),xe.u16("publicKeyInstructionIndex"),xe.u16("messageDataOffset"),xe.u16("messageDataSize"),xe.u16("messageInstructionIndex")]);class DA{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:r,message:n,signature:i,instructionIndex:s}=e;An(r.length===AJ,`Public Key must be ${AJ} bytes but received ${r.length} bytes`),An(i.length===SJ,`Signature must be ${SJ} bytes but received ${i.length} bytes`);const o=CJ.span,a=o+r.length,l=a+i.length,u=1,c=xr.alloc(l+n.length),h=s??65535;return CJ.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:h,publicKeyOffset:o,publicKeyInstructionIndex:h,messageDataOffset:l,messageDataSize:n.length,messageInstructionIndex:h},c),c.fill(r,o),c.fill(i,a),c.fill(n,l),new qn({keys:[],programId:DA.programId,data:c})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:n,instructionIndex:i}=e;An(r.length===_J,`Private key must be ${_J} bytes but received ${r.length} bytes`);try{const s=U0.fromSecretKey(r),o=s.publicKey.toBytes(),a=bD(n,s.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:a,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}DA.programId=new It("Ed25519SigVerify111111111111111111111111111");const $wt=(t,e)=>{const r=xw.sign(t,e);return[r.toCompactRawBytes(),r.recovery]};xw.utils.isValidPrivateKey;const Mwt=xw.getPublicKey,kJ=32,jT=20,IJ=64,Pwt=11,LT=xe.struct([xe.u8("numSignatures"),xe.u16("signatureOffset"),xe.u8("signatureInstructionIndex"),xe.u16("ethAddressOffset"),xe.u8("ethAddressInstructionIndex"),xe.u16("messageDataOffset"),xe.u16("messageDataSize"),xe.u8("messageInstructionIndex"),xe.blob(20,"ethAddress"),xe.blob(64,"signature"),xe.u8("recoveryId")]);class Ry{constructor(){}static publicKeyToEthAddress(e){An(e.length===IJ,`Public key must be ${IJ} bytes but received ${e.length} bytes`);try{return xr.from(Pg(Wr(e))).slice(-jT)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){const{publicKey:r,message:n,signature:i,recoveryId:s,instructionIndex:o}=e;return Ry.createInstructionWithEthAddress({ethAddress:Ry.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:s,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:r,message:n,signature:i,recoveryId:s,instructionIndex:o=0}=e;let a;typeof r=="string"?r.startsWith("0x")?a=xr.from(r.substr(2),"hex"):a=xr.from(r,"hex"):a=r,An(a.length===jT,`Address must be ${jT} bytes but received ${a.length} bytes`);const l=1+Pwt,u=l,c=l+a.length,h=c+i.length+1,m=1,y=xr.alloc(LT.span+n.length);return LT.encode({numSignatures:m,signatureOffset:c,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:h,messageDataSize:n.length,messageInstructionIndex:o,signature:Wr(i),ethAddress:Wr(a),recoveryId:s},y),y.fill(Wr(n),LT.span),new qn({keys:[],programId:Ry.programId,data:y})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:n,instructionIndex:i}=e;An(r.length===kJ,`Private key must be ${kJ} bytes but received ${r.length} bytes`);try{const s=Wr(r),o=Mwt(s,!1).slice(1),a=xr.from(Pg(Wr(n))),[l,u]=$wt(a,s);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:l,recoveryId:u,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}Ry.programId=new It("KeccakSecp256k11111111111111111111111111111");var Ype;const Zpe=new It("StakeConfig11111111111111111111111111111111");class Qpe{constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}}class g6{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}}Ype=g6;g6.default=new Ype(0,0,It.default);class Nwt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=xe.u32("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(bs))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r,lockup:n}=Tn(bs.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Qpe(new It(r.staker),new It(r.withdrawer)),lockup:new g6(n.unixTimestamp,n.epoch,new It(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Tn(bs.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,stakeAuthorizationType:n}=Tn(bs.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new It(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:r,stakeAuthorizationType:n,authoritySeed:i,authorityOwner:s}=Tn(bs.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new It(s),newAuthorizedPubkey:new It(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=Tn(bs.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Tn(bs.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=Tn(bs.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Tn(bs.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(BA.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const bs=Object.freeze({Initialize:{index:0,layout:xe.struct([xe.u32("instruction"),D1t(),B1t()])},Authorize:{index:1,layout:xe.struct([xe.u32("instruction"),Qr("newAuthorized"),xe.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:xe.struct([xe.u32("instruction")])},Split:{index:3,layout:xe.struct([xe.u32("instruction"),xe.ns64("lamports")])},Withdraw:{index:4,layout:xe.struct([xe.u32("instruction"),xe.ns64("lamports")])},Deactivate:{index:5,layout:xe.struct([xe.u32("instruction")])},Merge:{index:7,layout:xe.struct([xe.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:xe.struct([xe.u32("instruction"),Qr("newAuthorized"),xe.u32("stakeAuthorizationType"),wg("authoritySeed"),Qr("authorityOwner")])}}),Rwt=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class BA{constructor(){}static initialize(e){const{stakePubkey:r,authorized:n,lockup:i}=e,s=i||g6.default,o=bs.Initialize,a=ln(o,{authorized:{staker:Wr(n.staker.toBuffer()),withdrawer:Wr(n.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:Wr(s.custodian.toBuffer())}}),l={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:gw,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new qn(l)}static createAccountWithSeed(e){const r=new cn;r.add(as.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:i,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static createAccount(e){const r=new cn;r.add(as.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:i,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static delegate(e){const{stakePubkey:r,authorizedPubkey:n,votePubkey:i}=e,s=bs.Delegate,o=ln(s);return new cn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:fd,isSigner:!1,isWritable:!1},{pubkey:I8,isSigner:!1,isWritable:!1},{pubkey:Zpe,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:o}=e,a=bs.Authorize,l=ln(a,{newAuthorized:Wr(i.toBuffer()),stakeAuthorizationType:s.index}),u=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:fd,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new cn().add({keys:u,programId:this.programId,data:l})}static authorizeWithSeed(e){const{stakePubkey:r,authorityBase:n,authoritySeed:i,authorityOwner:s,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:l}=e,u=bs.AuthorizeWithSeed,c=ln(u,{newAuthorized:Wr(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:Wr(s.toBuffer())}),h=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:fd,isSigner:!1,isWritable:!1}];return l&&h.push({pubkey:l,isSigner:!0,isWritable:!1}),new cn().add({keys:h,programId:this.programId,data:c})}static splitInstruction(e){const{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:s}=e,o=bs.Split,a=ln(o,{lamports:s});return new qn({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,r){const n=new cn;return n.add(as.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:r,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}static splitWithSeed(e,r){const{stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,basePubkey:o,seed:a,lamports:l}=e,u=new cn;return u.add(as.allocate({accountPubkey:s,basePubkey:o,seed:a,space:this.space,programId:this.programId})),r&&r>0&&u.add(as.transfer({fromPubkey:e.authorizedPubkey,toPubkey:s,lamports:r})),u.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,lamports:l}))}static merge(e){const{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:i}=e,s=bs.Merge,o=ln(s);return new cn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:fd,isSigner:!1,isWritable:!1},{pubkey:I8,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:r,authorizedPubkey:n,toPubkey:i,lamports:s,custodianPubkey:o}=e,a=bs.Withdraw,l=ln(a,{lamports:s}),u=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:fd,isSigner:!1,isWritable:!1},{pubkey:I8,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new cn().add({keys:u,programId:this.programId,data:l})}static deactivate(e){const{stakePubkey:r,authorizedPubkey:n}=e,i=bs.Deactivate,s=ln(i);return new cn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:fd,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}}BA.programId=new It("Stake11111111111111111111111111111111111111");BA.space=200;class Jpe{constructor(e,r,n,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=i}}class Owt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=xe.u32("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(yd))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:r}=Tn(yd.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new Jpe(new It(r.nodePubkey),new It(r.authorizedVoter),new It(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,voteAuthorizationType:n}=Tn(yd.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new It(r),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorized:i,voteAuthorizationType:s}}=Tn(yd.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new It(r),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new It(i),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=Tn(yd.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(n2.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const yd=Object.freeze({InitializeAccount:{index:0,layout:xe.struct([xe.u32("instruction"),U1t()])},Authorize:{index:1,layout:xe.struct([xe.u32("instruction"),Qr("newAuthorized"),xe.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:xe.struct([xe.u32("instruction"),xe.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:xe.struct([xe.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:xe.struct([xe.u32("instruction"),F1t()])}}),jwt=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class n2{constructor(){}static initializeAccount(e){const{votePubkey:r,nodePubkey:n,voteInit:i}=e,s=yd.InitializeAccount,o=ln(s,{voteInit:{nodePubkey:Wr(i.nodePubkey.toBuffer()),authorizedVoter:Wr(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Wr(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:gw,isSigner:!1,isWritable:!1},{pubkey:fd,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new qn(a)}static createAccount(e){const r=new cn;return r.add(as.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:s}=e,o=yd.Authorize,a=ln(o,{newAuthorized:Wr(i.toBuffer()),voteAuthorizationType:s.index}),l=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:fd,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new cn().add({keys:l,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:s,voteAuthorizationType:o,votePubkey:a}=e,l=yd.AuthorizeWithSeed,u=ln(l,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Wr(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Wr(s.toBuffer()),voteAuthorizationType:o.index}}),c=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:fd,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new cn().add({keys:c,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:s}=e,o=yd.Withdraw,a=ln(o,{lamports:i}),l=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new cn().add({keys:l,programId:this.programId,data:a})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return n2.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:r,authorizedWithdrawerPubkey:n,nodePubkey:i}=e,s=yd.UpdateValidatorIdentity,o=ln(s),a=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new cn().add({keys:a,programId:this.programId,data:o})}}n2.programId=new It("Vote111111111111111111111111111111111111111");n2.space=3762;const Xpe=new It("Va1idator1nfo111111111111111111111111111111"),Lwt=xt({name:Pt(),website:gr(Pt()),details:gr(Pt()),iconUrl:gr(Pt()),keybaseUsername:gr(Pt())});class MD{constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){let r=[...e];if($a(r)!==2)return null;const i=[];for(let s=0;s<2;s++){const o=new It(Ma(r,0,Sd)),a=gd(r)===1;i.push({publicKey:o,isSigner:a})}if(i[0].publicKey.equals(Xpe)&&i[1].isSigner){const s=wg().decode(xr.from(r)),o=JSON.parse(s);return xpe(o,Lwt),new MD(i[1].publicKey,o)}return null}}const Dwt=new It("Vote111111111111111111111111111111111111111"),Bwt=xe.struct([Qr("nodePubkey"),Qr("authorizedWithdrawer"),xe.u8("commission"),xe.nu64(),xe.seq(xe.struct([xe.nu64("slot"),xe.u32("confirmationCount")]),xe.offset(xe.u32(),-8),"votes"),xe.u8("rootSlotValid"),xe.nu64("rootSlot"),xe.nu64(),xe.seq(xe.struct([xe.nu64("epoch"),Qr("authorizedVoter")]),xe.offset(xe.u32(),-8),"authorizedVoters"),xe.struct([xe.seq(xe.struct([Qr("authorizedPubkey"),xe.nu64("epochOfLastAuthorizedSwitch"),xe.nu64("targetEpoch")]),32,"buf"),xe.nu64("idx"),xe.u8("isEmpty")],"priorVoters"),xe.nu64(),xe.seq(xe.struct([xe.nu64("epoch"),xe.nu64("credits"),xe.nu64("prevCredits")]),xe.offset(xe.u32(),-8),"epochCredits"),xe.struct([xe.nu64("slot"),xe.nu64("timestamp")],"lastTimestamp")]);class PD{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const n=Bwt.decode(Wr(e),4);let i=n.rootSlot;return n.rootSlotValid||(i=null),new PD({nodePubkey:new It(n.nodePubkey),authorizedWithdrawer:new It(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:i,authorizedVoters:n.authorizedVoters.map(Uwt),priorVoters:Fwt(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}}function Uwt({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new It(t)}}function TJ({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new It(t),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}function Fwt({buf:t,idx:e,isEmpty:r}){return r?[]:[...t.slice(e+1).map(TJ),...t.slice(0,e).map(TJ)]}const $J={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function ege(t,e){const r=e===!1?"http":"https";if(!t)return $J[r].devnet;const n=$J[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}async function zwt(t,e,r,n){let i,s;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")||r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(i=r,s=n):s=r;const o=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},a=await t.sendRawTransaction(e,o),l=s&&s.commitment,c=(await(i?t.confirmTransaction(i,l):t.confirmTransaction(a,l))).value;if(c.err)throw a!=null?new w5({action:o?.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(c)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(c)})`);return a}const tge=1e9,Wwt=Object.freeze(Object.defineProperty({__proto__:null,Account:O1t,AddressLookupTableAccount:sR,AddressLookupTableInstruction:Iwt,AddressLookupTableProgram:TD,Authorized:Qpe,BLOCKHASH_CACHE_TIMEOUT_MS:Dpe,BPF_LOADER_DEPRECATED_PROGRAM_ID:j1t,BPF_LOADER_PROGRAM_ID:eyt,BpfLoader:tyt,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:md,ComputeBudgetInstruction:Twt,ComputeBudgetProgram:$D,Connection:Gpe,Ed25519Program:DA,Enum:N1t,EpochSchedule:jpe,FeeCalculatorLayout:Rpe,Keypair:U0,LAMPORTS_PER_SOL:tge,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Ah,Loader:Xg,Lockup:g6,MAX_SEED_LENGTH:$pe,Message:Cu,MessageAccountKeys:m5,MessageV0:Jg,NONCE_ACCOUNT_LENGTH:iR,NonceAccount:OA,PACKET_DATA_SIZE:B0,PUBLIC_KEY_LENGTH:Sd,PublicKey:It,SIGNATURE_LENGTH_IN_BYTES:g5,SOLANA_SCHEMA:Qb,STAKE_CONFIG_ID:Zpe,STAKE_INSTRUCTION_LAYOUTS:bs,SYSTEM_INSTRUCTION_LAYOUTS:Jn,SYSVAR_CLOCK_PUBKEY:fd,SYSVAR_EPOCH_SCHEDULE_PUBKEY:V1t,SYSVAR_INSTRUCTIONS_PUBKEY:K1t,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:k8,SYSVAR_RENT_PUBKEY:gw,SYSVAR_REWARDS_PUBKEY:G1t,SYSVAR_SLOT_HASHES_PUBKEY:Y1t,SYSVAR_SLOT_HISTORY_PUBKEY:Z1t,SYSVAR_STAKE_HISTORY_PUBKEY:I8,Secp256k1Program:Ry,SendTransactionError:w5,SolanaJSONRPCError:ur,SolanaJSONRPCErrorCode:Q1t,StakeAuthorizationLayout:Rwt,StakeInstruction:Nwt,StakeProgram:BA,Struct:xD,SystemInstruction:J1t,SystemProgram:as,Transaction:cn,TransactionExpiredBlockheightExceededError:ED,TransactionExpiredNonceInvalidError:gy,TransactionExpiredTimeoutError:_D,TransactionInstruction:qn,TransactionMessage:SD,TransactionStatus:dh,VALIDATOR_INFO_KEY:Xpe,VERSION_PREFIX_MASK:NA,VOTE_PROGRAM_ID:Dwt,ValidatorInfo:MD,VersionedMessage:AD,VersionedTransaction:y5,VoteAccount:PD,VoteAuthorizationLayout:jwt,VoteInit:Jpe,VoteInstruction:Owt,VoteProgram:n2,clusterApiUrl:ege,sendAndConfirmRawTransaction:zwt,sendAndConfirmTransaction:nR},Symbol.toStringTag,{value:"Module"})),wd="solana:signAndSendTransaction",DT="solana:signIn",ey="solana:signMessage",ss="solana:signTransaction",UA="standard:connect",cR="standard:disconnect",FA="standard:events";function qwt(t){return UA in t.features&&FA in t.features&&(wd in t.features||ss in t.features)}class hs extends Error{constructor(e,r){super(e),this.error=r}}class em extends hs{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class ND extends hs{constructor(){super(...arguments),this.name="WalletLoadError"}}class vg extends hs{constructor(){super(...arguments),this.name="WalletConfigError"}}class yw extends hs{constructor(){super(...arguments),this.name="WalletConnectionError"}}class zA extends hs{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class m6 extends hs{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class $0 extends hs{constructor(){super(...arguments),this.name="WalletAccountError"}}class tm extends hs{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class Kn extends hs{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class Ih extends hs{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class bl extends hs{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class WA extends hs{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class MJ extends hs{constructor(){super(...arguments),this.name="WalletSignInError"}}var Yr;(function(t){t.Installed="Installed",t.NotDetected="NotDetected",t.Loadable="Loadable",t.Unsupported="Unsupported"})(Yr||(Yr={}));class rge extends ku{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,r,n={}){const i=this.publicKey;if(!i)throw new Kn;return e.feePayer=e.feePayer||i,e.recentBlockhash=e.recentBlockhash||(await r.getLatestBlockhash({commitment:n.preflightCommitment,minContextSlot:n.minContextSlot})).blockhash,e}}function nge(t){if(typeof window>"u"||typeof document>"u")return;const e=[];function r(){if(t())for(const s of e)s()}const n=setInterval(r,1e3);e.push(()=>clearInterval(n)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",r,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",r))),document.readyState!=="complete"&&(window.addEventListener("load",r,{once:!0}),e.push(()=>window.removeEventListener("load",r))),r()}function uR(){if(!navigator)return!1;const t=navigator.userAgent.toLowerCase(),e=t.includes("iphone")||t.includes("ipad"),r=t.includes("safari");return e&&r}function iu(t){return"version"in t}class ige extends rge{async sendTransaction(e,r,n={}){let i=!0;try{if(iu(e)){if(!this.supportedTransactionVersions)throw new Ih("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new Ih(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const s=e.serialize();return await r.sendRawTransaction(s,n)}catch(s){throw s instanceof bl?(i=!1,s):new Ih(s?.message,s)}}else try{const{signers:s,...o}=n;e=await this.prepareTransaction(e,r,o),s?.length&&e.partialSign(...s),e=await this.signTransaction(e);const a=e.serialize();return await r.sendRawTransaction(a,o)}catch(s){throw s instanceof bl?(i=!1,s):new Ih(s?.message,s)}}catch(s){throw i&&this.emit("error",s),s}}async signAllTransactions(e){for(const n of e)if(iu(n)){if(!this.supportedTransactionVersions)throw new bl("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(n.version))throw new bl(`Signing transaction version ${n.version} isn't supported by this wallet`)}const r=[];for(const n of e)r.push(await this.signTransaction(n));return r}}class qA extends ige{}class Hwt extends qA{}function Vwt(t){return UA in t.features&&FA in t.features&&(wd in t.features||ss in t.features)}var dR;(function(t){t.Mainnet="mainnet-beta",t.Testnet="testnet",t.Devnet="devnet"})(dR||(dR={}));function BT(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const hR="solana:mainnet",sge="solana:devnet",oge="solana:testnet",Kwt="solana:localnet",Gwt="https://api.mainnet-beta.solana.com";function Ywt(t){return t.includes(Gwt)?hR:/\bdevnet\b/i.test(t)?sge:/\btestnet\b/i.test(t)?oge:/\blocalhost\b/i.test(t)||/\b127\.0\.0\.1\b/.test(t)?Kwt:hR}function Zwt(t){const e=age(t);return new TextEncoder().encode(e)}function age(t){let e=`${t.domain} wants you to sign in with your Solana account:
`;e+=`${t.address}`,t.statement&&(e+=`

${t.statement}`);const r=[];if(t.uri&&r.push(`URI: ${t.uri}`),t.version&&r.push(`Version: ${t.version}`),t.chainId&&r.push(`Chain ID: ${t.chainId}`),t.nonce&&r.push(`Nonce: ${t.nonce}`),t.issuedAt&&r.push(`Issued At: ${t.issuedAt}`),t.expirationTime&&r.push(`Expiration Time: ${t.expirationTime}`),t.notBefore&&r.push(`Not Before: ${t.notBefore}`),t.requestId&&r.push(`Request ID: ${t.requestId}`),t.resources){r.push("Resources:");for(const n of t.resources)r.push(`- ${n}`)}return r.length&&(e+=`

${r.join(`
`)}`),e}var Qwt=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Jwt=function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},T8;function Xwt(t){const e=({register:r})=>r(t);try{window.dispatchEvent(new e2t(e))}catch(r){console.error(`wallet-standard:register-wallet event could not be dispatched
`,r)}try{window.addEventListener("wallet-standard:app-ready",({detail:r})=>e(r))}catch(r){console.error(`wallet-standard:app-ready event listener could not be added
`,r)}}class e2t extends Event{get detail(){return Qwt(this,T8,"f")}get type(){return"wallet-standard:register-wallet"}constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),T8.set(this,void 0),Jwt(this,T8,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}T8=new WeakMap;function t2t(t,e){if(t===e)return!0;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}var lr=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},qi=function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},qs,Aa,bg,xg,qp,gb,c_,En,u_,fR,$8,pR,Jb,gR,PJ,NJ,RJ,OJ;class lge extends rge{get name(){return lr(this,En,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return lr(this,En,"f").icon}get readyState(){return lr(this,u_,"f")}get publicKey(){return lr(this,bg,"f")}get connecting(){return lr(this,xg,"f")}get supportedTransactionVersions(){return lr(this,c_,"f")}get wallet(){return lr(this,En,"f")}get standard(){return!0}constructor({wallet:e}){super(),qs.add(this),Aa.set(this,void 0),bg.set(this,void 0),xg.set(this,void 0),qp.set(this,void 0),gb.set(this,void 0),c_.set(this,void 0),En.set(this,void 0),u_.set(this,typeof window>"u"||typeof document>"u"?Yr.Unsupported:Yr.Installed),gR.set(this,r=>{if("accounts"in r){const n=lr(this,En,"f").accounts[0];lr(this,Aa,"f")&&!lr(this,qp,"f")&&n!==lr(this,Aa,"f")&&(n?lr(this,qs,"m",$8).call(this,n):(this.emit("error",new zA),lr(this,qs,"m",pR).call(this)))}"features"in r&&lr(this,qs,"m",Jb).call(this)}),qi(this,En,e,"f"),qi(this,Aa,null,"f"),qi(this,bg,null,"f"),qi(this,xg,!1,"f"),qi(this,qp,!1,"f"),qi(this,gb,lr(this,En,"f").features[FA].on("change",lr(this,gR,"f")),"f"),lr(this,qs,"m",Jb).call(this)}destroy(){qi(this,Aa,null,"f"),qi(this,bg,null,"f"),qi(this,xg,!1,"f"),qi(this,qp,!1,"f");const e=lr(this,gb,"f");e&&(qi(this,gb,null,"f"),e())}async autoConnect(){return lr(this,qs,"m",fR).call(this,{silent:!0})}async connect(){return lr(this,qs,"m",fR).call(this)}async disconnect(){if(cR in lr(this,En,"f").features)try{qi(this,qp,!0,"f"),await lr(this,En,"f").features[cR].disconnect()}catch(e){this.emit("error",new m6(e?.message,e))}finally{qi(this,qp,!1,"f")}lr(this,qs,"m",pR).call(this)}async sendTransaction(e,r,n={}){try{const i=lr(this,Aa,"f");if(!i)throw new Kn;let s;if(wd in lr(this,En,"f").features)if(i.features.includes(wd))s=wd;else if(ss in lr(this,En,"f").features&&i.features.includes(ss))s=ss;else throw new $0;else if(ss in lr(this,En,"f").features){if(!i.features.includes(ss))throw new $0;s=ss}else throw new vg;const o=Ywt(r.rpcEndpoint);if(!i.chains.includes(o))throw new Ih;try{const{signers:a,...l}=n;let u;if(iu(e)?(a?.length&&e.sign(a),u=e.serialize()):(e=await this.prepareTransaction(e,r,l),a?.length&&e.partialSign(...a),u=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),s===wd){const[c]=await lr(this,En,"f").features[wd].signAndSendTransaction({account:i,chain:o,transaction:u,options:{preflightCommitment:BT(l.preflightCommitment||r.commitment),skipPreflight:l.skipPreflight,maxRetries:l.maxRetries,minContextSlot:l.minContextSlot}});return Lw.encode(c.signature)}else{const[c]=await lr(this,En,"f").features[ss].signTransaction({account:i,chain:o,transaction:u,options:{preflightCommitment:BT(l.preflightCommitment||r.commitment),minContextSlot:l.minContextSlot}});return await r.sendRawTransaction(c.signedTransaction,{...l,preflightCommitment:BT(l.preflightCommitment||r.commitment)})}}catch(a){throw a instanceof hs?a:new Ih(a?.message,a)}}catch(i){throw this.emit("error",i),i}}}Aa=new WeakMap,bg=new WeakMap,xg=new WeakMap,qp=new WeakMap,gb=new WeakMap,c_=new WeakMap,En=new WeakMap,u_=new WeakMap,gR=new WeakMap,qs=new WeakSet,fR=async function(e){try{if(this.connected||this.connecting)return;if(lr(this,u_,"f")!==Yr.Installed)throw new em;if(qi(this,xg,!0,"f"),!lr(this,En,"f").accounts.length)try{await lr(this,En,"f").features[UA].connect(e)}catch(n){throw new yw(n?.message,n)}const r=lr(this,En,"f").accounts[0];if(!r)throw new $0;lr(this,qs,"m",$8).call(this,r)}catch(r){throw this.emit("error",r),r}finally{qi(this,xg,!1,"f")}},$8=function(e){let r;try{r=new It(e.address)}catch(n){throw new tm(n?.message,n)}qi(this,Aa,e,"f"),qi(this,bg,r,"f"),lr(this,qs,"m",Jb).call(this),this.emit("connect",r)},pR=function(){qi(this,Aa,null,"f"),qi(this,bg,null,"f"),lr(this,qs,"m",Jb).call(this),this.emit("disconnect")},Jb=function(){const e=wd in lr(this,En,"f").features?lr(this,En,"f").features[wd].supportedTransactionVersions:lr(this,En,"f").features[ss].supportedTransactionVersions;qi(this,c_,t2t(e,["legacy"])?null:new Set(e),"f"),ss in lr(this,En,"f").features&&lr(this,Aa,"f")?.features.includes(ss)?(this.signTransaction=lr(this,qs,"m",PJ),this.signAllTransactions=lr(this,qs,"m",NJ)):(delete this.signTransaction,delete this.signAllTransactions),ey in lr(this,En,"f").features&&lr(this,Aa,"f")?.features.includes(ey)?this.signMessage=lr(this,qs,"m",RJ):delete this.signMessage,DT in lr(this,En,"f").features?this.signIn=lr(this,qs,"m",OJ):delete this.signIn},PJ=async function(e){try{const r=lr(this,Aa,"f");if(!r)throw new Kn;if(!(ss in lr(this,En,"f").features))throw new vg;if(!r.features.includes(ss))throw new $0;try{const i=(await lr(this,En,"f").features[ss].signTransaction({account:r,transaction:iu(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return iu(e)?y5.deserialize(i):cn.from(i)}catch(n){throw n instanceof hs?n:new bl(n?.message,n)}}catch(r){throw this.emit("error",r),r}},NJ=async function(e){try{const r=lr(this,Aa,"f");if(!r)throw new Kn;if(!(ss in lr(this,En,"f").features))throw new vg;if(!r.features.includes(ss))throw new $0;try{const n=await lr(this,En,"f").features[ss].signTransaction(...e.map(i=>({account:r,transaction:iu(i)?i.serialize():new Uint8Array(i.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((i,s)=>{const o=n[s].signedTransaction;return iu(i)?y5.deserialize(o):cn.from(o)})}catch(n){throw new bl(n?.message,n)}}catch(r){throw this.emit("error",r),r}},RJ=async function(e){try{const r=lr(this,Aa,"f");if(!r)throw new Kn;if(!(ey in lr(this,En,"f").features))throw new vg;if(!r.features.includes(ey))throw new $0;try{return(await lr(this,En,"f").features[ey].signMessage({account:r,message:e}))[0].signature}catch(n){throw new WA(n?.message,n)}}catch(r){throw this.emit("error",r),r}},OJ=async function(e={}){try{if(!(DT in lr(this,En,"f").features))throw new vg;let r;try{[r]=await lr(this,En,"f").features[DT].signIn(e)}catch(n){throw new MJ(n?.message,n)}if(!r)throw new MJ;return lr(this,qs,"m",$8).call(this,r.account),r}catch(r){throw this.emit("error",r),r}};const r2t=Vwt;var n2t=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},i2t=function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},M8;let cl;const HA=new Set;function s2t(t){Xb=void 0,HA.add(t)}function o2t(t){Xb=void 0,HA.delete(t)}const my={};function cge(){if(cl||(cl=Object.freeze({register:jJ,get:a2t,on:l2t}),typeof window>"u"))return cl;const t=Object.freeze({register:jJ});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new c2t(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return cl}function jJ(...t){return t=t.filter(e=>!HA.has(e)),t.length?(t.forEach(e=>s2t(e)),my.register?.forEach(e=>mR(()=>e(...t))),function(){t.forEach(r=>o2t(r)),my.unregister?.forEach(r=>mR(()=>r(...t)))}):()=>{}}let Xb;function a2t(){return Xb||(Xb=[...HA]),Xb}function l2t(t,e){return my[t]?.push(e)||(my[t]=[e]),function(){my[t]=my[t]?.filter(n=>e!==n)}}function mR(t){try{t()}catch(e){console.error(e)}}class c2t extends Event{get detail(){return n2t(this,M8,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),M8.set(this,void 0),i2t(this,M8,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}M8=new WeakMap;function u2t(){if(cl||(cl=cge(),typeof window>"u"))return cl;const t=window.navigator.wallets||[];if(!Array.isArray(t))return console.error("window.navigator.wallets is not an array"),cl;const{register:e}=cl,r=(...n)=>n.forEach(i=>mR(()=>i({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:r})})}catch{return console.error("window.navigator.wallets could not be set"),cl}return r(...t),cl}const d2t=t=>{let e,{get:r,on:n}=cge(),i=!0,s=new Map,o=[];function a(...c){LJ(c).forEach((h=>!s.has(h.wallet)&&s.set(h.wallet,h))),o=Array.from(s.values()).map((h=>new b8(h,i))),e?.(o)}function l(...c){Array.from(s.keys()).forEach((h=>!c.includes(h)&&s.delete(h))),o=Array.from(s.values()).map((h=>new b8(h,i))),e?.(o)}let u=[n("register",a),n("unregister",l)];return LJ(r()).forEach((c=>!s.has(c.wallet)&&s.set(c.wallet,c))),o=Array.from(s.values()).map((c=>new b8(c,i))),{_setOnConnectorsUpdated:c=>{e=c},onMount:()=>{u[0]||(u[0]=n("register",a)),u[1]||(u[1]=n("unregister",l))},onUnmount:()=>{let c=u.pop();for(;c;)c(),c=u.pop()},get:()=>o}};let LJ=t=>t.filter((e=>qwt(e)&&!(e.features["privy:"]&&"isPrivyWallet"in e&&e.isPrivyWallet))).map((e=>new lge({wallet:e})));const uge=["solana:mainnet","solana:devnet","solana:testnet"];function vv(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var h2t=0,jc="__private_"+h2t+++"__implementation";function Gl(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var f2t=0;function i2(t){return"__private_"+f2t+++"_"+t}var bv=i2("_address"),xv=i2("_publicKey"),Ev=i2("_chains"),_v=i2("_features"),Av=i2("_label"),Sv=i2("_icon");class RD{get address(){return Gl(this,bv)[bv]}get publicKey(){return Gl(this,xv)[xv].slice()}get chains(){return Gl(this,Ev)[Ev].slice()}get features(){return Gl(this,_v)[_v].slice()}get label(){return Gl(this,Av)[Av]}get icon(){return Gl(this,Sv)[Sv]}constructor({address:e,publicKey:r,label:n,icon:i}){Object.defineProperty(this,bv,{writable:!0,value:void 0}),Object.defineProperty(this,xv,{writable:!0,value:void 0}),Object.defineProperty(this,Ev,{writable:!0,value:void 0}),Object.defineProperty(this,_v,{writable:!0,value:void 0}),Object.defineProperty(this,Av,{writable:!0,value:void 0}),Object.defineProperty(this,Sv,{writable:!0,value:void 0}),Gl(this,bv)[bv]=e,Gl(this,xv)[xv]=r,Gl(this,Ev)[Ev]=uge,Gl(this,Av)[Av]=n,Gl(this,Sv)[Sv]=i,Gl(this,_v)[_v]=["solana:signAndSendTransaction","solana:signTransaction","solana:signMessage"],new.target===RD&&Object.freeze(this)}}function Rr(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var p2t=0;function Oo(t){return"__private_"+p2t+++"_"+t}var gl=Oo("_listeners"),Cv=Oo("_version"),kv=Oo("_name"),Iv=Oo("_icon"),Do=Oo("_injection"),Tv=Oo("_isPrivyWallet"),jp=Oo("_accounts"),$v=Oo("_on"),Lp=Oo("_emit"),UT=Oo("_off"),Dp=Oo("_connected"),Mv=Oo("_connect"),Pv=Oo("_disconnect"),Nv=Oo("_signMessage"),Rv=Oo("_signAndSendTransaction"),Ov=Oo("_signTransaction");function g2t(t,...e){Rr(this,gl)[gl][t]?.forEach((r=>r.apply(null,e)))}function m2t(t,e){Rr(this,gl)[gl][t]=Rr(this,gl)[gl][t]?.filter((r=>e!==r))}let y2t=new class extends ku{setImplementation(t){vv(this,jc)[jc]=t}async signMessage(t){return vv(this,jc)[jc].signMessage(t)}async signAndSendTransaction(t){return vv(this,jc)[jc].signAndSendTransaction(t)}async signTransaction(t){return vv(this,jc)[jc].signTransaction(t)}constructor(t){super(),Object.defineProperty(this,jc,{writable:!0,value:void 0}),vv(this,jc)[jc]=t}}({signTransaction:x0("signTransaction was not injected"),signAndSendTransaction:x0("signAndSendTransaction was not injected"),signMessage:x0("signMessage was not injected")});new class{get version(){return Rr(this,Cv)[Cv]}get name(){return Rr(this,kv)[kv]}get icon(){return Rr(this,Iv)[Iv]}get chains(){return uge.slice()}get features(){return{"standard:connect":{version:"1.0.0",connect:Rr(this,Mv)[Mv]},"standard:disconnect":{version:"1.0.0",disconnect:Rr(this,Pv)[Pv]},"standard:events":{version:"1.0.0",on:Rr(this,$v)[$v]},"solana:signAndSendTransaction":{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:Rr(this,Rv)[Rv]},"solana:signTransaction":{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:Rr(this,Ov)[Ov]},"solana:signMessage":{version:"1.0.0",signMessage:Rr(this,Nv)[Nv]},"privy:":{privy:{signMessage:Rr(this,Do)[Do].signMessage,signTransaction:Rr(this,Do)[Do].signTransaction,signAndSendTransaction:Rr(this,Do)[Do].signAndSendTransaction}}}}get accounts(){return Rr(this,jp)[jp].slice()}get isPrivyWallet(){return Rr(this,Tv)[Tv]}constructor({name:t,icon:e,version:r,injection:n,wallets:i}){Object.defineProperty(this,Lp,{value:g2t}),Object.defineProperty(this,UT,{value:m2t}),Object.defineProperty(this,gl,{writable:!0,value:void 0}),Object.defineProperty(this,Cv,{writable:!0,value:void 0}),Object.defineProperty(this,kv,{writable:!0,value:void 0}),Object.defineProperty(this,Iv,{writable:!0,value:void 0}),Object.defineProperty(this,Do,{writable:!0,value:void 0}),Object.defineProperty(this,Tv,{writable:!0,value:void 0}),Object.defineProperty(this,jp,{writable:!0,value:void 0}),Object.defineProperty(this,$v,{writable:!0,value:void 0}),Object.defineProperty(this,Dp,{writable:!0,value:void 0}),Object.defineProperty(this,Mv,{writable:!0,value:void 0}),Object.defineProperty(this,Pv,{writable:!0,value:void 0}),Object.defineProperty(this,Nv,{writable:!0,value:void 0}),Object.defineProperty(this,Rv,{writable:!0,value:void 0}),Object.defineProperty(this,Ov,{writable:!0,value:void 0}),Rr(this,gl)[gl]={},Rr(this,$v)[$v]=(s,o)=>(Rr(this,gl)[gl][s]?.push(o)||(Rr(this,gl)[gl][s]=[o]),()=>Rr(this,UT)[UT](s,o)),Rr(this,Dp)[Dp]=s=>{s!=null&&(Rr(this,jp)[jp]=s.map((({address:o})=>new RD({address:o,publicKey:qje.decode(o)})))),Rr(this,Lp)[Lp]("change",{accounts:this.accounts})},Rr(this,Mv)[Mv]=async()=>(Rr(this,Lp)[Lp]("change",{accounts:this.accounts}),{accounts:this.accounts}),Rr(this,Pv)[Pv]=async()=>{Rr(this,Lp)[Lp]("change",{accounts:this.accounts})},Rr(this,Nv)[Nv]=async(...s)=>{let o=[];for(let{account:a,...l}of s){let{signature:u}=await Rr(this,Do)[Do].signMessage({...l,address:a.address});o.push({signedMessage:l.message,signature:u})}return o},Rr(this,Rv)[Rv]=async(...s)=>{let o=[];for(let{transaction:a,account:l,options:u,chain:c}of s){let{signature:h}=await Rr(this,Do)[Do].signAndSendTransaction({transaction:a,address:l.address,chain:c||"solana:mainnet",options:u});o.push({signature:h})}return o},Rr(this,Ov)[Ov]=async(...s)=>{let o=[];for(let{transaction:a,account:l,options:u,chain:c}of s){let{signedTransaction:h}=await Rr(this,Do)[Do].signTransaction({transaction:a,address:l.address,chain:c||"solana:mainnet",options:u});o.push({signedTransaction:h})}return o},Rr(this,kv)[kv]=t,Rr(this,Iv)[Iv]=e,Rr(this,Cv)[Cv]=r,Rr(this,Do)[Do]=n,Rr(this,jp)[jp]=[],Rr(this,Tv)[Tv]=!0,n.on("accountChanged",Rr(this,Dp)[Dp],this),Rr(this,Dp)[Dp](i)}}({name:"Privy",version:"1.0.0",icon:"data:image/png;base64,AAABAAEAFBQAAAAAIABlAQAAFgAAAIlQTkcNChoKAAAADUlIRFIAAAAUAAAAFAgGAAAAjYkdDQAAAAlwSFlzAAAOwwAADsMBx2+oZAAAAQVJREFUeJxiYMANZIC4E4ivAPFPIP4FxDeAuB+IlfDowwBMQFwJxF+B+D8O/AOI66Bq8QJGIF6ExyB0vAqImfEZmEeCYTDcgMswPiB+T4aB34FYApuBsWQYBsP52AycToGBK7EZuJECAw9jM3AVBQbuwWZgIwUGTsZmoDkFBnpiMxAEjpJh2FV8iVsbiD+TYBgoDVrgMgwGnID4HRGGgTKBGyHDYEAaiBdCSxh0g/5AU4Q8sYYhAzEgjoGmABBOgFo2eACowFABYn0oVgViAVINkQTiZUD8DIj/ATF6GILEXgLxCiCWIsZAbiAuBeKtQHwHiEHJ6C8UfwHie0C8E4jLoWpRAAAAAP//rcbhsQAAAAZJREFUAwBYFs3VKJ0cuQAAAABJRU5ErkJggg==",wallets:[],injection:y2t});const dge=B.createContext({});function hge(){return B.useContext(dge)}const w2t=({children:t,endpoint:e,config:r={commitment:"confirmed"}})=>{const n=B.useMemo(()=>new Gpe(e,r),[e,r]);return Re.createElement(dge.Provider,{value:{connection:n}},t)};class DJ extends hs{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const v2t=[],VA={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){Qc("call","select")},connect(){return Promise.reject(Qc("call","connect"))},disconnect(){return Promise.reject(Qc("call","disconnect"))},sendTransaction(){return Promise.reject(Qc("call","sendTransaction"))},signTransaction(){return Promise.reject(Qc("call","signTransaction"))},signAllTransactions(){return Promise.reject(Qc("call","signAllTransactions"))},signMessage(){return Promise.reject(Qc("call","signMessage"))},signIn(){return Promise.reject(Qc("call","signIn"))}};Object.defineProperty(VA,"wallets",{get(){return Qc("read","wallets"),v2t}});Object.defineProperty(VA,"wallet",{get(){return Qc("read","wallet"),null}});Object.defineProperty(VA,"publicKey",{get(){return Qc("read","publicKey"),null}});function Qc(t,e){const r=new Error(`You have tried to ${t} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(r),r}const fge=B.createContext(VA);function KA(){return B.useContext(fge)}function b2t(t,e){const r=B.useState(()=>{try{const s=localStorage.getItem(t);if(s)return JSON.parse(s)}catch(s){typeof window<"u"&&console.error(s)}return e}),n=r[0],i=B.useRef(!0);return B.useEffect(()=>{if(i.current){i.current=!1;return}try{n===null?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(n))}catch(s){typeof window<"u"&&console.error(s)}},[n,t]),r}var Xu={},Bp={},Bo={},Hr={},BJ;function OD(){if(BJ)return Hr;BJ=1,Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.WalletWindowClosedError=Hr.WalletWindowBlockedError=Hr.WalletTimeoutError=Hr.WalletSignInError=Hr.WalletSignMessageError=Hr.WalletSignTransactionError=Hr.WalletSendTransactionError=Hr.WalletNotConnectedError=Hr.WalletKeypairError=Hr.WalletPublicKeyError=Hr.WalletAccountError=Hr.WalletDisconnectionError=Hr.WalletDisconnectedError=Hr.WalletConnectionError=Hr.WalletConfigError=Hr.WalletLoadError=Hr.WalletNotReadyError=Hr.WalletError=void 0;class t extends Error{constructor(P,z){super(P),this.error=z}}Hr.WalletError=t;class e extends t{constructor(){super(...arguments),this.name="WalletNotReadyError"}}Hr.WalletNotReadyError=e;class r extends t{constructor(){super(...arguments),this.name="WalletLoadError"}}Hr.WalletLoadError=r;class n extends t{constructor(){super(...arguments),this.name="WalletConfigError"}}Hr.WalletConfigError=n;class i extends t{constructor(){super(...arguments),this.name="WalletConnectionError"}}Hr.WalletConnectionError=i;class s extends t{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}Hr.WalletDisconnectedError=s;class o extends t{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}Hr.WalletDisconnectionError=o;class a extends t{constructor(){super(...arguments),this.name="WalletAccountError"}}Hr.WalletAccountError=a;class l extends t{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}Hr.WalletPublicKeyError=l;class u extends t{constructor(){super(...arguments),this.name="WalletKeypairError"}}Hr.WalletKeypairError=u;class c extends t{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}Hr.WalletNotConnectedError=c;class h extends t{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}Hr.WalletSendTransactionError=h;class m extends t{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}Hr.WalletSignTransactionError=m;class y extends t{constructor(){super(...arguments),this.name="WalletSignMessageError"}}Hr.WalletSignMessageError=y;class b extends t{constructor(){super(...arguments),this.name="WalletSignInError"}}Hr.WalletSignInError=b;class E extends t{constructor(){super(...arguments),this.name="WalletTimeoutError"}}Hr.WalletTimeoutError=E;class A extends t{constructor(){super(...arguments),this.name="WalletWindowBlockedError"}}Hr.WalletWindowBlockedError=A;class M extends t{constructor(){super(...arguments),this.name="WalletWindowClosedError"}}return Hr.WalletWindowClosedError=M,Hr}var UJ;function pge(){if(UJ)return Bo;UJ=1;var t=Bo&&Bo.__awaiter||function(l,u,c,h){function m(y){return y instanceof c?y:new c(function(b){b(y)})}return new(c||(c=Promise))(function(y,b){function E(O){try{M(h.next(O))}catch(P){b(P)}}function A(O){try{M(h.throw(O))}catch(P){b(P)}}function M(O){O.done?y(O.value):m(O.value).then(E,A)}M((h=h.apply(l,u||[])).next())})},e=Bo&&Bo.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.BaseWalletAdapter=Bo.WalletReadyState=Bo.EventEmitter=void 0,Bo.scopePollingDetectionStrategy=o,Bo.isIosAndRedirectable=a;const r=e(Fne());Bo.EventEmitter=r.default;const n=OD();var i;(function(l){l.Installed="Installed",l.NotDetected="NotDetected",l.Loadable="Loadable",l.Unsupported="Unsupported"})(i||(Bo.WalletReadyState=i={}));class s extends r.default{get connected(){return!!this.publicKey}autoConnect(){return t(this,void 0,void 0,function*(){yield this.connect()})}prepareTransaction(u,c){return t(this,arguments,void 0,function*(h,m,y={}){const b=this.publicKey;if(!b)throw new n.WalletNotConnectedError;return h.feePayer=h.feePayer||b,h.recentBlockhash=h.recentBlockhash||(yield m.getLatestBlockhash({commitment:y.preflightCommitment,minContextSlot:y.minContextSlot})).blockhash,h})}}Bo.BaseWalletAdapter=s;function o(l){if(typeof window>"u"||typeof document>"u")return;const u=[];function c(){if(l())for(const y of u)y()}const h=setInterval(c,1e3);u.push(()=>clearInterval(h)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",c,{once:!0}),u.push(()=>document.removeEventListener("DOMContentLoaded",c))),document.readyState!=="complete"&&(window.addEventListener("load",c,{once:!0}),u.push(()=>window.removeEventListener("load",c))),c()}function a(){if(!navigator)return!1;const l=navigator.userAgent.toLowerCase(),u=l.includes("iphone")||l.includes("ipad"),c=l.includes("safari");return u&&c}return Bo}var nl={},Px={},FJ;function gge(){if(FJ)return Px;FJ=1,Object.defineProperty(Px,"__esModule",{value:!0}),Px.isVersionedTransaction=t;function t(e){return"version"in e}return Px}var zJ;function x2t(){if(zJ)return nl;zJ=1;var t=nl&&nl.__awaiter||function(l,u,c,h){function m(y){return y instanceof c?y:new c(function(b){b(y)})}return new(c||(c=Promise))(function(y,b){function E(O){try{M(h.next(O))}catch(P){b(P)}}function A(O){try{M(h.throw(O))}catch(P){b(P)}}function M(O){O.done?y(O.value):m(O.value).then(E,A)}M((h=h.apply(l,u||[])).next())})},e=nl&&nl.__rest||function(l,u){var c={};for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&u.indexOf(h)<0&&(c[h]=l[h]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,h=Object.getOwnPropertySymbols(l);m<h.length;m++)u.indexOf(h[m])<0&&Object.prototype.propertyIsEnumerable.call(l,h[m])&&(c[h[m]]=l[h[m]]);return c};Object.defineProperty(nl,"__esModule",{value:!0}),nl.BaseSignInMessageSignerWalletAdapter=nl.BaseMessageSignerWalletAdapter=nl.BaseSignerWalletAdapter=void 0;const r=pge(),n=OD(),i=gge();class s extends r.BaseWalletAdapter{sendTransaction(u,c){return t(this,arguments,void 0,function*(h,m,y={}){let b=!0;try{if((0,i.isVersionedTransaction)(h)){if(!this.supportedTransactionVersions)throw new n.WalletSendTransactionError("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(h.version))throw new n.WalletSendTransactionError(`Sending transaction version ${h.version} isn't supported by this wallet`);try{h=yield this.signTransaction(h);const E=h.serialize();return yield m.sendRawTransaction(E,y)}catch(E){throw E instanceof n.WalletSignTransactionError?(b=!1,E):new n.WalletSendTransactionError(E?.message,E)}}else try{const{signers:E}=y,A=e(y,["signers"]);h=yield this.prepareTransaction(h,m,A),E?.length&&h.partialSign(...E),h=yield this.signTransaction(h);const M=h.serialize();return yield m.sendRawTransaction(M,A)}catch(E){throw E instanceof n.WalletSignTransactionError?(b=!1,E):new n.WalletSendTransactionError(E?.message,E)}}catch(E){throw b&&this.emit("error",E),E}})}signAllTransactions(u){return t(this,void 0,void 0,function*(){for(const h of u)if((0,i.isVersionedTransaction)(h)){if(!this.supportedTransactionVersions)throw new n.WalletSignTransactionError("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(h.version))throw new n.WalletSignTransactionError(`Signing transaction version ${h.version} isn't supported by this wallet`)}const c=[];for(const h of u)c.push(yield this.signTransaction(h));return c})}}nl.BaseSignerWalletAdapter=s;class o extends s{}nl.BaseMessageSignerWalletAdapter=o;class a extends o{}return nl.BaseSignInMessageSignerWalletAdapter=a,nl}var Nx={},Up={},jv={},WJ;function E2t(){return WJ||(WJ=1,Object.defineProperty(jv,"__esModule",{value:!0}),jv.SolanaSignAndSendTransaction=void 0,jv.SolanaSignAndSendTransaction="solana:signAndSendTransaction"),jv}var Lv={},qJ;function _2t(){return qJ||(qJ=1,Object.defineProperty(Lv,"__esModule",{value:!0}),Lv.SolanaSignIn=void 0,Lv.SolanaSignIn="solana:signIn"),Lv}var Dv={},HJ;function A2t(){return HJ||(HJ=1,Object.defineProperty(Dv,"__esModule",{value:!0}),Dv.SolanaSignMessage=void 0,Dv.SolanaSignMessage="solana:signMessage"),Dv}var Bv={},VJ;function S2t(){return VJ||(VJ=1,Object.defineProperty(Bv,"__esModule",{value:!0}),Bv.SolanaSignTransaction=void 0,Bv.SolanaSignTransaction="solana:signTransaction"),Bv}var Uv={},KJ;function C2t(){return KJ||(KJ=1,Object.defineProperty(Uv,"__esModule",{value:!0}),Uv.SignAndSendAllTransactions=void 0,Uv.SignAndSendAllTransactions="solana:signAndSendAllTransactions"),Uv}var GJ;function jD(){return GJ||(GJ=1,(function(t){var e=Up&&Up.__createBinding||(Object.create?(function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}):(function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]})),r=Up&&Up.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(E2t(),t),r(_2t(),t),r(A2t(),t),r(S2t(),t),r(C2t(),t)})(Up)),Up}var Fp={},FT={},YJ;function k2t(){return YJ||(YJ=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Connect=t.StandardConnect=void 0,t.StandardConnect="standard:connect",t.Connect=t.StandardConnect})(FT)),FT}var zT={},ZJ;function I2t(){return ZJ||(ZJ=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Disconnect=t.StandardDisconnect=void 0,t.StandardDisconnect="standard:disconnect",t.Disconnect=t.StandardDisconnect})(zT)),zT}var WT={},QJ;function T2t(){return QJ||(QJ=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Events=t.StandardEvents=void 0,t.StandardEvents="standard:events",t.Events=t.StandardEvents})(WT)),WT}var JJ;function mge(){return JJ||(JJ=1,(function(t){var e=Fp&&Fp.__createBinding||(Object.create?(function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}):(function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]})),r=Fp&&Fp.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(k2t(),t),r(I2t(),t),r(T2t(),t)})(Fp)),Fp}var XJ;function $2t(){if(XJ)return Nx;XJ=1,Object.defineProperty(Nx,"__esModule",{value:!0}),Nx.isWalletAdapterCompatibleStandardWallet=r;const t=jD(),e=mge();function r(n){return e.StandardConnect in n.features&&e.StandardEvents in n.features&&(t.SolanaSignAndSendTransaction in n.features||t.SolanaSignTransaction in n.features)}return Nx}var Fv={},eX;function M2t(){if(eX)return Fv;eX=1,Object.defineProperty(Fv,"__esModule",{value:!0}),Fv.WalletAdapterNetwork=void 0;var t;return(function(e){e.Mainnet="mainnet-beta",e.Testnet="testnet",e.Devnet="devnet"})(t||(Fv.WalletAdapterNetwork=t={})),Fv}var tX;function P2t(){return tX||(tX=1,(function(t){var e=Bp&&Bp.__createBinding||(Object.create?(function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}):(function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]})),r=Bp&&Bp.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(pge(),t),r(OD(),t),r(x2t(),t),r($2t(),t),r(gge(),t),r(M2t(),t)})(Bp)),Bp}const N2t=rm(Wwt);var Lc={},Y1={},qT,rX;function R2t(){return rX||(rX=1,qT=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),qT}var HT={},e0={},nX;function Nm(){if(nX)return e0;nX=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return e0.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17},e0.getSymbolTotalCodewords=function(n){return e[n]},e0.getBCHDigit=function(r){let n=0;for(;r!==0;)n++,r>>>=1;return n},e0.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');t=n},e0.isKanjiModeEnabled=function(){return typeof t<"u"},e0.toSJIS=function(n){return t(n)},e0}var VT={},iX;function LD(){return iX||(iX=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,i){if(t.isValid(n))return n;try{return e(n)}catch{return i}}})(VT)),VT}var KT,sX;function O2t(){if(sX)return KT;sX=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const r=Math.floor(e/8);return(this.buffer[r]>>>7-e%8&1)===1},put:function(e,r){for(let n=0;n<r;n++)this.putBit((e>>>r-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),e&&(this.buffer[r]|=128>>>this.length%8),this.length++}},KT=t,KT}var GT,oX;function j2t(){if(oX)return GT;oX=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,r,n,i){const s=e*this.size+r;this.data[s]=n,i&&(this.reservedBit[s]=!0)},t.prototype.get=function(e,r){return this.data[e*this.size+r]},t.prototype.xor=function(e,r,n){this.data[e*this.size+r]^=n},t.prototype.isReserved=function(e,r){return this.reservedBit[e*this.size+r]},GT=t,GT}var YT={},aX;function L2t(){return aX||(aX=1,(function(t){const e=Nm().getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,s=e(n),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},t.getPositions=function(n){const i=[],s=t.getRowColCoords(n),o=s.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||i.push([s[a],s[l]]);return i}})(YT)),YT}var ZT={},lX;function D2t(){if(lX)return ZT;lX=1;const t=Nm().getSymbolSize,e=7;return ZT.getPositions=function(n){const i=t(n);return[[0,0],[i-e,0],[0,i-e]]},ZT}var QT={},cX;function B2t(){return cX||(cX=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,l=0,u=null,c=null;for(let h=0;h<s;h++){a=l=0,u=c=null;for(let m=0;m<s;m++){let y=i.get(h,m);y===u?a++:(a>=5&&(o+=e.N1+(a-5)),u=y,a=1),y=i.get(m,h),y===c?l++:(l>=5&&(o+=e.N1+(l-5)),c=y,l=1)}a>=5&&(o+=e.N1+(a-5)),l>=5&&(o+=e.N1+(l-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let l=0;l<s-1;l++){const u=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(u===4||u===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,l=0;for(let u=0;u<s;u++){a=l=0;for(let c=0;c<s;c++)a=a<<1&2047|i.get(u,c),c>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|i.get(c,u),c>=10&&(l===1488||l===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let l=0;l<o;l++)s+=i.data[l];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function r(n,i,s){switch(n){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)s.isReserved(l,a)||s.xor(l,a,r(i,l,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let u=0;u<o;u++){s(u),t.applyMask(u,i);const c=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(u,i),c<l&&(l=c,a=u)}return a}})(QT)),QT}var Rx={},uX;function yge(){if(uX)return Rx;uX=1;const t=LD(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],r=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Rx.getBlocksCount=function(i,s){switch(s){case t.L:return e[(i-1)*4+0];case t.M:return e[(i-1)*4+1];case t.Q:return e[(i-1)*4+2];case t.H:return e[(i-1)*4+3];default:return}},Rx.getTotalCodewordsCount=function(i,s){switch(s){case t.L:return r[(i-1)*4+0];case t.M:return r[(i-1)*4+1];case t.Q:return r[(i-1)*4+2];case t.H:return r[(i-1)*4+3];default:return}},Rx}var JT={},zv={},dX;function U2t(){if(dX)return zv;dX=1;const t=new Uint8Array(512),e=new Uint8Array(256);return(function(){let n=1;for(let i=0;i<255;i++)t[i]=n,e[n]=i,n<<=1,n&256&&(n^=285);for(let i=255;i<512;i++)t[i]=t[i-255]})(),zv.log=function(n){if(n<1)throw new Error("log("+n+")");return e[n]},zv.exp=function(n){return t[n]},zv.mul=function(n,i){return n===0||i===0?0:t[e[n]+e[i]]},zv}var hX;function F2t(){return hX||(hX=1,(function(t){const e=U2t();t.mul=function(n,i){const s=new Uint8Array(n.length+i.length-1);for(let o=0;o<n.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(n[o],i[a]);return s},t.mod=function(n,i){let s=new Uint8Array(n);for(;s.length-i.length>=0;){const o=s[0];for(let l=0;l<i.length;l++)s[l]^=e.mul(i[l],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let s=0;s<n;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(JT)),JT}var XT,fX;function z2t(){if(fX)return XT;fX=1;const t=F2t();function e(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(n){this.degree=n,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(n.length+this.degree);i.set(n);const s=t.mod(i,this.genPoly),o=this.degree-s.length;if(o>0){const a=new Uint8Array(this.degree);return a.set(s,o),a}return s},XT=e,XT}var e$={},t$={},r$={},pX;function wge(){return pX||(pX=1,r$.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),r$}var ed={},gX;function vge(){if(gX)return ed;gX=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";r=r.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+r+`)(?:.|[\r
]))+`;ed.KANJI=new RegExp(r,"g"),ed.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),ed.BYTE=new RegExp(n,"g"),ed.NUMERIC=new RegExp(t,"g"),ed.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+r+"$"),s=new RegExp("^"+t+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return ed.testKanji=function(l){return i.test(l)},ed.testNumeric=function(l){return s.test(l)},ed.testAlphanumeric=function(l){return o.test(l)},ed}var mX;function Rm(){return mX||(mX=1,(function(t){const e=wge(),r=vge();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return r.testNumeric(s)?t.NUMERIC:r.testAlphanumeric(s)?t.ALPHANUMERIC:r.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return n(s)}catch{return o}}})(t$)),t$}var yX;function W2t(){return yX||(yX=1,(function(t){const e=Nm(),r=yge(),n=LD(),i=Rm(),s=wge(),o=7973,a=e.getBCHDigit(o);function l(m,y,b){for(let E=1;E<=40;E++)if(y<=t.getCapacity(E,b,m))return E}function u(m,y){return i.getCharCountIndicator(m,y)+4}function c(m,y){let b=0;return m.forEach(function(E){const A=u(E.mode,y);b+=A+E.getBitsLength()}),b}function h(m,y){for(let b=1;b<=40;b++)if(c(m,b)<=t.getCapacity(b,y,i.MIXED))return b}t.from=function(y,b){return s.isValid(y)?parseInt(y,10):b},t.getCapacity=function(y,b,E){if(!s.isValid(y))throw new Error("Invalid QR Code version");typeof E>"u"&&(E=i.BYTE);const A=e.getSymbolTotalCodewords(y),M=r.getTotalCodewordsCount(y,b),O=(A-M)*8;if(E===i.MIXED)return O;const P=O-u(E,y);switch(E){case i.NUMERIC:return Math.floor(P/10*3);case i.ALPHANUMERIC:return Math.floor(P/11*2);case i.KANJI:return Math.floor(P/13);case i.BYTE:default:return Math.floor(P/8)}},t.getBestVersionForData=function(y,b){let E;const A=n.from(b,n.M);if(Array.isArray(y)){if(y.length>1)return h(y,A);if(y.length===0)return 1;E=y[0]}else E=y;return l(E.mode,E.getLength(),A)},t.getEncodedBits=function(y){if(!s.isValid(y)||y<7)throw new Error("Invalid QR Code version");let b=y<<12;for(;e.getBCHDigit(b)-a>=0;)b^=o<<e.getBCHDigit(b)-a;return y<<12|b}})(e$)),e$}var n$={},wX;function q2t(){if(wX)return n$;wX=1;const t=Nm(),e=1335,r=21522,n=t.getBCHDigit(e);return n$.getEncodedBits=function(s,o){const a=s.bit<<3|o;let l=a<<10;for(;t.getBCHDigit(l)-n>=0;)l^=e<<t.getBCHDigit(l)-n;return(a<<10|l)^r},n$}var i$={},s$,vX;function H2t(){if(vX)return s$;vX=1;const t=Rm();function e(r){this.mode=t.NUMERIC,this.data=r.toString()}return e.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){let i,s,o;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),o=parseInt(s,10),n.put(o,10);const a=this.data.length-i;a>0&&(s=this.data.substr(i),o=parseInt(s,10),n.put(o,a*3+1))},s$=e,s$}var o$,bX;function V2t(){if(bX)return o$;bX=1;const t=Rm(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function r(n){this.mode=t.ALPHANUMERIC,this.data=n}return r.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let o=e.indexOf(this.data[s])*45;o+=e.indexOf(this.data[s+1]),i.put(o,11)}this.data.length%2&&i.put(e.indexOf(this.data[s]),6)},o$=r,o$}var a$,xX;function K2t(){if(xX)return a$;xX=1;const t=Rm();function e(r){this.mode=t.BYTE,typeof r=="string"?this.data=new TextEncoder().encode(r):this.data=new Uint8Array(r)}return e.getBitsLength=function(n){return n*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){for(let n=0,i=this.data.length;n<i;n++)r.put(this.data[n],8)},a$=e,a$}var l$,EX;function G2t(){if(EX)return l$;EX=1;const t=Rm(),e=Nm();function r(n){this.mode=t.KANJI,this.data=n}return r.getBitsLength=function(i){return i*13},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(n){let i;for(i=0;i<this.data.length;i++){let s=e.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),n.put(s,13)}},l$=r,l$}var _X;function Y2t(){return _X||(_X=1,(function(t){const e=Rm(),r=H2t(),n=V2t(),i=K2t(),s=G2t(),o=vge(),a=Nm(),l=ahe();function u(M){return unescape(encodeURIComponent(M)).length}function c(M,O,P){const z=[];let L;for(;(L=M.exec(P))!==null;)z.push({data:L[0],index:L.index,mode:O,length:L[0].length});return z}function h(M){const O=c(o.NUMERIC,e.NUMERIC,M),P=c(o.ALPHANUMERIC,e.ALPHANUMERIC,M);let z,L;return a.isKanjiModeEnabled()?(z=c(o.BYTE,e.BYTE,M),L=c(o.KANJI,e.KANJI,M)):(z=c(o.BYTE_KANJI,e.BYTE,M),L=[]),O.concat(P,z,L).sort(function(H,G){return H.index-G.index}).map(function(H){return{data:H.data,mode:H.mode,length:H.length}})}function m(M,O){switch(O){case e.NUMERIC:return r.getBitsLength(M);case e.ALPHANUMERIC:return n.getBitsLength(M);case e.KANJI:return s.getBitsLength(M);case e.BYTE:return i.getBitsLength(M)}}function y(M){return M.reduce(function(O,P){const z=O.length-1>=0?O[O.length-1]:null;return z&&z.mode===P.mode?(O[O.length-1].data+=P.data,O):(O.push(P),O)},[])}function b(M){const O=[];for(let P=0;P<M.length;P++){const z=M[P];switch(z.mode){case e.NUMERIC:O.push([z,{data:z.data,mode:e.ALPHANUMERIC,length:z.length},{data:z.data,mode:e.BYTE,length:z.length}]);break;case e.ALPHANUMERIC:O.push([z,{data:z.data,mode:e.BYTE,length:z.length}]);break;case e.KANJI:O.push([z,{data:z.data,mode:e.BYTE,length:u(z.data)}]);break;case e.BYTE:O.push([{data:z.data,mode:e.BYTE,length:u(z.data)}])}}return O}function E(M,O){const P={},z={start:{}};let L=["start"];for(let W=0;W<M.length;W++){const H=M[W],G=[];for(let N=0;N<H.length;N++){const F=H[N],U=""+W+N;G.push(U),P[U]={node:F,lastCount:0},z[U]={};for(let j=0;j<L.length;j++){const _=L[j];P[_]&&P[_].node.mode===F.mode?(z[_][U]=m(P[_].lastCount+F.length,F.mode)-m(P[_].lastCount,F.mode),P[_].lastCount+=F.length):(P[_]&&(P[_].lastCount=F.length),z[_][U]=m(F.length,F.mode)+4+e.getCharCountIndicator(F.mode,O))}}L=G}for(let W=0;W<L.length;W++)z[L[W]].end=0;return{map:z,table:P}}function A(M,O){let P;const z=e.getBestModeForData(M);if(P=e.from(O,z),P!==e.BYTE&&P.bit<z.bit)throw new Error('"'+M+'" cannot be encoded with mode '+e.toString(P)+`.
 Suggested mode is: `+e.toString(z));switch(P===e.KANJI&&!a.isKanjiModeEnabled()&&(P=e.BYTE),P){case e.NUMERIC:return new r(M);case e.ALPHANUMERIC:return new n(M);case e.KANJI:return new s(M);case e.BYTE:return new i(M)}}t.fromArray=function(O){return O.reduce(function(P,z){return typeof z=="string"?P.push(A(z,null)):z.data&&P.push(A(z.data,z.mode)),P},[])},t.fromString=function(O,P){const z=h(O,a.isKanjiModeEnabled()),L=b(z),W=E(L,P),H=l.find_path(W.map,"start","end"),G=[];for(let N=1;N<H.length-1;N++)G.push(W.table[H[N]].node);return t.fromArray(y(G))},t.rawSplit=function(O){return t.fromArray(h(O,a.isKanjiModeEnabled()))}})(i$)),i$}var AX;function Z2t(){if(AX)return HT;AX=1;const t=Nm(),e=LD(),r=O2t(),n=j2t(),i=L2t(),s=D2t(),o=B2t(),a=yge(),l=z2t(),u=W2t(),c=q2t(),h=Rm(),m=Y2t();function y(W,H){const G=W.size,N=s.getPositions(H);for(let F=0;F<N.length;F++){const U=N[F][0],j=N[F][1];for(let _=-1;_<=7;_++)if(!(U+_<=-1||G<=U+_))for(let d=-1;d<=7;d++)j+d<=-1||G<=j+d||(_>=0&&_<=6&&(d===0||d===6)||d>=0&&d<=6&&(_===0||_===6)||_>=2&&_<=4&&d>=2&&d<=4?W.set(U+_,j+d,!0,!0):W.set(U+_,j+d,!1,!0))}}function b(W){const H=W.size;for(let G=8;G<H-8;G++){const N=G%2===0;W.set(G,6,N,!0),W.set(6,G,N,!0)}}function E(W,H){const G=i.getPositions(H);for(let N=0;N<G.length;N++){const F=G[N][0],U=G[N][1];for(let j=-2;j<=2;j++)for(let _=-2;_<=2;_++)j===-2||j===2||_===-2||_===2||j===0&&_===0?W.set(F+j,U+_,!0,!0):W.set(F+j,U+_,!1,!0)}}function A(W,H){const G=W.size,N=u.getEncodedBits(H);let F,U,j;for(let _=0;_<18;_++)F=Math.floor(_/3),U=_%3+G-8-3,j=(N>>_&1)===1,W.set(F,U,j,!0),W.set(U,F,j,!0)}function M(W,H,G){const N=W.size,F=c.getEncodedBits(H,G);let U,j;for(U=0;U<15;U++)j=(F>>U&1)===1,U<6?W.set(U,8,j,!0):U<8?W.set(U+1,8,j,!0):W.set(N-15+U,8,j,!0),U<8?W.set(8,N-U-1,j,!0):U<9?W.set(8,15-U-1+1,j,!0):W.set(8,15-U-1,j,!0);W.set(N-8,8,1,!0)}function O(W,H){const G=W.size;let N=-1,F=G-1,U=7,j=0;for(let _=G-1;_>0;_-=2)for(_===6&&_--;;){for(let d=0;d<2;d++)if(!W.isReserved(F,_-d)){let g=!1;j<H.length&&(g=(H[j]>>>U&1)===1),W.set(F,_-d,g),U--,U===-1&&(j++,U=7)}if(F+=N,F<0||G<=F){F-=N,N=-N;break}}}function P(W,H,G){const N=new r;G.forEach(function(d){N.put(d.mode.bit,4),N.put(d.getLength(),h.getCharCountIndicator(d.mode,W)),d.write(N)});const F=t.getSymbolTotalCodewords(W),U=a.getTotalCodewordsCount(W,H),j=(F-U)*8;for(N.getLengthInBits()+4<=j&&N.put(0,4);N.getLengthInBits()%8!==0;)N.putBit(0);const _=(j-N.getLengthInBits())/8;for(let d=0;d<_;d++)N.put(d%2?17:236,8);return z(N,W,H)}function z(W,H,G){const N=t.getSymbolTotalCodewords(H),F=a.getTotalCodewordsCount(H,G),U=N-F,j=a.getBlocksCount(H,G),_=N%j,d=j-_,g=Math.floor(N/j),x=Math.floor(U/j),C=x+1,k=g-x,T=new l(k);let R=0;const I=new Array(j),f=new Array(j);let S=0;const K=new Uint8Array(W.buffer);for(let ce=0;ce<j;ce++){const Se=ce<d?x:C;I[ce]=K.slice(R,R+Se),f[ce]=T.encode(I[ce]),R+=Se,S=Math.max(S,Se)}const D=new Uint8Array(N);let J=0,ne,ie;for(ne=0;ne<S;ne++)for(ie=0;ie<j;ie++)ne<I[ie].length&&(D[J++]=I[ie][ne]);for(ne=0;ne<k;ne++)for(ie=0;ie<j;ie++)D[J++]=f[ie][ne];return D}function L(W,H,G,N){let F;if(Array.isArray(W))F=m.fromArray(W);else if(typeof W=="string"){let g=H;if(!g){const x=m.rawSplit(W);g=u.getBestVersionForData(x,G)}F=m.fromString(W,g||40)}else throw new Error("Invalid data");const U=u.getBestVersionForData(F,G);if(!U)throw new Error("The amount of data is too big to be stored in a QR Code");if(!H)H=U;else if(H<U)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+U+`.
`);const j=P(H,G,F),_=t.getSymbolSize(H),d=new n(_);return y(d,H),b(d),E(d,H),M(d,G,0),H>=7&&A(d,H),O(d,j),isNaN(N)&&(N=o.getBestMask(d,M.bind(null,d,G))),o.applyMask(N,d),M(d,G,N),{modules:d,version:H,errorCorrectionLevel:G,maskPattern:N,segments:F}}return HT.create=function(H,G){if(typeof H>"u"||H==="")throw new Error("No input text");let N=e.M,F,U;return typeof G<"u"&&(N=e.from(G.errorCorrectionLevel,e.M),F=u.from(G.version),U=o.from(G.maskPattern),G.toSJISFunc&&t.setToSJISFunction(G.toSJISFunc)),L(H,F,N,U)},HT}var c$={},u$={},SX;function bge(){return SX||(SX=1,(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(s){return[s,s]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,s=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},t.getImageWidth=function(n,i){const s=t.getScale(n,i);return Math.floor((n+i.margin*2)*s)},t.qrToImageData=function(n,i,s){const o=i.modules.size,a=i.modules.data,l=t.getScale(o,s),u=Math.floor((o+s.margin*2)*l),c=s.margin*l,h=[s.color.light,s.color.dark];for(let m=0;m<u;m++)for(let y=0;y<u;y++){let b=(m*u+y)*4,E=s.color.light;if(m>=c&&y>=c&&m<u-c&&y<u-c){const A=Math.floor((m-c)/l),M=Math.floor((y-c)/l);E=h[a[A*o+M]?1:0]}n[b++]=E.r,n[b++]=E.g,n[b++]=E.b,n[b]=E.a}}})(u$)),u$}var CX;function Q2t(){return CX||(CX=1,(function(t){const e=bge();function r(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let l=a,u=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(u=n()),l=e.getOptions(l);const c=e.getImageWidth(s.modules.size,l),h=u.getContext("2d"),m=h.createImageData(c,c);return e.qrToImageData(m.data,s,l),r(h,u,c),h.putImageData(m,0,0),u},t.renderToDataURL=function(s,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const u=t.render(s,o,l),c=l.type||"image/png",h=l.rendererOpts||{};return u.toDataURL(c,h.quality)}})(c$)),c$}var d$={},kX;function J2t(){if(kX)return d$;kX=1;const t=bge();function e(i,s){const o=i.a/255,a=s+'="'+i.hex+'"';return o<1?a+" "+s+'-opacity="'+o.toFixed(2).slice(1)+'"':a}function r(i,s,o){let a=i+s;return typeof o<"u"&&(a+=" "+o),a}function n(i,s,o){let a="",l=0,u=!1,c=0;for(let h=0;h<i.length;h++){const m=Math.floor(h%s),y=Math.floor(h/s);!m&&!u&&(u=!0),i[h]?(c++,h>0&&m>0&&i[h-1]||(a+=u?r("M",m+o,.5+y+o):r("m",l,0),l=0,u=!1),m+1<s&&i[h+1]||(a+=r("h",c),c=0)):l++}return a}return d$.render=function(s,o,a){const l=t.getOptions(o),u=s.modules.size,c=s.modules.data,h=u+l.margin*2,m=l.color.light.a?"<path "+e(l.color.light,"fill")+' d="M0 0h'+h+"v"+h+'H0z"/>':"",y="<path "+e(l.color.dark,"stroke")+' d="'+n(c,u,l.margin)+'"/>',b='viewBox="0 0 '+h+" "+h+'"',A='<svg xmlns="http://www.w3.org/2000/svg" '+(l.width?'width="'+l.width+'" height="'+l.width+'" ':"")+b+' shape-rendering="crispEdges">'+m+y+`</svg>
`;return typeof a=="function"&&a(null,A),A},d$}var IX;function X2t(){if(IX)return Y1;IX=1;const t=R2t(),e=Z2t(),r=Q2t(),n=J2t();function i(s,o,a,l,u){const c=[].slice.call(arguments,1),h=c.length,m=typeof c[h-1]=="function";if(!m&&!t())throw new Error("Callback required as last argument");if(m){if(h<2)throw new Error("Too few arguments provided");h===2?(u=a,a=o,o=l=void 0):h===3&&(o.getContext&&typeof u>"u"?(u=l,l=void 0):(u=l,l=a,a=o,o=void 0))}else{if(h<1)throw new Error("Too few arguments provided");return h===1?(a=o,o=l=void 0):h===2&&!o.getContext&&(l=a,a=o,o=void 0),new Promise(function(y,b){try{const E=e.create(a,l);y(s(E,o,l))}catch(E){b(E)}})}try{const y=e.create(a,l);u(null,s(y,o,l))}catch(y){u(y)}}return Y1.create=e.create,Y1.toCanvas=i.bind(null,r.render),Y1.toDataURL=i.bind(null,r.renderToDataURL),Y1.toString=i.bind(null,function(s,o,a){return n.render(s,a)}),Y1}const El={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_REFLECTOR_ID_OUT_OF_RANGE:"ERROR_REFLECTOR_ID_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION",ERROR_BROWSER_NOT_SUPPORTED:"ERROR_BROWSER_NOT_SUPPORTED"};class _l extends Error{constructor(...e){const[r,n,i]=e;super(n),this.code=r,this.data=i,this.name="SolanaMobileWalletAdapterError"}}const evt={ERROR_AUTHORIZATION_FAILED:-1,ERROR_INVALID_PAYLOADS:-2,ERROR_NOT_SIGNED:-3,ERROR_NOT_SUBMITTED:-4,ERROR_TOO_MANY_PAYLOADS:-5,ERROR_ATTEST_ORIGIN_ANDROID:-100};class GA extends Error{constructor(...e){const[r,n,i,s]=e;super(i),this.code=n,this.data=s,this.jsonRpcMessageId=r,this.name="SolanaMobileWalletAdapterProtocolError"}}function Ln(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(t,[])).next())})}function tvt(t){return window.btoa(t)}function yR(t,e){const r=window.btoa(String.fromCharCode.call(null,...t));return e?r.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):r}function rvt(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}function P8(t,e){return Ln(this,void 0,void 0,function*(){const r=yield crypto.subtle.exportKey("raw",t),n=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,r),i=new Uint8Array(r.byteLength+n.byteLength);return i.set(new Uint8Array(r),0),i.set(new Uint8Array(n),r.byteLength),i})}function nvt(t){return age(t)}function ivt(t){return tvt(nvt(t))}const xge="solana:signTransactions",wR="solana:cloneAuthorization",svt="solana:signInWithSolana";function Ege(t,e){return new Proxy({},{get(r,n){return n==="then"?null:(r[n]==null&&(r[n]=function(i){return Ln(this,void 0,void 0,function*(){const{method:s,params:o}=ovt(n,i,t),a=yield e(s,o);return s==="authorize"&&o.sign_in_payload&&!a.sign_in_result&&(a.sign_in_result=yield lvt(o.sign_in_payload,a,e)),avt(n,a,t)})}),r[n])},defineProperty(){return!1},deleteProperty(){return!1}})}function ovt(t,e,r){let n=e,i=t.toString().replace(/[A-Z]/g,s=>`_${s.toLowerCase()}`).toLowerCase();switch(t){case"authorize":{let{chain:s}=n;if(r==="legacy"){switch(s){case"solana:testnet":{s="testnet";break}case"solana:devnet":{s="devnet";break}case"solana:mainnet":{s="mainnet-beta";break}default:s=n.cluster}n.cluster=s}else{switch(s){case"testnet":case"devnet":{s=`solana:${s}`;break}case"mainnet-beta":{s="solana:mainnet";break}}n.chain=s}}case"reauthorize":{const{auth_token:s,identity:o}=n;if(s)switch(r){case"legacy":{i="reauthorize",n={auth_token:s,identity:o};break}default:{i="authorize";break}}break}}return{method:i,params:n}}function avt(t,e,r){switch(t){case"getCapabilities":{const n=e;switch(r){case"legacy":{const i=[xge];return n.supports_clone_authorization===!0&&i.push(wR),Object.assign(Object.assign({},n),{features:i})}case"v1":return Object.assign(Object.assign({},n),{supports_sign_and_send_transactions:!0,supports_clone_authorization:n.features.includes(wR)})}}}return e}function lvt(t,e,r){var n;return Ln(this,void 0,void 0,function*(){const i=(n=t.domain)!==null&&n!==void 0?n:window.location.host,s=e.accounts[0].address,o=ivt(Object.assign(Object.assign({},t),{domain:i,address:s})),a=yield r("sign_messages",{addresses:[s],payloads:[o]});return{address:s,signed_message:o,signature:a.signed_payloads[0].slice(o.length)}})}const Th=4;function cvt(t){if(t>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(Th);return new DataView(e).setUint32(0,t,!1),new Uint8Array(e)}const vR=12,DD=65;function uvt(t,e,r){return Ln(this,void 0,void 0,function*(){const n=cvt(e),i=new Uint8Array(vR);crypto.getRandomValues(i);const s=yield crypto.subtle.encrypt(Age(n,i),r,new TextEncoder().encode(t)),o=new Uint8Array(n.byteLength+i.byteLength+s.byteLength);return o.set(new Uint8Array(n),0),o.set(new Uint8Array(i),n.byteLength),o.set(new Uint8Array(s),n.byteLength+i.byteLength),o})}function _ge(t,e){return Ln(this,void 0,void 0,function*(){const r=t.slice(0,Th),n=t.slice(Th,Th+vR),i=t.slice(Th+vR),s=yield crypto.subtle.decrypt(Age(r,n),e,i);return dvt().decode(s)})}function Age(t,e){return{additionalData:t,iv:e,name:"AES-GCM",tagLength:128}}let h$;function dvt(){return h$===void 0&&(h$=new TextDecoder("utf-8")),h$}function Sge(){return Ln(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function N8(){return Ln(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function Cge(t){let e="";const r=new Uint8Array(t),n=r.byteLength;for(let i=0;i<n;i++)e+=String.fromCharCode(r[i]);return window.btoa(e)}function hvt(){return kge(49152+Math.floor(Math.random()*16384))}function kge(t){if(t<49152||t>65535)throw new _l(El.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${t} given.`,{port:t});return t}function Ige(t){return t.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}const fvt="solana-wallet";function TX(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function Tge(t,e){let r=null;if(e){try{r=new URL(e)}catch{}if(r?.protocol!=="https:")throw new _l(El.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}r||(r=new URL(`${fvt}:/`));const n=t.startsWith("/")?t:[...TX(r.pathname),...TX(t)].join("/");return new URL(n,r)}function pvt(t,e,r,n=["v1"]){return Ln(this,void 0,void 0,function*(){const i=kge(e),s=yield crypto.subtle.exportKey("raw",t),o=Cge(s),a=Tge("v1/associate/local",r);return a.searchParams.set("association",Ige(o)),a.searchParams.set("port",`${i}`),n.forEach(l=>{a.searchParams.set("v",l)}),a})}function gvt(t,e,r,n,i=["v1"]){return Ln(this,void 0,void 0,function*(){const s=yield crypto.subtle.exportKey("raw",t),o=Cge(s),a=Tge("v1/associate/remote",n);return a.searchParams.set("association",Ige(o)),a.searchParams.set("reflector",`${e}`),a.searchParams.set("id",`${yR(r,!0)}`),i.forEach(l=>{a.searchParams.set("v",l)}),a})}function $ge(t,e){return Ln(this,void 0,void 0,function*(){const r=JSON.stringify(t),n=t.id;return uvt(r,n,e)})}function Mge(t,e){return Ln(this,void 0,void 0,function*(){const r=yield _ge(t,e),n=JSON.parse(r);if(Object.hasOwnProperty.call(n,"error"))throw new GA(n.id,n.error.code,n.error.message);return n})}function Pge(t,e,r){return Ln(this,void 0,void 0,function*(){const[n,i]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",t.slice(0,DD),{name:"ECDH",namedCurve:"P-256"},!1,[])]),s=yield crypto.subtle.deriveBits({name:"ECDH",public:i},r,256),o=yield crypto.subtle.importKey("raw",s,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(n),info:new Uint8Array},o,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function Nge(t,e){return Ln(this,void 0,void 0,function*(){const r=yield _ge(t,e),n=JSON.parse(r);let i="legacy";if(Object.hasOwnProperty.call(n,"v"))switch(n.v){case 1:case"1":case"v1":i="v1";break;case"legacy":i="legacy";break;default:throw new _l(El.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${n.v}`)}return{protocol_version:i}})}const d_={Firefox:0,Other:1};function mvt(){return navigator.userAgent.indexOf("Firefox/")!==-1?d_.Firefox:d_.Other}function yvt(){return new Promise((t,e)=>{function r(){clearTimeout(i),window.removeEventListener("blur",n)}function n(){r(),t()}window.addEventListener("blur",n);const i=setTimeout(()=>{r(),e()},3e3)})}let Wv=null;function wvt(t){Wv==null&&(Wv=document.createElement("iframe"),Wv.style.display="none",document.body.appendChild(Wv)),Wv.contentWindow.location.href=t.toString()}function vvt(t){return Ln(this,void 0,void 0,function*(){if(t.protocol==="https:")window.location.assign(t);else try{const e=mvt();switch(e){case d_.Firefox:wvt(t);break;case d_.Other:{const r=yvt();window.location.assign(t),yield r;break}default:}}catch{throw new _l(El.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function bvt(t,e){return Ln(this,void 0,void 0,function*(){const r=hvt(),n=yield pvt(t,r,e);return yield vvt(n),r})}const h_={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},Rge="com.solana.mobilewalletadapter.v1",$X="com.solana.mobilewalletadapter.v1.base64";function Oge(){if(typeof window>"u"||window.isSecureContext!==!0)throw new _l(El.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function jge(t){let e;try{e=new URL(t)}catch{throw new _l(El.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new _l(El.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function f_(t){return new DataView(t).getUint32(0,!1)}function xvt(t){var e=new Uint8Array(t),r=t.byteLength,n=10,i=0,s=0,o;do{if(s>=r||s>n)throw new RangeError("Failed to decode varint");o=e[s++],i|=(o&127)<<7*s}while(o>=128);return{value:i,offset:s}}function Evt(t){let{value:e,offset:r}=xvt(t);return new Uint8Array(t.slice(r,r+e))}function _vt(t,e){return Ln(this,void 0,void 0,function*(){Oge();const r=yield Sge(),i=`ws://localhost:${yield bvt(r.publicKey,e?.baseUri)}/solana-wallet`;let s;const o=(()=>{const c=[...h_.retryDelayScheduleMs];return()=>c.length>1?c.shift():c[0]})();let a=1,l=0,u={__type:"disconnected"};return new Promise((c,h)=>{let m;const y={},b=()=>Ln(this,void 0,void 0,function*(){if(u.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${u.__type}\`.`);return}m.removeEventListener("open",b);const{associationKeypair:L}=u,W=yield N8();m.send(yield P8(W.publicKey,L.privateKey)),u={__type:"hello_req_sent",associationPublicKey:L.publicKey,ecdhPrivateKey:W.privateKey}}),E=L=>{L.wasClean?u={__type:"disconnected"}:h(new _l(El.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${L.code}: ${L.reason}).`,{closeEvent:L})),O()},A=L=>Ln(this,void 0,void 0,function*(){O(),Date.now()-s>=h_.timeoutMs?h(new _l(El.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${i}.`)):(yield new Promise(W=>{const H=o();P=window.setTimeout(W,H)}),z())}),M=L=>Ln(this,void 0,void 0,function*(){const W=yield L.data.arrayBuffer();switch(u.__type){case"connecting":if(W.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const H=yield N8();m.send(yield P8(H.publicKey,r.privateKey)),u={__type:"hello_req_sent",associationPublicKey:r.publicKey,ecdhPrivateKey:H.privateKey};break;case"connected":try{const G=W.slice(0,Th),N=f_(G);if(N!==l+1)throw new Error("Encrypted message has invalid sequence number");l=N;const F=yield Mge(W,u.sharedSecret),U=y[F.id];delete y[F.id],U.resolve(F.result)}catch(G){if(G instanceof GA){const N=y[G.jsonRpcMessageId];delete y[G.jsonRpcMessageId],N.reject(G)}else throw G}break;case"hello_req_sent":{if(W.byteLength===0){const j=yield N8();m.send(yield P8(j.publicKey,r.privateKey)),u={__type:"hello_req_sent",associationPublicKey:r.publicKey,ecdhPrivateKey:j.privateKey};break}const G=yield Pge(W,u.associationPublicKey,u.ecdhPrivateKey),N=W.slice(DD),F=N.byteLength!==0?yield Ln(this,void 0,void 0,function*(){const j=N.slice(0,Th),_=f_(j);if(_!==l+1)throw new Error("Encrypted message has invalid sequence number");return l=_,Nge(N,G)}):{protocol_version:"legacy"};u={__type:"connected",sharedSecret:G,sessionProperties:F};const U=Ege(F.protocol_version,(j,_)=>Ln(this,void 0,void 0,function*(){const d=a++;return m.send(yield $ge({id:d,jsonrpc:"2.0",method:j,params:_??{}},G)),new Promise((g,x)=>{y[d]={resolve(C){switch(j){case"authorize":case"reauthorize":{const{wallet_uri_base:k}=C;if(k!=null)try{jge(k)}catch(T){x(T);return}break}}g(C)},reject:x}})}));try{c(yield t(U))}catch(j){h(j)}finally{O(),m.close()}break}}});let O,P;const z=()=>{O&&O(),u={__type:"connecting",associationKeypair:r},s===void 0&&(s=Date.now()),m=new WebSocket(i,[Rge]),m.addEventListener("open",b),m.addEventListener("close",E),m.addEventListener("error",A),m.addEventListener("message",M),O=()=>{window.clearTimeout(P),m.removeEventListener("open",b),m.removeEventListener("close",E),m.removeEventListener("error",A),m.removeEventListener("message",M)}};z()})})}function Avt(t){return Ln(this,void 0,void 0,function*(){Oge();const e=yield Sge(),r=`wss://${t?.remoteHostAuthority}/reflect`;let n;const i=(()=>{const E=[...h_.retryDelayScheduleMs];return()=>E.length>1?E.shift():E[0]})();let s=1,o=0,a,l={__type:"disconnected"},u,c,h=E=>Ln(this,void 0,void 0,function*(){if(a=="base64"){const A=yield E.data;return rvt(A).buffer}else return yield E.data.arrayBuffer()});const m=yield new Promise((E,A)=>{const M=()=>Ln(this,void 0,void 0,function*(){if(l.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${l.__type}\`.`);return}u.protocol.includes($X)?a="base64":a="binary",u.removeEventListener("open",M)}),O=H=>{H.wasClean?l={__type:"disconnected"}:A(new _l(El.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${H.code}: ${H.reason}).`,{closeEvent:H})),c()},P=H=>Ln(this,void 0,void 0,function*(){c(),Date.now()-n>=h_.timeoutMs?A(new _l(El.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${r}.`)):(yield new Promise(G=>{const N=i();L=window.setTimeout(G,N)}),W())}),z=H=>Ln(this,void 0,void 0,function*(){const G=yield h(H);if(l.__type==="connecting"){if(G.byteLength==0)throw new Error("Encountered unexpected message while connecting");const N=Evt(G);l={__type:"reflector_id_received",reflectorId:N};const F=yield gvt(e.publicKey,t.remoteHostAuthority,N,t?.baseUri);u.removeEventListener("message",z),E(F)}});let L;const W=()=>{c&&c(),l={__type:"connecting",associationKeypair:e},n===void 0&&(n=Date.now()),u=new WebSocket(r,[Rge,$X]),u.addEventListener("open",M),u.addEventListener("close",O),u.addEventListener("error",P),u.addEventListener("message",z),c=()=>{window.clearTimeout(L),u.removeEventListener("open",M),u.removeEventListener("close",O),u.removeEventListener("error",P),u.removeEventListener("message",z)}};W()});let y=!1,b;return{associationUrl:m,close:()=>{u.close(),b()},wallet:new Promise((E,A)=>{const M={},O=P=>Ln(this,void 0,void 0,function*(){const z=yield h(P);switch(l.__type){case"reflector_id_received":if(z.byteLength!==0)throw new Error("Encountered unexpected message while awaiting reflection");const L=yield N8(),W=yield P8(L.publicKey,e.privateKey);a=="base64"?u.send(yR(W)):u.send(W),l={__type:"hello_req_sent",associationPublicKey:e.publicKey,ecdhPrivateKey:L.privateKey};break;case"connected":try{const H=z.slice(0,Th),G=f_(H);if(G!==o+1)throw new Error("Encrypted message has invalid sequence number");o=G;const N=yield Mge(z,l.sharedSecret),F=M[N.id];delete M[N.id],F.resolve(N.result)}catch(H){if(H instanceof GA){const G=M[H.jsonRpcMessageId];delete M[H.jsonRpcMessageId],G.reject(H)}else throw H}break;case"hello_req_sent":{const H=yield Pge(z,l.associationPublicKey,l.ecdhPrivateKey),G=z.slice(DD),N=G.byteLength!==0?yield Ln(this,void 0,void 0,function*(){const U=G.slice(0,Th),j=f_(U);if(j!==o+1)throw new Error("Encrypted message has invalid sequence number");return o=j,Nge(G,H)}):{protocol_version:"legacy"};l={__type:"connected",sharedSecret:H,sessionProperties:N};const F=Ege(N.protocol_version,(U,j)=>Ln(this,void 0,void 0,function*(){const _=s++,d=yield $ge({id:_,jsonrpc:"2.0",method:U,params:j??{}},H);return a=="base64"?u.send(yR(d)):u.send(d),new Promise((g,x)=>{M[_]={resolve(C){switch(U){case"authorize":case"reauthorize":{const{wallet_uri_base:k}=C;if(k!=null)try{jge(k)}catch(T){x(T);return}break}}g(C)},reject:x}})}));y=!0;try{E(F)}catch(U){A(U)}break}}});u.addEventListener("message",O),b=()=>{u.removeEventListener("message",O),c(),y||A(new _l(El.ERROR_SESSION_CLOSED,"The wallet session was closed before connection.",{closeEvent:new CloseEvent("socket was closed before connection")}))}})}})}const Svt=Object.freeze(Object.defineProperty({__proto__:null,SolanaCloneAuthorization:wR,SolanaMobileWalletAdapterError:_l,SolanaMobileWalletAdapterErrorCode:El,SolanaMobileWalletAdapterProtocolError:GA,SolanaMobileWalletAdapterProtocolErrorCode:evt,SolanaSignInWithSolana:svt,SolanaSignTransactions:xge,startRemoteScenario:Avt,transact:_vt},Symbol.toStringTag,{value:"Module"})),Cvt=rm(Svt);var f$,MX;function kvt(){if(MX)return f$;MX=1;function t(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=e.length,l=e.charAt(0),u=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function h(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var E=0,A=0,M=0,O=b.length;M!==O&&b[M]===0;)M++,E++;for(var P=(O-M)*c+1>>>0,z=new Uint8Array(P);M!==O;){for(var L=b[M],W=0,H=P-1;(L!==0||W<A)&&H!==-1;H--,W++)L+=256*z[H]>>>0,z[H]=L%a>>>0,L=L/a>>>0;if(L!==0)throw new Error("Non-zero carry");A=W,M++}for(var G=P-A;G!==P&&z[G]===0;)G++;for(var N=l.repeat(E);G<P;++G)N+=e.charAt(z[G]);return N}function m(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;for(var E=0,A=0,M=0;b[E]===l;)A++,E++;for(var O=(b.length-E)*u+1>>>0,P=new Uint8Array(O);b[E];){var z=b.charCodeAt(E);if(z>255)return;var L=r[z];if(L===255)return;for(var W=0,H=O-1;(L!==0||W<M)&&H!==-1;H--,W++)L+=a*P[H]>>>0,P[H]=L%256>>>0,L=L/256>>>0;if(L!==0)throw new Error("Non-zero carry");M=W,E++}for(var G=O-M;G!==O&&P[G]===0;)G++;for(var N=new Uint8Array(A+(O-G)),F=A;G!==O;)N[F++]=P[G++];return N}function y(b){var E=m(b);if(E)return E;throw new Error("Non-base"+a+" character")}return{encode:h,decodeUnsafe:m,decode:y}}return f$=t,f$}var p$,PX;function Ivt(){return PX||(PX=1,p$=kvt()("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")),p$}var g$={},NX;function Tvt(){return NX||(NX=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SOLANA_CHAINS=t.SOLANA_LOCALNET_CHAIN=t.SOLANA_TESTNET_CHAIN=t.SOLANA_DEVNET_CHAIN=t.SOLANA_MAINNET_CHAIN=void 0,t.isSolanaChain=e,t.SOLANA_MAINNET_CHAIN="solana:mainnet",t.SOLANA_DEVNET_CHAIN="solana:devnet",t.SOLANA_TESTNET_CHAIN="solana:testnet",t.SOLANA_LOCALNET_CHAIN="solana:localnet",t.SOLANA_CHAINS=[t.SOLANA_MAINNET_CHAIN,t.SOLANA_DEVNET_CHAIN,t.SOLANA_TESTNET_CHAIN,t.SOLANA_LOCALNET_CHAIN];function e(r){return t.SOLANA_CHAINS.includes(r)}})(g$)),g$}var RX;function $vt(){if(RX)return Lc;RX=1,Object.defineProperty(Lc,"__esModule",{value:!0});var t=jD(),e=X2t(),r=Cvt,n=mge(),i=Ivt(),s=Tvt();function o(Ht){return Ht&&typeof Ht=="object"&&"default"in Ht?Ht:{default:Ht}}var a=o(e),l=o(i);function u(Ht,pt,Ne,$e){function gt(Dt){return Dt instanceof Ne?Dt:new Ne(function(Rt){Rt(Dt)})}return new(Ne||(Ne=Promise))(function(Dt,Rt){function tr(Ar){try{Lr($e.next(Ar))}catch($u){Rt($u)}}function Tr(Ar){try{Lr($e.throw(Ar))}catch($u){Rt($u)}}function Lr(Ar){Ar.done?Dt(Ar.value):gt(Ar.value).then(tr,Tr)}Lr(($e=$e.apply(Ht,[])).next())})}function c(Ht,pt,Ne,$e){if(Ne==="a"&&!$e)throw new TypeError("Private accessor was defined without a getter");if(typeof pt=="function"?Ht!==pt||!$e:!pt.has(Ht))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Ne==="m"?$e:Ne==="a"?$e.call(Ht):$e?$e.value:pt.get(Ht)}function h(Ht,pt,Ne,$e,gt){if(typeof pt=="function"?Ht!==pt||!0:!pt.has(Ht))throw new TypeError("Cannot write private member to an object whose class did not declare it");return pt.set(Ht,Ne),Ne}var m,y,b,E,A,M,O,P;const z=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,L=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,W=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`;class H{constructor(){m.add(this),y.set(this,null),b.set(this,{}),E.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),c(this,m,"m",M).call(this),c(this,y,"f")&&(c(this,y,"f").style.display="flex")},this.close=(pt=void 0)=>{var Ne;console.debug("Modal close"),c(this,m,"m",O).call(this),c(this,y,"f")&&(c(this,y,"f").style.display="none"),(Ne=c(this,b,"f").close)===null||Ne===void 0||Ne.forEach($e=>$e(pt))},P.set(this,pt=>{pt.key==="Escape"&&this.close(pt)}),this.init=this.init.bind(this),h(this,y,document.getElementById("mobile-wallet-adapter-embedded-root-ui"))}init(){return u(this,void 0,void 0,function*(){console.log("Injecting modal"),c(this,m,"m",A).call(this)})}addEventListener(pt,Ne){var $e;return!(($e=c(this,b,"f")[pt])===null||$e===void 0)&&$e.push(Ne)||(c(this,b,"f")[pt]=[Ne]),()=>this.removeEventListener(pt,Ne)}removeEventListener(pt,Ne){var $e;c(this,b,"f")[pt]=($e=c(this,b,"f")[pt])===null||$e===void 0?void 0:$e.filter(gt=>Ne!==gt)}}y=new WeakMap,b=new WeakMap,E=new WeakMap,P=new WeakMap,m=new WeakSet,A=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){c(this,y,"f")||h(this,y,document.getElementById("mobile-wallet-adapter-embedded-root-ui"));return}h(this,y,document.createElement("div")),c(this,y,"f").id="mobile-wallet-adapter-embedded-root-ui",c(this,y,"f").innerHTML=z,c(this,y,"f").style.display="none";const pt=c(this,y,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");pt&&(pt.innerHTML=this.contentHtml);const Ne=document.createElement("style");Ne.id="mobile-wallet-adapter-embedded-modal-styles",Ne.textContent=L+this.contentStyles;const $e=document.createElement("div");$e.innerHTML=W,this.dom=$e.attachShadow({mode:"closed"}),this.dom.appendChild(Ne),this.dom.appendChild(c(this,y,"f")),document.body.appendChild($e)},M=function(){if(!c(this,y,"f")||c(this,E,"f"))return;[...c(this,y,"f").querySelectorAll("[data-modal-close]")].forEach(Ne=>Ne?.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",c(this,P,"f")),h(this,E,!0)},O=function(){if(!c(this,E,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",c(this,P,"f")),!c(this,y,"f")))return;[...c(this,y,"f").querySelectorAll("[data-modal-close]")].forEach(Ne=>Ne?.removeEventListener("click",this.close)),h(this,E,!1)};class G extends H{constructor(){super(...arguments),this.contentStyles=F,this.contentHtml=N}initWithQR(pt){const Ne=Object.create(null,{init:{get:()=>super.init}});return u(this,void 0,void 0,function*(){Ne.init.call(this),this.populateQRCode(pt)})}populateQRCode(pt){var Ne;return u(this,void 0,void 0,function*(){const $e=(Ne=this.dom)===null||Ne===void 0?void 0:Ne.getElementById("mobile-wallet-adapter-embedded-modal-qr-code-container");if($e){const gt=yield a.default.toCanvas(pt,{width:200,margin:0});$e.firstElementChild!==null?$e.replaceChild(gt,$e.firstElementChild):$e.appendChild(gt)}else console.error("QRCode Container not found")})}}const N=`
<div class="mobile-wallet-adapter-embedded-modal-qr-content">
    <div>
        <svg class="mobile-wallet-adapter-embedded-modal-icon" width="100%" height="100%">
            <circle r="52" cx="53" cy="53" fill="#99b3be" stroke="#000000" stroke-width="2"/>
            <path d="m 53,82.7305 c -3.3116,0 -6.1361,-1.169 -8.4735,-3.507 -2.338,-2.338 -3.507,-5.1625 -3.507,-8.4735 0,-3.3116 1.169,-6.1364 3.507,-8.4744 2.3374,-2.338 5.1619,-3.507 8.4735,-3.507 3.3116,0 6.1361,1.169 8.4735,3.507 2.338,2.338 3.507,5.1628 3.507,8.4744 0,3.311 -1.169,6.1355 -3.507,8.4735 -2.3374,2.338 -5.1619,3.507 -8.4735,3.507 z m 0.007,-5.25 c 1.8532,0 3.437,-0.6598 4.7512,-1.9793 1.3149,-1.3195 1.9723,-2.9058 1.9723,-4.7591 0,-1.8526 -0.6598,-3.4364 -1.9793,-4.7512 -1.3195,-1.3149 -2.9055,-1.9723 -4.7582,-1.9723 -1.8533,0 -3.437,0.6598 -4.7513,1.9793 -1.3148,1.3195 -1.9722,2.9058 -1.9722,4.7591 0,1.8527 0.6597,3.4364 1.9792,4.7512 1.3195,1.3149 2.9056,1.9723 4.7583,1.9723 z m -28,-33.5729 -3.85,-3.6347 c 4.1195,-4.025 8.8792,-7.1984 14.2791,-9.52 5.4005,-2.3223 11.2551,-3.4834 17.5639,-3.4834 6.3087,0 12.1634,1.1611 17.5639,3.4834 5.3999,2.3216 10.1596,5.495 14.2791,9.52 l -3.85,3.6347 C 77.2999,40.358 73.0684,37.5726 68.2985,35.5514 63.5292,33.5301 58.4296,32.5195 53,32.5195 c -5.4297,0 -10.5292,1.0106 -15.2985,3.0319 -4.7699,2.0212 -9.0014,4.8066 -12.6945,8.3562 z m 44.625,10.8771 c -2.2709,-2.1046 -4.7962,-3.7167 -7.5758,-4.8361 -2.7795,-1.12 -5.7983,-1.68 -9.0562,-1.68 -3.2579,0 -6.2621,0.56 -9.0125,1.68 -2.7504,1.1194 -5.2903,2.7315 -7.6195,4.8361 L 32.5189,51.15 c 2.8355,-2.6028 5.9777,-4.6086 9.4263,-6.0174 3.4481,-1.4087 7.133,-2.1131 11.0548,-2.1131 3.9217,0 7.5979,0.7044 11.0285,2.1131 3.43,1.4088 6.5631,3.4146 9.3992,6.0174 z"/>
        </svg>
        <div class="mobile-wallet-adapter-embedded-modal-title">Remote Mobile Wallet Adapter</div>
    </div>
    <div>
        <div>
            <h4 class="mobile-wallet-adapter-embedded-modal-qr-label">
                Open your wallet and scan this code
            </h4>
        </div>
        <div id="mobile-wallet-adapter-embedded-modal-qr-code-container" class="mobile-wallet-adapter-embedded-modal-qr-code-container"></div>
    </div>
</div>
<div class="mobile-wallet-adapter-embedded-modal-divider"><hr></div>
<div class="mobile-wallet-adapter-embedded-modal-footer">
    <div class="mobile-wallet-adapter-embedded-modal-subtitle">
        Follow the instructions on your device. When you're finished, this screen will update.
    </div>
    <div class="mobile-wallet-adapter-embedded-modal-progress-badge">
        <div>
            <div class="spinner">
                <div class="leftWrapper">
                    <div class="left">
                        <div class="circle"></div>
                    </div>
                </div>
                <div class="rightWrapper">
                    <div class="right">
                        <div class="circle"></div>
                    </div>
                </div>
            </div>
        </div>
        <div>Waiting for scan</div>
    </div>
</div>
`,F=`
.mobile-wallet-adapter-embedded-modal-qr-content {
    display: flex; 
    margin-top: 10px;
    padding: 10px;
}

.mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {
    display: flex;
    flex-direction: column;
    flex: 2;
    margin-top: auto;
    margin-right: 30px;
}

.mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {
    display: flex;
    flex-direction: column;
    flex: 1;
    margin-left: auto;
}

.mobile-wallet-adapter-embedded-modal-footer {
    display: flex;
    padding: 10px;
}

.mobile-wallet-adapter-embedded-modal-icon {}

.mobile-wallet-adapter-embedded-modal-title {
    color: #000000;
    font-size: 2.5em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-qr-label {
    text-align: right;
    color: #000000;
}

.mobile-wallet-adapter-embedded-modal-qr-code-container {
    margin-left: auto;
}

.mobile-wallet-adapter-embedded-modal-divider {
    margin-top: 20px;
    padding-left: 10px;
    padding-right: 10px;
}

.mobile-wallet-adapter-embedded-modal-divider hr {
    border-top: 1px solid #D9DEDE;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: auto;
    margin-right: 60px;
    padding: 20px;
    color: #6E8286;
}

.mobile-wallet-adapter-embedded-modal-progress-badge {
    display: flex;
    background: #F7F8F8;
    height: 56px;
    min-width: 200px;
    margin: auto;
    padding-left: 20px;
    padding-right: 20px;
    border-radius: 18px;
    color: #A8B6B8;
    align-items: center;
}

.mobile-wallet-adapter-embedded-modal-progress-badge > div:first-child {
    margin-left: auto;
    margin-right: 20px;
}

.mobile-wallet-adapter-embedded-modal-progress-badge > div:nth-child(2) {
    margin-right: auto;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-card {
        text-align: center;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content {
        flex-direction: column;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {
        margin: auto;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {
        margin: auto;
        flex: 2 auto;
    }
    .mobile-wallet-adapter-embedded-modal-footer {
        flex-direction: column;
    }
    .mobile-wallet-adapter-embedded-modal-icon {
        display: none;
    }
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: unset;
    }
    .mobile-wallet-adapter-embedded-modal-qr-label {
        text-align: center;
    }
    .mobile-wallet-adapter-embedded-modal-qr-code-container {
        margin: auto;
    }
}

/* Spinner */
@keyframes spinLeft {
    0% {
        transform: rotate(20deg);
    }
    50% {
        transform: rotate(160deg);
    }
    100% {
        transform: rotate(20deg);
    }
}
@keyframes spinRight {
    0% {
        transform: rotate(160deg);
    }
    50% {
        transform: rotate(20deg);
    }
    100% {
        transform: rotate(160deg);
    }
}
@keyframes spin {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(2520deg);
    }
}

.spinner {
    position: relative;
    width: 1.5em;
    height: 1.5em;
    margin: auto;
    animation: spin 10s linear infinite;
}
.spinner::before {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
}
.right, .rightWrapper, .left, .leftWrapper {
    position: absolute;
    top: 0;
    overflow: hidden;
    width: .75em;
    height: 1.5em;
}
.left, .leftWrapper {
    left: 0;
}
.right {
    left: -12px;
}
.rightWrapper {
    right: 0;
}
.circle {
    border: .125em solid #A8B6B8;
    width: 1.25em; /* 1.5em - 2*0.125em border */
    height: 1.25em; /* 1.5em - 2*0.125em border */
    border-radius: 0.75em; /* 0.5*1.5em spinner size 8 */
}
.left {
    transform-origin: 100% 50%;
    animation: spinLeft 2.5s cubic-bezier(.2,0,.8,1) infinite;
}
.right {
    transform-origin: 100% 50%;
    animation: spinRight 2.5s cubic-bezier(.2,0,.8,1) infinite;
}
`,U="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function j(Ht){return window.btoa(String.fromCharCode.call(null,...Ht))}function _(Ht){return new Uint8Array(window.atob(Ht).split("").map(pt=>pt.charCodeAt(0)))}var d,g,x,C,k,T,R,I,f,S,K,D,J,ne,ie,ce,Se,ye,Ae,tt,Ce,je,mt,pe,Le,Mt,Ie,Me,ht,Je,De,At,it,et,St,Xe,se,X,ee,oe,ge,fe,ve,ut,Pe,Ye,Ut,Oe,nt,hr,Fe,ct,Nr,dt,Y,V,Z,te,ae,le,de,Ze,Be,He,qt,Ge,ot,Nt,lt,at;const Ir="Mobile Wallet Adapter",$r=64,_r=[t.SolanaSignAndSendTransaction,t.SolanaSignTransaction,t.SolanaSignMessage,t.SolanaSignIn];class Sr{constructor(pt){d.add(this),g.set(this,{}),x.set(this,"1.0.0"),C.set(this,Ir),k.set(this,"https://solanamobile.com/wallets"),T.set(this,U),R.set(this,void 0),I.set(this,void 0),f.set(this,void 0),S.set(this,!1),K.set(this,0),D.set(this,[]),J.set(this,void 0),ne.set(this,void 0),ie.set(this,void 0),ce.set(this,(Ne,$e)=>{var gt;return!((gt=c(this,g,"f")[Ne])===null||gt===void 0)&&gt.push($e)||(c(this,g,"f")[Ne]=[$e]),()=>c(this,d,"m",ye).call(this,Ne,$e)}),Ae.set(this,({silent:Ne}={})=>u(this,void 0,void 0,function*(){if(c(this,S,"f")||this.connected)return{accounts:this.accounts};h(this,S,!0);try{if(Ne){const $e=yield c(this,f,"f").get();if($e)yield c(this,je,"f").call(this,$e.capabilities),yield c(this,Ce,"f").call(this,$e);else return{accounts:this.accounts}}else yield c(this,tt,"f").call(this)}catch($e){throw new Error($e instanceof Error&&$e.message||"Unknown error")}finally{h(this,S,!1)}return{accounts:this.accounts}})),tt.set(this,Ne=>u(this,void 0,void 0,function*(){try{const $e=yield c(this,f,"f").get();if($e)return c(this,Ce,"f").call(this,$e),$e;const gt=yield c(this,J,"f").select(c(this,D,"f"));return yield c(this,Le,"f").call(this,Dt=>u(this,void 0,void 0,function*(){const[Rt,tr]=yield Promise.all([Dt.getCapabilities(),Dt.authorize({chain:gt,identity:c(this,R,"f"),sign_in_payload:Ne})]),Tr=c(this,Ie,"f").call(this,tr.accounts),Lr=Object.assign(Object.assign({},tr),{accounts:Tr,chain:gt,capabilities:Rt});return Promise.all([c(this,je,"f").call(this,Rt),c(this,f,"f").set(Lr),c(this,Ce,"f").call(this,Lr)]),Lr}))}catch($e){throw new Error($e instanceof Error&&$e.message||"Unknown error")}})),Ce.set(this,Ne=>u(this,void 0,void 0,function*(){var $e;const gt=c(this,I,"f")==null||(($e=c(this,I,"f"))===null||$e===void 0?void 0:$e.accounts.length)!==Ne.accounts.length||c(this,I,"f").accounts.some((Dt,Rt)=>Dt.address!==Ne.accounts[Rt].address);h(this,I,Ne),gt&&c(this,d,"m",Se).call(this,"change",{accounts:this.accounts})})),je.set(this,Ne=>u(this,void 0,void 0,function*(){const $e=Ne.features.includes("solana:signTransactions"),gt=Ne.supports_sign_and_send_transactions,Dt=t.SolanaSignAndSendTransaction in this.features!==gt||t.SolanaSignTransaction in this.features!==$e;h(this,ne,Object.assign(Object.assign({},(gt||!gt&&!$e)&&{[t.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:c(this,Je,"f")}}),$e&&{[t.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:c(this,De,"f")}})),Dt&&c(this,d,"m",Se).call(this,"change",{features:this.features})})),mt.set(this,(Ne,$e,gt)=>u(this,void 0,void 0,function*(){var Dt,Rt;try{const[tr,Tr]=yield Promise.all([(Rt=(Dt=c(this,I,"f"))===null||Dt===void 0?void 0:Dt.capabilities)!==null&&Rt!==void 0?Rt:yield Ne.getCapabilities(),Ne.authorize({auth_token:$e,identity:c(this,R,"f"),chain:gt})]),Lr=c(this,Ie,"f").call(this,Tr.accounts),Ar=Object.assign(Object.assign({},Tr),{accounts:Lr,chain:gt,capabilities:tr});Promise.all([c(this,f,"f").set(Ar),c(this,Ce,"f").call(this,Ar)])}catch(tr){throw c(this,pe,"f").call(this),new Error(tr instanceof Error&&tr.message||"Unknown error")}})),pe.set(this,()=>u(this,void 0,void 0,function*(){var Ne;c(this,f,"f").clear(),h(this,S,!1),h(this,K,(Ne=c(this,K,"f"),Ne++,Ne)),h(this,I,void 0),c(this,d,"m",Se).call(this,"change",{accounts:this.accounts})})),Le.set(this,Ne=>u(this,void 0,void 0,function*(){var $e;const gt=($e=c(this,I,"f"))===null||$e===void 0?void 0:$e.wallet_uri_base,Dt=gt?{baseUri:gt}:void 0,Rt=c(this,K,"f");try{return yield r.transact(Ne,Dt)}catch(tr){throw c(this,K,"f")!==Rt&&(yield new Promise(()=>{})),tr instanceof Error&&tr.name==="SolanaMobileWalletAdapterError"&&tr.code==="ERROR_WALLET_NOT_FOUND"&&(yield c(this,ie,"f").call(this,this)),tr}})),Mt.set(this,()=>{if(!c(this,I,"f"))throw new Error("Wallet not connected");return{authToken:c(this,I,"f").auth_token,chain:c(this,I,"f").chain}}),Ie.set(this,Ne=>Ne.map($e=>{var gt,Dt;const Rt=_($e.address);return{address:l.default.encode(Rt),publicKey:Rt,label:$e.label,icon:$e.icon,chains:(gt=$e.chains)!==null&&gt!==void 0?gt:c(this,D,"f"),features:(Dt=$e.features)!==null&&Dt!==void 0?Dt:_r}})),Me.set(this,Ne=>u(this,void 0,void 0,function*(){const{authToken:$e,chain:gt}=c(this,Mt,"f").call(this);try{const Dt=Ne.map(Rt=>j(Rt));return yield c(this,Le,"f").call(this,Rt=>u(this,void 0,void 0,function*(){return yield c(this,mt,"f").call(this,Rt,$e,gt),(yield Rt.signTransactions({payloads:Dt})).signed_payloads.map(_)}))}catch(Dt){throw new Error(Dt instanceof Error&&Dt.message||"Unknown error")}})),ht.set(this,(Ne,$e)=>u(this,void 0,void 0,function*(){const{authToken:gt,chain:Dt}=c(this,Mt,"f").call(this);try{return yield c(this,Le,"f").call(this,Rt=>u(this,void 0,void 0,function*(){const[tr,Tr]=yield Promise.all([Rt.getCapabilities(),c(this,mt,"f").call(this,Rt,gt,Dt)]);if(tr.supports_sign_and_send_transactions){const Lr=j(Ne);return(yield Rt.signAndSendTransactions(Object.assign(Object.assign({},$e),{payloads:[Lr]}))).signatures.map(_)[0]}else throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(Rt){throw new Error(Rt instanceof Error&&Rt.message||"Unknown error")}})),Je.set(this,(...Ne)=>u(this,void 0,void 0,function*(){const $e=[];for(const gt of Ne){const Dt=yield c(this,ht,"f").call(this,gt.transaction,gt.options);$e.push({signature:Dt})}return $e})),De.set(this,(...Ne)=>u(this,void 0,void 0,function*(){return(yield c(this,Me,"f").call(this,Ne.map(({transaction:$e})=>$e))).map($e=>({signedTransaction:$e}))})),At.set(this,(...Ne)=>u(this,void 0,void 0,function*(){const{authToken:$e,chain:gt}=c(this,Mt,"f").call(this),Dt=Ne.map(({account:tr})=>j(tr.publicKey)),Rt=Ne.map(({message:tr})=>j(tr));try{return yield c(this,Le,"f").call(this,tr=>u(this,void 0,void 0,function*(){return yield c(this,mt,"f").call(this,tr,$e,gt),(yield tr.signMessages({addresses:Dt,payloads:Rt})).signed_payloads.map(_).map(Lr=>({signedMessage:Lr,signature:Lr.slice(-$r)}))}))}catch(tr){throw new Error(tr instanceof Error&&tr.message||"Unknown error")}})),it.set(this,(...Ne)=>u(this,void 0,void 0,function*(){const $e=[];if(Ne.length>1)for(const gt of Ne)$e.push(yield c(this,et,"f").call(this,gt));else return[yield c(this,et,"f").call(this,Ne[0])];return $e})),et.set(this,Ne=>u(this,void 0,void 0,function*(){var $e,gt,Dt;h(this,S,!0);try{const Rt=yield c(this,tt,"f").call(this,Object.assign(Object.assign({},Ne),{domain:($e=Ne?.domain)!==null&&$e!==void 0?$e:window.location.host}));if(!Rt.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const tr=Rt.sign_in_result.address,Tr=Rt.accounts.find(Lr=>Lr.address==tr);return{account:Object.assign(Object.assign({},Tr??{address:l.default.encode(_(tr))}),{publicKey:_(tr),chains:(gt=Tr?.chains)!==null&&gt!==void 0?gt:c(this,D,"f"),features:(Dt=Tr?.features)!==null&&Dt!==void 0?Dt:Rt.capabilities.features}),signedMessage:_(Rt.sign_in_result.signed_message),signature:_(Rt.sign_in_result.signature)}}catch(Rt){throw new Error(Rt instanceof Error&&Rt.message||"Unknown error")}finally{h(this,S,!1)}})),h(this,f,pt.authorizationCache),h(this,R,pt.appIdentity),h(this,D,pt.chains),h(this,J,pt.chainSelector),h(this,ie,pt.onWalletNotFound),h(this,ne,{[t.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:c(this,Je,"f")},[t.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:c(this,De,"f")}})}get version(){return c(this,x,"f")}get name(){return c(this,C,"f")}get url(){return c(this,k,"f")}get icon(){return c(this,T,"f")}get chains(){return c(this,D,"f")}get features(){return Object.assign({[n.StandardConnect]:{version:"1.0.0",connect:c(this,Ae,"f")},[n.StandardDisconnect]:{version:"1.0.0",disconnect:c(this,pe,"f")},[n.StandardEvents]:{version:"1.0.0",on:c(this,ce,"f")},[t.SolanaSignMessage]:{version:"1.0.0",signMessage:c(this,At,"f")},[t.SolanaSignIn]:{version:"1.0.0",signIn:c(this,it,"f")}},c(this,ne,"f"))}get accounts(){var pt,Ne;return(Ne=(pt=c(this,I,"f"))===null||pt===void 0?void 0:pt.accounts)!==null&&Ne!==void 0?Ne:[]}get connected(){return!!c(this,I,"f")}get isAuthorized(){return!!c(this,I,"f")}get currentAuthorization(){return c(this,I,"f")}get cachedAuthorizationResult(){return c(this,f,"f").get()}}g=new WeakMap,x=new WeakMap,C=new WeakMap,k=new WeakMap,T=new WeakMap,R=new WeakMap,I=new WeakMap,f=new WeakMap,S=new WeakMap,K=new WeakMap,D=new WeakMap,J=new WeakMap,ne=new WeakMap,ie=new WeakMap,ce=new WeakMap,Ae=new WeakMap,tt=new WeakMap,Ce=new WeakMap,je=new WeakMap,mt=new WeakMap,pe=new WeakMap,Le=new WeakMap,Mt=new WeakMap,Ie=new WeakMap,Me=new WeakMap,ht=new WeakMap,Je=new WeakMap,De=new WeakMap,At=new WeakMap,it=new WeakMap,et=new WeakMap,d=new WeakSet,Se=function(pt,...Ne){var $e;($e=c(this,g,"f")[pt])===null||$e===void 0||$e.forEach(gt=>gt.apply(null,Ne))},ye=function(pt,Ne){var $e;c(this,g,"f")[pt]=($e=c(this,g,"f")[pt])===null||$e===void 0?void 0:$e.filter(gt=>Ne!==gt)};class jr{constructor(pt){St.add(this),Xe.set(this,{}),se.set(this,"1.0.0"),X.set(this,Ir),ee.set(this,"https://solanamobile.com/wallets"),oe.set(this,U),ge.set(this,void 0),fe.set(this,void 0),ve.set(this,void 0),ut.set(this,!1),Pe.set(this,0),Ye.set(this,[]),Ut.set(this,void 0),Oe.set(this,void 0),nt.set(this,void 0),hr.set(this,void 0),Fe.set(this,void 0),ct.set(this,(Ne,$e)=>{var gt;return!((gt=c(this,Xe,"f")[Ne])===null||gt===void 0)&&gt.push($e)||(c(this,Xe,"f")[Ne]=[$e]),()=>c(this,St,"m",dt).call(this,Ne,$e)}),Y.set(this,({silent:Ne}={})=>u(this,void 0,void 0,function*(){if(c(this,ut,"f")||this.connected)return{accounts:this.accounts};h(this,ut,!0);try{yield c(this,V,"f").call(this)}catch($e){throw new Error($e instanceof Error&&$e.message||"Unknown error")}finally{h(this,ut,!1)}return{accounts:this.accounts}})),V.set(this,Ne=>u(this,void 0,void 0,function*(){try{const $e=yield c(this,ve,"f").get();if($e)return c(this,Z,"f").call(this,$e),$e;c(this,Fe,"f")&&h(this,Fe,void 0,"f");const gt=yield c(this,Ut,"f").select(c(this,Ye,"f"));return yield c(this,de,"f").call(this,Dt=>u(this,void 0,void 0,function*(){const[Rt,tr]=yield Promise.all([Dt.getCapabilities(),Dt.authorize({chain:gt,identity:c(this,ge,"f"),sign_in_payload:Ne})]),Tr=c(this,Be,"f").call(this,tr.accounts),Lr=Object.assign(Object.assign({},tr),{accounts:Tr,chain:gt,capabilities:Rt});return Promise.all([c(this,te,"f").call(this,Rt),c(this,ve,"f").set(Lr),c(this,Z,"f").call(this,Lr)]),Lr}))}catch($e){throw new Error($e instanceof Error&&$e.message||"Unknown error")}})),Z.set(this,Ne=>u(this,void 0,void 0,function*(){var $e;const gt=c(this,fe,"f")==null||(($e=c(this,fe,"f"))===null||$e===void 0?void 0:$e.accounts.length)!==Ne.accounts.length||c(this,fe,"f").accounts.some((Dt,Rt)=>Dt.address!==Ne.accounts[Rt].address);h(this,fe,Ne),gt&&c(this,St,"m",Nr).call(this,"change",{accounts:this.accounts})})),te.set(this,Ne=>u(this,void 0,void 0,function*(){const $e=Ne.features.includes("solana:signTransactions"),gt=Ne.supports_sign_and_send_transactions||Ne.features.includes("solana:signAndSendTransaction"),Dt=t.SolanaSignAndSendTransaction in this.features!==gt||t.SolanaSignTransaction in this.features!==$e;h(this,Oe,Object.assign(Object.assign({},gt&&{[t.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:Ne.supported_transaction_versions,signAndSendTransaction:c(this,Ge,"f")}}),$e&&{[t.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:Ne.supported_transaction_versions,signTransaction:c(this,ot,"f")}})),Dt&&c(this,St,"m",Nr).call(this,"change",{features:this.features})})),ae.set(this,(Ne,$e,gt)=>u(this,void 0,void 0,function*(){var Dt,Rt;try{const[tr,Tr]=yield Promise.all([(Rt=(Dt=c(this,fe,"f"))===null||Dt===void 0?void 0:Dt.capabilities)!==null&&Rt!==void 0?Rt:yield Ne.getCapabilities(),Ne.authorize({auth_token:$e,identity:c(this,ge,"f"),chain:gt})]),Lr=c(this,Be,"f").call(this,Tr.accounts),Ar=Object.assign(Object.assign({},Tr),{accounts:Lr,chain:gt,capabilities:tr});Promise.all([c(this,ve,"f").set(Ar),c(this,Z,"f").call(this,Ar)])}catch(tr){throw c(this,le,"f").call(this),new Error(tr instanceof Error&&tr.message||"Unknown error")}})),le.set(this,()=>u(this,void 0,void 0,function*(){var Ne,$e;(Ne=c(this,Fe,"f"))===null||Ne===void 0||Ne.close(),c(this,ve,"f").clear(),h(this,ut,!1),h(this,Pe,($e=c(this,Pe,"f"),$e++,$e)),h(this,fe,void 0),h(this,Fe,void 0),c(this,St,"m",Nr).call(this,"change",{accounts:this.accounts})})),de.set(this,Ne=>u(this,void 0,void 0,function*(){var $e;const gt=($e=c(this,fe,"f"))===null||$e===void 0?void 0:$e.wallet_uri_base,Rt=Object.assign(Object.assign({},gt?{baseUri:gt}:void 0),{remoteHostAuthority:c(this,hr,"f")}),tr=c(this,Pe,"f"),Tr=new G;if(c(this,Fe,"f"))return Ne(c(this,Fe,"f").wallet);try{const{associationUrl:Lr,close:Ar,wallet:$u}=yield r.startRemoteScenario(Rt),Om=Tr.addEventListener("close",dp=>{dp&&Ar()});return Tr.initWithQR(Lr.toString()),Tr.open(),h(this,Fe,{close:Ar,wallet:yield $u},"f"),Om(),Tr.close(),yield Ne(c(this,Fe,"f").wallet)}catch(Lr){throw Tr.close(),c(this,Pe,"f")!==tr&&(yield new Promise(()=>{})),Lr instanceof Error&&Lr.name==="SolanaMobileWalletAdapterError"&&Lr.code==="ERROR_WALLET_NOT_FOUND"&&(yield c(this,nt,"f").call(this,this)),Lr}})),Ze.set(this,()=>{if(!c(this,fe,"f"))throw new Error("Wallet not connected");return{authToken:c(this,fe,"f").auth_token,chain:c(this,fe,"f").chain}}),Be.set(this,Ne=>Ne.map($e=>{var gt,Dt;const Rt=_($e.address);return{address:l.default.encode(Rt),publicKey:Rt,label:$e.label,icon:$e.icon,chains:(gt=$e.chains)!==null&&gt!==void 0?gt:c(this,Ye,"f"),features:(Dt=$e.features)!==null&&Dt!==void 0?Dt:_r}})),He.set(this,Ne=>u(this,void 0,void 0,function*(){const{authToken:$e,chain:gt}=c(this,Ze,"f").call(this);try{return yield c(this,de,"f").call(this,Dt=>u(this,void 0,void 0,function*(){return yield c(this,ae,"f").call(this,Dt,$e,gt),(yield Dt.signTransactions({payloads:Ne.map(j)})).signed_payloads.map(_)}))}catch(Dt){throw new Error(Dt instanceof Error&&Dt.message||"Unknown error")}})),qt.set(this,(Ne,$e)=>u(this,void 0,void 0,function*(){const{authToken:gt,chain:Dt}=c(this,Ze,"f").call(this);try{return yield c(this,de,"f").call(this,Rt=>u(this,void 0,void 0,function*(){const[tr,Tr]=yield Promise.all([Rt.getCapabilities(),c(this,ae,"f").call(this,Rt,gt,Dt)]);if(tr.supports_sign_and_send_transactions)return(yield Rt.signAndSendTransactions(Object.assign(Object.assign({},$e),{payloads:[j(Ne)]}))).signatures.map(_)[0];throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(Rt){throw new Error(Rt instanceof Error&&Rt.message||"Unknown error")}})),Ge.set(this,(...Ne)=>u(this,void 0,void 0,function*(){const $e=[];for(const gt of Ne){const Dt=yield c(this,qt,"f").call(this,gt.transaction,gt.options);$e.push({signature:Dt})}return $e})),ot.set(this,(...Ne)=>u(this,void 0,void 0,function*(){return(yield c(this,He,"f").call(this,Ne.map(({transaction:$e})=>$e))).map($e=>({signedTransaction:$e}))})),Nt.set(this,(...Ne)=>u(this,void 0,void 0,function*(){const{authToken:$e,chain:gt}=c(this,Ze,"f").call(this),Dt=Ne.map(({account:tr})=>j(tr.publicKey)),Rt=Ne.map(({message:tr})=>j(tr));try{return yield c(this,de,"f").call(this,tr=>u(this,void 0,void 0,function*(){return yield c(this,ae,"f").call(this,tr,$e,gt),(yield tr.signMessages({addresses:Dt,payloads:Rt})).signed_payloads.map(_).map(Lr=>({signedMessage:Lr,signature:Lr.slice(-$r)}))}))}catch(tr){throw new Error(tr instanceof Error&&tr.message||"Unknown error")}})),lt.set(this,(...Ne)=>u(this,void 0,void 0,function*(){const $e=[];if(Ne.length>1)for(const gt of Ne)$e.push(yield c(this,at,"f").call(this,gt));else return[yield c(this,at,"f").call(this,Ne[0])];return $e})),at.set(this,Ne=>u(this,void 0,void 0,function*(){var $e,gt,Dt;h(this,ut,!0);try{const Rt=yield c(this,V,"f").call(this,Object.assign(Object.assign({},Ne),{domain:($e=Ne?.domain)!==null&&$e!==void 0?$e:window.location.host}));if(!Rt.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const tr=Rt.sign_in_result.address,Tr=Rt.accounts.find(Lr=>Lr.address==tr);return{account:Object.assign(Object.assign({},Tr??{address:l.default.encode(_(tr))}),{publicKey:_(tr),chains:(gt=Tr?.chains)!==null&&gt!==void 0?gt:c(this,Ye,"f"),features:(Dt=Tr?.features)!==null&&Dt!==void 0?Dt:Rt.capabilities.features}),signedMessage:_(Rt.sign_in_result.signed_message),signature:_(Rt.sign_in_result.signature)}}catch(Rt){throw new Error(Rt instanceof Error&&Rt.message||"Unknown error")}finally{h(this,ut,!1)}})),h(this,ve,pt.authorizationCache),h(this,ge,pt.appIdentity),h(this,Ye,pt.chains),h(this,Ut,pt.chainSelector),h(this,hr,pt.remoteHostAuthority),h(this,nt,pt.onWalletNotFound),h(this,Oe,{[t.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:c(this,Ge,"f")},[t.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:c(this,ot,"f")}})}get version(){return c(this,se,"f")}get name(){return c(this,X,"f")}get url(){return c(this,ee,"f")}get icon(){return c(this,oe,"f")}get chains(){return c(this,Ye,"f")}get features(){return Object.assign({[n.StandardConnect]:{version:"1.0.0",connect:c(this,Y,"f")},[n.StandardDisconnect]:{version:"1.0.0",disconnect:c(this,le,"f")},[n.StandardEvents]:{version:"1.0.0",on:c(this,ct,"f")},[t.SolanaSignMessage]:{version:"1.0.0",signMessage:c(this,Nt,"f")},[t.SolanaSignIn]:{version:"1.0.0",signIn:c(this,lt,"f")}},c(this,Oe,"f"))}get accounts(){var pt,Ne;return(Ne=(pt=c(this,fe,"f"))===null||pt===void 0?void 0:pt.accounts)!==null&&Ne!==void 0?Ne:[]}get connected(){return!!c(this,Fe,"f")&&!!c(this,fe,"f")}get isAuthorized(){return!!c(this,fe,"f")}get currentAuthorization(){return c(this,fe,"f")}get cachedAuthorizationResult(){return c(this,ve,"f").get()}}Xe=new WeakMap,se=new WeakMap,X=new WeakMap,ee=new WeakMap,oe=new WeakMap,ge=new WeakMap,fe=new WeakMap,ve=new WeakMap,ut=new WeakMap,Pe=new WeakMap,Ye=new WeakMap,Ut=new WeakMap,Oe=new WeakMap,nt=new WeakMap,hr=new WeakMap,Fe=new WeakMap,ct=new WeakMap,Y=new WeakMap,V=new WeakMap,Z=new WeakMap,te=new WeakMap,ae=new WeakMap,le=new WeakMap,de=new WeakMap,Ze=new WeakMap,Be=new WeakMap,He=new WeakMap,qt=new WeakMap,Ge=new WeakMap,ot=new WeakMap,Nt=new WeakMap,lt=new WeakMap,at=new WeakMap,St=new WeakSet,Nr=function(pt,...Ne){var $e;($e=c(this,Xe,"f")[pt])===null||$e===void 0||$e.forEach(gt=>gt.apply(null,Ne))},dt=function(pt,Ne){var $e;c(this,Xe,"f")[pt]=($e=c(this,Xe,"f")[pt])===null||$e===void 0?void 0:$e.filter(gt=>Ne!==gt)};var an=function(Ht,pt,Ne,$e,gt){if($e==="m")throw new TypeError("Private method is not writable");if($e==="a"&&!gt)throw new TypeError("Private accessor was defined without a setter");if(typeof pt=="function"?Ht!==pt||!gt:!pt.has(Ht))throw new TypeError("Cannot write private member to an object whose class did not declare it");return $e==="a"?gt.call(Ht,Ne):gt?gt.value=Ne:pt.set(Ht,Ne),Ne},Xn=function(Ht,pt,Ne,$e){if(Ne==="a"&&!$e)throw new TypeError("Private accessor was defined without a getter");if(typeof pt=="function"?Ht!==pt||!$e:!pt.has(Ht))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Ne==="m"?$e:Ne==="a"?$e.call(Ht):$e?$e.value:pt.get(Ht)},Lt;function qr(Ht){const pt=({register:Ne})=>Ne(Ht);try{window.dispatchEvent(new fr(pt))}catch(Ne){console.error(`wallet-standard:register-wallet event could not be dispatched
`,Ne)}try{window.addEventListener("wallet-standard:app-ready",({detail:Ne})=>pt(Ne))}catch(Ne){console.error(`wallet-standard:app-ready event listener could not be added
`,Ne)}}class fr extends Event{constructor(pt){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),Lt.set(this,void 0),an(this,Lt,pt,"f")}get detail(){return Xn(this,Lt,"f")}get type(){return"wallet-standard:register-wallet"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Lt=new WeakMap;function Cn(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}function pn(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function gi(Ht){Cn()?qr(new Sr(Ht)):pn()&&Ht.remoteHostAuthority!==void 0&&qr(new jr(Object.assign(Object.assign({},Ht),{remoteHostAuthority:Ht.remoteHostAuthority})))}const ui="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",Gn="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.";class gn extends H{constructor(){super(...arguments),this.contentStyles=kn,this.contentHtml=Ti}initWithError(pt){super.init(),this.populateError(pt)}populateError(pt){var Ne,$e;const gt=(Ne=this.dom)===null||Ne===void 0?void 0:Ne.getElementById("mobile-wallet-adapter-error-message"),Dt=($e=this.dom)===null||$e===void 0?void 0:$e.getElementById("mobile-wallet-adapter-error-action");if(gt){if(pt.name==="SolanaMobileWalletAdapterError")switch(pt.code){case"ERROR_WALLET_NOT_FOUND":gt.innerHTML=ui,Dt&&Dt.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":gt.innerHTML=Gn,Dt&&(Dt.style.display="none");return}gt.innerHTML=`An unexpected error occurred: ${pt.message}`}else console.log("Failed to locate error dialog element")}}const Ti=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,kn=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function Ei(){return u(this,void 0,void 0,function*(){if(typeof window<"u"){const Ht=window.navigator.userAgent.toLowerCase(),pt=new gn;Ht.includes("wv")?pt.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):pt.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),pt.open()}})}function s2(){return()=>u(this,void 0,void 0,function*(){Ei()})}const up="SolanaMobileWalletAdapterDefaultAuthorizationCache";function sf(){let Ht;try{Ht=window.localStorage}catch{}return{clear(){return u(this,void 0,void 0,function*(){if(Ht)try{Ht.removeItem(up)}catch{}})},get(){return u(this,void 0,void 0,function*(){if(Ht)try{const pt=JSON.parse(Ht.getItem(up));if(pt&&pt.accounts){const Ne=pt.accounts.map($e=>Object.assign(Object.assign({},$e),{publicKey:"publicKey"in $e?new Uint8Array(Object.values($e.publicKey)):l.default.decode($e.address)}));return Object.assign(Object.assign({},pt),{accounts:Ne})}else return pt||void 0}catch{}})},set(pt){return u(this,void 0,void 0,function*(){if(Ht)try{Ht.setItem(up,JSON.stringify(pt))}catch{}})}}}function of(){return{select(Ht){return u(this,void 0,void 0,function*(){return Ht.length===1?Ht[0]:Ht.includes(s.SOLANA_MAINNET_CHAIN)?s.SOLANA_MAINNET_CHAIN:Ht[0]})}}}return Lc.LocalSolanaMobileWalletAdapterWallet=Sr,Lc.RemoteSolanaMobileWalletAdapterWallet=jr,Lc.SolanaMobileWalletAdapterWalletName=Ir,Lc.createDefaultAuthorizationCache=sf,Lc.createDefaultChainSelector=of,Lc.createDefaultWalletNotFoundHandler=s2,Lc.defaultErrorModalWalletNotFoundHandler=Ei,Lc.registerMwa=gi,Lc}var OX;function Mvt(){if(OX)return Xu;OX=1,Object.defineProperty(Xu,"__esModule",{value:!0});var t=P2t(),e=N2t,r=jD(),n=$vt();function i(I,f,S,K){function D(J){return J instanceof S?J:new S(function(ne){ne(J)})}return new(S||(S=Promise))(function(J,ne){function ie(ye){try{Se(K.next(ye))}catch(Ae){ne(Ae)}}function ce(ye){try{Se(K.throw(ye))}catch(Ae){ne(Ae)}}function Se(ye){ye.done?J(ye.value):D(ye.value).then(ie,ce)}Se((K=K.apply(I,[])).next())})}function s(I,f,S,K){if(S==="a"&&!K)throw new TypeError("Private accessor was defined without a getter");if(typeof f=="function"?I!==f||!K:!f.has(I))throw new TypeError("Cannot read private member from an object whose class did not declare it");return S==="m"?K:S==="a"?K.call(I):K?K.value:f.get(I)}function o(I,f,S,K,D){if(typeof f=="function"?I!==f||!0:!f.has(I))throw new TypeError("Cannot write private member to an object whose class did not declare it");return f.set(I,S),S}const a="standard:connect",l="standard:disconnect",u="standard:events";function c(I){return window.btoa(String.fromCharCode.call(null,...I))}function h(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}var m,y,b,E,A,M,O,P,z,L,W,H,G;const N="Mobile Wallet Adapter",F=64;function U(I){return"version"in I}function j(I){switch(I){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return I}}class _ extends t.BaseSignInMessageSignerWalletAdapter{constructor(f,S){super(),m.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),y.set(this,void 0),b.set(this,!1),E.set(this,h()?t.WalletReadyState.Loadable:t.WalletReadyState.Unsupported),A.set(this,void 0),M.set(this,void 0),O.set(this,void 0),P.set(this,K=>i(this,void 0,void 0,function*(){if(K.accounts&&K.accounts.length>0){s(this,m,"m",L).call(this);const D=yield s(this,A,"f").call(this,K.accounts);D!==s(this,M,"f")&&(o(this,M,D),o(this,O,void 0),this.emit("connect",this.publicKey))}})),o(this,A,K=>i(this,void 0,void 0,function*(){var D;const J=yield S.addressSelector.select(K.map(({publicKey:ne})=>c(ne)));return(D=K.find(({publicKey:ne})=>c(ne)===J))!==null&&D!==void 0?D:K[0]})),o(this,y,f),s(this,y,"f").features[u].on("change",s(this,P,"f")),this.name=s(this,y,"f").name,this.icon=s(this,y,"f").icon,this.url=s(this,y,"f").url}get publicKey(){var f;if(!s(this,O,"f")&&s(this,M,"f"))try{o(this,O,new e.PublicKey(s(this,M,"f").publicKey),"f")}catch(S){throw new t.WalletPublicKeyError(S instanceof Error&&S?.message||"Unknown error",S)}return(f=s(this,O,"f"))!==null&&f!==void 0?f:null}get connected(){return s(this,y,"f").connected}get connecting(){return s(this,b,"f")}get readyState(){return s(this,E,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return i(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return i(this,void 0,void 0,function*(){s(this,m,"m",z).call(this,!0)})}connect(){return i(this,void 0,void 0,function*(){s(this,m,"m",z).call(this)})}performAuthorization(f){return i(this,void 0,void 0,function*(){try{const S=yield s(this,y,"f").cachedAuthorizationResult;return S?(yield s(this,y,"f").features[a].connect({silent:!0}),S):(f?yield s(this,y,"f").features[r.SolanaSignIn].signIn(f):yield s(this,y,"f").features[a].connect(),yield yield s(this,y,"f").cachedAuthorizationResult)}catch(S){throw new t.WalletConnectionError(S instanceof Error&&S.message||"Unknown error",S)}})}disconnect(){return i(this,void 0,void 0,function*(){return yield s(this,m,"m",G).call(this,()=>i(this,void 0,void 0,function*(){o(this,b,!1),o(this,O,void 0),o(this,M,void 0),yield s(this,y,"f").features[l].disconnect(),this.emit("disconnect")}))})}signIn(f){return i(this,void 0,void 0,function*(){return s(this,m,"m",G).call(this,()=>i(this,void 0,void 0,function*(){var S;if(s(this,E,"f")!==t.WalletReadyState.Installed&&s(this,E,"f")!==t.WalletReadyState.Loadable)throw new t.WalletNotReadyError;o(this,b,!0);try{const K=yield s(this,y,"f").features[r.SolanaSignIn].signIn(Object.assign(Object.assign({},f),{domain:(S=f?.domain)!==null&&S!==void 0?S:window.location.host}));if(K.length>0)return K[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(K){throw new t.WalletConnectionError(K instanceof Error&&K.message||"Unknown error",K)}finally{o(this,b,!1)}}))})}signMessage(f){return i(this,void 0,void 0,function*(){return yield s(this,m,"m",G).call(this,()=>i(this,void 0,void 0,function*(){const S=s(this,m,"m",W).call(this);try{return(yield s(this,y,"f").features[r.SolanaSignMessage].signMessage({account:S,message:f}))[0].signature}catch(K){throw new t.WalletSignMessageError(K?.message,K)}}))})}sendTransaction(f,S,K){return i(this,void 0,void 0,function*(){return yield s(this,m,"m",G).call(this,()=>i(this,void 0,void 0,function*(){const D=s(this,m,"m",W).call(this);try{let J=function(){let ne;switch(S.commitment){case"confirmed":case"finalized":case"processed":ne=S.commitment;break;default:ne="finalized"}let ie;switch(K?.preflightCommitment){case"confirmed":case"finalized":case"processed":ie=K.preflightCommitment;break;case void 0:ie=ne;break;default:ie="finalized"}return(ie==="finalized"?2:ie==="confirmed"?1:0)<(ne==="finalized"?2:ne==="confirmed"?1:0)?ie:ne};if(r.SolanaSignAndSendTransaction in s(this,y,"f").features){const ne=j(s(this,y,"f").currentAuthorization.chain),[ie]=(yield s(this,y,"f").features[r.SolanaSignAndSendTransaction].signAndSendTransaction({account:D,transaction:f.serialize(),chain:ne,options:K?{skipPreflight:K.skipPreflight,maxRetries:K.maxRetries}:void 0})).map((ce=>c(ce.signature)));return ie}else{const[ne]=yield s(this,m,"m",H).call(this,[f]);if(U(ne))return yield S.sendTransaction(ne);{const ie=ne.serialize();return yield S.sendRawTransaction(ie,Object.assign(Object.assign({},K),{preflightCommitment:J()}))}}}catch(J){throw new t.WalletSendTransactionError(J?.message,J)}}))})}signTransaction(f){return i(this,void 0,void 0,function*(){return yield s(this,m,"m",G).call(this,()=>i(this,void 0,void 0,function*(){const[S]=yield s(this,m,"m",H).call(this,[f]);return S}))})}signAllTransactions(f){return i(this,void 0,void 0,function*(){return yield s(this,m,"m",G).call(this,()=>i(this,void 0,void 0,function*(){return yield s(this,m,"m",H).call(this,f)}))})}}y=new WeakMap,b=new WeakMap,E=new WeakMap,A=new WeakMap,M=new WeakMap,O=new WeakMap,P=new WeakMap,m=new WeakSet,z=function(f=!1){return i(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield s(this,m,"m",G).call(this,()=>i(this,void 0,void 0,function*(){if(s(this,E,"f")!==t.WalletReadyState.Installed&&s(this,E,"f")!==t.WalletReadyState.Loadable)throw new t.WalletNotReadyError;o(this,b,!0);try{yield s(this,y,"f").features[a].connect({silent:f})}catch(S){throw new t.WalletConnectionError(S instanceof Error&&S.message||"Unknown error",S)}finally{o(this,b,!1)}}))})},L=function(){s(this,E,"f")!==t.WalletReadyState.Installed&&this.emit("readyStateChange",o(this,E,t.WalletReadyState.Installed))},W=function(){if(!s(this,y,"f").isAuthorized||!s(this,M,"f"))throw new t.WalletNotConnectedError;return s(this,M,"f")},H=function(f){return i(this,void 0,void 0,function*(){const S=s(this,m,"m",W).call(this);try{if(r.SolanaSignTransaction in s(this,y,"f").features)return s(this,y,"f").features[r.SolanaSignTransaction].signTransaction(...f.map(K=>({account:S,transaction:K.serialize()}))).then(K=>K.map(D=>{const J=D.signedTransaction,ie=J[0]*F+1;return e.VersionedMessage.deserializeMessageVersion(J.slice(ie,J.length))==="legacy"?e.Transaction.from(J):e.VersionedTransaction.deserialize(J)}));throw new Error("Connected wallet does not support signing transactions")}catch(K){throw new t.WalletSignTransactionError(K?.message,K)}})},G=function(f){return i(this,void 0,void 0,function*(){try{return yield f()}catch(S){throw this.emit("error",S),S}})};class d extends _{constructor(f){var S;const K=j((S=f.chain)!==null&&S!==void 0?S:f.cluster);super(new n.LocalSolanaMobileWalletAdapterWallet({appIdentity:f.appIdentity,authorizationCache:{set:f.authorizationResultCache.set,get:()=>i(this,void 0,void 0,function*(){return yield f.authorizationResultCache.get()}),clear:f.authorizationResultCache.clear},chains:[K],chainSelector:n.createDefaultChainSelector(),onWalletNotFound:()=>i(this,void 0,void 0,function*(){f.onWalletNotFound(this)})}),{addressSelector:f.addressSelector,chain:K})}}class g extends _{constructor(f){const S=j(f.chain);super(new n.RemoteSolanaMobileWalletAdapterWallet({appIdentity:f.appIdentity,authorizationCache:{set:f.authorizationResultCache.set,get:()=>i(this,void 0,void 0,function*(){return yield f.authorizationResultCache.get()}),clear:f.authorizationResultCache.clear},chains:[S],chainSelector:n.createDefaultChainSelector(),remoteHostAuthority:f.remoteHostAuthority,onWalletNotFound:()=>i(this,void 0,void 0,function*(){f.onWalletNotFound(this)})}),{addressSelector:f.addressSelector,chain:S})}}class x extends d{}function C(){return{select(I){return i(this,void 0,void 0,function*(){return I[0]})}}}function k(){return n.createDefaultAuthorizationCache()}function T(I){return i(this,void 0,void 0,function*(){return n.defaultErrorModalWalletNotFoundHandler()})}function R(){return T}return Xu.LocalSolanaMobileWalletAdapter=d,Xu.RemoteSolanaMobileWalletAdapter=g,Xu.SolanaMobileWalletAdapter=x,Xu.SolanaMobileWalletAdapterWalletName=N,Xu.createDefaultAddressSelector=C,Xu.createDefaultAuthorizationResultCache=k,Xu.createDefaultWalletNotFoundHandler=R,Xu}var r0=Mvt();function Pvt(t){const e=jX(()=>new Set),{get:r,on:n}=jX(()=>u2t()),[i,s]=B.useState(()=>LX(r()));B.useEffect(()=>{const a=[n("register",(...l)=>s(u=>[...u,...LX(l)])),n("unregister",(...l)=>s(u=>u.filter(c=>l.some(h=>h===c.wallet))))];return()=>a.forEach(l=>l())},[n]);const o=Nvt(i);return B.useEffect(()=>{if(!o)return;const a=new Set(i);new Set(o.filter(u=>!a.has(u))).forEach(u=>u.destroy())},[o,i]),B.useEffect(()=>()=>i.forEach(a=>a.destroy()),[]),B.useMemo(()=>[...i,...t.filter(({name:a})=>i.some(l=>l.name===a)?(e.has(a)||(e.add(a),console.warn(`${a} was registered as a Standard Wallet. The Wallet Adapter for ${a} can be removed from your app.`)),!1):!0)],[i,t,e])}function jX(t){const e=B.useRef(void 0);return e.current===void 0&&(e.current={value:t()}),e.current.value}function Nvt(t){const e=B.useRef(void 0);return B.useEffect(()=>{e.current=t}),e.current}function LX(t){return t.filter(r2t).map(e=>new lge({wallet:e}))}var Oy;(function(t){t[t.DESKTOP_WEB=0]="DESKTOP_WEB",t[t.MOBILE_WEB=1]="MOBILE_WEB"})(Oy||(Oy={}));function Rvt(t){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(t)}function Ovt({adapters:t,userAgentString:e}){return t.some(r=>r.name!==r0.SolanaMobileWalletAdapterWalletName&&r.readyState===Yr.Installed)?Oy.DESKTOP_WEB:e&&/android/i.test(e)&&!Rvt(e)?Oy.MOBILE_WEB:Oy.DESKTOP_WEB}function jvt(t){return t?/devnet/i.test(t)?"devnet":/testnet/i.test(t)?"testnet":"mainnet-beta":"mainnet-beta"}function Lvt({children:t,wallets:e,adapter:r,isUnloadingRef:n,onAutoConnectRequest:i,onConnectError:s,onError:o,onSelectWallet:a}){const l=B.useRef(!1),[u,c]=B.useState(!1),h=B.useRef(!1),[m,y]=B.useState(!1),[b,E]=B.useState(()=>r?.publicKey??null),[A,M]=B.useState(()=>r?.connected??!1),O=B.useRef(o);B.useEffect(()=>(O.current=o,()=>{O.current=void 0}),[o]);const P=B.useRef((g,x)=>(n.current||(O.current?O.current(g,x):(console.error(g,x),g instanceof em&&typeof window<"u"&&x&&window.open(x.url,"_blank"))),g)),[z,L]=B.useState(()=>e.map(g=>({adapter:g,readyState:g.readyState})).filter(({readyState:g})=>g!==Yr.Unsupported));B.useEffect(()=>{L(x=>e.map((C,k)=>{const T=x[k];return T&&T.adapter===C&&T.readyState===C.readyState?T:{adapter:C,readyState:C.readyState}}).filter(({readyState:C})=>C!==Yr.Unsupported));function g(x){L(C=>{const k=C.findIndex(({adapter:R})=>R===this);if(k===-1)return C;const{adapter:T}=C[k];return[...C.slice(0,k),{adapter:T,readyState:x},...C.slice(k+1)].filter(({readyState:R})=>R!==Yr.Unsupported)})}return e.forEach(x=>x.on("readyStateChange",g,x)),()=>{e.forEach(x=>x.off("readyStateChange",g,x))}},[r,e]);const W=B.useMemo(()=>z.find(g=>g.adapter===r)??null,[r,z]);B.useEffect(()=>{if(!r)return;const g=k=>{E(k),l.current=!1,c(!1),M(!0),h.current=!1,y(!1)},x=()=>{n.current||(E(null),l.current=!1,c(!1),M(!1),h.current=!1,y(!1))},C=k=>{P.current(k,r)};return r.on("connect",g),r.on("disconnect",x),r.on("error",C),()=>{r.off("connect",g),r.off("disconnect",x),r.off("error",C),x()}},[r,n]);const H=B.useRef(!1);B.useEffect(()=>()=>{H.current=!1},[r]),B.useEffect(()=>{H.current||l.current||A||!i||!(W?.readyState===Yr.Installed||W?.readyState===Yr.Loadable)||(l.current=!0,c(!0),H.current=!0,(async function(){try{await i()}catch{s()}finally{c(!1),l.current=!1}})())},[A,i,s,W]);const G=B.useCallback(async(g,x,C)=>{if(!r)throw P.current(new DJ);if(!A)throw P.current(new Kn,r);return await r.sendTransaction(g,x,C)},[r,A]),N=B.useMemo(()=>r&&"signTransaction"in r?async g=>{if(!A)throw P.current(new Kn,r);return await r.signTransaction(g)}:void 0,[r,A]),F=B.useMemo(()=>r&&"signAllTransactions"in r?async g=>{if(!A)throw P.current(new Kn,r);return await r.signAllTransactions(g)}:void 0,[r,A]),U=B.useMemo(()=>r&&"signMessage"in r?async g=>{if(!A)throw P.current(new Kn,r);return await r.signMessage(g)}:void 0,[r,A]),j=B.useMemo(()=>r&&"signIn"in r?async g=>await r.signIn(g):void 0,[r]),_=B.useCallback(async()=>{if(l.current||h.current||W?.adapter.connected)return;if(!W)throw P.current(new DJ);const{adapter:g,readyState:x}=W;if(!(x===Yr.Installed||x===Yr.Loadable))throw P.current(new em,g);l.current=!0,c(!0);try{await g.connect()}catch(C){throw s(),C}finally{c(!1),l.current=!1}},[s,W]),d=B.useCallback(async()=>{if(!h.current&&r){h.current=!0,y(!0);try{await r.disconnect()}finally{y(!1),h.current=!1}}},[r]);return Re.createElement(fge.Provider,{value:{autoConnect:!!i,wallets:z,wallet:W,publicKey:b,connected:A,connecting:u,disconnecting:m,select:a,connect:_,disconnect:d,sendTransaction:G,signTransaction:N,signAllTransactions:F,signMessage:U,signIn:j}},t)}let m$;function Dvt(){return m$===void 0&&(m$=globalThis.navigator?.userAgent??null),m$}function DX(t){const e=Dvt();return Ovt({adapters:t,userAgentString:e})===Oy.MOBILE_WEB}function Bvt(){const t=globalThis.location;if(t)return`${t.protocol}//${t.host}`}function Uvt({children:t,wallets:e,autoConnect:r,localStorageKey:n="walletName",onError:i}){const{connection:s}=hge(),o=Pvt(e),a=B.useMemo(()=>{if(!DX(o))return null;const O=o.find(P=>P.name===r0.SolanaMobileWalletAdapterWalletName);return O||new r0.SolanaMobileWalletAdapter({addressSelector:r0.createDefaultAddressSelector(),appIdentity:{uri:Bvt()},authorizationResultCache:r0.createDefaultAuthorizationResultCache(),cluster:jvt(s?.rpcEndpoint),onWalletNotFound:r0.createDefaultWalletNotFoundHandler()})},[o,s?.rpcEndpoint]),l=B.useMemo(()=>a==null||o.indexOf(a)!==-1?o:[a,...o],[o,a]),[u,c]=b2t(n,null),h=B.useMemo(()=>l.find(O=>O.name===u)??null,[l,u]),m=B.useCallback(O=>{u!==O&&(h&&h.name!==r0.SolanaMobileWalletAdapterWalletName&&h.disconnect(),c(O))},[h,c,u]);B.useEffect(()=>{if(!h)return;function O(){E.current||c(null)}return h.on("disconnect",O),()=>{h.off("disconnect",O)}},[h,o,c,u]);const y=B.useRef(!1),b=B.useMemo(()=>{if(!(!r||!h))return async()=>{(r===!0||await r(h))&&(y.current?await h.connect():await h.autoConnect())}},[r,h]),E=B.useRef(!1);B.useEffect(()=>{if(u===r0.SolanaMobileWalletAdapterWalletName&&DX(o)){E.current=!1;return}function O(){E.current=!0}return window.addEventListener("beforeunload",O),()=>{window.removeEventListener("beforeunload",O)}},[o,u]);const A=B.useCallback(()=>{h&&m(null)},[h,m]),M=B.useCallback(O=>{y.current=!0,m(O)},[m]);return Re.createElement(Lvt,{wallets:l,adapter:h,isUnloadingRef:E,onAutoConnectRequest:b,onConnectError:A,onError:i,onSelectWallet:M},t)}const Lge={setVisible(t){console.error(Dge("call","setVisible"))},visible:!1};Object.defineProperty(Lge,"visible",{get(){return console.error(Dge("read","visible")),!1}});function Dge(t,e){return`You have tried to  ${t} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const Bge=B.createContext(Lge);function Uge(){return B.useContext(Bge)}function Fvt({onSelectWallet:t}){const{connect:e,connected:r,connecting:n,disconnect:i,disconnecting:s,publicKey:o,select:a,wallet:l,wallets:u}=KA();let c;n?c="connecting":r?c="connected":s?c="disconnecting":l?c="has-wallet":c="no-wallet";const h=B.useCallback(()=>{e().catch(()=>{})},[e]),m=B.useCallback(()=>{i().catch(()=>{})},[i]),y=B.useCallback(()=>{t({onSelectWallet:a,wallets:u})},[t,a,u]);return{buttonState:c,onConnect:c==="has-wallet"?h:void 0,onDisconnect:c!=="disconnecting"&&c!=="no-wallet"?m:void 0,onSelectWallet:y,publicKey:o??void 0,walletIcon:l?.adapter.icon,walletName:l?.adapter.name}}const Fge=t=>Re.createElement("button",{className:`wallet-adapter-button ${t.className||""}`,disabled:t.disabled,style:t.style,onClick:t.onClick,tabIndex:t.tabIndex||0,type:"button"},t.startIcon&&Re.createElement("i",{className:"wallet-adapter-button-start-icon"},t.startIcon),t.children,t.endIcon&&Re.createElement("i",{className:"wallet-adapter-button-end-icon"},t.endIcon)),zge=({wallet:t,...e})=>t&&Re.createElement("img",{src:t.adapter.icon,alt:`${t.adapter.name} icon`,...e});function zvt({walletIcon:t,walletName:e,...r}){return Re.createElement(Fge,{...r,className:"wallet-adapter-button-trigger",startIcon:t&&e?Re.createElement(zge,{wallet:{adapter:{icon:t,name:e}}}):void 0})}function Wvt({children:t,labels:e,...r}){const{setVisible:n}=Uge(),{buttonState:i,onConnect:s,onDisconnect:o,publicKey:a,walletIcon:l,walletName:u}=Fvt({onSelectWallet(){n(!0)}}),[c,h]=B.useState(!1),[m,y]=B.useState(!1),b=B.useRef(null);B.useEffect(()=>{const A=M=>{const O=b.current;!O||O.contains(M.target)||y(!1)};return document.addEventListener("mousedown",A),document.addEventListener("touchstart",A),()=>{document.removeEventListener("mousedown",A),document.removeEventListener("touchstart",A)}},[]);const E=B.useMemo(()=>{if(t)return t;if(a){const A=a.toBase58();return A.slice(0,4)+".."+A.slice(-4)}else return i==="connecting"||i==="has-wallet"?e[i]:e["no-wallet"]},[i,t,e,a]);return Re.createElement("div",{className:"wallet-adapter-dropdown"},Re.createElement(zvt,{...r,"aria-expanded":m,style:{pointerEvents:m?"none":"auto",...r.style},onClick:()=>{switch(i){case"no-wallet":n(!0);break;case"has-wallet":s&&s();break;case"connected":y(!0);break}},walletIcon:l,walletName:u},E),Re.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${m&&"wallet-adapter-dropdown-list-active"}`,ref:b,role:"menu"},a?Re.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(a.toBase58()),h(!0),setTimeout(()=>h(!1),400)},role:"menuitem"},c?e.copied:e["copy-address"]):null,Re.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{n(!0),y(!1)},role:"menuitem"},e["change-wallet"]),o?Re.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{o(),y(!1)},role:"menuitem"},e.disconnect):null))}const BX=({id:t,children:e,expanded:r=!1})=>{const n=B.useRef(null),i=B.useRef(!0),s="height 250ms ease-out",o=()=>{const l=n.current;l&&requestAnimationFrame(()=>{l.style.height=l.scrollHeight+"px"})},a=()=>{const l=n.current;l&&requestAnimationFrame(()=>{l.style.height=l.offsetHeight+"px",l.style.overflow="hidden",requestAnimationFrame(()=>{l.style.height="0"})})};return B.useLayoutEffect(()=>{r?o():a()},[r]),B.useLayoutEffect(()=>{const l=n.current;if(!l)return;function u(){l&&(l.style.overflow=r?"initial":"hidden",r&&(l.style.height="auto"))}function c(h){l&&h.target===l&&h.propertyName==="height"&&u()}return i.current&&(u(),i.current=!1),l.addEventListener("transitionend",c),()=>l.removeEventListener("transitionend",c)},[r]),Re.createElement("div",{className:"wallet-adapter-collapse",id:t,ref:n,role:"region",style:{height:0,transition:i.current?void 0:s}},e)},y$=({handleClick:t,tabIndex:e,wallet:r})=>Re.createElement("li",null,Re.createElement(Fge,{onClick:t,startIcon:Re.createElement(zge,{wallet:r}),tabIndex:e},r.adapter.name,r.readyState===Yr.Installed&&Re.createElement("span",null,"Detected"))),qvt=()=>Re.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Re.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),Re.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),Re.createElement("g",{clipPath:"url(#clip0_880_5115)"},Re.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),Re.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),Re.createElement("defs",null,Re.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},Re.createElement("stop",{stopColor:"#9945FF"}),Re.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Re.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Re.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Re.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Re.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Re.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},Re.createElement("stop",{stopColor:"#9945FF"}),Re.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Re.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Re.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Re.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Re.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Re.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},Re.createElement("stop",{stopColor:"#9945FF"}),Re.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Re.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Re.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Re.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Re.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Re.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},Re.createElement("stop",{stopColor:"#9945FF"}),Re.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Re.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Re.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Re.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Re.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Re.createElement("clipPath",{id:"clip0_880_5115"},Re.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),Hvt=({className:t="",container:e="body"})=>{const r=B.useRef(null),{wallets:n,select:i}=KA(),{setVisible:s}=Uge(),[o,a]=B.useState(!1),[l,u]=B.useState(!1),[c,h]=B.useState(null),[m,y]=B.useMemo(()=>{const P=[],z=[];for(const L of n)L.readyState===Yr.Installed?P.push(L):z.push(L);return P.length?[P,z]:[z,[]]},[n]),b=B.useCallback(()=>{u(!1),setTimeout(()=>s(!1),150)},[s]),E=B.useCallback(P=>{P.preventDefault(),b()},[b]),A=B.useCallback((P,z)=>{i(z),E(P)},[i,E]),M=B.useCallback(()=>a(!o),[o]),O=B.useCallback(P=>{const z=r.current;if(!z)return;const L=z.querySelectorAll("button"),W=L[0],H=L[L.length-1];P.shiftKey?document.activeElement===W&&(H.focus(),P.preventDefault()):document.activeElement===H&&(W.focus(),P.preventDefault())},[r]);return B.useLayoutEffect(()=>{const P=L=>{L.key==="Escape"?b():L.key==="Tab"&&O(L)},{overflow:z}=window.getComputedStyle(document.body);return setTimeout(()=>u(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",P,!1),()=>{document.body.style.overflow=z,window.removeEventListener("keydown",P,!1)}},[b,O]),B.useLayoutEffect(()=>h(document.querySelector(e)),[e]),c&&Id.createPortal(Re.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${l&&"wallet-adapter-modal-fade-in"} ${t}`,ref:r,role:"dialog"},Re.createElement("div",{className:"wallet-adapter-modal-container"},Re.createElement("div",{className:"wallet-adapter-modal-wrapper"},Re.createElement("button",{onClick:E,className:"wallet-adapter-modal-button-close"},Re.createElement("svg",{width:"14",height:"14"},Re.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),m.length?Re.createElement(Re.Fragment,null,Re.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),Re.createElement("ul",{className:"wallet-adapter-modal-list"},m.map(P=>Re.createElement(y$,{key:P.adapter.name,handleClick:z=>A(z,P.adapter.name),wallet:P})),y.length?Re.createElement(BX,{expanded:o,id:"wallet-adapter-modal-collapse"},y.map(P=>Re.createElement(y$,{key:P.adapter.name,handleClick:z=>A(z,P.adapter.name),tabIndex:o?0:-1,wallet:P}))):null),y.length?Re.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:M,tabIndex:0},Re.createElement("span",null,o?"Less ":"More ","options"),Re.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},Re.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):Re.createElement(Re.Fragment,null,Re.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),Re.createElement("div",{className:"wallet-adapter-modal-middle"},Re.createElement(qvt,null)),y.length?Re.createElement(Re.Fragment,null,Re.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:M,tabIndex:0},Re.createElement("span",null,o?"Hide ":"Already have a wallet? View ","options"),Re.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},Re.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),Re.createElement(BX,{expanded:o,id:"wallet-adapter-modal-collapse"},Re.createElement("ul",{className:"wallet-adapter-modal-list"},y.map(P=>Re.createElement(y$,{key:P.adapter.name,handleClick:z=>A(z,P.adapter.name),tabIndex:o?0:-1,wallet:P}))))):null))),Re.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:E})),c)},Vvt=({children:t,...e})=>{const[r,n]=B.useState(!1);return Re.createElement(Bge.Provider,{value:{visible:r,setVisible:n}},t,r&&Re.createElement(Hvt,{...e}))},Kvt={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function Gvt(t){return Re.createElement(Wvt,{...t,labels:Kvt})}const Yvt={},Wge=(t,e)=>{Yvt[t]=e},YA=t=>{class e extends Error{cause;constructor(n,i,s){if(super(n||t,s),Object.setPrototypeOf(this,e.prototype),this.name=t,i)for(const o in i)this[o]=i[o];if(s&&Zvt(s)&&"cause"in s&&!this.cause){const o=s.cause;this.cause=o,"stack"in o&&(this.stack=this.stack+`
CAUSE: `+o.stack)}}}return e};function Zvt(t){return typeof t=="object"}const w4t=YA("DisconnectedDevice"),v4t=YA("DisconnectedDeviceDuringOperation"),b4t=YA("TransportOpenUserCancelled"),x4t=YA("TransportRaceCondition");var UX;(function(t){t.Unknown="Unknown",t.LocationServicesDisabled="LocationServicesDisabled",t.LocationServicesUnauthorized="LocationServicesUnauthorized",t.BluetoothScanStartFailed="BluetoothScanStartFailed"})(UX||(UX={}));class Qvt extends Error{id;constructor(e,r){const n="TransportError";super(e||n),this.name=n,this.message=e,this.stack=new Error(e).stack,this.id=r}}Wge("TransportError",t=>new Qvt(t.message,t.id));const e3={ACCESS_CONDITION_NOT_FULFILLED:38916,ALGORITHM_NOT_SUPPORTED:38020,CLA_NOT_SUPPORTED:28160,CODE_BLOCKED:38976,CODE_NOT_INITIALIZED:38914,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,CONDITIONS_OF_USE_NOT_SATISFIED:27013,CONTRADICTION_INVALIDATION:38928,CONTRADICTION_SECRET_CODE_STATUS:38920,DEVICE_IN_RECOVERY_MODE:26159,CUSTOM_IMAGE_EMPTY:26158,FILE_ALREADY_EXISTS:27273,FILE_NOT_FOUND:37892,GP_AUTH_FAILED:25344,HALTED:28586,INCONSISTENT_FILE:37896,INCORRECT_DATA:27264,INCORRECT_LENGTH:26368,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,DEVICE_NOT_ONBOARDED:27911,DEVICE_NOT_ONBOARDED_2:26129,INVALID_KCV:38021,INVALID_OFFSET:37890,LICENSING:28482,LOCKED_DEVICE:21781,MAX_VALUE_REACHED:38992,MEMORY_PROBLEM:37440,MISSING_CRITICAL_PARAMETER:26624,NO_EF_SELECTED:37888,NOT_ENOUGH_MEMORY_SPACE:27268,OK:36864,PIN_REMAINING_ATTEMPTS:25536,REFERENCED_DATA_NOT_FOUND:27272,SECURITY_STATUS_NOT_SATISFIED:27010,TECHNICAL_PROBLEM:28416,UNKNOWN_APDU:27906,USER_REFUSED_ON_DEVICE:21761,NOT_ENOUGH_SPACE:20738,APP_NOT_FOUND_OR_INVALID_CONTEXT:20771,INVALID_APP_NAME_LENGTH:26378,GEN_AES_KEY_FAILED:21529,INTERNAL_CRYPTO_OPERATION_FAILED:21530,INTERNAL_COMPUTE_AES_CMAC_FAILED:21531,ENCRYPT_APP_STORAGE_FAILED:21532,INVALID_BACKUP_STATE:26178,PIN_NOT_SET:21762,INVALID_BACKUP_LENGTH:26419,INVALID_RESTORE_STATE:26179,INVALID_CHUNK_LENGTH:26420,INVALID_BACKUP_HEADER:26698,TRUSTCHAIN_WRONG_SEED:45063};function Jvt(t){switch(t){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received";case 21781:return"Locked device"}if(28416<=t&&t<=28671)return"Internal error, please report"}class y6 extends Error{statusCode;statusText;constructor(e,{canBeMappedToChildError:r=!0}={}){const n=Object.keys(e3).find(a=>e3[a]===e)||"UNKNOWN_ERROR",i=Jvt(e)||n,s=e.toString(16),o=`Ledger device: ${i} (0x${s})`;if(super(o),this.name="TransportStatusError",this.statusCode=e,this.statusText=n,Object.setPrototypeOf(this,y6.prototype),r&&e===e3.LOCKED_DEVICE)return new BD(o)}}class BD extends y6{constructor(e){super(e3.LOCKED_DEVICE,{canBeMappedToChildError:!1}),e&&(this.message=e),this.name="LockedDeviceError",Object.setPrototypeOf(this,BD.prototype)}}Wge("TransportStatusError",t=>new y6(t.statusCode));let qge=0;const y0=[],E4t=(t,e,r)=>{const n={type:t,id:String(++qge),date:new Date};e&&(n.message=e),Hge(n)},Xvt=({type:t,message:e,data:r,context:n})=>{const i={type:t,id:String(++qge),date:new Date};e&&(i.message=e),r&&(i.data=r),n&&(i.context=n),Hge(i)};class R8{type;context;constructor(e,r){this.type=e,this.context=r}trace(e,r){Xvt({type:this.type,message:e,data:r,context:this.context})}getContext(){return this.context}setContext(e){this.context=e}updateContext(e){this.context={...this.context,...e}}getType(){return this.type}setType(e){this.type=e}withType(e){return new R8(e,this.context)}withContext(e){return new R8(this.type,e)}withUpdatedContext(e){return new R8(this.type,{...this.context,...e})}}const ebt=t=>(y0.push(t),()=>{const e=y0.indexOf(t);e!==-1&&(y0[e]=y0[y0.length-1],y0.pop())});function Hge(t){for(let e=0;e<y0.length;e++)try{y0[e](t)}catch(r){console.error(r)}}typeof window<"u"&&(window.__ledgerLogsListen=ebt);function tbt(t,e){const n=kt.alloc(17);let i=n.writeUInt8(4,0);return i=n.writeUInt32BE(Ox(44),i),i=n.writeUInt32BE(Ox(501),i),i=n.writeUInt32BE(Ox(t),i),n.writeUInt32BE(Ox(e),i),n}const rbt=1<<31>>>0;function Ox(t){return(t|rbt)>>>0}const nbt=5,ibt=6,sbt=0,obt=1,abt=1,lbt=2,jx=255,FX=224;async function cbt(t,e){const r=await Vge(t,nbt,sbt,e);return new It(r)}async function ubt(t,e,r){const n=kt.alloc(1);n.writeUInt8(1,0);const i=iu(e)?e.message.serialize():e.serializeMessage(),s=kt.concat([n,r,i]);return await Vge(t,ibt,obt,s)}async function Vge(t,e,r,n){let i=0,s=0;if(n.length>jx)for(;n.length-s>jx;){const l=n.slice(s,s+jx);if((await t.send(FX,e,r,i|lbt,l)).length!==2)throw new y6(e3.INCORRECT_DATA);i|=abt,s+=jx}const o=n.slice(s),a=await t.send(FX,e,r,i,o);return a.slice(0,a.length-2)}const dbt="Ledger";class hbt extends ige{constructor(e={}){super(),this.name=dbt,this.url="https://ledger.com",this.icon="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMzUgMzUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI2ZmZiI+PHBhdGggZD0ibTIzLjU4OCAwaC0xNnYyMS41ODNoMjEuNnYtMTZhNS41ODUgNS41ODUgMCAwIDAgLTUuNi01LjU4M3oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUuNzM5KSIvPjxwYXRoIGQ9Im04LjM0MiAwaC0yLjc1N2E1LjU4NSA1LjU4NSAwIDAgMCAtNS41ODUgNS41ODV2Mi43NTdoOC4zNDJ6Ii8+PHBhdGggZD0ibTAgNy41OWg4LjM0MnY4LjM0MmgtOC4zNDJ6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDUuNzM5KSIvPjxwYXRoIGQ9Im0xNS4xOCAyMy40NTFoMi43NTdhNS41ODUgNS41ODUgMCAwIDAgNS41ODUtNS42di0yLjY3MWgtOC4zNDJ6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMS40NzggMTEuNDc4KSIvPjxwYXRoIGQ9Im03LjU5IDE1LjE4aDguMzQydjguMzQyaC04LjM0MnoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUuNzM5IDExLjQ3OCkiLz48cGF0aCBkPSJtMCAxNS4xOHYyLjc1N2E1LjU4NSA1LjU4NSAwIDAgMCA1LjU4NSA1LjU4NWgyLjc1N3YtOC4zNDJ6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDExLjQ3OCkiLz48L2c+PC9zdmc+",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"||typeof navigator>"u"||!navigator.hid?Yr.Unsupported:Yr.Loadable,this._disconnected=()=>{const r=this._transport;r&&(r.off("disconnect",this._disconnected),this._transport=null,this._publicKey=null,this.emit("error",new zA),this.emit("disconnect"))},this._derivationPath=e.derivationPath||tbt(0,0),this._connecting=!1,this._transport=null,this._publicKey=null}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Yr.Loadable)throw new em;this._connecting=!0;let e;try{e=(await Da(async()=>{const{default:i}=await import("./TransportWebHID-BN8f9nPD.js");return{default:i}},[])).default}catch(i){throw new ND(i?.message,i)}let r;try{r=await e.create()}catch(i){throw new yw(i?.message,i)}let n;try{n=await cbt(r,this._derivationPath)}catch(i){throw new tm(i?.message,i)}r.on("disconnect",this._disconnected),this._transport=r,this._publicKey=n,this.emit("connect",n)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._transport;if(e){e.off("disconnect",this._disconnected),this._transport=null,this._publicKey=null;try{await e.close()}catch(r){this.emit("error",new m6(r?.message,r))}}this.emit("disconnect")}async signTransaction(e){try{const r=this._transport,n=this._publicKey;if(!r||!n)throw new Kn;try{const i=await ubt(r,e,this._derivationPath);e.addSignature(n,i)}catch(i){throw new bl(i?.message,i)}return e}catch(r){throw this.emit("error",r),r}}}const fbt="Phantom";class pbt extends qA{constructor(e={}){super(),this.name=fbt,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?Yr.Unsupported:Yr.NotDetected,this._disconnected=()=>{const r=this._wallet;r&&(r.off("disconnect",this._disconnected),r.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new zA),this.emit("disconnect"))},this._accountChanged=r=>{const n=this._publicKey;if(n){try{r=new It(r.toBytes())}catch(i){this.emit("error",new tm(i?.message,i));return}n.equals(r)||(this._publicKey=r,this.emit("connect",r))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==Yr.Unsupported&&(uR()?(this._readyState=Yr.Loadable,this.emit("readyStateChange",this._readyState)):nge(()=>window.phantom?.solana?.isPhantom||window.solana?.isPhantom?(this._readyState=Yr.Installed,this.emit("readyStateChange",this._readyState),!0):!1))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===Yr.Installed&&await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this.readyState===Yr.Loadable){const n=encodeURIComponent(window.location.href),i=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${n}?ref=${i}`;return}if(this.readyState!==Yr.Installed)throw new em;this._connecting=!0;const e=window.phantom?.solana||window.solana;if(!e.isConnected)try{await e.connect()}catch(n){throw new yw(n?.message,n)}if(!e.publicKey)throw new $0;let r;try{r=new It(e.publicKey.toBytes())}catch(n){throw new tm(n?.message,n)}e.on("disconnect",this._disconnected),e.on("accountChanged",this._accountChanged),this._wallet=e,this._publicKey=r,this.emit("connect",r)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(r){this.emit("error",new m6(r?.message,r))}}this.emit("disconnect")}async sendTransaction(e,r,n={}){try{const i=this._wallet;if(!i)throw new Kn;try{const{signers:s,...o}=n;iu(e)?s?.length&&e.sign(s):(e=await this.prepareTransaction(e,r,o),s?.length&&e.partialSign(...s)),o.preflightCommitment=o.preflightCommitment||r.commitment;const{signature:a}=await i.signAndSendTransaction(e,o);return a}catch(s){throw s instanceof hs?s:new Ih(s?.message,s)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const r=this._wallet;if(!r)throw new Kn;try{return await r.signTransaction(e)||e}catch(n){throw new bl(n?.message,n)}}catch(r){throw this.emit("error",r),r}}async signAllTransactions(e){try{const r=this._wallet;if(!r)throw new Kn;try{return await r.signAllTransactions(e)||e}catch(n){throw new bl(n?.message,n)}}catch(r){throw this.emit("error",r),r}}async signMessage(e){try{const r=this._wallet;if(!r)throw new Kn;try{const{signature:n}=await r.signMessage(e);return n}catch(n){throw new WA(n?.message,n)}}catch(r){throw this.emit("error",r),r}}}const gbt="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMxIiB2aWV3Qm94PSIwIDAgMzEgMzEiIHdpZHRoPSIzMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIwLjI1IiB4Mj0iMjYuNTcxIiB5MT0iMjcuMTczIiB5Mj0iMTkuODU4Ij48c3RvcCBvZmZzZXQ9Ii4wOCIgc3RvcC1jb2xvcj0iIzk5NDVmZiIvPjxzdG9wIG9mZnNldD0iLjMiIHN0b3AtY29sb3I9IiM4NzUyZjMiLz48c3RvcCBvZmZzZXQ9Ii41IiBzdG9wLWNvbG9yPSIjNTQ5N2Q1Ii8+PHN0b3Agb2Zmc2V0PSIuNiIgc3RvcC1jb2xvcj0iIzQzYjRjYSIvPjxzdG9wIG9mZnNldD0iLjcyIiBzdG9wLWNvbG9yPSIjMjhlMGI5Ii8+PHN0b3Agb2Zmc2V0PSIuOTciIHN0b3AtY29sb3I9IiMxOWZiOWIiLz48L2xpbmVhckdyYWRpZW50PjxnIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iLjA5NCI+PHBhdGggZD0ibTI2LjEwOSAzLjY0My05LjM2OSA2Ljk1OSAxLjczMy00LjEwNSA3LjYzNy0yLjg1M3oiIGZpbGw9IiNlMjc2MWIiIHN0cm9rZT0iI2UyNzYxYiIvPjxnIGZpbGw9IiNlNDc2MWIiIHN0cm9rZT0iI2U0NzYxYiI+PHBhdGggZD0ibTQuNDgxIDMuNjQzIDkuMjk0IDcuMDI0LTEuNjQ4LTQuMTcxem0xOC4yNTggMTYuMTMtMi40OTUgMy44MjMgNS4zMzkgMS40NjkgMS41MzUtNS4yMDctNC4zNzgtLjA4NXptLTE5LjI0Ny4wODUgMS41MjUgNS4yMDcgNS4zMzktMS40NjktMi40OTUtMy44MjN6Ii8+PHBhdGggZD0ibTEwLjA1NSAxMy4zMTMtMS40ODggMi4yNTEgNS4zMDEuMjM1LS4xODgtNS42OTd6bTEwLjQ4IDAtMy42NzItMy4yNzctLjEyMiA1Ljc2MyA1LjI5Mi0uMjM1LTEuNDk3LTIuMjUxem0tMTAuMTc4IDEwLjI4MyAzLjE4My0xLjU1NC0yLjc0OS0yLjE0Ny0uNDMzIDMuNzAxem02LjY5NS0xLjU1NCAzLjE5MiAxLjU1NC0uNDQzLTMuNzAxeiIvPjwvZz48cGF0aCBkPSJtMjAuMjQ0IDIzLjU5Ni0zLjE5Mi0xLjU1NC4yNTQgMi4wODEtLjAyOC44NzZ6bS05Ljg4NyAwIDIuOTY2IDEuNDAzLS4wMTktLjg3Ni4yMzUtMi4wODEtMy4xODMgMS41NTR6IiBmaWxsPSIjZDdjMWIzIiBzdHJva2U9IiNkN2MxYjMiLz48cGF0aCBkPSJtMTMuMzY5IDE4LjUyMS0yLjY1NS0uNzgxIDEuODc0LS44NTd6bTMuODUxIDAgLjc4MS0xLjYzOCAxLjg4My44NTctMi42NjUuNzgxeiIgZmlsbD0iIzIzMzQ0NyIgc3Ryb2tlPSIjMjMzNDQ3Ii8+PHBhdGggZD0ibTEwLjM1NyAyMy41OTYuNDUyLTMuODIzLTIuOTQ3LjA4NXptOS40MzUtMy44MjMuNDUyIDMuODIzIDIuNDk1LTMuNzM4em0yLjI0MS00LjIwOS01LjI5Mi4yMzUuNDkgMi43MjEuNzgyLTEuNjM4IDEuODgzLjg1N3ptLTExLjMxOCAyLjE3NSAxLjg4My0uODU3Ljc3MiAxLjYzOC40OTktMi43MjEtNS4zMDEtLjIzNXoiIGZpbGw9IiNjZDYxMTYiIHN0cm9rZT0iI2NkNjExNiIvPjxwYXRoIGQ9Im04LjU2NyAxNS41NjQgMi4yMjIgNC4zMzEtLjA3NS0yLjE1NnptMTEuMzI4IDIuMTc1LS4wOTQgMi4xNTYgMi4yMzItNC4zMzEtMi4xMzcgMi4xNzV6bS02LjAyNi0xLjk0LS40OTkgMi43MjEuNjIxIDMuMjExLjE0MS00LjIyOC0uMjY0LTEuNzA0em0yLjg3MiAwLS4yNTQgMS42OTUuMTEzIDQuMjM3LjYzMS0zLjIxMXoiIGZpbGw9IiNlNDc1MWYiIHN0cm9rZT0iI2U0NzUxZiIvPjxwYXRoIGQ9Im0xNy4yMyAxOC41Mi0uNjMxIDMuMjExLjQ1Mi4zMTEgMi43NS0yLjE0Ny4wOTQtMi4xNTZ6bS02LjUxNi0uNzgxLjA3NSAyLjE1NiAyLjc1IDIuMTQ3LjQ1Mi0uMzExLS42MjItMy4yMTF6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48cGF0aCBkPSJtMTcuMjc3IDI0Ljk5OS4wMjgtLjg3Ni0uMjM1LS4yMDdoLTMuNTVsLS4yMTcuMjA3LjAxOS44NzYtMi45NjYtMS40MDMgMS4wMzYuODQ4IDIuMSAxLjQ1OWgzLjYwNmwyLjEwOS0xLjQ1OSAxLjAzNi0uODQ4eiIgZmlsbD0iI2MwYWQ5ZSIgc3Ryb2tlPSIjYzBhZDllIi8+PHBhdGggZD0ibTE3LjA1MSAyMi4wNDItLjQ1Mi0uMzExaC0yLjYwOGwtLjQ1Mi4zMTEtLjIzNSAyLjA4MS4yMTctLjIwN2gzLjU1bC4yMzUuMjA3LS4yNTQtMi4wODF6IiBmaWxsPSIjMTYxNjE2IiBzdHJva2U9IiMxNjE2MTYiLz48cGF0aCBkPSJtMjYuNTA1IDExLjA1My44LTMuODQyLTEuMTk2LTMuNTY5LTkuMDU4IDYuNzIzIDMuNDg0IDIuOTQ3IDQuOTI1IDEuNDQxIDEuMDkyLTEuMjcxLS40NzEtLjMzOS43NTMtLjY4Ny0uNTg0LS40NTIuNzUzLS41NzQtLjQ5OS0uMzc3em0tMjMuMjExLTMuODQxLjggMy44NDItLjUwOC4zNzcuNzUzLjU3NC0uNTc0LjQ1Mi43NTMuNjg3LS40NzEuMzM5IDEuMDgzIDEuMjcxIDQuOTI1LTEuNDQxIDMuNDg0LTIuOTQ3LTkuMDU5LTYuNzIzeiIgZmlsbD0iIzc2M2QxNiIgc3Ryb2tlPSIjNzYzZDE2Ii8+PHBhdGggZD0ibTI1LjQ2IDE0Ljc1NC00LjkyNS0xLjQ0MSAxLjQ5NyAyLjI1MS0yLjIzMiA0LjMzMSAyLjkzOC0uMDM4aDQuMzc4bC0xLjY1Ny01LjEwNHptLTE1LjQwNS0xLjQ0MS00LjkyNSAxLjQ0MS0xLjYzOCA1LjEwNGg0LjM2OWwyLjkyOC4wMzgtMi4yMjItNC4zMzEgMS40ODgtMi4yNTF6bTYuNjg1IDIuNDg2LjMxMS01LjQzMyAxLjQzMS0zLjg3aC02LjM1NmwxLjQxMyAzLjg3LjMyOSA1LjQzMy4xMTMgMS43MTQuMDA5IDQuMjE5aDIuNjFsLjAxOS00LjIxOS4xMjItMS43MTR6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48L2c+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIGZpbGw9IiMwMDAiIHI9IjYuNSIvPjxwYXRoIGQ9Im0yNy40NzMgMjUuNTQ1LTEuMzEgMS4zNjhjLS4wMjkuMDMtLjA2My4wNTMtLjEwMS4wN2EuMzEuMzEgMCAwIDEgLS4xMjEuMDI0aC02LjIwOWMtLjAzIDAtLjA1OS0uMDA4LS4wODMtLjAyNGEuMTUuMTUgMCAwIDEgLS4wNTYtLjA2NWMtLjAxMi0uMDI2LS4wMTUtLjA1Ni0uMDEtLjA4NHMuMDE4LS4wNTUuMDM5LS4wNzZsMS4zMTEtMS4zNjhjLjAyOC0uMDMuMDYzLS4wNTMuMTAxLS4wNjlhLjMxLjMxIDAgMCAxIC4xMjEtLjAyNWg2LjIwOGMuMDMgMCAuMDU5LjAwOC4wODMuMDI0YS4xNS4xNSAwIDAgMSAuMDU2LjA2NWMuMDEyLjAyNi4wMTUuMDU2LjAxLjA4NHMtLjAxOC4wNTUtLjAzOS4wNzZ6bS0xLjMxLTIuNzU2Yy0uMDI5LS4wMy0uMDYzLS4wNTMtLjEwMS0uMDdhLjMxLjMxIDAgMCAwIC0uMTIxLS4wMjRoLTYuMjA5Yy0uMDMgMC0uMDU5LjAwOC0uMDgzLjAyNHMtLjA0NC4wMzgtLjA1Ni4wNjUtLjAxNS4wNTYtLjAxLjA4NC4wMTguMDU1LjAzOS4wNzZsMS4zMTEgMS4zNjhjLjAyOC4wMy4wNjMuMDUzLjEwMS4wNjlhLjMxLjMxIDAgMCAwIC4xMjEuMDI1aDYuMjA4Yy4wMyAwIC4wNTktLjAwOC4wODMtLjAyNGEuMTUuMTUgMCAwIDAgLjA1Ni0uMDY1Yy4wMTItLjAyNi4wMTUtLjA1Ni4wMS0uMDg0cy0uMDE4LS4wNTUtLjAzOS0uMDc2em0tNi40MzEtLjk4M2g2LjIwOWEuMzEuMzEgMCAwIDAgLjEyMS0uMDI0Yy4wMzgtLjAxNi4wNzMtLjA0LjEwMS0uMDdsMS4zMS0xLjM2OGMuMDItLjAyMS4wMzQtLjA0Ny4wMzktLjA3NnMuMDAxLS4wNTgtLjAxLS4wODRhLjE1LjE1IDAgMCAwIC0uMDU2LS4wNjVjLS4wMjUtLjAxNi0uMDU0LS4wMjQtLjA4My0uMDI0aC02LjIwOGEuMzEuMzEgMCAwIDAgLS4xMjEuMDI1Yy0uMDM4LjAxNi0uMDcyLjA0LS4xMDEuMDY5bC0xLjMxIDEuMzY4Yy0uMDIuMDIxLS4wMzQuMDQ3LS4wMzkuMDc2cy0uMDAxLjA1OC4wMS4wODQuMDMxLjA0OS4wNTYuMDY1LjA1NC4wMjQuMDgzLjAyNHoiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4=";var Rn=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},mbt=function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},O8,Eg,bR,xR,ER,Co,_R,Kge,Gge,AR,SR,CR,kR,IR;class ybt{constructor(){O8.add(this),Eg.set(this,{}),bR.set(this,"1.0.0"),xR.set(this,"MetaMask"),ER.set(this,gbt),Co.set(this,null),_R.set(this,(e,r)=>(Rn(this,Eg,"f")[e]?.push(r)||(Rn(this,Eg,"f")[e]=[r]),()=>Rn(this,O8,"m",Gge).call(this,e,r))),AR.set(this,async()=>{if(!Rn(this,Co,"f")){let e;try{e=(await Da(async()=>{const{default:r}=await import("./index-C6vAzPkq.js");return{default:r}},[])).default}catch{throw new Error("Unable to load Solflare MetaMask SDK")}mbt(this,Co,new e,"f"),Rn(this,Co,"f").on("standard_change",r=>Rn(this,O8,"m",Kge).call(this,"change",r))}return this.accounts.length||await Rn(this,Co,"f").connect(),{accounts:this.accounts}}),SR.set(this,async()=>{Rn(this,Co,"f")&&await Rn(this,Co,"f").disconnect()}),CR.set(this,async(...e)=>{if(!Rn(this,Co,"f"))throw new Kn;return await Rn(this,Co,"f").standardSignAndSendTransaction(...e)}),kR.set(this,async(...e)=>{if(!Rn(this,Co,"f"))throw new Kn;return await Rn(this,Co,"f").standardSignTransaction(...e)}),IR.set(this,async(...e)=>{if(!Rn(this,Co,"f"))throw new Kn;return await Rn(this,Co,"f").standardSignMessage(...e)})}get version(){return Rn(this,bR,"f")}get name(){return Rn(this,xR,"f")}get icon(){return Rn(this,ER,"f")}get chains(){return[hR,sge,oge]}get features(){return{[UA]:{version:"1.0.0",connect:Rn(this,AR,"f")},[cR]:{version:"1.0.0",disconnect:Rn(this,SR,"f")},[FA]:{version:"1.0.0",on:Rn(this,_R,"f")},[wd]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:Rn(this,CR,"f")},[ss]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:Rn(this,kR,"f")},[ey]:{version:"1.0.0",signMessage:Rn(this,IR,"f")}}}get accounts(){return Rn(this,Co,"f")?Rn(this,Co,"f").standardAccounts:[]}}Eg=new WeakMap,bR=new WeakMap,xR=new WeakMap,ER=new WeakMap,Co=new WeakMap,_R=new WeakMap,AR=new WeakMap,SR=new WeakMap,CR=new WeakMap,kR=new WeakMap,IR=new WeakMap,O8=new WeakSet,Kge=function(e,...r){Rn(this,Eg,"f")[e]?.forEach(n=>n.apply(null,r))},Gge=function(e,r){Rn(this,Eg,"f")[e]=Rn(this,Eg,"f")[e]?.filter(n=>r!==n)};let zX=!1;function wbt(){zX||(Xwt(new ybt),zX=!0)}async function vbt(){const t="solflare-detect-metamask";function e(){window.postMessage({target:"metamask-contentscript",data:{name:"metamask-provider",data:{id:t,jsonrpc:"2.0",method:"wallet_getSnaps"}}},window.location.origin)}function r(n){const i=n.data;i?.target==="metamask-inpage"&&i.data?.name==="metamask-provider"&&(i.data.data?.id===t?(window.removeEventListener("message",r),i.data.data.error||wbt()):e())}window.addEventListener("message",r),window.setTimeout(()=>window.removeEventListener("message",r),5e3),e()}const bbt="Solflare";class xbt extends qA{constructor(e={}){super(),this.name=bbt,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGlkPSJTIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MCA1MCI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiMwMjA1MGE7c3Ryb2tlOiNmZmVmNDY7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLXdpZHRoOi41cHg7fS5jbHMtMntmaWxsOiNmZmVmNDY7fTwvc3R5bGU+PC9kZWZzPjxyZWN0IGNsYXNzPSJjbHMtMiIgeD0iMCIgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIiByeD0iMTIiIHJ5PSIxMiIvPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTI0LjIzLDI2LjQybDIuNDYtMi4zOCw0LjU5LDEuNWMzLjAxLDEsNC41MSwyLjg0LDQuNTEsNS40MywwLDEuOTYtLjc1LDMuMjYtMi4yNSw0LjkzbC0uNDYuNS4xNy0xLjE3Yy42Ny00LjI2LS41OC02LjA5LTQuNzItNy40M2wtNC4zLTEuMzhoMFpNMTguMDUsMTEuODVsMTIuNTIsNC4xNy0yLjcxLDIuNTktNi41MS0yLjE3Yy0yLjI1LS43NS0zLjAxLTEuOTYtMy4zLTQuNTF2LS4wOGgwWk0xNy4zLDMzLjA2bDIuODQtMi43MSw1LjM0LDEuNzVjMi44LjkyLDMuNzYsMi4xMywzLjQ2LDUuMThsLTExLjY1LTQuMjJoMFpNMTMuNzEsMjAuOTVjMC0uNzkuNDItMS41NCwxLjEzLTIuMTcuNzUsMS4wOSwyLjA1LDIuMDUsNC4wOSwyLjcxbDQuNDIsMS40Ni0yLjQ2LDIuMzgtNC4zNC0xLjQyYy0yLS42Ny0yLjg0LTEuNjctMi44NC0yLjk2TTI2LjgyLDQyLjg3YzkuMTgtNi4wOSwxNC4xMS0xMC4yMywxNC4xMS0xNS4zMiwwLTMuMzgtMi01LjI2LTYuNDMtNi43MmwtMy4zNC0xLjEzLDkuMTQtOC43Ny0xLjg0LTEuOTYtMi43MSwyLjM4LTEyLjgxLTQuMjJjLTMuOTcsMS4yOS04Ljk3LDUuMDktOC45Nyw4Ljg5LDAsLjQyLjA0LjgzLjE3LDEuMjktMy4zLDEuODgtNC42MywzLjYzLTQuNjMsNS44LDAsMi4wNSwxLjA5LDQuMDksNC41NSw1LjIybDIuNzUuOTItOS41Miw5LjE0LDEuODQsMS45NiwyLjk2LTIuNzEsMTQuNzMsNS4yMmgwWiIvPjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?Yr.Unsupported:Yr.Loadable,this._disconnected=()=>{const r=this._wallet;r&&(r.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new zA),this.emit("disconnect"))},this._accountChanged=r=>{if(!r)return;const n=this._publicKey;if(n){try{r=new It(r.toBytes())}catch(i){this.emit("error",new tm(i?.message,i));return}n.equals(r)||(this._publicKey=r,this.emit("connect",r))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=e,this._readyState!==Yr.Unsupported&&(nge(()=>window.solflare?.isSolflare||window.SolflareApp?(this._readyState=Yr.Installed,this.emit("readyStateChange",this._readyState),!0):!1),vbt())}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){return!!this._wallet?.connected}get readyState(){return this._readyState}async autoConnect(){this.readyState===Yr.Loadable&&uR()||await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Yr.Loadable&&this._readyState!==Yr.Installed)throw new em;if(this.readyState===Yr.Loadable&&uR()){const i=encodeURIComponent(window.location.href),s=encodeURIComponent(window.location.origin);window.location.href=`https://solflare.com/ul/v1/browse/${i}?ref=${s}`;return}let e;try{e=(await Da(async()=>{const{default:i}=await import("./index-DfgSbz0L.js");return{default:i}},[])).default}catch(i){throw new ND(i?.message,i)}let r;try{r=new e({network:this._config.network})}catch(i){throw new vg(i?.message,i)}if(this._connecting=!0,!r.connected)try{await r.connect()}catch(i){throw new yw(i?.message,i)}if(!r.publicKey)throw new yw;let n;try{n=new It(r.publicKey.toBytes())}catch(i){throw new tm(i?.message,i)}r.on("disconnect",this._disconnected),r.on("accountChanged",this._accountChanged),this._wallet=r,this._publicKey=n,this.emit("connect",n)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(r){this.emit("error",new m6(r?.message,r))}}this.emit("disconnect")}async sendTransaction(e,r,n={}){try{const i=this._wallet;if(!i)throw new Kn;try{const{signers:s,...o}=n;return iu(e)?s?.length&&e.sign(s):(e=await this.prepareTransaction(e,r,o),s?.length&&e.partialSign(...s)),o.preflightCommitment=o.preflightCommitment||r.commitment,await i.signAndSendTransaction(e,o)}catch(s){throw s instanceof hs?s:new Ih(s?.message,s)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const r=this._wallet;if(!r)throw new Kn;try{return await r.signTransaction(e)||e}catch(n){throw new bl(n?.message,n)}}catch(r){throw this.emit("error",r),r}}async signAllTransactions(e){try{const r=this._wallet;if(!r)throw new Kn;try{return await r.signAllTransactions(e)||e}catch(n){throw new bl(n?.message,n)}}catch(r){throw this.emit("error",r),r}}async signMessage(e){try{const r=this._wallet;if(!r)throw new Kn;try{return await r.signMessage(e,"utf8")}catch(n){throw new WA(n?.message,n)}}catch(r){throw this.emit("error",r),r}}}const Ebt="Torus";class _bt extends qA{constructor({params:e={showTorusButton:!1}}={params:{showTorusButton:!1}}){super(),this.name=Ebt,this.url="https://tor.us",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzMiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMyAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTYuNSIgY3k9IjE2IiByPSIxNiIgZmlsbD0iIzAzNjRGRiIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTExLjIxODYgOS40OTIxOUMxMC40NTM5IDkuNDkyMTkgOS44MzM5OCAxMC4xMTIxIDkuODMzOTggMTAuODc2OFYxMi40ODk4QzkuODMzOTggMTMuMjU0NSAxMC40NTM5IDEzLjg3NDQgMTEuMjE4NiAxMy44NzQ0SDEzLjY2ODRWMjIuODk3NkMxMy42Njg0IDIzLjY2MjMgMTQuMjg4MyAyNC4yODIyIDE1LjA1MyAyNC4yODIySDE2LjY2NkMxNy40MzA3IDI0LjI4MjIgMTguMDUwNiAyMy42NjIzIDE4LjA1MDYgMjIuODk3NlYxMi41MDE1QzE4LjA1MDYgMTIuNDk3NiAxOC4wNTA2IDEyLjQ5MzcgMTguMDUwNiAxMi40ODk4VjEwLjg3NjhDMTguMDUwNiAxMC4xMTIxIDE3LjQzMDcgOS40OTIxOSAxNi42NjYgOS40OTIxOUgxNS4wNTNIMTEuMjE4NloiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0yMS4zMzc2IDEzLjg3NDRDMjIuNTQ3NyAxMy44NzQ0IDIzLjUyODcgMTIuODkzNCAyMy41Mjg3IDExLjY4MzNDMjMuNTI4NyAxMC40NzMyIDIyLjU0NzcgOS40OTIxOSAyMS4zMzc2IDkuNDkyMTlDMjAuMTI3NSA5LjQ5MjE5IDE5LjE0NjUgMTAuNDczMiAxOS4xNDY1IDExLjY4MzNDMTkuMTQ2NSAxMi44OTM0IDIwLjEyNzUgMTMuODc0NCAyMS4zMzc2IDEzLjg3NDRaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K",this.supportedTransactionVersions=null,this._readyState=typeof window>"u"||typeof document>"u"?Yr.Unsupported:Yr.Loadable,this._connecting=!1,this._wallet=null,this._publicKey=null,this._params=e}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){return!!this._wallet?.isLoggedIn}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Yr.Loadable)throw new em;this._connecting=!0;let e;try{e=(await Da(async()=>{const{default:s}=await import("./solanaEmbed.esm-CM0GbEfO.js");return{default:s}},[])).default}catch(s){throw new ND(s?.message,s)}let r;try{r=window.torus||new e}catch(s){throw new vg(s?.message,s)}if(!r.isInitialized)try{await r.init(this._params)}catch(s){throw new yw(s?.message,s)}let n;try{n=await r.login()}catch(s){throw new $0(s?.message,s)}let i;try{i=new It(n[0])}catch(s){throw new tm(s?.message,s)}this._wallet=r,this._publicKey=i,this.emit("connect",i)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){this._wallet=null,this._publicKey=null;try{e.isLoggedIn&&await e.cleanUp()}catch(r){this.emit("error",new m6(r?.message,r))}}this.emit("disconnect")}async sendTransaction(e,r,n={}){try{const i=this._wallet;if(!i)throw new Kn;try{const{signers:s,...o}=n;e=await this.prepareTransaction(e,r,o),s?.length&&e.partialSign(...s),o.preflightCommitment=o.preflightCommitment||r.commitment;const{signature:a}=await i.signAndSendTransaction(e,o);return a}catch(s){throw s instanceof hs?s:new Ih(s?.message,s)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const r=this._wallet;if(!r)throw new Kn;try{return await r.signTransaction(e)||e}catch(n){throw new bl(n?.message,n)}}catch(r){throw this.emit("error",r),r}}async signAllTransactions(e){try{const r=this._wallet;if(!r)throw new Kn;try{return await r.signAllTransactions(e)||e}catch(n){throw new bl(n?.message,n)}}catch(r){throw this.emit("error",r),r}}async signMessage(e){try{const r=this._wallet;if(!r)throw new Kn;try{return await r.signMessage(e)}catch(n){throw new WA(n?.message,n)}}catch(r){throw this.emit("error",r),r}}}const Abt="Burner Wallet";class Sbt extends Hwt{constructor(){super(),this.name=Abt,this.url="https://github.com/anza-xyz/wallet-adapter#usage",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzQiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zNCAxMC42djIuN2wtOS41IDE2LjVoLTQuNmw2LTEwLjVhMi4xIDIuMSAwIDEgMCAyLTMuNGw0LjgtOC4zYTQgNCAwIDAgMSAxLjMgM1ptLTQuMyAxOS4xaC0uNmw0LjktOC40djQuMmMwIDIuMy0yIDQuMy00LjMgNC4zWm0yLTI4LjRjLS4zLS44LTEtMS4zLTItMS4zaC0xLjlsLTIuNCA0LjNIMzBsMS43LTNabS0zIDVoLTQuNkwxMC42IDI5LjhoNC43TDI4LjggNi40Wk0xOC43IDBoNC42bC0yLjUgNC4zaC00LjZMMTguNiAwWk0xNSA2LjRoNC42TDYgMjkuOEg0LjJjLS44IDAtMS43LS4zLTIuNC0uOEwxNSA2LjRaTTE0IDBIOS40TDcgNC4zaDQuNkwxNCAwWm0tMy42IDYuNEg1LjdMMCAxNi4ydjhMMTAuMyA2LjRaTTQuMyAwaC40TDAgOC4ydi00QzAgMiAxLjkgMCA0LjMgMFoiIGZpbGw9IiM5OTQ1RkYiLz48L3N2Zz4=",this.supportedTransactionVersions=new Set(["legacy",0]),this._keypair=null,console.warn("Your application is presently configured to use the `UnsafeBurnerWalletAdapter`. Find and remove it, then replace it with a list of adapters for wallets you would like your application to support. See https://github.com/anza-xyz/wallet-adapter#usage for an example.")}get connecting(){return!1}get publicKey(){return this._keypair&&this._keypair.publicKey}get readyState(){return Yr.Loadable}async connect(){this._keypair=new U0,this.emit("connect",this._keypair.publicKey)}async disconnect(){this._keypair=null,this.emit("disconnect")}async signTransaction(e){if(!this._keypair)throw new Kn;return iu(e)?e.sign([this._keypair]):e.partialSign(this._keypair),e}async signMessage(e){if(!this._keypair)throw new Kn;return Cd.sign(e,this._keypair.secretKey.slice(0,32))}async signIn(e={}){const{publicKey:r,secretKey:n}=this._keypair||(this._keypair=new U0),i=e.domain||window.location.host,s=e.address||r.toBase58(),o=Zwt({...e,domain:i,address:s}),a=Cd.sign(o,n.slice(0,32));return this.emit("connect",r),{account:{address:s,publicKey:r.toBytes(),chains:[],features:[]},signedMessage:o,signature:a}}}const Cbt=({children:t})=>{const e=dR.Devnet,r=B.useMemo(()=>ege(e),[e]),n=B.useMemo(()=>[new pbt,new xbt,new _bt,new hbt,new Sbt],[]);return w.jsx(w2t,{endpoint:r,children:w.jsx(Uvt,{wallets:n,autoConnect:!0,children:w.jsx(Vvt,{children:t})})})},kbt=({children:t})=>w.jsx(amt,{appId:"cmfifan3a00a1jv0b4wry18zn",config:{loginMethods:["email","google","twitter","apple"],appearance:{theme:"light",accentColor:"#7c3aed",logo:void 0,showWalletLoginFirst:!1,walletChainType:"solana-only"},embeddedWallets:{createOnLogin:"users-without-wallets",requireUserPasswordOnCreate:!1,showWalletUIs:!0},externalWallets:{solana:{connectors:d2t()}},mfa:{noPromptOnMfaRequired:!1},legal:{termsAndConditionsUrl:void 0,privacyPolicyUrl:void 0}},children:w.jsx(Cbt,{children:t})}),Ibt=()=>{const{connection:t}=hge(),{publicKey:e,sendTransaction:r}=KA(),[n,i]=B.useState(""),[s,o]=B.useState(""),[a,l]=B.useState(!1),[u,c]=B.useState(""),[h,m]=B.useState(""),y=async()=>{if(!e){m("Please connect your wallet first");return}if(!n||!s){m("Please enter recipient address and amount");return}l(!0),m(""),c("");try{const b=new It(n),E=parseFloat(s)*tge,A=new cn().add(as.transfer({fromPubkey:e,toPubkey:b,lamports:E})),{context:{slot:M},value:{blockhash:O,lastValidBlockHeight:P}}=await t.getLatestBlockhashAndContext();A.recentBlockhash=O,A.feePayer=e;const z=await r(A,t,{minContextSlot:M});await t.confirmTransaction({blockhash:O,lastValidBlockHeight:P,signature:z}),c(z),i(""),o("")}catch(b){console.error("Transfer failed:",b),m(b.message||"Transfer failed")}finally{l(!1)}};return w.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 max-w-md mx-auto",children:[w.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-900",children:"Transfer SOL"}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recipient Address"}),w.jsx("input",{type:"text",value:n,onChange:b=>i(b.target.value),placeholder:"Enter Solana address",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent outline-none",disabled:a})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount (SOL)"}),w.jsx("input",{type:"number",value:s,onChange:b=>o(b.target.value),placeholder:"0.0",step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent outline-none",disabled:a})]}),h&&w.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:h}),u&&w.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg",children:[w.jsx("p",{className:"font-medium",children:"Transfer successful!"}),w.jsxs("p",{className:"text-sm mt-1",children:["Transaction:"," ",w.jsxs("a",{href:`https://explorer.solana.com/tx/${u}?cluster=devnet`,target:"_blank",rel:"noopener noreferrer",className:"underline",children:[u.slice(0,8),"...",u.slice(-8)]})]})]}),w.jsx("button",{onClick:y,disabled:a||!e,className:`w-full py-3 px-4 rounded-lg font-medium transition-colors ${a||!e?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-purple-600 text-white hover:bg-purple-700"}`,children:a?"Processing...":"Send SOL"}),!e&&w.jsx("p",{className:"text-center text-sm text-gray-500",children:"Connect your wallet to send SOL"})]})]})},Tbt=({isOpen:t,onClose:e})=>{const[r,n]=B.useState(""),[i,s]=B.useState(!1),[o,a]=B.useState("login"),[l,u]=B.useState(""),{loading:c,initOAuth:h}=umt(),{sendCode:m,loginWithCode:y}=dmt(),b=async O=>{try{s(!0),await h({provider:O})}catch(P){console.error(`${O} login failed:`,P)}finally{s(!1)}},E=async()=>{if(r)try{s(!0),await m({email:r}),a("email-code")}catch(O){console.error("Email login failed:",O)}finally{s(!1)}},A=async()=>{if(l)try{s(!0),await y({code:l}),e()}catch(O){console.error("Email code verification failed:",O)}finally{s(!1)}},M=()=>{a("login"),u("")};return t?w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:w.jsxs("div",{className:"bg-white rounded-xl p-8 max-w-md w-full mx-4 shadow-2xl",children:[w.jsxs("div",{className:"flex items-center justify-between mb-6",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:o==="login"?"Login with Email or Social":"Enter Verification Code"}),w.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 transition-colors",children:w.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o==="login"?w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),w.jsx("input",{type:"email",id:"email",value:r,onChange:O=>n(O.target.value),placeholder:"Enter your email",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition-colors",disabled:i}),w.jsx("button",{onClick:E,disabled:!r||i,className:"w-full mt-2 px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:i?"Sending...":"Continue with Email"})]}),w.jsxs("div",{className:"flex items-center my-6",children:[w.jsx("div",{className:"flex-1 border-t border-gray-300"}),w.jsx("span",{className:"mx-4 text-sm text-gray-500 font-medium",children:"OR"}),w.jsx("div",{className:"flex-1 border-t border-gray-300"})]}),w.jsxs("div",{className:"space-y-3",children:[w.jsxs("button",{onClick:()=>b("google"),disabled:i||c,className:"w-full flex items-center justify-center px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:[w.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[w.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),w.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),w.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),w.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),w.jsxs("button",{onClick:()=>b("twitter"),disabled:i||c,className:"w-full flex items-center justify-center px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:[w.jsx("svg",{className:"w-5 h-5 mr-3",fill:"#1DA1F2",viewBox:"0 0 24 24",children:w.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})}),"Continue with Twitter"]}),w.jsxs("button",{onClick:()=>b("apple"),disabled:i||c,className:"w-full flex items-center justify-center px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:[w.jsx("svg",{className:"w-5 h-5 mr-3",fill:"#000000",viewBox:"0 0 24 24",children:w.jsx("path",{d:"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"})}),"Continue with Apple"]})]})]}):w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{children:[w.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["We've sent a verification code to ",w.jsx("strong",{children:r})]}),w.jsx("label",{htmlFor:"emailCode",className:"block text-sm font-medium text-gray-700 mb-2",children:"Verification Code"}),w.jsx("input",{type:"text",id:"emailCode",value:l,onChange:O=>u(O.target.value),placeholder:"Enter 6-digit code",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition-colors text-center text-2xl tracking-widest",disabled:i,maxLength:6})]}),w.jsxs("div",{className:"flex space-x-3",children:[w.jsx("button",{onClick:M,disabled:i,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:"Back"}),w.jsx("button",{onClick:A,disabled:!l||i,className:"flex-1 px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:i?"Verifying...":"Verify"})]})]})]})}):null},$bt=()=>{try{return!!window.phantom?.solana?.isPhantom}catch(t){return console.log("Phantom detection error:",t),!1}},Mbt=()=>{try{return!!window.solflare}catch(t){return console.log("Solflare detection error:",t),!1}},Pbt=()=>{try{return!!window.backpack}catch(t){return console.log("Backpack detection error:",t),!1}},Nbt=()=>{try{return!!window.glow}catch(t){return console.log("Glow detection error:",t),!1}},Rbt=()=>[{name:"Phantom",walletClientType:"phantom",description:"Connect with Phantom wallet",isAvailable:$bt(),icon:`data:image/svg+xml;base64,${btoa(`
      <svg width="108" height="108" viewBox="0 0 108 108" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="108" height="108" rx="26" fill="url(#paint0_linear_107_46)"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M54 84C71.6731 84 86 69.6731 86 52C86 34.3269 71.6731 20 54 20C36.3269 20 22 34.3269 22 52C22 69.6731 36.3269 84 54 84ZM45.75 45.75C47.4069 45.75 48.75 44.4069 48.75 42.75C48.75 41.0931 47.4069 39.75 45.75 39.75C44.0931 39.75 42.75 41.0931 42.75 42.75C42.75 44.4069 44.0931 45.75 45.75 45.75ZM65.25 42.75C65.25 44.4069 63.9069 45.75 62.25 45.75C60.5931 45.75 59.25 44.4069 59.25 42.75C59.25 41.0931 60.5931 39.75 62.25 39.75C63.9069 39.75 65.25 41.0931 65.25 42.75ZM42 60C42 58.5 43 58 44.5 58H63.5C65 58 66 58.5 66 60C66 61.5 65 62 63.5 62H44.5C43 62 42 61.5 42 60Z" fill="white"/>
        <defs>
          <linearGradient id="paint0_linear_107_46" x1="54" y1="0" x2="54" y2="108" gradientUnits="userSpaceOnUse">
            <stop stop-color="#534BB1"/>
            <stop offset="1" stop-color="#551BF9"/>
          </linearGradient>
        </defs>
      </svg>
    `)}`},{name:"Solflare",walletClientType:"solflare",description:"Connect with Solflare wallet",isAvailable:Mbt(),icon:`data:image/svg+xml;base64,${btoa(`
      <svg width="108" height="108" viewBox="0 0 108 108" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="108" height="108" rx="26" fill="url(#paint0_linear_solflare)"/>
        <path d="M54 20C36.3 20 22 34.3 22 52s14.3 32 32 32 32-14.3 32-32S71.7 20 54 20zm0 58c-14.4 0-26-11.6-26-26s11.6-26 26-26 26 11.6 26 26-11.6 26-26 26z" fill="black"/>
        <circle cx="54" cy="52" r="20" fill="url(#paint1_radial_solflare)"/>
        <defs>
          <linearGradient id="paint0_linear_solflare" x1="54" y1="0" x2="54" y2="108" gradientUnits="userSpaceOnUse">
            <stop stop-color="#000000"/>
            <stop offset="1" stop-color="#2D2D2D"/>
          </linearGradient>
          <radialGradient id="paint1_radial_solflare" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(54 52) scale(20)">
            <stop stop-color="#FFD700"/>
            <stop offset="1" stop-color="#FFA500"/>
          </radialGradient>
        </defs>
      </svg>
    `)}`},{name:"Backpack",walletClientType:"backpack",description:"Connect with Backpack wallet",isAvailable:Pbt(),icon:`data:image/svg+xml;base64,${btoa(`
      <svg width="108" height="108" viewBox="0 0 108 108" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="108" height="108" rx="26" fill="url(#paint0_linear_backpack)"/>
        <path d="M54 20C36.3 20 22 34.3 22 52s14.3 32 32 32 32-14.3 32-32S71.7 20 54 20zm12 46H42v-8h24v8zm0-16H42v-8h24v8z" fill="white"/>
        <defs>
          <linearGradient id="paint0_linear_backpack" x1="54" y1="0" x2="54" y2="108" gradientUnits="userSpaceOnUse">
            <stop stop-color="#E33E3E"/>
            <stop offset="1" stop-color="#B91C1C"/>
          </linearGradient>
        </defs>
      </svg>
    `)}`},{name:"Glow",walletClientType:"glow",description:"Connect with Glow wallet",isAvailable:Nbt(),icon:`data:image/svg+xml;base64,${btoa(`
      <svg width="108" height="108" viewBox="0 0 108 108" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="108" height="108" rx="26" fill="url(#paint0_linear_glow)"/>
        <circle cx="54" cy="52" r="24" fill="url(#paint1_radial_glow)"/>
        <circle cx="54" cy="52" r="16" fill="url(#paint2_radial_glow)"/>
        <circle cx="54" cy="52" r="8" fill="white"/>
        <defs>
          <linearGradient id="paint0_linear_glow" x1="54" y1="0" x2="54" y2="108" gradientUnits="userSpaceOnUse">
            <stop stop-color="#3B82F6"/>
            <stop offset="1" stop-color="#1E40AF"/>
          </linearGradient>
          <radialGradient id="paint1_radial_glow" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(54 52) scale(24)">
            <stop stop-color="#60A5FA" stop-opacity="0.8"/>
            <stop offset="1" stop-color="#3B82F6" stop-opacity="0.2"/>
          </radialGradient>
          <radialGradient id="paint2_radial_glow" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(54 52) scale(16)">
            <stop stop-color="#BFDBFE"/>
            <stop offset="1" stop-color="#60A5FA"/>
          </radialGradient>
        </defs>
      </svg>
    `)}`}],Obt=({isOpen:t,onClose:e,onConnected:r})=>{const{ready:n}=Tm(),{connectWallet:i}=cmt({onSuccess:({wallet:A})=>{console.log("✅ Privy external wallet connected:",A);try{r?.(A)}catch(M){console.warn("onConnected callback error:",M)}h("Connected successfully!"),a(!1),setTimeout(()=>{e(),h("")},800)},onError:A=>{console.error("❌ Privy connectWallet failed with code:",A),u("Failed to connect wallet. Please try again."),h(""),a(!1)}}),{wallets:s}=Ld(),[o,a]=B.useState(!1),[l,u]=B.useState(""),[c,h]=B.useState(""),[m,y]=B.useState([]);B.useEffect(()=>{if(t){const A=Rbt();y(A),console.log("🔍 Wallet Detection Results:",A.map(M=>({name:M.name,available:M.isAvailable})))}},[t]);const b=async A=>{a(!0),u(""),h(`Connecting ${A.name}...`);try{if(console.log(`🚀 Attempting to connect ${A.name} via Privy external wallet...`),!n)throw new Error("Privy is not ready yet. Please try again in a moment.");if(!A.isAvailable)throw new Error(`${A.name} wallet is not installed. Please install the ${A.name} extension first.`);console.log(`📞 Calling Privy connectWallet with walletList filter: ${A.walletClientType}`),i({walletChainType:"solana-only",walletList:[A.walletClientType]})}catch(M){console.error(`❌ ${A.name} connection failed:`,M),u(M.message||`Failed to connect ${A.name}. Please try again.`),h("")}finally{a(!1)}},E=A=>{const M={Phantom:"https://phantom.app/",Solflare:"https://solflare.com/",Backpack:"https://www.backpack.app/",Glow:"https://glow.app/"};M[A]&&window.open(M[A],"_blank")};return t?w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:w.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4 shadow-2xl",children:[w.jsxs("div",{className:"flex items-center justify-between mb-6",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Connect External Wallet"}),w.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 transition-colors",disabled:o,children:w.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c&&w.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:w.jsxs("div",{className:"flex items-center",children:[w.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),w.jsx("span",{className:"text-sm text-blue-800",children:c})]})}),l&&w.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:w.jsxs("div",{className:"flex items-start",children:[w.jsx("svg",{className:"w-5 h-5 text-red-500 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),w.jsx("span",{className:"text-sm text-red-800",children:l})]})}),w.jsx("div",{className:"space-y-3",children:m.map(A=>w.jsx("div",{className:"relative",children:w.jsxs("button",{onClick:()=>A.isAvailable?b(A):E(A.name),disabled:o,className:`w-full flex items-center px-4 py-4 rounded-lg border-2 transition-all duration-200 ${A.isAvailable?"border-gray-200 hover:border-purple-300 hover:bg-purple-50 cursor-pointer":"border-gray-200 bg-gray-50 cursor-pointer hover:bg-gray-100"} ${o?"opacity-50 cursor-not-allowed":""}`,children:[w.jsx("div",{className:"flex-shrink-0 w-12 h-12 mr-4",children:w.jsx("img",{src:A.icon,alt:`${A.name} icon`,className:"w-full h-full object-contain rounded-lg",onError:M=>{M.target.src=`data:image/svg+xml;base64,${btoa(`
                        <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <rect width="48" height="48" rx="8" fill="#7C3AED"/>
                          <path d="M24 12C18.4772 12 14 16.4772 14 22C14 27.5228 18.4772 32 24 32C29.5228 32 34 27.5228 34 22C34 16.4772 29.5228 12 24 12ZM24 28C20.6863 28 18 25.3137 18 22C18 18.6863 20.6863 16 24 16C27.3137 16 30 18.6863 30 22C30 25.3137 27.3137 28 24 28Z" fill="white"/>
                          <path d="M24 36H12C10.8954 36 10 35.1046 10 34V30C10 28.8954 10.8954 28 12 28H36C37.1046 28 38 28.8954 38 30V34C38 35.1046 37.1046 36 36 36H24Z" fill="white"/>
                        </svg>
                      `)}`}})}),w.jsxs("div",{className:"flex-1 text-left",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("span",{className:"font-medium text-gray-900",children:A.name}),w.jsxs("div",{className:"flex items-center gap-2",children:[A.isAvailable?w.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[w.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-1"}),"Available"]}):w.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600",children:"Install"}),w.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"via Privy"})]})]}),w.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[A.description,!A.isAvailable&&" - Click to install"]})]}),w.jsx("svg",{className:"w-5 h-5 text-gray-400 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})},A.name))}),w.jsx("div",{className:"mt-6 p-4 bg-purple-50 rounded-lg",children:w.jsxs("div",{className:"flex items-start",children:[w.jsx("svg",{className:"w-5 h-5 text-purple-600 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),w.jsxs("div",{className:"text-sm text-purple-800",children:[w.jsx("p",{className:"font-medium",children:"External Wallet Connection"}),w.jsx("p",{className:"mt-1",children:"These wallets connect through Privy but you maintain full control of your private keys. Your wallet will open for transaction signing when needed."})]})]})})]})}):null},jbt=()=>{const{ready:t}=Tm(),{wallets:e}=Ld(),{logout:r}=ape(),[n,i]=B.useState(!1),[s,o]=B.useState(!1),[a,l]=B.useState(!1),[u,c]=B.useState(!1),[h,m]=B.useState(),[y,b]=B.useState(),E=B.useMemo(()=>e.find(G=>(G?.type==="solana"||G?.chainType==="solana")&&G?.address),[e]),A=h||E?.address;y||E?.meta?.name||E?.walletClientType;const M=!!A;B.useEffect(()=>{E?.address&&(m(E.address),b(E?.meta?.name||E?.walletClientType))},[E]);const O=()=>o(!0),P=()=>{i(!0),o(!1)},z=()=>{l(!0),o(!1)},L=()=>{i(!1),o(!1),l(!1)},W=G=>G?`${G.slice(0,4)}...${G.slice(-4)}`:"",H=async()=>{c(!0);try{try{await E?.disconnect?.()}catch{}try{Object.keys(localStorage).forEach(N=>{N.startsWith("privy:")&&localStorage.removeItem(N)}),localStorage.removeItem("@solana/wallet-adapter-base:walletName")}catch{}try{sessionStorage.clear()}catch{}await r(),m(void 0),b(void 0)}finally{c(!1)}};return w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"fixed top-4 right-4 z-40",children:M?w.jsxs("div",{className:"flex items-center gap-3 bg-white rounded-lg shadow-lg px-4 py-2.5 border border-gray-200",children:[w.jsx("span",{className:"text-sm font-mono text-gray-700",children:W(A)}),w.jsx("button",{onClick:H,disabled:u,className:`px-4 py-2 rounded-lg font-medium text-sm transition-all duration-200 ${u?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-red-500 text-white hover:bg-red-600"}`,children:u?"Disconnecting...":"Disconnect"})]}):w.jsx("button",{onClick:O,disabled:!t,className:`px-6 py-3 rounded-lg font-medium shadow-lg transition-all duration-200 ${t?"bg-purple-600 text-white hover:bg-purple-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Connect"})}),s&&w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:w.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4 shadow-2xl",children:[w.jsxs("div",{className:"flex items-center justify-between mb-6",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Connect Wallet"}),w.jsx("button",{onClick:L,className:"text-gray-500 hover:text-gray-700 transition-colors",children:w.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("button",{onClick:P,className:"w-full flex items-center justify-center px-6 py-4 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all duration-200 font-medium shadow-lg",children:[w.jsx("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Login with Email or Social"]}),w.jsxs("div",{className:"flex items-center my-4",children:[w.jsx("div",{className:"flex-1 border-t border-gray-300"}),w.jsx("span",{className:"mx-4 text-sm text-gray-500 font-medium",children:"OR"}),w.jsx("div",{className:"flex-1 border-t border-gray-300"})]}),w.jsx("div",{className:"space-y-3",children:w.jsxs("button",{onClick:z,className:"w-full flex items-center justify-center px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 hover:border-purple-300 transition-all duration-200 font-medium group",children:[w.jsx("div",{className:"flex items-center justify-center w-8 h-8 mr-3 rounded-lg bg-gradient-to-br from-purple-100 to-purple-200 group-hover:from-purple-200 group-hover:to-purple-300 transition-all",children:w.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),"Connect External Wallet",w.jsx("svg",{className:"w-4 h-4 ml-2 text-gray-400 group-hover:text-purple-500 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})}),w.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"Supports Phantom, Solflare, Backpack, and Glow wallets"})]})]})}),w.jsx(Tbt,{isOpen:n,onClose:L}),w.jsx(Obt,{isOpen:a,onClose:L,onConnected:G=>{m(G?.address),b(G?.meta?.name||G?.walletClientType||"Wallet")}})]})};class Lbt extends Re.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("App crashed:",e,r)}render(){return this.state.hasError?w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-6",children:w.jsxs("div",{className:"max-w-xl w-full bg-white rounded-xl shadow p-6 text-center",children:[w.jsx("h1",{className:"text-xl font-semibold text-red-600 mb-2",children:"Something went wrong"}),w.jsx("p",{className:"text-sm text-gray-600 break-all",children:String(this.state.error)})]})}):this.props.children}}function Dbt(){const{connected:t}=KA(),{authenticated:e}=Tm(),r=t||e;return w.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50",children:[w.jsx(jbt,{}),w.jsxs("div",{className:"container mx-auto px-4 py-16",children:[w.jsxs("div",{className:"text-center mb-12",children:[w.jsx("h1",{className:"text-5xl font-bold text-gray-900 mb-4",children:"Solana DApp"}),w.jsx("p",{className:"text-xl text-gray-600",children:"Connect your wallet and start transferring SOL"})]}),r?w.jsxs("div",{className:"max-w-4xl mx-auto",children:[w.jsx(Ibt,{}),w.jsxs("div",{className:"mt-8 bg-white rounded-xl shadow-lg p-6",children:[w.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-900",children:"Network Information"}),w.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[w.jsxs("div",{children:[w.jsx("span",{className:"text-gray-500",children:"Network:"}),w.jsx("span",{className:"ml-2 font-medium text-gray-900",children:"Devnet"})]}),w.jsxs("div",{children:[w.jsx("span",{className:"text-gray-500",children:"Status:"}),w.jsx("span",{className:"ml-2 font-medium text-green-600",children:"Connected"})]})]})]})]}):w.jsx("div",{className:"max-w-2xl mx-auto text-center",children:w.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12",children:[w.jsx("svg",{className:"w-24 h-24 mx-auto mb-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),w.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-900",children:"Connect Your Wallet"}),w.jsx("p",{className:"text-gray-600 mb-8",children:"Connect your Solana wallet or login with social media to access all features of this DApp."}),w.jsx(Gvt,{className:"!px-8 !py-3 !bg-purple-600 !text-white !rounded-lg hover:!bg-purple-700 !transition-colors !font-medium"})]})})]})]})}function Bbt(){return w.jsx(Lbt,{children:w.jsx(kbt,{children:w.jsx(Dbt,{})})})}const Ubt=M1e.createRoot(document.getElementById("root"));Ubt.render(w.jsx(Re.StrictMode,{children:w.jsx(Bbt,{})}));export{Wh as $,rwe as A,awe as B,Ba as C,Bwe as D,ku as E,eve as F,B$ as G,xte as H,F0 as I,Al as J,lm as K,y_ as L,Bi as M,Ha as N,ixe as O,Rre as P,Cw as Q,YR as R,Uh as S,c5t as T,Qbt as U,gve as V,ls as W,zh as X,kw as Y,xre as Z,Bn as _,Fee as a,Jl as a$,qh as a0,ra as a1,Ly as a2,$ee as a3,Ple as a4,Qze as a5,Jze as a6,rK as a7,Mte as a8,By as a9,kt as aA,dP as aB,sae as aC,Pl as aD,j9 as aE,TWe as aF,oa as aG,Lze as aH,hWe as aI,Ya as aJ,hd as aK,ym as aL,Y5 as aM,Ec as aN,EKe as aO,nL as aP,V9 as aQ,n5 as aR,Aj as aS,kV as aT,Kae as aU,jBe as aV,Vh as aW,Hg as aX,I0 as aY,H9 as aZ,od as a_,_s as aa,yxe as ab,_g as ac,$h as ad,qee as ae,Si as af,Bye as ag,_w as ah,a3t as ai,cu as aj,S5 as ak,UR as al,Ys as am,Abe as an,jre as ao,c3 as ap,wy as aq,ty as ar,j$ as as,pi as at,mm as au,_E as av,Tt as aw,kl as ax,NUe as ay,vOe as az,lee as b,Pg as b0,Da as b1,Lw as b2,sd as b3,Iu as b4,ds as b5,It as b6,cn as b7,y5 as b8,bpe as b9,rm as ba,Tw as bb,uOe as bc,R8 as bd,e3 as be,Qvt as bf,y6 as bg,x4t as bh,b4t as bi,E4t as bj,v4t as bk,w4t as bl,qR as bm,k_ as bn,cve as bo,C_ as bp,mb as bq,wd as br,ss as bs,ey as bt,ahe as bu,OR as bv,Ew as c,ywe as d,t3t as e,nm as f,xw as g,uu as h,za as i,IM as j,_q as k,oi as l,Eb as m,dr as n,oc as o,vw as p,Cve as q,Gs as r,jy as s,pr as t,eM as u,pu as v,ree as w,ft as x,Ake as y,C5 as z};
